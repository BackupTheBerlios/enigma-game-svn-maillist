From andreasl at mail.berlios.de  Wed Apr  1 01:47:02 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Wed, 1 Apr 2009 01:47:02 +0200
Subject: [Enigma-game-svn] r1607 - in feature_branches/hp_lotm: images/lotm
	input input/lotm
Message-ID: <200903312347.n2VNl2Z8012463@sheep.berlios.de>

Author: andreasl
Date: 2009-04-01 01:46:56 +0200 (Wed, 01 Apr 2009)
New Revision: 1607

Added:
   feature_branches/hp_lotm/images/lotm/lotm_200904_a.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_b.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_c.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_d.png
   feature_branches/hp_lotm/input/lotm/lotm_200904.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
Modified:
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
   feature_branches/hp_lotm/input/output-files.lua
Log:
LotM Feature branch:
 - LotM April '09: First half, English only.
Todo:
 - Lots, among others:
    - Mecke's part
    - Translations to Russian and German
    - Current LotM ratings and history


Added: feature_branches/hp_lotm/images/lotm/lotm_200904_a.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_b.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_c.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_c.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_d.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_d.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/input/lotm/lotm_200904.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-03-31 21:45:14 UTC (rev 1606)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-03-31 23:46:56 UTC (rev 1607)
@@ -0,0 +1,441 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">April 2009: </span>
+    &quot;Plan Ahead&quot; by Jacob Scott
+  </h3>
+
+<hr>
+
+<p>
+You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
+</p>
+
+<hr>
+
+<p>This month we are presenting to you another level designed by Jacob the Buil
+&hellip; Sorry, by Jacob Scott. This author has become a legend not only among
+Enigma players, but, as we already know (see LotM 7/2008) in the world of
+marbles as well. He produces new excellent levels at such an astonishing speed
+that some Enigma connoisseurs started to doubt if he is a human at all (see LotM
+7/2007) and I should say their arguments sound rather convincing. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_e.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+<table>
+<tr><td>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Some records of February 2009</caption>
+<colgroup>
+    <col width="80">
+    <col width="160">
+</colgroup>
+    <tr><td class="num">0:51</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">0:55</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">0:58</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">1:14</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">1:16</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">1:23</td>
+        <td class="left">Mentist</td></tr>
+    <tr><td class="num">1:25</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">1:27</td>
+        <td class="left">B-Huff</td></tr>
+    <tr><td class="num">1:35</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">1:36</td>
+        <td class="left">Gloop+Ronald</td></tr>
+    <tr><td class="num">1:38</td>
+        <td class="left">Lukas</td></tr>
+    <tr><td class="num">1:45</td>
+        <td class="left">Dime+Malla</td></tr>
+    <tr><td class="num">1:46</td>
+        <td class="left">Raoul</td></tr>
+    <tr><td class="num">1:50</td>
+        <td class="left">U-Punkt+mecke</td></tr>
+    <tr><td class="num">1:51</td>
+        <td class="left">Ludmian</td></tr>
+    <tr><td class="num">1:56</td>
+        <td class="left">Taztunes+ABS</td></tr>
+    <tr><td class="num">1:58</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">2:02</td>
+        <td class="left">Ale+Craven</td></tr>
+    <tr><td class="num">2:04</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">2:20</td>
+        <td class="left">Mark P.</td></tr>
+    <tr><td class="num">2:26</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">2:44</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">2:45</td>
+        <td class="left">Tobias</td></tr>
+    <tr><td class="num">2:51</td>
+        <td class="left">Hans-HD</td></tr>
+    <tr><td class="num">2:59</td>
+        <td class="left">shoki</td></tr>
+    <tr><td class="num">3:08</td>
+        <td class="left">Freshman</td></tr>
+    <tr><td class="num">3:25</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">3:29</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">3:52</td>
+        <td class="left">alain</td></tr>
+    <tr><td class="num">4:48</td>
+        <td class="left">H-J.Epting</td></tr>
+    <tr><td class="num">5:02</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">6:51</td>
+        <td class="left">AlephD</td></tr>
+</table>
+
+</td><td>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Easy mode</caption>
+<colgroup>
+    <col width="80">
+    <col width="160">
+</colgroup>
+    <tr><td class="num">0:47</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">0:50</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">0:58</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">1:10</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">1:11</td>
+        <td class="left">Mentist</td></tr>
+    <tr><td class="num">1:12</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">1:15</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">1:16</td>
+        <td class="left">Jinajon</td></tr>
+    <tr><td class="num">1:17</td>
+        <td class="left">Django+dev0</td></tr>
+    <tr><td class="num">1:21</td>
+        <td class="left">B-Huff+Malla</td></tr>
+    <tr><td class="num">1:25</td>
+        <td class="left">Dime</td></tr>
+    <tr><td class="num">1:26</td>
+        <td class="left">Gloop+Safalra</td></tr>
+    <tr><td class="num">1:30</td>
+        <td class="left">Emmanuel+mecke</td></tr>
+    <tr><td class="num">1:31</td>
+        <td class="left">Alexandros</td></tr>
+    <tr><td class="num">1:33</td>
+        <td class="left">Freshman</td></tr>
+    <tr><td class="num">1:34</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">1:35</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">1:39</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">1:40</td>
+        <td class="left">ABS</td></tr>
+    <tr><td class="num">1:42</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">1:43</td>
+        <td class="left">Tobias+Ludmian</td></tr>
+    <tr><td class="num">1:45</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">1:51</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">1:58</td>
+        <td class="left">mrduke</td></tr>
+    <tr><td class="num">1:59</td>
+        <td class="left">Ale+Raoul</td></tr>
+    <tr><td class="num">2:03</td>
+        <td class="left">shoki</td></tr>
+    <tr><td class="num">2:09</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">2:17</td>
+        <td class="left">Hans-HD</td></tr>
+    <tr><td class="num">2:31</td>
+        <td class="left">Mark P.</td></tr>
+    <tr><td class="num">2:36</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">2:37</td>
+        <td class="left">gringer</td></tr>
+    <tr><td class="num">2:38</td>
+        <td class="left">H-J.Epting</td></tr>
+    <tr><td class="num">2:54</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">3:14</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">4:38</td>
+        <td class="left">AlephD</td></tr>
+    <tr><td class="num">8:10</td>
+        <td class="left">brynn</td></tr>
+</table>
+
+</td></tr>
+</table>
+
+<p>To tell the truth, initially we were at a loss as to how we should write an
+article about a level like this. It seemed to us it was next to impossible to
+write an article that wouldn't become one huge spoiler for the level. But then
+we thought: why write anything ourselves if we can offer the readers the
+first-hand experience of a person who saw the level from within? </p>
+
+<p>Puzzled? We mean Henry Blackball, of course. Yes, you are right, the very
+Henry Blackball, the famous traveler, the marble who ventured into more worlds
+of Enigma than any marble who lived before or after him. Already during his
+lifetime he became a legend. And when at the beginning of Age 1.0 he published
+his book &quot;Against the Four Elements and Other Adventures&quot; which became
+an instant bestseller he truly became a household name. His mysterious fate only
+strengthened the public interest in him: soon after the book was published he
+forsook the fame and wealth that came to him as a bestselling writer and
+embarked on his second journey to the World of Gods, leaving behind his fianc&eacute;,
+the beautiful Anna Whiteball. As constant readers of our LotM section must have
+guessed, he never came back. Neither did Anna Whiteball, who, anxious for Henry,
+soon left her house too, intent on aiding him in his journey. </p>
+
+<p>Those readers who have solved the level will probably notice that Henry
+Blackball was not the most accurate narrator. In his book he mixed truth and
+fiction, and many years after his disappearance marbles still argued how much of
+his book he actually experienced and how much he made up. The readers will
+notice that sometimes Henry's narrative does look rather improbable. Some of the
+things he describes in this chapter have never been seen by other travelers who
+ventured into that world after him, which probably means that he's made those
+things up. Or has he? The worlds of Enigma are known to mysteriously change
+sometimes. Short and easy ways to the oxyds sometimes mysteriously disappear,
+and new obstacles arise. Maybe the world in question has undergone some changes
+as well since the time Henry visited it. Nevertheless, we had to omit some parts
+of the chapter for they would be too much of a spoiler for the readers who have
+not yet solved the level. </p>
+
+<p>For our article we used the definitive edition published by Marble Press. The
+first edition of Henry's book was heavily censored by the marble government who
+did not want to make the information about some of the Enigma worlds public.
+Later on, when struggle for white marble rights started to arise passages that
+did not go in line with political correctness were cut from his book as well.
+Even his hilarious remarks about smallballs, little insect-like creatures who
+travel from world to world through special types of holes in the floor, were
+omitted, though up to now no one has managed to prove that smallballs have even
+the slightest interest in what marbles think of them. This edition, based on a
+manuscript found in Henry's attic years after his disappearance, is the first to
+contain the complete text of his famous book. </p>
+
+<h3>Against the Four Elements and Other Adventures</h3>
+
+<h4>by Henry Blackball</h4>
+
+<h4>Chapter 23: How I Excelled in Planning Ahead</h4>
+
+<p>Slowly I opened my eyes. The narrow escape from the rotor was still vivid in
+my memory. I had touched the last oxyd in that crazy place just a moment before
+the damn creature would have broken me. I was lucky to transport myself and
+Monday[1] in time. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_a.png" alt="Level of the Month" border="0">
+<div class="imagetitle">It was a rather <br> beautiful places &hellip;</div>
+</div>
+
+<p>Monday &hellip; Where is he? Ah, there, on the other side of the &hellip;
+Pond? Yes, there's a pond here, and &hellip; For the first time I really saw the
+place. It was a rather beautiful place, small, with lovely dark red floor and
+grey walls. There was a pond there, blocked by yellow walls on two sides, two
+one-way passages (I noticed that the floor there had started to crumble, need to
+take that into account if I actually have to use them), a few seeds were
+scattered on the floor and next to them lay an old worn-out bag. &quot;I wonder
+what happened to the poor soul who abandoned it&quot; I thought. But I decided
+that it's better not to dwell too much on that. </p>
+
+<p>And to the right were the oxyds. The oxyds? So easy to reach? The gods who
+made the multiple worlds of Enigma were rarely so benevolent. Is there a hidden
+oxyd somewhere? I looked around. There were a few other oxyds on Monday's side
+of the pond. Now we'll just have to open them in turn, and then Monday will come
+here through the one-way passage and open the last one behind the white-hemmed
+stone. So easy? I felt relieved and disappointed at once. Relieved, because I'm
+not likely to get stuck in that place for a year, trying to solve some hard
+puzzle, or risk the valuable extralives, fleeing from rotors. Disappointed,
+because you will hardly gain any fame, exploring worlds like this. </p>
+
+<p>As the world seemed rather easy, and there was no immediate danger there I
+decided that I had time for research. I took from my pocket a book I never
+parted with: &quot;Which God Has Made This Particular World?&quot; by William
+Whiteball[2]. For a millionth time I wondered why I kept on consulting the book.
+How can we possibly be sure that the gods of Enigma existed at all, let alone
+know what elements each of them preferred when creating worlds. But on the other
+hand &mdash; the old marble is said to have delved into many forbidden
+mysteries, to have visited strange places and read the writings no marble has
+cast an eye upon for millennia. Maybe there is at least a grain of truth in his
+book. </p>
+
+<p>Ok, question 1: &quot;Have you been trying to solve the puzzles in this world
+for months, in spite of the fact that there's nothing hidden here? If it is true
+then go to question 2, if it is false go to question 5.&quot; Ha, no, the world
+is much simpler than I would like it to be. Question 5: &quot;Are you being
+chased by a crazy clock?&quot; Gods, of course I'm not! If I were, I wouldn't be
+reading your bloody book, stupid old fart. Question 10 &hellip; Question 11
+&hellip; Question 39 &hellip; Finally! &quot;Your world has most likely been
+created by the legendary Jacob the Builder&quot;. Ok, and now will you please
+give any proof that Jacob the Builder existed at all? No, you won't, 'cause you
+don't have any. But enough of that! Let's open the oxyds and move on to a more
+interesting place. &quot;Hey, Monday!&quot; </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_b.png" alt="Level of the Month" border="0">
+<div class="imagetitle">The stupid creature <br> had lost its Yin Yang!</div>
+</div>
+
+<p>But suddenly a frightening thought occurred to me. The stupid creature had
+lost its Yin-Yang! Well, you can't expect someone whose last name is Whitebrush
+to be particularly bright, but that's a little too much even for him[3]. Fear
+gripped my heart with its cold icy fingers. I'm stuck in this place forever! No
+one will come to my rescue! But then I told myself, &quot;Well, Henry, don't
+panic! Sooner or later you'll be able to think of something&quot;. I slowly
+looked around one more time. What do I have at my disposal?
+One&mdash;two&mdash;three &mdash;four&mdash;five seeds, a bag, two dynamite
+sticks behind one-way stones over there. Not that bad. There must be some way to
+put them to use, there must be &hellip; </p>
+
+<p>Suddenly I saw what I could do. Great! The creature on the other side of the
+pond doesn't have seeds, but he needs them. I've got seeds, and a bag as well.
+So I can send him a few. The one-ways are crumbling, so most likely I'll have
+only one opportunity to travel across the pond and back. So how many seeds do I
+need to give Monday? Do I need to take anything with me from the other side of
+the pond? I pondered a little more. [..] </p>
+
+<p>I entered the one-way passage, carrying just the necessary number of seeds in
+my bag. I couldn't but admire what a clever idea I had. Any other marble would
+get stuck in this place forever. But I found a way out even without a second
+Yin-Yang. When I entered Monday's half of the room I turned back and saw the
+last remnants of the floor crumble down. Just as I had already guessed I won't
+be able to use that passage anymore. Quickly I rolled to Monday, gave him the
+bag, and told him about my plan. His eyes widened in wonder at my cleverness.
+The poor creature must have already lost all his hope to get out of here and
+been silently beweeping his fate[4]. </p>
+
+<p>Leaving the bag behind, I rolled to the dynamite stick behind a one-way
+stone. Suddenly something clicked. Gods, no! An invisible trigger! I madly
+looked around. A floor tile near the place where Monday lay had disappeared.
+Just that? Well, even for Monday it won't be that difficult to avoid the abyss.
+But suddenly I saw a flicker of movement there. Oh, no! A rotor jumped from the
+abyss. Then another &hellip; And another. They immediately directed towards
+Monday. I ran to intercept them. Just as the first of them was a hair's width
+behind Monday I was there. I pushed the white ball so that he rolled beyond
+their attention span. Now I need to entice them back to the abyss where they
+came from. I turned to the right. Then to the left. Then right again. Quickness
+and dexterity. That's what you need when dealing with rotors. I had to be
+careful. A little too slow, and they would break me to pieces. A little too
+fast, and they would loose sight of me. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_c.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Just as the first of them was <br> a hair's width
+behind <br> Monday I was there.</div>
+</div>
+
+<p>Here it is! The abyss! Suddenly I swerved to the left and ran as fast as I
+could. The slow-witted creatures didn't notice it at first and continued to run
+to the abyss. Delighted, I saw them falling down one after the other. Done! Now
+let's take that dynamite. But suddenly I saw another flicker of movement in the
+abyss. Are they coming back? No, it's something different. Crazy clock! Again it
+directed towards the helpless Monday. I rolled as fast as I could and hit it
+when it was just one step behind Monday. It turned its face to me. I left the
+tile just a fraction of a second before it was there. Then I guided it to the
+wall, praying to gods that it doesn't turn by itself until we are done opening
+the oxyds. </p>
+
+<p>I took the dynamite and ran back to my half of the room, hearing the tiles
+crumble behind me. Suddenly I heard something else. I looked back. The clock! It
+started moving! [..] I pushed the last box into the water just when the clock
+was one step behind Monday once more. Another moment, and it will be on the same
+tile where Monday is! But thankfully, the creature decided to change direction.
+I gave a sigh of relief and released the control of the place to Monday. Now,
+friend, don't let me down! I believe in you! [..] </p>
+
+<p>I watched Monday finish the bridge, wondering how cleverly he avoided the
+crazy clock while faithfully sticking to my plan. I had definitely
+underestimated him. Soon all the oxyds were opened except the one behind the
+white-hemmed stone. Just then I saw the crazy clock turning to me. &quot;Monday!
+Quickly!&quot; I prayed. I doubted he could hear me. It's not easy to
+communicate in a place where there are closed oxyds without a Yin-Yang. But I
+saw him quickly moving to the oxyd. Another moment, and the oxyd emitted
+beautiful light. I didn't wait any longer. Immediately I left the place, taking
+Monday with me. As the room blurred in front of my eyes I wondered for a
+millionth time what the next world that I saw would be like, what beautiful or
+horrible things I would see there. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_d.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Just then I saw the crazy <br> clock turning to me.</div>
+</div>
+
+<h4>Annotations by the editor:</h4>
+
+<p>[1] A white marble whom Henry met on one of his journeys. His real name was
+Jeremy Whitebrush. He traveled with Henry a lot and was a great help in many of
+his adventures. No one knows why Henry called him Monday. When asked about it in
+an interview he replied, &quot;I called him Monday because I first met him on
+Thursday&quot;. That's about all the information we've got. </p>
+
+<p>[2] Probably the most famous scholar of his time. His works, among which one
+could name the definitive treatise &quot;On the Multiple Worlds of Enigma&quot;,
+a questionnaire for travelers &quot;Which God has Made This Particular
+World&quot; and the bestselling &quot;Item Transformation for Dummies&quot;, are
+widely known in the world of marbles. He was the father of Anna Whiteball who
+later became Henry's fianc&eacute;. After his daughter's disappearance he took to
+drinking and was often seen in the street with an open bottle, mumbling to
+himself, &quot;It's all my fault, only mine&quot;. Suddenly he stopped appearing
+in the street. When his neighbors, worried by his long absence, broke into his
+house they saw that his papers and books were scattered around on the floor.
+Their owner never appeared again. Some marbles claim they have spotted him in
+some remote corners of the Universe of Enigma, but their credibility is widely
+doubted. </p>
+
+<p>[3] Let us forgive Henry his prejudices. He was a marble of his time, and in
+the age when the book was written the struggle for political correctness has
+only started to hatch. In his defense we can say that his love for the beautiful
+Anna Whiteball changed him a lot and in the last years of his life he became a
+well-known and influential champion of white marbles' rights. </p>
+
+<p>[4] As Jeremy Whitebrush later explained in his interview, actually he had
+found a way out long ago and was just waiting for the moment when Henry would
+deign to talk to him. </p>
+
+<hr>
+
+<p>
+You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
+</p>
+
+<hr>
+
+<p>
+Greets,<br>
+<i>Ludmian</i>
+</p>
+
+<!--<p>Dear reader, we have a constant need for articles from you about Enigma's
+great levels. Please, send us any articles, even comments, you write to:</p>
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+<p>We're particularly interested in articles about the following levels:
+</p>
+<ul>
+<li>&quot;Little Puzzles&quot; by Jon 'WB' Sneyers</li>
+</ul>
+<p>Many thanks in advance, only your help can keep the LotM alive!</p>
+
+<p><i>Your Enigma Team</i></p>-->
+
+</div>

Added: feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-03-31 21:45:14 UTC (rev 1606)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-03-31 23:46:56 UTC (rev 1607)
@@ -0,0 +1,121 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">April 2009: </span>
+    &quot;Plan Ahead&quot; by Jacob Scott
+  </h3>
+
+<hr>
+
+<p>
+You are on the Yang side of this article. The Yin side is <a href="$$lotm_200904$$">here</a>.
+</p>
+
+<hr>
+
+<p>
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_a.jpg" alt="Level of the Month" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_b.jpg" alt="Level of the Month" border="0">
+</div>
+
+<div class="quote">
+&quot;Plan Ahead&quot; is actually one of my more recent levels. I designed it
+kind of in the spirit of my &quot;Seed Puzzle&quot; (and related) levels, but with
+a little twist: now there are two marbles to control, but only one
+yin-yang. As much as I enjoyed creating the &quot;Seed Puzzle&quot; levels (and
+similar ones, such as &quot;Versailles&quot; and &quot;One-Way Streets&quot;), and as much
+as I hope people enjoyed completing them, I thought they were missing
+something. Their puzzles were (in my opinion) fairly hard and good, but
+the levels had little variety, essentially containing just seeds,
+water/abyss, one-ways, and occasionally bombs. For &quot;Plan Ahead&quot;, I took
+the opposite strategy: use more than a few different level elements that
+all relate to seeds and that can all come together to form a cohesive
+landscape. In my opinion &quot;Plan Ahead&quot; is easier than most of my other
+seed puzzle levels, but the concept is much less obvious, in that the
+solution is not simply deciding which grates to destroy with seeds, but
+rather involves interacting with a bunch of different items. This may
+not increase the difficulty of the puzzle at all, but I think it
+certainly makes it more interesting.
+</div>
+
+<div class="quote">
+Looking back, &quot;Plan Ahead&quot; seems to contrast significantly with most of
+the other puzzle levels I've designed. The majority of them tend to
+involve either searching around some sort of labyrinth (like &quot;Labyrinth
+of Puzzles&quot; or &quot;Almost There&quot; or even &quot;Map it Out&quot;, for a few
+representatives) or a complex, single-themed puzzle (the &quot;Alien Glyphs&quot;
+series, &quot;Now What?&quot;, or &quot;Open Path&quot;, for example). Some are larger
+conglomerations of these, but relatively few have the diversity &quot;Plan
+Ahead&quot; does in proportion to their size. They also generally have
+darker color themes and less-inviting atmospheres about them; instead,
+&quot;Plan Ahead&quot; has a much fresher feel to it, which I believe reflects its
+change in puzzle design. &quot;Plan Ahead&quot;, I hope, provides a refreshing
+take on the theme of seed puzzles, this time set in a colorful and
+peaceful world that will challenge but reward all adventurers who choose
+to play within it.
+</div>
+
+<div class="quote">
+I would like to make a couple of general comments about Enigma levels,
+and by extension game levels in general, concerning what it means to be
+&quot;elegant&quot;. In my opinion &quot;a level is elegant&quot; means first that no part
+of the level is arbitrary (and a unique solution exists) and second that
+it is the most difficult of all such levels with the same overall
+structure. For example I believe &quot;Plan Ahead&quot; is in some sense &quot;solid&quot;;
+it has a (fairly) unique solution, and there are no conspicuous
+additions for the sole purpose of preventing alternate solutions &mdash; the
+puzzle all fits together well. Furthermore, the puzzle seems to be
+&quot;maximally difficult&quot; for the given setup; that is, there is no small
+tweak one could make to increase its difficulty (without changing its
+overall structure; this generally means all items must be used, for
+example). I believe it is somewhat rare for a level to satisfy both
+conditions (it's structure admits just one solution without arbitrary
+modifications and it is as difficult as possible); I think that when a
+level does so, it is what one usually considers &quot;elegant&quot;, and otherwise
+probably is not. Elegance, then, seems to be the overall goal of
+designing a level &mdash; the elegant levels are those that best challenge
+the player and reward them the most upon completion. I hope this is the
+case for &quot;Plan Ahead&quot; and that &quot;Plan Ahead&quot; provides a refreshing trip
+to a small lake, almost impassable except through Henry Blackball's
+careful planning ahead.
+</div>
+
+<div class="author">Jacob Scott</div>
+
+<hr>
+
+<p>
+You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
+</p>
+
+<hr>
+
+<p>
+Greets,<br>
+<i>Mecke</i>
+</p>
+
+<!--<p>Dear reader, we have a constant need for articles from you about Enigma's
+great levels. Please, send us any articles, even comments, you write to:</p>
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+<p>We're particularly interested in articles about the following levels:
+</p>
+<ul>
+<li>&quot;Little Puzzles&quot; by Jon 'WB' Sneyers</li>
+</ul>
+<p>Many thanks in advance, only your help can keep the LotM alive!</p>
+
+<p><i>Your Enigma Team</i></p>-->
+
+</div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-03-31 21:45:14 UTC (rev 1606)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-03-31 23:46:56 UTC (rev 1607)
@@ -175,6 +175,15 @@
   position_num   = "6036"
 }
 
+lotm_archive_data[20] = {
+  date           = { month = 4, year = 2009 },
+  chronological  = 20,
+  name           = "Plan Ahead",
+  author         = "Jacob Scott",
+  position       = "V/21",
+  position_num   = "5021"
+}
+
 -- Further levels standing data
 -- (no need to change these)
 
@@ -351,7 +360,8 @@
 lotm_rating(   "Gods of Enigma II",  8.42,  19,  "")
 lotm_rating( "River of Challenges",  8.36,  11,  "")
 lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
-lotm_rating(          "Procrustes",  7.71,  17,  "<b>(newcomer)</b>")
+lotm_rating(          "Procrustes",  7.71,  17,  "")
+lotm_rating(          "Plan Ahead", -1,     -1,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 

Modified: feature_branches/hp_lotm/input/output-files.lua
===================================================================
--- feature_branches/hp_lotm/input/output-files.lua	2009-03-31 21:45:14 UTC (rev 1606)
+++ feature_branches/hp_lotm/input/output-files.lua	2009-03-31 23:46:56 UTC (rev 1607)
@@ -587,3 +587,16 @@
     body = {"articles/level_andreas11"},
 }
 
+----------------------------------------------------------------------
+-- LotM 200905 Yang
+----------------------------------------------------------------------
+
+html.lotm_200904_yang = {
+    outfile = "lotm_200904_yang.html",
+    title = "$$lotm_expansion$$: $$April$$ '09",
+    title_de = "$$lotm_expansion$$: $$April$$ '09",
+    title_ru = "$$lotm_expansion$$: $$April$$ '09",
+    rightcolumn = {},
+    body = {"lotm/lotm_200904_yang"},
+}    
+



From ral at mail.berlios.de  Thu Apr  2 01:00:31 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 2 Apr 2009 01:00:31 +0200
Subject: [Enigma-game-svn] r1608 - in trunk: data lib-src/lua src/lev
Message-ID: <200904012300.n31N0VrA011657@sheep.berlios.de>

Author: ral
Date: 2009-04-02 01:00:29 +0200 (Thu, 02 Apr 2009)
New Revision: 1608

Added:
   trunk/lib-src/lua/lexerproxy.c
   trunk/lib-src/lua/lexerproxy.h
Modified:
   trunk/data/api2init.lua
   trunk/lib-src/lua/Makefile.am
   trunk/lib-src/lua/llex.c
   trunk/src/lev/Proxy.cc
Log:
Trunk 1.1:
- make assert_bool and assert_type real debug assertions:
  - they are executed if:
    - level is in state "test", "experimental"
    - application has been started with option "--assert"
  - otherwise they are skipped on compilation and do cost no single cpu cycle
    during runtime


Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/data/api2init.lua	2009-04-01 23:00:29 UTC (rev 1608)
@@ -652,7 +652,7 @@
     return t
 end
 
-function assert_type(object, objname, level, ...)
+assert_type = function (object, objname, level, ...)
     -- assert_type throws an error if object does not fulfill one of the
     -- conditions in "...". Possible conditions are the lua- and usertype
     -- names and "map" (i.e. the results of etype), plus the strings
@@ -703,7 +703,7 @@
     end
 end
 
-function assert_bool(bool, message, level)
+assert_bool = function (bool, message, level)
     -- assert_bool throws an error with message MESSAGE if BOOL is false or nil.
     if not bool then
         if message and (type(message) == "string") and (message ~= "") then

Modified: trunk/lib-src/lua/Makefile.am
===================================================================
--- trunk/lib-src/lua/Makefile.am	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/lib-src/lua/Makefile.am	2009-04-01 23:00:29 UTC (rev 1608)
@@ -4,7 +4,7 @@
 
 # noinst_PROGRAMS = tolua
 
-EXTRA_DIST = README
+EXTRA_DIST = README lexerproxy.c
 
 liblua_a_SOURCES = \
  lapi.c lauxlib.c lbaselib.c lcode.c ldblib.c ldebug.c \
@@ -16,7 +16,8 @@
  lopcodes.h lparser.h  lstate.h lstring.h ltable.h ltm.h lua.h \
  luaconf.h lualib.h lundump.h lvm.h lzio.h tolua++.h \
  tolua_event.c tolua_event.h tolua_is.c tolua_map.c tolua_push.c \
- tolua_to.c
+ tolua_to.c \
+ lexerproxy.h
 liblua_a_CFLAGS = $(AM_CFLAGS)
 
 if LINUX

Added: trunk/lib-src/lua/lexerproxy.c
===================================================================
--- trunk/lib-src/lua/lexerproxy.c	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/lib-src/lua/lexerproxy.c	2009-04-01 23:00:29 UTC (rev 1608)
@@ -0,0 +1,38 @@
+/*
+* lexerproxy.c
+* lexer proxy for Lua parser -- implements assert removal
+* Luiz Henrique de Figueiredo <lhf at tecgraf.puc-rio.br>
+* 11 May 2007 11:18:57
+* This code is hereby placed in the public domain.
+* Add <<#include "proxy.c">> just before the definition of luaX_next in llex.c
+*/
+
+#include <string.h>
+
+bool lua_evaluate_assert = false;
+
+static int nexttoken(LexState *ls, SemInfo *seminfo)
+{
+ for (;;) {
+	int n;
+	int t=llex(ls,seminfo);
+	if (t!=TK_NAME) return t;
+	if (lua_evaluate_assert || (strcmp(getstr(seminfo->ts),"assert_type")!=0
+			&& strcmp(getstr(seminfo->ts),"assert_bool")!=0))
+		return t;
+	t=nexttoken(ls,&ls->lookahead.seminfo);
+	if (t!='(') {
+		ls->lookahead.token = t;
+		return TK_NAME;
+	}
+	for (n=1; n>0; ) {
+		t=llex(ls,seminfo);
+		if (t==TK_EOS) return t;
+		if (t=='(') n++;
+		if (t==')') n--;
+	}
+ }
+}
+
+#define llex nexttoken
+


Property changes on: trunk/lib-src/lua/lexerproxy.c
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:eol-style
   + native

Added: trunk/lib-src/lua/lexerproxy.h
===================================================================
--- trunk/lib-src/lua/lexerproxy.h	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/lib-src/lua/lexerproxy.h	2009-04-01 23:00:29 UTC (rev 1608)
@@ -0,0 +1,10 @@
+/*
+* lexerproxy.h
+* lexer proxy for Lua parser -- implements assert removal
+* external definitions
+*/
+
+
+extern bool lua_evaluate_assert;
+
+


Property changes on: trunk/lib-src/lua/lexerproxy.h
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:eol-style
   + native

Modified: trunk/lib-src/lua/llex.c
===================================================================
--- trunk/lib-src/lua/llex.c	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/lib-src/lua/llex.c	2009-04-01 23:00:29 UTC (rev 1608)
@@ -442,6 +442,7 @@
   }
 }
 
+#include "lexerproxy.c"
 
 void luaX_next (LexState *ls) {
   ls->lastline = ls->linenumber;

Modified: trunk/src/lev/Proxy.cc
===================================================================
--- trunk/src/lev/Proxy.cc	2009-03-31 23:46:56 UTC (rev 1607)
+++ trunk/src/lev/Proxy.cc	2009-04-01 23:00:29 UTC (rev 1608)
@@ -47,10 +47,12 @@
 extern "C" {
 #include "lua.h"
 #include "lauxlib.h"
+#include "lexerproxy.h"
 }
 #else
 #include "lua.h"
 #include "lauxlib.h"
+#include "lexerproxy.h"
 #endif 
 
 
@@ -628,6 +630,8 @@
             server::EnigmaCompatibility = getEnigmaCompatibility();
             server::TwoPlayerGame = hasNetworkMode();
             server::LevelStatus = getLevelStatus();
+            lua_evaluate_assert = (server::LevelStatus == STATUS_RELEASED || server::LevelStatus == STATUS_STABLE) 
+                    ? false || !noAssert : true;
             if (server::EnigmaCompatibility < 1.10) {
                 server::AllowSingleOxyds = true;
                 server::SurviveFinish = false;



From ral at mail.berlios.de  Sun Apr  5 13:54:02 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 5 Apr 2009 13:54:02 +0200
Subject: [Enigma-game-svn] r1609 - in trunk: data/schemas src src/floors
	src/others src/stones
Message-ID: <200904051154.n35Bs2Kl032030@sheep.berlios.de>

Author: ral
Date: 2009-04-05 13:54:00 +0200 (Sun, 05 Apr 2009)
New Revision: 1609

Added:
   trunk/src/others/TimerGadget.cc
   trunk/src/others/TimerGadget.hh
Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/floors/FloodStream.cc
   trunk/src/others/CounterGadget.hh
   trunk/src/stones/BoxStone.cc
Log:
Trunk 1.1:
- new Other gadget "ot_timer":
  - same features as st_timer, besides obsolete "invisible" attribute
- floodstream - kills items:
  - it_crack
  - it_burnable, all kinds besides it_burnable_oil
- seed, boxes - support attribute "secure", do inherit it to successors:
  - seed to box, box to floor, for fire spreading


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/data/schemas/objects.xml	2009-04-05 11:54:00 UTC (rev 1609)
@@ -900,6 +900,14 @@
       <msg name="_performaction"/>
       <msg name="_recheck"/>
     </object>
+    <object name="ot_timer">
+      <attr name="interval"/>
+      <attr name="loop"/>
+      <attr name="state" default="1"/>
+      <msg name="on"/>
+      <msg name="off"/>
+      <msg name="signal"/>
+    </object>
     <object name="ot_wire">
       <attr name="anchor1"/>
       <attr name="anchor2"/>
@@ -1033,6 +1041,7 @@
     </object>
     <object name="st_box">
       <attr name="flavor" default="wood" rw="r"/>
+      <attr name="secure"/>
       <msg name="heat"/>
       <msg name="_fall"/>
       <msg name="_fire"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/Makefile.am	2009-04-05 11:54:00 UTC (rev 1609)
@@ -293,6 +293,8 @@
 	others/Other.hh		\
 	others/Rubberband.cc	\
 	others/Rubberband.hh	\
+	others/TimerGadget.cc	\
+	others/TimerGadget.hh	\
 	others/Wire.cc		\
 	others/Wire.hh		\
 	stones/ActorImpulseStone.cc	\

Modified: trunk/src/floors/FloodStream.cc
===================================================================
--- trunk/src/floors/FloodStream.cc	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/floors/FloodStream.cc	2009-04-05 11:54:00 UTC (rev 1609)
@@ -131,8 +131,12 @@
                     Floor *f = GetFloor(p);
                     if (f != NULL && f->isKind("fl_floodstream") && 
                             (f->getAttr("faces").to_string() == "nesw" || f->isKind("fl_water"))) {
-                        if (f->isKind("fl_water") && f->getAttr("state") == IDLE)
+                        if (f->isKind("fl_water") && f->getAttr("state") == IDLE) {
                             init_model();  // make flood visible
+                            Item *it = GetItem(p);
+                            if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
+                                KillItem(p);
+                        }
                         f->setAttr("interval", getAttr("interval"));
                         f->setAttr("state", FLOODING);
                     } else if (f != NULL && f->getAttr("floodable").to_bool()) {
@@ -141,6 +145,9 @@
                             Floor *newfloor = MakeFloor("fl_water_source");
                             newfloor->setAttr("interval", getAttr("interval"));
                             SetFloor(p, newfloor);
+                            Item *it = GetItem(p);
+                            if (it != NULL && (it->isKind("it_crack") || it->isKind("it_burnable")))
+                                KillItem(p);
                         }
                     }
                 }

Modified: trunk/src/others/CounterGadget.hh
===================================================================
--- trunk/src/others/CounterGadget.hh	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/others/CounterGadget.hh	2009-04-05 11:54:00 UTC (rev 1609)
@@ -20,8 +20,6 @@
 #define COUNTERGADGET_HH
 
 #include "others/Other.hh"
-#include "display.hh"
-#include "stones.hh"
 
 /* -------------------- Other -------------------- */
 

Added: trunk/src/others/TimerGadget.cc
===================================================================
--- trunk/src/others/TimerGadget.cc	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/others/TimerGadget.cc	2009-04-05 11:54:00 UTC (rev 1609)
@@ -0,0 +1,88 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "others/TimerGadget.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "world.hh"
+#include "util.hh"
+
+namespace enigma {
+    TimerGadget::TimerGadget() : Other() {
+    }
+    
+    TimerGadget::~TimerGadget() {
+        GameTimer.remove_alarm(this);
+    }
+    
+    std::string TimerGadget::getClass() const {
+        return "ot_timer";
+    }
+
+    int TimerGadget::externalState() const {
+        return state == OFF ? 0 : 1;
+    }
+    
+    void TimerGadget::setState(int extState) {
+        if (objFlags & OBJBIT_ADDED) {
+            if (extState != externalState()) {
+                state = extState;
+                if (extState == 1) {
+                    updateAlarm();
+                } else {
+                    GameTimer.remove_alarm(this);
+                }
+            }
+        } else {
+            state = extState;
+        }
+    }
+    
+    void TimerGadget::postAddition() {
+        objFlags |= OBJBIT_ADDED;
+        updateAlarm();
+        Other::postAddition();
+    }
+    
+    void TimerGadget::preRemoval() {
+        objFlags &= ~OBJBIT_ADDED;
+        Other::preRemoval();
+    }
+        
+    void TimerGadget::alarm() {
+        bool actionValue = (state == ON_TRUE);
+        state ^= 1;   // toggle between ON_TRUE and ON_FALSE
+        if(!getAttr("loop").to_bool()) {
+            setState(OFF);
+        }
+        performAction(actionValue);
+    }
+    
+    void TimerGadget::updateAlarm() {
+        if (state == ON) {
+            state = ON_TRUE;
+            GameTimer.set_alarm(this, (double)getAttr("interval"), getAttr("loop").to_bool());
+        }
+    }
+
+    BOOT_REGISTER_START
+        BootRegister(new TimerGadget(), "ot_timer");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/others/TimerGadget.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/others/TimerGadget.hh
===================================================================
--- trunk/src/others/TimerGadget.hh	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/others/TimerGadget.hh	2009-04-05 11:54:00 UTC (rev 1609)
@@ -0,0 +1,66 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef TIMERGADGET_HH
+#define TIMERGADGET_HH
+
+#include "others/Other.hh"
+
+/* -------------------- Other -------------------- */
+
+
+namespace enigma {
+    
+    class TimerGadget : public Other, public TimeHandler {
+        CLONEOBJ(TimerGadget)
+
+    private:
+        enum iState {
+            OFF,          ///< timer is inactive, next action value is true (default)
+            ON,           ///< timer is yet inactive, but will start running on being
+            ON_TRUE,      ///< timer is active, next action value is true
+            ON_FALSE      ///< timer is active, next action value is false
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_ADDED =   1<<24,    ///< 
+        };
+    public:
+        TimerGadget();
+        ~TimerGadget();
+
+        // Object interface
+        virtual std::string getClass() const;
+        
+        // StateObject interface
+        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // Other interface
+        virtual void postAddition();
+        virtual void preRemoval();
+
+        // TimeHandler interface
+        virtual void alarm();
+
+    private:
+        void updateAlarm();        
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/others/TimerGadget.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones/BoxStone.cc
===================================================================
--- trunk/src/stones/BoxStone.cc	2009-04-01 23:00:29 UTC (rev 1608)
+++ trunk/src/stones/BoxStone.cc	2009-04-05 11:54:00 UTC (rev 1609)
@@ -183,6 +183,8 @@
                     state = FALLEN;
                     Floor *newfl = MakeFloor((typ == HAY) ? "fl_hay_framed" : ((typ == ROCK) ? "fl_rock_framed" : ((typ == WOOD1) ? "fl_wood_framed_h" : "fl_wood_framed_v")));
                     transferIdentity(newfl);
+                    if (Value v = getAttr("secure"))
+                        newfl->setAttr("secure", v);
                     if (k == "fl_water") {
                         newfl->setAttr("interval", oldfl->getAttr("interval"));
                         newfl->setAttr("state", oldfl->getAttr("state"));



From ral at mail.berlios.de  Wed Apr  8 00:05:01 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 8 Apr 2009 00:05:01 +0200
Subject: [Enigma-game-svn] r1610 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/floors src/items
Message-ID: <200904072205.n37M51Hc030065@sheep.berlios.de>

Author: ral
Date: 2009-04-08 00:04:56 +0200 (Wed, 08 Apr 2009)
New Revision: 1610

Added:
   trunk/data/gfx32/it-coin1.png
   trunk/data/gfx32/it-coin2.png
   trunk/data/gfx32/it_banana.png
   trunk/data/gfx32/it_brush.png
   trunk/data/gfx32/it_cherry.png
   trunk/data/gfx32/it_crack_abyss.png
   trunk/data/gfx32/it_crack_water.png
   trunk/data/gfx32/it_cross.png
   trunk/data/gfx32/it_extralife.png
   trunk/data/gfx32/it_floppy.png
   trunk/data/gfx32/it_glasses.png
   trunk/data/gfx32/it_glasses_broken.png
   trunk/data/gfx32/it_hammer.png
   trunk/data/gfx32/it_key.png
   trunk/data/gfx32/it_landmine.png
   trunk/data/gfx32/it_magicwand.png
   trunk/data/gfx32/it_rubberband.png
   trunk/data/gfx32/it_squashed.png
   trunk/data/gfx32/it_sword.png
   trunk/data/gfx32/it_umbrella.png
   trunk/data/gfx32/it_wrench.png
   trunk/data/gfx40/it_banana.png
   trunk/data/gfx40/it_brush.png
   trunk/data/gfx40/it_cherry.png
   trunk/data/gfx40/it_crack_abyss.png
   trunk/data/gfx40/it_crack_water.png
   trunk/data/gfx40/it_cross.png
   trunk/data/gfx40/it_extralife.png
   trunk/data/gfx40/it_floppy.png
   trunk/data/gfx40/it_glasses.png
   trunk/data/gfx40/it_glasses_broken.png
   trunk/data/gfx40/it_hammer.png
   trunk/data/gfx40/it_key.png
   trunk/data/gfx40/it_landmine.png
   trunk/data/gfx40/it_magicwand.png
   trunk/data/gfx40/it_rubberband.png
   trunk/data/gfx40/it_squashed.png
   trunk/data/gfx40/it_sword.png
   trunk/data/gfx40/it_umbrella.png
   trunk/data/gfx40/it_wrench.png
   trunk/data/gfx48/it_banana.png
   trunk/data/gfx48/it_brush.png
   trunk/data/gfx48/it_cherry.png
   trunk/data/gfx48/it_crack_abyss.png
   trunk/data/gfx48/it_crack_water.png
   trunk/data/gfx48/it_cross.png
   trunk/data/gfx48/it_extralife.png
   trunk/data/gfx48/it_floppy.png
   trunk/data/gfx48/it_glasses.png
   trunk/data/gfx48/it_glasses_broken.png
   trunk/data/gfx48/it_hammer.png
   trunk/data/gfx48/it_key.png
   trunk/data/gfx48/it_landmine.png
   trunk/data/gfx48/it_magicwand.png
   trunk/data/gfx48/it_rubberband.png
   trunk/data/gfx48/it_squashed.png
   trunk/data/gfx48/it_sword.png
   trunk/data/gfx48/it_umbrella.png
   trunk/data/gfx48/it_wrench.png
Removed:
   trunk/data/gfx32/it-banana.png
   trunk/data/gfx32/it-brush.png
   trunk/data/gfx32/it-cherry.png
   trunk/data/gfx32/it-coin1.png
   trunk/data/gfx32/it-coin2.png
   trunk/data/gfx32/it-crack.png
   trunk/data/gfx32/it-cross.png
   trunk/data/gfx32/it-extralife.png
   trunk/data/gfx32/it-floppy.png
   trunk/data/gfx32/it-glasses-broken.png
   trunk/data/gfx32/it-glasses.png
   trunk/data/gfx32/it-hammer.png
   trunk/data/gfx32/it-key.png
   trunk/data/gfx32/it-landmine.png
   trunk/data/gfx32/it-magicwand.png
   trunk/data/gfx32/it-rubberband.png
   trunk/data/gfx32/it-squashed.png
   trunk/data/gfx32/it-sword.png
   trunk/data/gfx32/it-umbrella.png
   trunk/data/gfx32/it-wrench.png
   trunk/data/gfx40/it-banana.png
   trunk/data/gfx40/it-brush.png
   trunk/data/gfx40/it-cherry.png
   trunk/data/gfx40/it-crack.png
   trunk/data/gfx40/it-cross.png
   trunk/data/gfx40/it-extralife.png
   trunk/data/gfx40/it-floppy.png
   trunk/data/gfx40/it-glasses-broken.png
   trunk/data/gfx40/it-glasses.png
   trunk/data/gfx40/it-hammer.png
   trunk/data/gfx40/it-key.png
   trunk/data/gfx40/it-landmine.png
   trunk/data/gfx40/it-magicwand.png
   trunk/data/gfx40/it-rubberband.png
   trunk/data/gfx40/it-squashed.png
   trunk/data/gfx40/it-sword.png
   trunk/data/gfx40/it-umbrella.png
   trunk/data/gfx40/it-wrench.png
   trunk/data/gfx48/it-banana.png
   trunk/data/gfx48/it-brush.png
   trunk/data/gfx48/it-cherry.png
   trunk/data/gfx48/it-crack.png
   trunk/data/gfx48/it-cross.png
   trunk/data/gfx48/it-extralife.png
   trunk/data/gfx48/it-floppy.png
   trunk/data/gfx48/it-glasses-broken.png
   trunk/data/gfx48/it-glasses.png
   trunk/data/gfx48/it-hammer.png
   trunk/data/gfx48/it-key.png
   trunk/data/gfx48/it-landmine.png
   trunk/data/gfx48/it-magicwand.png
   trunk/data/gfx48/it-rubberband.png
   trunk/data/gfx48/it-squashed.png
   trunk/data/gfx48/it-sword.png
   trunk/data/gfx48/it-umbrella.png
   trunk/data/gfx48/it-wrench.png
Modified:
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/WorldProxy.cc
   trunk/src/floors/FloodStream.cc
   trunk/src/items/Crack.cc
   trunk/src/items/Crack.hh
Log:
Trunk 1.1:
- global attributes: assert on name mismatches
- floodstream vs. burnable_oil: keep it in all cases
- crack - add attribute flavor and cracks that dissolve to water:
  - flavor values "abyss" (default) and "water"
  - water flavor does not crack neighboring cracks
- item images: some additional file renamings
Note:
- water crack images not yet complete and finished

Deleted: trunk/data/gfx32/it-banana.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-brush.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-cherry.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-coin1.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx32/it-coin1.png
===================================================================
--- trunk/data/gfx32/it-coin1.png	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/data/gfx32/it-coin1.png	2009-04-07 22:04:56 UTC (rev 1610)
@@ -0,0 +1,7 @@
+?PNG
+
+
+??~C?y:??8{hK??????0???c?????JB???????{??s???
+?q?kU
+0??@>2nl?x??????7?G?P?0?!@qw@??s??^?\????8Q?"	?"
+??x1??}?sk????X? ?FG??sp?30z?o,%?$lK?>?6/?W??^?}?
\ No newline at end of file

Deleted: trunk/data/gfx32/it-coin2.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx32/it-coin2.png
===================================================================
--- trunk/data/gfx32/it-coin2.png	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/data/gfx32/it-coin2.png	2009-04-07 22:04:56 UTC (rev 1610)
@@ -0,0 +1,8 @@
+?PNG
+
+
+??c????|?<<`O?N??N?J???R?v(+??R#p`?pX'?;5??EP??=?O<?	zQ`???)0?1?? ?C7?????t?=rm*?g???=??FG?5?????{?V?p@?M??
+lt????(?=?X@ ??T?C?8???U?Q?z?8???L??=????
+4?(?k??P?u???2??Pi???????g???C?|?X?UD?j?????
+"?5??(
+??_??c?	??j???l????M????5Z??u??kE???=???:?}B???
\ No newline at end of file

Deleted: trunk/data/gfx32/it-crack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-cross.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-extralife.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-floppy.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-glasses-broken.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-glasses.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-hammer.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-key.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-landmine.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-magicwand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-rubberband.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-squashed.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-sword.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-umbrella.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-wrench.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_banana.png (from rev 1606, trunk/data/gfx32/it-banana.png)

Copied: trunk/data/gfx32/it_brush.png (from rev 1606, trunk/data/gfx32/it-brush.png)

Copied: trunk/data/gfx32/it_cherry.png (from rev 1606, trunk/data/gfx32/it-cherry.png)

Copied: trunk/data/gfx32/it_crack_abyss.png (from rev 1606, trunk/data/gfx32/it-crack.png)

Added: trunk/data/gfx32/it_crack_water.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/it_crack_water.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx32/it_cross.png (from rev 1606, trunk/data/gfx32/it-cross.png)

Copied: trunk/data/gfx32/it_extralife.png (from rev 1606, trunk/data/gfx32/it-extralife.png)

Copied: trunk/data/gfx32/it_floppy.png (from rev 1606, trunk/data/gfx32/it-floppy.png)

Copied: trunk/data/gfx32/it_glasses.png (from rev 1606, trunk/data/gfx32/it-glasses.png)

Copied: trunk/data/gfx32/it_glasses_broken.png (from rev 1606, trunk/data/gfx32/it-glasses-broken.png)

Copied: trunk/data/gfx32/it_hammer.png (from rev 1606, trunk/data/gfx32/it-hammer.png)

Copied: trunk/data/gfx32/it_key.png (from rev 1606, trunk/data/gfx32/it-key.png)

Copied: trunk/data/gfx32/it_landmine.png (from rev 1606, trunk/data/gfx32/it-landmine.png)

Copied: trunk/data/gfx32/it_magicwand.png (from rev 1606, trunk/data/gfx32/it-magicwand.png)

Copied: trunk/data/gfx32/it_rubberband.png (from rev 1606, trunk/data/gfx32/it-rubberband.png)

Copied: trunk/data/gfx32/it_squashed.png (from rev 1606, trunk/data/gfx32/it-squashed.png)

Copied: trunk/data/gfx32/it_sword.png (from rev 1606, trunk/data/gfx32/it-sword.png)

Copied: trunk/data/gfx32/it_umbrella.png (from rev 1606, trunk/data/gfx32/it-umbrella.png)

Copied: trunk/data/gfx32/it_wrench.png (from rev 1606, trunk/data/gfx32/it-wrench.png)

Deleted: trunk/data/gfx40/it-banana.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-brush.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-cherry.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-crack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-cross.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-extralife.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-floppy.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-glasses-broken.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-glasses.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-hammer.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-key.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-landmine.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-magicwand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-rubberband.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-squashed.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-sword.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-umbrella.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-wrench.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_banana.png (from rev 1606, trunk/data/gfx40/it-banana.png)

Copied: trunk/data/gfx40/it_brush.png (from rev 1606, trunk/data/gfx40/it-brush.png)

Copied: trunk/data/gfx40/it_cherry.png (from rev 1606, trunk/data/gfx40/it-cherry.png)

Copied: trunk/data/gfx40/it_crack_abyss.png (from rev 1606, trunk/data/gfx40/it-crack.png)

Added: trunk/data/gfx40/it_crack_water.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx40/it_crack_water.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx40/it_cross.png (from rev 1606, trunk/data/gfx40/it-cross.png)

Copied: trunk/data/gfx40/it_extralife.png (from rev 1606, trunk/data/gfx40/it-extralife.png)

Copied: trunk/data/gfx40/it_floppy.png (from rev 1606, trunk/data/gfx40/it-floppy.png)

Copied: trunk/data/gfx40/it_glasses.png (from rev 1606, trunk/data/gfx40/it-glasses.png)

Copied: trunk/data/gfx40/it_glasses_broken.png (from rev 1606, trunk/data/gfx40/it-glasses-broken.png)

Copied: trunk/data/gfx40/it_hammer.png (from rev 1606, trunk/data/gfx40/it-hammer.png)

Copied: trunk/data/gfx40/it_key.png (from rev 1606, trunk/data/gfx40/it-key.png)

Copied: trunk/data/gfx40/it_landmine.png (from rev 1606, trunk/data/gfx40/it-landmine.png)

Copied: trunk/data/gfx40/it_magicwand.png (from rev 1606, trunk/data/gfx40/it-magicwand.png)

Copied: trunk/data/gfx40/it_rubberband.png (from rev 1606, trunk/data/gfx40/it-rubberband.png)

Copied: trunk/data/gfx40/it_squashed.png (from rev 1606, trunk/data/gfx40/it-squashed.png)

Copied: trunk/data/gfx40/it_sword.png (from rev 1606, trunk/data/gfx40/it-sword.png)

Copied: trunk/data/gfx40/it_umbrella.png (from rev 1606, trunk/data/gfx40/it-umbrella.png)

Copied: trunk/data/gfx40/it_wrench.png (from rev 1606, trunk/data/gfx40/it-wrench.png)

Deleted: trunk/data/gfx48/it-banana.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-brush.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-cherry.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-crack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-cross.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-extralife.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-floppy.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-glasses-broken.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-glasses.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-hammer.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-key.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-landmine.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-magicwand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-rubberband.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-squashed.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-sword.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-umbrella.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-wrench.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_banana.png (from rev 1606, trunk/data/gfx48/it-banana.png)

Copied: trunk/data/gfx48/it_brush.png (from rev 1606, trunk/data/gfx48/it-brush.png)

Copied: trunk/data/gfx48/it_cherry.png (from rev 1606, trunk/data/gfx48/it-cherry.png)

Copied: trunk/data/gfx48/it_crack_abyss.png (from rev 1606, trunk/data/gfx48/it-crack.png)

Added: trunk/data/gfx48/it_crack_water.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx48/it_crack_water.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx48/it_cross.png (from rev 1606, trunk/data/gfx48/it-cross.png)

Copied: trunk/data/gfx48/it_extralife.png (from rev 1606, trunk/data/gfx48/it-extralife.png)

Copied: trunk/data/gfx48/it_floppy.png (from rev 1606, trunk/data/gfx48/it-floppy.png)

Copied: trunk/data/gfx48/it_glasses.png (from rev 1606, trunk/data/gfx48/it-glasses.png)

Copied: trunk/data/gfx48/it_glasses_broken.png (from rev 1606, trunk/data/gfx48/it-glasses-broken.png)

Copied: trunk/data/gfx48/it_hammer.png (from rev 1606, trunk/data/gfx48/it-hammer.png)

Copied: trunk/data/gfx48/it_key.png (from rev 1606, trunk/data/gfx48/it-key.png)

Copied: trunk/data/gfx48/it_landmine.png (from rev 1606, trunk/data/gfx48/it-landmine.png)

Copied: trunk/data/gfx48/it_magicwand.png (from rev 1606, trunk/data/gfx48/it-magicwand.png)

Copied: trunk/data/gfx48/it_rubberband.png (from rev 1606, trunk/data/gfx48/it-rubberband.png)

Copied: trunk/data/gfx48/it_squashed.png (from rev 1606, trunk/data/gfx48/it-squashed.png)

Copied: trunk/data/gfx48/it_sword.png (from rev 1606, trunk/data/gfx48/it-sword.png)

Copied: trunk/data/gfx48/it_umbrella.png (from rev 1606, trunk/data/gfx48/it-umbrella.png)

Copied: trunk/data/gfx48/it_wrench.png (from rev 1606, trunk/data/gfx48/it-wrench.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/data/models-2d.lua	2009-04-07 22:04:56 UTC (rev 1610)
@@ -481,57 +481,57 @@
 do
     itemlist = {
         "it_bag",
+        "it_banana",
         "it_bomb_black",
+        "it_bomb_white",
         "it-blocker",
         "it_bottle_idle",
         "it_bottle_broken",
+        "it_brush",
+        "it_cherry",
+        "it_cross",
         "it_document",
         "it_drop",
         "it_dynamite",
+        "it_extralife",
         "it_flag_black",
         "it_flag_white",
+        "it_floppy",
+        "it_glasses",
+        "it_glasses_broken",
+        "it_hammer",
+        "it_key",
+        "it_landmine",
+        "it_magicwand",
         "it_odometer",
         "it_pencil",
         "it_pin",
         "it_ring",
+        "it_rubberband",
         "it_spade",
         "it_spoon",
         "it_spring_keep",
         "it_spring_drop",
+        "it_squashed",
         "it_surprise",
+        "it_sword",
+        "it_umbrella",
         "it_weight",
-        "it_bomb_white"
+        "it_wrench"
     }
 
     DefImages(itemlist)
 
-    DefImage("it_banana", {filename="it-banana"})
     DefImage("it_brake", {filename="st-brake"})
-    DefImage("it_brush", {filename="it-brush"})
-    DefImage("it_cherry", {filename="it-cherry"})
     DefImage("it_coin_s", {filename="it-coin1"})
     DefImage("it_coin_m", {filename="it-coin2"})
     DefImage("it_coin_l", {filename="it-coin4"})
-    DefImage("it_cross", {filename="it-cross"})
-    DefImage("it_extralife", {filename="it-extralife"})
-    DefImage("it_floppy", {filename="it-floppy"})
-    DefImage("it_glasses", {filename="it-glasses"})
-    DefImage("it_glasses_broken", {filename="it-glasses-broken"})
-    DefImage("it_hammer", {filename="it-hammer"})
-    DefImage("it_key", {filename="it-key"})
-    DefImage("it_landmine", {filename="it-landmine"})
-    DefImage("it_magicwand", {filename="it-magicwand"})
     DefImage("it_meditation_hollow", {filename="it_meditation_hollow"})
     DefImage("it_meditation_hill", {filename="it_meditation_hill"})
     DefImage("it_meditation_dent", {filename="it_meditation_dent"})
     DefImage("it_meditation_bump", {filename="it_meditation_bump"})
     DefImage("it_meditation_volcano", {filename="it_meditation_volcano"})
     DefImage("it_meditation_caldera", {filename="it_meditation_caldera"})
-    DefImage("it_rubberband", {filename="it-rubberband"})
-    DefImage("it_squashed", {filename="it-squashed"})
-    DefImage("it_sword", {filename="it-sword"})
-    DefImage("it_umbrella", {filename="it-umbrella"})
-    DefImage("it_wrench", {filename="it-wrench"})
 end
 
 -------------------------
@@ -639,12 +639,20 @@
 
 -- Cracks --
 do
-    local images = DefSubimages("it-crack", {h=8})
+    local images = DefSubimages("it_crack_abyss", {h=8})
     local frames = BuildFrames(images,50)
     DefAnim("it_debris", frames)
 
-    local frames = BuildFrames({"it-crack4", "it-crack5", "it-crack6", "it-crack7", "it-crack8"},120)
-    DefAnim("it-crack_anim", frames)
+    local frames = BuildFrames({"it_crack_abyss4", "it_crack_abyss5", "it_crack_abyss6", "it_crack_abyss7", "it_crack_abyss8"},120)
+    DefAnim("it_crack_abyss_anim", frames)
+    
+    local images = DefSubimages("it_crack_water", {h=8})
+    local frames = BuildFrames(images,50)
+    DefAnim("it_debris", frames)
+
+    local frames = BuildFrames({"it_crack_water4", "it_crack_water5", "it_crack_water6", "it_crack_water7", "it_crack_water8"},120)
+    DefAnim("it_crack_water_anim", frames)
+
 end
 
 -- it-death --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/data/schemas/objects.xml	2009-04-07 22:04:56 UTC (rev 1610)
@@ -542,6 +542,7 @@
     </object>
     <object name="it_crack">
       <attr name="state" min="-1" max="3"/>
+      <attr name="flavor"/>
       <attr name="fragility"/>
       <attr name="spreading"/>
       <msg name="crack"/>

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/src/WorldProxy.cc	2009-04-07 22:04:56 UTC (rev 1610)
@@ -42,7 +42,7 @@
     WorldProxy::WorldProxy() {
     }
 
-    Value WorldProxy::getAttr(const string& key) const {
+    Value WorldProxy::getAttr(const std::string &key) const {
         if (key == "AllowSingleOxyds") {
             return server::AllowSingleOxyds;
         } else if (key == "TogglePlayerOnDeath") {
@@ -124,7 +124,7 @@
         return Value(Value::DEFAULT);
     }  
 
-    void WorldProxy::setAttr(const string& key, const Value &val) {
+    void WorldProxy::setAttr(const std::string &key, const Value &val) {
         if (key == "AllowSingleOxyds") {
             server::AllowSingleOxyds = val;
         } else if (key == "TogglePlayerOnDeath") {
@@ -228,7 +228,9 @@
         } else if (key == "WormholeRange") {
             server::WormholeRange = val;
             BroadcastMessage("_updateglobals", "it_wormhole", GRID_ITEMS_BIT);
-        }
+        } else
+            ASSERT(false, XLevelRuntime, ecl::strf("Attempt to set not existing global attribute '%s'.", key.c_str()).c_str());
+        
     }
 
 } // namespace enigma

Modified: trunk/src/floors/FloodStream.cc
===================================================================
--- trunk/src/floors/FloodStream.cc	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/src/floors/FloodStream.cc	2009-04-07 22:04:56 UTC (rev 1610)
@@ -146,7 +146,7 @@
                             newfloor->setAttr("interval", getAttr("interval"));
                             SetFloor(p, newfloor);
                             Item *it = GetItem(p);
-                            if (it != NULL && (it->isKind("it_crack") || it->isKind("it_burnable")))
+                            if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
                                 KillItem(p);
                         }
                     }

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/src/items/Crack.cc	2009-04-07 22:04:56 UTC (rev 1610)
@@ -19,7 +19,7 @@
  */
 
 #include "items/Crack.hh"
-//#include "errors.hh"
+#include "errors.hh"
 //#include "main.hh"
 #include "world.hh"
 
@@ -33,6 +33,29 @@
         return "it_crack";
     }
     
+    void Crack::setAttr(const string& key, const Value &val) {
+        if (key == "flavor") {
+            std::string flavor = val.to_string();
+            ASSERT(flavor == "abyss" || flavor == "water", XLevelRuntime, "Crack illegal flavor value");
+            if (flavor == "water")
+                objFlags |= OBJBIT_TYP;
+            else
+                objFlags &= ~OBJBIT_TYP;
+            if (isDisplayable()) {
+                init_model();    // need to redisplay after attribute set
+            }
+            return;
+        }
+        Item::setAttr(key, val);
+    }
+    
+    Value Crack::getAttr(const std::string &key) const {
+        if (key == "flavor") {
+            return objFlags & OBJBIT_TYP ? "water" : "abyss";
+        }
+        return Item::getAttr(key);
+    }
+
     Value Crack::message(const Message &m) {
         if (m.message == "crack" || m.message == "ignite" ) {
             crack();
@@ -65,24 +88,46 @@
             case SMALL :
             case MEDIUM :
             case LARGE :
-                set_model(ecl::strf("it-crack%d", state + 1)); break;
+                set_model(ecl::strf("it_crack_%s%d", objFlags & OBJBIT_TYP ? "water" : "abyss", state + 1)); break;
             case DISSOLVING :
                 sound_event ("floordestroy");
-                set_anim("it-crack_anim");
+                set_anim(ecl::strf("it_crack_%s_anim", objFlags & OBJBIT_TYP ? "water" : "abyss"));
         }
     }
     
     void Crack::actor_enter(Actor *a) {
         if (a->is_on_floor()) {
             crack();
-            if (state < DISSOLVING)
-                spread();
+            if (state < DISSOLVING) {
+                for (Direction d = NORTH; d != NODIR; d = previous(d)) {
+                    GridPos p = move(get_pos(), d);
+                    if (Floor *fl = GetFloor(p)) {
+                        if (fl->is_destructible()) {
+                            if (Item *it = GetItem(p)) {
+                                if (!(objFlags & OBJBIT_TYP))
+                                    SendMessage(it, "crack");
+                            } else {
+                                double spreading = getDefaultedAttr("spreading", server::CrackSpreading); 
+                                if (DoubleRand(0, 0.9999) < spreading) {
+                                    Item *it = MakeItem("it_crack_i");
+                                    it->setAttr("flavor", getAttr("flavor"));
+                                    if (Value v = getAttr("fragility"))
+                                        it->setAttr("fragility", v);
+                                    if (Value v = getAttr("spreading"))
+                                        it->setAttr("spreading", v);
+                                    SetItem(p, it);
+                                }
+                            }
+                        }
+                    }
+                }
+            }
         }
     }
     
     void Crack::animcb() {
         GridPos p= get_pos();
-        SetFloor(p, MakeFloor("fl_abyss"));
+        SetFloor(p, MakeFloor(objFlags & OBJBIT_TYP ? "fl_water" :"fl_abyss"));
         KillItem(p);
     }
     
@@ -98,30 +143,7 @@
             }
         }
     }
-    
-    void Crack::spread() {
-        for (Direction d = NORTH; d != NODIR; d = previous(d)) {
-            GridPos p = move(get_pos(), d);
-            if (Floor *fl = GetFloor(p)) {
-                if (fl->is_destructible()) {
-                    if (Item *it = GetItem(p))
-                        SendMessage(it, "crack");
-                    else {
-                        double spreading = getDefaultedAttr("spreading", server::CrackSpreading); 
-                        if (DoubleRand(0, 0.9999) < spreading) {
-                            Item *it = MakeItem("it_crack_i");
-                            if (Value v = getAttr("fragility"))
-                                it->setAttr("fragility", v);
-                            if (Value v = getAttr("spreading"))
-                                it->setAttr("spreading", v);
-                            SetItem(p, it);
-                        }
-                    }
-                }
-            }
-        }
-    }
-    
+        
     int Crack::traitsIdx() const {
         return state < DISSOLVING ? state + 1 : 3;
     }

Modified: trunk/src/items/Crack.hh
===================================================================
--- trunk/src/items/Crack.hh	2009-04-05 11:54:00 UTC (rev 1609)
+++ trunk/src/items/Crack.hh	2009-04-07 22:04:56 UTC (rev 1610)
@@ -40,18 +40,23 @@
             DISSOLVING =  3        ///<  
         };
 
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_TYP    =   1<<24,   ///< 0 - abyss, 1 - water
+        };
+
     public:
         Crack(int type);
         
         // Object interface
         virtual std::string getClass() const;
+        virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
         virtual Value message (const Message &m);
 
         // StateObject interface
         virtual int maxState() const;
         virtual int minState() const;
         virtual void toggleState();
-//        virtual void setState(int extState);
 
         // GridObject interface
         virtual void init_model();
@@ -62,7 +67,6 @@
         
     private:
         void crack();
-        void spread();
         int traitsIdx() const;
     };
    



From ral at mail.berlios.de  Wed Apr  8 00:18:14 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Wed, 8 Apr 2009 00:18:14 +0200
Subject: [Enigma-game-svn] r1611 - trunk/doc/reference
Message-ID: <200904072218.n37MIExl031343@sheep.berlios.de>

Author: ral
Date: 2009-04-08 00:18:05 +0200 (Wed, 08 Apr 2009)
New Revision: 1611

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- it_crack, ot_timer, ot_counter
- items: separation of portable and static items
- subnodes for floor and item attributes
- some improvements and additions by Andreas Abraham




Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-07 22:04:56 UTC (rev 1610)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-07 22:18:05 UTC (rev 1611)
@@ -1,9 +1,12 @@
 \input texinfo                              @c -*- texinfo -*-
+ at set VERSION 1.10
 @setfilename enigma-ref.info
 @settitle Enigma Reference Manual
+ at documentencoding US-ASCII
+ at documentlanguage en
 @titlepage
 @title Enigma Reference Manual
- at subtitle for version 1.10
+ at subtitle for version @value{VERSION}
 @author Daniel Heck
 @author Petr Machata
 @author Ralf Westram
@@ -22,7 +25,7 @@
 @top
 
 This manual describes the internals of
- at uref{http://www.nongnu.org/enigma/,Enigma} version 1.10, in particular how to
+ at uref{http://www.nongnu.org/enigma/,Enigma} version @value{VERSION}, in particular how to
 build new levels using Lua and how to interact with the game engine.
 @end ifnottex
 
@@ -1372,7 +1375,7 @@
 
 The resulting level looks like this inside the game:
 
- at image{images/first_level}
+ at image{images/first_level, 150mm}
 @ignore
       <img src="welcome.png" alt="The first level" width="75%" height="75%"></para>
 @end ignore
@@ -5782,6 +5785,7 @@
 * FollowGrid::
 * FollowMethod::
 * FollowThreshold::
+* Fragility::
 * FrictionStrength::
 * Height::
 * IsDifficult::
@@ -5866,11 +5870,14 @@
 @node CrackSpreading
 @subsection CrackSpreading
 
-A global default value denoting the probability that a brittle floor plate
-causes direct neighboring floors to either start or to desintegrate further when
-an actor enters or leaves this plate at the center of the affected area. A value
-of @code{1.0} ensures that the crack spread to the direct neighbors, a value of
- at code{0.0} prohibits the spreading to neighbor grids.
+A global default value denoting the probability that a brittle floor plate, that
+is a floor with an @ref{it_crack} on top, causes direct neighboring floors to
+either be marked with an invisible crack or to toggle such invisible cracks to
+a small visible cracks. A value of @code{1.0} ensures that the crack spreads to
+the direct neighbors, a value of @code{0.0} prohibits the spreading to neighbor
+grids. Note that even if crack spreading is prohibited, existing cracks on
+neighbor grids may continue desintegrating due to their @ref{Fragility}. For
+more details see @ref{it_crack}.
 
 @table @asis
 @item @b{Type:} @ @ number
@@ -6011,6 +6018,25 @@
 @item @b{Support:} @ @ no objects
 @end table
 
+ at node Fragility
+ at subsection Fragility
+
+A global default value denoting the probability that a brittle floor plate, that
+is a floor with an @ref{it_crack} on top, continues to desintegrate on events 
+like an actor entering, passing a neighboring @ref{it_crack}, nearby explosions
+or fire heating. A value of @code{1.0} ensures that the crack continues to 
+desintegrates on these events, a value of @code{0.0} prohibits visible cracks
+to get larger. This default is superceeded by @ref{fragility (Floor)} and
+ at ref{it_crack} specific values.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float number between @code{0.0} and @code{1.0}
+ at item @b{Default:} @ @ @code{1.0}
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ @ref{it_crack} and @ref{Floors}
+ at end table
+
 @node FrictionStrength
 @subsection FrictionStrength
 
@@ -6277,10 +6303,20 @@
 @chapter Floor Objects
 
 @menu
+* Floor Overview::
+* Floor Attributes::
 * Standard Floors::
 * Special Floors::
 @end menu
 
+ at c ----------------- Overview Floor --------------------
+ at node Floor Overview
+ at section Floor Overview
+
+ at c ----------------- Floor Attributes --------------------
+ at node Floor Attributes
+ at section Floor Attributes
+
 @c ----------------- Standard Floor --------------------
 @node Standard Floors
 @section Standard Floors
@@ -7158,56 +7194,51 @@
 @chapter Item Objects
 
 @menu
-* Standard Items::
+* Item Overview::
+* Item Attributes::
+* Portable Items::
+* Static Items::
 @end menu
 
- at node Standard Items
- at section Standard Items
+ at c ----------------- Item Overview --------------------
+ at node Item Overview
+ at section Item Overview
 
+ at c ----------------- Item Attributes --------------------
+ at node Item Attributes
+ at section Item Attributes
+
+ at c ----------------- Portable Items --------------------
+ at node Portable Items
+ at section Portable Items
+
 @menu
 * it_bag::             Portable Item Container
 * it_banana::          Transformable Banana
-* it_blocker::         Shrinked Blocker Stone
-* it_brake::           Movable Stone Brake
+* it_brake::           Portable Stone Brake
 * it_brush::           Brush for Painting and Sweeping
 * it_cherry::          Source of Invisibility
 * it_coin::            Enigma's currency
-* it_crack::           Crack in the Floor
-* it_cross::           Floor switch for patient Actors
-* it_death::           Unpassable grid blocker
 * it_extralife::       
 * it_floppy::          Lock opening uncoded Floppy
 * it_glasses::         Glasses to spot certain objects
 * it_hammer::          Stone breaking Hammer
 * it_key::             Lock opening coded Key
-* it_landmine::        
 * it_magicwand::       Wizards Tools
-* it_magnet::          Actor attracting Magnet
-* it_meditation::      
 * it_pin::             Friction increasing crampon
 * it_pipe::            
 * it_puller::          Stone pulling item
 * it_rubberband::      Unconnected Rubberband
 * it_seed::            Seeds for Wood, Volcano Stones
-* it_sensor::          Floor Switch for passing Actors
-* it_shogun::          Dot for Shogun Stones
 * it_spring::          Portable Spring
-* it_springboard::     Static Spring
-* it_squashed::        Remnant of squashed Fruits
-* it_strip::           Narrow Bridge
 * it_surprise::        Random Transforming item
 * it_sword::           Knight defeating Sword
-* it_trap::            
-* it_trigger::         Floor Switch for Actors and Stones
 * it_umbrella::        Death Protection Item
-* it_vortex::          Teleport of Marbels
 * it_weight::          Portable Mass
-* it_wormhole::        Teleport of Actors
 * it_wrench::          Tool for mechanical Stones
 * it_yinyang::         Player toggling Switch
 @end menu
 
-
 @c ----------------- Bag Item --------------------
 @node it_bag
 @subsection it_bag
@@ -7294,86 +7325,6 @@
 @item @b{Messages:} none
 @end table
 
- at c ----------------- Blocker Item --------------------
- at node it_blocker
- at subsection it_blocker
- at obindex it_blocker
-
-A door like object that grows to @ref{st_blocker} when an @ref{st_boulder}
-passes. When the boulder did shrink and pass the blocker again it stays in its
-item like open state until it is passed again by a boulder which causes it to
-grow again to a blocker stone.
-
-It fully supports the messages of any door like object and can be opened and
-closed by any switch like object. Note that due to the transformation between
-stone and item during opening and closing you should name the blocker
-(@pxref{name}) and address the blocker by this name. The complete identity
-with all attributes including any user attributes will be transfered between
-stone and item. E.g. @code{@{it_switch, target="myblocker", action="toggle"@}}
-will open and close a given blocker multiple times.
-
-Note that the blocker is the only door object that allows a stone to be pushed
-through. Just boulders cause the growing. Any other stone keeps the open state.
-
-Another unique door feature is the closing of a blocker item caused by a
-passing actor if the autoclose attribute is set to true.
-
-Note that a dropped @ref{it_brake} destroys this item.
-
- at table @asis
- at item @b{Attributes:}
-
- at table @asis
- at item @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{default}: @code{1} @ @ @xref{state}
-Use CLOSED and OPEN macros as values. The item represents the open state
-and will always return state 1. But you can set its state what is equivalent
-to sending an open message in case of value 1 and a close message in case of
-value 0.
-
- at atindex autoclose
- at item @b{autoclose} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
-A true value causes any actor passing this item to close and grow the blocker.
-
- at end table
-
- at item @b{Messages:}
-
- at table @asis
- at item @b{signal} @ @ @xref{signal}
-A signal of value 1 sends an open message, a signal of value 0 sends a close
-message.
- at item @b{toggle} @ @ @xref{toggle}
-A toggle causes a close message.
- at item @b{close} @ @ @xref{close}
-A close message take immediate effect if the item is not covered by a stone.
-The item transforms to a new growing @ref{st_blocker}. If it is covered by a
-stone of whatever kind it will be marked as unlocked. The closing process starts
-when the stone moves away.
- at item @b{open} @ @ @xref{open}
-As the item is open this message takes only effect if it is currently covered
-by a stone and marked as unlocked. That means it should grow as soon as the
-stone moves away what happens when an @ref{st_boulder} passes an idle blocker
-item. In this case an open message locks the blocker again to avoid a growing
-when the stone moves away.
- at end table
-
- at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-Sends an action at the moment the blocker reaches the open state. That means
-an @ref{st_blocker} did open and did generate this blocker item as its
-successor. The value will be @code{true} to express the open state.
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_blocker}
-A standard blocker item.
- at item @b{it_blocker_new}
-A blocker that just finished shrinking. Mainly used internally as the direct
-successor of an @ref{st_blocker}. But it may be useful to generate an initial
-snapshot of a moving boulder over a blocker line, too. See example levels.
- at end table
-
- at end table
-
 @c ----------------- Brake Item --------------------
 @node it_brake
 @subsection it_brake
@@ -7513,100 +7464,6 @@
 
 @end table
 
- at c ----------------- Crack Item --------------------
- at node it_crack
- at subsection it_crack
- at obindex it_crack
-
-
- at table @asis
-
- at item @b{Attributes:}
-
- at table @asis
- at item @b{state}, @ @ @i{values}: @code{INVISIBLE}, @code{SMALL}, @code{MEDIUM}, @code{LARGE}; @ @ @i{default}: @code{SMALL} @ @ @xref{state}
-
- at end table
-
- at item @b{Messages:}
-
- at table @asis
- at item @b{crack}
- at item @b{toggle} @ @ @xref{toggle}
- at item @b{ignite} @ @ @xref{ignite}
- at item @b{heat} @ @ @xref{heat}
- at end table
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_it_crack}: state = @code{SMALL}
- at item @b{it_it_crack_i}: state = @code{INVISIBLE}
- at item @b{it_it_crack_s}: state = @code{SMALL}
- at item @b{it_it_crack_m}: state = @code{MEDIUM}
- at item @b{it_it_crack_l}: state = @code{LARGE}
- at end table
-
- at end table
-
- at c ----------------- Cross Item --------------------
- at node it_cross
- at subsection it_cross
- at obindex it_cross
-
-An eye-catching cross spot that can detect actors staying on it for a given
-time. When an actor remains on top of the cross for the given @samp{interval}
-without any other actor leaving or passing the cross grid the cross will perform
-its action. Similar, but instant sensors for actors are @ref{it_sensor} and
- at ref{it_trigger}
-
-A cross can be drawn with an @ref{it_pencil} and it can be removed with an
- at ref{it_brush}.
-
-An @ref{st_lightpassenger} moving onto a cross item will switch off.
-
- at table @asis
- at item @b{Attributes:}
-
- at table @asis
- at item @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{access}: @code{read only} @ @ @xref{state}
-The current state - @samp{0} for the last event being an actor leaving the cross,
- at samp{1} for the last event being an actor entering the cross.
-
- at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{10.0}
-Number of seconds that the actor must stay on the sensor to cause an action.
-
- at end table
-
- at item @b{Messages:} none
-
- at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-
- at end table
-
- at c ----------------- Death Item --------------------
- at node it_death
- at subsection it_death
- at obindex it_death
-
-This item shatters any marble that tries to pass the grid. Even jumping marbles
-will be shattered. Just marbles protected by an activated @ref{it_umbrella} can
-pass without taking harm. Apart from that an @samp{it_death} barrier can only be
-passed by walking around the complete barrier or by warping through an
- at ref{it_vortex}, an @ref{it_wormhole} or by means of an @ref{it_ring}.
-
-The death item is the most secure barrier object. Comparable objects are
- at ref{it_booze_broken}, @ref{fl_abyss}, @ref{fl_water}, @ref{it_trap} or simply
-any solid wall of stones. Usually these alternatives should be favored. The
-death item should mainly be used when all other alternatives are too unsecure.
-
- at table @asis
-
- at item @b{Attributes:} none
-
- at item @b{Messages:} none
-
- at end table
-
 @c ----------------- Extralife Item --------------------
 @node it_extralife
 @subsection it_extralife
@@ -7760,32 +7617,6 @@
 
 @end table
 
- at c ----------------- Landmine Item --------------------
- at node it_landmine
- at subsection it_landmine
- at obindex it_landmine
-
-!!TBD - Work in progress !!
-
-A static item that explodes on actors stepping onto its critical center part and
-on stones being pushed onto the mine.
-
-The landmine explodes shattering nearby marbles on the same grid and leaves an
-hollow @ref{it_meditation} behind.
-
-Actors can jump over a landmine and pass carefully between two adjacent
-landmines without activating the mines. Landmines do neither react on nearby
-explosions, nor fire, nor laserbeams.
-
- at table @asis
- at item @b{Attributes:} none
-
- at item @b{Messages:} none
-
- at item @b{Action:} none
-
- at end table
-
 @c ----------------- MagicWand Item --------------------
 @node it_magicwand
 @subsection it_magicwand
@@ -7816,151 +7647,6 @@
 
 @end table
 
- at c ----------------- Magnet Item --------------------
- at node it_magnet
- at subsection it_magnet
- at obindex it_magnet
-
-Attracts or repells actors in its @samp{range} with a force proportional to the
- at samp{strength} and the inverse of the squared distance. A magnet can be
-switched @samp{ON} and @samp{OFF}.
-
-Note that no forces are applied to actors at a distance smaller than 0.05 grids
-to avoid extraordinary large forces.
-
- at table @asis
- at item @b{Attributes:}
-
- at table @asis
- at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
-The current magnet state - @samp{ON} for an active magnet, @samp{OFF} for an
-inactive magnet.
-
- at item @b{range} @ @ @i{values}: float number greater or equal 0; @ @ @i{default}: @code{10.0} @ @ @xref{MagnetRange}
-The distance up to which the magnet applies forces to actors.
-
- at item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{+30.0} @ @ @xref{MagnetStrength}
-A scalar factor for magnet forces. Positive numbers are attracting forces
-where as negative numbers are repelling forces.
- at end table
-
- at item @b{Messages:}
-
- at table @asis
- at item @b{signal} @ @ @xref{signal}
-A signal of value 1 switches the magnet on, a value of 0 switches the magnet off.
- at item @b{toggle} @ @ @xref{toggle}
-A toggle causes a change in the magnet activity state.
- at item @b{on} @ @ @xref{on}
-Switches the magnet on.
- at item @b{off} @ @ @xref{off}
-Switches the magnet off.
- at end table
-
- at item @b{Action:}
-none
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_magnet}
-A magnet in state @samp{OFF}.
- at item @b{it_magnet_on}
-A magnet in state @samp{ON}.
- at item @b{it_magnet_off}
-A magnet in state @samp{OFF}.
- at end table
-
- at end table
-
- at c ----------------- Meditation Item --------------------
- at node it_meditation
- at subsection it_meditation
- at obindex it_meditation
-
-Meditation items are small round areas of flatness imperfection. All actors will
-experience the slope forces that can be modified by the global scalar factor
- at ref{MeditationStrength}. There are different shapes of meditation items that
-are named according to their shape: @code{MEDITATION_CALDERA},
- at code{MEDITATION_HOLLOW}, @code{MEDITATION_DENT}, @code{MEDITATION_BUMP},
- at code{MEDITATION_HILL}, @code{MEDITATION_VOLCANO}.
-
-Of special interest are @ref{ac_marble_meditation}s resting on a meditation
-item. They are counted as meditating after staying continuously for one second
-within the round area of the item. One of the two @ref{Ending Conditions} of the
-game is that all meditation marbles come to rest on mediation items.
-
-As meditation items can dynamically be generated during the game by exploding
- at ref{it_landmine} or @ref{it_dynamite} it may be necessary for an author to
-mark those meditation items that are required to be filled with meditation
-marbles. You do this by setting the @samp{essential} attribute to @code{true}.
-Please make rare and obvious usage of this attribute, as the player can not
-distinguish essential from not essential meditation items by their images.
-
-Meditation items can transform into other shapes by various means.
-
-First a user can push a solid stone over a meditation item or activate an
- at ref{it_shovel} on it. Both actions flatten the meditation, either
- at code{MEDITATION_VOLCANO} -> @code{MEDITATION_HILL} -> @code{MEDITATION_BUMP}
--> @code{it_nil} or @code{MEDITATION_CALDERA} -> @code{MEDITATION_HOLLOW} ->
- at code{MEDITATION_DENT} -> @code{it_nil}.
-
-Secondly you can send a @code{"flip"} message to a meditation item which
-transforms hollow like items into their hill like counterparts and vice versa:
- at code{MEDITATION_VOLCANO} <-> @code{MEDITATION_CALDERA}, @code{MEDITATION_HILL}
-<-> @code{MEDITATION_HOLLOW}, @code{MEDITATION_BUMP} <-> @code{MEDITATION_DENT}.
-
-Third a @code{"signal"} message flips on a @code{1} value all meditations to
-their hill like counterparts, keeping hill like meditations unchanged, and on a
- at code{0} value to their hollow like counterparts, keeping hollow like meditations
-unchanged.
-
-A fourth message is @code{"toggle"}. It transforms @code{MEDITATION_HOLLOW} <->
- at code{MEDITATION_VOLCANO}, @code{MEDITATION_CALDERA} <-> @code{MEDITATION_HILL},
- at code{MEDITATION_BUMP} <-> @code{MEDITATION_DENT}.
-
-Of course you can change the state by attribute setting anytime in any sequence
-you like. Essentialness is kept on shape transformations and mediation actor
-counting is updated and continues.
-
- at table @asis
- at item @b{Attributes:}
- at table @asis
- at item @b{state}, @ @ @i{values}: @code{MEDITATION_CALDERA}, @code{MEDITATION_HOLLOW}, @code{MEDITATION_DENT}, @code{MEDITATION_BUMP}, @code{MEDITATION_HILL}, @code{MEDITATION_VOLCANO}; @ @ @i{default}: @code{MEDITATION_HOLLOW} @ @ @xref{state}
-The shape of the meditation.
- at item @b{essential} @ @ @i{values}: @code{DISPENSIBLE}, @code{INDISPENSIBLE}; @ @ @i{default}: @code{DISPENSIBLE}
-Essentialness of being filled with a meditation marble to fulfill the
- at ref{Ending Conditions}.
- at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{friction}
-Deviating friction that defaults to floor friction.
- at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{adhesion}
-Deviating adhesion that defaults to floor adhesion.
- at end table
-
- at item @b{Messages:}
- at table @asis
- at item @b{flip}
-Shape transformation. See text above.
- at item @b{shovel}
-Shape transformation like an activated @ref{it_shovel}. See text above.
- at item @b{signal} @ @ @xref{signal}
-Shape transformation. See text above.
- at item @b{toggle}
-Shape transformation. See text above.
- at end table
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_meditation} state = @code{MEDITATION_HOLLOW}
- at item @b{it_meditation_caldera} state = @code{MEDITATION_CALDERA}
- at item @b{it_meditation_hollow} state = @code{MEDITATION_HOLLOW}
- at item @b{it_meditation_dent} state = @code{MEDITATION_DENT}
- at item @b{it_meditation_bump} state = @code{MEDITATION_BUMP}
- at item @b{it_meditation_hill} state = @code{MEDITATION_HILL}
- at item @b{it_meditation_volcano} state = @code{MEDITATION_VOLCANO}
- at end table
-
- at end table
-
 @c ----------------- Pencil Item --------------------
 @node it_pencil
 @subsection it_pencil
@@ -8175,8 +7861,8 @@
 @item @b{flavor}, @ @ @i{values}: @code{"wood"}, @code{"hay"}, @code{"fake"}, @code{"volcano"}; @ @ @i{default}: @code{"wood"}
 The type of the resulting stone.
 @item @b{secure} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
-This attribute is transfered to the resulting stone. The @ref{st_volcano} makes
-use of it.
+This attribute is transfered to the resulting stone. The @ref{st_volcano} and
+ at ref{st_box} make use of it.
 @end table
 
 @item @b{Messages:}
@@ -8198,6 +7884,633 @@
 
 @end table
 
+ at c ----------------- Spring Item --------------------
+ at node it_spring
+ at subsection it_spring
+ at obindex it_spring
+
+Springs let @ref{Flying Actors} jump on activation.
+
+There are two types of portable springs. A thin one that is kept in the 
+inventory on activation and can thus be used multiple times in sequence. And
+a thick, condensed one that gets dropped on activation. A static jump
+facility that can not be picked up by an actor is the @ref{it_springboard}.
+
+ at table @asis
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_spring}
+ at item @b{it_spring_keep}
+ at item @b{it_spring_drop}
+ at end table
+
+ at end table
+
+ at c ----------------- Surprise Item --------------------
+ at node it_surprise
+ at subsection it_surprise
+ at obindex it_surprise
+
+An item that transforms into a random item as soon as the player drops it.
+
+The replacement item is a random one out of a given selection. You can set
+the @samp{selection} attribute with tokens of strings. Every string needs either
+to be an @ref{Object Kind} or a tile key prefixed by an equal sign @samp{=}.
+
+ at example
+ti["m"] = @{"it_magicwand"@}
+ti["e"] = @{"it_extralife"@}
+ti["s"] = @{"it_surprise", selection=@{"it_seed", "=m", "=e", "=e"@}@}
+ at end example
+
+The replacement item is randomly chosen out of the given selection. By listing
+an item several times you can take influence on the likelyhood.
+
+The tile declarations referenced by a key may even contain objects besides
+items. But you should make rare and proper usage of this feature.
+
+Prior replacing the surprise item but after droping it the surprise item will
+perform its action. You can use this action to modify the selection or to set
+objects on your own.
+
+The surprise item is killed by any replacement item set to the grid position.
+If your selection does not resolve to an item you may need to add @samp{"it_nil"}
+to the replacement tile declaration.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{selection}, @ @ @i{values}: tokens of item kinds and tile keys; @ @ @i{default}: @code{@{"it_umbrella", "it_spring_keep", "it_dynamite", "it_coffee", "it_hammer"@}}
+
+ at end table
+
+ at item @b{Messages:}
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at end table
+
+ at c ----------------- Sword Item --------------------
+ at node it_sword
+ at subsection it_sword
+ at obindex it_sword
+
+The sword is used to neutralize @ref{st_knight}.
+
+It transforms into @ref{it_hammer} when hit by a laser beam and is itself a
+laser transformation result of an @ref{it_hammer}.
+
+A sword that comes into existence on an illuminated grid position will not
+transform due to already existing laser beams. But it will transform on the first
+additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into a sword this new sword will be immune to
+further light transformations for a short latency period to avoid unstable
+flickering of repeated item transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_sword}
+A standard sword item.
+ at item @b{it_sword_new}
+A sword that is immune to light transformations for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Umbrella Item --------------------
+ at node it_umbrella
+ at subsection it_umbrella
+ at obindex it_umbrella
+
+An activated umbrella temporarily protects a marble from @ref{st_death},
+ at ref{st_knight}, @ref{st_thief}, @ref{fl_abyss}, @ref{fl_water},
+ at ref{fl_swamp}, @ref{fl_thief}, @ref{it_death}, @ref{it_trap},
+broken @ref{it_bottle}, explosions, moving stones and all other internal
+ at samp{shatter} and @samp{fall} events; in other words, from all lethal
+situations and thieves.
+
+An umbrella gets destroyed when hit by a laser beam and is itself a
+laser transformation result of an @samp{it_coin_s}(@pxref{it_coin}).
+
+An umbrella that comes into existence on an illuminated grid position will not
+be destroyed due to already existing laser beams. But it will be destroyed on
+the first additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into an umbrella this new umbrella will be immune to
+light destruction for a short latency period to avoid repeated item
+transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_umbrella}
+A standard umbrella item.
+ at item @b{it_umbrella_new}
+An umbrella that is immune to light destruction for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Weight Item --------------------
+ at node it_weight
+ at subsection it_weight
+ at obindex it_weight
+
+A weight is an item with a mass, that defaults to the mass of 10 @ref{ac_marble}s.
+When it is picked up it is added to the inventory and increases the mass of
+all actors owned by the inventory's owner.
+
+Weights can easily be picked up, but the player can not drop them. Just indirect
+methods like hitting @ref{st_mail}, @ref{st_thief} or crossing a @ref{fl_thief}
+may remove this item from the inventory.
+
+The inventories mass is always updated to the mass of all weights kept in the
+inventory or contained in any @ref{it_bag} contained in the inventory.
+
+ at table @asis
+
+ at item @b{Attributes:} none
+ at table @asis
+ at item @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{+10.0}
+Mass unit is the mass of an @ref{ac_marble}
+ at end table
+
+ at item @b{Messages:} none
+
+ at end table
+
+ at c ----------------- Wrench Item --------------------
+ at node it_wrench
+ at subsection it_wrench
+ at obindex it_wrench
+
+A wrench wielded as first item in the players inventory causes some objects
+to react on actor hits. An @ref{st_rotator} changes its turning direction.
+An green @ref{st_turnstile} rotates backwards when hit. An @ref{st_window}
+face pushed with an wrench will swap to the opposite side of the stone if
+possible.
+
+ at table @asis
+
+ at item @b{Attributes:} none
+
+ at item @b{Messages:} none
+
+ at end table
+
+ at c ----------------- Yinyang Item --------------------
+ at node it_yinyang
+ at subsection it_yinyang
+ at obindex it_yinyang
+
+A special switch that allows the user to toggle the @ref{Player and Inventory}
+between @code{YIN} and @code{YANG}.
+
+On activation this item does not get dropped but remains unchanged in the
+inventory.
+
+If a level has been declared to be a full blown two player network level in
+ at ref{<modes>}, but is currently played on a single computer both players
+get automatically an yinyang item added to their inventory to allow all actors
+to be controlled at every point of time.
+
+ at table @asis
+
+ at item @b{Attributes:} none
+
+ at item @b{Messages:} none
+
+ at end table
+
+ at c ----------------- Static Items --------------------
+ at node Static Items
+ at section Static Items
+
+ at menu
+* it_blocker::         Shrinked Blocker Stone
+* it_crack::           Crack in the Floor
+* it_cross::           Floor switch for patient Actors
+* it_death::           Unpassable grid blocker
+* it_landmine::        
+* it_magnet::          Actor attracting Magnet
+* it_meditation::      
+* it_sensor::          Floor Switch for passing Actors
+* it_shogun::          Dot for Shogun Stones
+* it_springboard::     Static Spring
+* it_squashed::        Remnant of squashed Fruits
+* it_strip::           Narrow Bridge
+* it_trap::            
+* it_trigger::         Floor Switch for Actors and Stones
+* it_vortex::          Teleport of Marbels
+* it_wormhole::        Teleport of Actors
+ at end menu
+
+
+ at c ----------------- Blocker Item --------------------
+ at node it_blocker
+ at subsection it_blocker
+ at obindex it_blocker
+
+A door like object that grows to @ref{st_blocker} when an @ref{st_boulder}
+passes. When the boulder did shrink and pass the blocker again it stays in its
+item like open state until it is passed again by a boulder which causes it to
+grow again to a blocker stone.
+
+It fully supports the messages of any door like object and can be opened and
+closed by any switch like object. Note that due to the transformation between
+stone and item during opening and closing you should name the blocker
+(@pxref{name}) and address the blocker by this name. The complete identity
+with all attributes including any user attributes will be transfered between
+stone and item. E.g. @code{@{it_switch, target="myblocker", action="toggle"@}}
+will open and close a given blocker multiple times.
+
+Note that the blocker is the only door object that allows a stone to be pushed
+through. Just boulders cause the growing. Any other stone keeps the open state.
+
+Another unique door feature is the closing of a blocker item caused by a
+passing actor if the autoclose attribute is set to true.
+
+Note that a dropped @ref{it_brake} destroys this item.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{default}: @code{1} @ @ @xref{state}
+Use CLOSED and OPEN macros as values. The item represents the open state
+and will always return state 1. But you can set its state what is equivalent
+to sending an open message in case of value 1 and a close message in case of
+value 0.
+
+ at atindex autoclose
+ at item @b{autoclose} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+A true value causes any actor passing this item to close and grow the blocker.
+
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+A signal of value 1 sends an open message, a signal of value 0 sends a close
+message.
+ at item @b{toggle} @ @ @xref{toggle}
+A toggle causes a close message.
+ at item @b{close} @ @ @xref{close}
+A close message take immediate effect if the item is not covered by a stone.
+The item transforms to a new growing @ref{st_blocker}. If it is covered by a
+stone of whatever kind it will be marked as unlocked. The closing process starts
+when the stone moves away.
+ at item @b{open} @ @ @xref{open}
+As the item is open this message takes only effect if it is currently covered
+by a stone and marked as unlocked. That means it should grow as soon as the
+stone moves away what happens when an @ref{st_boulder} passes an idle blocker
+item. In this case an open message locks the blocker again to avoid a growing
+when the stone moves away.
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+Sends an action at the moment the blocker reaches the open state. That means
+an @ref{st_blocker} did open and did generate this blocker item as its
+successor. The value will be @code{true} to express the open state.
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_blocker}
+A standard blocker item.
+ at item @b{it_blocker_new}
+A blocker that just finished shrinking. Mainly used internally as the direct
+successor of an @ref{st_blocker}. But it may be useful to generate an initial
+snapshot of a moving boulder over a blocker line, too. See example levels.
+ at end table
+
+ at end table
+
+ at c ----------------- Crack Item --------------------
+ at node it_crack
+ at subsection it_crack
+ at obindex it_crack
+
+A legacy item that features a crack in the floor. A crack increases every time
+an actor enters and finally dissolves the floor either into an @ref{fl_abyss}
+or an @ref{fl_water}. The color of the fissures shows the upcoming new floor
+kind and corresponds to the attribute @samp{flavor}.
+
+The progress of the floor destruction is described by the attribute @samp{state}.
+On every crack event the state advances by one and a cracking @samp{LARGE} crack
+finally dissolves giving an actor on top just enough time to leave the grid at
+once. Of course an actor jumping over a crack does not causes change on the
+crack itself.
+
+You can control the crack progress by the two attributes @samp{spreading} and
+ at samp{fragility}. Where as the first attribute describes the likelihood that the
+crack spreads to a neighboring crack free grid, does the second attribute 
+describe the likelihood that an existing crack advances its state.
+
+An actor entering a crack causes the crack itself to advance its state with the
+given likelihood. A default @samp{abyss} crack causes existing cracks on any of
+the 4 neighboring grid positions to advance their states, too. But a 
+ at ref{water} crack does not advance neighboring cracks. Both do cause a spread 
+with the given likelihood of an invisible crack to any of the 4 neighboring grid
+positions in case no crack or any other items exists on it.
+
+Let us have another look on a spreading crack. An actor entering a crack causes
+an invisible crack on the next grid. If the actor continues to move to this grid
+the invisible crack advances to a small visible one, of cause just with the
+given likihood. Note that this first and just this first crack progress takes
+place with the likihood of spreading, too. That means even if the fragility is
+zero the invisible crack gets visible.
+
+Another special feature is the behaviour of a large crack. An actor entering
+causes it to dissolve. But this causes neither a spreading nor a crack advancing
+on neighboring grids. This feature is essential to allow an actor to walk over
+a path of large cracks, as the next grid may not dissolve on an actor entering
+the one before.
+
+Common attribute patterns besides the default ones are:
+ at itemize @bullet
+ at item @samp{spreading=0, fragility=0} - a fake crack that neither spreads nor dissolves
+ at item @samp{spreading=0, fragility=1} - a crack that dissolves and causes neighbor cracks to disolve, but does not spread to new floors
+ at end itemize
+
+Both attributes are inherited to new cracks during the process of spreading.
+If not set they take as default the value of the global attributes. For a maximum
+control you can set individual floors their own @ref{fragility (floor)}. These
+values superceed the global @ref{Fragility} default.
+
+Undestructible floors like @ref{fl_abyss}, @ref{fl_water}, @ref{fl_swamp} will
+never crack. As any other item cracks do block laser light and prohibit other items to be
+dropped on the same grid. Nearby fire, explosions and hitting 
+ at ref{ot_cannonball}s will dissolve a crack.
+
+ at table @asis
+
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{INVISIBLE}, @code{SMALL}, @code{MEDIUM}, @code{LARGE}; @ @ @i{default}: @code{SMALL} @ @ @xref{state}
+ at item @b{flavor}, @ @ @i{values}: @code{"abyss"}, @code{"water"}; @ @ @i{default}: @code{"abyss"}
+ at item @b{spreading} @ @ @i{values}: positive number between 0.0 and 1.0; @ @ @i{default}: @code{0.5}, @ @ @xref{CrackSpreading}
+ at item @b{fragility} @ @ @i{values}: positive number between 0.0 and 1.0; @ @ @i{default}: @code{1.0}, @ @ @xref{Fragility}
+
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{crack}
+ at item @b{toggle} @ @ @xref{toggle}
+ at item @b{ignite} @ @ @xref{ignite}
+ at item @b{heat} @ @ @xref{heat}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_crack}: state = @code{SMALL}
+ at item @b{it_crack_i}: state = @code{INVISIBLE}
+ at item @b{it_crack_s}: state = @code{SMALL}
+ at item @b{it_crack_m}: state = @code{MEDIUM}
+ at item @b{it_crack_l}: state = @code{LARGE}
+ at end table
+
+ at end table
+
+ at c ----------------- Cross Item --------------------
+ at node it_cross
+ at subsection it_cross
+ at obindex it_cross
+
+An eye-catching cross spot that can detect actors staying on it for a given
+time. When an actor remains on top of the cross for the given @samp{interval}
+without any other actor leaving or passing the cross grid the cross will perform
+its action. Similar, but instant sensors for actors are @ref{it_sensor} and
+ at ref{it_trigger}
+
+A cross can be drawn with an @ref{it_pencil} and it can be removed with an
+ at ref{it_brush}.
+
+An @ref{st_lightpassenger} moving onto a cross item will switch off.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{access}: @code{read only} @ @ @xref{state}
+The current state - @samp{0} for the last event being an actor leaving the cross,
+ at samp{1} for the last event being an actor entering the cross.
+
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{10.0}
+Number of seconds that the actor must stay on the sensor to cause an action.
+
+ at end table
+
+ at item @b{Messages:} none
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at end table
+
+ at c ----------------- Death Item --------------------
+ at node it_death
+ at subsection it_death
+ at obindex it_death
+
+This item shatters any marble that tries to pass the grid. Even jumping marbles
+will be shattered. Just marbles protected by an activated @ref{it_umbrella} can
+pass without taking harm. Apart from that an @samp{it_death} barrier can only be
+passed by walking around the complete barrier or by warping through an
+ at ref{it_vortex}, an @ref{it_wormhole} or by means of an @ref{it_ring}.
+
+The death item is the most secure barrier object. Comparable objects are
+ at ref{it_booze_broken}, @ref{fl_abyss}, @ref{fl_water}, @ref{it_trap} or simply
+any solid wall of stones. Usually these alternatives should be favored. The
+death item should mainly be used when all other alternatives are too unsecure.
+
+ at table @asis
+
+ at item @b{Attributes:} none
+
+ at item @b{Messages:} none
+
+ at end table
+
+ at c ----------------- Landmine Item --------------------
+ at node it_landmine
+ at subsection it_landmine
+ at obindex it_landmine
+
+!!TBD - Work in progress !!
+
+A static item that explodes on actors stepping onto its critical center part and
+on stones being pushed onto the mine.
+
+The landmine explodes shattering nearby marbles on the same grid and leaves an
+hollow @ref{it_meditation} behind.
+
+Actors can jump over a landmine and pass carefully between two adjacent
+landmines without activating the mines. Landmines do neither react on nearby
+explosions, nor fire, nor laserbeams.
+
+ at table @asis
+ at item @b{Attributes:} none
+
+ at item @b{Messages:} none
+
+ at item @b{Action:} none
+
+ at end table
+
+ at c ----------------- Magnet Item --------------------
+ at node it_magnet
+ at subsection it_magnet
+ at obindex it_magnet
+
+Attracts or repells actors in its @samp{range} with a force proportional to the
+ at samp{strength} and the inverse of the squared distance. A magnet can be
+switched @samp{ON} and @samp{OFF}.
+
+Note that no forces are applied to actors at a distance smaller than 0.05 grids
+to avoid extraordinary large forces.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
+The current magnet state - @samp{ON} for an active magnet, @samp{OFF} for an
+inactive magnet.
+
+ at item @b{range} @ @ @i{values}: float number greater or equal 0; @ @ @i{default}: @code{10.0} @ @ @xref{MagnetRange}
+The distance up to which the magnet applies forces to actors.
+
+ at item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{+30.0} @ @ @xref{MagnetStrength}
+A scalar factor for magnet forces. Positive numbers are attracting forces
+where as negative numbers are repelling forces.
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+A signal of value 1 switches the magnet on, a value of 0 switches the magnet off.
+ at item @b{toggle} @ @ @xref{toggle}
+A toggle causes a change in the magnet activity state.
+ at item @b{on} @ @ @xref{on}
+Switches the magnet on.
+ at item @b{off} @ @ @xref{off}
+Switches the magnet off.
+ at end table
+
+ at item @b{Action:}
+none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_magnet}
+A magnet in state @samp{OFF}.
+ at item @b{it_magnet_on}
+A magnet in state @samp{ON}.
+ at item @b{it_magnet_off}
+A magnet in state @samp{OFF}.
+ at end table
+
+ at end table
+
+ at c ----------------- Meditation Item --------------------
+ at node it_meditation
+ at subsection it_meditation
+ at obindex it_meditation
+
+Meditation items are small round areas of flatness imperfection. All actors will
+experience the slope forces that can be modified by the global scalar factor
+ at ref{MeditationStrength}. There are different shapes of meditation items that
+are named according to their shape: @code{MEDITATION_CALDERA},
+ at code{MEDITATION_HOLLOW}, @code{MEDITATION_DENT}, @code{MEDITATION_BUMP},
+ at code{MEDITATION_HILL}, @code{MEDITATION_VOLCANO}.
+
+Of special interest are @ref{ac_marble_meditation}s resting on a meditation
+item. They are counted as meditating after staying continuously for one second
+within the round area of the item. One of the two @ref{Ending Conditions} of the
+game is that all meditation marbles come to rest on mediation items.
+
+As meditation items can dynamically be generated during the game by exploding
+ at ref{it_landmine} or @ref{it_dynamite} it may be necessary for an author to
+mark those meditation items that are required to be filled with meditation
+marbles. You do this by setting the @samp{essential} attribute to @code{true}.
+Please make rare and obvious usage of this attribute, as the player can not
+distinguish essential from not essential meditation items by their images.
+
+Meditation items can transform into other shapes by various means.
+
+First a user can push a solid stone over a meditation item or activate an
+ at ref{it_shovel} on it. Both actions flatten the meditation, either
+ at code{MEDITATION_VOLCANO} -> @code{MEDITATION_HILL} -> @code{MEDITATION_BUMP}
+-> @code{it_nil} or @code{MEDITATION_CALDERA} -> @code{MEDITATION_HOLLOW} ->
+ at code{MEDITATION_DENT} -> @code{it_nil}.
+
+Secondly you can send a @code{"flip"} message to a meditation item which
+transforms hollow like items into their hill like counterparts and vice versa:
+ at code{MEDITATION_VOLCANO} <-> @code{MEDITATION_CALDERA}, @code{MEDITATION_HILL}
+<-> @code{MEDITATION_HOLLOW}, @code{MEDITATION_BUMP} <-> @code{MEDITATION_DENT}.
+
+Third a @code{"signal"} message flips on a @code{1} value all meditations to
+their hill like counterparts, keeping hill like meditations unchanged, and on a
+ at code{0} value to their hollow like counterparts, keeping hollow like meditations
+unchanged.
+
+A fourth message is @code{"toggle"}. It transforms @code{MEDITATION_HOLLOW} <->
+ at code{MEDITATION_VOLCANO}, @code{MEDITATION_CALDERA} <-> @code{MEDITATION_HILL},
+ at code{MEDITATION_BUMP} <-> @code{MEDITATION_DENT}.
+
+Of course you can change the state by attribute setting anytime in any sequence
+you like. Essentialness is kept on shape transformations and mediation actor
+counting is updated and continues.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{MEDITATION_CALDERA}, @code{MEDITATION_HOLLOW}, @code{MEDITATION_DENT}, @code{MEDITATION_BUMP}, @code{MEDITATION_HILL}, @code{MEDITATION_VOLCANO}; @ @ @i{default}: @code{MEDITATION_HOLLOW} @ @ @xref{state}
+The shape of the meditation.
+ at item @b{essential} @ @ @i{values}: @code{DISPENSIBLE}, @code{INDISPENSIBLE}; @ @ @i{default}: @code{DISPENSIBLE}
+Essentialness of being filled with a meditation marble to fulfill the
+ at ref{Ending Conditions}.
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{friction}
+Deviating friction that defaults to floor friction.
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{adhesion}
+Deviating adhesion that defaults to floor adhesion.
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{flip}
+Shape transformation. See text above.
+ at item @b{shovel}
+Shape transformation like an activated @ref{it_shovel}. See text above.
+ at item @b{signal} @ @ @xref{signal}
+Shape transformation. See text above.
+ at item @b{toggle}
+Shape transformation. See text above.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_meditation} state = @code{MEDITATION_HOLLOW}
+ at item @b{it_meditation_caldera} state = @code{MEDITATION_CALDERA}
+ at item @b{it_meditation_hollow} state = @code{MEDITATION_HOLLOW}
+ at item @b{it_meditation_dent} state = @code{MEDITATION_DENT}
+ at item @b{it_meditation_bump} state = @code{MEDITATION_BUMP}
+ at item @b{it_meditation_hill} state = @code{MEDITATION_HILL}
+ at item @b{it_meditation_volcano} state = @code{MEDITATION_VOLCANO}
+ at end table
+
+ at end table
+
 @c ----------------- Sensor Item --------------------
 @node it_sensor
 @subsection it_sensor
@@ -8297,30 +8610,6 @@
 
 @end table
 
- at c ----------------- Spring Item --------------------
- at node it_spring
- at subsection it_spring
- at obindex it_spring
-
-Springs let @ref{Flying Actors} jump on activation.
-
-There are two types of portable springs. A thin one that is kept in the 
-inventory on activation and can thus be used multiple times in sequence. And
-a thick, condensed one that gets dropped on activation. A static jump
-facility that can not be picked up by an actor is the @ref{it_springboard}.
-
- at table @asis
- at item @b{Attributes:} none
- at item @b{Messages:} none
- at item @b{Variants:}
- at table @asis
- at item @b{it_spring}
- at item @b{it_spring_keep}
- at item @b{it_spring_drop}
- at end table
-
- at end table
-
 @c ----------------- Springboard Item --------------------
 @node it_springboard
 @subsection it_springboard
@@ -8414,80 +8703,6 @@
 
 @end table
 
- at c ----------------- Surprise Item --------------------
- at node it_surprise
- at subsection it_surprise
- at obindex it_surprise
-
-An item that transforms into a random item as soon as the player drops it.
-
-The replacement item is a random one out of a given selection. You can set
-the @samp{selection} attribute with tokens of strings. Every string needs either
-to be an @ref{Object Kind} or a tile key prefixed by an equal sign @samp{=}.
-
- at example
-ti["m"] = @{"it_magicwand"@}
-ti["e"] = @{"it_extralife"@}
-ti["s"] = @{"it_surprise", selection=@{"it_seed", "=m", "=e", "=e"@}@}
- at end example
-
-The replacement item is randomly chosen out of the given selection. By listing
-an item several times you can take influence on the likelyhood.
-
-The tile declarations referenced by a key may even contain objects besides
-items. But you should make rare and proper usage of this feature.
-
-Prior replacing the surprise item but after droping it the surprise item will
-perform its action. You can use this action to modify the selection or to set
-objects on your own.
-
-The surprise item is killed by any replacement item set to the grid position.
-If your selection does not resolve to an item you may need to add @ref{"it_nil"}
-to the replacement tile declaration.
-
- at table @asis
- at item @b{Attributes:}
- at table @asis
- at item @b{selection}, @ @ @i{values}: tokens of item kinds and tile keys; @ @ @i{default}: @code{@{"it_umbrella", "it_spring_keep", "it_dynamite", "it_coffee", "it_hammer"@}}
-
- at end table
-
- at item @b{Messages:}
-
- at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-
- at end table
-
- at c ----------------- Sword Item --------------------
- at node it_sword
- at subsection it_sword
- at obindex it_sword
-
-The sword is used to neutralize @ref{st_knight}.
-
-It transforms into @ref{it_hammer} when hit by a laser beam and is itself a
-laser transformation result of an @ref{it_hammer}.
-
-A sword that comes into existence on an illuminated grid position will not
-transform due to already existing laser beams. But it will transform on the first
-additional beam and on laser beams that are switched off and on again.
-
-If another item transforms into a sword this new sword will be immune to
-further light transformations for a short latency period to avoid unstable
-flickering of repeated item transformations.
-
- at table @asis
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_sword}
-A standard sword item.
- at item @b{it_sword_new}
-A sword that is immune to light transformations for a short latency period.
- at end table
-
- at end table
-
 @c ----------------- Trap Item --------------------
 @node it_trap
 @subsection it_trap
@@ -8581,41 +8796,6 @@
 @end table
 
 
- at c ----------------- Umbrella Item --------------------
- at node it_umbrella
- at subsection it_umbrella
- at obindex it_umbrella
-
-An activated umbrella temporarily protects a marble from @ref{st_death},
- at ref{st_knight}, @ref{st_thief}, @ref{fl_abyss}, @ref{fl_water},
- at ref{fl_swamp}, @ref{fl_thief}, @ref{it_death}, @ref{it_trap},
-broken @ref{it_bottle}, explosions, moving stones and all other internal
- at samp{shatter} and @samp{fall} events; in other words, from all lethal
-situations and thieves.
-
-An umbrella gets destroyed when hit by a laser beam and is itself a
-laser transformation result of an @samp{it_coin_s}(@pxref{it_coin}).
-
-An umbrella that comes into existence on an illuminated grid position will not
-be destroyed due to already existing laser beams. But it will be destroyed on
-the first additional beam and on laser beams that are switched off and on again.
-
-If another item transforms into an umbrella this new umbrella will be immune to
-light destruction for a short latency period to avoid repeated item
-transformations.
-
- at table @asis
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_umbrella}
-A standard umbrella item.
- at item @b{it_umbrella_new}
-An umbrella that is immune to light destruction for a short latency period.
- at end table
-
- at end table
-
 @c ----------------- Vortex Item --------------------
 @node it_vortex
 @subsection it_vortex
@@ -8698,34 +8878,6 @@
 @end table
 @end table
 
- at c ----------------- Weight Item --------------------
- at node it_weight
- at subsection it_weight
- at obindex it_weight
-
-A weight is an item with a mass, that defaults to the mass of 10 @ref{ac_marble}s.
-When it is picked up it is added to the inventory and increases the mass of
-all actors owned by the inventory's owner.
-
-Weights can easily be picked up, but the player can not drop them. Just indirect
-methods like hitting @ref{st_mail}, @ref{st_thief} or crossing a @ref{fl_thief}
-may remove this item from the inventory.
-
-The inventories mass is always updated to the mass of all weights kept in the
-inventory or contained in any @ref{it_bag} contained in the inventory.
-
- at table @asis
-
- at item @b{Attributes:} none
- at table @asis
- at item @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{+10.0}
-Mass unit is the mass of an @ref{ac_marble}
- at end table
-
- at item @b{Messages:} none
-
- at end table
-
 @c ----------------- Wormhole Item --------------------
 @node it_wormhole
 @subsection it_wormhole
@@ -8800,50 +8952,7 @@
 
 @end table
 
- at c ----------------- Wrench Item --------------------
- at node it_wrench
- at subsection it_wrench
- at obindex it_wrench
 
-A wrench wielded as first item in the players inventory causes some objects
-to react on actor hits. An @ref{st_rotator} changes its turning direction.
-An green @ref{st_turnstile} rotates backwards when hit. An @ref{st_window}
-face pushed with an wrench will swap to the opposite side of the stone if
-possible.
-
- at table @asis
-
- at item @b{Attributes:} none
-
- at item @b{Messages:} none
-
- at end table
-
- at c ----------------- Yinyang Item --------------------
- at node it_yinyang
- at subsection it_yinyang
- at obindex it_yinyang
-
-A special switch that allows the user to toggle the @ref{Player and Inventory}
-between @code{YIN} and @code{YANG}.
-
-On activation this item does not get dropped but remains unchanged in the
-inventory.
-
-If a level has been declared to be a full blown two player network level in
- at ref{<modes>}, but is currently played on a single computer both players
-get automatically an yinyang item added to their inventory to allow all actors
-to be controlled at every point of time.
-
- at table @asis
-
- at item @b{Attributes:} none
-
- at item @b{Messages:} none
-
- at end table
-
-
 @c ===================  Stones  =======================
 @node Stone Objects
 @chapter Stone Objects
@@ -9750,6 +9859,9 @@
 
 @table @asis
 @item @b{flavor} @ @ @i{values}: @code{"wood"}, @code{"hay"}, @code{"rock"}; @ @ @i{default}: @code{"wood"}; @ @ @i{access}: read only
+ at item @b{secure} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+This attribute is inherited to a floor build by a falling box and guarantees
+then secure fire burning.
 @end table
 
 @item @b{Messages:} none
@@ -10276,8 +10388,8 @@
 @ref{st_grate} of flavor @code{"cross"}. Flavor @code{"b"} looks in the closed 
 state like @ref{st_flat} and in the opened state like an @ref{st_grate} of
 flavor @code{"framed"}. Flavor @code{"c"} looks in the closed state like
- at ref{st_flat} but opens to an unvisible, free passable, but still existing and
-grid blocking stone. The flavor @code{"d"} represent a faces based door, that 
+ at ref{st_flat} but opens to an invisible, free passable, but still existing and
+grid blocking stone. The flavor @code{"d"} represents a faces based door, that 
 opens or blocks just the given faces of the grid. Currently just the 
 combinations of two parallel aligned door faces, aka horizontal and vertical 
 doors, are supported.
@@ -12555,7 +12667,8 @@
 
 This stone can be used to trigger a delayed single or periodic events. An
 active, switched on timer is usually visualized by an animation. An inactive,
-switched off timer shows a static image.
+switched off timer shows a static image. An alternative to an invisible timer
+stone is an @ref{ot_timer} gadget.
 
 Note that this is an exceptional object as its default state is @samp{ON} to
 support the most common case of immediatly runnning timers.
@@ -13736,8 +13849,128 @@
 
 
 @menu
+* ot_counter::   Threshold Switch
+* ot_timer::     Invisible Timer
 @end menu
 
+ at c ----------------- Counter Gadget --------------------
+ at node ot_counter
+ at subsection ot_counter
+ at obindex ot_counter
+
+A counter that switches on given thresholds. As a supplement to single switch
+like objektes as @ref{it_trigger}, @ref{st_switch}, @ref{st_laserswitch},
+ at ref{st_coinslot}, @ref{st_key}, @ref{st_floppy}, etc. this gadget allows to
+react on a given number of these switches to be switched @samp{ON} while the
+others being switched @samp{OFF}.
+
+The attribute @samp{state} represents the count of switches in @samp{ON} state.
+Due to the @ref{Snapshot Principle} you need to set it to the initial number
+of @samp{ON} switches. All switches need to declare the counter gadget as their 
+ at samp{target}. They all need to send a @code{"signal"} message as @samp{action}.
+The counter gadget increases or decreases its count state on every received 
+signal message thus keeping it up to date.
+
+The gadget itself can perform actions by usage of @ref{Object State} dependent
+targets and actions.
+
+E.g. let us assume 8 @ref{it_trigger}s and 8 @ref{st_box}es. Two boxes are
+initially on top of two triggers. A door should open as soon as the user
+succeeds in pushing all boxes onto the triggers.
+
+ at example
+ti["t"] = @{"it_trigger", target="mycounter", action="signal"@}
+ti["b"] = @{"st_box"@}
+ti["o"] = ti["t"] .. ti["b"]
+ti["d"] = @{"st_door", "mydoor"@}
+wo(ti, " ", @{"t t t o t o t t",
+             "b b b   b   b b",
+	     "      d   @@    "@})
+wo:add(@{"ot_counter", "mycounter", state=2, target="mydoor", action_7="close", action_8="open"@})
+ at end example
+
+Note that it is not sufficient to send an @code{"open"} message on a 
+ at samp{state} count of 8, as this event occurs, when 7 boxes are on top of 
+triggers and the last trigger is pressed by the actor itself, too. When the
+actor leaves the 8th trigger the gadget state decreases its state to 7 and
+sends a @code{"close"} message to the door.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: numbers; @ @ @i{default}: 0 @ @ @xref{state}
+The count of switches in @samp{ON} state.
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Increases state on a value of @samp{1}, and decreases on a value of @samp{0}.
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+Sends an action with value @samp{true} just on explicitly given 
+ at ref{Object State} dependent target or action attributes. No default 
+ at code{"toggle"} actions will be issued on other states.
+ at end table
+
+
+ at c ----------------- Timer Gadget --------------------
+ at node ot_timer
+ at subsection ot_timer
+ at obindex ot_timer
+
+This gadget can be used to trigger a delayed single or periodic events. It is
+nearly identical to the @ref{st_timer}, but does neither require a grid position
+nor disturbes the user by a pulsing animation.
+
+Note that this is an exceptional object as its default state is @samp{ON} to
+support the most common case of immediatly runnning timers.
+
+A single shot, not looping timer will send an action value of @samp{true}. A
+looping timer will alternate the boolean action values starting with value
+ at samp{true}. You can use @ref{inverse} to start with a value of @samp{false}.
+
+If you stop a timer by switching it off, no further events will be performed.
+Restarting the timer by switching it on again will restart the timer like
+a new timer.
+
+The time interval to the first event and between subsequent events can be relied
+on to an accuracy of 0.01 seconds. But due to performance reasons and visibility
+of the reactions timers should not be set to intervals below 0.1 seconds. An
+interval of less than 0.01 seconds is not valid for a looping timer.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{ON} @ @ @xref{state}
+An @samp{ON} state timer is running. A timer in state @samp{OFF} is reset and
+waiting for reactivation.
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{1.0}
+Number of seconds until the first and between subsequent events. The interval
+must be larger or equal 0.01 seconds for looping timers.
+ at item @b{loop} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
+A looping timer will send periodic events.
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Switches on at value @samp{1}, and off at values @samp{0}.
+ at item @b{on} @ @ @xref{on}
+ at item @b{off} @ @ @xref{off}
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+The action value starts with @samp{true} and alternates on every event between
+ at samp{false} and @samp{true}. A timer that is reset starts again with value
+ at samp{true}
+ at end table
+
 @c ===================  Libraries  =======================
 
 @node Libraries



From ral at mail.berlios.de  Fri Apr 10 00:21:18 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Fri, 10 Apr 2009 00:21:18 +0200
Subject: [Enigma-game-svn] r1612 - trunk/doc/reference
Message-ID: <200904092221.n39MLIhf028696@sheep.berlios.de>

Author: ral
Date: 2009-04-10 00:21:08 +0200 (Fri, 10 Apr 2009)
New Revision: 1612

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- rest of missing floor objects 
- some item obejcts 

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-07 22:18:05 UTC (rev 1611)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-09 22:21:08 UTC (rev 1612)
@@ -6317,6 +6317,88 @@
 @node Floor Attributes
 @section Floor Attributes
 
+ at menu
+* adhesion (floor)::        Effectiveness of mousemotion
+* burnable::
+* eternal::                 
+* faces (floor)::           Framing Configuration
+* fastfire::
+* floodable::               Flood Affinity
+* force_x::
+* force_y::
+* fragility::
+* freeze_check::
+* friction (floor)::        Decelerating friction force factor
+* ignitable::
+* indestructible::          
+* initfire::
+* noash::
+* push_directions::
+* secure::                  
+ at end menu
+
+
+ at c ----------------- adhesion (floor) --------------------
+ at node adhesion (floor)
+ at subsection adhesion (floor)
+
+The responsiveness of an actor on mouse movements. It is a scalar factor to
+the accelerating force applied to an actor. Note that the actor itself
+has another scalar @ref{adhesion (actor)} factor. The adhesion may take negativ
+values, too. Such values correspond to inverse forces.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float number
+ at item @b{Default:} @ @ @code{0.0}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- faces (floor) --------------------
+ at node faces (floor)
+ at subsection faces (floor)
+
+Describes if a floor is framed. 
+
+Currently a floor is either not framed at all or framed on all sides. The frame
+attribute can not be direclty accessed and modified on most floors. Append the
+string @code{"_framed"} to a given floor name to yield the all side framed
+variant.
+
+ at table @asis
+ at item @b{Type:} @ @ string or nil
+ at item @b{Values:} @ @ @code{nil}, @code{"nesw"}
+ at item @b{Default:} @ @ @code{nil}
+ at item @b{Access:} @ @ none - with a few exceptions
+ at end table
+
+ at c ----------------- floodable --------------------
+ at node floodable
+ at subsection floodable
+
+Determines whether a floor can be flooded by @ref{fl_water} from a neighboring
+floor.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- friction (floor) --------------------
+ at node friction (floor)
+ at subsection friction (floor)
+
+ at pxref{friction}.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float number
+ at item @b{Default:} @ @ @code{0.0}
+ at item @b{Access:} @ @ read/write
+ at end table
+
 @c ----------------- Standard Floor --------------------
 @node Standard Floors
 @section Standard Floors
@@ -6338,7 +6420,9 @@
 * fl_gray::           Gray with some brown spots
 * fl_himalaya::       Blue purple marbled floor
 * fl_ivory::          Warm pearl white floor
+* fl_lawn::           Grass in several textures
 * fl_marble::         Light red brown marbled floor
+* fl_metal::          Metal floor in several textures
 * fl_mortar::         Rough white floor with gray wrinkles
 * fl_pinkbumps::      Pink floor with white bumps
 * fl_plank::          Small diagonal planks
@@ -6347,7 +6431,9 @@
 * fl_redslab::        Dark red marbled slab
 * fl_rough::          Rough warm white floor
 * fl_sahara::         Bright yellow sandstone floor
+* fl_samba::          Grey bleached wooden floor
 * fl_sand::           Granular orange gray sand floor
+* fl_space::          Black space with a few sparkling stars
 * fl_stone::          Granular brown gray floor
 * fl_tigris::         Red sandstone floor
 * fl_white::          Pure white floor
@@ -6691,6 +6777,41 @@
 @end table
 @end table
 
+ at c ----------------- Lawn Floor --------------------
+ at node fl_lawn
+ at subsection fl_lawn
+ at obindex fl_lawn
+
+Grass floor. Light and dark grass and different textures of both exist.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.5 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 4.0 @ @ @xref{friction}
+ at item @b{texture}, @ @ @i{values}: "a","b","c1","c2","c3","c4","d1","d2","d3","d4","e1","e2","e3","e4" ; @ @ @i{default}: "a"; @ @ @i{access}: @code{none}  @ @ @xref{texture}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_lawn}: texture = @samp{"a"}
+ at item @b{fl_lawn_a}: texture = @samp{"a"}
+ at item @b{fl_lawn_b}: texture = @samp{"b"}
+ at item @b{fl_lawn_c1}: texture = @samp{"c1"}
+ at item @b{fl_lawn_c2}: texture = @samp{"c2"}
+ at item @b{fl_lawn_c3}: texture = @samp{"c3"}
+ at item @b{fl_lawn_c4}: texture = @samp{"c4"}
+ at item @b{fl_lawn_d1}: texture = @samp{"d1"}
+ at item @b{fl_lawn_d2}: texture = @samp{"d2"}
+ at item @b{fl_lawn_d3}: texture = @samp{"d3"}
+ at item @b{fl_lawn_d4}: texture = @samp{"d4"}
+ at item @b{fl_lawn_e1}: texture = @samp{"e1"}
+ at item @b{fl_lawn_e2}: texture = @samp{"e2"}
+ at item @b{fl_lawn_e3}: texture = @samp{"e3"}
+ at item @b{fl_lawn_e4}: texture = @samp{"e4"}
+ at end table
+ at end table
+
 @c ----------------- Marble Floor --------------------
 @node fl_marble
 @subsection fl_marble
@@ -6712,6 +6833,43 @@
 @end table
 @end table
 
+ at c ----------------- Metal Floor --------------------
+ at node fl_metal
+ at subsection fl_metal
+ at obindex fl_metal
+
+Grey metal floor with rivets. Several different textures exists with horizontal
+or vertical aligned joists and various rivets.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 3.0 @ @ @xref{friction}
+ at item @b{texture}, @ @ @i{values}: integer number, 1 <= n <= 7  ; @ @ @i{default}: random; @ @ @i{access}: @code{none}  @ @ @xref{texture}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_metal}: texture = @samp{random}
+ at item @b{fl_metal_1}: texture = @code{1}
+ at item @b{fl_metal_2}: texture = @code{2}
+ at item @b{fl_metal_3}: texture = @code{3}
+ at item @b{fl_metal_4}: texture = @code{4}
+ at item @b{fl_metal_5}: texture = @code{5}
+ at item @b{fl_metal_6}: texture = @code{6}
+ at item @b{fl_metal_7}: texture = @code{7}
+ at item @b{fl_metal_framed}: texture = @samp{random}
+ at item @b{fl_metal_1_framed}: texture = @code{1}
+ at item @b{fl_metal_2_framed}: texture = @code{2}
+ at item @b{fl_metal_3_framed}: texture = @code{3}
+ at item @b{fl_metal_4_framed}: texture = @code{4}
+ at item @b{fl_metal_5_framed}: texture = @code{5}
+ at item @b{fl_metal_6_framed}: texture = @code{6}
+ at item @b{fl_metal_7_framed}: texture = @code{7}
+ at end table
+ at end table
+
 @c ----------------- Mortar Floor --------------------
 @node fl_mortar
 @subsection fl_mortar
@@ -6881,6 +7039,33 @@
 @end table
 @end table
 
+ at c ----------------- Samba Floor --------------------
+ at node fl_samba
+ at subsection fl_samba
+ at obindex fl_samba
+
+Grey bleached wooden floor. Textures with horizontal and vertical aligned plank 
+exist.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 6.0 @ @ @xref{friction}
+ at item @b{texture}, @ @ @i{values}: "h", "v"  ; @ @ @i{default}: random; @ @ @i{access}: @code{none}  @ @ @xref{texture}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_samba}: texture = @samp{random}
+ at item @b{fl_samba_h}: texture = @code{"h"}
+ at item @b{fl_samba_v}: texture = @code{"v"}
+ at item @b{fl_samba_framed}: texture = @samp{random}
+ at item @b{fl_samba_h_framed}: texture = @code{"h"}
+ at item @b{fl_samba_v_framed}: texture = @code{"v"}
+ at end table
+ at end table
+
 @c ----------------- Sand Floor --------------------
 @node fl_sand
 @subsection fl_sand
@@ -6902,6 +7087,28 @@
 @end table
 @end table
 
+ at c ----------------- Space Floor --------------------
+ at node fl_space
+ at subsection fl_space
+ at obindex fl_space
+
+Black space with a few sparkling stars. This floor has neither a friction nor
+does it provide an adhesion. All actors do drift for inifinity on this floor
+until they reach another floor.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 0.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 0.0 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_space}
+ at end table
+ at end table
+
 @c ----------------- Stone Floor --------------------
 @node fl_stone
 @subsection fl_stone
@@ -6991,11 +7198,52 @@
 @section Special Floors
 
 @menu
+* fl_abyss::          Deep black Chasm
 * fl_bridge::         Abyss Bridge
+* fl_fake::           Fake mimicing other Floors
+* fl_hay::            
+* fl_ice::            
+* fl_inverse::        Accerate into the inverse direction
+* fl_rock::           
 * fl_slope::          Slopes in various shapes
+* fl_swamp::          
 * fl_thief::          Hidden Thief
+* fl_water::          
+* fl_wood::           
+* fl_yinyang::        Player dependent Adhesion
 @end menu
 
+ at c ----------------- Abyss Floor --------------------
+ at node fl_abyss
+ at subsection fl_abyss
+ at obindex fl_abyss
+
+Pure black abyss into which all rolling balls do fall and shatter. An abyss
+chasm can be crossed by jumping. @ref{Actors} protected by an activated
+ at ref{it_umbrella} can pass and even move on an abyss as it provides useful
+ at samp{adhesion} and @samp{friction}. Another comparable floor barrier is
+ at ref{fl_water}.
+
+Many floors disintegrate on fire or on a dissolving @ref{it_crack} into an
+abyss. The abyss itself is indestructible. It does neither burn nor crack.
+
+Some stones fall into abyss, too. @ref{st_box} will build floors on which all
+actors can move and pass the former abyss filled grid.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{friction}
+ at item @b{indestructible}, @ @ @i{values}: bool ; @ @ @i{default}: true; @ @ @i{access}: @code{none}  @ @ @xref{indestructible}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_abyss}
+ at end table
+ at end table
+
 @c ----------------- Bridge Floor --------------------
 @node fl_bridge
 @subsection fl_bridge
@@ -7034,6 +7282,8 @@
 The state as visible and responsible for the actor ability to pass.
 @item @b{flavor}, @ @ @i{values}: @code{"gc"}, @code{"bw"}, @code{"bn"}; @ @ @i{default}: @code{"gc"}
 The type of the bridge.
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 5.0 @ @ @xref{friction}
 @end table
 
 @item @b{Messages:}
@@ -7065,6 +7315,149 @@
 
 @end table
 
+ at c ----------------- Fake Floor --------------------
+ at node fl_fake
+ at subsection fl_fake
+ at obindex fl_fake
+
+A floor that mimics other floors, but does not act like them.
+
+In contrast to @ref{fl_abyss} the fake abyss is just a standard floor that lets
+pass any actor without any harm.
+
+A fake trigger looks similar to an @ref{it_trigger} but is just a standard floor
+without any special features.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 3.0 @ @ @xref{friction}
+ at item @b{flavor}, @ @ @i{values}: @code{"abyss"}, @code{"trigger"}; @ @ @i{default}: @code{"abyss"}; @ @ @i{access}: @code{none}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_fake_abyss}: flavor = @code{"abyss"}
+ at item @b{fl_fake_trigger}: flavor = @code{"trigger"}
+ at end table
+ at end table
+
+ at c ----------------- Hay Floor --------------------
+ at node fl_hay
+ at subsection fl_hay
+ at obindex fl_hay
+
+A hay floor is in most aspects a standard floor, that exists in a framed
+variation, too.
+
+The framed variant is the successor of a fallen @ref{st_box}_hay. It may be
+flooded by a @ref{fl_water} stream without the attribute @samp{floodable} being
+set to @samp{true} as the flood passes below this floor. The framed wood 
+acts like a bridge over a flood stream and the water will continue to spread to
+neighboring grids, while the framed wood is still passable for actors. In fact
+a framed wood can even operate as a flood source, but we do not recommend this
+usage. @pxref{Flood Spreading}.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{FLOODING}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{0.2}
+Number of seconds .
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.5 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 5.0 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_hay}
+ at item @b{fl_hay_framed}: faces = @code{"nesw"}
+ at end table
+ at end table
+
+ at c ----------------- Ice Floor --------------------
+ at node fl_ice
+ at subsection fl_ice
+ at obindex fl_ice
+
+An ice floor is very slippery frozen water. The user can increase the effective
+friction by carrying an @ref{it_pin} in the players inventory.
+
+Ice is a standard floor in most aspects. But an @ref{it_dynamite} will leave
+an @ref{it_crack}_water instead of a meditation hollow, and nearby fire heat
+will melt the ice to @ref{fl_water}.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 0.1 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 0.1 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_ice}
+ at end table
+ at end table
+
+ at c ----------------- Inverse Floor --------------------
+ at node fl_inverse
+ at subsection fl_inverse
+ at obindex fl_inverse
+
+Inverse floors accelerate all actors into the opposite direction of the applied
+mouse input force. In all other aspects they are just standard floors.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: -2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 3.0 @ @ @xref{friction}
+ at item @b{flavor}, @ @ @i{values}: @code{"white"}, @code{"gray"}; @ @ @i{default}: @code{"white"}; @ @ @i{access}: @code{none}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_inverse}: flavor = @code{"white"}
+ at item @b{fl_inverse_white}: flavor = @code{"white"}
+ at item @b{fl_inverse_gray}: flavor = @code{"gray"}
+ at end table
+ at end table
+
+ at c ----------------- Rock Floor --------------------
+ at node fl_rock
+ at subsection fl_rock
+ at obindex fl_rock
+
+A rock floor is in most aspects a standard floor, that exists in a framed
+variation, too.
+
+The framed variant is the successor of a fallen @ref{st_box}_rock. It may be
+flooded by a @ref{fl_water} stream without the attribute @samp{floodable} being
+set to @samp{true} as the flood passes below this floor. The framed wood 
+acts like a bridge over a flood stream and the water will continue to spread to
+neighboring grids, while the framed wood is still passable for actors. In fact
+a framed wood can even operate as a flood source, but we do not recommend this
+usage. @pxref{Flood Spreading}.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{FLOODING}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{0.2}
+Number of seconds .
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.2 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 6.5 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_rock}
+ at item @b{fl_rock_framed}: faces = @code{"nesw"}
+ at end table
+ at end table
+
 @c ----------------- Slope Floor --------------------
 @node fl_slope
 @subsection fl_slope
@@ -7119,6 +7512,8 @@
 @item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{25.0} @ @ @xref{SlopeStrength}
 @item @b{force_x} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0}
 @item @b{force_y} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0}
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 4.0 @ @ @xref{friction}
 
 @end table
 
@@ -7155,6 +7550,36 @@
 
 @end table
 
+ at c ----------------- Swamp Floor --------------------
+ at node fl_swamp
+ at subsection fl_swamp
+ at obindex fl_swamp
+
+A swamp is very sticky floor caused by a high friction. Additionally ball like
+actors will sink in swamp. But the sink speed is limited and gives the user
+a certain time, defined by the global attribute @ref{SwampSinkTime}. When
+an actor moves faster than 6 grids per second, the actor start raising out of 
+the swamp. Jumping in a swamp raises an actor, too.
+
+A swamp is indestructible to the aspect that @ref{it_crack} will not spread
+onto it. But fire starting to burn nearby will dry out the swamp to 
+ at ref{fl_dunes}. A swamp itself may be a succesor of a @ref{fl_water} heated by 
+a fire.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 13.0 @ @ @xref{friction}
+ at item @b{indestructible}, @ @ @i{values}: bool ; @ @ @i{default}: true; @ @ @i{access}: @code{none}  @ @ @xref{indestructible}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_swamp}
+ at end table
+ at end table
+
 @c ----------------- Thief Floor --------------------
 @node fl_thief
 @subsection fl_thief
@@ -7182,12 +7607,159 @@
 
 @table @asis
 @item @b{Attributes:} none
+ at table @asis
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.5 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 4.5 @ @ @xref{friction}
+ at end table
 
 @item @b{Messages:} none
 
 @item @b{Action:}  none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_thief}
 @end table
+ at end table
 
+ at c ----------------- Water Floor --------------------
+ at node fl_water
+ at subsection fl_water
+ at obindex fl_water
+
+Besides @ref{fl_abyss} water is the second natural floor barrier for ball like
+actors as they can not easily pass it. 
+
+ at ref{ac_marble} and @ref{ac_pearl} will sink in water, usually at once, but the 
+time amount can be configured by the global attribute @ref{WaterSinkTime}. 
+Unlike @ref{fl_swamp} water does not raise fast moving actors. But jumping 
+within water raises an actor. Jumping completely over a water chasm is of course
+a more standard way to cross it. Actors protected by an activated 
+ at ref{it_umbrella} can pass and even move on water without restrictions.
+
+Some stones fall into water, too. @ref{st_box} will build floors on which all
+actors can move and pass the former water filled grid.
+
+Water itself is indestructible to the aspect that @ref{it_crack} will not spread
+onto it. But fire starting to burn nearby will dry out the water to
+ at ref{fl_swamp}.
+
+The standard water is static, its @samp{state} is @samp{IDLE}. It will not 
+spread to adjacent floors. But you can set up flood streams that will fill areas
+or flow through given paths. You just need to define the area by setting the 
+attribute @samp{floodable} to @samp{true} on the affected floors. As soon as you
+add a @samp{fl_water_source} or set the @samp{state} to @samp{FLOODING}, the
+water starts to spread to floodable neigboring grids with a speed defined by the
+attribute @samp{interval}. The speed will be inherited to floors flooded by
+a stream.
+
+Floodable floors with solid stones, closed doors or @ref{st_window} with 
+blocking faces on top will keep the flood from spreading to a new grid. But as
+soon as the obstacle vanishes, e.g. an @ref{st_door} opens, the flood continues
+to spread. Hollow stones, especially @ref{st_oneway} do not block flood streams,
+totally independent of actor blocking features on certain typs or faces.
+
+Of special interest are the @ref{st_box} and their successor floors, the framed
+variants of @ref{fl_wood}, @ref{fl_hay} and @ref{fl_rock}. A flood will flow
+beneath a box stone, if the floor benath is floodable. In consequence of the
+upcoming water, the box stone will fall and build a framed floor of the given
+kind. These floors act like bridges over flooding water. They still let the
+flood spread to further neighboring floodable floors. Thus a user can not stop
+a flood by pushing an @ref{st_box} onto its path, but he can make the water
+passable for his marbles.
+
+When a flood stream spreads to a new floor items on these floors may be affected.
+ at ref{it_crack} get flooded and do vanish. All @{it_burnable} besides oil gets
+wiped out, too.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{FLOODING}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{0.2}
+Number of seconds .
+ at item @b{indestructible}, @ @ @i{values}: bool ; @ @ @i{default}: true; @ @ @i{access}: @code{none}  @ @ @xref{indestructible}
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 1.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 5.0 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_water}: state = @code{IDLE}
+ at item @b{fl_water_source}: state = @code{FLOODING}
+ at end table
+ at end table
+
+ at c ----------------- Wood Floor --------------------
+ at node fl_wood
+ at subsection fl_wood
+ at obindex fl_wood
+
+A wooden floor is in most aspects a standard floor, that exists in textures
+with horizontal or vertical panels, or random. All textures come in a framed
+variation, too.
+
+The framed variant is the successor of a fallen @ref{st_box}_wood. It may be
+flooded by a @ref{fl_water} stream without the attribute @samp{floodable} being
+set to @samp{true} as the flood passes below this floor. The framed wood 
+acts like a bridge over a flood stream and the water will continue to spread to
+neighboring grids, while the framed wood is still passable for actors. In fact
+a framed wood can even operate as a flood source, but we do not recommend this
+usage. @pxref{Flood Spreading}.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{FLOODING}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{0.2}
+Number of seconds .
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 6.4 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_wood}: texture = random
+ at item @b{fl_wood_h}: texture = @code{"h"}
+ at item @b{fl_wood_v}: texture = @code{"v"}
+ at item @b{fl_wood_framed}: texture = random, faces = @code{"nesw"}
+ at item @b{fl_wood_h_framed}: texture = @code{"h"}, faces = @code{"nesw"}
+ at item @b{fl_wood_v_framed}: texture = @code{"v"}, faces = @code{"nesw"}
+ at end table
+ at end table
+
+ at c ----------------- Yinyang Floor --------------------
+ at node fl_yinyang
+ at subsection fl_yinyang
+ at obindex fl_yinyang
+
+A floor that lets move just actors assigned to one player. A basic floor color
+of dark gray corresponds to @samp{YIN} and lets accelerate just actors that
+are controlled by this first player. White colored yinyang floors correspond
+to @samp{YANG} and let accelerate just actors controlled by this second player.
+
+The floor image with 4 rivets in the corners shows an additional yinyang symbol
+to visualize that not the color of the actor is essential but the controlling
+player. In large areas of this floor this symbol is disturbing and it can be
+switched off by the attribute @samp{invisible}.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{YIN}, @code{YANG}; @ @ @i{default}: @code{YIN} @ @ @xref{state}
+ at item @b{invisible} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+ at item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
+ at item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 5.2 @ @ @xref{friction}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{fl_yinyang}: state = @code{YIN}
+ at item @b{fl_yinyang_yin}: state = @code{YIN}
+ at item @b{fl_yinyang_yang}: state = @code{YANG}
+ at end table
+ at end table
+
 @c ===================  Items  =======================
 
 @node Item Objects
@@ -7215,21 +7787,33 @@
 @menu
 * it_bag::             Portable Item Container
 * it_banana::          Transformable Banana
+* it_bomb::            -
+* it_bottle::          -
 * it_brake::           Portable Stone Brake
 * it_brush::           Brush for Painting and Sweeping
 * it_cherry::          Source of Invisibility
+* it_coffee::          Cup of Coffee
 * it_coin::            Enigma's currency
-* it_extralife::       
+* it_document::        Readable Text Document
+* it_drop::            -
+* it_dynamite::        -
+* it_extinguisher::    -
+* it_extralife::       Another Life or Glasses
+* it_flag::            -
 * it_floppy::          Lock opening uncoded Floppy
 * it_glasses::         Glasses to spot certain objects
 * it_hammer::          Stone breaking Hammer
 * it_key::             Lock opening coded Key
 * it_magicwand::       Wizards Tools
+* it_pencil::          Pencil to mark Objects
 * it_pin::             Friction increasing crampon
-* it_pipe::            
+* it_pipe::            Pipe for Transmissions
 * it_puller::          Stone pulling item
+* it_ring::            -
 * it_rubberband::      Unconnected Rubberband
 * it_seed::            Seeds for Wood, Volcano Stones
+* it_spade::           Shuffle for Meditation flattening
+* it_spoon::           -
 * it_spring::          Portable Spring
 * it_surprise::        Random Transforming item
 * it_sword::           Knight defeating Sword
@@ -7418,6 +8002,20 @@
 @item @b{Messages:} none
 @end table
 
+ at c ----------------- Coffee Item --------------------
+ at node it_coffee
+ at subsection it_coffee
+ at obindex it_coffee
+
+A totally passiv cup of coffee. It can be picked up and be dropped many times.
+It blocks laser light, prohibits @ref{it_crack} spreading but it burns on fire
+and is blown away on @ref{it_bomb} explosions. 
+
+ at table @asis
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+ at end table
+
 @c ----------------- Coin Item --------------------
 @node it_coin
 @subsection it_coin
@@ -7464,6 +8062,36 @@
 
 @end table
 
+ at c ----------------- Document Item --------------------
+ at node it_document
+ at subsection it_document
+ at obindex it_document
+
+This item looks like a piece of paper and contains a text message that can be
+displayed by activating the item. It is destroyed by explosions from 
+ at ref{it_bomb}, @ref{st_dispenser}, @ref{it_dynamite} and by burning fire.
+
+ at table @asis
+
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{text}, @ @ @i{values}: string;
+Either the text to be displayed or just a key word for identification on
+ at ref{Internationalization (i18n)}.
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{ignite}
+Burn and destroy the document.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_document}
+ at end table
+ at end table
+
 @c ----------------- Extralife Item --------------------
 @node it_extralife
 @subsection it_extralife
@@ -7663,7 +8291,7 @@
 application, too. The actor can only mark a floor if it is on the floor and not
 flying. During a jump an actor will just drop the pencil as an item.
 
-On actor hits with a revealed pencil on a @ref{flat} the stones gets marked
+On actor hits with a revealed pencil on a @ref{st_flat} the stones gets marked
 burnable. Again the pencil is consumed on this operation. Both the plain and
 the movable variants can be marked.
 
@@ -7884,6 +8512,25 @@
 
 @end table
 
+ at c ----------------- Spade Item --------------------
+ at node it_spade
+ at subsection it_spade
+ at obindex it_spade
+
+A spade activated while being on the grid position of an @ref{it_meditation}
+will flatten this by one degree and will finally eliminate it completly.
+
+ at table @asis
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_spade}
+ at end table
+
+ at end table
+
 @c ----------------- Spring Item --------------------
 @node it_spring
 @subsection it_spring
@@ -8094,9 +8741,11 @@
 
 @menu
 * it_blocker::         Shrinked Blocker Stone
+* it_burnable::        -
 * it_crack::           Crack in the Floor
 * it_cross::           Floor switch for patient Actors
 * it_death::           Unpassable grid blocker
+* it_explosion::       -
 * it_landmine::        
 * it_magnet::          Actor attracting Magnet
 * it_meditation::      
@@ -8434,10 +9083,10 @@
 @code{MEDITATION_HOLLOW}, @code{MEDITATION_DENT}, @code{MEDITATION_BUMP},
 @code{MEDITATION_HILL}, @code{MEDITATION_VOLCANO}.
 
-Of special interest are @ref{ac_marble_meditation}s resting on a meditation
-item. They are counted as meditating after staying continuously for one second
-within the round area of the item. One of the two @ref{Ending Conditions} of the
-game is that all meditation marbles come to rest on mediation items.
+Of special interest are @ref{ac_pearl}s resting on a meditation item. They are
+counted as meditating after staying continuously for one second within the round
+area of the item. One of the two @ref{Ending Conditions} of the game is that all
+meditation marbles come to rest on mediation items.
 
 As meditation items can dynamically be generated during the game by exploding
 @ref{it_landmine} or @ref{it_dynamite} it may be necessary for an author to
@@ -8449,7 +9098,7 @@
 Meditation items can transform into other shapes by various means.
 
 First a user can push a solid stone over a meditation item or activate an
- at ref{it_shovel} on it. Both actions flatten the meditation, either
+ at ref{it_spade} on it. Both actions flatten the meditation, either
 @code{MEDITATION_VOLCANO} -> @code{MEDITATION_HILL} -> @code{MEDITATION_BUMP}
 -> @code{it_nil} or @code{MEDITATION_CALDERA} -> @code{MEDITATION_HOLLOW} ->
 @code{MEDITATION_DENT} -> @code{it_nil}.
@@ -8491,7 +9140,7 @@
 @item @b{flip}
 Shape transformation. See text above.
 @item @b{shovel}
-Shape transformation like an activated @ref{it_shovel}. See text above.
+Shape transformation like an activated @ref{it_spade}. See text above.
 @item @b{signal} @ @ @xref{signal}
 Shape transformation. See text above.
 @item @b{toggle}
@@ -13681,7 +14330,7 @@
 even some hollow ones like @ref{st_grate} or @ref{st_oneway}. But some others as 
 @ref{st_door} or hollow @ref{Standard Stones} let flying actos pass.
 
-While flying an actor can not pick any items. But the actor can still drop
+While flying an actor can not pick up any item. But the actor can still drop
 items. Activation of a spring while sinking in @ref{fl_water} or @ref{fl_swamp}
 lets the actor jump immediatly out of them and starts the sinking process from
 scratch anew when landing on such a floor.
@@ -16012,7 +16661,7 @@
 @item @b{Syntax Samples:}
 @example
 wo:shuffleOxyd()
-wo:shuffleOxyd(@{"borderoxyds#*", circular=true@})
+wo:shuffleOxyd(@{no["borderoxyds#*"]:sort("circular"), circular=true@})
 wo:shuffleOxyd(@{"leftoxyds#*","rightoxyds#*", min=3@}, @{"islandoxyds#*", max=0@})
 @end example
 



From raoul at mail.berlios.de  Fri Apr 10 12:39:33 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 10 Apr 2009 12:39:33 +0200
Subject: [Enigma-game-svn] r1613 - trunk/doc/reference
Message-ID: <200904101039.n3AAdX0W022373@sheep.berlios.de>

Author: raoul
Date: 2009-04-10 12:39:31 +0200 (Fri, 10 Apr 2009)
New Revision: 1613

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
-> Fix refman pdf generation



Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-09 22:21:08 UTC (rev 1612)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-10 10:39:31 UTC (rev 1613)
@@ -7669,7 +7669,7 @@
 passable for his marbles.
 
 When a flood stream spreads to a new floor items on these floors may be affected.
- at ref{it_crack} get flooded and do vanish. All @{it_burnable} besides oil gets
+ at ref{it_crack} get flooded and do vanish. All @ref{it_burnable} besides oil gets
 wiped out, too.
 
 @table @asis



From raoul at mail.berlios.de  Fri Apr 10 14:26:04 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 10 Apr 2009 14:26:04 +0200
Subject: [Enigma-game-svn] r1614 - trunk/data/levels/enigma_experimental
Message-ID: <200904101226.n3ACQ4BK001349@sheep.berlios.de>

Author: raoul
Date: 2009-04-10 14:26:04 +0200 (Fri, 10 Apr 2009)
New Revision: 1614

Modified:
   trunk/data/levels/enigma_experimental/floors_1.xml
   trunk/data/levels/enigma_experimental/items_1.xml
   trunk/data/levels/enigma_experimental/stones_1.xml
Log:
-> Update of the "all floors" level



Modified: trunk/data/levels/enigma_experimental/floors_1.xml
===================================================================
--- trunk/data/levels/enigma_experimental/floors_1.xml	2009-04-10 10:39:31 UTC (rev 1613)
+++ trunk/data/levels/enigma_experimental/floors_1.xml	2009-04-10 12:26:04 UTC (rev 1614)
@@ -45,8 +45,39 @@
 {"fl_himalaya_framed", _text="fl_himalaya_framed"},
 {"fl_ivory", _text="fl_ivory"},
 {"fl_ivory_framed", _text="fl_ivory_framed"},
+{"fl_lawn", _text="fl_lawn"},
+{"fl_lawn_a", _text="fl_lawn_a"},
+{"fl_lawn_b", _text="fl_lawn_b"},
+{"fl_lawn_c1", _text="fl_lawn_c1"},
+{"fl_lawn_c2", _text="fl_lawn_c2"},
+{"fl_lawn_c3", _text="fl_lawn_c3"},
+{"fl_lawn_c4", _text="fl_lawn_c4"},
+{"fl_lawn_d1", _text="fl_lawn_d1"},
+{"fl_lawn_d2", _text="fl_lawn_d2"},
+{"fl_lawn_d3", _text="fl_lawn_d3"},
+{"fl_lawn_d4", _text="fl_lawn_d4"},
+{"fl_lawn_e1", _text="fl_lawn_e1"},
+{"fl_lawn_e2", _text="fl_lawn_e2"},
+{"fl_lawn_e3", _text="fl_lawn_e3"},
+{"fl_lawn_e4", _text="fl_lawn_e4"},
 {"fl_marble", _text="fl_marble"},
 {"fl_marble_framed", _text="fl_marble_framed"},
+{"fl_metal", _text="fl_metal"},
+{"fl_metal_1", _text="fl_metal_1"},
+{"fl_metal_2", _text="fl_metal_2"},
+{"fl_metal_3", _text="fl_metal_3"},
+{"fl_metal_4", _text="fl_metal_4"},
+{"fl_metal_5", _text="fl_metal_5"},
+{"fl_metal_6", _text="fl_metal_6"},
+{"fl_metal_7", _text="fl_metal_7"},
+{"fl_metal_framed", _text="fl_metal_framed"},
+{"fl_metal_1_framed", _text="fl_metal_1_framed"},
+{"fl_metal_2_framed", _text="fl_metal_2_framed"},
+{"fl_metal_3_framed", _text="fl_metal_3_framed"},
+{"fl_metal_4_framed", _text="fl_metal_4_framed"},
+{"fl_metal_5_framed", _text="fl_metal_5_framed"},
+{"fl_metal_6_framed", _text="fl_metal_6_framed"},
+{"fl_metal_7_framed", _text="fl_metal_7_framed"},
 {"fl_mortar", _text="fl_mortar"},
 {"fl_mortar_framed", _text="fl_mortar_framed"},
 {"fl_pinkbumps", _text="fl_pinkbumps"},
@@ -65,6 +96,7 @@
 {"fl_sahara_framed", _text="fl_sahara_framed"},
 {"fl_sand", _text="fl_sand"},
 {"fl_sand_framed", _text="fl_sand_framed"},
+{"fl_space", _text="fl_space"},
 {"fl_stone", _text="fl_stone"},
 {"fl_stone_framed", _text="fl_stone_framed"},
 {"fl_tigris", _text="fl_tigris"},
@@ -73,14 +105,23 @@
 {"fl_white_framed", _text="fl_white_framed"},
 {"fl_woven", _text="fl_woven"},
 {"fl_woven_framed", _text="fl_woven_framed"},
-
+{"fl_abyss", _text="fl_abyss"},
 {"fl_bridge", _text="fl_bridge, default"},
 {"fl_bridge", state=OPEN, _text="fl_bridge, state=OPEN"},
 {"fl_bridge", state=CLOSED, _text="fl_bridge, state=CLOSED"},
 {"fl_bridge", state=CLOSED, flavor="gc", _text="fl_bridge, flavor=\"gc\", state=CLOSED"},
 {"fl_bridge", state=CLOSED, flavor="bw", _text="fl_bridge, flavor=\"bw\", state=CLOSED"},
 {"fl_bridge", state=CLOSED, flavor="bn", _text="fl_bridge, flavor=\"bn\", state=CLOSED"},
-
+{"fl_fake_abyss", _text="fl_fake_abyss"},
+{"fl_fake_trigger", _text="fl_fake_trigger"},
+{"fl_hay", _text="fl_hay"},
+{"fl_hay_framed", _text="fl_hay_framed"},
+{"fl_ice", _text="fl_ice"},
+{"fl_inverse", _text="fl_inverse"},
+{"fl_inverse_white", _text="fl_inverse_white"},
+{"fl_inverse_gray", _text="fl_inverse_gray"},
+{"fl_rock", _text="fl_rock"},
+{"fl_rock_framed", _text="fl_rock_framed"},
 {"fl_slope", _text="fl_slope, default"},
 {"fl_slope", slope=WEST, shape="pw", _text="fl_slope, slope=WEST, shape=\"pw\""},
 {"fl_slope", slope=SOUTH, shape="ps", _text="fl_slope, slope=SOUTH, shape=\"ps\""},
@@ -106,11 +147,24 @@
 {"fl_slope", slope=SOUTHEAST, shape="tsr", _text="fl_slope, slope=SOUTHEAST, shape=\"tsr\""},
 {"fl_slope", slope=NORTHEAST, shape="ter", _text="fl_slope, slope=NORTHEAST, shape=\"ter\""},
 {"fl_slope", slope=NORTHWEST, shape="tnr", _text="fl_slope, slope=NORTHWEST, shape=\"tnr\""},
-
-{"fl_thief", _text="fl_thief"}
-
+{"fl_swamp", _text="fl_swamp"},
+{"fl_thief", _text="fl_thief"},
+{"fl_water", _text="fl_water"},
+{"fl_water_source", _text="fl_water"},
+{"fl_wood", _text="fl_wood"},
+{"fl_wood_h", _text="fl_wood_h"},
+{"fl_wood_v", _text="fl_wood_v"},
+{"fl_wood_framed", _text="fl_wood_framed"},
+{"fl_wood_framed_h", _text="fl_wood_framed_h"},
+{"fl_wood_framed_v", _text="fl_wood_framed_v"},
+{"fl_yinyang", _text="fl_yinyang, default"},
+{"fl_yinyang", state=YIN, _text="fl_yinyang, state=YIN"},
+{"fl_yinyang", state=YANG, _text="fl_yinyang, state=YANG"},
+{"fl_yinyang", state=YIN, invisible=true, _text="fl_yinyang, state=YIN, invisible=true"},
+{"fl_yinyang", state=YANG, invisible=true, _text="fl_yinyang, state=YANG, invisible=true"},
 }
 
+wo["FollowMethod"] = FOLLOW_SCROLL
 
 ti[" "] = {"fl_sahara"}
 ti["#"] = {"st_rawglass"}

Modified: trunk/data/levels/enigma_experimental/items_1.xml
===================================================================
--- trunk/data/levels/enigma_experimental/items_1.xml	2009-04-10 10:39:31 UTC (rev 1613)
+++ trunk/data/levels/enigma_experimental/items_1.xml	2009-04-10 12:26:04 UTC (rev 1614)
@@ -159,6 +159,7 @@
 
 }
 
+wo["FollowMethod"] = FOLLOW_SCROLL
 
 ti[" "] = {"fl_sahara"}
 ti["#"] = {"st_rawglass"}

Modified: trunk/data/levels/enigma_experimental/stones_1.xml
===================================================================
--- trunk/data/levels/enigma_experimental/stones_1.xml	2009-04-10 10:39:31 UTC (rev 1613)
+++ trunk/data/levels/enigma_experimental/stones_1.xml	2009-04-10 12:26:04 UTC (rev 1614)
@@ -582,6 +582,7 @@
 
 }
 
+wo["FollowMethod"] = FOLLOW_SCROLL
 
 ti[" "] = {"fl_sahara"}
 ti["#"] = {"st_rawglass"}



From raoul at mail.berlios.de  Fri Apr 10 16:07:09 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 10 Apr 2009 16:07:09 +0200
Subject: [Enigma-game-svn] r1615 - team_levelpacks/team_test_physics
Message-ID: <200904101407.n3AE79Gd011560@sheep.berlios.de>

Author: raoul
Date: 2009-04-10 16:07:08 +0200 (Fri, 10 Apr 2009)
New Revision: 1615

Added:
   team_levelpacks/team_test_physics/physic_test01.xml
   team_levelpacks/team_test_physics/physic_test02.xml
   team_levelpacks/team_test_physics/physic_test03.xml
   team_levelpacks/team_test_physics/physic_test04.xml
   team_levelpacks/team_test_physics/physic_test05.xml
   team_levelpacks/team_test_physics/physic_test06.xml
   team_levelpacks/team_test_physics/physic_test07.xml
   team_levelpacks/team_test_physics/physic_test08.xml
Removed:
   team_levelpacks/team_test_physics/illmindP01.xml
   team_levelpacks/team_test_physics/raoulP01.xml
   team_levelpacks/team_test_physics/raoulP02.xml
   team_levelpacks/team_test_physics/raoulP03.xml
   team_levelpacks/team_test_physics/raoulP04.xml
   team_levelpacks/team_test_physics/raoulP05.xml
   team_levelpacks/team_test_physics/raoulP06.xml
   team_levelpacks/team_test_physics/raoulP07.xml
Log:
-> Physic testlevel -> new API


Deleted: team_levelpacks/team_test_physics/illmindP01.xml
===================================================================
--- team_levelpacks/team_test_physics/illmindP01.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/illmindP01.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,42 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Wolf Among Sheep" el:subtitle="" el:id="wolfamongsheep"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="experimental"/>
-      <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
-      <el:copyright>Copyright ? 2005 illmind</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>this is just a fun level to take the game engine to its max power.</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
-create_world(levelw, levelh)
-oxyd_default_flavor = "d"
-draw_border("st-rock1")
-fill_floor("fl-black", 0,0, level_width,level_height)
-
-for i=1,18 do
-    for j=1,12 do
-        if i == 10 and j == 6 then
-            set_actor("ac-blackball", 10.5, 6.5, {player=0})
-        else
-            set_actor("ac-whiteball", i+.5, j+.5, {player=1})
-        end
-    end
-end
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Added: team_levelpacks/team_test_physics/physic_test01.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test01.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test01.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,50 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 1" el:subtitle="" el:id="physictest_collision1"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_space"}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+ti[" *"] = {"ac_pearl", 0.0, 0.5, controllers=CTRL_NONE}
+ti[" o"] = {"#ac_marble_white"}
+ti[" O"] = {"ac_marble_white", 0.0, 0.5}
+ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " @ # # # # # # # # # # # # # # # # # # #",
+    " #>o                                <o #",
+    " #>o                 o                 #",
+    " #>o                 *              <  #",
+    " #>o              >.                   #",
+    " #>o  >o                               #",
+    " #>o                 O              <o #",
+    " #>o       o                        <o #",
+    " #>o> > > >                         <o #",
+    " #>o> >o   o  >o>  o   o  >o   o       #",
+    " #>o>                                  #",
+    " #>o>       > >             < <        #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test01.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test02.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test02.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test02.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,63 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 2" el:subtitle="" el:id="physictest_collision2"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_sahara"}
+ti["- "] = {"fl_space"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" X"] = {"st_redfiber"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # X # # # # # # # # # # X # # # #",
+    " #    v v.v                 v v.v      #",
+    " #    - - -                 - - -      #",
+    " #> - - - - - <         > - - - - - <  #",
+    " X>.- - - - - <         > - - - - - <. X",
+    " #> - - - - - <         > - - - - - <  #",
+    " #    - - -                 - - -      #",
+    " #    ^ ^ ^    @            ^ ^ ^      #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #    v v v                 v v v      #",
+    " #    - - -                 - - -      #",
+    " #> - - - - - <         > - - - - - <  #",
+    " X> - - - - - <         > - - - - - <. X",
+    " #> - - - - - <         > - - - - - <  #",
+    " #    - - -                 - - -      #",
+    " #    ^ ^.^                 ^ ^.^      #",
+    " #       X                     X       #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test02.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test03.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test03.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test03.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,64 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 3" el:subtitle="" el:id="physictest_collision3"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0
+else
+    fri=0.8
+end
+
+ti["  "] = {"fl_sahara"}
+ti["- "] = {"fl_space"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #>.> > > > > > > > < < < < < < < < <. #",
+    " #>.> > > > > > > > < < < < < < < < <  #",
+    " #                              v.  v. #",
+    " #                              -.  -. #",
+    " #v   v   v  @  v               -.  -  #",
+    " #v   v   v     v               -.  -. #",
+    " #v   v   v     v               -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v.    v.              -.  -. #",
+    " #v   v   v.    v.              -.  -  #",
+    " #v   v   v.    v.              -.  -. #",
+    " #v   v   v.    v.              -.  -  #",
+    " #v   v.  v.    v.              -.  -. #",
+    " #v   v.  v.    v.              -.  -  #",
+    " #v.  v.  v.    v.              -.  -. #",
+    " #v.  v.  v.    v.              -.  ^  #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test03.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test04.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test04.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test04.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 4" el:subtitle="" el:id="physictest_collision4"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+local forcex = 5
+local forcey = 5
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
+ti["> "] = {"fl_space", force_x=forcex, force_y=0}
+ti["v "] = {"fl_space", force_x=0, force_y=forcey}
+ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+if wo["IsDifficult"] then
+    ti[" 0"] = ti[" #"] .. {"#ac_marble_white"}
+else
+    ti[" 0"] = {"#ac_marble_white"}
+end
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #                                     #",
+    " #        1.- - - v.- - - 2.           #",
+    " #        - 1.- - v.- - 2.-            #",
+    " #     @  - - 1.- v.- 2.- -            #",
+    " #        - - - 1.v.2.- - -            #",
+    " #        >.>.>.>.-0<.<.<.<.           #",
+    " #        - - - 4.^.3.- - -            #",
+    " #        - - 4.- ^.- 3.- -            #",
+    " #        - 4.- - ^.- - 3.-            #",
+    " #        4.- - - ^.- - - 3.           #",
+    " #                                     #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test04.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test05.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test05.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test05.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 5" el:subtitle="" el:id="physictest_collision5"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    forcex = -2
+    forcey = -2
+else
+    forcex = -3
+    forcey = -5
+end
+
+ti["  "] = {"fl_space"}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #     @       #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test05.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test06.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test06.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test06.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 6" el:subtitle="" el:id="physictest_collision6"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+forcex = 2
+forcey = 2
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
+ti["> "] = {"fl_space", force_x=forcex, force_y=0}
+ti["v "] = {"fl_space", force_x=0, force_y=forcey}
+ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+if wo["IsDifficult"] then
+    ti[" 0"] = ti["- "]
+else
+    ti[" 0"] = ti["- "] .. ti[" ."]
+end
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #1.- - - - - 2. #                     #",
+    " #- 1.- - - 2.-  #                     #",
+    " #- - 1.- 2.- -  #                     #",
+    " #- - - -0- - -  # # # # # # # # # # # #",
+    " #- - 4.- 3.- -  #     #- - - v.- - -  #",
+    " #- 4.- - - 3.-  #   @ #- - - v.- - -  #",
+    " #4.- - - - - 3. #     #- - - v.- - -  #",
+    " # # # # # # # # # # # #>.>.>.-0<.<.<. #",
+    " #                     #- - - ^.- - -  #",
+    " #                     #- - - ^.- - -  #",
+    " #                     #- - - ^.- - -  #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test06.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test07.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test07.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test07.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,64 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 7" el:subtitle="" el:id="physictest_collision7"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0
+else
+    fri=0.8
+end
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #<.<.<.<.<.<.<.<.<.<. #        v.  ^. #",
+    " #                              v.  ^. #",
+    " #>.>.>.>.>.<.<.<.<.<. #        v.  ^. #",
+    " #                              v.  ^. #",
+    " #       #             @        v.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #>.>.>.-.<.<.<. #              ^.  ^. #",
+    " #      ^.                      ^.  ^. #",
+    " #      ^.                     # #   # #",
+    " #      ^.                    v.       #",
+    " # #   # #                    v.       #",
+    " #v.  v.                      v.       #",
+    " #v.  v.             #  >.>.>.- <.<.<. #",
+    " #v.  v.                      ^.       #",
+    " #v.  v.                      ^.       #",
+    " #v.  v.                      ^.       #",
+    " #v.  ^.                       #       #",
+    " #v.  ^.                               #",
+    " #v.  ^.       #  >.>.>.>.>.<.<.<.<.<. #",
+    " #v.  ^.                               #",
+    " #v.  ^.       #  >.>.>.>.>.>.>.>.>.>. #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test07.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_physics/physic_test08.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test08.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/physic_test08.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -0,0 +1,48 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Wolf Among Sheep" el:subtitle="" el:id="wolfamongsheep"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
+      <el:copyright>Copyright ? 2005 illmind</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>this is just a fun level to take the game engine to its max power.</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if not wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_dark", friction=fri}
+ti[" #"] = {"st_granite"}
+ti[" ."] = {"#ac_marble_white"}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . @ . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physic_test08.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Deleted: team_levelpacks/team_test_physics/raoulP01.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP01.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP01.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,95 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 1" el:subtitle="" el:id="physictest_collision1"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 13
-levelw = 20
-
-create_world(levelw, levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-          if c=="x" then
-            oxyd(i-1,line)
-        elseif c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line)
-        elseif c==">" then
-            set_floor("fl-gradient",i-1,line, {type=3, friction=0})
-        elseif c=="<" then
-            set_floor("fl-gradient",i-1,line, {type=4, friction=0})
-        elseif c=="^" then
-            set_floor("fl-gradient",i-1,line, {type=2, friction=0})
-        elseif c=="v" then
-            set_floor("fl-gradient",i-1,line, {type=1, friction=0})
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#>----------------<#")
-renderLine(02 , "#>-----------------#")
-renderLine(03 , "#>----------------<#")
-renderLine(04 , "#>------>----------#")
-renderLine(05 , "#>->---------------#")
-renderLine(06 , "#>----------------<#")
-renderLine(07 , "#>----------------<#")
-renderLine(08 , "#>>>>>------------<#")
-renderLine(09 , "#>>>--->>---->-----#")
-renderLine(10 , "#>>----------------#")
-renderLine(11 , "#>>--->>------<<---#")
-renderLine(12 , "####################")
-
-set_actor("ac-blackball", 0.5,0.5, {player=0})
-set_actor("ac-whiteball", 1.5, 1.5, {controllers=0})
-set_actor("ac-whiteball", 18.5, 1.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 2.5, {controllers=0})
-set_actor("ac-whiteball", 10.5, 2.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 3.5, {controllers=0})
-set_actor("ac-whiteball-small", 10, 3.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 4.5, {controllers=0})
-set_actor("ac-whiteball-small", 8.5, 4.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 5.5, {controllers=0})
-set_actor("ac-whiteball", 3.5, 5.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 6.5, {controllers=0})
-set_actor("ac-whiteball", 10, 6.5, {controllers=0})
-set_actor("ac-whiteball", 18.5, 6.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 7.5, {controllers=0})
-set_actor("ac-whiteball", 5.5, 7.5, {controllers=0})
-set_actor("ac-whiteball", 18.5, 7.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 8.5, {controllers=0})
-set_actor("ac-whiteball", 18.5, 8.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 3.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 5.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 7.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 9.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 11.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 13.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 15.5, 9.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 10.5, {controllers=0})
-set_actor("ac-whiteball", 1.5, 11.5, {controllers=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP02.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP02.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP02.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,90 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 2" el:subtitle="" el:id="physictest_collision2"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 25
-levelw = 20
-
-create_world(levelw, levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-          if c=="x" then
-            oxyd(i-1,line)
-        elseif c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="X" then
-            set_stone("st-glass3",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line)
-        elseif c==">" then
-            set_floor("fl-gradient",i-1,line, {type=3, friction=0})
-        elseif c=="<" then
-            set_floor("fl-gradient",i-1,line, {type=4, friction=0})
-        elseif c=="^" then
-            set_floor("fl-gradient",i-1,line, {type=2, friction=0})
-        elseif c=="v" then
-            set_floor("fl-gradient",i-1,line, {type=1, friction=0})
-        end
-    end
-end
-
-renderLine(00 , "####X##########X####")
-renderLine(01 , "#  vvv        vvv  #")
-renderLine(02 , "#  ---        ---  #")
-renderLine(03 , "#>-----<    >-----<#")
-renderLine(04 , "X>-----<    >-----<X")
-renderLine(05 , "#>-----<    >-----<#")
-renderLine(06 , "#  ---        ---  #")
-renderLine(07 , "#  ^^^        ^^^  #")
-renderLine(08 , "#                  #")
-renderLine(09 , "#                  #")
-renderLine(10 , "#                  #")
-renderLine(11 , "#                  #")
-renderLine(12 , "#                  #")
-renderLine(13 , "#  vvv        vvv  #")
-renderLine(14 , "#  ---        ---  #")
-renderLine(15 , "#>-----<    >-----<#")
-renderLine(16 , "X>-----<    >-----<X")
-renderLine(17 , "#>-----<    >-----<#")
-renderLine(18 , "#  ---        ---  #")
-renderLine(19 , "#  ^^^        ^^^  #")
-renderLine(20 , "#   X          X   #")
-renderLine(21 , "#                  #")
-renderLine(22 , "#                  #")
-renderLine(23 , "#                  #")
-renderLine(24 , "####################")
-
-set_actor("ac-blackball", 2.5,7.5, {player=0})
-set_actor("ac-whiteball-small", 1.5, 4.5, {controllers=0})
-set_actor("ac-whiteball-small", 4.5, 1.5, {controllers=0})
-set_actor("ac-whiteball-small", 15.5, 1.5, {controllers=0})
-set_actor("ac-whiteball-small", 18.5, 4.5, {controllers=0})
-set_actor("ac-whiteball-small", 1.5, 16.5, {controllers=0})
-set_actor("ac-whiteball-small", 4.5, 19.5, {controllers=0})
-set_actor("ac-whiteball-small", 15.5, 19.5, {controllers=0})
-set_actor("ac-whiteball-small", 18.5, 16.5, {controllers=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP03.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP03.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP03.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,100 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 3" el:subtitle="" el:id="physictest_collision3"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 25
-levelw = 20
-
-create_world(levelw, levelh)
-
-if difficult then
-    f=0
-else
-    f=0.8
-end
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-          if c=="x" then
-            oxyd(i-1,line)
-        elseif c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="X" then
-            set_stone("st-glass3",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line)
-        elseif c=="." then
-            set_floor("fl-space",i-1,line)
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c==">" then
-            set_floor("fl-gradient",i-1,line, {type=3, friction=f})
-        elseif c=="<" then
-            set_floor("fl-gradient",i-1,line, {type=4, friction=f})
-        elseif c=="^" then
-            set_floor("fl-gradient",i-1,line, {type=2, friction=f})
-        elseif c=="v" then
-            set_floor("fl-gradient",i-1,line, {type=1, friction=f})
-        elseif c=="u" then
-            set_floor("fl-gradient",i-1,line, {type=1, friction=0})
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#>>>>>>>>><<<<<<<<<#")
-renderLine(02 , "#>>>>>>>>><<<<<<<<<#")
-renderLine(03 , "#               v v#")
-renderLine(04 , "#               . .#")
-renderLine(05 , "#v v v  v       . -#")
-renderLine(06 , "#v v v  v       . .#")
-renderLine(07 , "#v v v  v       . -#")
-renderLine(08 , "#v v v  u       . .#")
-renderLine(09 , "#v v v  u       . -#")
-renderLine(10 , "#v v v  u       . .#")
-renderLine(11 , "#v v v  u       . -#")
-renderLine(12 , "#v v v  u       . .#")
-renderLine(13 , "#v v v  u       . -#")
-renderLine(14 , "#v v v  u       . .#")
-renderLine(15 , "#v v v  u       . -#")
-renderLine(16 , "#v v u  u       . .#")
-renderLine(17 , "#v v u  u       . -#")
-renderLine(18 , "#v v u  u       . .#")
-renderLine(19 , "#v v u  u       . -#")
-renderLine(20 , "#v u u  u       . .#")
-renderLine(21 , "#v u u  u       . -#")
-renderLine(22 , "#u u u  u       . .#")
-renderLine(23 , "#u u u  u       . ^#")
-renderLine(24 , "####################")
-
-set_actor("ac-blackball", 2.5,7.5, {player=0})
-set_actor("ac-whiteball-small", 1.5, 1.5, {controllers=0})
-set_actor("ac-whiteball-small", 18.5, 1.5, {controllers=0})
-set_actor("ac-whiteball-small", 1.5, 2.5, {controllers=0})
-set_actor("ac-whiteball-small", 18.5, 3.5, {controllers=0})
-set_actor("ac-whiteball-small", 18.5, 23.5, {controllers=0})
-set_actor("ac-whiteball-small", 16.5, 3.5, {controllers=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP04.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP04.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP04.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,93 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 4" el:subtitle="" el:id="physictest_collision4"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 13
-levelw = 20
-
-create_world(levelw, levelh)
-
-forcex = 5
-forcey = 5
-
-spacefriction = 0
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line,{friction=spacefriction})
-        elseif c==">" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="<" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="v" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="^" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="0" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = 0, friction=spacefriction})
-            if not difficult then
-                set_actor("ac-whiteball", i-1+0.5, line+0.5, {controllers=0})
-            else
-                set_stone("st-glass",i-1,line)
-            end
-        elseif c=="1" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="2" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="3" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="4" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#                  #")
-renderLine(02 , "#    1---v---2     #")
-renderLine(03 , "#    -1--v--2-     #")
-renderLine(04 , "#    --1-v-2--     #")
-renderLine(05 , "#    ---1v2---     #")
-renderLine(06 , "#    >>>>0<<<<     #")
-renderLine(07 , "#    ---4^3---     #")
-renderLine(08 , "#    --4-^-3--     #")
-renderLine(09 , "#    -4--^--3-     #")
-renderLine(10 , "#    4---^---3     #")
-renderLine(11 , "#                  #")
-renderLine(12 , "####################")
-
-set_actor("ac-blackball", 2.5,7.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP05.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP05.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP05.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,87 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 5" el:subtitle="" el:id="physictest_collision5"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 13
-levelw = 20
-
-create_world(levelw, levelh)
-
-forcex = -2
-forcey = -2
-
-spacefriction = 0
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line,{friction=spacefriction})
-        elseif c==">" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="<" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="v" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="^" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="1" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="2" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="3" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="4" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#11111#      #22222#")
-renderLine(02 , "#11111#      #22222#")
-renderLine(03 , "#11111#      #22222#")
-renderLine(04 , "#11111#      #22222#")
-renderLine(05 , "#11111#      #22222#")
-renderLine(06 , "####################")
-renderLine(07 , "#44444#      #33333#")
-renderLine(08 , "#44444#      #33333#")
-renderLine(09 , "#44444#      #33333#")
-renderLine(10 , "#44444#      #33333#")
-renderLine(11 , "#44444#      #33333#")
-renderLine(12 , "####################")
-
-set_actor("ac-blackball", 10.5,3.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP06.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP06.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP06.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,91 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 6" el:subtitle="" el:id="physictest_collision6"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 13
-levelw = 20
-
-create_world(levelw, levelh)
-
-forcex = 2
-forcey = 2
-
-spacefriction = 0
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line,{friction=spacefriction})
-        elseif c==">" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="<" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = 0, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="v" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="^" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="0" then
-            set_floor("fl-space",i-1,line, {force_x = 0, force_y = 0, friction=spacefriction})
-            if not difficult then
-                set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-            end
-        elseif c=="1" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="2" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="3" then
-            set_floor("fl-space",i-1,line, {force_x = -forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="4" then
-            set_floor("fl-space",i-1,line, {force_x = forcex, force_y = -forcey, friction=spacefriction})
-            set_actor("ac-whiteball-small", i-1+0.5, line+0.5, {controllers=0})
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#1-----2#          #")
-renderLine(02 , "#-1---2-#          #")
-renderLine(03 , "#--1-2--#          #")
-renderLine(04 , "#---0---############")
-renderLine(05 , "#--4-3--#  #---v---#")
-renderLine(06 , "#-4---3-#  #---v---#")
-renderLine(07 , "#4-----3#  #---v---#")
-renderLine(08 , "############>>>0<<<#")
-renderLine(09 , "#          #---^---#")
-renderLine(10 , "#          #---^---#")
-renderLine(11 , "#          #---^---#")
-renderLine(12 , "####################")
-
-set_actor("ac-blackball", 10.5,6.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/raoulP07.xml
===================================================================
--- team_levelpacks/team_test_physics/raoulP07.xml	2009-04-10 12:26:04 UTC (rev 1614)
+++ team_levelpacks/team_test_physics/raoulP07.xml	2009-04-10 14:07:08 UTC (rev 1615)
@@ -1,98 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 7" el:subtitle="" el:id="physictest_collision7"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="stable"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 25
-levelw = 20
-
-create_world(levelw, levelh)
-
-if difficult then
-    f=0
-else
-    f=0.8
-end
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-          if c=="x" then
-            oxyd(i-1,line)
-        elseif c=="#" then
-            set_stone("st-glass",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="X" then
-            set_stone("st-glass3",i-1,line)
-            set_floor("fl-sahara",i-1,line)
-        elseif c==" " then
-            set_floor("fl-sahara",i-1,line)
-        elseif c=="-" then
-            set_floor("fl-space",i-1,line)
-        elseif c=="." then
-            set_floor("fl-space",i-1,line)
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="." then
-            set_floor("fl-space",i-1,line)
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c==">" then
-            set_floor("fl-gradient",i-1,line, {type=3, friction=f})
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="<" then
-            set_floor("fl-gradient",i-1,line, {type=4, friction=f})
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="^" then
-            set_floor("fl-gradient",i-1,line, {type=2, friction=f})
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        elseif c=="v" then
-            set_floor("fl-gradient",i-1,line, {type=1, friction=f})
-            set_actor("ac-whiteball-small",i-1+0.5, line+0.5, {controllers=0})
-        end
-    end
-end
-
-renderLine(00 , "####################")
-renderLine(01 , "#<<<<<<<<<<#    v ^#")
-renderLine(02 , "#               v ^#")
-renderLine(03 , "#>>>>><<<<<#    v ^#")
-renderLine(04 , "#               v ^#")
-renderLine(05 , "#   #           v ^#")
-renderLine(06 , "#   v           ^ ^#")
-renderLine(07 , "#   v           ^ ^#")
-renderLine(08 , "#   v           ^ ^#")
-renderLine(09 , "#>>>.<<<#       ^ ^#")
-renderLine(10 , "#   ^           ^ ^#")
-renderLine(11 , "#   ^          ## ##")
-renderLine(12 , "#   ^          v   #")
-renderLine(13 , "## ##          v   #")
-renderLine(14 , "#v v           v   #")
-renderLine(15 , "#v v       #>>>-<<<#")
-renderLine(16 , "#v v           ^   #")
-renderLine(17 , "#v v           ^   #")
-renderLine(18 , "#v v           ^   #")
-renderLine(19 , "#v ^           #   #")
-renderLine(20 , "#v ^               #")
-renderLine(21 , "#v ^    #>>>>><<<<<#")
-renderLine(22 , "#v ^               #")
-renderLine(23 , "#v ^    #>>>>>>>>>>#")
-renderLine(24 , "####################")
-
-set_actor("ac-blackball", 10.5,7.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>



From raoul at mail.berlios.de  Fri Apr 10 20:23:00 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 10 Apr 2009 20:23:00 +0200
Subject: [Enigma-game-svn] r1616 - team_levelpacks/team_test_physics
Message-ID: <200904101823.n3AIN0sF007488@sheep.berlios.de>

Author: raoul
Date: 2009-04-10 20:22:59 +0200 (Fri, 10 Apr 2009)
New Revision: 1616

Added:
   team_levelpacks/team_test_physics/physics_test00.xml
   team_levelpacks/team_test_physics/physics_test01.xml
   team_levelpacks/team_test_physics/physics_test02.xml
   team_levelpacks/team_test_physics/physics_test03.xml
   team_levelpacks/team_test_physics/physics_test04.xml
   team_levelpacks/team_test_physics/physics_test05.xml
   team_levelpacks/team_test_physics/physics_test06.xml
   team_levelpacks/team_test_physics/physics_test07.xml
   team_levelpacks/team_test_physics/physics_test08.xml
   team_levelpacks/team_test_physics/physics_test10.xml
Removed:
   team_levelpacks/team_test_physics/physic_test01.xml
   team_levelpacks/team_test_physics/physic_test02.xml
   team_levelpacks/team_test_physics/physic_test03.xml
   team_levelpacks/team_test_physics/physic_test04.xml
   team_levelpacks/team_test_physics/physic_test05.xml
   team_levelpacks/team_test_physics/physic_test06.xml
   team_levelpacks/team_test_physics/physic_test07.xml
   team_levelpacks/team_test_physics/physic_test08.xml
Log:
-> Renamed physics testlevels
-> 2 new Tests



Deleted: team_levelpacks/team_test_physics/physic_test01.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test01.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test01.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,50 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 1" el:subtitle="" el:id="physictest_collision1"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if wo["IsDifficult"] then
-    fri=0.0
-end
-
-ti["  "] = {"fl_space"}
-ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
-ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-ti[" *"] = {"ac_pearl", 0.0, 0.5, controllers=CTRL_NONE}
-ti[" o"] = {"#ac_marble_white"}
-ti[" O"] = {"ac_marble_white", 0.0, 0.5}
-ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " @ # # # # # # # # # # # # # # # # # # #",
-    " #>o                                <o #",
-    " #>o                 o                 #",
-    " #>o                 *              <  #",
-    " #>o              >.                   #",
-    " #>o  >o                               #",
-    " #>o                 O              <o #",
-    " #>o       o                        <o #",
-    " #>o> > > >                         <o #",
-    " #>o> >o   o  >o>  o   o  >o   o       #",
-    " #>o>                                  #",
-    " #>o>       > >             < <        #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test02.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test02.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test02.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,63 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 2" el:subtitle="" el:id="physictest_collision2"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if wo["IsDifficult"] then
-    fri=0.0
-end
-
-ti["  "] = {"fl_sahara"}
-ti["- "] = {"fl_space"}
-ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
-ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
-ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
-ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
-ti[" #"] = {"st_rawglass"}
-ti[" X"] = {"st_redfiber"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # X # # # # # # # # # # X # # # #",
-    " #    v v.v                 v v.v      #",
-    " #    - - -                 - - -      #",
-    " #> - - - - - <         > - - - - - <  #",
-    " X>.- - - - - <         > - - - - - <. X",
-    " #> - - - - - <         > - - - - - <  #",
-    " #    - - -                 - - -      #",
-    " #    ^ ^ ^    @            ^ ^ ^      #",
-    " #                                     #",
-    " #                                     #",
-    " #                                     #",
-    " #                                     #",
-    " #                                     #",
-    " #    v v v                 v v v      #",
-    " #    - - -                 - - -      #",
-    " #> - - - - - <         > - - - - - <  #",
-    " X> - - - - - <         > - - - - - <. X",
-    " #> - - - - - <         > - - - - - <  #",
-    " #    - - -                 - - -      #",
-    " #    ^ ^.^                 ^ ^.^      #",
-    " #       X                     X       #",
-    " #                                     #",
-    " #                                     #",
-    " #                                     #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test03.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test03.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test03.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,64 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 3" el:subtitle="" el:id="physictest_collision3"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if wo["IsDifficult"] then
-    fri=0
-else
-    fri=0.8
-end
-
-ti["  "] = {"fl_sahara"}
-ti["- "] = {"fl_space"}
-ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
-ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
-ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
-ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #>.> > > > > > > > < < < < < < < < <. #",
-    " #>.> > > > > > > > < < < < < < < < <  #",
-    " #                              v.  v. #",
-    " #                              -.  -. #",
-    " #v   v   v  @  v               -.  -  #",
-    " #v   v   v     v               -.  -. #",
-    " #v   v   v     v               -.  -  #",
-    " #v   v   v     v.              -.  -. #",
-    " #v   v   v     v.              -.  -  #",
-    " #v   v   v     v.              -.  -. #",
-    " #v   v   v     v.              -.  -  #",
-    " #v   v   v     v.              -.  -. #",
-    " #v   v   v     v.              -.  -  #",
-    " #v   v   v     v.              -.  -. #",
-    " #v   v   v     v.              -.  -  #",
-    " #v   v   v.    v.              -.  -. #",
-    " #v   v   v.    v.              -.  -  #",
-    " #v   v   v.    v.              -.  -. #",
-    " #v   v   v.    v.              -.  -  #",
-    " #v   v.  v.    v.              -.  -. #",
-    " #v   v.  v.    v.              -.  -  #",
-    " #v.  v.  v.    v.              -.  -. #",
-    " #v.  v.  v.    v.              -.  ^  #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test04.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test04.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test04.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,58 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 4" el:subtitle="" el:id="physictest_collision4"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-local forcex = 5
-local forcey = 5
-
-ti["- "] = {"fl_space"}
-ti["  "] = {"fl_sahara"}
-ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
-ti["> "] = {"fl_space", force_x=forcex, force_y=0}
-ti["v "] = {"fl_space", force_x=0, force_y=forcey}
-ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
-ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
-ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
-ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
-ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-if wo["IsDifficult"] then
-    ti[" 0"] = ti[" #"] .. {"#ac_marble_white"}
-else
-    ti[" 0"] = {"#ac_marble_white"}
-end
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #                                     #",
-    " #        1.- - - v.- - - 2.           #",
-    " #        - 1.- - v.- - 2.-            #",
-    " #     @  - - 1.- v.- 2.- -            #",
-    " #        - - - 1.v.2.- - -            #",
-    " #        >.>.>.>.-0<.<.<.<.           #",
-    " #        - - - 4.^.3.- - -            #",
-    " #        - - 4.- ^.- 3.- -            #",
-    " #        - 4.- - ^.- - 3.-            #",
-    " #        4.- - - ^.- - - 3.           #",
-    " #                                     #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test05.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test05.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test05.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,53 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 5" el:subtitle="" el:id="physictest_collision5"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if wo["IsDifficult"] then
-    forcex = -2
-    forcey = -2
-else
-    forcex = -3
-    forcey = -5
-end
-
-ti["  "] = {"fl_space"}
-ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
-ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
-ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
-ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #1.1.1.1.1. #             #2.2.2.2.2. #",
-    " #1.1.1.1.1. #             #2.2.2.2.2. #",
-    " #1.1.1.1.1. #     @       #2.2.2.2.2. #",
-    " #1.1.1.1.1. #             #2.2.2.2.2. #",
-    " #1.1.1.1.1. #             #2.2.2.2.2. #",
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #4.4.4.4.4. #             #3.3.3.3.3. #",
-    " #4.4.4.4.4. #             #3.3.3.3.3. #",
-    " #4.4.4.4.4. #             #3.3.3.3.3. #",
-    " #4.4.4.4.4. #             #3.3.3.3.3. #",
-    " #4.4.4.4.4. #             #3.3.3.3.3. #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test06.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test06.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test06.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,58 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 6" el:subtitle="" el:id="physictest_collision6"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-forcex = 2
-forcey = 2
-
-ti["- "] = {"fl_space"}
-ti["  "] = {"fl_sahara"}
-ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
-ti["> "] = {"fl_space", force_x=forcex, force_y=0}
-ti["v "] = {"fl_space", force_x=0, force_y=forcey}
-ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
-ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
-ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
-ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
-ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-if wo["IsDifficult"] then
-    ti[" 0"] = ti["- "]
-else
-    ti[" 0"] = ti["- "] .. ti[" ."]
-end
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #1.- - - - - 2. #                     #",
-    " #- 1.- - - 2.-  #                     #",
-    " #- - 1.- 2.- -  #                     #",
-    " #- - - -0- - -  # # # # # # # # # # # #",
-    " #- - 4.- 3.- -  #     #- - - v.- - -  #",
-    " #- 4.- - - 3.-  #   @ #- - - v.- - -  #",
-    " #4.- - - - - 3. #     #- - - v.- - -  #",
-    " # # # # # # # # # # # #>.>.>.-0<.<.<. #",
-    " #                     #- - - ^.- - -  #",
-    " #                     #- - - ^.- - -  #",
-    " #                     #- - - ^.- - -  #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test07.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test07.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test07.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,64 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Collisiontest 7" el:subtitle="" el:id="physictest_collision7"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if wo["IsDifficult"] then
-    fri=0
-else
-    fri=0.8
-end
-
-ti["- "] = {"fl_space"}
-ti["  "] = {"fl_sahara"}
-ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
-ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
-ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
-ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
-ti[" #"] = {"st_rawglass"}
-ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE}
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " #<.<.<.<.<.<.<.<.<.<. #        v.  ^. #",
-    " #                              v.  ^. #",
-    " #>.>.>.>.>.<.<.<.<.<. #        v.  ^. #",
-    " #                              v.  ^. #",
-    " #       #             @        v.  ^. #",
-    " #      v.                      ^.  ^. #",
-    " #      v.                      ^.  ^. #",
-    " #      v.                      ^.  ^. #",
-    " #>.>.>.-.<.<.<. #              ^.  ^. #",
-    " #      ^.                      ^.  ^. #",
-    " #      ^.                     # #   # #",
-    " #      ^.                    v.       #",
-    " # #   # #                    v.       #",
-    " #v.  v.                      v.       #",
-    " #v.  v.             #  >.>.>.- <.<.<. #",
-    " #v.  v.                      ^.       #",
-    " #v.  v.                      ^.       #",
-    " #v.  v.                      ^.       #",
-    " #v.  ^.                       #       #",
-    " #v.  ^.                               #",
-    " #v.  ^.       #  >.>.>.>.>.<.<.<.<.<. #",
-    " #v.  ^.                               #",
-    " #v.  ^.       #  >.>.>.>.>.>.>.>.>.>. #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: team_levelpacks/team_test_physics/physic_test08.xml
===================================================================
--- team_levelpacks/team_test_physics/physic_test08.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physic_test08.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -1,48 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Wolf Among Sheep" el:subtitle="" el:id="wolfamongsheep"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
-      <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
-      <el:copyright>Copyright ? 2005 illmind</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>this is just a fun level to take the game engine to its max power.</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-if not wo["IsDifficult"] then
-    fri=0.0
-end
-
-ti["  "] = {"fl_dark", friction=fri}
-ti[" #"] = {"st_granite"}
-ti[" ."] = {"#ac_marble_white"}
-ti[" @"] = {"#ac_marble_black"}
-
-wo(res.composer(ti), "  ", {
-    " # # # # # # # # # # # # # # # # # # # #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . @ . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # . . . . . . . . . . . . . . . . . . #",
-    " # # # # # # # # # # # # # # # # # # # #"})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Added: team_levelpacks/team_test_physics/physics_test00.xml
===================================================================
--- team_levelpacks/team_test_physics/physics_test00.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test00.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,50 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 0" el:subtitle="" el:id="physictest_collision0"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2009 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_space"}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" *"] = {"ac_pearl", 0.0, 0.5, controllers=CTRL_NONE, owner=DEFAULT}
+ti[" o"] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+ti["O "] = {"ac_marble_white", 0.0, 0.5, controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " @ # # # # # # # # # # # # # # # # # # #",
+    " #>o                                <o #",
+    " #>o                O               <o #",
+    " #>o               o o              <o #",
+    " #>o              O O O             <o #",
+    " #>o             o o o o            <o #",
+    " #>o            O O O O O           <o #",
+    " #>o           o o o o o o          <o #",
+    " #>o          O O O O O O O         <o #",
+    " #>o         o o o o o o o o        <o #",
+    " #>o        O O O O O O O O O       <o #",
+    " #>o       o o o o o o o o o o      <o #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physics_test00.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Copied: team_levelpacks/team_test_physics/physics_test01.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test01.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test01.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test01.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,50 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 1" el:subtitle="" el:id="physictest_collision1"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_space"}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" *"] = {"ac_pearl", 0.0, 0.5, controllers=CTRL_NONE, owner=DEFAULT}
+ti[" o"] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" O"] = {"ac_marble_white", 0.0, 0.5, controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " @ # # # # # # # # # # # # # # # # # # #",
+    " #>o                                <o #",
+    " #>o                 o                 #",
+    " #>o                 *              <  #",
+    " #>o              >.                   #",
+    " #>o  >o                               #",
+    " #>o                 O              <o #",
+    " #>o       o                        <o #",
+    " #>o> > > >                         <o #",
+    " #>o> >o   o  >o>  o   o  >o   o       #",
+    " #>o>                                  #",
+    " #>o>       > >             < <        #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test02.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test02.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test02.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test02.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,63 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 2" el:subtitle="" el:id="physictest_collision2"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_sahara"}
+ti["- "] = {"fl_space"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" X"] = {"st_redfiber"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # X # # # # # # # # # # X # # # #",
+    " #    v v.v                 v v.v      #",
+    " #    - - -                 - - -      #",
+    " #> - - - - - <         > - - - - - <  #",
+    " X>.- - - - - <         > - - - - - <. X",
+    " #> - - - - - <         > - - - - - <  #",
+    " #    - - -                 - - -      #",
+    " #    ^ ^ ^    @            ^ ^ ^      #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #    v v v                 v v v      #",
+    " #    - - -                 - - -      #",
+    " #> - - - - - <         > - - - - - <  #",
+    " X> - - - - - <         > - - - - - <. X",
+    " #> - - - - - <         > - - - - - <  #",
+    " #    - - -                 - - -      #",
+    " #    ^ ^.^                 ^ ^.^      #",
+    " #       X                     X       #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test03.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test03.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test03.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test03.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,64 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 3" el:subtitle="" el:id="physictest_collision3"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0
+else
+    fri=0.8
+end
+
+ti["  "] = {"fl_sahara"}
+ti["- "] = {"fl_space"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #>.> > > > > > > > < < < < < < < < <. #",
+    " #>.> > > > > > > > < < < < < < < < <  #",
+    " #                              v.  v. #",
+    " #                              -.  -. #",
+    " #v   v   v  @  v               -.  -  #",
+    " #v   v   v     v               -.  -. #",
+    " #v   v   v     v               -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v     v.              -.  -. #",
+    " #v   v   v     v.              -.  -  #",
+    " #v   v   v.    v.              -.  -. #",
+    " #v   v   v.    v.              -.  -  #",
+    " #v   v   v.    v.              -.  -. #",
+    " #v   v   v.    v.              -.  -  #",
+    " #v   v.  v.    v.              -.  -. #",
+    " #v   v.  v.    v.              -.  -  #",
+    " #v.  v.  v.    v.              -.  -. #",
+    " #v.  v.  v.    v.              -.  ^  #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test04.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test04.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test04.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test04.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 4" el:subtitle="" el:id="physictest_collision4"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+local forcex = 5
+local forcey = 5
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
+ti["> "] = {"fl_space", force_x=forcex, force_y=0}
+ti["v "] = {"fl_space", force_x=0, force_y=forcey}
+ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+if wo["IsDifficult"] then
+    ti[" 0"] = ti[" #"] .. {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+else
+    ti[" 0"] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+end
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #                                     #",
+    " #        1.- - - v.- - - 2.           #",
+    " #        - 1.- - v.- - 2.-            #",
+    " #     @  - - 1.- v.- 2.- -            #",
+    " #        - - - 1.v.2.- - -            #",
+    " #        >.>.>.>.-0<.<.<.<.           #",
+    " #        - - - 4.^.3.- - -            #",
+    " #        - - 4.- ^.- 3.- -            #",
+    " #        - 4.- - ^.- - 3.-            #",
+    " #        4.- - - ^.- - - 3.           #",
+    " #                                     #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test05.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test05.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test05.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test05.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 5" el:subtitle="" el:id="physictest_collision5"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    forcex = -2
+    forcey = -2
+else
+    forcex = -3
+    forcey = -5
+end
+
+ti["  "] = {"fl_space"}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #     @       #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " #1.1.1.1.1. #             #2.2.2.2.2. #",
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " #4.4.4.4.4. #             #3.3.3.3.3. #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test06.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test06.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test06.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test06.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 6" el:subtitle="" el:id="physictest_collision6"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+forcex = 2
+forcey = 2
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_space", force_x=0, force_y=-forcey}
+ti["> "] = {"fl_space", force_x=forcex, force_y=0}
+ti["v "] = {"fl_space", force_x=0, force_y=forcey}
+ti["< "] = {"fl_space", force_x=-forcex, force_y=0}
+ti["1 "] = {"fl_space", force_x=forcex, force_y=forcey}
+ti["2 "] = {"fl_space", force_x=-forcex, force_y=forcey}
+ti["3 "] = {"fl_space", force_x=-forcex, force_y=-forcey}
+ti["4 "] = {"fl_space", force_x=forcex, force_y=-forcey}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+if wo["IsDifficult"] then
+    ti[" 0"] = ti["- "]
+else
+    ti[" 0"] = ti["- "] .. ti[" ."]
+end
+ti[" @"] = {"ac_marble_black", 0.0, 0.5}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #1.- - - - - 2. #                     #",
+    " #- 1.- - - 2.-  #                     #",
+    " #- - 1.- 2.- -  #                     #",
+    " #- - - -0- - -  # # # # # # # # # # # #",
+    " #- - 4.- 3.- -  #     #- - - v.- - -  #",
+    " #- 4.- - - 3.-  #   @ #- - - v.- - -  #",
+    " #4.- - - - - 3. #     #- - - v.- - -  #",
+    " # # # # # # # # # # # #>.>.>.-0<.<.<. #",
+    " #                     #- - - ^.- - -  #",
+    " #                     #- - - ^.- - -  #",
+    " #                     #- - - ^.- - -  #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test07.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test07.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test07.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test07.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,64 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 7" el:subtitle="" el:id="physictest_collision7"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0
+else
+    fri=0.8
+end
+
+ti["- "] = {"fl_space"}
+ti["  "] = {"fl_sahara"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" ."] = {"#ac_pearl", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " #<.<.<.<.<.<.<.<.<.<. #        v.  ^. #",
+    " #                              v.  ^. #",
+    " #>.>.>.>.>.<.<.<.<.<. #        v.  ^. #",
+    " #                              v.  ^. #",
+    " #       #             @        v.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #      v.                      ^.  ^. #",
+    " #>.>.>.-.<.<.<. #              ^.  ^. #",
+    " #      ^.                      ^.  ^. #",
+    " #      ^.                     # #   # #",
+    " #      ^.                    v.       #",
+    " # #   # #                    v.       #",
+    " #v.  v.                      v.       #",
+    " #v.  v.             #  >.>.>.- <.<.<. #",
+    " #v.  v.                      ^.       #",
+    " #v.  v.                      ^.       #",
+    " #v.  v.                      ^.       #",
+    " #v.  ^.                       #       #",
+    " #v.  ^.                               #",
+    " #v.  ^.       #  >.>.>.>.>.<.<.<.<.<. #",
+    " #v.  ^.                               #",
+    " #v.  ^.       #  >.>.>.>.>.>.>.>.>.>. #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Copied: team_levelpacks/team_test_physics/physics_test08.xml (from rev 1615, team_levelpacks/team_test_physics/physic_test08.xml)
===================================================================
--- team_levelpacks/team_test_physics/physic_test08.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test08.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,48 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Wolf Among Sheep" el:subtitle="" el:id="wolfamongsheep"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
+      <el:copyright>Copyright ? 2005 illmind</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>this is just a fun level to take the game engine to its max power.</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if not wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_dark", friction=fri}
+ti[" #"] = {"st_granite"}
+ti[" ."] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " # # # # # # # # # # # # # # # # # # # #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . @ . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # . . . . . . . . . . . . . . . . . . #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Added: team_levelpacks/team_test_physics/physics_test10.xml
===================================================================
--- team_levelpacks/team_test_physics/physics_test10.xml	2009-04-10 14:07:08 UTC (rev 1615)
+++ team_levelpacks/team_test_physics/physics_test10.xml	2009-04-10 18:22:59 UTC (rev 1616)
@@ -0,0 +1,47 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 10" el:subtitle="" el:id="physictest_collision10"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2009 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_space"}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" o"] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " @ # # # # # # # # # # # # # # # # # # #",
+    " #        vo    vo                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " #>o       o                           #",
+    " #                                     #",
+    " #                                     #",
+    " #>o             o                     #",
+    " #                                     #",
+    " #                                     #",
+    " #                                     #",
+    " # # # # # # # # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physics_test10.xml
___________________________________________________________________
Name: svn:eol-style
   + native



From raoul at mail.berlios.de  Fri Apr 10 20:37:05 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 10 Apr 2009 20:37:05 +0200
Subject: [Enigma-game-svn] r1617 - team_levelpacks/team_test_physics
Message-ID: <200904101837.n3AIb5wI008311@sheep.berlios.de>

Author: raoul
Date: 2009-04-10 20:37:04 +0200 (Fri, 10 Apr 2009)
New Revision: 1617

Added:
   team_levelpacks/team_test_physics/physics_test11.xml
Log:
-> Oh, one more physics test



Added: team_levelpacks/team_test_physics/physics_test11.xml
===================================================================
--- team_levelpacks/team_test_physics/physics_test11.xml	2009-04-10 18:22:59 UTC (rev 1616)
+++ team_levelpacks/team_test_physics/physics_test11.xml	2009-04-10 18:37:04 UTC (rev 1617)
@@ -0,0 +1,49 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Collisiontest 11" el:subtitle="" el:id="physictest_collision11"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:author el:name="Raoul Bourquin" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2009 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+if wo["IsDifficult"] then
+    fri=0.0
+end
+
+ti["  "] = {"fl_space"}
+ti["^ "] = {"fl_slope", slope=NORTH, shape="pn", friction=fri}
+ti["> "] = {"fl_slope", slope=EAST, shape="pe", friction=fri}
+ti["v "] = {"fl_slope", slope=SOUTH, shape="ps", friction=fri}
+ti["< "] = {"fl_slope", slope=WEST, shape="pw", friction=fri}
+ti[" #"] = {"st_rawglass"}
+ti[" o"] = {"#ac_marble_white", controllers=CTRL_NONE, owner=DEFAULT}
+ti[" @"] = ti[" #"] .. {"#ac_marble_black"}
+
+wo(res.composer(ti), "  ", {
+    " @ # # # # # # # # # # # #",
+    " #      vo      vo       #",
+    " #                       #",
+    " #                       #",
+    " #>o     o       o    <o #",
+    " #                       #",
+    " #           o           #",
+    " #                       #",
+    " #>o     o       o    <o #",
+    " #                       #",
+    " #                       #",
+    " #      ^o      ^o       #",
+    " # # # # # # # # # # # # #"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_physics/physics_test11.xml
___________________________________________________________________
Name: svn:eol-style
   + native



From ral at mail.berlios.de  Fri Apr 10 23:29:36 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 10 Apr 2009 23:29:36 +0200
Subject: [Enigma-game-svn] r1618 - in trunk: data data/schemas src
	src/actors src/items src/others
Message-ID: <200904102129.n3ALTaDV021691@sheep.berlios.de>

Author: ral
Date: 2009-04-10 23:29:34 +0200 (Fri, 10 Apr 2009)
New Revision: 1618

Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/actors/Balls.cc
   trunk/src/items.hh
   trunk/src/items/Crack.cc
   trunk/src/items/Crack.hh
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/others/TimerGadget.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
Log:
Trunk 1.1:
- timer gadget - set default initial state to ON
- dynamite on ice: explode to water crack
- pencil on ice: make water crack
- make bubbles of sinking, but invisible marble or pearl visible
- it_flag: rename kinds to proper yinyang scheme:
  - it_flag_black -> it_flag_yin, state=YIN
  - it_flag_white -> it_flag_yang, state=YANG
  - no more attribute "color"
- fl_fake_trigger adjust adhesion to 2.0
Note:
- new API levels need to be checked for it_flag usage


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/data/api1init.lua	2009-04-10 21:29:34 UTC (rev 1618)
@@ -183,8 +183,8 @@
     it_extinguisher_medium = "it-extinguisher_medium",
     it_extinguisher_full = "it-extinguisher",
     it_extralife = "it-extralife",
-    it_flag_black = "it-flagblack",
-    it_flag_white = "it-flagwhite",
+    it_flag_yin = "it-flagblack",
+    it_flag_yang = "it-flagwhite",
     it_floppy = "it-floppy",
     it_glasses = "it-glasses",
     it_glasses_broken = "it-glasses-broken",

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/data/schemas/objects.xml	2009-04-10 21:29:34 UTC (rev 1618)
@@ -612,15 +612,13 @@
     <object name="it_extralife"/>
     <object name="it_extralife_new" init="true"/>
     <object name="it_floppy"/>
-    <object name="it_flag">
-      <attr name="color"/>
+    <object name="it_flag"/>
+    <object name="it_flag_yin">
+      <attr name="state" value="0"/>
     </object>
-    <object name="it_flag_black">
-      <attr name="color" value="0"/>
+    <object name="it_flag_yang">
+      <attr name="state" value="1"/>
     </object>
-    <object name="it_flag_white">
-      <attr name="color" value="1"/>
-    </object>
     <object name="it_glasses">
       <attr name="state" max="31"/>
     </object>

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/data/startup.lua	2009-04-10 21:29:34 UTC (rev 1618)
@@ -117,7 +117,7 @@
     end
 end
 
--- Floor(kind, friction, mousefactor, burnable, firetransform, frames)
+-- Floor(kind, friction, adhesion, burnable, firetransform, frames)
 def_floor("fl_bluegray",     4.5,   1.5,    true,   "",         true)
 def_floor("fl_bluegreen",    6.0,   2.0,    true,   "",         true)
 def_floor("fl_aquamarine",   0.4,   1.0,    true,   "",         true)
@@ -178,6 +178,6 @@
 def_floor("fl_adhesionless", 2.5,   0.0,    true,   "",         false)
 def_floor("fl_dark",         3.0,   1.5,   false,   "",         true)
 def_floor("fl_bright",       3.0,   1.5,   false,   "",         true)
-def_floor("fl_fake_trigger", 3.0,   1.5,    true,   "",         true)
+def_floor("fl_fake_trigger", 3.0,   2.0,    true,   "",         true)
 def_floor("fl_fake_abyss",   3.0,   2.0,   false,   "",         false)
 

Modified: trunk/src/actors/Balls.cc
===================================================================
--- trunk/src/actors/Balls.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/actors/Balls.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -369,6 +369,7 @@
             case BUBBLING:
                 GrabActor(this);
         //         sound::PlaySound("drown");
+                m_invisible_rest_time = 0;
                 set_anim("ac-drowned");
                 break;
             case FALLING:

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/items/Crack.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -25,8 +25,10 @@
 
 namespace enigma {
 
-    Crack::Crack(int type) {
+    Crack::Crack(int type, bool isWater) {
         state = type;
+        if (isWater)
+            objFlags |= OBJBIT_TYP;
     }
     
     std::string Crack::getClass() const {
@@ -159,7 +161,9 @@
         BootRegister(new Crack(0),  "it_crack");
         BootRegister(new Crack(-1), "it_crack_i");
         BootRegister(new Crack(0),  "it_crack_s");
+        BootRegister(new Crack(0, true),  "it_crack_s_water");
         BootRegister(new Crack(1),  "it_crack_m");
+        BootRegister(new Crack(1, true),  "it_crack_m_water");
         BootRegister(new Crack(2),  "it_crack_l");
     BOOT_REGISTER_END
 

Modified: trunk/src/items/Crack.hh
===================================================================
--- trunk/src/items/Crack.hh	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/items/Crack.hh	2009-04-10 21:29:34 UTC (rev 1618)
@@ -45,7 +45,7 @@
         };
 
     public:
-        Crack(int type);
+        Crack(int type, bool isWater =false);
         
         // Object interface
         virtual std::string getClass() const;

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/items/SimpleItems.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -19,7 +19,7 @@
  */
 
 #include "items/SimpleItems.hh"
-//#include "errors.hh"
+#include "errors.hh"
 #include "Inventory.hh"
 //#include "main.hh"
 #include "player.hh"
@@ -155,7 +155,7 @@
             if (state == 1)
                 replace("it_meditation_hollow");
             else if (state == 2)
-                replace("it_crack_m");
+                replace("it_crack_m_water");
             else
                 replace("it_debris");
         else
@@ -177,28 +177,34 @@
 /* -------------------- Flag -------------------- */
 
     FlagItem::FlagItem(int type) {
-        Item::setAttr("color", type);
+        state = type;
     }
     
     std::string FlagItem::getClass() const {
         return "it_flag";
     }
 
+    void FlagItem::setState(int extState) {
+        // need to check for traits index usage
+        ASSERT(extState <= 1 && extState >= 0, XLevelRuntime, "Flag Item - illegal state");
+        Item::setState(extState);
+    }
+    
     void FlagItem::on_drop(Actor *a) {
-        player::SetRespawnPositions(get_pos(), getAttr("color"));
+        player::SetRespawnPositions(get_pos(), state);
     }
     
     void FlagItem::on_pickup(Actor *a) {
-        player::RemoveRespawnPositions(getAttr("color"));
+        player::RemoveRespawnPositions(state);
     }
     
     int FlagItem::traitsIdx() const {
-        return getAttr("color");
+        return state;
     }
     
     ItemTraits FlagItem::traits[2] = {
-        {"it_flag_black", it_flag_black,  itf_none, 0.0},
-        {"it_flag_white", it_flag_white,  itf_none, 0.0},
+        {"it_flag_yin", it_flag_yin,  itf_none, 0.0},
+        {"it_flag_yang", it_flag_yang,  itf_none, 0.0},
     };
 
 /* -------------------- Pencil -------------------- */
@@ -227,7 +233,7 @@
             if (floor == "fl_abyss" || floor == "fl_water" || floor == "fl_swamp" || floor == "fl_bridge" ) {
                 return ITEM_KEEP;
             } else if (floor == "fl_ice") {
-                SetItem(p, MakeItem("it_crack_s"));
+                SetItem(p, MakeItem("it_crack_s_water"));
             } else {
                 Item *newItem = MakeItem("it_cross");
                 transferIdentity(newItem);
@@ -450,8 +456,8 @@
         BootRegister(new Explosion(2), "it_explosion_crack");
         BootRegister(new Explosion(3), "it_explosion_debris");
         BootRegister(new FlagItem(0), "it_flag");
-        BootRegister(new FlagItem(0), "it_flag_black");
-        BootRegister(new FlagItem(1), "it_flag_white");
+        BootRegister(new FlagItem(0), "it_flag_ying");
+        BootRegister(new FlagItem(1), "it_flag_yang");
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/items/SimpleItems.hh	2009-04-10 21:29:34 UTC (rev 1618)
@@ -151,6 +151,9 @@
         // Object interface
         virtual std::string getClass() const;
         
+        // StateObject interface
+        virtual void setState(int extState);
+
         // Item interface
         virtual void on_drop(Actor *a);
         virtual void on_pickup(Actor *a);

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/items.hh	2009-04-10 21:29:34 UTC (rev 1618)
@@ -73,8 +73,8 @@
         it_extinguisher_medium,
         it_extinguisher_empty,
         it_extralife,
-        it_flag_black,
-        it_flag_white,
+        it_flag_yin,
+        it_flag_yang,
         it_floppy,
         it_glasses,
         it_glasses_broken,

Modified: trunk/src/others/TimerGadget.cc
===================================================================
--- trunk/src/others/TimerGadget.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/others/TimerGadget.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -25,6 +25,7 @@
 
 namespace enigma {
     TimerGadget::TimerGadget() : Other() {
+        state = ON;
     }
     
     TimerGadget::~TimerGadget() {

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/ox_magnum.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -315,8 +315,8 @@
     "it_key_c",         // OxydMagnum item 0x16
     "it_floppy",        // OxydMagnum item 0x17
     "it_sword",         // OxydMagnum item 0x18
-    "it_flag_white",    // OxydMagnum item 0x19
-    "it_flag_black",    // OxydMagnum item 0x1a
+    "it_flag_yang",     // OxydMagnum item 0x19
+    "it_flag_yin",      // OxydMagnum item 0x1a
     "it_ring",          // OxydMagnum item 0x1b
     "it_pipe_nw",       // OxydMagnum item 0x1c
     "it_pipe_sw",       // OxydMagnum item 0x1d

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/ox_oxyd1.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -331,8 +331,8 @@
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
     "it_sword",                   // 0x18
-    "it_flag_white",               // 0x19
-    "it_flag_black",               // 0x1a
+    "it_flag_yang",               // 0x19
+    "it_flag_yin",                // 0x1a
     "it_ring",                    // 0x1b
     "it_pipe_nw",                 // 0x1c
     "it_pipe_sw",                 // 0x1d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-04-10 18:37:04 UTC (rev 1617)
+++ trunk/src/ox_peroxyd.cc	2009-04-10 21:29:34 UTC (rev 1618)
@@ -403,8 +403,8 @@
     "it_key_b",                   // 0x15
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
-    "it_flag_white",              // 0x18
-    "it_flag_black",              // 0x19
+    "it_flag_yang",               // 0x18
+    "it_flag_yin",                // 0x19
     "it_ring",                    // 0x1a
     "it_pipe_nw",                 // 0x1b
     "it_pipe_sw",                 // 0x1c



From ral at mail.berlios.de  Sat Apr 11 00:32:25 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 11 Apr 2009 00:32:25 +0200
Subject: [Enigma-game-svn] r1619 - in trunk/src: . items
Message-ID: <200904102232.n3AMWPrq029812@sheep.berlios.de>

Author: ral
Date: 2009-04-11 00:32:16 +0200 (Sat, 11 Apr 2009)
New Revision: 1619

Modified:
   trunk/src/items/SimpleItems.cc
   trunk/src/world.cc
Log:
Trunk 1.1:
- it_flag: fix typo in registration of "it_flag_yin"

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-04-10 21:29:34 UTC (rev 1618)
+++ trunk/src/items/SimpleItems.cc	2009-04-10 22:32:16 UTC (rev 1619)
@@ -456,7 +456,7 @@
         BootRegister(new Explosion(2), "it_explosion_crack");
         BootRegister(new Explosion(3), "it_explosion_debris");
         BootRegister(new FlagItem(0), "it_flag");
-        BootRegister(new FlagItem(0), "it_flag_ying");
+        BootRegister(new FlagItem(0), "it_flag_yin");
         BootRegister(new FlagItem(1), "it_flag_yang");
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-04-10 21:29:34 UTC (rev 1618)
+++ trunk/src/world.cc	2009-04-10 22:32:16 UTC (rev 1619)
@@ -1297,7 +1297,6 @@
             V2 force = (restitution * dmu * relspeed / ActorTimeStep) * n;
             a1.collforce += force;
             a2.collforce -= force;
-
             if (!has_nearby_contact (a1.last_contacts, a1.last_contacts_count, 
                     contact)) {
                 double volume = length (force) * ActorTimeStep;



From andreasl at mail.berlios.de  Sat Apr 11 00:45:58 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Sat, 11 Apr 2009 00:45:58 +0200
Subject: [Enigma-game-svn] r1620 - in trunk: data data/levels/lib
	data/soundsets/enigma doc/manual doc/reference src/items src/stones
Message-ID: <200904102245.n3AMjwSN010629@sheep.berlios.de>

Author: andreasl
Date: 2009-04-11 00:45:45 +0200 (Sat, 11 Apr 2009)
New Revision: 1620

Added:
   trunk/data/soundsets/enigma/quake.wav
Removed:
   trunk/data/soundsets/enigma/fart.wav
Modified:
   trunk/data/levels/lib/andreas_itemfreeze.xml
   trunk/data/levels/lib/ralf_pento.xml
   trunk/data/sound-defaults.lua
   trunk/doc/manual/enigma.texi
   trunk/doc/manual/enigma_de.texi
   trunk/doc/reference/sounds.txt
   trunk/doc/reference/soundset.lua
   trunk/src/items/Bomb.cc
   trunk/src/stones/OxydStone.cc
   trunk/src/stones/QuakeStone.cc
   trunk/src/stones/QuakeStone.hh
Log:
Trunk:
 - Soundrenamings:
     fart -> quake
     *bomb -> bomb_*
     booze -> bottle  (currently unused)
   Old soundset.lua-files should still work (e.g. CoR-soundset).
 - Rename function QuakeStone::fart() to QuakeStone::quake(),
 - Replace "fart stone" by "quake stone" in manual (English, German).
Todo:
 - Replacements in manuals of other languages, and po-files.
 - Update of andreas25 later.


Modified: trunk/data/levels/lib/andreas_itemfreeze.xml
===================================================================
--- trunk/data/levels/lib/andreas_itemfreeze.xml	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/data/levels/lib/andreas_itemfreeze.xml	2009-04-10 22:45:45 UTC (rev 1620)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="library">
       <el:identity el:title="" el:id="lib/andreas_itemfreeze"/>
-      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -254,7 +254,7 @@
     local pos_y = itemfreeze_pos_y[j]
     local mystone = enigma.GetNamedObject("st-itemfreeze_"..tostring(j))
     if mystone ~= nil then
-      enigma.EmitSound(mystone, "whitebomb")
+      enigma.EmitSound(mystone, "bomb_white")
       kill_stone(pos_x, pos_y)
     end
     if itemfreeze_savedfloor[j] ~= "" then

Modified: trunk/data/levels/lib/ralf_pento.xml
===================================================================
--- trunk/data/levels/lib/ralf_pento.xml	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/data/levels/lib/ralf_pento.xml	2009-04-10 22:45:45 UTC (rev 1620)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="library">
       <el:identity el:title="" el:id="lib/ralf_pento"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
       <el:copyright>Copyright ? Dec 2004 Ralf Westram</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -350,7 +350,7 @@
 function spawn()
    local n=getn(unspawned)
    if (n==0) then
-      do_sound("fart")
+      do_sound("quake")
       return 0
    end
 
@@ -404,7 +404,7 @@
          spawn()
          do_sound("stonetransform")
       else
-         do_sound("fart")
+         do_sound("quake")
       end
    end
 end
@@ -434,7 +434,7 @@
          spawnstate(centeredstate(state),ws)
          do_sound("stonetransform")
       else
-         do_sound("fart")
+         do_sound("quake")
       end
    end
 end
@@ -495,7 +495,7 @@
       count = count + hammer(x,y-1)
       count = count + hammer(x,y+1)
       if (count>0) then
-         do_sound("whitebomb")
+         do_sound("bomb_white")
       end
    end
 end

Modified: trunk/data/sound-defaults.lua
===================================================================
--- trunk/data/sound-defaults.lua	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/data/sound-defaults.lua	2009-04-10 22:45:45 UTC (rev 1620)
@@ -36,7 +36,7 @@
                   damp_tick = 0.9,
                   silence_string = "$default$" }
 
--- Complete a sound definition
+-- Complete a sound effect definition with name 'k' and info 't'
 function complete_sound(k, t)
     local tt = {}
     if type(t) == "string" then
@@ -75,11 +75,13 @@
 end
 
 -- Add a new sound set
-function AddSoundSet (tablename, t)
-    for key, value in pairs(t) do
-        r = complete_sound(key, value)  -- completed data set
-        sound.DefineSoundEffect(tablename, key, r.file, r.volume, r.loop,
-            r.global, r.priority, r.damp_max, r.damp_inc, r.damp_mult,
+function AddSoundSet (soundtable_name, soundtable)
+    for soundeffect_name, soundeffect_info in pairs(soundtable) do
+        local soundeffect_name_api2 = soundtable_renamings_api1_to_api2[soundeffect_name] or soundeffect_name
+        local r = complete_sound(soundeffect_name_api2, soundeffect_info)  -- completed data set
+        print(soundeffect_name.." -> "..soundeffect_name_api2)
+        sound.DefineSoundEffect(soundtable_name, soundeffect_name_api2, r.file, r.volume,
+            r.loop, r.global, r.priority, r.damp_max, r.damp_inc, r.damp_mult,
             r.damp_min, r.damp_tick, r.silence_string)
     end
 end
@@ -93,9 +95,12 @@
 function Sound (t)  return t  end
 AddSoundTable = AddSoundSet
 
----------------------------------
--- Definition of sound effects --
----------------------------------
+soundtable_renamings_api1_to_api2 = {
+    blackbomb = "bomb_black",
+    booze = "bottle",
+    fart = "quake", 
+    whitebomb = "bomb_white",
+}
 
 ------------------------
 -- Enigma Sound table --
@@ -106,10 +111,11 @@
 soundtable_enigma = {
     [""]           = "",        -- empty sound
     ballcollision  = "enigma/ballcollision",
-    blackbomb      = "enigma/explosion1",
     blockerdown    = "",
     blockerup      = "",
-    booze          = "",
+    bomb_black      = "enigma/explosion1",
+    bomb_white      = "enigma/explosion1",
+    bottle         = "",
     bumper         = "enigma/bumper",
     cloth          = { file="enigma/st-thud", damp_max = 4.0 },
     coinslotoff    = "",
@@ -124,7 +130,6 @@
     extinguish     = "",
     fakeoxyd       = { file="enigma/st-fakeoxyd", volume=0.3 },
     falldown       = "enigma/falldown",   -- missing, unused (falling is shatter!)
-    fart           = "enigma/fart",
     finished       = { file="enigma/finished", global=true },  -- missing
     floordestroy   = "",
     fourswitch     = "enigma/st-switch", 
@@ -155,11 +160,12 @@
     moveslow       = "enigma/st-move",
     movesmall      = { file="enigma/st-move", damp_max = 10.0, damp_inc = 2.0 },
     oxydclose      = "enigma/st-oxydclose",  -- missing, not neccessary I think
-    oxydopen       = { file="enigma/st-oxydopen", damp_max = 2000.0, damp_inc = 50.0 },
+    oxydopen       = { file="enigma/st-oxydopen", damp_max = 200.0, damp_inc = 5.0 },
     oxydopened     = "enigma/st-oxydopened",
     pickup         = { file="enigma/pickup", global=true },
     puller         = "",
     puzzlerotate   = "enigma/st-move",
+    quake          = "enigma/quake",
     rubberband     = "enigma/boing",
     scissors       = "",
     seedgrow       = "enigma/seedgrow",  -- missing
@@ -193,7 +199,6 @@
     vortexclose    = "enigma/doorclose", -- missing
     vortexopen     = "enigma/dooropen",  -- missing
     warp           = "enigma/warp",      -- missing, maybe suck2?
-    whitebomb      = "enigma/explosion1",
     wood           = "enigma/wood",
     yinyang        = "enigma/st-magic",
 }
@@ -201,10 +206,11 @@
 soundtable_silent = {
     [""]           = "",        -- empty sound
     ballcollision  = { silence_string = "tack" },
-    blackbomb      = { silence_string = "KABOOM!" },
     blockerdown    = "",
     blockerup      = "",
-    booze          = "",
+    bomb_black     = { silence_string = "KABOOM!" },
+    bomb_white     = { silence_string = "KABOOOOM!!" },
+    bottle         = "",
     bumper         = { silence_string = "Doinc" },
     cloth          = { silence_string = "bump" },
     coinslotoff    = "",
@@ -219,7 +225,6 @@
     extinguish     = { silence_string = "pfff..." },
     fakeoxyd       = { silence_string = "ding-dang" },
     falldown       = "",
-    fart           = { silence_string = "Prfft!" },
     finished       = { silence_string = "Finished!" },
     floordestroy   = { silence_string = "CrraaACK!" },
     fourswitch     = { silence_string = "Clihick" }, 
@@ -255,6 +260,7 @@
     pickup         = { silence_string = "pick" },
     puller         = "",
     puzzlerotate   = { silence_string = "rot-rot" },
+    quake          = { silence_string = "grummel" },
     rubberband     = { silence_string = "Boing!" },
     scissors       = "",
     seedgrow       = { silence_string = "krk...krk" },
@@ -288,7 +294,6 @@
     vortexclose    = "",
     vortexopen     = "",
     warp           = "",
-    whitebomb      = { silence_string = "KABOOOOM!!" },
     wood           = { silence_string = "dok" },
     yinyang        = { silence_string = "Tradim!" },
 }
@@ -296,10 +301,11 @@
 soundtable_oxyd = {
     [""]           = "",        -- empty sound
     ballcollision  = "OXKLICK3.SDD",
-    blackbomb      = "OXCRASH2.SDD",
     blockerdown    = "",
     blockerup      = "",
-    booze          = "",
+    bomb_black     = "OXCRASH2.SDD",
+    bomb_white     = "OXCRASH2.SDD",
+    bottle         = "",
     bumper         = "OXWOUOU.SDD",
     cloth          = "OXKLICK4.SDD",
     coinslotoff    = "",
@@ -314,7 +320,6 @@
     extinguish     = "",
     fakeoxyd       = "",
     falldown       = "",
-    fart           = "OXUNTITL.SDD",
     finished       = { file="OXFINITO.SDD", global=true },
     floordestroy   = "OXCRASH2",
     fourswitch     = "",
@@ -345,6 +350,7 @@
     pickup         = "OXINVENT.SDD",
     puller         = "OXPULLER.SDD",
     puzzlerotate   = "OXMOVE.SDD",
+    quake          = "OXUNTITL.SDD",
     rubberband     = "OXBOING.SDD",
     scissors       = "OXCUT.SDD",
     seedgrow       = "",
@@ -378,7 +384,6 @@
     vortexclose    = "OXMOTOR.SDD",
     vortexopen     = "OXMOTOR.SDD",
     warp           = "OXTRANS.SDD",
-    whitebomb      = "OXCRASH2.SDD",
     wood           = "OXKLICK1.SDD",
     yinyang        = "OXMAGIC.SDD",
 }    

Deleted: trunk/data/soundsets/enigma/fart.wav
===================================================================
(Binary files differ)

Copied: trunk/data/soundsets/enigma/quake.wav (from rev 1618, trunk/data/soundsets/enigma/fart.wav)


Property changes on: trunk/data/soundsets/enigma/quake.wav
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream
Name: svn:mergeinfo
   + 

Modified: trunk/doc/manual/enigma.texi
===================================================================
--- trunk/doc/manual/enigma.texi	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/doc/manual/enigma.texi	2009-04-10 22:45:45 UTC (rev 1620)
@@ -1114,7 +1114,7 @@
 to blink, use another umbrella.
 
 Room 4: Simply match the oxyd stones by hitting oxyds of the same colors
-as the activated oxyd stones (one at a time).  Don't hit the fart
+as the activated oxyd stones (one at a time).  Don't hit the quake
 stones (the black stones).  You win!
 
 

Modified: trunk/doc/manual/enigma_de.texi
===================================================================
--- trunk/doc/manual/enigma_de.texi	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/doc/manual/enigma_de.texi	2009-04-10 22:45:45 UTC (rev 1620)
@@ -1220,7 +1220,7 @@
 benutzen Sie rechtzeitig einen weiteren Regenschirm.
 
 Raum 4: @"Offnen Sie einfach alle Oxydsteine in der richtigen Reihenfolge, so dass
-jeweils gleichfarbige ge@"offnet bleiben. Vermeiden Sie es, die Furzsteine zu
+jeweils gleichfarbige ge@"offnet bleiben. Vermeiden Sie es, die Erdbebensteine zu
 ber@"uhren. Sie haben die Landschaft nun geschafft!
 
 @node Tipps,  , Tutorial, Tipps und Tricks

Modified: trunk/doc/reference/sounds.txt
===================================================================
--- trunk/doc/reference/sounds.txt	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/doc/reference/sounds.txt	2009-04-10 22:45:45 UTC (rev 1620)
@@ -2,10 +2,11 @@
 ----------------------
 
 ballcollision
-blackbomb
 blockerdown
 blockerup
-booze
+bomb_black
+bomb_white
+bottle
 bumper
 cloth               
 coinslotoff
@@ -20,7 +21,6 @@
 extinguish
 fakeoxyd
 falldown
-fart
 finished            player finishes level
 glass               
 impulse
@@ -48,6 +48,7 @@
 pickup
 puller
 puzzlerotate
+quake
 rubberband
 scissors
 seedgrow
@@ -80,7 +81,6 @@
 vortexclose
 vortexopen
 warp
-whitebomb
 wood                
 yinyang
 

Modified: trunk/doc/reference/soundset.lua
===================================================================
--- trunk/doc/reference/soundset.lua	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/doc/reference/soundset.lua	2009-04-10 22:45:45 UTC (rev 1620)
@@ -91,10 +91,11 @@
 soundtable_MY_SOUNDSET = {
     [""]           = "",        -- empty sound
     ballcollision  = "",
-    blackbomb      = "",
     blockerdown    = "",
     blockerup      = "",
-    booze          = "",
+    bomb_black     = "",
+    bomb_white     = "",
+    bottle         = "",
     bumper         = "",
     cloth          = "",
     coinslotoff    = "",
@@ -109,7 +110,6 @@
     extinguish     = "",
     fakeoxyd       = "",
     falldown       = "",
-    fart           = "",
     finished       = "",
     floordestroy   = "",
     fourswitch     = "",
@@ -145,6 +145,7 @@
     pickup         = "",
     puller         = "",
     puzzlerotate   = "",
+    quake          = "",
     rubberband     = "",
     scissors       = "",
     seedgrow       = "",
@@ -177,7 +178,6 @@
     vortexclose    = "",
     vortexopen     = "",
     warp           = "",
-    whitebomb      = "",
     wood           = "",
     yinyang        = "",
 }

Modified: trunk/src/items/Bomb.cc
===================================================================
--- trunk/src/items/Bomb.cc	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/src/items/Bomb.cc	2009-04-10 22:45:45 UTC (rev 1620)
@@ -117,7 +117,7 @@
     void Bomb::explode() {
         GridPos p = get_pos();
         Value vc = getAttr("color");
-        sound_event(vc == BLACK ? "blackbomb" : "whitebomb");
+        sound_event(vc == BLACK ? "bomb_black" : "bomb_white");
         SendExplosionEffect(p, vc == BLACK ? EXPLOSION_BLACKBOMB : EXPLOSION_WHITEBOMB);  // may kill the bomb by another explosion1 set by brake
         replace("it_explosion_debris");
     }

Modified: trunk/src/stones/OxydStone.cc
===================================================================
--- trunk/src/stones/OxydStone.cc	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/src/stones/OxydStone.cc	2009-04-10 22:45:45 UTC (rev 1620)
@@ -1113,7 +1113,7 @@
                     if ((int)getAttr("oxydcolor") == QUAKE) {
                         closeAllStandardOxyds();
                         didQuake = true;
-                        sound_event("fart");
+                        sound_event("quake");
                     } else if ((int)getAttr("oxydcolor") == BOLD) {
                         sound_event("shuffle");
                     }

Modified: trunk/src/stones/QuakeStone.cc
===================================================================
--- trunk/src/stones/QuakeStone.cc	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/src/stones/QuakeStone.cc	2009-04-10 22:45:45 UTC (rev 1620)
@@ -58,13 +58,13 @@
         if ((state == IDLE && extState == 2) || (state == ACTIVEBREAKING && extState == 0)) {
             state = BREAKING;
             if (isDisplayable()) {
-                fart();
+                quake();
                 sound_event("stonedestroy");
             }
         } else if (state == IDLE && extState == ACTIVE) {
             state = ACTIVE;
             if (isDisplayable())            
-                fart();
+                quake();
         } else if (state == ACTIVE && extState == IDLE) {
             state = IDLE;
         } else if (state == ACTIVE && extState == BREAKING) {
@@ -103,10 +103,10 @@
             setState(ACTIVE);
     }
     
-    void QuakeStone::fart() {
+    void QuakeStone::quake() {
         Object *ox = GetObjectTemplate("st_oxyd");
         SendMessage(ox, "closeall");
-        sound_event("fart");
+        sound_event("quake");
     }
     
         

Modified: trunk/src/stones/QuakeStone.hh
===================================================================
--- trunk/src/stones/QuakeStone.hh	2009-04-10 22:32:16 UTC (rev 1619)
+++ trunk/src/stones/QuakeStone.hh	2009-04-10 22:45:45 UTC (rev 1620)
@@ -63,7 +63,7 @@
         virtual void actor_hit(const StoneContact &sc);
 
     private:
-        void fart();
+        void quake();
     };
 
 } // namespace enigma



From ral at mail.berlios.de  Sat Apr 11 13:58:49 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 11 Apr 2009 13:58:49 +0200
Subject: [Enigma-game-svn] r1621 - in trunk: data data/schemas src src/items
Message-ID: <200904111158.n3BBwnFR020349@sheep.berlios.de>

Author: ral
Date: 2009-04-11 13:58:47 +0200 (Sat, 11 Apr 2009)
New Revision: 1621

Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/items.hh
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
Log:
Trunk 1.1:
- it_flag: revert changes of r1618 - keep at color based flags instead of
    yinyang flags. Just the actor color decides on the flag drop defined
    respawn position, the owning player has no influence.
- fix it_flag: limit color attribute usage to avoid crashes on invalid traits
- fix it_weight: reenable attribute set besides mass.


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/data/api1init.lua	2009-04-11 11:58:47 UTC (rev 1621)
@@ -183,8 +183,8 @@
     it_extinguisher_medium = "it-extinguisher_medium",
     it_extinguisher_full = "it-extinguisher",
     it_extralife = "it-extralife",
-    it_flag_yin = "it-flagblack",
-    it_flag_yang = "it-flagwhite",
+    it_flag_black = "it-flagblack",
+    it_flag_white = "it-flagwhite",
     it_floppy = "it-floppy",
     it_glasses = "it-glasses",
     it_glasses_broken = "it-glasses-broken",

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/data/schemas/objects.xml	2009-04-11 11:58:47 UTC (rev 1621)
@@ -612,13 +612,15 @@
     <object name="it_extralife"/>
     <object name="it_extralife_new" init="true"/>
     <object name="it_floppy"/>
-    <object name="it_flag"/>
-    <object name="it_flag_yin">
-      <attr name="state" value="0"/>
+    <object name="it_flag">
+      <attr name="color"/>
     </object>
-    <object name="it_flag_yang">
-      <attr name="state" value="1"/>
+    <object name="it_flag_black">
+      <attr name="color" value="0"/>
     </object>
+    <object name="it_flag_white">
+      <attr name="color" value="1"/>
+    </object>
     <object name="it_glasses">
       <attr name="state" max="31"/>
     </object>

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/items/SimpleItems.cc	2009-04-11 11:58:47 UTC (rev 1621)
@@ -177,34 +177,35 @@
 /* -------------------- Flag -------------------- */
 
     FlagItem::FlagItem(int type) {
-        state = type;
+        Item::setAttr("color", type);
     }
     
     std::string FlagItem::getClass() const {
         return "it_flag";
     }
-
-    void FlagItem::setState(int extState) {
-        // need to check for traits index usage
-        ASSERT(extState <= 1 && extState >= 0, XLevelRuntime, "Flag Item - illegal state");
-        Item::setState(extState);
-    }
     
+    void FlagItem::setAttr(const string& key, const Value &val) {
+        if (key == "color") {
+            if ((int)val < 0 || (int)val > 1)
+                return;
+        }
+        Item::setAttr(key, val);
+    }        
     void FlagItem::on_drop(Actor *a) {
-        player::SetRespawnPositions(get_pos(), state);
+        player::SetRespawnPositions(get_pos(), getAttr("color"));
     }
     
     void FlagItem::on_pickup(Actor *a) {
-        player::RemoveRespawnPositions(state);
+        player::RemoveRespawnPositions(getAttr("color"));
     }
     
     int FlagItem::traitsIdx() const {
-        return state;
+        return getAttr("color");
     }
     
     ItemTraits FlagItem::traits[2] = {
-        {"it_flag_yin", it_flag_yin,  itf_none, 0.0},
-        {"it_flag_yang", it_flag_yang,  itf_none, 0.0},
+        {"it_flag_black", it_flag_black,  itf_none, 0.0},
+        {"it_flag_white", it_flag_white,  itf_none, 0.0},
     };
 
 /* -------------------- Pencil -------------------- */
@@ -398,7 +399,9 @@
                     BroadcastMessage("_update_mass", owner, GRID_NONE_BIT, true);
                 }
             }
+            return;
         }
+        Item::setAttr(key, val);
     }        
         
     void Weight::setOwner(int player) {
@@ -456,8 +459,8 @@
         BootRegister(new Explosion(2), "it_explosion_crack");
         BootRegister(new Explosion(3), "it_explosion_debris");
         BootRegister(new FlagItem(0), "it_flag");
-        BootRegister(new FlagItem(0), "it_flag_yin");
-        BootRegister(new FlagItem(1), "it_flag_yang");
+        BootRegister(new FlagItem(0), "it_flag_black");
+        BootRegister(new FlagItem(1), "it_flag_white");
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/items/SimpleItems.hh	2009-04-11 11:58:47 UTC (rev 1621)
@@ -150,10 +150,8 @@
         
         // Object interface
         virtual std::string getClass() const;
+        virtual void setAttr(const string& key, const Value &val);
         
-        // StateObject interface
-        virtual void setState(int extState);
-
         // Item interface
         virtual void on_drop(Actor *a);
         virtual void on_pickup(Actor *a);

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/items.hh	2009-04-11 11:58:47 UTC (rev 1621)
@@ -73,8 +73,8 @@
         it_extinguisher_medium,
         it_extinguisher_empty,
         it_extralife,
-        it_flag_yin,
-        it_flag_yang,
+        it_flag_black,
+        it_flag_white,
         it_floppy,
         it_glasses,
         it_glasses_broken,

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/ox_magnum.cc	2009-04-11 11:58:47 UTC (rev 1621)
@@ -315,8 +315,8 @@
     "it_key_c",         // OxydMagnum item 0x16
     "it_floppy",        // OxydMagnum item 0x17
     "it_sword",         // OxydMagnum item 0x18
-    "it_flag_yang",     // OxydMagnum item 0x19
-    "it_flag_yin",      // OxydMagnum item 0x1a
+    "it_flag_white",    // OxydMagnum item 0x19
+    "it_flag_black",    // OxydMagnum item 0x1a
     "it_ring",          // OxydMagnum item 0x1b
     "it_pipe_nw",       // OxydMagnum item 0x1c
     "it_pipe_sw",       // OxydMagnum item 0x1d

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/ox_oxyd1.cc	2009-04-11 11:58:47 UTC (rev 1621)
@@ -331,8 +331,8 @@
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
     "it_sword",                   // 0x18
-    "it_flag_yang",               // 0x19
-    "it_flag_yin",                // 0x1a
+    "it_flag_white",              // 0x19
+    "it_flag_black",              // 0x1a
     "it_ring",                    // 0x1b
     "it_pipe_nw",                 // 0x1c
     "it_pipe_sw",                 // 0x1d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-04-10 22:45:45 UTC (rev 1620)
+++ trunk/src/ox_peroxyd.cc	2009-04-11 11:58:47 UTC (rev 1621)
@@ -403,8 +403,8 @@
     "it_key_b",                   // 0x15
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
-    "it_flag_yang",               // 0x18
-    "it_flag_yin",                // 0x19
+    "it_flag_white",              // 0x18
+    "it_flag_black",              // 0x19
     "it_ring",                    // 0x1a
     "it_pipe_nw",                 // 0x1b
     "it_pipe_sw",                 // 0x1c



From raoul at mail.berlios.de  Sun Apr 12 19:44:51 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 12 Apr 2009 19:44:51 +0200
Subject: [Enigma-game-svn] r1622 - team_levelpacks/team_test_new_api
Message-ID: <200904121744.n3CHipCP001364@sheep.berlios.de>

Author: raoul
Date: 2009-04-12 19:44:50 +0200 (Sun, 12 Apr 2009)
New Revision: 1622

Modified:
   team_levelpacks/team_test_new_api/ralT016_1.xml
   team_levelpacks/team_test_new_api/ralT050_1.xml
Log:
-> Fix testlevels for global attribute check


Modified: team_levelpacks/team_test_new_api/ralT016_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT016_1.xml	2009-04-11 11:58:47 UTC (rev 1621)
+++ team_levelpacks/team_test_new_api/ralT016_1.xml	2009-04-12 17:44:50 UTC (rev 1622)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 wo["ShowMoves"] = false
-wo["SwampSinkSpeed"] = 2
+wo["SwampSinkTime"] = 2
 
 ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_abyss"}

Modified: team_levelpacks/team_test_new_api/ralT050_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT050_1.xml	2009-04-11 11:58:47 UTC (rev 1621)
+++ team_levelpacks/team_test_new_api/ralT050_1.xml	2009-04-12 17:44:50 UTC (rev 1622)
@@ -16,7 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
-wo["ActorImpulseStrength"] = 150
+wo["ActorimpulseStrength"] = 150
 
 ti[" "] = {"fl_sahara"}
 ti["A"] = {"st_actorimpulse"}
@@ -30,7 +30,7 @@
 ti["G"] = {"it_glasses"}
 ti["g"] = {"it_glasses", state=SPOT_ACTORIMPULSE}
 
-ti["1"] = {"#ac_marble_black"} 
+ti["1"] = {"#ac_marble_black"}
 
 ti["s"] = {"it_sword"}
 ti["K"] = {"st_knight"}



From ral at mail.berlios.de  Sun Apr 12 22:47:57 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sun, 12 Apr 2009 22:47:57 +0200
Subject: [Enigma-game-svn] r1623 - homepage/input
Message-ID: <200904122047.n3CKlvOv023844@sheep.berlios.de>

Author: ral
Date: 2009-04-12 22:47:39 +0200 (Sun, 12 Apr 2009)
New Revision: 1623

Modified:
   homepage/input/stat-other.html
   homepage/input/table-hcp.html
   homepage/input/table-rat.html
   homepage/input/table-solved.html
   homepage/input/table-wr.html
Log:
Homepage:
- statistics March 2009


Modified: homepage/input/stat-other.html
===================================================================
--- homepage/input/stat-other.html	2009-04-12 17:44:50 UTC (rev 1622)
+++ homepage/input/stat-other.html	2009-04-12 20:47:39 UTC (rev 1623)
@@ -1,22 +1,22 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      89561 $$single_level_scores$$.
+      89794 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      17166 $$single_level_ratings$$ 4.93 $$and_distribution$$: 
+      17345 $$single_level_ratings$$ 4.94 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
         <tr><td class="num">0</td><td class="num">113</td></tr>
-        <tr><td class="num">1</td><td class="num">311</td></tr>
-        <tr><td class="num">2</td><td class="num">895</td></tr>
-        <tr><td class="num">3</td><td class="num">2362</td></tr>
-        <tr><td class="num">4</td><td class="num">3251</td></tr>
-        <tr><td class="num">5</td><td class="num">4097</td></tr>
-        <tr><td class="num">6</td><td class="num">2907</td></tr>
-        <tr><td class="num">7</td><td class="num">1966</td></tr>
-        <tr><td class="num">8</td><td class="num">787</td></tr>
-        <tr><td class="num">9</td><td class="num">315</td></tr>
-        <tr><td class="num">10</td><td class="num">162</td></tr>
+        <tr><td class="num">1</td><td class="num">315</td></tr>
+        <tr><td class="num">2</td><td class="num">900</td></tr>
+        <tr><td class="num">3</td><td class="num">2382</td></tr>
+        <tr><td class="num">4</td><td class="num">3273</td></tr>
+        <tr><td class="num">5</td><td class="num">4143</td></tr>
+        <tr><td class="num">6</td><td class="num">2945</td></tr>
+        <tr><td class="num">7</td><td class="num">1991</td></tr>
+        <tr><td class="num">8</td><td class="num">791</td></tr>
+        <tr><td class="num">9</td><td class="num">324</td></tr>
+        <tr><td class="num">10</td><td class="num">168</td></tr>
       </table>
   </div>

Modified: homepage/input/table-hcp.html
===================================================================
--- homepage/input/table-hcp.html	2009-04-12 17:44:50 UTC (rev 1622)
+++ homepage/input/table-hcp.html	2009-04-12 20:47:39 UTC (rev 1623)
@@ -1,176 +1,176 @@
   <table>
-    <caption>$$Handicap_Statistics$$ $$February$$ 2009</caption>
+    <caption>$$Handicap_Statistics$$ $$March$$ 2009</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-146.9</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -96.2</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -77.6</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -77.3</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num"> -66.1</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -64.3</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -61.2</td><td class="left">'Mentist'</td></tr>
-     <tr><td class="num"> -56.1</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -55.9</td><td class="left">'Crystalicum'</td></tr>
-     <tr><td class="num"> -54.9</td><td class="left">'Malla'</td></tr>
-     <tr><td class="num"> -51.8</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -51.4</td><td class="left">'Daisy'</td></tr>
-     <tr><td class="num"> -46.6</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -44.2</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -42.1</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -35.0</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -32.6</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -32.1</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -30.0</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -27.0</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -25.3</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -24.4</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -23.4</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -21.4</td><td class="left">'Angolino'</td></tr>
-     <tr><td class="num"> -20.2</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -18.5</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -17.5</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -17.1</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -16.4</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -14.0</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num">  -9.4</td><td class="left">'Dime'</td></tr>
-     <tr><td class="num">  -8.9</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num">  -8.2</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num">  -4.8</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -4.7</td><td class="left">'Timo'</td></tr>
-     <tr><td class="num">  -4.3</td><td class="left">'joseba'</td></tr>
-     <tr><td class="num">  -0.9</td><td class="left">'Daniel'</td></tr>
-     <tr><td class="num">   0.0</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">   0.4</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">   0.6</td><td class="left">'Hairball'</td></tr>
-     <tr><td class="num">   1.5</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">   1.5</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">   1.8</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">   2.2</td><td class="left">'Freshman'</td></tr>
-     <tr><td class="num">   2.6</td><td class="left">'mecke'</td></tr>
-     <tr><td class="num">   3.0</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">-148.3</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -98.0</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -76.2</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num"> -75.9</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num"> -64.7</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -64.5</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -63.7</td><td class="left">'Mentist'</td></tr>
+     <tr><td class="num"> -56.3</td><td class="left">'Crystalicum'</td></tr>
+     <tr><td class="num"> -55.1</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -53.6</td><td class="left">'Malla'</td></tr>
+     <tr><td class="num"> -52.6</td><td class="left">'Daisy'</td></tr>
+     <tr><td class="num"> -50.3</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -45.2</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -42.9</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -40.6</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -33.5</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -31.3</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -30.7</td><td class="left">'Emmanuel'</td></tr>
+     <tr><td class="num"> -28.6</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -28.5</td><td class="left">'Angolino'</td></tr>
+     <tr><td class="num"> -25.7</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -24.1</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -23.1</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -22.3</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -21.8</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -19.0</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -17.3</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -16.4</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -15.9</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -13.0</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -11.6</td><td class="left">'Dime'</td></tr>
+     <tr><td class="num">  -8.0</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num">  -7.4</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num">  -3.9</td><td class="left">'Iceshark7'</td></tr>
+     <tr><td class="num">  -3.7</td><td class="left">'Timo'</td></tr>
+     <tr><td class="num">  -3.3</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">   0.0</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">   0.9</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num">   1.4</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   1.6</td><td class="left">'Hairball'</td></tr>
+     <tr><td class="num">   2.2</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">   2.3</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">   2.7</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   3.0</td><td class="left">'Freshman'</td></tr>
+     <tr><td class="num">   3.5</td><td class="left">'mecke'</td></tr>
      <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
-     <tr><td class="num">   4.1</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">   4.4</td><td class="left">'Tobias'</td></tr>
-     <tr><td class="num">   5.6</td><td class="left">'Guglielmo'</td></tr>
-     <tr><td class="num">   5.7</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">   5.7</td><td class="left">'Tiza'</td></tr>
-     <tr><td class="num">   6.5</td><td class="left">'Sigma'</td></tr>
-     <tr><td class="num">   6.8</td><td class="left">'Andy'</td></tr>
-     <tr><td class="num">   6.8</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   9.1</td><td class="left">'Austin'</td></tr>
-     <tr><td class="num">  10.5</td><td class="left">'shoki'</td></tr>
-     <tr><td class="num">  13.2</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  15.1</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  15.4</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  16.3</td><td class="left">'AlephD'</td></tr>
-     <tr><td class="num">  16.5</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  16.6</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  17.0</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  20.7</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">  21.0</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  23.4</td><td class="left">'Antonio EE'</td></tr>
-     <tr><td class="num">  23.7</td><td class="left">'Jinajon'</td></tr>
-     <tr><td class="num">  23.7</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  24.2</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  24.5</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  25.3</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  25.7</td><td class="left">'Feynman'</td></tr>
-     <tr><td class="num">  25.9</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  26.4</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  26.6</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  27.2</td><td class="left">'Hans-HD'</td></tr>
-     <tr><td class="num">  28.4</td><td class="left">'un_guru'</td></tr>
-     <tr><td class="num">  28.7</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  29.1</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  29.9</td><td class="left">'biotopa'</td></tr>
-     <tr><td class="num">  30.0</td><td class="left">'Vinksu'</td></tr>
-     <tr><td class="num">  30.0</td><td class="left">'oxyd4ever'</td></tr>
-     <tr><td class="num">  30.2</td><td class="left">'GiannuzzITA'</td></tr>
-     <tr><td class="num">  30.5</td><td class="left">'oblo'</td></tr>
-     <tr><td class="num">  30.9</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  31.7</td><td class="left">'geembo_90'</td></tr>
-     <tr><td class="num">  32.1</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  32.3</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  32.9</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  32.9</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  33.2</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  33.2</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  36.0</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  36.1</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  36.2</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  36.6</td><td class="left">'Kosby'</td></tr>
-     <tr><td class="num">  37.4</td><td class="left">'alain'</td></tr>
-     <tr><td class="num">  38.2</td><td class="left">'Liam Sheehan'</td></tr>
-     <tr><td class="num">  38.5</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  39.0</td><td class="left">'H-J.Epting'</td></tr>
-     <tr><td class="num">  39.6</td><td class="left">'WesleyCrusher'</td></tr>
-     <tr><td class="num">  39.7</td><td class="left">'Drotten'</td></tr>
-     <tr><td class="num">  40.0</td><td class="left">'Archcorenth'</td></tr>
-     <tr><td class="num">  40.3</td><td class="left">'Harry Lim'</td></tr>
-     <tr><td class="num">  40.7</td><td class="left">'B-man'</td></tr>
-     <tr><td class="num">  40.9</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  41.9</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  42.1</td><td class="left">'gringer'</td></tr>
-     <tr><td class="num">  42.5</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  42.6</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  43.7</td><td class="left">'Momcat'</td></tr>
-     <tr><td class="num">  44.4</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  44.8</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  46.0</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  46.8</td><td class="left">'IntKecsk'</td></tr>
-     <tr><td class="num">  47.2</td><td class="left">'tjRaven'</td></tr>
-     <tr><td class="num">  47.9</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  48.1</td><td class="left">'mhatta'</td></tr>
-     <tr><td class="num">  48.2</td><td class="left">'ntaeijr'</td></tr>
-     <tr><td class="num">  50.2</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  50.3</td><td class="left">'rima'</td></tr>
-     <tr><td class="num">  50.8</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  50.8</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  50.8</td><td class="left">'Tomson'</td></tr>
-     <tr><td class="num">  51.4</td><td class="left">'ReasonAnce'</td></tr>
-     <tr><td class="num">  51.6</td><td class="left">'jdcampo'</td></tr>
-     <tr><td class="num">  51.8</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  52.8</td><td class="left">'Slav'</td></tr>
-     <tr><td class="num">  52.8</td><td class="left">'AkRa'</td></tr>
-     <tr><td class="num">  53.1</td><td class="left">'Vaily'</td></tr>
-     <tr><td class="num">  53.2</td><td class="left">'Pascal'</td></tr>
-     <tr><td class="num">  53.8</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  54.2</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  54.2</td><td class="left">'Cyphase'</td></tr>
-     <tr><td class="num">  54.3</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  56.3</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  57.4</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  57.9</td><td class="left">'Kadu'</td></tr>
-     <tr><td class="num">  59.7</td><td class="left">'Enrymather'</td></tr>
-     <tr><td class="num">  60.4</td><td class="left">'Sopoforic'</td></tr>
-     <tr><td class="num">  61.1</td><td class="left">'jumbo'</td></tr>
-     <tr><td class="num">  61.8</td><td class="left">'jdrexler'</td></tr>
-     <tr><td class="num">  62.5</td><td class="left">'Asbel'</td></tr>
-     <tr><td class="num">  64.3</td><td class="left">'tasker'</td></tr>
-     <tr><td class="num">  64.6</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  66.5</td><td class="left">'ael'</td></tr>
-     <tr><td class="num">  67.3</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  67.4</td><td class="left">'schmusi20'</td></tr>
-     <tr><td class="num">  67.4</td><td class="left">'Fred_the_wise'</td></tr>
-     <tr><td class="num">  67.6</td><td class="left">'Sparkey'</td></tr>
-     <tr><td class="num">  67.9</td><td class="left">'Alf'</td></tr>
-     <tr><td class="num">  69.6</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  70.3</td><td class="left">'Zhura'</td></tr>
-     <tr><td class="num">  71.0</td><td class="left">'xmouse'</td></tr>
-     <tr><td class="num">  72.4</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  72.4</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  74.0</td><td class="left">'crypto_rsa'</td></tr>
-     <tr><td class="num">  74.3</td><td class="left">'Dvorhagen'</td></tr>
-     <tr><td class="num">  75.2</td><td class="left">'Eselchen'</td></tr>
-     <tr><td class="num">  75.3</td><td class="left">'Nicol?s'</td></tr>
-     <tr><td class="num">  75.5</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  75.5</td><td class="left">'AsuCaga'</td></tr>
-     <tr><td class="num">  78.9</td><td class="left">'colonel crayon'</td></tr>
-     <tr><td class="num">  79.7</td><td class="left">'Kroetchen'</td></tr>
-     <tr><td class="num">  80.4</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  81.6</td><td class="left">'IIkka'</td></tr>
-     <tr><td class="num">  85.3</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">   3.8</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">   4.8</td><td class="left">'para_doks'</td></tr>
+     <tr><td class="num">   5.2</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   6.5</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   6.6</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">   6.6</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">   7.4</td><td class="left">'Sigma'</td></tr>
+     <tr><td class="num">   7.6</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   7.6</td><td class="left">'serpent'</td></tr>
+     <tr><td class="num">   9.9</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">  11.3</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  13.8</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  15.9</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  16.1</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">  16.9</td><td class="left">'AlephD'</td></tr>
+     <tr><td class="num">  17.1</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  17.4</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">  17.7</td><td class="left">'Agnieszka'</td></tr>
+     <tr><td class="num">  21.2</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  21.6</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  23.9</td><td class="left">'H-J.Epting'</td></tr>
+     <tr><td class="num">  24.0</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  24.2</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  24.3</td><td class="left">'Jinajon'</td></tr>
+     <tr><td class="num">  24.8</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  25.1</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  25.9</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  26.2</td><td class="left">'Feynman'</td></tr>
+     <tr><td class="num">  26.5</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  26.9</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  27.4</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  27.8</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  28.9</td><td class="left">'un_guru'</td></tr>
+     <tr><td class="num">  29.2</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  29.7</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  30.4</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  30.5</td><td class="left">'oxyd4ever'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  30.8</td><td class="left">'GiannuzzITA'</td></tr>
+     <tr><td class="num">  30.9</td><td class="left">'oblo'</td></tr>
+     <tr><td class="num">  31.3</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  32.4</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  32.6</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  32.8</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  33.4</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  33.4</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  33.6</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  33.7</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  36.4</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  36.5</td><td class="left">'MicWa'</td></tr>
+     <tr><td class="num">  36.7</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  37.0</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  37.9</td><td class="left">'alain'</td></tr>
+     <tr><td class="num">  38.7</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  39.1</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  40.0</td><td class="left">'WesleyCrusher'</td></tr>
+     <tr><td class="num">  40.1</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  40.5</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  40.7</td><td class="left">'Harry Lim'</td></tr>
+     <tr><td class="num">  41.1</td><td class="left">'B-man'</td></tr>
+     <tr><td class="num">  41.4</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  42.3</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  42.4</td><td class="left">'gringer'</td></tr>
+     <tr><td class="num">  42.9</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  43.0</td><td class="left">'Snaily'</td></tr>
+     <tr><td class="num">  44.1</td><td class="left">'Momcat'</td></tr>
+     <tr><td class="num">  44.8</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  45.3</td><td class="left">'Uli'</td></tr>
+     <tr><td class="num">  46.4</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  47.2</td><td class="left">'IntKecsk'</td></tr>
+     <tr><td class="num">  47.7</td><td class="left">'tjRaven'</td></tr>
+     <tr><td class="num">  48.3</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  48.5</td><td class="left">'ntaeijr'</td></tr>
+     <tr><td class="num">  48.5</td><td class="left">'mhatta'</td></tr>
+     <tr><td class="num">  50.5</td><td class="left">'Zak'</td></tr>
+     <tr><td class="num">  50.6</td><td class="left">'Tomson'</td></tr>
+     <tr><td class="num">  50.7</td><td class="left">'rima'</td></tr>
+     <tr><td class="num">  51.1</td><td class="left">'brynn'</td></tr>
+     <tr><td class="num">  51.1</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  51.9</td><td class="left">'ReasonAnce'</td></tr>
+     <tr><td class="num">  51.9</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  52.2</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  53.1</td><td class="left">'AkRa'</td></tr>
+     <tr><td class="num">  53.2</td><td class="left">'Slav'</td></tr>
+     <tr><td class="num">  53.4</td><td class="left">'Vaily'</td></tr>
+     <tr><td class="num">  53.5</td><td class="left">'Pascal'</td></tr>
+     <tr><td class="num">  54.4</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  54.5</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  54.6</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  56.6</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  57.8</td><td class="left">'Adonica'</td></tr>
+     <tr><td class="num">  58.2</td><td class="left">'Kadu'</td></tr>
+     <tr><td class="num">  59.9</td><td class="left">'Enrymather'</td></tr>
+     <tr><td class="num">  60.0</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  60.7</td><td class="left">'Sopoforic'</td></tr>
+     <tr><td class="num">  61.4</td><td class="left">'jumbo'</td></tr>
+     <tr><td class="num">  62.1</td><td class="left">'jdrexler'</td></tr>
+     <tr><td class="num">  62.8</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  64.5</td><td class="left">'tasker'</td></tr>
+     <tr><td class="num">  64.7</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  66.8</td><td class="left">'ael'</td></tr>
+     <tr><td class="num">  67.5</td><td class="left">'Samuel'</td></tr>
+     <tr><td class="num">  67.7</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  67.8</td><td class="left">'Fred_the_wise'</td></tr>
+     <tr><td class="num">  67.8</td><td class="left">'Sparkey'</td></tr>
+     <tr><td class="num">  68.1</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  69.9</td><td class="left">'Magnus and Susi'</td></tr>
+     <tr><td class="num">  70.4</td><td class="left">'Zhura'</td></tr>
+     <tr><td class="num">  71.2</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  72.6</td><td class="left">'AQZ'</td></tr>
+     <tr><td class="num">  72.6</td><td class="left">'Joona'</td></tr>
+     <tr><td class="num">  74.2</td><td class="left">'crypto_rsa'</td></tr>
+     <tr><td class="num">  74.5</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  75.3</td><td class="left">'Eselchen'</td></tr>
+     <tr><td class="num">  75.5</td><td class="left">'Nicol?s'</td></tr>
+     <tr><td class="num">  75.6</td><td class="left">'jojo'</td></tr>
+     <tr><td class="num">  75.7</td><td class="left">'AsuCaga'</td></tr>
+     <tr><td class="num">  79.0</td><td class="left">'colonel crayon'</td></tr>
+     <tr><td class="num">  79.8</td><td class="left">'Kroetchen'</td></tr>
+     <tr><td class="num">  80.6</td><td class="left">'Agares'</td></tr>
+     <tr><td class="num">  81.7</td><td class="left">'IIkka'</td></tr>
+     <tr><td class="num">  85.4</td><td class="left">'Miel56'</td></tr>
      <tr><td class="num">  90.2</td><td class="left">'The red O'</td></tr>
-     <tr><td class="num">  90.4</td><td class="left">'Sequoyah'</td></tr>
+     <tr><td class="num">  90.5</td><td class="left">'Sequoyah'</td></tr>
      <tr><td class="num">  92.4</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-rat.html
===================================================================
--- homepage/input/table-rat.html	2009-04-12 17:44:50 UTC (rev 1622)
+++ homepage/input/table-rat.html	2009-04-12 20:47:39 UTC (rev 1623)
@@ -1,22 +1,22 @@
   <table>
-    <caption>$$Rating_Statistics$$ $$February$$ 2009</caption>
+    <caption>$$Rating_Statistics$$ $$March$$ 2009</caption>
     <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
     <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1062</td><td class="num"> 5.06</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1056</td><td class="num"> 4.83</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num">1045</td><td class="num"> 4.93</td><td class="left">'Crystalicum'</td></tr>
-    <tr><td class="num">1036</td><td class="num"> 5.04</td><td class="left">'dev0'</td></tr>
-    <tr><td class="num">898</td><td class="num"> 4.80</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">1037</td><td class="num"> 5.04</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">899</td><td class="num"> 4.80</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num">653</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num">643</td><td class="num"> 4.79</td><td class="left">'U-Punkt'</td></tr>
-    <tr><td class="num">628</td><td class="num"> 5.00</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">629</td><td class="num"> 4.99</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">622</td><td class="num"> 4.22</td><td class="left">'shoki'</td></tr>
     <tr><td class="num">573</td><td class="num"> 5.16</td><td class="left">'dpl'</td></tr>
     <tr><td class="num">562</td><td class="num"> 4.48</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num">546</td><td class="num"> 5.30</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num">534</td><td class="num"> 4.97</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num">511</td><td class="num"> 5.30</td><td class="left">'Lukas'</td></tr>
     <tr><td class="num">505</td><td class="num"> 5.05</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num">494</td><td class="num"> 5.29</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num">482</td><td class="num"> 4.04</td><td class="left">'Vinksu'</td></tr>
     <tr><td class="num">448</td><td class="num"> 5.08</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num">433</td><td class="num"> 4.36</td><td class="left">'ged'</td></tr>
@@ -30,9 +30,10 @@
     <tr><td class="num">187</td><td class="num"> 5.05</td><td class="left">'WP319'</td></tr>
     <tr><td class="num">135</td><td class="num"> 4.13</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">132</td><td class="num"> 5.65</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num">126</td><td class="num"> 5.79</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num">124</td><td class="num"> 4.44</td><td class="left">'Sigma'</td></tr>
     <tr><td class="num"> 97</td><td class="num"> 4.16</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num"> 95</td><td class="num"> 5.17</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 97</td><td class="num"> 5.11</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 91</td><td class="num"> 4.41</td><td class="left">'Zhura'</td></tr>
     <tr><td class="num"> 85</td><td class="num"> 4.76</td><td class="left">'para_doks'</td></tr>
     <tr><td class="num"> 75</td><td class="num"> 4.52</td><td class="left">'Kroetchen'</td></tr>
@@ -45,6 +46,7 @@
     <tr><td class="num"> 49</td><td class="num"> 6.02</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 49</td><td class="num"> 4.90</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 47</td><td class="num"> 6.62</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num"> 46</td><td class="num"> 6.28</td><td class="left">'Dime'</td></tr>
     <tr><td class="num"> 43</td><td class="num"> 3.74</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 39</td><td class="num"> 6.08</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 33</td><td class="num"> 3.39</td><td class="left">'Freshman'</td></tr>
@@ -53,13 +55,11 @@
     <tr><td class="num"> 31</td><td class="num"> 7.61</td><td class="left">'AkRa'</td></tr>
     <tr><td class="num"> 30</td><td class="num"> 4.40</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 30</td><td class="num"> 6.93</td><td class="left">'un_guru'</td></tr>
-    <tr><td class="num"> 27</td><td class="num"> 6.59</td><td class="left">'Dime'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 4.88</td><td class="left">'Drotten'</td></tr>
-    <tr><td class="num"> 22</td><td class="num"> 7.45</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 19</td><td class="num"> 3.74</td><td class="left">'Eselchen'</td></tr>
-    <tr><td class="num"> 17</td><td class="num"> 4.06</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 17</td><td class="num"> 5.53</td><td class="left">'Jeffrey S'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 3.25</td><td class="left">'tasker'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 3.88</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 13</td><td class="num"> 5.23</td><td class="left">'Samuel'</td></tr>
     <tr><td class="num"> 13</td><td class="num"> 8.15</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 11</td><td class="num"> 6.36</td><td class="left">'ShadowPhrogg32642342'</td></tr>

Modified: homepage/input/table-solved.html
===================================================================
--- homepage/input/table-solved.html	2009-04-12 17:44:50 UTC (rev 1622)
+++ homepage/input/table-solved.html	2009-04-12 20:47:39 UTC (rev 1623)
@@ -1,33 +1,33 @@
   <table>
-    <caption>$$Solved_Level_Statistics$$ $$February$$ 2009</caption>
+    <caption>$$Solved_Level_Statistics$$ $$March$$ 2009</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>$$difficult$$</th><th>$$easy$$</th><th>$$total$$</th><th class="left">$$user$$</th></tr>
     <tr><td class="num">1045/1045</td><td class="num">189/189</td><td class="num">100.00%</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1043/1045</td><td class="num">189/189</td><td class="num"> 99.84%</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">1037/1045</td><td class="num">189/189</td><td class="num"> 99.35%</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">1038/1045</td><td class="num">189/189</td><td class="num"> 99.43%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">186/189</td><td class="num"> 98.46%</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">185/189</td><td class="num"> 98.38%</td><td class="left">'Freshman'</td></tr>
     <tr><td class="num">1025/1045</td><td class="num">189/189</td><td class="num"> 98.38%</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">1030/1045</td><td class="num">182/189</td><td class="num"> 98.22%</td><td class="left">'Dime'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">183/189</td><td class="num"> 98.22%</td><td class="left">'Craven'</td></tr>
     <tr><td class="num">1026/1045</td><td class="num">185/189</td><td class="num"> 98.14%</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num">1031/1045</td><td class="num">179/189</td><td class="num"> 98.06%</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">1032/1045</td><td class="num">179/189</td><td class="num"> 98.14%</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">1021/1045</td><td class="num">177/189</td><td class="num"> 97.08%</td><td class="left">'Malla'</td></tr>
     <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num"> 999/1045</td><td class="num">177/189</td><td class="num"> 95.30%</td><td class="left">'biotopa'</td></tr>
-    <tr><td class="num"> 984/1045</td><td class="num">172/189</td><td class="num"> 93.68%</td><td class="left">'Dime'</td></tr>
-    <tr><td class="num"> 979/1045</td><td class="num">175/189</td><td class="num"> 93.52%</td><td class="left">'Daisy'</td></tr>
+    <tr><td class="num"> 982/1045</td><td class="num">175/189</td><td class="num"> 93.76%</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 970/1045</td><td class="num">166/189</td><td class="num"> 92.06%</td><td class="left">'Andy'</td></tr>
     <tr><td class="num"> 961/1045</td><td class="num">173/189</td><td class="num"> 91.90%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 949/1045</td><td class="num">170/189</td><td class="num"> 90.68%</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 937/1045</td><td class="num">159/189</td><td class="num"> 88.82%</td><td class="left">'H-J.Epting'</td></tr>
     <tr><td class="num"> 922/1045</td><td class="num">154/189</td><td class="num"> 87.20%</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 933/1045</td><td class="num">125/189</td><td class="num"> 85.74%</td><td class="left">'Alex'</td></tr>
+    <tr><td class="num"> 898/1045</td><td class="num">153/189</td><td class="num"> 85.17%</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num"> 914/1045</td><td class="num">135/189</td><td class="num"> 85.01%</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num"> 894/1045</td><td class="num">140/189</td><td class="num"> 83.79%</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num"> 863/1045</td><td class="num">161/189</td><td class="num"> 82.98%</td><td class="left">'Tobias'</td></tr>
     <tr><td class="num"> 917/1045</td><td class="num">106/189</td><td class="num"> 82.90%</td><td class="left">'Django'</td></tr>
-    <tr><td class="num"> 874/1045</td><td class="num">147/189</td><td class="num"> 82.74%</td><td class="left">'H-J.Epting'</td></tr>
     <tr><td class="num"> 866/1045</td><td class="num">151/189</td><td class="num"> 82.41%</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num"> 854/1045</td><td class="num">147/189</td><td class="num"> 81.12%</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num"> 849/1045</td><td class="num">151/189</td><td class="num"> 81.04%</td><td class="left">'WP319'</td></tr>
     <tr><td class="num"> 867/1045</td><td class="num">124/189</td><td class="num"> 80.31%</td><td class="left">'Lukas'</td></tr>
     <tr><td class="num"> 846/1045</td><td class="num">144/189</td><td class="num"> 80.23%</td><td class="left">'Gorn'</td></tr>
@@ -47,12 +47,12 @@
     <tr><td class="num"> 734/1045</td><td class="num"> 82/189</td><td class="num"> 66.13%</td><td class="left">'bojster'</td></tr>
     <tr><td class="num"> 782/1045</td><td class="num"> 33/189</td><td class="num"> 66.05%</td><td class="left">'Sim_Ed'</td></tr>
     <tr><td class="num"> 680/1045</td><td class="num">130/189</td><td class="num"> 65.64%</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num"> 650/1045</td><td class="num">110/189</td><td class="num"> 61.59%</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 681/1045</td><td class="num"> 78/189</td><td class="num"> 61.51%</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num"> 659/1045</td><td class="num"> 95/189</td><td class="num"> 61.10%</td><td class="left">'Marc-Hendrik'</td></tr>
     <tr><td class="num"> 633/1045</td><td class="num">111/189</td><td class="num"> 60.29%</td><td class="left">'Raoul'</td></tr>
     <tr><td class="num"> 665/1045</td><td class="num"> 64/189</td><td class="num"> 59.08%</td><td class="left">'alain'</td></tr>
     <tr><td class="num"> 643/1045</td><td class="num"> 83/189</td><td class="num"> 58.83%</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 617/1045</td><td class="num">107/189</td><td class="num"> 58.67%</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 714/1045</td><td class="num">  0/189</td><td class="num"> 57.86%</td><td class="left">'Gottseinsohn'</td></tr>
     <tr><td class="num"> 620/1045</td><td class="num"> 72/189</td><td class="num"> 56.08%</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num"> 636/1045</td><td class="num"> 55/189</td><td class="num"> 56.00%</td><td class="left">'fabian'</td></tr>
@@ -82,22 +82,21 @@
     <tr><td class="num"> 494/1045</td><td class="num"> 26/189</td><td class="num"> 42.14%</td><td class="left">'Daniel'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num"> 12/189</td><td class="num"> 41.98%</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num"> 503/1045</td><td class="num">  7/189</td><td class="num"> 41.33%</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num"> 438/1045</td><td class="num"> 61/189</td><td class="num"> 40.44%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 397/1045</td><td class="num"> 93/189</td><td class="num"> 39.71%</td><td class="left">'Hairball'</td></tr>
     <tr><td class="num"> 440/1045</td><td class="num"> 50/189</td><td class="num"> 39.71%</td><td class="left">'ged'</td></tr>
     <tr><td class="num"> 369/1045</td><td class="num">112/189</td><td class="num"> 38.98%</td><td class="left">'Jinajon'</td></tr>
     <tr><td class="num"> 438/1045</td><td class="num">  3/189</td><td class="num"> 35.74%</td><td class="left">'oblo'</td></tr>
+    <tr><td class="num"> 359/1045</td><td class="num"> 74/189</td><td class="num"> 35.09%</td><td class="left">'Crystalicum'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 40/189</td><td class="num"> 35.01%</td><td class="left">'hendrik'</td></tr>
-    <tr><td class="num"> 357/1045</td><td class="num"> 74/189</td><td class="num"> 34.93%</td><td class="left">'Crystalicum'</td></tr>
     <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 397/1045</td><td class="num"> 24/189</td><td class="num"> 34.12%</td><td class="left">'Chocolate Zero'</td></tr>
     <tr><td class="num"> 376/1045</td><td class="num"> 35/189</td><td class="num"> 33.31%</td><td class="left">'Jeffrey S'</td></tr>
-    <tr><td class="num"> 354/1045</td><td class="num"> 55/189</td><td class="num"> 33.14%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 12/189</td><td class="num"> 32.74%</td><td class="left">'NorthForty'</td></tr>
     <tr><td class="num"> 344/1045</td><td class="num"> 51/189</td><td class="num"> 32.01%</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num"> 382/1045</td><td class="num"> 10/189</td><td class="num"> 31.77%</td><td class="left">'J3FF'</td></tr>
     <tr><td class="num"> 347/1045</td><td class="num"> 45/189</td><td class="num"> 31.77%</td><td class="left">'rima'</td></tr>
     <tr><td class="num"> 335/1045</td><td class="num"> 50/189</td><td class="num"> 31.20%</td><td class="left">'Harry Lim'</td></tr>
-    <tr><td class="num"> 351/1045</td><td class="num"> 31/189</td><td class="num"> 30.96%</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 361/1045</td><td class="num"> 18/189</td><td class="num"> 30.71%</td><td class="left">'MicWa'</td></tr>
     <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
     <tr><td class="num"> 350/1045</td><td class="num"> 25/189</td><td class="num"> 30.39%</td><td class="left">'IntKecsk'</td></tr>
@@ -111,9 +110,10 @@
     <tr><td class="num"> 300/1045</td><td class="num"> 19/189</td><td class="num"> 25.85%</td><td class="left">'Nfol'</td></tr>
     <tr><td class="num"> 261/1045</td><td class="num"> 53/189</td><td class="num"> 25.45%</td><td class="left">'Andreas'</td></tr>
     <tr><td class="num"> 266/1045</td><td class="num"> 39/189</td><td class="num"> 24.72%</td><td class="left">'oxyd4ever'</td></tr>
+    <tr><td class="num"> 269/1045</td><td class="num"> 26/189</td><td class="num"> 23.91%</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 276/1045</td><td class="num"> 15/189</td><td class="num"> 23.58%</td><td class="left">'Thomas'</td></tr>
+    <tr><td class="num"> 250/1045</td><td class="num"> 40/189</td><td class="num"> 23.50%</td><td class="left">'Tomson'</td></tr>
     <tr><td class="num"> 258/1045</td><td class="num"> 27/189</td><td class="num"> 23.10%</td><td class="left">'un_guru'</td></tr>
-    <tr><td class="num"> 245/1045</td><td class="num"> 39/189</td><td class="num"> 23.01%</td><td class="left">'Tomson'</td></tr>
     <tr><td class="num"> 245/1045</td><td class="num"> 36/189</td><td class="num"> 22.77%</td><td class="left">'B-man'</td></tr>
     <tr><td class="num"> 259/1045</td><td class="num">  7/189</td><td class="num"> 21.56%</td><td class="left">'geembo_90'</td></tr>
     <tr><td class="num"> 243/1045</td><td class="num"> 23/189</td><td class="num"> 21.56%</td><td class="left">'Snaily'</td></tr>

Modified: homepage/input/table-wr.html
===================================================================
--- homepage/input/table-wr.html	2009-04-12 17:44:50 UTC (rev 1622)
+++ homepage/input/table-wr.html	2009-04-12 20:47:39 UTC (rev 1623)
@@ -1,52 +1,52 @@
   <table>
-    <caption>$$Worldrecord_Statistics$$ $$February$$ 2009</caption>
+    <caption>$$Worldrecord_Statistics$$ $$March$$ 2009</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">969</td><td class="num">293</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">189</td><td class="num">163</td><td class="left">'Crystalicum'</td></tr>
-    <tr><td class="num">185</td><td class="num">146</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num">142</td><td class="num"> 88</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">101</td><td class="num"> 94</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num"> 90</td><td class="num"> 76</td><td class="left">'dev0'</td></tr>
-    <tr><td class="num"> 79</td><td class="num"> 71</td><td class="left">'Mentist'</td></tr>
-    <tr><td class="num"> 49</td><td class="num"> 38</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 46</td><td class="num"> 37</td><td class="left">'Daisy'</td></tr>
-    <tr><td class="num"> 39</td><td class="num"> 26</td><td class="left">'Malla'</td></tr>
-    <tr><td class="num"> 37</td><td class="num"> 37</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 35</td><td class="num"> 31</td><td class="left">'Alexandros'</td></tr>
-    <tr><td class="num"> 31</td><td class="num"> 29</td><td class="left">'Django'</td></tr>
+    <tr><td class="num">1009</td><td class="num">302</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">196</td><td class="num">172</td><td class="left">'Crystalicum'</td></tr>
+    <tr><td class="num">175</td><td class="num">152</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">134</td><td class="num"> 87</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num"> 97</td><td class="num"> 91</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 95</td><td class="num"> 79</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 81</td><td class="num"> 73</td><td class="left">'Mentist'</td></tr>
+    <tr><td class="num"> 47</td><td class="num"> 38</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 46</td><td class="num"> 40</td><td class="left">'Daisy'</td></tr>
+    <tr><td class="num"> 38</td><td class="num"> 32</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 37</td><td class="num"> 26</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num"> 36</td><td class="num"> 36</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 35</td><td class="num"> 31</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 32</td><td class="num"> 29</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num"> 30</td><td class="num"> 28</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num"> 30</td><td class="num"> 29</td><td class="left">'ryujun'</td></tr>
-    <tr><td class="num"> 29</td><td class="num"> 27</td><td class="left">'Zekobah'</td></tr>
-    <tr><td class="num"> 27</td><td class="num"> 23</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 30</td><td class="num"> 29</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 26</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 28</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num"> 26</td><td class="num"> 25</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num"> 24</td><td class="num"> 19</td><td class="left">'Emmanuel'</td></tr>
-    <tr><td class="num"> 24</td><td class="num"> 23</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num"> 21</td><td class="num"> 20</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 16</td><td class="num"> 14</td><td class="left">'B-Huff'</td></tr>
-    <tr><td class="num"> 15</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 18</td><td class="left">'Emmanuel'</td></tr>
+    <tr><td class="num"> 20</td><td class="num"> 19</td><td class="left">'ged'</td></tr>
+    <tr><td class="num"> 15</td><td class="num"> 13</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 15</td><td class="num"> 15</td><td class="left">'Safalra' + 'Ludmian'</td></tr>
-    <tr><td class="num"> 14</td><td class="num"> 14</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num"> 13</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 12</td><td class="num">  8</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num"> 11</td><td class="num">  9</td><td class="left">'Dime'</td></tr>
-    <tr><td class="num"> 11</td><td class="num"> 11</td><td class="left">'ABS'</td></tr>
+    <tr><td class="num"> 14</td><td class="num"> 13</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 13</td><td class="num">  8</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 13</td><td class="num"> 13</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 10</td><td class="num">  9</td><td class="left">'Dime'</td></tr>
     <tr><td class="num"> 10</td><td class="num"> 10</td><td class="left">'dpl'</td></tr>
     <tr><td class="num">  9</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-    <tr><td class="num">  9</td><td class="num">  9</td><td class="left">'fabian'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  7</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  9</td><td class="left">'fabian' + 'ABS'</td></tr>
     <tr><td class="num">  8</td><td class="num">  7</td><td class="left">'Chocolate Zero'</td></tr>
     <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'Edgar_Flesk'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'para_doks' + 'Breezy'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Taztunes' + 'Guglielmo'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Raoul' + 'Tobias'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'mecke' + 'Lukas'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Thomas' + 'Chris' + 'Wuzzy' + 'Ralf'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  3</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Thomas' + 'Chris' + 'Wuzzy' + 'Ralf'</td></tr>
     <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Hairball'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'Sigma' + 'U-Punkt' + 'J3FF' + 'Cyphase' + 'GiannuzzITA'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'Sigma' + 'U-Punkt' + 'J3FF' + 'Cyphase' + 'GiannuzzITA' + 'mecke'</td></tr>
     <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Stephanie'</td></tr>
     <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Tiza' + 'Neophilus' + 'Nicol?s' + 'Andy'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'alfred69' + 'ReasonAnce' + 'mrduke' + 'Drotten' + 'tjRaven' + 'Sim_Ed' + 'hendrik' + 'Bent' + 'Austin' + 'Snaily' + 'Craven' + 'Sopoforic' + 'Ingo' + 'serpent'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'alfred69' + 'ReasonAnce' + 'mrduke' + 'H-J.Epting' + 'Drotten' + 'tjRaven' + 'Sim_Ed' + 'hendrik' + 'Bent' + 'Austin' + 'Snaily' + 'Craven' + 'Sopoforic' + 'Ingo' + 'serpent'</td></tr>
     <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Ale' + 'Feynman' + 'alain' + 'colonel crayon' + 'Gorn' + 'Nat'</td></tr>
     <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'Agares' + 'Tiger' + 'Zak' + 'Daniel' + 'Slav' + 'niebie' + 'Andreas' + 'AlephD' + 'Samuel' + 'Mark P.' + 'oblo' + 'Pascal' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Jinajon' + 'Vaily' + 'Antonio EE' + 'JuSt' + 'Timo'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'jumbo' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ntaeijr' + 'Eselchen' + 'ael' + 'biotopa' + 'H-J.Epting' + 'brynn' + 'IntKecsk' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'jdrexler' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Valkyrie2' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'Tomson' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'IIkka' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'Enrymather' + 'jojo' + 'WesleyCrusher' + 'rima' + 'Klaus' + 'MicWa' + 'AsuCaga' + 'oxyd4ever' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'un_guru' + 'krazy62' + 'Dvorhagen' + 'Sparkey' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Michael' + 'Li!
 am Sheehan' + 'Tarim' + 'Agnieszka'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'jumbo' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ntaeijr' + 'Eselchen' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'jdrexler' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Valkyrie2' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'Tomson' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'IIkka' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'Enrymather' + 'jojo' + 'WesleyCrusher' + 'rima' + 'Klaus' + 'MicWa' + 'AsuCaga' + 'oxyd4ever' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'un_guru' + 'krazy62' + 'Dvorhagen' + 'Sparkey' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Michael' + 'Liam Sheehan' + '!
 Tarim' + 'Agnieszka'</td></tr>
   </table>



From ral at mail.berlios.de  Mon Apr 13 00:14:36 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 13 Apr 2009 00:14:36 +0200
Subject: [Enigma-game-svn] r1624 - in trunk: data data/schemas src/actors
	src/items
Message-ID: <200904122214.n3CMEahB032474@sheep.berlios.de>

Author: ral
Date: 2009-04-13 00:14:35 +0200 (Mon, 13 Apr 2009)
New Revision: 1624

Modified:
   trunk/data/api2init.lua
   trunk/data/schemas/objects.xml
   trunk/src/actors/Balls.cc
   trunk/src/items/Bomb.cc
   trunk/src/items/Bottle.cc
Log:
Trunk 1.1:
- it_bottle: 
  - new attribute "interval", default 5, time of drunkeness
  - new attribute "text", like it_document the bottle contains a message
      instead of booze
- it_bomb: direct explosion on cannonball hit
- fix autotile resolver assertion handling: reenable 4th argument (offset)


Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-04-12 20:47:39 UTC (rev 1623)
+++ trunk/data/api2init.lua	2009-04-12 22:14:35 UTC (rev 1624)
@@ -564,7 +564,7 @@
     local args = {...}
     for i, rule in ipairs(args) do
         assert_type(rule, "res.autotile argument " .. (i+1) .. " (rule " .. i .. ")", 2, "table")
-        assert_bool((#rule == 2) or (#rule == 3), "res.autotile rule "..i.." has wrong number of arguments (must be 2, 3, or 4).", 2)
+        assert_bool((#rule >= 2) and (#rule <= 4), "res.autotile rule "..i.." has wrong number of arguments (must be 2, 3, or 4).", 2)
         local template_pos = 2
         local string_pos = {1,2}
         if #rule >= 3  then

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-12 20:47:39 UTC (rev 1623)
+++ trunk/data/schemas/objects.xml	2009-04-12 22:14:35 UTC (rev 1624)
@@ -491,6 +491,8 @@
     </object>
     <object name="it_bomb_white_burning" init="true"/>
     <object name="it_bottle">
+      <attr name="interval" default="5"/>
+      <attr name="text"/>
       <msg name="_brush"/>
     </object>
     <object name="it_bottle_idle">

Modified: trunk/src/actors/Balls.cc
===================================================================
--- trunk/src/actors/Balls.cc	2009-04-12 20:47:39 UTC (rev 1623)
+++ trunk/src/actors/Balls.cc	2009-04-12 22:14:35 UTC (rev 1624)
@@ -129,7 +129,7 @@
                 return true;
             }
             else if (m.message == "_booze") {
-                m_drunk_rest_time += 5.0; // Drunken for 5 more seconds
+                m_drunk_rest_time += (int)m.value; // Drunken for 5 more seconds
                 return true;
             }
         }

Modified: trunk/src/items/Bomb.cc
===================================================================
--- trunk/src/items/Bomb.cc	2009-04-12 20:47:39 UTC (rev 1623)
+++ trunk/src/items/Bomb.cc	2009-04-12 22:14:35 UTC (rev 1624)
@@ -47,11 +47,11 @@
     }
     
     Value Bomb::message(const Message &m) {
-        if (m.message == "ignite"  || m.message == "_explosion"|| m.message == "_cannonball") {
+        if (m.message == "ignite"  || m.message == "_explosion") {
             if (isDisplayable())
                 burn();
             return Value();
-        } else if (m.message == "explode" ) {
+        } else if (m.message == "explode" || m.message == "_cannonball") {
             if (isDisplayable())
                 explode();
             return Value();

Modified: trunk/src/items/Bottle.cc
===================================================================
--- trunk/src/items/Bottle.cc	2009-04-12 20:47:39 UTC (rev 1623)
+++ trunk/src/items/Bottle.cc	2009-04-12 22:14:35 UTC (rev 1624)
@@ -19,8 +19,10 @@
  */
 
 #include "items/Bottle.hh"
+#include "client.hh"
 //#include "errors.hh"
 //#include "main.hh"
+#include "lev/Proxy.hh"
 #include "world.hh"
 
 namespace enigma {
@@ -63,8 +65,18 @@
     }
     
     ItemAction Bottle::activate(Actor *a, GridPos) {
-        if (state == IDLE) {
-            if (!SendMessage(a, "_booze").to_bool())
+        if (Value v = getAttr("text")) {
+            std::string txt(v);
+            lev::Proxy *level = lev::Proxy::loadedLevel();
+            // after complete switch to Proxy as levelloader the following
+            // conditional can be abolished
+            if (level)
+                // translate text
+                txt = level->getLocalizedString(txt);
+            client::Msg_ShowText(txt, true);
+            return ITEM_KILL;          // remove from inventory
+        } else if (state == IDLE) {
+            if (!SendMessage(a, "_booze", getAttr("interval")).to_bool())
                 return ITEM_KEEP;
         }
         return ITEM_DROP;



From ral at mail.berlios.de  Mon Apr 13 14:02:49 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Mon, 13 Apr 2009 14:02:49 +0200
Subject: [Enigma-game-svn] r1625 - trunk/doc/reference
Message-ID: <200904131202.n3DC2nf1003226@sheep.berlios.de>

Author: ral
Date: 2009-04-13 14:02:39 +0200 (Mon, 13 Apr 2009)
New Revision: 1625

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- rest of missing item objects 


Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-12 22:14:35 UTC (rev 1624)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-13 12:02:39 UTC (rev 1625)
@@ -3556,7 +3556,7 @@
 swapped. Items may be picked up by actors or be killed in a burning fire. Thus
 in most cases it is preferable to mark anchors or shapes in the floor. On every
 grid position a floor object is guaranteed and they are much more stable than
-other objects. But nevertheless a user may push an @ref{st_wood}, an
+other objects. But nevertheless a user may push an @ref{st_box}, an
 @ref{st_puzzle} or other floor building stone on an @ref{fl_water} or
 @ref{fl_abyss}. Furthermore a user may drop and ignite an @ref{it_bomb} that
 destructs the floor leaving a new @ref{fl_abyss}. In all these cases you may
@@ -5005,7 +5005,7 @@
 64              @b{anchor2} = @var{woods}[@var{wire_p}[@var{j}%@var{3} + @var{1}]]@})
 @end example
 Finally we need to add the @ref{ot_wire} between our movable stones. This can
-not be done within the map. We need to use the @ref{World Advanced Method}
+not be done within the map. We need to use the @ref{World Advanced Methods}
 @samp{wo:add()}, which takes the two connected stones as two anchor attributes.
 We select the first 3 stones of our wood group as stones to be connected with
 3 other stones of the indices 4 to 12. Thus we take in every loop as the first
@@ -5642,6 +5642,7 @@
 * open::
 * close::
 * kill::
+* sound::
 * disconnect::
 @end menu
 
@@ -5757,6 +5758,19 @@
 @item @b{Support:} @ @ by all world owned objects
 @end table
 
+ at node sound
+ at subsection sound
+
+This message causes the recipient to play the sound given by the first
+string argument value. It is played at the position of the object. The
+volume can be defined by a second number argument and defaults to @code{1.0}.
+
+ at table @asis
+ at item @b{Value:} @ @ string [, number]
+ at item @b{Returns:} @ @ -
+ at item @b{Support:} @ @ by all objects
+ at end table
+
 @node disconnect
 @subsection disconnect
 
@@ -7201,15 +7215,15 @@
 * fl_abyss::          Deep black Chasm
 * fl_bridge::         Abyss Bridge
 * fl_fake::           Fake mimicing other Floors
-* fl_hay::            
-* fl_ice::            
+* fl_hay::            Floodable Hay
+* fl_ice::            Slippery frozen water
 * fl_inverse::        Accerate into the inverse direction
-* fl_rock::           
+* fl_rock::           Floodable Rock Floor
 * fl_slope::          Slopes in various shapes
-* fl_swamp::          
+* fl_swamp::          Sticky sinkable Floor
 * fl_thief::          Hidden Thief
-* fl_water::          
-* fl_wood::           
+* fl_water::          Sinkable Water
+* fl_wood::           Floodable Wood Floor
 * fl_yinyang::        Player dependent Adhesion
 @end menu
 
@@ -7723,8 +7737,8 @@
 @item @b{fl_wood_h}: texture = @code{"h"}
 @item @b{fl_wood_v}: texture = @code{"v"}
 @item @b{fl_wood_framed}: texture = random, faces = @code{"nesw"}
- at item @b{fl_wood_h_framed}: texture = @code{"h"}, faces = @code{"nesw"}
- at item @b{fl_wood_v_framed}: texture = @code{"v"}, faces = @code{"nesw"}
+ at item @b{fl_wood_framed_h}: texture = @code{"h"}, faces = @code{"nesw"}
+ at item @b{fl_wood_framed_v}: texture = @code{"v"}, faces = @code{"nesw"}
 @end table
 @end table
 
@@ -7787,19 +7801,19 @@
 @menu
 * it_bag::             Portable Item Container
 * it_banana::          Transformable Banana
-* it_bomb::            -
-* it_bottle::          -
+* it_bomb::            Big Explosive Charge
+* it_bottle::          Bottle of Booze
 * it_brake::           Portable Stone Brake
 * it_brush::           Brush for Painting and Sweeping
 * it_cherry::          Source of Invisibility
 * it_coffee::          Cup of Coffee
 * it_coin::            Enigma's currency
 * it_document::        Readable Text Document
-* it_drop::            -
-* it_dynamite::        -
-* it_extinguisher::    -
+* it_drop::            Magic Transformation Elixir
+* it_dynamite::        Exploder
+* it_extinguisher::    Fire Extinguisher
 * it_extralife::       Another Life or Glasses
-* it_flag::            -
+* it_flag::            Respawn Position Marker
 * it_floppy::          Lock opening uncoded Floppy
 * it_glasses::         Glasses to spot certain objects
 * it_hammer::          Stone breaking Hammer
@@ -7809,11 +7823,11 @@
 * it_pin::             Friction increasing crampon
 * it_pipe::            Pipe for Transmissions
 * it_puller::          Stone pulling item
-* it_ring::            -
+* it_ring::            Position Exchange Tool
 * it_rubberband::      Unconnected Rubberband
 * it_seed::            Seeds for Wood, Volcano Stones
 * it_spade::           Shuffle for Meditation flattening
-* it_spoon::           -
+* it_spoon::           Controlled Suicide Tool
 * it_spring::          Portable Spring
 * it_surprise::        Random Transforming item
 * it_sword::           Knight defeating Sword
@@ -7909,6 +7923,109 @@
 @item @b{Messages:} none
 @end table
 
+ at c ----------------- Bomb Item --------------------
+ at node it_bomb
+ at subsection it_bomb
+ at obindex it_bomb
+
+A bomb is an explosive that can not be picked up. It ignites on laser light, 
+nearby fire and other nearby explosions as those caused by other @ref{it_bomb}s,
+ at ref{it_dynamite}, @ref{st_dispenser} exploding directly above a bomb, or simply
+by a solide stone being pushed over them (just a few stones like @ref{st_shogun},
+ at ref{st_box}_hay do not cause bombs to ignite). A falling @ref{ot_cannonball}
+lets it explode immediately without prior ignition.
+
+On ignition its fuse starts burning. After a short time the bomb explodes
+causing on the 8 neigboring positions items to ignite and some stones like
+ at ref{st_break} to dissolve, too. 
+
+ at samp{BLACK} bombs will cause destructible items on the 4 neighboring positions
+to be blown away, and dissolves the floor beneath to a @ref{fl_abyss}.
+
+ at samp{WHITE} bombs will cause destructible items on the 8 neighboring positions
+to be blown away, and dissolves the floor beneath and the 8 neighboring
+positions to @ref{fl_abyss}.
+
+Bomb items will be added to the inventory when an actor hits a 
+ at ref{st_dispenser}_bombblack or @ref{st_dispenser}_bombwhite.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{explode}
+Direct explosion without burning fuse.
+ at item @b{ignite}
+Ignite the fuse.
+ at item @b{heat}
+Ignite the fuse.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_bomb}: color = @code{BLACK}
+ at item @b{it_bomb_black}: state = @code{BLACK}
+ at item @b{it_bomb_white}: state = @code{WHITE}
+ at end table
+
+ at end table
+
+ at c ----------------- Bottle Item --------------------
+ at node it_bottle
+ at subsection it_bottle
+ at obindex it_bottle
+
+A bottle can be filled either with booze or with a message. When a bottle
+breaks the remnants are leathal sherds.
+
+A bottle filled with booze makes any ball like actor that activates it drunken.
+The control of actor gets difficult as it will likely no longer move straight
+into the intended direction. Fortunalty the period of drunkeness lasts just
+5 seconds per default. But you can set this time by the attribute 
+ at samp{interval} to other values. The bottle will be dropped on activation.
+Activation of several bottles in sequence will lead to longer periods of
+drunkeness as the intervalls will sum up.
+
+Alternatively you can fill the bottle with a message by the attribute 
+ at samp{text}. Like @ref{it_document} the message gets displayed on activation.
+Of course the actor does not get drunken in this case.
+
+When a stone gets pushed over a bottle it will break to sherds. These 
+remnants are leathal to @ref{ac_marble} and @ref{ac_pearl} when entering the
+affected grid. But of course they can jump over the broken bottle or pass it
+while being protected by an activated @ref{it_umbrella}. Unlike @ref{it_death}
+the broken bottle can be removed by an actor by activation of an @ref{it_brush}
+while jumping over it, or passing it with protection. But a broken bottle can
+not be picked up and is not portable.
+
+ at table @asis
+
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{BROKEN}; @ @ @i{default}: @code{BROKEN} @ @ @xref{state}
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{5.0}
+Number of seconds that the actor becomes drunken.
+ at item @b{text}, @ @ @i{values}: string;
+Either the text to be displayed or just a key word for identification on
+ at ref{Internationalization (i18n)}.
+ at end table
+
+ at item @b{Messages:} none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_bottle}: state = @code{IDLE}
+ at item @b{it_bottle_idle}: state = @code{IDLE}
+ at item @b{it_bottle_broken}: state = @code{BROKEN}
+ at end table
+
+ at end table
+
 @c ----------------- Brake Item --------------------
 @node it_brake
 @subsection it_brake
@@ -8070,6 +8187,7 @@
 This item looks like a piece of paper and contains a text message that can be
 displayed by activating the item. It is destroyed by explosions from 
 @ref{it_bomb}, @ref{st_dispenser}, @ref{it_dynamite} and by burning fire.
+Another message carrying item is the @ref{it_bottle}.
 
 @table @asis
 
@@ -8092,6 +8210,128 @@
 @end table
 @end table
 
+ at c ----------------- Drop Item --------------------
+ at node it_drop
+ at subsection it_drop
+ at obindex it_drop
+
+The drop is a magic elixir for temporary actor transformations. On activation
+the actor transforms into another kind, lives for 5 seconds with all qualities
+of this kind and then transforms back to its old kind. The drop gets consumed
+by its activation. Generally it is not possible to prolong the transformation
+by activation of several drops.
+
+Note that this object is currently just defined for the following actors: 
+
+ at itemize @bullet
+ at item @ref{ac_marble} transforms to @ref{ac_rotor}.
+ at end itemize
+
+Providing a drop in a level with @ref{ac_pearl} will likely cause
+incompatibilities with future Enigma versions.
+
+ at table @asis
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_drop}
+ at end table
+
+ at end table
+
+ at c ----------------- Dynamite Item --------------------
+ at node it_dynamite
+ at subsection it_dynamite
+ at obindex it_dynamite
+
+Dynamite is an explosive that can be picked up and that can be easily ignited
+at any free grid position. It ignites on drop, or if positioned on the floor in
+ at samp{IDLE} state it ignites on laser light, nearby fire and other nearby 
+explosions as those caused by @ref{it_bomb}, @ref{st_dispenser}, or other 
+dyamite. A falling @ref{ot_cannonball} lets it explode immediately without prior
+ignition.
+
+On ignition its fuse starts burning. During this @samp{ACTIVE} state the
+dynamite can longer be picked up. After a short time the dynamite explodes
+causing on the 8 neigboring positions items to ignite and some stones like
+ at ref{st_break} to dissolve, too. The explosion leaves at its position an
+ at ref{it_meditation}_hollow on all floor kinds besides @ref{fl_ice} where an
+ at ref{it_crack}_water remains.
+
+Dynamite items will be added to the inventory when an actor hits a 
+ at ref{st_dispenser}_dynamite.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{explode}
+Direct explosion without burning fuse.
+ at item @b{ignite}
+Ignite the fuse.
+ at item @b{heat}
+Ignite the fuse.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_dynamite}: state = @code{IDLE}
+ at item @b{it_dynamite_burning}: state = @code{ACTIVE}
+ at end table
+
+ at end table
+
+ at c ----------------- Extinguisher Item --------------------
+ at node it_extinguisher
+ at subsection it_extinguisher
+ at obindex it_extinguisher
+
+A fire extinguisher that allows to extinguish burning fire and to protect areas
+with extinguishing foam of upcoming fire. @xref{Fire Spreading}.
+
+A full loaded extinguisher allows two applications. The first one covers the
+nearest 13 grids, whereas the second one covers just 5 grids, the actor position
+itself and the 4 direct neighbor positions. The foam is an @ref{it_burnable} of
+kind @samp{fireproof} which can be cleaned with an @ref{it_brush} or by a
+ at ref{Flood Spreading}.
+
+The load is given by the attribute @samp{state} of the extinguisher and is
+visible for the user by a color spot. Green is a @samp{FULL} extinguisher, 
+yellow a @samp{MEDIUM} filled extinguisher and red an @samp{EMPTY} extinguisher.
+
+Extinguishers themself are fireprotected as long as they are not empty.
+
+The @samp{toggle} messages refills an extinguisher by one load until it is
+ at samp{FULL} again.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{EMPTY}, @code{MEDIUM}, @code{FULL}; @ @ @i{default}: @code{FULL} @ @ @xref{state}
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{toggle} @ @ @xref{toggle}
+A toggle causes a refill by one load.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_extinguisher}: state = @code{FULL}
+ at item @b{it_extinguisher_empty}: state = @code{IDLE}
+ at item @b{it_extinguisher_medium}: state = @code{MEDIUM}
+ at item @b{it_extinguisher_full}: state = @code{FULL}
+ at end table
+
+ at end table
+
 @c ----------------- Extralife Item --------------------
 @node it_extralife
 @subsection it_extralife
@@ -8122,6 +8362,36 @@
 
 @end table
 
+ at c ----------------- Flag Item --------------------
+ at node it_flag
+ at subsection it_flag
+ at obindex it_flag
+
+Flags do mark the place where killed actors will be resurrected. Flags exist
+in two colors, @samp{BLACK} and @samp{WHITE}. Each can be used to define the
+respawn position of matching colored @ref{ac_marble}s and @ref{ac_pearl}s.
+
+As a level can contain many flags of the same @samp{color} the respawn position
+can not be defined by the flag position itself. The respawn position is the
+position of the last dropped flag of a given color. Additionally the respawn
+position gets cleared when after the last drop any flag of the same color gets
+picked up again. When no flag defined respawn position exists the actors will be
+resurrected at their initial position.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_flag}: color = @code{BLACK}
+ at item @b{it_flag_black}: color = @code{BLACK}
+ at item @b{it_flag_white}: color = @code{WHITE}
+ at end table
+ at end table
+
 @c ----------------- Floppy Item --------------------
 @node it_floppy
 @subsection it_floppy
@@ -8407,6 +8677,40 @@
 @end table
 @end table
 
+ at c ----------------- Ring Item --------------------
+ at node it_ring
+ at subsection it_ring
+ at obindex it_ring
+
+The ring is a magic position exchange item. On activation the ring gets dropped
+onto the grid and the actor gets warped either to the actors respawn position
+or to the position of another actor that is warped to the initiators position in
+exchange.
+
+Note that this object is currently just defined in the following cases: 
+
+ at itemize @bullet
+ at item just one arbitrary actor owned by player @samp{YIN} - the actor gets 
+warped to its respawn position.
+ at item just an @ref{ac_marble}_black owned by player @samp{YIN} and an 
+ at ref{ac_marble}_white owned by player @samp{YANG} - both actors exchange their
+position.
+ at end itemize
+
+Providing a ring in any other case will likely cause incompatibilities with
+future Enigma versions.
+
+ at table @asis
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_ring}
+ at end table
+
+ at end table
+
 @c ----------------- Rubberband Item --------------------
 @node it_rubberband
 @subsection it_rubberband
@@ -8531,6 +8835,26 @@
 
 @end table
 
+ at c ----------------- Spoon Item --------------------
+ at node it_spoon
+ at subsection it_spoon
+ at obindex it_spoon
+
+Dropping a spoon is a medivial synonym for dying. The poor people had nothing
+besides a wooden spoon. They never dropped it. They had to peg out to give away
+their spoon.
+
+Thus an Enigma spoon shatters the actor who dropps it. When a player owns 
+multiple actors just the active one gets killed. This is an essential difference
+to pressing F3, what shatters all actors of all players.
+
+ at table @asis
+
+ at item @b{Attributes:} none
+ at item @b{Messages:} none
+
+ at end table
+
 @c ----------------- Spring Item --------------------
 @node it_spring
 @subsection it_spring
@@ -8639,7 +8963,8 @@
 @ref{fl_swamp}, @ref{fl_thief}, @ref{it_death}, @ref{it_trap},
 broken @ref{it_bottle}, explosions, moving stones and all other internal
 @samp{shatter} and @samp{fall} events; in other words, from all lethal
-situations and thieves.
+situations and thieves. The protection lasts for 10 seconds. Multiple umbrellas
+activated in sequence will prolong the protection period.
 
 An umbrella gets destroyed when hit by a laser beam and is itself a
 laser transformation result of an @samp{it_coin_s}(@pxref{it_coin}).
@@ -8741,20 +9066,20 @@
 
 @menu
 * it_blocker::         Shrinked Blocker Stone
-* it_burnable::        -
+* it_burnable::        Fire State
 * it_crack::           Crack in the Floor
-* it_cross::           Floor switch for patient Actors
+* it_cross::           Floor Switch for patient Actors
 * it_death::           Unpassable grid blocker
-* it_explosion::       -
-* it_landmine::        
+* it_explosion::       Short Explosion Animation
+* it_landmine::        Buried Explosive
 * it_magnet::          Actor attracting Magnet
-* it_meditation::      
+* it_meditation::      Hills and Hollows
 * it_sensor::          Floor Switch for passing Actors
 * it_shogun::          Dot for Shogun Stones
 * it_springboard::     Static Spring
 * it_squashed::        Remnant of squashed Fruits
 * it_strip::           Narrow Bridge
-* it_trap::            
+* it_trap::            Unvisible, covered Abyss
 * it_trigger::         Floor Switch for Actors and Stones
 * it_vortex::          Teleport of Marbels
 * it_wormhole::        Teleport of Actors
@@ -8841,6 +9166,62 @@
 
 @end table
 
+ at c ----------------- Burnable Item --------------------
+ at node it_burnable
+ at subsection it_burnable
+ at obindex it_burnable
+
+A legacy item representing the fire state and handling the visible animation.
+This item is nowadays mainly an internal system item as the @ref{Fire Spreading}
+with its attributes and messages is mainly handeled by the @ref{Floor Objects}.
+But it may be essential for your understanding to be aware of this object in
+all its variants. You may also need to make use of all variants on level 
+initialization due to the @ref{Snapshot Principle}.
+
+The following variants do exist:
+ at itemize @bullet
+ at item @samp{invisible} - allow a floor tile to catch fire, and to ignite on
+explosions; set the attributes @ref{burnable} and @ref{ignitable} on the floor
+instead.
+ at item @samp{oil} - is the visible variant of the invisible burnable item.
+ at item @samp{ignited} - carries the starting-animation of fire; send the 
+ at samp{setfire} message to a floor or set the foor with attribute 
+ at samp{initfire} instead.
+ at item @samp{burning} - carries the animation of burning fire. Use setfire instead.
+ at item @samp{ash} - the unburnable remnant of a fire.
+ at item @samp{fireproof} - the extinguisher foam that protects from fire.
+ at end itemize
+
+Note that you are not allowed to set or change the @samp{state} of a burnable
+item. But you can investigate the kind of a burnable.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: integer numbers between 0 and 5; @ @ @i{default}: @code{0}; @ @ @i{access}: @code{read only}  @ @ @xref{state}
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{ignite} @ @ @xref{ignite}
+Ignites the floor beneath.
+ at item @b{extinguish}
+Changes burnable immediately to extinguisher foam.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_burnable}: state = @code{0}
+ at item @b{it_burnable_invisible}: state = @code{0}
+ at item @b{it_burnable_oil}: state = @code{1}
+ at item @b{it_burnable_ignited}: state = @code{2}
+ at item @b{it_burnable_burning}: state = @code{3}
+ at item @b{it_burnable_ash}: state = @code{4}
+ at item @b{it_burnable_fireproof}: state = @code{5}
+ at end table
+
+ at end table
+
 @c ----------------- Crack Item --------------------
 @node it_crack
 @subsection it_crack
@@ -8865,7 +9246,7 @@
 An actor entering a crack causes the crack itself to advance its state with the
 given likelihood. A default @samp{abyss} crack causes existing cracks on any of
 the 4 neighboring grid positions to advance their states, too. But a 
- at ref{water} crack does not advance neighboring cracks. Both do cause a spread 
+ at samp{water} crack does not advance neighboring cracks. Both do cause a spread 
 with the given likelihood of an invisible crack to any of the 4 neighboring grid
 positions in case no crack or any other items exists on it.
 
@@ -8956,7 +9337,6 @@
 
 @item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{10.0}
 Number of seconds that the actor must stay on the sensor to cause an action.
-
 @end table
 
 @item @b{Messages:} none
@@ -8977,7 +9357,7 @@
 @ref{it_vortex}, an @ref{it_wormhole} or by means of an @ref{it_ring}.
 
 The death item is the most secure barrier object. Comparable objects are
- at ref{it_booze_broken}, @ref{fl_abyss}, @ref{fl_water}, @ref{it_trap} or simply
+ at ref{it_bottle}_broken, @ref{fl_abyss}, @ref{fl_water}, @ref{it_trap} or simply
 any solid wall of stones. Usually these alternatives should be favored. The
 death item should mainly be used when all other alternatives are too unsecure.
 
@@ -8989,6 +9369,48 @@
 
 @end table
 
+ at c ----------------- Explosion Item --------------------
+ at node it_explosion
+ at subsection it_explosion
+ at obindex it_explosion
+
+An intermediate short living system item representing and visualizing an
+explosion. There are very few acceptable usages of this item besides the 
+internal setting due to explosions of @ref{it_bomb}, @ref{it_dynamite},
+ at ref{it_landmine} and @ref{ot_cannonball}.
+
+All explosions do shatter ball like actors.
+
+The following variants do exist:
+ at itemize @bullet
+ at item @samp{nil} - no remnants.
+ at item @samp{hollow} - leave an @ref{it_meditation}_hollow.
+ at item @samp{crack} - make an @ref{it_crack}_water. 
+ at item @samp{debris} - dissolve the floor to @ref{fl_abyss}
+ at end itemize
+
+Note that you are not allowed to set or change the @samp{state} of an explosion
+item. But you can investigate the kind of an explosion.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: integer numbers between 0 and 3; @ @ @i{default}: @code{0}; @ @ @i{access}: @code{read only}  @ @ @xref{state}
+ at end table
+
+ at item @b{Messages:} none
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_explosion}: state = @code{0}
+ at item @b{it_explosion_nil}: state = @code{0}
+ at item @b{it_explosion_hollow}: state = @code{1}
+ at item @b{it_explosion_crack}: state = @code{2}
+ at item @b{it_explosion_debris}: state = @code{3}
+ at end table
+
+ at end table
+
 @c ----------------- Landmine Item --------------------
 @node it_landmine
 @subsection it_landmine
@@ -10594,7 +11016,7 @@
 an @ref{st_boulder} hitting on one of its sides.
 
 The flavor @code{"bug"} looks like an @ref{st_flat} with a bug symbol on top.
-It is just breakable by an @ref{st_bug}. No other actor and no laser light will 
+It is just breakable by an @ref{ac_bug}. No other actor and no laser light will 
 will break it.
 
 The flavor @code{"laser"} looks identical to an @ref{st_flat}. It is not 
@@ -10940,7 +11362,7 @@
 
 Note: unlike the old API versions of this stone, it does no longer support
 recursive shading of neighboring disco stones. Make use of object groups by
- at ref{Objects Naming} to shade groups of arbitrary composition by a single message.
+ at ref{Object Naming} to shade groups of arbitrary composition by a single message.
 
 @table @asis
 
@@ -11226,11 +11648,11 @@
 movable variants. An actor with a revealed @ref{it_hammer} is able to shatter
 both the breakable and the cracked variant.
 
-An actor with a revealed @ref{"it_pencil"} will mark a plain or movable variant
+An actor with a revealed @ref{it_pencil} will mark a plain or movable variant
 as burnable what is hinted for the player by a fire symbol on the flat stone
 surface. A burnable flat stone burns on fire, but just the immovable, burnable
 variant reacts on heating by self destruction. All burnable variants can be
-cleaned by an actor hit with an @ref{"it_brush"}. The fire symbol vanishes and
+cleaned by an actor hit with an @ref{it_brush}. The fire symbol vanishes and
 the stone does not longer react on fire and heating.
 
 Last but not least an @ref{st_boulder} hitting a plain or hollow variant of the
@@ -12419,8 +12841,8 @@
 a transparent on state.
 
 The switch looks like an @ref{st_darkglass} in its intransparent off state and like
-an @ref{st_lightglass} in its transparent on state. Like other @ref{Glasstones} it
-is passable for invisible actors.
+an @ref{st_lightglass} in its transparent on state. Like other 
+ at ref{Transparent Stones} it is passable for invisible actors.
 
 @table @asis
 @item @b{Attributes:}
@@ -13167,7 +13589,7 @@
 You can use this action to modify the selection or to set objects on your own.
 
 The surprise stone is killed by any replacement stone set to the grid position.
-If your selection does not resolve to a stone you may need to add @ref{"st_nil"}
+If your selection does not resolve to a stone you may need to add @code{"st_nil"}
 to the replacement tile declaration.
 
 @table @asis
@@ -13397,7 +13819,7 @@
 The relative position of an actor within the grid is maintained during its
 circular move. Thus two small actors moved at the same time keep their relative
 positioning. It is guranteed that any moved actors will fall even into a tiny
- at ref{it_hollow} that is positioned at the destination grid.
+ at ref{it_meditation}_dent that is positioned at the destination grid.
 
 Items in the range of the rotating arms will act like a stone being pushed over
 them.
@@ -13858,7 +14280,7 @@
 
 The electrical force on a charged actor is given by its own load and the load
 and position of all other charged actors. Note that a constant global factor
- at ref{Electric Strength} is applied, too. If this factor is negativ, equal
+ at ref{ElectricStrength} is applied, too. If this factor is negativ, equal
 charged actors may even attract each other.
 
 @table @asis
@@ -15325,7 +15747,7 @@
 liking. Entries in @samp{a} which are not numbers are considered zero.
 
 @item @b{Full Example:}
-This is an excerpt from "Wired" and demonstrates the use of
+This is an excerpt from "Weirdly Wired" and demonstrates the use of
 @samp{cubic_polynomial} inside a custom resolver to create random, but
 patternlike floors:
 @example
@@ -15346,7 +15768,7 @@
 w, h = wo(myresolver, " ", @{
 [...]
 @end example
-"Wired" is explained in detail in section @ref{Wired}.
+"Weirdly Wired" is explained in detail in section @ref{Weirdly Wired}.
 @end table
 
 @c ----------------- cyclic_permutation --------------------
@@ -15577,7 +15999,8 @@
 
 @item @b{Details:}
 @samp{random_vector} can be used in conjunction with @samp{cubic_polynomial} to
-create random patterns, see @ref{lib.math.cubic_polynomial} and @ref{Wired}.
+create random patterns, see @ref{lib.math.cubic_polynomial} and 
+ at ref{Weirdly Wired}.
 
 @item @b{Full Example:}
 @example
@@ -20887,7 +21310,7 @@
 @ref{st-swap} and @ref{st-pull}).
 
 @strong{Note}: You should rarely need to create oxyd stones manually
-with @ref{set_stone}.  Use the predefined @ref{oxyd} function
+with @ref{set_stone}.  Use the predefined oxyd function
 instead.  It will automatically take care of creating two oxyd stones
 of every color.
 
@@ -20910,7 +21333,7 @@
 Close all oxyd stones.
 @item shuffle
 Interchange the colors of the oxyd stones in the current
-landscape. Better use the @ref{oxyd_shuffle} function.
+landscape. Better use the oxyd_shuffle function.
 @item trigger
 Open the stone (useful for opening oxyd stones using switches)
 @end table
@@ -21069,7 +21492,7 @@
 @table @code
 @item scramble
 Internal message used to scramble a puzzle using secondary
-information; use @ref{AddScramble} and @ref{SetScrambleIntensity} to
+information; use AddScramble and SetScrambleIntensity to
 scramble a puzzle in a level instead or make use of one of the
 libraries (@code{ant} and @code{libpuzzle} both offer this
 possibility)



From raoul at mail.berlios.de  Mon Apr 13 17:04:40 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 13 Apr 2009 17:04:40 +0200
Subject: [Enigma-game-svn] r1626 - trunk/data/levels/enigma_experimental
Message-ID: <200904131504.n3DF4enM019022@sheep.berlios.de>

Author: raoul
Date: 2009-04-13 17:04:40 +0200 (Mon, 13 Apr 2009)
New Revision: 1626

Modified:
   trunk/data/levels/enigma_experimental/items_1.xml
Log:
-> Update of "all items" testlevel


Modified: trunk/data/levels/enigma_experimental/items_1.xml
===================================================================
--- trunk/data/levels/enigma_experimental/items_1.xml	2009-04-13 12:02:39 UTC (rev 1625)
+++ trunk/data/levels/enigma_experimental/items_1.xml	2009-04-13 15:04:40 UTC (rev 1626)
@@ -18,6 +18,13 @@
 
 {"it_banana", _text="it_banana"},
 
+{"it_bomb", _text="it_bomb, default"},
+{"it_bomb_black", _text="it_bomb_black"},
+{"it_bomb_white", _text="it_bomb_white"},
+
+{"it_bottle", _text="it_bottle"},
+{"it_bottle_broken", _text="it_bottle_broken"},
+
 {"it_blocker", _text="it_blocker, default"},
 {"it_blocker", state=OPEN, _text="it_blocker, state=OPEN"},
 {"it_blocker", autoclose=true, _text="it_blocker, autoclose=true"},
@@ -26,19 +33,60 @@
 
 {"it_brush", _text="it_brush"},
 
+{"it_burnable", _text="it_burnable, default"},
+{"it_burnable_invisible", _text="it_burnable_invisible"},
+{"it_burnable_oil", _text="it_burnable_oil"},
+{"it_burnable_ignited", _text="it_burnable_ignited"},
+{"it_burnable_burning", _text="it_burnable_burning"},
+{"it_burnable_ash", _text="it_burnable_ash"},
+{"it_burnable_fireproof", _text="it_burnable_fireproof"},
+
 {"it_cherry", _text="it_cherry"},
 
+{"it_coffee", _text="it_coffee"},
+
 {"it_coin", _text="it_coin, default"},
 {"it_coin_s", _text="it_coin_s"},
 {"it_coin_m", _text="it_coin_m"},
 {"it_coin_l", _text="it_coin_l"},
 
+{"it_crack", _text="it_crack, default"},
+{"it_crack_i", _text="it_crack_i"},
+{"it_crack_s", _text="it_crack_s"},
+{"it_crack_m", _text="it_crack_m"},
+{"it_crack_l", _text="it_crack_l"},
+{"it_crack_i", flavor="water", _text="it_crack_i, flavor=\"water\""},
+{"it_crack_s", flavor="water", _text="it_crack_s, flavor=\"water\""},
+{"it_crack_m", flavor="water", _text="it_crack_m, flavor=\"water\""},
+{"it_crack_l", flavor="water", _text="it_crack_l, flavor=\"water\""},
+
 {"it_cross", _text="it_cross"},
 
 {"it_death", _text="it_death"},
 
+{"it_document", _text="it_document"},
+
+{"it_drop", _text="it_drop"},
+
+{"it_dynamite", _text="it_dynamite"},
+
+{"it_explosion", _text="it_explosion, default"},
+{"it_explosion_nil", _text="it_explosion_nil"},
+{"it_explosion_hollow", _text="it_explosion_hollow"},
+{"it_explosion_crack", _text="it_explosion_crack"},
+{"it_explosion_debris", _text="it_explosion_debris"},
+
+{"it_extinguisher", _text="it_extinguisher, default"},
+{"it_extinguisher", state=EMPTY, _text="it_extinguisher, state=EMPTY"},
+{"it_extinguisher", state=MEDIUM, _text="it_extinguisher, state=MEDIUM"},
+{"it_extinguisher", state=FULL, _text="it_extinguisher, state=FULL"},
+
 {"it_extralife", _text="it_extralife"},
 
+{"it_flag", _text="it_flag"},
+{"it_flag_black", _text="it_flag"},
+{"it_flag_white", _text="it_flag"},
+
 {"it_floppy", _text="it_floppy"},
 
 {"it_glasses", _text="it_glasses, default"},
@@ -86,6 +134,8 @@
 {"it_puller_e",_text="it_puller_e"},
 {"it_puller_n", _text="it_puller_n"},
 
+{"it_ring", _text="it_ring"},
+
 {"it_rubberband", _text="it_rubberband"},
 
 {"it_seed", _text="it_seed, default"},
@@ -104,6 +154,10 @@
 {"it_shogun", flavor="m", _text="it_shogun, flavor=\"m\""},
 {"it_shogun", flavor="l", _text="it_shogun, flavor=\"l\""},
 
+{"it_spade", _text="it_spade"},
+
+{"it_spoon", _text="it_spoon"},
+
 {"it_spring", _text="it_spring"},
 {"it_spring_keep", _text="it_spring_keep"},
 {"it_spring_drop", _text="it_spring_drop"},



From ral at mail.berlios.de  Mon Apr 13 20:58:09 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 13 Apr 2009 20:58:09 +0200
Subject: [Enigma-game-svn] r1627 - in trunk/src: actors items
Message-ID: <200904131858.n3DIw9mZ015202@sheep.berlios.de>

Author: ral
Date: 2009-04-13 20:58:08 +0200 (Mon, 13 Apr 2009)
New Revision: 1627

Modified:
   trunk/src/actors/Balls.cc
   trunk/src/items/Meditation.cc
   trunk/src/items/Sensor.cc
   trunk/src/items/Trigger.cc
Log:
Trunk 1.1:
- it_trigger: do no longer count dead actors
- it_sensor: do not perform actions on dead actors entering of leaving
- it_meditation: no meditation by dead actors

Modified: trunk/src/actors/Balls.cc
===================================================================
--- trunk/src/actors/Balls.cc	2009-04-13 15:04:40 UTC (rev 1626)
+++ trunk/src/actors/Balls.cc	2009-04-13 18:58:08 UTC (rev 1627)
@@ -221,6 +221,10 @@
     }
     
     void BasicBall::on_respawn (const ecl::V2 &pos) {
+            // notify objects on grid about the death - used by it_trigger, sensor, meditation
+            SendMessage(GetFloor(get_gridpos()), "_dying", false, this);
+            SendMessage(GetItem(get_gridpos()), "_dying", false, this);
+            SendMessage(GetStone(get_gridpos()), "_dying", false, this);
             change_state(APPEARING);
     }
 
@@ -381,6 +385,10 @@
                 disable_shield();
                 m_drunk_rest_time = 0;
                 m_invisible_rest_time = 0;
+                // notify objects on grid about the death - used by it_trigger, sensor, meditation
+                SendMessage(GetFloor(get_gridpos()), "_dying", true, this);
+                SendMessage(GetItem(get_gridpos()), "_dying", true, this);
+                SendMessage(GetStone(get_gridpos()), "_dying", true, this);
                 break;
             case JUMPING:
                 sound_event("jump");

Modified: trunk/src/items/Meditation.cc
===================================================================
--- trunk/src/items/Meditation.cc	2009-04-13 15:04:40 UTC (rev 1626)
+++ trunk/src/items/Meditation.cc	2009-04-13 18:58:08 UTC (rev 1627)
@@ -71,6 +71,10 @@
         } else if (m.message == "_init") {
             checkActors();
             return Value();
+        } else if (m.message == "_dying" ) {
+            if (whiteball == m.sender && m.value.to_bool() == true)
+                // meditatist left hollow (warp, ...)
+                deregisterWhiteball();            
         } else
             return Item::message(m);
     }
@@ -134,12 +138,12 @@
         static const double MINTIME = 1.0;
         ItemID id = get_id(this);
     
-        if (whiteball == NULL && !a->is_flying() && get_id(a) == ac_pearl_white && isMeditating(a)) {
+        if (whiteball == NULL && !a->is_flying() && !a->is_dead() && get_id(a) == ac_pearl_white && isMeditating(a)) {
             // meditatist entered a free hollow
             whiteball  = a;
             enter_time = server::LevelTime;
         } else if (whiteball == a) {
-            if (a->is_flying() || !isMeditating(a)) {
+            if (a->is_flying() || a->is_dead() || !isMeditating(a)) {
                 // meditatist left hollow
                 whiteball = NULL;
                 if (enter_time == -1) {   // meditatist is registered

Modified: trunk/src/items/Sensor.cc
===================================================================
--- trunk/src/items/Sensor.cc	2009-04-13 15:04:40 UTC (rev 1626)
+++ trunk/src/items/Sensor.cc	2009-04-13 18:58:08 UTC (rev 1627)
@@ -90,7 +90,7 @@
     }
     
     void Sensor::actor_enter(Actor *a) {
-        if (!(objFlags & OBJBIT_EXIT)) {        
+        if (!(objFlags & OBJBIT_EXIT) && !a->is_dead()) {        
             if (!(objFlags & OBJBIT_INVISIBLE))
                 set_anim("it_sensor_hit");
             performAction(true);
@@ -98,7 +98,7 @@
     }
     
     void Sensor::actor_leave(Actor *a) {
-        if (objFlags & OBJBIT_EXIT) {        
+        if ((objFlags & OBJBIT_EXIT) && !a->is_dead()) {        
             if (!(objFlags & OBJBIT_INVISIBLE))
                 set_anim("it_sensor_exit_hit");
             performAction(true);

Modified: trunk/src/items/Trigger.cc
===================================================================
--- trunk/src/items/Trigger.cc	2009-04-13 15:04:40 UTC (rev 1626)
+++ trunk/src/items/Trigger.cc	2009-04-13 18:58:08 UTC (rev 1627)
@@ -51,6 +51,14 @@
             return Value();
         } else if (m.message == "_jumping" ) {
             updateIState(m.value.to_bool() ? -1 : +1);
+        } else if (m.message == "_dying" ) {
+            Actor *ac = dynamic_cast<Actor *>(m.sender);
+            if (ac != NULL) {
+                if (m.value.to_bool() && !ac->is_flying())
+                    updateIState(-1);
+                else if (!m.value.to_bool())
+                    updateIState(+1);
+            }
         }
         return Item::message(m);
     }
@@ -79,12 +87,12 @@
     }
     
     void Trigger::actor_enter(Actor *a) {
-        if (!a->is_flying())
+        if (!(a->is_flying() || a->is_dead()))
             updateIState(+1, !server::WorldInitialized);
     }
     
     void Trigger::actor_leave(Actor *a) {
-        if (!a->is_flying())
+        if (!(a->is_flying() || a->is_dead()))
             updateIState(-1, !server::WorldInitialized);
     }
     
@@ -94,10 +102,10 @@
     
     int Trigger::countActors() {
         std::vector<Actor*> actors;
-        GetActorsInsideField (get_pos(), actors);
+        GetActorsInsideField(get_pos(), actors);
         int count = 0;
-        for (std::vector<Actor*>::iterator it = actors.begin(); it != actors.end(); ++it)
-            if (!(*it)->is_flying()) count++;
+        for (std::vector<Actor*>::iterator itr = actors.begin(); itr != actors.end(); ++itr)
+            if (!((*itr)->is_flying() || (*itr)->is_dead())) count++;
         return count;
     }
     



From andreasl at mail.berlios.de  Tue Apr 14 19:33:45 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 14 Apr 2009 19:33:45 +0200
Subject: [Enigma-game-svn] r1628 - in feature_branches/hp_lotm: images/lotm
	input/lotm
Message-ID: <200904141733.n3EHXjYG012191@sheep.berlios.de>

Author: andreasl
Date: 2009-04-14 19:33:29 +0200 (Tue, 14 Apr 2009)
New Revision: 1628

Added:
   feature_branches/hp_lotm/images/lotm/lotm_200904.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_e.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_f.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_g.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_l.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_p.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_s.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_v.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_y.png
Modified:
   feature_branches/hp_lotm/input/lotm/lotm_200904.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
Log:
LotM Feature branch:
 - LotM April '09 Yin:
    - Added Mecke's article (Yang-side main part) with images.
    - Typos in English Yin-side article.
    - New: Intro to Jacob's comment (Yin- and Yang-side).
    - Moved easy-mode records from Yin- to Yang-side.
    - Moved half of Jacob's comment from Yang- to Yin-side.
Todo:
 - Russian and German translations
 - Validation, Merge, Upload


Added: feature_branches/hp_lotm/images/lotm/lotm_200904.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_e.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_e.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_f.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_f.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_g.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_g.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_l.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_l.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_p.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_p.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_s.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_s.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_v.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_v.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_y.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_y.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-13 18:58:08 UTC (rev 1627)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-14 17:33:29 UTC (rev 1628)
@@ -1,17 +1,22 @@
 <div class="lotm">
 $$lotm_header$$
 
-  <h3 class="lotm">
+<h3 class="lotm">
     <span class="date">April 2009: </span>
     &quot;Plan Ahead&quot; by Jacob Scott
-  </h3>
+</h3>
 
 <hr>
-
-<p>
-You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
-</p>
-
+<table>
+<tr><td>
+You are currently on the Yin side of this article. The Yang side is here: 
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="The magical yin-yang stone" border="0">
+</a>
+</td></tr>
+</table>
 <hr>
 
 <p>This month we are presenting to you another level designed by Jacob the Buil
@@ -26,11 +31,8 @@
 <div class="imagetitle">Enigma V # 21</div>
 </div>
 
-<table>
-<tr><td>
-
 <table cellpadding="0" cellspacing="1" class="statistics">
-<caption class="normalcaption">Some records of February 2009</caption>
+<caption class="normalcaption">Some records of February 2009 (Yin Mode)</caption>
 <colgroup>
     <col width="80">
     <col width="160">
@@ -101,91 +103,6 @@
         <td class="left">AlephD</td></tr>
 </table>
 
-</td><td>
-
-<table cellpadding="0" cellspacing="1" class="statistics">
-<caption class="normalcaption">Easy mode</caption>
-<colgroup>
-    <col width="80">
-    <col width="160">
-</colgroup>
-    <tr><td class="num">0:47</td>
-        <td class="left">Moneymaker</td></tr>
-    <tr><td class="num">0:50</td>
-        <td class="left">Stupid</td></tr>
-    <tr><td class="num">0:58</td>
-        <td class="left">daydreamer</td></tr>
-    <tr><td class="num">1:10</td>
-        <td class="left">Daisy</td></tr>
-    <tr><td class="num">1:11</td>
-        <td class="left">Mentist</td></tr>
-    <tr><td class="num">1:12</td>
-        <td class="left">ryujun</td></tr>
-    <tr><td class="num">1:15</td>
-        <td class="left">Ronald</td></tr>
-    <tr><td class="num">1:16</td>
-        <td class="left">Jinajon</td></tr>
-    <tr><td class="num">1:17</td>
-        <td class="left">Django+dev0</td></tr>
-    <tr><td class="num">1:21</td>
-        <td class="left">B-Huff+Malla</td></tr>
-    <tr><td class="num">1:25</td>
-        <td class="left">Dime</td></tr>
-    <tr><td class="num">1:26</td>
-        <td class="left">Gloop+Safalra</td></tr>
-    <tr><td class="num">1:30</td>
-        <td class="left">Emmanuel+mecke</td></tr>
-    <tr><td class="num">1:31</td>
-        <td class="left">Alexandros</td></tr>
-    <tr><td class="num">1:33</td>
-        <td class="left">Freshman</td></tr>
-    <tr><td class="num">1:34</td>
-        <td class="left">Alex</td></tr>
-    <tr><td class="num">1:35</td>
-        <td class="left">U-Punkt</td></tr>
-    <tr><td class="num">1:39</td>
-        <td class="left">Taztunes</td></tr>
-    <tr><td class="num">1:40</td>
-        <td class="left">ABS</td></tr>
-    <tr><td class="num">1:42</td>
-        <td class="left">Craven</td></tr>
-    <tr><td class="num">1:43</td>
-        <td class="left">Tobias+Ludmian</td></tr>
-    <tr><td class="num">1:45</td>
-        <td class="left">para_doks</td></tr>
-    <tr><td class="num">1:51</td>
-        <td class="left">JuSt</td></tr>
-    <tr><td class="num">1:58</td>
-        <td class="left">mrduke</td></tr>
-    <tr><td class="num">1:59</td>
-        <td class="left">Ale+Raoul</td></tr>
-    <tr><td class="num">2:03</td>
-        <td class="left">shoki</td></tr>
-    <tr><td class="num">2:09</td>
-        <td class="left">biotopa</td></tr>
-    <tr><td class="num">2:17</td>
-        <td class="left">Hans-HD</td></tr>
-    <tr><td class="num">2:31</td>
-        <td class="left">Mark P.</td></tr>
-    <tr><td class="num">2:36</td>
-        <td class="left">WP319</td></tr>
-    <tr><td class="num">2:37</td>
-        <td class="left">gringer</td></tr>
-    <tr><td class="num">2:38</td>
-        <td class="left">H-J.Epting</td></tr>
-    <tr><td class="num">2:54</td>
-        <td class="left">Melanie</td></tr>
-    <tr><td class="num">3:14</td>
-        <td class="left">Andy</td></tr>
-    <tr><td class="num">4:38</td>
-        <td class="left">AlephD</td></tr>
-    <tr><td class="num">8:10</td>
-        <td class="left">brynn</td></tr>
-</table>
-
-</td></tr>
-</table>
-
 <p>To tell the truth, initially we were at a loss as to how we should write an
 article about a level like this. It seemed to us it was next to impossible to
 write an article that wouldn't become one huge spoiler for the level. But then
@@ -244,7 +161,7 @@
 
 <div class="lotmpic">
 <img src="$$imagedir$$/lotm/lotm_200904_a.png" alt="Level of the Month" border="0">
-<div class="imagetitle">It was a rather <br> beautiful places &hellip;</div>
+<div class="imagetitle">It was a rather <br> beautiful place &hellip;</div>
 </div>
 
 <p>Monday &hellip; Where is he? Ah, there, on the other side of the &hellip;
@@ -278,21 +195,21 @@
 cast an eye upon for millennia. Maybe there is at least a grain of truth in his
 book. </p>
 
-<p>Ok, question 1: &quot;Have you been trying to solve the puzzles in this world
+<p>Okay, question 1: &quot;Have you been trying to solve the puzzles in this world
 for months, in spite of the fact that there's nothing hidden here? If it is true
 then go to question 2, if it is false go to question 5.&quot; Ha, no, the world
 is much simpler than I would like it to be. Question 5: &quot;Are you being
 chased by a crazy clock?&quot; Gods, of course I'm not! If I were, I wouldn't be
 reading your bloody book, stupid old fart. Question 10 &hellip; Question 11
 &hellip; Question 39 &hellip; Finally! &quot;Your world has most likely been
-created by the legendary Jacob the Builder&quot;. Ok, and now will you please
+created by the legendary Jacob the Builder&quot;. Okay, and now will you please
 give any proof that Jacob the Builder existed at all? No, you won't, 'cause you
 don't have any. But enough of that! Let's open the oxyds and move on to a more
 interesting place. &quot;Hey, Monday!&quot; </p>
 
 <div class="lotmpic">
 <img src="$$imagedir$$/lotm/lotm_200904_b.png" alt="Level of the Month" border="0">
-<div class="imagetitle">The stupid creature <br> had lost its Yin Yang!</div>
+<div class="imagetitle">The stupid creature <br> had lost its Yin-Yang!</div>
 </div>
 
 <p>But suddenly a frightening thought occurred to me. The stupid creature had
@@ -302,7 +219,7 @@
 one will come to my rescue! But then I told myself, &quot;Well, Henry, don't
 panic! Sooner or later you'll be able to think of something&quot;. I slowly
 looked around one more time. What do I have at my disposal?
-One&mdash;two&mdash;three &mdash;four&mdash;five seeds, a bag, two dynamite
+One&mdash;two&mdash;three&mdash;four&mdash;five seeds, a bag, two dynamite
 sticks behind one-way stones over there. Not that bad. There must be some way to
 put them to use, there must be &hellip; </p>
 
@@ -376,7 +293,7 @@
 
 <div class="lotmpic">
 <img src="$$imagedir$$/lotm/lotm_200904_d.png" alt="Level of the Month" border="0">
-<div class="imagetitle">Just then I saw the crazy <br> clock turning to me.</div>
+<div class="imagetitle">Just then I saw <br> the crazy clock <br> turning towards me.</div>
 </div>
 
 <h4>Annotations by the editor:</h4>
@@ -411,19 +328,73 @@
 found a way out long ago and was just waiting for the moment when Henry would
 deign to talk to him. </p>
 
-<hr>
-
 <p>
-You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
+Greets,<br>
+<i>Ludmian Sedai</i>
 </p>
 
-<hr>
+<p>Okay, and now &mdash; last but not least &mdash; the time has come to comply with Henry Blackball's request which he had uttered earlier on in his acount and to <i>give proof</i> to him - all our regular readers certainly will not have questioned the fact - that there is more than just a grain of truth in the book by William Whiteball, and that <i>Jacob, the Builder</i>, of course really exists! Some days ago we received some words by him in which he describes further details about the construction of this masterpiece, which &mdash; not too surprisingly &mdash; sound a bit different from Henry's tale.</p>
 
-<p>
-Greets,<br>
-<i>Ludmian</i>
-</p>
+<p>But very much to our surprise, <i>Jacob the Builder</i> seems to have met Henry Blackball at a later time somewhere on his journeys through the worlds of Enigma (probably in one of his own creations), at least the final sentence of his reflection on <i>Elegance</i> &mdash; which can be found on the <i>Yang</i> side &mdash; leads us to assume so.</p>
 
+<h4>&quot;Plan Ahead&quot; is actually one of my more recent levels.</h4>
+
+<div class="quote">
+I designed it kind of in the spirit of my &quot;Seed Puzzle&quot; (and related) levels, but with
+a little twist: now there are two marbles to control, but only one
+yin-yang. As much as I enjoyed creating the &quot;Seed Puzzle&quot; levels (and
+similar ones, such as &quot;Versailles&quot; and &quot;One-Way Streets&quot;), and as much
+as I hope people enjoyed completing them, I thought they were missing
+something. Their puzzles were (in my opinion) fairly hard and good, but
+the levels had little variety, essentially containing just seeds,
+water/abyss, one-ways, and occasionally bombs. For &quot;Plan Ahead&quot;, I took
+the opposite strategy: use more than a few different level elements that
+all relate to seeds and that can all come together to form a cohesive
+landscape. In my opinion &quot;Plan Ahead&quot; is easier than most of my other
+seed puzzle levels, but the concept is much less obvious, in that the
+solution is not simply deciding which grates to destroy with seeds, but
+rather involves interacting with a bunch of different items. This may
+not increase the difficulty of the puzzle at all, but I think it
+certainly makes it more interesting.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_s.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Seed Puzzle</div>
+</div>
+
+<div class="quote">
+Looking back, &quot;Plan Ahead&quot; seems to contrast significantly with most of
+the other puzzle levels I've designed. The majority of them tend to
+involve either searching around some sort of labyrinth (like &quot;Labyrinth
+of Puzzles&quot; or &quot;Almost There&quot; or even &quot;Map it Out&quot;, for a few
+representatives) or a complex, single-themed puzzle (the &quot;Alien Glyphs&quot;
+series, &quot;Now What?&quot;, or &quot;Open Path&quot;, for example). Some are larger
+conglomerations of these, but relatively few have the diversity &quot;Plan
+Ahead&quot; does in proportion to their size. They also generally have
+darker color themes and less-inviting atmospheres about them; instead,
+&quot;Plan Ahead&quot; has a much fresher feel to it, which I believe reflects its
+change in puzzle design. &quot;Plan Ahead&quot;, I hope, provides a refreshing
+take on the theme of seed puzzles, this time set in a colorful and
+peaceful world that will challenge but reward all adventurers who choose
+to play within it.
+</div>
+
+<div class="author">Jacob Scott</div>
+
+<hr>
+<table>
+<tr><td>
+You are currently on the Yin side of this article. The Yang side is here: 
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="The magical yin-yang stone" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
 <!--<p>Dear reader, we have a constant need for articles from you about Enigma's
 great levels. Please, send us any articles, even comments, you write to:</p>
 <pre>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-13 18:58:08 UTC (rev 1627)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-14 17:33:29 UTC (rev 1628)
@@ -1,69 +1,225 @@
 <div class="lotm">
 $$lotm_header$$
 
-  <h3 class="lotm">
+<h3 class="lotm">
     <span class="date">April 2009: </span>
     &quot;Plan Ahead&quot; by Jacob Scott
-  </h3>
+</h3>
 
 <hr>
+<table>
+<tr><td>
+You are currently on the Yang side of this article. The Yin side is here:
+</td><td>
+<a href="$$lotm_200904$$">
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="The magical yin-yang stone" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
 
-<p>
-You are on the Yang side of this article. The Yin side is <a href="$$lotm_200904$$">here</a>.
+<p>In October 2008 we presented the first contribution in the classic one-screen format as the &quot;Level of the Month&quot;: &quot;Industrial Puzzles&quot; by Raoul Bourquin (LotM 10/08). Then in December the second one-screener has been voted to join its companions on the Mount Olympus of excellent Enigma level productions: &quot;Procrustes&quot; by Andreas Lochmann (LotM 12/08). This month another level in the &quot;handy&quot; one-screen format will be awarded. But that surely doesn't mean, epic big adventures and long expeditions of discovery are out of fashion. Apparently the little chamber puzzle suites are showing that there's something rich about them, and that they're more than just a caprice, to be taken less seriously. 
 </p>
 
-<hr>
-
-<p>
+<p>One of these levels is riddled with mirrors and mysteries, laserbeams are whizzing by in this industrial brick building, so that it's hard to believe, that it will work out well. Somewhere else a conflagration is blazing, inside an ancient inn, a &quot;welcome&quot; game strangely attractive in its own way: Procrustes himself had invited. There's nothing blazing in Jacob Scott's &quot;Plan Ahead&quot;, everything seems so strangely quiet, static, and the two actors give the impression that the whole level is supposed to be a mathematical equation, calling for balance, transformation, elimination:
 </p>
+<p>White marble + 2 dynamites + y oxyds = Black marble + x seeds + bag + y oxyds (?)
+</p>
+<p>This level creation is everything but a wild action level, action with deliberation is asked from the player. Metaphorically speaking it resembles a symmetric baroque style dungeon housing two inmates who are enjoying more or less freedom of movement, and who know: Only when all oxyds are shining, they have succeeded in escaping from this dungeon level &mdash; and only then the silver or the gold medal is bestowed upon the player. :-)
+</p>
 
 <div class="lotmpic">
-<img src="$$imagedir$$/lotm/lotm_200904_a.jpg" alt="Level of the Month" border="0">
+<img src="$$imagedir$$/lotm/lotm_200904_f.png" alt="Level of the Month" border="0">
 <div class="imagetitle">Enigma V # 21</div>
 </div>
 
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Some record of February 2009 (Yang mode)</caption>
+<colgroup>
+    <col width="80">
+    <col width="160">
+</colgroup>
+<tbody>
+    <tr><td class="num">0:47</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">0:50</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">0:58</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">1:10</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">1:11</td>
+        <td class="left">Mentist</td></tr>
+    <tr><td class="num">1:12</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">1:15</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">1:16</td>
+        <td class="left">Jinajon</td></tr>
+    <tr><td class="num">1:17</td>
+        <td class="left">Django+dev0</td></tr>
+    <tr><td class="num">1:21</td>
+        <td class="left">B-Huff+Malla</td></tr>
+    <tr><td class="num">1:25</td>
+        <td class="left">Dime</td></tr>
+    <tr><td class="num">1:26</td>
+        <td class="left">Gloop+Safalra</td></tr>
+    <tr><td class="num">1:30</td>
+        <td class="left">Emmanuel+mecke</td></tr>
+    <tr><td class="num">1:31</td>
+        <td class="left">Alexandros</td></tr>
+    <tr><td class="num">1:33</td>
+        <td class="left">Freshman</td></tr>
+    <tr><td class="num">1:34</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">1:35</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">1:39</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">1:40</td>
+        <td class="left">ABS</td></tr>
+    <tr><td class="num">1:42</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">1:43</td>
+        <td class="left">Tobias+Ludmian</td></tr>
+    <tr><td class="num">1:45</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">1:51</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">1:58</td>
+        <td class="left">mrduke</td></tr>
+    <tr><td class="num">1:59</td>
+        <td class="left">Ale+Raoul</td></tr>
+    <tr><td class="num">2:03</td>
+        <td class="left">shoki</td></tr>
+    <tr><td class="num">2:09</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">2:17</td>
+        <td class="left">Hans-HD</td></tr>
+    <tr><td class="num">2:31</td>
+        <td class="left">Mark P.</td></tr>
+    <tr><td class="num">2:36</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">2:37</td>
+        <td class="left">gringer</td></tr>
+    <tr><td class="num">2:38</td>
+        <td class="left">H-J.Epting</td></tr>
+    <tr><td class="num">2:54</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">3:14</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">4:38</td>
+        <td class="left">AlephD</td></tr>
+    <tr><td class="num">8:10</td>
+        <td class="left">brynn</td></tr>
+</tbody>
+</table>
 
+<h4>Welcome to the dungeon of Yin and Yang</h4>
+
+<p>No guards are left inside this prison to upset our marbles' plans, <i>Black</i> and <i>White</i> are left to their own devices. In peaceful seclusion both inmates can think about a solution to escape their fate. A &quot;dialogue of thoughts&quot; arises.
+</p>
+<p><i>White</i> whispers to <i>Black</i>: &quot;Hey you, over there! Come over here to my side. But watch the brittle floor, it can only be stepped on once, before it crumbles into the abyss. You've got these five seeds, put them into the bag and take it with you. This might be our last meal.&quot; <i>White</i> looks at his watch and notices that time goes, his stomach gives a rumble and then he continues to speak: &quot;Hey, over here on my side the guards have left 2 dynamites in 2 siderooms, before they got away and abandoned us to our fate.&quot;
+</p>
 <div class="lotmpic">
-<img src="$$imagedir$$/lotm/lotm_200904_b.jpg" alt="Level of the Month" border="0">
+<img src="$$imagedir$$/lotm/lotm_200904_p.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Yang, we're getting closer! <br>We're only one seed <br>short this time.<br></div>
 </div>
 
-<div class="quote">
-&quot;Plan Ahead&quot; is actually one of my more recent levels. I designed it
-kind of in the spirit of my &quot;Seed Puzzle&quot; (and related) levels, but with
-a little twist: now there are two marbles to control, but only one
-yin-yang. As much as I enjoyed creating the &quot;Seed Puzzle&quot; levels (and
-similar ones, such as &quot;Versailles&quot; and &quot;One-Way Streets&quot;), and as much
-as I hope people enjoyed completing them, I thought they were missing
-something. Their puzzles were (in my opinion) fairly hard and good, but
-the levels had little variety, essentially containing just seeds,
-water/abyss, one-ways, and occasionally bombs. For &quot;Plan Ahead&quot;, I took
-the opposite strategy: use more than a few different level elements that
-all relate to seeds and that can all come together to form a cohesive
-landscape. In my opinion &quot;Plan Ahead&quot; is easier than most of my other
-seed puzzle levels, but the concept is much less obvious, in that the
-solution is not simply deciding which grates to destroy with seeds, but
-rather involves interacting with a bunch of different items. This may
-not increase the difficulty of the puzzle at all, but I think it
-certainly makes it more interesting.
+<p>Spitefully they howled: &quot;We grant our guests one last chance to escape their fate to die of starvation. With the dynamites the two damned may blast the walls next to the pool, to take a refreshing bath in the cosy and warm waters of caustic soda.&quot; BWAHAHA!! 
+</p>
+<p>From our fountain of youth, no one returns,<br>
+oh this water, like fire it burns.<br> 
+In our spa the infirmities of age,<br>
+all are cured, thanks to Na-O-H.<br>
+</p>
+<p>BWAHAHA!! BWAHAHA!!
+</p>
+<p>Black thinks about it carefully, then cries out hysterically: &quot;I know the constructor of this dungeon! 'Duffy' he calls himself. Many of his buildings seem to be impossible to solve, but however hopelessly the situation appears to be, he always provides the visitor with a solution, although it may be well concealed. So there must be a way &mdash; no, there is a way &mdash; to open all oxyds and to survive this challenge unscathed. Let's think it over.&quot; 
+</p>
+<p>Ahead &hellip; Look ahead &hellip; 
+</p>
+<h4>Welcome to Jacob Scott's (aka Duffy) &quot;Plan Ahead&quot;! :-)</h4>
+
+<h4>1. Here, there and back again</h4> 
+
+<p><i>Black</i> inspects his opportunities and thinks: Once I can get around the pool, over to <i>White</i> and back again, following the arrow signs &mdash; but only once, then the path has crumbled away. I'll have to seize this opportunity with both hands. I must use it to make a permanent connection, right-left, East-West, which ideally can be used by my <i>white</i> partner, to open the one oxyd here on my side, which is only accessible to <i>White</i>.
+</p>
+<h4>2. A game of Yin and Yang</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_g.png" alt="Level of the Month" border="0">
+<div class="imagetitle">White dreams - <br>Black ways</div>
 </div>
 
-<div class="quote">
-Looking back, &quot;Plan Ahead&quot; seems to contrast significantly with most of
-the other puzzle levels I've designed. The majority of them tend to
-involve either searching around some sort of labyrinth (like &quot;Labyrinth
-of Puzzles&quot; or &quot;Almost There&quot; or even &quot;Map it Out&quot;, for a few
-representatives) or a complex, single-themed puzzle (the &quot;Alien Glyphs&quot;
-series, &quot;Now What?&quot;, or &quot;Open Path&quot;, for example). Some are larger
-conglomerations of these, but relatively few have the diversity &quot;Plan
-Ahead&quot; does in proportion to their size. They also generally have
-darker color themes and less-inviting atmospheres about them; instead,
-&quot;Plan Ahead&quot; has a much fresher feel to it, which I believe reflects its
-change in puzzle design. &quot;Plan Ahead&quot;, I hope, provides a refreshing
-take on the theme of seed puzzles, this time set in a colorful and
-peaceful world that will challenge but reward all adventurers who choose
-to play within it.
+<p><i>White</i> murmurs: Why is the one of us allowed to do things, which are forbidden to the other one? Which creator defined me to be <i>white</i>? And why shouldn't I be allowed to stroll along a <i>black</i> arcade, gracious Gods of Enigma? How much easier life would be, if I'd be able to do everything &mdash; if I were allowed to do anything I'd like to do &hellip; And that also should apply to my dear partner Yin over there! Then I wouldn't need to wait until she finds a way to get to me &mdash; and Duffy, the constructor, couldn't stop me, Yang, from going <i>black</i> ways.
+</p>
+<h4>3. Devided world</h4>
+
+<p>Both are shouting in chorus: &quot;Duffy, what have you done to us?
+Incarcerated in this joyless world, separated from each other &mdash; with all
+these odd items: dynamites, birdseed and an empty bag.&quot; And it starts
+dawning on both of them: &quot;With the two dynamites blast holes into the walls
+to the right and the left of the pool, and then build a bridge across Duffy's
+'dishwater' by means of the special properties of the seeds. That
+should work. And then find a way to make the black and white arcades passable
+for the marble of the opposite color &mdash; and to get out of the
+'dynamite alcoves' again, by transforming the 'one-ways'
+into 'two-ways', or whatever.&quot;
+</p>
+<p>They're getting closer to the solution &mdash; together they can work it out!
+</p>
+<h4>4. Gaining extra-space within the own inventory &mdash; About the metamorphosis of a seed</h4>
+
+<p><i>Black</i> understands: She must bring seeds to Yang, the white marble, on her &quot;one-way&quot; tour around the pool &mdash; but how? In the story of the Creation the Gods of Enigma implanted a very special quality in the seeds, which is of particular relevance: A &quot;planted&quot; seed grows into a movable wooden box, the Gods named it &quot;st_box&quot;. Player, make the most of this quality! But watch out! If Yin picks up a seed, betakes herself over to Yang and rashly &quot;presents&quot; her gift to him, well then &hellip; it's time to &quot;unwrap&quot; another gift from the Gods: F3 :-(
+</p>
+<p>The bag! Player, make use of the bag!<br>
+Open brackets / close brackets = Open bag / close bag<br>
+More will not be told.<br>
+</p>
+<h4>5. Who's in power in this &quot;partnership&quot;?</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_l.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Delivery - <br>what's inside the bag?</div>
 </div>
 
+<p>First Yin is the active marble, if she switches to Yang using her yin-yang-item and transmits the power on him, her partner isn't capable of bringing her back into the game, however much he'd like to &mdash; Yin stays passive for a very long time &mdash; in difficult mode forever. Player! Be careful that you &quot;hand over&quot; at the right moment! At long last both of the marbles will thank you for doing so. :-)
+</p>
+<h4>Conclusion:</h4>
+
+<p>This onescreener is completely different from &quot;Industrial Puzzles&quot; for instance, it's a yin-yang level, with a plain symmetrical structure, everything's revealed right from the start &mdash; WYSIWYG. That such a small and clear level can cause so much &quot;trouble&quot;: many thanks to Jacob Scott for this &quot;fugue&quot; of inspiration. At the beginning one wouldn't really expect it to require so much knowledge, timing and precision &mdash; and &quot;planning ahead&quot;. 
+</p>
+
+<p>Yin and Yang, symbolized by different colors, separated in time and space by
+a few grates (or more precisely by some &quot;st_oneways&quot; as the Gods have
+named them), can manage to find common ground and in combined effort to solve
+the level. Teamwork and faith in each other have been the secret of their
+success: <i>Who</i> switches <i>when</i> to <i>whom</i>, and <i>where</i> does
+<i>who</i> use <i>what</i> and <i>when</i>? Duffy's order of things has to be
+broken to establish a physical connection. Within the beautifully dusted <a
+href="$$lotm_200810$$">factory hall</a> order had to be reestablished to get the
+production going again. Easy answers unwelcome. Like in everyday life. ;-)
+</p>
+
+<p>I'd like to spare myself further hymns of praise: &quot;Plan Ahead&quot; is a precious piece of &quot;chamber&quot; music of the level author, who has composed such lovely symphonies like &quot;Island Labyrinth&quot;, and who's given so much pleasure to the enthusiasts of Enigma &mdash; and so he has done again with this composition. Thank you very much! Well, and I'd like to &quot;look ahead&quot; and give expression to my hopes, that the next excellent Duffy levels will be coming soon. Plan it again, Duffy! :-)
+</p>
+
+<p>Greets,<br>
+<i>Mecke</i></p>
+
+<p>Many thanks for your inspiring words, Dear Mecke. We can reassure you and all our readers as well as all Enigma players and Duffy fans: There'll definitely be &quot;several&quot; excellent creations by Jacob Scott among the levels in the next release of Enigma, although no new compositions &mdash; the creator of countless Enigma worlds is currently celebrating his well-earned &quot;seventh day&quot;. But some of these &quot;new old&quot; works are really remarkable, and possibly we will encounter some of them here again in the near future.</p>
+
+<p>Besides the inquiry on his level of the month &mdash; which can be found on the Yin side of the article &mdash; we also received some reflections on level designing in general from the author, which will make a worthy final movement of our Yin-Yang article composition. Most of what is said in these sentences not only applies to &quot;Plan Ahead&quot;, but to many other excellent creations by Jacob &mdash; and to many others of our &quot;Levels of the Month&quot;.</p>
+
+<h4>About elegance in level design</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_v.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Versailles</div>
+</div>
+
 <div class="quote">
 I would like to make a couple of general comments about Enigma levels,
 and by extension game levels in general, concerning what it means to be
@@ -92,18 +248,18 @@
 <div class="author">Jacob Scott</div>
 
 <hr>
-
-<p>
-You are on the Yin side of this article. The Yang side is <a href="$$lotm_200904_yang$$">here</a>.
-</p>
-
+<table>
+<tr><td>
+You are currently on the Yang side of this article. The Yin side is here:
+</td><td>
+<a href="$$lotm_200904$$">
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="The magical yin-yang stone" border="0">
+</a>
+</td></tr>
+</table>
 <hr>
 
-<p>
-Greets,<br>
-<i>Mecke</i>
-</p>
-
 <!--<p>Dear reader, we have a constant need for articles from you about Enigma's
 great levels. Please, send us any articles, even comments, you write to:</p>
 <pre>
@@ -118,4 +274,4 @@
 
 <p><i>Your Enigma Team</i></p>-->
 
-</div>
+</div>
\ No newline at end of file



From raoul at mail.berlios.de  Tue Apr 14 22:28:25 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Tue, 14 Apr 2009 22:28:25 +0200
Subject: [Enigma-game-svn] r1629 - in trunk: attic/images-items data/gfx32
	data/gfx40 data/gfx48
Message-ID: <200904142028.n3EKSPXe012474@sheep.berlios.de>

Author: raoul
Date: 2009-04-14 22:28:17 +0200 (Tue, 14 Apr 2009)
New Revision: 1629

Added:
   trunk/attic/images-items/it_crack_water_gfx32.xcf
   trunk/attic/images-items/it_crack_water_gfx40.xcf
   trunk/attic/images-items/it_crack_water_gfx48.xcf
Modified:
   trunk/data/gfx32/it_crack_water.png
   trunk/data/gfx40/it_crack_water.png
   trunk/data/gfx48/it_crack_water.png
Log:
-> Gfx for it_crack on water


Added: trunk/attic/images-items/it_crack_water_gfx32.xcf
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-items/it_crack_water_gfx32.xcf
___________________________________________________________________
Name: svn:mime-type
   + image/x-xcf

Added: trunk/attic/images-items/it_crack_water_gfx40.xcf
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-items/it_crack_water_gfx40.xcf
___________________________________________________________________
Name: svn:mime-type
   + image/x-xcf

Added: trunk/attic/images-items/it_crack_water_gfx48.xcf
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-items/it_crack_water_gfx48.xcf
___________________________________________________________________
Name: svn:mime-type
   + image/x-xcf

Modified: trunk/data/gfx32/it_crack_water.png
===================================================================
(Binary files differ)

Modified: trunk/data/gfx40/it_crack_water.png
===================================================================
(Binary files differ)

Modified: trunk/data/gfx48/it_crack_water.png
===================================================================
(Binary files differ)



From raoulb at bluewin.ch  Tue Apr 14 23:32:48 2009
From: raoulb at bluewin.ch (Raoul)
Date: Tue, 14 Apr 2009 23:32:48 +0200
Subject: [Enigma-game-svn] Rev 1630
Message-ID: <20090414233248.6194d450@amarok.loinet.zh>

-> New levels from various authors
-> Pento rewrites
-> Some other rewrites


From andreasl at mail.berlios.de  Wed Apr 15 16:03:41 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Wed, 15 Apr 2009 16:03:41 +0200
Subject: [Enigma-game-svn] r1631 - trunk/data
Message-ID: <200904151403.n3FE3f5G006005@sheep.berlios.de>

Author: andreasl
Date: 2009-04-15 16:03:39 +0200 (Wed, 15 Apr 2009)
New Revision: 1631

Modified:
   trunk/data/sound-defaults.lua
Log:
Trunk:
 - Fix r1620: Remove superfluous "print"-command in sound-defaults.lua



Modified: trunk/data/sound-defaults.lua
===================================================================
--- trunk/data/sound-defaults.lua	2009-04-14 21:30:38 UTC (rev 1630)
+++ trunk/data/sound-defaults.lua	2009-04-15 14:03:39 UTC (rev 1631)
@@ -79,7 +79,6 @@
     for soundeffect_name, soundeffect_info in pairs(soundtable) do
         local soundeffect_name_api2 = soundtable_renamings_api1_to_api2[soundeffect_name] or soundeffect_name
         local r = complete_sound(soundeffect_name_api2, soundeffect_info)  -- completed data set
-        print(soundeffect_name.." -> "..soundeffect_name_api2)
         sound.DefineSoundEffect(soundtable_name, soundeffect_name_api2, r.file, r.volume,
             r.loop, r.global, r.priority, r.damp_max, r.damp_inc, r.damp_mult,
             r.damp_min, r.damp_tick, r.silence_string)



From ral at mail.berlios.de  Fri Apr 17 00:42:30 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 17 Apr 2009 00:42:30 +0200
Subject: [Enigma-game-svn] r1632 - in trunk: data src src/floors src/items
	src/stones
Message-ID: <200904162242.n3GMgUYk021751@sheep.berlios.de>

Author: ral
Date: 2009-04-17 00:42:28 +0200 (Fri, 17 Apr 2009)
New Revision: 1632

Modified:
   trunk/data/models-2d.lua
   trunk/src/floors/FloodStream.cc
   trunk/src/floors/FloodStream.hh
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/Crack.cc
   trunk/src/items/Vortex.cc
   trunk/src/items/Vortex.hh
   trunk/src/items/WormHole.cc
   trunk/src/items/WormHole.hh
   trunk/src/stones/Door.cc
   trunk/src/stones/WindowStone.cc
Log:
Trunk 1.1:
- it_vortex: do not sink on a closed vortex
- fix image model of it_debris
- floodstream spead via it_vortex/it_wormhole:
  - wormhole: spread on a given destination
  - vortex: spead to all destinations when source vortex is open and
      destination is either an open vortex or no vortex, retry spread
      whenever a closed vortex opens
  - stones on destinations do not block any vortex/wormhole spreading
- Crack: do not spread water cracks onto fl_space

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/data/models-2d.lua	2009-04-16 22:42:28 UTC (rev 1632)
@@ -647,8 +647,6 @@
     DefAnim("it_crack_abyss_anim", frames)
     
     local images = DefSubimages("it_crack_water", {h=8})
-    local frames = BuildFrames(images,50)
-    DefAnim("it_debris", frames)
 
     local frames = BuildFrames({"it_crack_water4", "it_crack_water5", "it_crack_water6", "it_crack_water7", "it_crack_water8"},120)
     DefAnim("it_crack_water_anim", frames)

Modified: trunk/src/floors/FloodStream.cc
===================================================================
--- trunk/src/floors/FloodStream.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/floors/FloodStream.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -65,7 +65,8 @@
         
     Value FloodStream::message(const Message &m) {
         if (m.message == "_checkflood") {
-            if (state == FLOODING)
+            Item *it = GetItem(get_pos());
+            if (state == FLOODING && (m.value.to_bool() != true || (it != NULL && it->isKind("it_vortex_open"))))
                 GameTimer.set_alarm(this, (double)getAttr("interval"), false);
             return Value();
         } else
@@ -127,34 +128,44 @@
             Stone *thisstone = GetStone(get_pos());
             for (Direction d = NORTH; d != NODIR; d = previous(d)) {
                 if (thisstone == NULL || thisstone->allowsSpreading(d)) {
-                    GridPos p = move(get_pos(), d);
-                    Floor *f = GetFloor(p);
-                    if (f != NULL && f->isKind("fl_floodstream") && 
-                            (f->getAttr("faces").to_string() == "nesw" || f->isKind("fl_water"))) {
-                        if (f->isKind("fl_water") && f->getAttr("state") == IDLE) {
-                            init_model();  // make flood visible
-                            Item *it = GetItem(p);
-                            if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
-                                KillItem(p);
-                        }
-                        f->setAttr("interval", getAttr("interval"));
-                        f->setAttr("state", FLOODING);
-                    } else if (f != NULL && f->getAttr("floodable").to_bool()) {
-                        Stone *st = GetStone(p);
-                        if (st == NULL || st->allowsSpreading(reverse(d), true)) {
-                            Floor *newfloor = MakeFloor("fl_water_source");
-                            newfloor->setAttr("interval", getAttr("interval"));
-                            SetFloor(p, newfloor);
-                            Item *it = GetItem(p);
-                            if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
-                                KillItem(p);
-                        }
-                    }
+                    tryFlood(move(get_pos(), d), reverse(d));
                 }
             }
+            if (Item *thisItem = GetItem(get_pos())) {
+                std::list<GridPos> results = thisItem->warpSpreadPos(true);
+                for (std::list<GridPos>::iterator itr = results.begin(); itr != results.end(); ++itr)
+                    tryFlood(*itr, NODIR);
+            }
         }
     }
-    
+ 
+    void FloodStream::tryFlood(GridPos p, Direction from) {
+        if (IsInsideLevel(p)) {
+            Floor *f = GetFloor(p);
+            if (f != NULL && f->isKind("fl_floodstream") && 
+                    (f->getAttr("faces").to_string() == "nesw" || f->isKind("fl_water"))) {
+                if (f->isKind("fl_water") && f->getAttr("state") == IDLE) {
+                    init_model();  // make flood visible
+                    Item *it = GetItem(p);
+                    if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
+                        KillItem(p);
+                }
+                f->setAttr("interval", getAttr("interval"));
+                f->setAttr("state", FLOODING);
+            } else if (f != NULL && f->getAttr("floodable").to_bool()) {
+                Stone *st = GetStone(p);
+                if (st == NULL || from == NODIR || st->allowsSpreading(from, true)) {
+                    Floor *newfloor = MakeFloor("fl_water_source");
+                    newfloor->setAttr("interval", getAttr("interval"));
+                    SetFloor(p, newfloor);
+                    Item *it = GetItem(p);
+                    if (it != NULL && (it->isKind("it_crack") || (it->isKind("it_burnable") && !it->isKind("it_burnable_oil"))))
+                        KillItem(p);
+                }
+            }
+        }
+    }
+       
     FloodStream::FloodStreamTyp FloodStream::getTyp() const {
         return (FloodStreamTyp)((objFlags & OBJBIT_SUBTYP) >> 24);
     } 

Modified: trunk/src/floors/FloodStream.hh
===================================================================
--- trunk/src/floors/FloodStream.hh	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/floors/FloodStream.hh	2009-04-16 22:42:28 UTC (rev 1632)
@@ -73,6 +73,7 @@
     
     private:
         // Private methods.
+        void tryFlood(GridPos p, Direction from =NODIR);
         FloodStreamTyp getTyp() const;
     };
 

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items/Crack.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -104,9 +104,11 @@
                 for (Direction d = NORTH; d != NODIR; d = previous(d)) {
                     GridPos p = move(get_pos(), d);
                     if (Floor *fl = GetFloor(p)) {
-                        if (fl->is_destructible()) {
+                        if (fl->is_destructible() && (!(objFlags & OBJBIT_TYP) || !fl->isKind("fl_space"))) {
+                            // crack on every floor besides abyss, water, swamp and no water cracks on space
                             if (Item *it = GetItem(p)) {
-                                if (!(objFlags & OBJBIT_TYP))
+                                // crack neighbor floors if already cracked
+                                if (!(objFlags & OBJBIT_TYP))    // no water crack caused neighbor cracking
                                     SendMessage(it, "crack");
                             } else {
                                 double spreading = getDefaultedAttr("spreading", server::CrackSpreading); 

Modified: trunk/src/items/Vortex.cc
===================================================================
--- trunk/src/items/Vortex.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items/Vortex.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -126,15 +126,41 @@
         else if (state == OPENING) {
             state = OPEN;
             init_model();
+            BroadcastMessage("_checkflood", true, GRID_FLOOR_BIT);
         }
     }
     
-    bool Vortex::actor_hit (Actor *actor) {
+    bool Vortex::covers_floor(ecl::V2 pos, Actor *a) const {
+        if (GridPos(pos) != get_pos())
+            return false;
+        return (length(pos - get_pos().center()) < 0.25);
+    }
+
+    bool Vortex::actor_hit(Actor *actor) {
         if (state == OPEN && (length((actor->get_pos()) - get_pos().center()) < 0.25) && actor->can_be_warped())
-            prepare_for_warp (actor);
+            prepare_for_warp(actor);
         return false;
     }
     
+    std::list<GridPos> Vortex::warpSpreadPos(bool isWater) {
+        std::list<GridPos> results;
+        if (externalState() > 0) { // open -> may spread 
+            ecl::V2 targetpos;
+            int idx = 0;
+            while (getDestinationByIndex(idx++, targetpos)) {
+                GridPos  targetgpos(targetpos);
+                Vortex *v = dynamic_cast<Vortex*>(GetItem(targetgpos));
+                if (v != NULL) {  // Destination is also a vortex
+                    if (v->externalState() == 1)   // opened
+                        results.push_back(targetgpos);
+                } else {
+                        results.push_back(targetgpos);
+                }
+            }
+        }
+        return results;
+    }
+    
     void Vortex::alarm() {
         if (state == WARPING) {
             perform_warp();
@@ -181,7 +207,7 @@
     }
 
     void Vortex::warp_to(const ecl::V2 &target) {
-        client::Msg_Sparkle (target);
+        client::Msg_Sparkle(target);
         if (Actor *actor = dynamic_cast<Actor *>((Object *)getAttr("$grabbed_actor"))) {
             WarpActor(actor, target[0], target[1], false);
             SendMessage(actor, "_appear");

Modified: trunk/src/items/Vortex.hh
===================================================================
--- trunk/src/items/Vortex.hh	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items/Vortex.hh	2009-04-16 22:42:28 UTC (rev 1632)
@@ -60,7 +60,9 @@
         virtual void animcb();
 
         // Item interface
+        virtual bool covers_floor(ecl::V2 pos, Actor *a) const;
         virtual bool actor_hit(Actor*);
+        virtual std::list<GridPos> warpSpreadPos(bool isWater);
 
         // TimeHandler interface
         virtual void alarm();

Modified: trunk/src/items/WormHole.cc
===================================================================
--- trunk/src/items/WormHole.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items/WormHole.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -107,7 +107,7 @@
         ASSERT((state & 4) == 0, XLevelRuntime, "WormHole:: Recursion detected!");
         if ((state & 2) == 0 && near_center_p(actor)) {   // may teleport
             client::Msg_Sparkle (get_pos().center());
-            V2 targetpos;
+            ecl::V2 targetpos;
             if (getDestinationByIndex(0, targetpos)) {
                 sound_event ("warp");
                 double latency = getAttr("interval");
@@ -127,6 +127,14 @@
         return false;
     }
     
+    std::list<GridPos> WormHole::warpSpreadPos(bool isWater) {
+        std::list<GridPos> results;
+        ecl::V2 targetpos;
+        if (getDestinationByIndex(0, targetpos))
+            results.push_back(GridPos(targetpos));
+        return results;
+    }
+    
     void WormHole::add_force(Actor *a, V2 &f) {
         V2 dv = get_pos().center() - a->get_pos_force();
         double squareDist = square(dv);

Modified: trunk/src/items/WormHole.hh
===================================================================
--- trunk/src/items/WormHole.hh	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items/WormHole.hh	2009-04-16 22:42:28 UTC (rev 1632)
@@ -61,6 +61,7 @@
         
         // Item interface
         virtual bool actor_hit(Actor *a);
+        virtual std::list<GridPos> warpSpreadPos(bool isWater);
 
         // ForceField interface
         virtual void add_force(Actor *a, V2 &f);

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -148,5 +148,8 @@
     }
 }
 
-
+    std::list<GridPos> Item::warpSpreadPos(bool isWater) {
+        std::list<GridPos> results;
+        return results;
+    }
 } // namespace enigma

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/items.hh	2009-04-16 22:42:28 UTC (rev 1632)
@@ -245,6 +245,8 @@
 
         /* Called when item is activated by the owner of `a'. */
         virtual ItemAction activate(Actor* a, GridPos p);
+        
+        virtual std::list<GridPos> warpSpreadPos(bool isWater);
     protected:
         virtual Object::ObjectType getObjectType() const {return Object::ITEM;}
         

Modified: trunk/src/stones/Door.cc
===================================================================
--- trunk/src/stones/Door.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/stones/Door.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -107,7 +107,7 @@
     }
     
     bool Door::allowsSpreading(Direction dir, bool isFlood) const {
-        return state != CLOSED || !has_dir(getFaces(), dir);
+        return state != CLOSED || (dir != NODIR ? !has_dir(getFaces(), dir) : (getAttr("flavor").to_string() == "d"));
     }
     
     StoneResponse Door::collision_response(const StoneContact &sc) {

Modified: trunk/src/stones/WindowStone.cc
===================================================================
--- trunk/src/stones/WindowStone.cc	2009-04-15 14:03:39 UTC (rev 1631)
+++ trunk/src/stones/WindowStone.cc	2009-04-16 22:42:28 UTC (rev 1632)
@@ -139,7 +139,7 @@
     }
     
     bool WindowStone::allowsSpreading(Direction dir, bool isFlood) const {
-        return !has_dir(getFaces(), dir);
+        return (dir != NODIR) ? !has_dir(getFaces(), dir) : true;
     }
     
     void WindowStone::actor_hit(const StoneContact &sc) {



From ral at mail.berlios.de  Fri Apr 17 00:56:00 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Fri, 17 Apr 2009 00:56:00 +0200
Subject: [Enigma-game-svn] r1633 - team_levelpacks/team_test_new_api
Message-ID: <200904162256.n3GMu0ju032114@sheep.berlios.de>

Author: ral
Date: 2009-04-17 00:55:42 +0200 (Fri, 17 Apr 2009)
New Revision: 1633

Modified:
   team_levelpacks/team_test_new_api/ralT031_1.xml
   team_levelpacks/team_test_new_api/ralT034_1.xml
   team_levelpacks/team_test_new_api/ralT055_1.xml
   team_levelpacks/team_test_new_api/ralT072_1.xml
   team_levelpacks/team_test_new_api/ralT077_1.xml
   team_levelpacks/team_test_new_api/raoulT05_1.xml
Log:
Test Level new API:
- updates for bottle text, interval (Test Weigth ...)
- updates for solid closed vortex  (Test Strips...)
- updates for water jumping (Test Wood ...)
- updates of Flood test level for vortex, wormhole


Modified: team_levelpacks/team_test_new_api/ralT031_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT031_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/ralT031_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -61,12 +61,12 @@
 ti["X"] = ti[" "] .. {"it_wormhole", destination="triggerA", range=1}
 
 ti["1"] = (ti[" "] .. {"#ac_marble"}) .. {"it_ring"}
-ti["2"] = ti[" "] .. {"#ac_pearl", owner=DEFAULT, controllers=0}
+ti["2"] = ti[" "] .. {"#ac_pearl", owner=DEFAULT, controllers=2}
 
-ti["3"] = (ti[" "]  .. {"#ac_pearl", controllers=0})
+ti["3"] = (ti[" "]  .. {"#ac_pearl", owner=DEFAULT, controllers=0})
                 .. {"it_trigger", target={"laserh","laserhon"}, action={"toggle", "on"}}
 ti["4"] = (ti[" "]  .. {"it_trigger", target={"laserj","laserjon"}, action={"toggle", "on"}})
-                .. {"#ac_pearl", controllers=0}
+                .. {"#ac_pearl", owner=DEFAULT, controllers=0}
 ti["5"] = (ti[" "]  .. {"it_trigger", target={"laserl","laserlon"}, action={"toggle", "on"}})
                 .. {"st_box"}
 ti["6"] = (ti[" "]  .. {"it_trigger", "killtrigger", target="killstone"})

Modified: team_levelpacks/team_test_new_api/ralT034_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT034_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/ralT034_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -86,7 +86,7 @@
 })
 
 function icefloor(value, sender)
-    wo[no["mybug"]] = {"fl-ice"}
+    wo[no["mybug"]] = {"fl_ice"}
 end
 
 function rmfloor(value, sender)

Modified: team_levelpacks/team_test_new_api/ralT055_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT055_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/ralT055_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -16,12 +16,14 @@
     </el:info>
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
+wo["WaterSinkTime"] = 2
 
 ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
 ti["."] = {"fl_abyss"}
 
 ti[","] = {"it_seed"}
+ti["*"] = {"it_springboard"} .. ti["~"]
 
 
 ti["w"] = {"st_box_wood"}
@@ -52,20 +54,20 @@
 ti["J"] = {"st_switch", target="push"}
 
 ti["1"] = {"#ac_marble"} 
+ti["c"] = {"it_cherry"}
 
-
 w, h = wo(ti, " ", {
 " h ~~~ h  ,,   h .  ",
 " w ~~~ w       w .  ",
 " b ~~~ b 1     b .  ",
 " f ~~~ f       f .  ",
 " p ~~~ p       p .  ",
-" r ~~~ r       r .  ",
+" r *~~ r       r .  ",
 " s ~~H              ",
 "   ~~W         Sh   ",
-"   ~~B         Sw   ",
-"   ~~F         Sb   ",
-"   ~~P         Sf   ",
+"   ~~B    c    Sw   ",
+"   ~~F    c    Sb   ",
+"   ~~P    c    Sf   ",
 "   ~~R         Sp   ",
 "               Sr   ",
 " ~~~~  v V          ",

Modified: team_levelpacks/team_test_new_api/ralT072_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT072_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/ralT072_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -40,6 +40,20 @@
 ti["x"] = {"st_grate"} .. ti["."]
 ti["^"] = {"st_oneway_n"} .. ti["."]
 
+ti["W"] = {"it_wormhole", destination="wdest", range=1} .. ti["."]
+ti[";"] = {"fl_sand", "wdest", floodable=true} .. ti["b"]
+
+ti["V"] = {"it_vortex_closed", "vortex", destination={"vdest1", "vdest2", "vdest3"}} .. ti["."]
+ti["v"] = {"st_switch", target="vortex"}
+
+ti["U"] = {"it_vortex_closed", "vdest1"} .. ti["."]
+ti["u"] = {"st_switch", target="vdest1"}
+
+ti["T"] = {"it_vortex_closed", "vdest2"} .. ti["."]
+ti["t"] = {"st_switch", target="vdest2"}
+
+ti["X"] = {"fl_sand", "vdest3", floodable=true}
+
 ti["@"] = {"#ac_marble"} 
 
 w, h = wo(ti, " ", {
@@ -63,8 +77,16 @@
 "                  . ",
 "            ....x.. ",
 "            ...     ",
-"        ~~~~~~~     ",
-"  ......~~~~~~~     "
+"        ~~~~~~~  ...",
+"....W.-.~~~~~~~  ;..",
+".                   ",
+".                   ",
+".                   ",
+"Vv                  ",
+"                    ",
+"..Uu  ..Tt  ..X     ",
+"...   ...   ...     ",
+"...   ...   ...     "
 })
 
 

Modified: team_levelpacks/team_test_new_api/ralT077_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT077_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/ralT077_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -45,6 +45,8 @@
 ti["P"] = {"it_bag", "pinbag"}
 
 ti["d"] = {"it_bottle"}
+ti["D"] = {"it_bottle", interval=10}
+ti["m"] = {"it_bottle", text="Flaschenpost"}
 
 
 w, h = wo(ti, " ", {
@@ -60,7 +62,7 @@
 "p                   ",
 "p                ddd",
 "       .......   ddd",
-"P      .......      "
+"P   m  .......    D "
 })
 
 function vary(value, sender)

Modified: team_levelpacks/team_test_new_api/raoulT05_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT05_1.xml	2009-04-16 22:42:28 UTC (rev 1632)
+++ team_levelpacks/team_test_new_api/raoulT05_1.xml	2009-04-16 22:55:42 UTC (rev 1633)
@@ -47,6 +47,7 @@
 
 ti["w"] = {"st_box"}
 ti["v"] = {"st_flat_movable"}
+ti["V"] = {"it_vortex", state=CLOSED}
 
 ti["A"] = {"#ac_marble"} .. ti["a"]
 
@@ -55,7 +56,7 @@
 "j c   wcw   vcv  wAw",
 "jdqb wdqbw vdqbv www",
 "j e   wew   vev    j",
-"j    wwwww vvvvv   j",
+"j    wwwww vvvvv V j",
 "jhgf whgfw vhgfv   j",
 "jjaj wjajw vjajv   j",
 "jkgi wkgiw vkgiv   j",



From ral at mail.berlios.de  Fri Apr 17 23:05:10 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Fri, 17 Apr 2009 23:05:10 +0200
Subject: [Enigma-game-svn] r1634 - trunk/doc/reference
Message-ID: <200904172105.n3HL5Aob007020@sheep.berlios.de>

Author: ral
Date: 2009-04-17 23:05:02 +0200 (Fri, 17 Apr 2009)
New Revision: 1634

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- 13.3.2. Flood Spreading as of r1332
- 7.2. Floor Attributes(all but fire, freeze)
- some fix and improvements


Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-16 22:55:42 UTC (rev 1633)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-17 21:05:02 UTC (rev 1634)
@@ -6039,8 +6039,8 @@
 is a floor with an @ref{it_crack} on top, continues to desintegrate on events 
 like an actor entering, passing a neighboring @ref{it_crack}, nearby explosions
 or fire heating. A value of @code{1.0} ensures that the crack continues to 
-desintegrates on these events, a value of @code{0.0} prohibits visible cracks
-to get larger. This default is superceeded by @ref{fragility (Floor)} and
+desintegrate on these events, a value of @code{0.0} prohibits visible cracks
+to get larger. This default is superceeded by @ref{fragility (floor)} and
 @ref{it_crack} specific values.
 
 @table @asis
@@ -6333,22 +6333,23 @@
 
 @menu
 * adhesion (floor)::        Effectiveness of mousemotion
-* burnable::
-* eternal::                 
+* burnable::                -
+* eternal::                 -
 * faces (floor)::           Framing Configuration
-* fastfire::
+* fastfire::                -
 * floodable::               Flood Affinity
-* force_x::
-* force_y::
-* fragility::
-* freeze_check::
+* force_x::                 Constant Force
+* force_y::                 Constant Force
+* fragility (floor)::       Crack 
+* freeze_check::            -
 * friction (floor)::        Decelerating friction force factor
-* ignitable::
-* indestructible::          
-* initfire::
-* noash::
-* push_directions::
-* secure::                  
+* ignitable::               -
+* indestructible::          System Flag for destruction resistence 
+* initfire::                -
+* noash::                   -
+* push_directions::         Puzzle Shuffle Hint
+* secure::                  -
+* texture::                 Graphical Image Texture
 @end menu
 
 
@@ -6368,6 +6369,32 @@
 @item @b{Access:} @ @ read/write
 @end table
 
+ at c ----------------- burnable --------------------
+ at node burnable
+ at subsection burnable
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- eternal --------------------
+ at node eternal
+ at subsection eternal
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
 @c ----------------- faces (floor) --------------------
 @node faces (floor)
 @subsection faces (floor)
@@ -6386,12 +6413,25 @@
 @item @b{Access:} @ @ none - with a few exceptions
 @end table
 
+ at c ----------------- fastfire --------------------
+ at node fastfire
+ at subsection fastfire
+
+ at xref{Flood Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
 @c ----------------- floodable --------------------
 @node floodable
 @subsection floodable
 
 Determines whether a floor can be flooded by @ref{fl_water} from a neighboring
-floor.
+floor. @xref{Flood Spreading} for details.
 
 @table @asis
 @item @b{Type:} @ @ boolean
@@ -6400,6 +6440,66 @@
 @item @b{Access:} @ @ read/write
 @end table
 
+ at c ----------------- force_x --------------------
+ at node force_x
+ at subsection force_x
+
+A constant floor specific force into east direction applied additionally to all
+other forces to all actors on the floor.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float number
+ at item @b{Default:} @ @ @code{0.0}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- force_y --------------------
+ at node force_y
+ at subsection force_y
+
+A constant floor specific force into south direction applied additionally to all
+other forces to all actors on the floor.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float number
+ at item @b{Default:} @ @ @code{0.0}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- fragility (floor) --------------------
+ at node fragility (floor)
+ at subsection fragility (floor)
+
+A value denoting the probability that a brittle floor plate, that is a floor
+with an @ref{it_crack} on top, continues to desintegrate on events like an actor
+entering, passing a neighboring @ref{it_crack}, nearby explosions or fire 
+heating. A value of @code{1.0} ensures that the crack continues to desintegrate
+on these events, a value of @code{0.0} prohibits visible cracks to get larger.
+This value is defaulted by @ref{Fragility} and superceeded by @ref{it_crack}
+specific values.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ float numbers between @code{0.0} and @code{1.0}
+ at item @b{Default:} @ @ @code{1.0}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- freeze_check --------------------
+ at node freeze_check
+ at subsection freeze_check
+
+ at xref{Freeze Checking} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
 @c ----------------- friction (floor) --------------------
 @node friction (floor)
 @subsection friction (floor)
@@ -6413,6 +6513,106 @@
 @item @b{Access:} @ @ read/write
 @end table
 
+ at c ----------------- ignitable --------------------
+ at node ignitable
+ at subsection ignitable
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- indestructible --------------------
+ at node indestructible
+ at subsection indestructible
+
+Most floors can dissolve to @ref{fl_abyss} or @ref{fl_water} on destruction
+by explosions, fire, @ref{ot_cannonball} hits, @ref{it_crack}, @ref{it_trap},
+etc. But a few like @ref{fl_abyss}, @ref{fl_water} and @ref{fl_swamp} are
+indestrctible by all these events.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ none
+ at end table
+
+ at c ----------------- initfire --------------------
+ at node initfire
+ at subsection initfire
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- noash --------------------
+ at node noash
+ at subsection noash
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- push_directions --------------------
+ at node push_directions
+ at subsection push_directions
+
+A hint for the resolver @ref{res.puzzle} for shuffling of a puzzle. A floor
+marked with this attribute guarantees that an adjacent puzzle row or column
+can be push rotated into the listed directions by the user.
+
+ at table @asis
+ at item @b{Type:} @ @ string or nil
+ at item @b{Values:} @ @ @code{nil}, @code{"nesw"}
+ at item @b{Default:} @ @ @code{nil}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- secure --------------------
+ at node secure
+ at subsection secure
+
+ at xref{Fire Spreading} for details.
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- texture --------------------
+ at node texture
+ at subsection texture
+
+Many floors do provide several textures - graphical image variations that are
+without any influence on the physical engine. Most floors do select a random
+texture in their default variant. Thiss generates areas without unintended
+optical effects. But on some floors you can select the textures by means
+of variant kind names to create your own graphical floor layout.
+
+ at table @asis
+ at item @b{Type:} @ @ integer number or string
+ at item @b{Values:} @ @ integer number or string
+ at item @b{Default:} @ @ @code{1}
+ at item @b{Access:} @ @ currently none - just by variants kind string on some floors
+ at end table
+
 @c ----------------- Standard Floor --------------------
 @node Standard Floors
 @section Standard Floors
@@ -7524,8 +7724,8 @@
 not automatically assign the proper @samp{slope}.
 
 @item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{25.0} @ @ @xref{SlopeStrength}
- at item @b{force_x} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0}
- at item @b{force_y} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0}
+ at item @b{force_x} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0} @ @ @xref{force_x}
+ at item @b{force_y} @ @ @i{values}: float number; @ @ @i{default}: @code{0.0} @ @ @xref{force_y}
 @item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
 @item @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 4.0 @ @ @xref{friction}
 
@@ -7642,10 +7842,10 @@
 @obindex fl_water
 
 Besides @ref{fl_abyss} water is the second natural floor barrier for ball like
-actors as they can not easily pass it. 
+actors, as they can not easily pass it. 
 
- at ref{ac_marble} and @ref{ac_pearl} will sink in water, usually at once, but the 
-time amount can be configured by the global attribute @ref{WaterSinkTime}. 
+Both, @ref{ac_marble} and @ref{ac_pearl}, will sink in water, usually at once, 
+but the time amount can be configured by the global attribute @ref{WaterSinkTime}. 
 Unlike @ref{fl_swamp} water does not raise fast moving actors. But jumping 
 within water raises an actor. Jumping completely over a water chasm is of course
 a more standard way to cross it. Actors protected by an activated 
@@ -7655,37 +7855,24 @@
 actors can move and pass the former water filled grid.
 
 Water itself is indestructible to the aspect that @ref{it_crack} will not spread
-onto it. But fire starting to burn nearby will dry out the water to
+onto it. But a fire starting to burn nearby will dry out the water to
 @ref{fl_swamp}.
 
 The standard water is static, its @samp{state} is @samp{IDLE}. It will not 
 spread to adjacent floors. But you can set up flood streams that will fill areas
 or flow through given paths. You just need to define the area by setting the 
-attribute @samp{floodable} to @samp{true} on the affected floors. As soon as you
-add a @samp{fl_water_source} or set the @samp{state} to @samp{FLOODING}, the
-water starts to spread to floodable neigboring grids with a speed defined by the
-attribute @samp{interval}. The speed will be inherited to floors flooded by
-a stream.
+attribute @samp{floodable} to @samp{true} on the affected floors. But static
+water lakes do not require an additional @samp{floodable} attribute, as they
+are floodable by default.
 
-Floodable floors with solid stones, closed doors or @ref{st_window} with 
-blocking faces on top will keep the flood from spreading to a new grid. But as
-soon as the obstacle vanishes, e.g. an @ref{st_door} opens, the flood continues
-to spread. Hollow stones, especially @ref{st_oneway} do not block flood streams,
-totally independent of actor blocking features on certain typs or faces.
+As soon as you add a @samp{fl_water_source} or set the @samp{state} to 
+ at samp{FLOODING}, the water starts to spread to floodable neigboring grids with
+a speed defined by the attribute @samp{interval}. The speed will be inherited to
+floors flooded by a stream.
 
-Of special interest are the @ref{st_box} and their successor floors, the framed
-variants of @ref{fl_wood}, @ref{fl_hay} and @ref{fl_rock}. A flood will flow
-beneath a box stone, if the floor benath is floodable. In consequence of the
-upcoming water, the box stone will fall and build a framed floor of the given
-kind. These floors act like bridges over flooding water. They still let the
-flood spread to further neighboring floodable floors. Thus a user can not stop
-a flood by pushing an @ref{st_box} onto its path, but he can make the water
-passable for his marbles.
+As a flood can be influenced by many obstacles and may sink some stones itself,
+you will find a complete discussion in the section @ref{Flood Spreading}.
 
-When a flood stream spreads to a new floor items on these floors may be affected.
- at ref{it_crack} get flooded and do vanish. All @ref{it_burnable} besides oil gets
-wiped out, too.
-
 @table @asis
 @item @b{Attributes:}
 @table @asis
@@ -7969,8 +8156,8 @@
 @item @b{Variants:}
 @table @asis
 @item @b{it_bomb}: color = @code{BLACK}
- at item @b{it_bomb_black}: state = @code{BLACK}
- at item @b{it_bomb_white}: state = @code{WHITE}
+ at item @b{it_bomb_black}: color = @code{BLACK}
+ at item @b{it_bomb_white}: color = @code{WHITE}
 @end table
 
 @end table
@@ -9872,27 +10059,27 @@
 @subsection it_vortex
 @obindex it_vortex
 
-Teleports marbles to a given @samp{destination}. Unlike @ref{it_wormhole} it
-does not teleport other actors.
+Teleports @ref{ac_marble} and @ref{ac_pearl} to a given @samp{destination}. 
+Unlike @ref{it_wormhole} it does not teleport other @ref{Actors}.
 
 In the simplest case, a vortex is connected to a single destination given by
 an object or a position. If the destination is not blocked by a stone the
-marble will be teleported to the destination.
+actor will be teleported to the destination.
 
-If there multiple destination addresses are given, the marble will be teleported
+If multiple destination addresses are given, the actor will be teleported
 to the single destinations in sequence. Blocked destinations are indicated by
-sparkles. Finally the marble exists on the first unblocked destination. If no
-unblocked destination exists the marble exists on the starting vortex. A level
+sparkles. Finally the actor exists on the first unblocked destination. If no
+unblocked destination exists the marble exists at the starting vortex. A level
 author can write nice puzzle which require the user to block destinations to
 reach the final destination of a vortex.
 
-Vortices can be open or closed. Of course a marble can enter just an open
-vortex. Closed vortices at the destination are opened automatically. By default
-such vortices remain open. By usage of the attribute @samp{autoclose} you can
-configure a vortex to close after a marble has been emitted.
+Vortices can be @samp{OPEN} or @samp{CLOSED}. Of course an actor can enter just
+an open vortex. Closed vortices at the destination are opened automatically. 
+By default such vortices remain open. By usage of the attribute @samp{autoclose}
+you can configure a vortex to close after an actor has been emitted.
 
-Marbles are emitted by vortices in a jumping fashion. The user can accelerate
-the marble for a short period and the marble may jump out of a vortex into a
+Actors are emitted by vortices in a jumping fashion. The user can accelerate
+the actor for a short period and the actor may jump out of a vortex into the
 desired direction.
 
 Vortex teleportation take a short amount of time and the involved vortices are
@@ -9902,10 +10089,17 @@
 Rubberbands bound to teleported actors are cut by default. The attribute
 @samp{scissor} allows you to control the cutting behaviour.
 
+But the teleporting feature of a vortices is not limited to actors. A water
+flood will spread through a vortex, too. In contrast to actors the flood will
+spread to all destinations at the same time. Of course a closed vortex on
+either side of the teleportation will block a flood from spreading. But the
+flood continues as soon as the vortices are opened again. Destinations will
+not be blocked by stones for a flood penetrating the grid from beneath, but
+may block the water from spreading further from the destination grid positions.
+All important details are explained in section @ref{Flood Spreading}.
 
 @table @asis
 @item @b{Attributes:}
-
 @table @asis
 @item @b{state}, @ @ @i{values}: @code{OPEN}, @code{CLOSED}; @ @ @i{default}: @code{OPEN} @ @ @xref{state}
 The visual state of a vortex. An @samp{OPEN} vortex may still be busy due
@@ -9919,9 +10113,9 @@
 
 @item @b{scissor}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
 Rubberband cutting behaviour on teleporting.
+ at end table
 
 @item @b{Messages:}
-
 @table @asis
 @item @b{signal} @ @ @xref{signal}
 Opens the vortex on value @samp{1}, and closes the vortex on value @samp{0}.
@@ -9933,28 +10127,22 @@
 Tries to close the vortex.
 @end table
 
- at item @b{Action:}
-none
+ at item @b{Action:} none
 
 @item @b{Variants:}
 @table @asis
- at item @b{it_vortex}
-A vortex in state @samp{OPEN}.
- at item @b{it_vortex_open}
-A vortex in state @samp{OPEN}.
- at item @b{it_vortex_closed}
-A vortex in state @samp{CLOSED}.
+ at item @b{it_vortex}:  state = @code{OPEN}.
+ at item @b{it_vortex_open}: state = @code{OPEN}.
+ at item @b{it_vortex_closed}: state @samp{CLOSED}.
 @end table
-
 @end table
- at end table
 
 @c ----------------- Wormhole Item --------------------
 @node it_wormhole
 @subsection it_wormhole
 @obindex it_wormhole
 
-Teleports actors of any kind to a given @samp{destination}. Unlike
+Teleports @ref{Actors} of any kind to a given @samp{destination}. Unlike
 @ref{it_vortex} every wormhole has a unique destination. But of course the
 destination may be another wormhole which instantly teleports the actor again.
 An infinite circle of wormholes that are connected by destinations is forbidden.
@@ -9973,10 +10161,14 @@
 actors travelling through a wormhole and avoids overlapping actors at the
 destination.
 
+But the teleporting feature of a wormhole is not limited to actors. A water
+flood will spread through a wormhole, too. Of course all actor related
+attributes described above have no influence on the flood. Just the 
+ at samp{destination} is important as explained in details in @ref{Flood Spreading}.
+
 @table @asis
 
 @item @b{Attributes:}
-
 @table @asis
 @item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
 The current force state - @samp{ON} for a force applying wormholes, @samp{OFF}
@@ -9995,7 +10187,6 @@
 @end table
 
 @item @b{Messages:}
-
 @table @asis
 @item @b{signal} @ @ @xref{signal}
 A signal of value 1 switches the wormhole force on, a value of 0 switches the
@@ -10008,19 +10199,14 @@
 Switches the wormhole off.
 @end table
 
- at item @b{Action:}
-none
+ at item @b{Action:} none
 
 @item @b{Variants:}
 @table @asis
- at item @b{it_wormhole}
-A wormhole in state @samp{OFF}.
- at item @b{it_wormhole_on}
-A wormhole in state @samp{ON}.
- at item @b{it_wormhole_off}
-A wormhole in state @samp{OFF}.
+ at item @b{it_wormhole}: state = @code{OFF}.
+ at item @b{it_wormhole_on}: state = @code{ON}.
+ at item @b{it_wormhole_off}: state @code{OFF}.
 @end table
-
 @end table
 
 
@@ -14051,6 +14237,8 @@
 Window face rearrangements can also be initiated by an @ref{it_puller} dropped
 within the window and by the message @samp{inner_pull}.
 
+Windows do support @ref{Flood Spreading} and @ref{Fire Spreading} through open
+faces.
 
 @table @asis
 @item @b{Attributes:}
@@ -16791,7 +16979,7 @@
 @menu
 * World Advanced Methods::  Additional features provided by the world
 * Resolvers::               Standard tools for interpretation of tile maps
-* General Features::        Special features by various objects
+* General Features::        Special features like scrolling, flood, fire,...
 * Tips and Tricks::         Simple patterns that are valuable like a feature
 @end menu
 
@@ -17258,10 +17446,11 @@
 @item @i{prefixrule} = @{@i{prefix}, @i{template}@}
 A table with two entries. First a prefix string that is common to all tile
 keys that should be handeled followed by key string of the template tile.
- at item @i{rangerule} = @{@i{first}, @i{last}, @i{template}@}
-A table with three entries. A string with the first key to be handled, followed
-by a string with the last key to be handled. The third value is the key string
-of the template tile.
+ at item @i{rangerule} = @{@i{first}, @i{last}, @i{template}@ [, @i{offset}]@}
+A table with at least three entries. A string with the first key to be handled,
+followed by a string with the last key to be handled. The third value is the key
+string of the template tile. An optional fourth value, that defaults to @code{1},
+defines the number of the first key on @samp{%%} pattern substitutions.
 @end table
 
 @item @b{Syntax Samples:}
@@ -17284,9 +17473,10 @@
 the given first and last keys may just differ in the last character. Again a
 copy of the template rule will be generated and the @samp{%%} patterns will be
 substituted. But in this case the substitution is composed of a single percent
-sign followed by an integer number that counts the key position within the
-given range. Thus a key of @samp{c} will target the door @samp{door%3}.
-You need to use the key @samp{C} in the map for the matching door.
+sign followed by an integer number, that counts the key position within the
+given range, starting with the given offset or default @code{1}. Thus a key of 
+ at samp{c} in the syntax sampe above will target the door @samp{door%3}. You 
+would need to use the key @samp{C} in the map for the matching door.
 
 The template tile definitions can well be composed of several concatenated
 tiles even with references of base tiles. The pattern substitution takes place
@@ -17610,7 +17800,7 @@
 If you set the @samp{algorithm} on any of the puzzle stones to the value
 @code{"marked"} the resolver registers that the user has no free access, but
 just from positions that you did mark. You do mark a position by setting
-the attribute @samp{"push_directions"} on a floor. All floors adajacent to
+the attribute @ref{push_directions} on a floor. All floors adajacent to
 outer puzzle stones from which a user can push rotate a puzzle will be checked
 for this attribute. If its string value, a substring of @code{"nesw"}, contains
 the character of the required push direction this push event will take part
@@ -17763,7 +17953,7 @@
 
 @menu
 * Display Follow Strategy::    How the display view follows the active marble
-* Flood Spreading::
+* Flood Spreading::            How a water flood spreads over a given area
 * Fire Spreading::
 * Freeze Checking::
 @end menu
@@ -17884,7 +18074,76 @@
 
 @node Flood Spreading
 @subsection Flood Spreading
+ at cindex flood
 
+A flood is active @ref{fl_water} that, originating from a source, spreads over
+ at ref{floodable} areas. In contrast to a flood standard water is just static, 
+its @samp{state} is @samp{IDLE} and it will not spread to adjacent floors. But
+a flood reaching a static water lake will cross it as a tsunami and continue
+actively spreading on all riparian zones.
+
+You set up the area by adding the attribute @ref{floodable} with value 
+ at code{true} on all its floors. Just @ref{fl_water} and the framed variants of
+ at ref{fl_wood}, @ref{fl_hay} and @ref{fl_rock} do not require to be explicitly 
+marked floodable as they are floodable by default. The marked area is the 
+maximum area that may be flooded. But obstacles may block the flood temporarily
+or permantently.
+
+A flood starts at a source.  As soon as you add a @samp{fl_water_source} or set
+the @samp{state} to @samp{FLOODING}, the @ref{fl_water} starts to spread to
+floodable neighboring grids with a speed defined by the attribute
+ at samp{interval}. The speed will be inherited to floors flooded by the stream.
+
+Floodable floors with solid stones, closed doors or @ref{st_window} with 
+blocking faces on top will keep the flood from spreading to their grid position
+or if already flooded to spread to a neighboring grid. But as soon as the
+obstacle vanishes, e.g. an @ref{st_door} opens, the flood continues to spread.
+Hollow stones, especially @ref{st_oneway} do not block flood streams, totally
+independent of actor blocking features on certain types or faces.
+
+Of special interest are the @ref{st_box} variants and their successor floors,
+the framed variants of @ref{fl_wood}, @ref{fl_hay} and @ref{fl_rock}. A flood
+will flow beneath a box stone, if the floor benath is floodable. In consequence
+of the upcoming water, the box stone will fall and build a framed floor of the 
+given kind. These floors act like bridges over flooding water. They still let 
+the flood spread to further neighboring floodable floors. Thus a user can not
+stop a flood by pushing an @ref{st_box} onto its path, but he can make the water
+passable for his marbles. In fact this framed floors can even operate as a flood
+source, but we do not recommend this usage.
+
+In contrast to these floor building stones the @ref{st_puzzle} does neither
+fall on static nor on flooding @ref{fl_water}. As a solid stone it will even 
+block a flood on neighboring grids to reach its position. But of course once
+moved completly over @ref{fl_water} the puzzle will fall if its own conditions
+are met. The successor @ref{fl_gray} will not build a bridge over water. It
+fills up the ditch and replaces the water completly. Thus the user can use 
+puzzles to stop a flood.
+
+When a flood stream spreads to a new floor items on these floors may be affected.
+E.g. @ref{it_crack} get flooded and do vanish. All @ref{it_burnable} besides oil
+get wiped out, too.
+
+Further active components of the flood concept are @ref{it_vortex} and
+ at ref{it_wormhole}. Besides actors both do spread a flood. The @ref{it_wormhole}
+speads the flood to its @samp{destination} if the floor at this grid is marked
+ at samp{floodable}. An @ref{it_vortex} will flood all its @samp{destination}s,
+but of course just if it is in state @samp{OPEN}. In case the destinations are
+vortices, too, they must be open, too, for a successful flood spreading. When the
+last closed vortex on either end opens again the hold flood continues to spread.
+Note that in these cases the flood reaches the destination grid from beneath. 
+Thus no stone will block the emerging water. But nevertheless a stone on the 
+destination position may well block the water from spreading to the neighboring
+grids.
+
+Be aware that the Enigma flood has some extraordinary features. The most
+important is the ability to spread unlimitedly from every grid that got flooded,
+independently of a still existing connection to the flood source. Thus once a
+door is opened and a bit of the flood passes the door, the flood will continue
+to spread even if the door closes again. Same is true for toggling vortices or
+puzzle stones being pushed into a flood building a complete bridge over the 
+water stream. But this feature is intentionally, as it avoids many shortcut
+situations and thus makes the flood more usable for level authors.
+
 @node Fire Spreading
 @subsection Fire Spreading
 



From ged at mail.berlios.de  Sat Apr 18 16:12:51 2009
From: ged at mail.berlios.de (ged at mail.berlios.de)
Date: Sat, 18 Apr 2009 16:12:51 +0200
Subject: [Enigma-game-svn] r1635 - feature_branches/hp_lotm/input/lotm
Message-ID: <200904181412.n3IECpnn015362@sheep.berlios.de>

Author: ged
Date: 2009-04-18 16:12:46 +0200 (Sat, 18 Apr 2009)
New Revision: 1635

Added:
   feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html
Modified:
   feature_branches/hp_lotm/input/lotm/lotm_200904.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
Log:
Homepage:
- Russian translation for April's LotM by Ludmian
- Some fixes for misprints at English version of LotM


Modified: feature_branches/hp_lotm/input/lotm/lotm_200904.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-17 21:05:02 UTC (rev 1634)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-18 14:12:46 UTC (rev 1635)
@@ -333,7 +333,7 @@
 <i>Ludmian Sedai</i>
 </p>
 
-<p>Okay, and now &mdash; last but not least &mdash; the time has come to comply with Henry Blackball's request which he had uttered earlier on in his acount and to <i>give proof</i> to him - all our regular readers certainly will not have questioned the fact - that there is more than just a grain of truth in the book by William Whiteball, and that <i>Jacob, the Builder</i>, of course really exists! Some days ago we received some words by him in which he describes further details about the construction of this masterpiece, which &mdash; not too surprisingly &mdash; sound a bit different from Henry's tale.</p>
+<p>Okay, and now &mdash; last but not least &mdash; the time has come to comply with Henry Blackball's request which he had uttered earlier on in his account and to <i>give proof</i> to him - all our regular readers certainly will not have questioned the fact - that there is more than just a grain of truth in the book by William Whiteball, and that <i>Jacob, the Builder</i>, of course really exists! Some days ago we received some words by him in which he describes further details about the construction of this masterpiece, which &mdash; not too surprisingly &mdash; sound a bit different from Henry's tale.</p>
 
 <p>But very much to our surprise, <i>Jacob the Builder</i> seems to have met Henry Blackball at a later time somewhere on his journeys through the worlds of Enigma (probably in one of his own creations), at least the final sentence of his reflection on <i>Elegance</i> &mdash; which can be found on the <i>Yang</i> side &mdash; leads us to assume so.</p>
 

Added: feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html	2009-04-17 21:05:02 UTC (rev 1634)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html	2009-04-18 14:12:46 UTC (rev 1635)
@@ -0,0 +1,415 @@
+<div class="lotm">
+$$lotm_header$$
+
+<h3 class="lotm">
+    <span class="date">?????? 2009: </span>
+    &quot;Plan Ahead&quot; ?? Jacob Scott
+</h3>
+
+<hr>
+<table>
+<tr><td>
+?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????: 
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="????????? ?????? ???-???" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<p>? ???? ?????? ?? ???????????? ??? ??? ???? ???????, ????????? ?????? ???????
+&hellip; ?? ????, ?????? ???????. ???? ????? ???? ???????? ?? ?????? ????? ???????
+? Enigma, ??, ??? ?? ??? ????? (??. ?? 7/2008), ? ? ???? ???????. ?? ??????? ?????
+???????????? ?????? ? ????? ??????????? ?????????, ??? ????????? ?? ???????? ????
+??? ?????? ???????????, ???????? ?? ???? ?????? ????????? (??. ?? 7/2007), ? ??????
+???????, ??? ?? ????????? ?????? ????????-???? ???????????. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_e.png" alt="??????? ??????" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">????????? ??????? ??????? 2009 (????? ???)</caption>
+<colgroup>
+    <col width="80">
+    <col width="160">
+</colgroup>
+    <tr><td class="num">0:51</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">0:55</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">0:58</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">1:14</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">1:16</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">1:23</td>
+        <td class="left">Mentist</td></tr>
+    <tr><td class="num">1:25</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">1:27</td>
+        <td class="left">B-Huff</td></tr>
+    <tr><td class="num">1:35</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">1:36</td>
+        <td class="left">Gloop+Ronald</td></tr>
+    <tr><td class="num">1:38</td>
+        <td class="left">Lukas</td></tr>
+    <tr><td class="num">1:45</td>
+        <td class="left">Dime+Malla</td></tr>
+    <tr><td class="num">1:46</td>
+        <td class="left">Raoul</td></tr>
+    <tr><td class="num">1:50</td>
+        <td class="left">U-Punkt+mecke</td></tr>
+    <tr><td class="num">1:51</td>
+        <td class="left">Ludmian</td></tr>
+    <tr><td class="num">1:56</td>
+        <td class="left">Taztunes+ABS</td></tr>
+    <tr><td class="num">1:58</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">2:02</td>
+        <td class="left">Ale+Craven</td></tr>
+    <tr><td class="num">2:04</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">2:20</td>
+        <td class="left">Mark P.</td></tr>
+    <tr><td class="num">2:26</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">2:44</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">2:45</td>
+        <td class="left">Tobias</td></tr>
+    <tr><td class="num">2:51</td>
+        <td class="left">Hans-HD</td></tr>
+    <tr><td class="num">2:59</td>
+        <td class="left">shoki</td></tr>
+    <tr><td class="num">3:08</td>
+        <td class="left">Freshman</td></tr>
+    <tr><td class="num">3:25</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">3:29</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">3:52</td>
+        <td class="left">alain</td></tr>
+    <tr><td class="num">4:48</td>
+        <td class="left">H-J.Epting</td></tr>
+    <tr><td class="num">5:02</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">6:51</td>
+        <td class="left">AlephD</td></tr>
+</table>
+
+<p>?? ?????? ??????, ??????? ?? ???? ? ???????????, ?? ????, ??? ?????????? ?
+????????? ??????. ??? ????????, ??? ???????? ?????? ? ???????? ?????? ???,
+????? ??? ?? ???????????? ? ???? ???????? ???????, ??????????? ??????????.
+?? ????? ?? ????????: ????? ?????? ???-?? ?????? ?????, ???? ?? ?????
+???????????? ????????? ?????????? ?? ?????? ???, ?? ????????, ???? ????? ???
+??????????, ????????? ??????? ???????? </p>
+
+<p>????????? ??, ??????? ??, ????? ? ???? ????? ?????????. ??, ?? ?????, ???? ??????
+????? ?????????, ??????????? ???????????????, ??????????? ? ??????? ?????????? ?????,
+??? ????? ?????? ?????, ?????? ?? ??? ????? ????. ?? ???? ???????? ??? ??? ?????. ?
+????? ? ?????? ????? 1.0 ?? ??????? ????? &quot;??????? ??????? ??????? ? ??????
+???????????&quot; , ??????? ????????? ????? ????????????, ?? ??? ????? ?????? ?????
+???????????. ??? ?????????? ???????????? ?????? ??????? ??????? ??????? ? ????.
+?????? ????? ?????? ????? ?? ??????? ????? ? ?????????, ??????? ??? ?????? ????? ???
+?????, ? ????? ???? ???????, ?????????? ???? ????????, ? ?????????? ? ???? ??????
+??????????? ? ??? ?????. ??? ?????????? ???????? ????? ??????? ???, ????????,
+??????????, ?????? ??? ????? ?? ?????. ?????? ?? ???????? ? ? ?????? ???? ????????,
+???????, ????????? ?? ?????, ????? ????? ???????? ???? ???, ????? ?????? ????? ?
+??? ???????????. </p>
+
+<p>????????, ??? ???????? ???????, ? ??????? ?????? ????, ????????? ???????, ??? ?????
+?????? ??????? ????? ????????? ???????????? ?? ?????. ? ????? ????? ?? ?????????
+?????? ? ???????, ? ???? ?????? ????? ??? ???????????? ?????? ??? ??? ???????, ???
+? ????????? ????? ???????? ?? ??? ??????????? ?????, ? ??? ?? ???????? ????????.
+???????? ???????, ??? ?????? ??????? ????? ????????????? ???????? ????????
+????????????????. ????????? ???????, ??????? ?? ?????????, ?? ??????? ?????????????
+?? ??????? ?????? ???????, ??????? ???????? ? ???? ???? ????? ????. ?? ???? ?????????,
+??? ????????, ??? ????? ?? ?????? ???????? ????????. ???? ??? ?????&hellip; ???????? ??????,
+????? ???? ?????? ?????????? ??????? ??????????????. ???????? ? ??????? ???? ?
+??????? ????? ?? ? ???? ?? ? ???? ????????, ? ????????? ????? ???????????. ????? ????,
+???, ? ??????? ???? ????, ????? ????????? ????????? ????????? ? ???? ???????, ?????
+????? ??????? ??? ???????. ??? ?? ?????, ??? ???????? ????????? ?? ?????? ?????????
+????????? ?????, ????????? ??? ???????? ??????? ????? ????????? ??? ???????, ???????
+??? ?? ?????? ???? ???????. </p>
+
+<p>??? ????? ?????? ?? ???????????? ?????? ???????, ?????????????? ?????????????
+&quot;????? ?????&quot;. ?????? ??????? ????????????? ????? ???? ????? ?????? ?????????
+?????????? ????????????? ???????, ??????? ?? ?????? ?????? ???????????? ??????????
+?????????? ? ???? ????? ??????. ?????, ????? ??????? ???? ?????? ?? ????? ?????
+???????, ?? ????? ? ???? ?? ???? ????????? ? ?????????, ?? ????????????????? ??????
+?????????????????. ?? ????? ????????? ???? ??? ??????????? ??????? ????????? ? ??????????,
+????????? ???????????????? ?????????, ??????? ???????????? ?? ???? ? ??? ????? ??????
+????????? ? ????????, ???? ?? ?????????? ??????? ?????? ?? ??????? ????????, ???
+?????????? ???? ???? ?????-?? ???? ?? ????, ??? ? ??? ?????? ??????. ? ???? ???????,
+?????????? ?? ????????, ????????? ?? ??????? ????? ???? ?????? ????? ??? ????????????,
+??????? ??????????? ???? ????? ??? ?????????? ????? ??? ?????. 
+????? ???????? </p>
+
+<h4>????? ????????</h4>
+<h3>??????? ??????? ??????? ? ?????? ???????????</h3>
+
+<h4>????? 23</h4>
+<h4>??? ? ???????? ? ????????????</h4>
+
+<p>???????? ? ?????? ?????. ? ???? ?????? ??? ??? ???? ???? ??????? ????, ??? ? ?????????
+?? ??????? ?? ??????, ???????? ?? ??????. ? ???????? ?????????? ?????? ?? ????????? ?? ????,
+??? ??? ????????? ???????? ???? ??????? ??. ??? ???????, ??? ? ???? ??????? ????????????????
+???? ? ????????????[1] ?? ???? ???????????? ?????. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_a.png" alt="??????? ??????" border="0">
+<div class="imagetitle">??? ??? ???????? <br> ???????? ??? &hellip;</div>
+</div>
+
+<p>???????????&hellip; ??? ??? ?, ??? ???, ?? ?????? ???????&hellip;
+?????? ??, ????? ???? ????, ? ???&hellip; ??????? ? ??-?????????? ?????? ?????,
+??? ? ????????. ??? ??? ???????? ???????? ???, ?????????, ? ??????????? ?????-???????
+????????? ? ?????? ???????. ??? ??? ????, ? ???? ?????? ???????? ????????? ?????? ?????,
+??? ????????????? ??????? (? ???????, ??? ???????? ??? ?????? ?????????, ????? ?????
+????? ? ????, ???? ??? ???????? ?? ??? ???????????), ?? ???? ???? ?????????? ?????????
+?????, ? ????? ? ???? ?????? ??????, ???????? ???? ?????. &quot;?????????, ??? ??
+????????? ? ????????, ??????? ?? ??????&quot;, &mdash; ??????? ?, ?? ????? ?????,
+??? ?? ???? ????? ?? ????????????. </p>
+
+<p>?????? ?? ?? ???? ?????????? ??????. ??????? ?? ??? ????? ??? ????? ?????????? ????,
+????????? ???????????? ???? ??????, ????? ???? ????? ????????????. ?????, ????? ???-??
+??????? ??? ???? ?????? ? ??????????. ?? ??????????????? ?????? ?????, ??? ?????????
+???????????, ???? ??? ????????? ???????. ?????? ??? ????? ?????? ??????? ?? ?? ???????,
+? ????? ??????????? ??????????? ?? ???? ????? ????? ? ??????? ????????? ????? ?? ??????
+? ????? ??????. ??? ?????? ? ???????????? ??????? ? ??????????, ? ?????????????.
+??????????, ?????? ??? ????? ? ????? ?? ???????? ?? ???, ????? ?????-?????? ???????
+??????? ???????????, ? ?? ?????? ???????? ??????????? ?????????????? ?????, ????????
+?? ??????. ?????????????, ?????? ???, ???????? ???????? ????, ????? ????? ???? ??
+???????????. </p>
+
+<p>????????? ??? ???????? ????????? ? ? ?? ??????? ???????????????? ?????????, ? ?????,
+??? ? ???? ???? ????? ??? ????????????. ? ??????? ?? ??????? ?????, ? ??????? ???????
+?? ??????????? &mdash; &quot;??? ?? ????? ?????? ?????? ???&quot; ??????? ?????????[2].
+? ?????????? ??? ? ??????? ????????, ?????? ? ??? ??? ????????? ?????????? ? ???? ?????.
+??? ?? ????? ???? ???????, ??? ???? ?????? ?????? ??????????, ?? ?????? ??? ? ???, ?????
+?????, ????? ????????? ?????? ?? ??? ??????? ???????????? ??? ???????? ?????. ?? ? ??????
+???????&hellip; ???????, ?????? ?????? ?? ?????? ????????? ?????, ??? ? ???????? ?????? ? ?????
+????????, ?? ?????????? ????? ??????????? ??????? ?? ???? ???????. ?????, ? ??? ?????? ?
+???? ?????-?? ??????? ??????. </p>
+
+<p>?????, ?????? 1: &quot;???????? ?? ?? ?????? ??????????? ? ???? ???? ?? ??????????
+?????? ???????, ???????? ?? ??, ??? ????? ????????? ?????? ?? ????????? ???? ??,
+????????? ? ??????? 2, ???? ???, ????????? ? ??????? 5&quot; ??, ???, ???? ??? ???????
+?????, ??? ??? ?? ????????. ?????? 5: &quot;??????? ?? ?? ???? ??????? ?????&quot;
+?, ????, ?? ??????? ?? ???. ???? ?? ??? ?? ???? ???????, ? ?? ?? ????? ?????? ????
+???????? ??????, ?????? ????! ?????? 10&hellip; ?????? 11&hellip; ?????? 39&hellip;
+???????! &quot;??? ???, ?????? ?????, ??? ?????? ??????????? ?????? ??????????&quot;.
+???, ?? ? ?????? ?? ????????????? ?? ?? ??????????? ?????????????? ????, ??? ???? ?????????
+?????? ???????????. ???, ?? ?????????????, ?????? ??? ?? ? ??? ???. ?? ?????, ????????.
+?????? ??????? ?????? ? ??????????? ? ?????-?????? ????? ????????????. ??, ???????????! </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_b.png" alt="??????? ??????" border="0">
+<div class="imagetitle">???? ????? ??????? <br> ???? ???-???!</div>
+</div>
+
+<p>?? ????? ??? ? ?????? ?????? ???????? ?????. ???? ????? ??????? ???? ???-???.
+??, ???????, ?????? ??????? ?? ?????? ?? ??????? ???????? ?????? ?????????????????,
+?? ??? ??????? ???? ??? ????[3]. ????? ??????? ??? ?????? ?????? ???????? ????????. ?
+??????? ????? ??????! ????? ?? ?????? ??? ?? ???????! ?? ????? ? ?????? ????:
+&quot;?????, ??? ??????. ???? ??? ?????? ?? ???-?????? ??????????&quot;. ? ??? ??? ??
+????? ??????????. ??? ??? ?? ???-???? ? ??? ????? ????&hellip; ???&hellip; ???&hellip;
+??????&hellip; ???? ?????, ?????, ??? ?????????? ????? ?? ????????????????? ???????
+?? ??????????????? ?????? ?????. ?? ??? ?? ? ?????. ?????? ???? ???? ?????? ???-??
+?? ????????????, ?????? &hellip; </p>
+
+<p>????? ? ?????, ??? ???? ???????. ???????! ???????? ?? ??????????????? ?????? ?????
+????? ??????, ?? ?? ? ???? ???. ? ???? ???? ?????? ? ?????, ??? ??? ? ???? ???????
+??? ????????? ?????. ????????????? ??????? ?????? ?????????, ??? ???, ?????? ?????,
+? ???? ????? ?????? ???? ??????????? ??????????? ???? ? ????????? ???????. ???
+??????? ?? ????? ??? ????? ??????? ????????????? ????? ?? ??? ???-?????? ?????
+?? ??????????????? ??????? ?????? ? ??? ??? ?????????. [&hellip;] </p>
+
+<p>? ????????? ?? ?????????????? ???????, ???? ? ????? ? ????? ????? ??????? ?????,
+??????? ???? ??????????. &quot;?? ?? ????????! ?? ?? ????? ???&quot;, &mdash; ????? ?. ?????
+?????? ????? ??????? ?? ????? ??????. ? ?? ????? ????? ???? ??? ??????? ???-???.
+?????????? ?? ??? ???????? ???????, ??? ????????? ???????????, ? ????????? ? ??????,
+??? ????????? ????????? ??????? ????????. ??? ? ? ???????????, ? ?????? ?? ?????
+?????? ?? ????? ???????. ? ?????? ????????? ? ????????????, ??? ??? ????? ?
+????????? ? ????? ?????. ??????????? ??????? ?? ???? ?????? ?????????? ???????,
+?????????? ???? ??????????????????. ???????, ????????, ??? ??????? ?????? ???????
+????????? ?????? ? ???????? ????????? ???? ??????[4]. </p>
+
+<p>??????? ?????, ? ????????? ? ?????????? ????? ?? ???????????????? ??????. ????????
+? ??????? ??????. ????, ???! ????????? ???????! ? ???? ????????? ????????? ?? ????????.
+??????? ???????? ???????? ?? ???? ?????, ??? ????? ???????????, ?????. ?????-??? ????
+??? ???????????? ?? ???????? ????? ?????? ????????. ?? ???????? ? ?????? ? ???????
+???????? ?????-?? ????????. ?, ???! ?? ???????? ????????? ?????. ????? ??? ????. ?
+???&hellip;??? ?????????? ??????????? ? ????????????. ? ??????? ?? ?????????. ????? ??????
+?? ??? ???????? ?????????? ? ????????????, ? ??? ?? ?????. ? ????????? ????? ?????,
+??? ??? ?? ????????? ?? ??????? ?? ???? ?????????. ?????? ??? ????? ???????? ?? ?????
+? ????????, ?????? ??? ??????. ? ??????? ???????. ????? ??????. ????? ????? ???????.
+???????? ? ???????? &mdash; ??? ??? ?????, ????? ?????? ???? ? ????????. ????? ????
+??????????. ?????????? ???? ?????????, ??? ?????, ? ??? ???????? ???? ?? ???????.
+??????? ??????, ? ??? ?????? ??????? ???????? ???? ?? ????. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_c.png" alt="??????? ??????" border="0">
+<div class="imagetitle">????? ?????? ?? ??? ???????? <br> ?????????? ? ????????????,
+<br> ? ??? ?? ?????.</div>
+</div>
+
+<p>? ??? ? ????????! ???????? ? ??????? ??????? ? ????????? ??? ??????, ??? ?????? ???.
+?????? ???????? ?? ???????? ????? ? ?????????? ??????? ? ????????. ? ? ????????????
+????????, ??? ??? ?????? ???? ?? ??????. ??????????! ?????? ??????? ???????. ?? ?????
+? ??????? ??? ?????-?? ???????? ? ????????. ?????? ????????????? ???, ??? ???-?? ???.
+??????? ????! ????? ??? ??????????? ? ???????????? ????????????. ? ????????? ??????,
+??? ?????? ???, ? ?????? ??, ????? ??? ???? ? ???? ?? ????????????. ??? ???????????
+?? ???. ??? ??????? ?????????? ?? ????????? ?? ????, ??? ??? ??????? ??????. ? ??????
+?? ? ?????, ???? ?????, ????? ???? ?? ?????? ????????? ???? ?? ????, ???? ?? ??
+??????? ??????. </p>
+
+<p>? ?????? ??????? ? ????????? ?? ???? ???????? ???????, ?????, ??? ?? ???? ?????????
+????????. ???????? ? ??????? ???-?? ???. ? ?????????. ????! ??? ????? ?????????! [&hellip;]
+? ???????? ? ???? ????????? ???? ??? ??? ? ??? ??????, ????? ???? ????? ????????? ?
+???? ?? ????????????. ??? ?????????, ? ??? ?????? ?? ??? ?? ??????? ????????! ?? ?
+???????, ???????? ?????? ???????? ???????????. ? ????? ????? ?????????? ? ???????
+???????? ? ???? ????????????. ?????, ????, ?? ???????! ? ???? ? ????! [&hellip;] </p>
+
+<p>? ???????? ?? ???, ??? ??????????? ????????? ????????? ?????, ?????????, ? ?????
+?????????????????? ?? ???????? ??????? ?????, ? ?? ?? ????? ? ????????? ?????????????
+????? ?????. ? ??????????? ??? ????????????. ?????? ??? ?????? ???? ???????, ????? ????,
+??????? ????????? ?? ?????? ? ????? ??????. ? ????? ? ??????, ??? ??????? ???? ????????????
+?? ???. &quot;???????????! ??????!&quot; &mdash; ????????? ?. ???? ?? ?? ??? ???? ???????. ?? ???-??
+????? ???????? ??? ???-??? ? ?????, ??? ???? ???????? ??????. ?? ?? ?????? ?????????
+? ??????. ??? ???? ?????????, ? ????? ???????? ???????? ??????. ? ?? ???????? ????
+????? ?????. ??????????? ? ??????? ???????, ???? ? ????? ????????????. ????? ?????????
+??????? ?????? ???????????? ? ???? ????? ???????, ? ? ?????????? ??? ????? ???? ??????,
+????? ????? ????????? ???, ??????? ?????????? ????? ????? ???????, ????? ?????? ? ?????
+????? ??????? ???? ???. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_d.png" alt="??????? ??????" border="0">
+<div class="imagetitle">? ????? ? ??????, <br> ??? ??????? ???? <br> ????????????
+?? ???.</div>
+</div>
+
+<h4>?????????? ?????????:</h4>
+
+<p>[1] ????? ?????, ???????? ????? ???????? ? ????? ?? ????? ??????????. ??? ?????????
+??? ???? ??????? ????????. ?? ????? ????????????? ? ?????, ???????? ??? ??????????
+?????? ? ??? ?????????????? ????????????. ????? ?? ?????, ?????? ????? ??????? ???
+?????????????. ????? ??? ?? ???? ????????, ?? ??????? &quot;? ?????? ??? ?????????????,
+?????? ??? ??????? ???????? ??? ? ???????&quot;. ??? ??????????? ???, ??? ??? ????????. </p>
+
+<p>[2] ???????? ????? ????????? ?????? ?????? ???????. ??? ?????, ????? ???????
+????? ??????? ??????????????? ??????? &quot;? ????? ??????&quot;,
+????????? ??? ???????????????? &quot;??? ?? ????? ?????? ?????? ???&quot;
+? ??????????? ?????????? ??????? &quot;????????????? ????????? ??? &quot;????????&quot;,
+?????? ???????? ? ???? ???????. ?? ??? ????? ???? ????????, ??????? ??????? ???????? ?????.
+????? ???????????? ?????? ?? ????????????? ? ?????????, ? ?????? ????? ????????, ??? ??
+?????? ?? ????? ? ???????? ???????? ? ?????, ??????? ???? ??? ??? &quot;??? ? ???????,
+?????? ?&quot;. ???????? ?? ?????. ????? ??????, ????????????? ??? ?????? ???????????,
+???????? ????? ??? ????, ????? ?? ??????? ????????? ????? ? ??????, ???????????? ?? ????.
+?? ???????? ??? ? ?? ????????. ????????? ?????? ??????????, ??? ????????? ??? ? ??????????
+??????? ????????? ??????, ?? ??????? ??????? ?? ???????? ? ??????????? ??????? ?? ???????. </p>
+
+<p>[3] ??????? ????? ??? ????????????. ?? ??? ??????? ?????? ???????, ? ? ?????, ????? ????
+?????? ?????, ???????? ?? ????????????????? ??????-?????? ?????? ???????? ????. ? ???
+?????????? ????? ???????, ??? ?????? ? ?????????? ???? ???????? ???????? ??????? ????????
+??? ???????, ? ? ????????? ???? ????? ?? ???? ????????? ? ??????????? ?????? ?? ?????
+????? ???????. </p>
+
+<p>[4] ??? ??????? ??????????? ??????? ???????? ? ????? ????????, ??, ??????-??, ? ????
+??????? ??? ??????-????? ????? ????? ? ?????? ????, ????? ????? ????????? ?????????? ? ???. </p>
+
+<p>
+? ?????????,<br>
+<i>Ludmian Sedai</i>
+</p>
+
+<p>?? ? ?????? ??????? ????? ????????? ??????? ????? ?????????, ??????????? ?? ?????,
+? ???????????? ??? ??????????????, ??? ? ????? ??????? ????????? ???? ????? ??? ???????
+?????? ? ??? ???? ????????? ????????????? ?????????? (???? ?????????? ???????? ? ????,
+????????, ?? ???????????). ????????? ????? ????? ?? ???????? ?? ???? ????????, ? ???????
+?? ????????? ??????????? ???????? ????? ???????, ???????, ??? ?? ???????????, ?????????
+?????????? ?? ???????? ?????.</p>
+
+<p>?? ? ?????? ???????????? ?????????, <i>???? ?????????</i> ??????, ???????? ?????
+????????? ??? ????? ???????, ????????? ? ????????, ?? ????? ??? ??????????? ?? ?????
+Enigma (????????, ? ????? ?? ????? ??????????? ????????). ?? ??????? ????, ??????????????
+????? ??? ??????????? ?? <i>????????????</i>, ??????? ?? ?????? ????? ?? ???????
+<i>???</i>, ?????????? ??? ??? ????????????.</p>
+
+<h4>&quot;Plan Ahead&quot; &mdash; ??? ???? ?? ???? ???????????? ????? ???????.</h4>
+
+<div class="quote">
+? ?????? ??????? ? ???? &quot;Seed Puzzle&quot; (? ???? ???????? ???????), ?? ? ?????
+?????????: ??? ???? ??? ??????, ???????? ????? ?????????, ?? ?????? ???? ???-??. ????
+??? ? ????????? ???????? ??? &quot;Seed Puzzle&quot; (? ???? ????????? ????????, ??????
+??? &quot;Versailles&quot; ? &quot;One-Way Streets&quot;), ? ???? ? ???????, ??? ???????
+??????????? ?? ??????, ??? ????????, ??? ?? ????-?? ?????????. ??????????? ??? ????, ???
+??? ???????, ???????? ???????? ? ???????????, ?? ??????? ??????????? ?????????????: ???
+???? ?????? ??????, ???? ??? ????????, ???????????????? ????? ? ?????? ?????. ?
+&quot;Plan Ahead&quot;, ? ????????????? ??????????????? ?????????: ? ???????????
+????????? ????????? ?????????, ??????? ??? ??? ????? ??????? ? ???????? ? ??????? ?
+????? ???????????? ????? ?????????? ??????? ???????. ? ??????, ??? &quot;Plan Ahead&quot;
+?????, ??? ??????????? ?????????? ???? ???????, ? ??????? ? ??????????? ??????????? ?
+????????, ?? ??????? ? ??? ?????? ???? ??????????? ????? ????????. ?? ????, ??? ???
+??????? ??? ????? ?? ?????? ??????, ????? ??????? ??????? ????????? ? ??????? ?????,
+? ????????????????? ? ????? ????? ????????? ?????????. ???, ?????, ? ?? ?????? ???????????
+????? ???????, ??, ??? ??? ???????, ??????????? ?????? ?? ????? ??????????.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_s.png" alt="??????? ??????" border="0">
+<div class="imagetitle">Seed Puzzle</div>
+</div>
+
+<div class="quote">
+??????, ?? ?????????? ???????, ??? ???????, ??? &quot;Plan Ahead&quot; ???????????
+?????????? ?? ?????? ????????? ???? ???????-???????????. ??????????? ?? ??? ????????????
+????? ??? ?????????, ??????? ????? ??????????? (????????, &quot;Labyrinth
+of Puzzles&quot; ??? &quot;Almost There&quot; ??? ???? &quot;Map it Out&quot; &mdash; ?
+??? ????? ???? ????????? ????????), ??? ??????? ???????????, ???????????? ????? ????? ?????
+(????????, ????? &quot;Alien Glyphs&quot;, &quot;Now What?&quot; ??? &quot;Open Path&quot;).
+????????? ???????????? ????? ????????? ????? ???????????, ?? ???????????? ??????? ???????
+????? ???????????? ????? ???????????? (???? ?????? ?? ???????) ?????????????, ??? &quot;Plan
+Ahead&quot;. ??? ??? ????? ?????????? ????? ??????? ???????? ??????? ? ?? ????? ????????????? ?????????.
+&quot;Plan Ahead&quot; ???????? ??????? ????? ?????, ???, ??? ??? ???????, ???????? ??????????
+??? ???????. ? ???????, ??? ???? ??????? ?????????? ?????? ?????? ?? ??????????? ? ????????,
+?? ???? ??? ? ????? ? ????????? ????, ??????? ??????? ????? ??????????, ?????????? ? ??? ???????,
+?? ? ? ?? ?? ????? ?????? ?? ????????.
+</div>
+
+<div class="author">Jacob Scott</div>
+
+<hr>
+<table>
+<tr><td>
+?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????: 
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="????????? ?????? ???-???" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<!--<p>Dear reader, we have a constant need for articles from you about Enigma's
+great levels. Please, send us any articles, even comments, you write to:</p>
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+<p>We're particularly interested in articles about the following levels:
+</p>
+<ul>
+<li>&quot;Little Puzzles&quot; by Jon 'WB' Sneyers</li>
+</ul>
+<p>Many thanks in advance, only your help can keep the LotM alive!</p>
+
+<p><i>Your Enigma Team</i></p>-->
+
+</div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-17 21:05:02 UTC (rev 1634)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-18 14:12:46 UTC (rev 1635)
@@ -144,7 +144,7 @@
 
 <h4>1. Here, there and back again</h4> 
 
-<p><i>Black</i> inspects his opportunities and thinks: Once I can get around the pool, over to <i>White</i> and back again, following the arrow signs &mdash; but only once, then the path has crumbled away. I'll have to seize this opportunity with both hands. I must use it to make a permanent connection, right-left, East-West, which ideally can be used by my <i>white</i> partner, to open the one oxyd here on my side, which is only accessible to <i>White</i>.
+<p><i>Black</i> inspects her opportunities and thinks: Once I can get around the pool, over to <i>White</i> and back again, following the arrow signs &mdash; but only once, then the path has crumbled away. I'll have to seize this opportunity with both hands. I must use it to make a permanent connection, right-left, East-West, which ideally can be used by my <i>white</i> partner, to open the one oxyd here on my side, which is only accessible to <i>White</i>.
 </p>
 <h4>2. A game of Yin and Yang</h4>
 
@@ -155,7 +155,7 @@
 
 <p><i>White</i> murmurs: Why is the one of us allowed to do things, which are forbidden to the other one? Which creator defined me to be <i>white</i>? And why shouldn't I be allowed to stroll along a <i>black</i> arcade, gracious Gods of Enigma? How much easier life would be, if I'd be able to do everything &mdash; if I were allowed to do anything I'd like to do &hellip; And that also should apply to my dear partner Yin over there! Then I wouldn't need to wait until she finds a way to get to me &mdash; and Duffy, the constructor, couldn't stop me, Yang, from going <i>black</i> ways.
 </p>
-<h4>3. Devided world</h4>
+<h4>3. Divided world</h4>
 
 <p>Both are shouting in chorus: &quot;Duffy, what have you done to us?
 Incarcerated in this joyless world, separated from each other &mdash; with all

Added: feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html	2009-04-17 21:05:02 UTC (rev 1634)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html	2009-04-18 14:12:46 UTC (rev 1635)
@@ -0,0 +1,240 @@
+<div class="lotm">
+$$lotm_header$$
+
+<h3 class="lotm">
+    <span class="date">?????? 2009: </span>
+    &quot;Plan Ahead&quot; ?? Jacob Scott
+</h3>
+
+<hr>
+<table>
+<tr><td>
+?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????:
+</td><td>
+<a href="$$lotm_200904$$">
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="????????? ?????? ???-???" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<p>? ??????? 2008 ???? ?? ??????????? ??? ?????? &quot;??????? ??????&quot;, ??????????? ? ???????????? ???????????? ???????: &quot;Industrial Puzzles&quot; ?? Raoul Bourquin (?? 10/08). ????? ? ??????? ?? ???? ?????, ??? ??????? ?????? ?????? Enigma, ?????? ??? ???? ???????????? ???????: &quot;Procrustes&quot; ?? Andreas Lochmann (?? 12/08). ? ???? ?????? ??????? ????????? ??? ?????? &quot;???????????&quot; ??????. ?? ???, ??????? ??, ?? ????????, ??? ????????? ??????????? ? ?????????? ????????????????? ?????????? ??? ?? ? ????. ??????, ???????????, ??????????? ? ????????? ?????????, ?????? ????????????? ???, ??? ? ??? ????? ???????????? ???????, ??? ??? ?? ?????? ??????????, ??????? ?? ????? ???????????? ????????. 
+</p>
+
+<p>???? ?? ???? ??????? ????? ?????? ? ???????, ???????? ???? ?? ??????? ?????????? ???? ??? ? ????????? ?????? ??????, ??? ??? ??? ?????? ?????? ????????, ??? ??? ?????????? ??????. ? ? ??? ????? ???-?? ?????? ?? ??????? ????????? ????? ?????? ?????, ??? ??????? &quot;?????????????&quot; ????, ???????? ? ??-?????? ??????????????: ??? ?????????? ??? ????????. ?? ?????? Jacob'? Scott'? &quot;Plan Ahead&quot; ?????? ?? ??????, ????? ??? ??? ???????? ????, ??????????, ? ??????????? ?? ?????? ??? ?????? ?????????? ??????, ??? ???? ??????? ??????????? ??? ?????????????? ?????????, ??? ??? ????? ????? ??????????? ?????????????, ??????????????, ?????????? ??????????:
+</p>
+<p>????? ????? + 2 ???????? + y ??????? = ?????? ????? + x ????? + ????? + y ??????? (?)
+</p>
+<p>???? ??????? ????? ??????? ??? ??????, ?? ?????? ?? &quot;????????&quot; ?? ????????????? ?????????; ?? ?????? ????? ?????????  ???????? ?????????? ? ??????????. ???? ???????????? ????????, ?? ????? ???????, ??? ??????? ?????????? ???????????? ??????? ? ????? ???????, ? ??????? ????????? ??? ??????. ??? ???????? ???????? ??????? ???????? ???????????? ? ?????? ??????? ? ?????: ???? ????? ??? ?????? ???????? ??????, ??? ?????? ??????? ??????, ? ????? ??????? ?????????? ??? ??????? ??????. :-)
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_f.png" alt="??????? ??????" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">????????? ??????? ??????? 2009 (????? ???)</caption>
+<colgroup>
+    <col width="80">
+    <col width="160">
+</colgroup>
+<tbody>
+    <tr><td class="num">0:47</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">0:50</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">0:58</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">1:10</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">1:11</td>
+        <td class="left">Mentist</td></tr>
+    <tr><td class="num">1:12</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">1:15</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">1:16</td>
+        <td class="left">Jinajon</td></tr>
+    <tr><td class="num">1:17</td>
+        <td class="left">Django+dev0</td></tr>
+    <tr><td class="num">1:21</td>
+        <td class="left">B-Huff+Malla</td></tr>
+    <tr><td class="num">1:25</td>
+        <td class="left">Dime</td></tr>
+    <tr><td class="num">1:26</td>
+        <td class="left">Gloop+Safalra</td></tr>
+    <tr><td class="num">1:30</td>
+        <td class="left">Emmanuel+mecke</td></tr>
+    <tr><td class="num">1:31</td>
+        <td class="left">Alexandros</td></tr>
+    <tr><td class="num">1:33</td>
+        <td class="left">Freshman</td></tr>
+    <tr><td class="num">1:34</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">1:35</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">1:39</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">1:40</td>
+        <td class="left">ABS</td></tr>
+    <tr><td class="num">1:42</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">1:43</td>
+        <td class="left">Tobias+Ludmian</td></tr>
+    <tr><td class="num">1:45</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">1:51</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">1:58</td>
+        <td class="left">mrduke</td></tr>
+    <tr><td class="num">1:59</td>
+        <td class="left">Ale+Raoul</td></tr>
+    <tr><td class="num">2:03</td>
+        <td class="left">shoki</td></tr>
+    <tr><td class="num">2:09</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">2:17</td>
+        <td class="left">Hans-HD</td></tr>
+    <tr><td class="num">2:31</td>
+        <td class="left">Mark P.</td></tr>
+    <tr><td class="num">2:36</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">2:37</td>
+        <td class="left">gringer</td></tr>
+    <tr><td class="num">2:38</td>
+        <td class="left">H-J.Epting</td></tr>
+    <tr><td class="num">2:54</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">3:14</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">4:38</td>
+        <td class="left">AlephD</td></tr>
+    <tr><td class="num">8:10</td>
+        <td class="left">brynn</td></tr>
+</tbody>
+</table>
+
+<h4>????? ?????????? ? ??????? ??? ? ???</h4>
+
+<p>? ???? ??????? ??? ??????????, ??????? ????? ?? ???????? ?????? ????? ???????: <i>??????</i> ? <i>?????</i> ????????????? ???? ????. ? ?????? ????????? ??? ?????? ????? ???????? ??? ???, ??? ???????? ??????????? ?? ??????. ????? ???? ?????????? ????????? ??????. 
+</p>
+<p><i>?????</i> ?????? <i>??????</i>: &quot;??, ??, ???! ??? ????. ?????? ??????, ??? ????? ???????: ??? ???????? ?? ????, ? ?? ?????????. ? ???? ???? ???? ?????. ?????? ?? ? ????? ? ?????? ?? ? ?????. ??? ????? ????????? ????? ????????? ????????.&quot; <i>?????</i> ??????? ?? ????, ???????, ??? ?????? ????? ?????. ? ??? ?????? ????????? ???????, ? ?? ??????????: &quot;??, ??, ?? ???? ??????? ????????? ? ??????? ???????? ???????, ?????? ??? ???????? ? ???????? ??? ?? ???????? ??????&quot;
+</p>
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_p.png" alt="??????? ??????" border="0">
+<div class="imagetitle">???! ?? ??? ????? ? ????. <br>?????? ??? ?? ??????? <br>?????? ?????? ???????.<br></div>
+</div>
+
+<p>????? ???, ??? ????, ????????? ??????? ???????: &quot;?? ???? ????? ?????? ????????? ???? ???????? ???????? ??????. ? ??????? ?????????? ????? ???? ?????????? ????? ???????? ?????, ?????????? ???????, ? ????????? ? ??????????, ??????, ?????? ???? ?????????? ??????. ??-??-??-??!!! 
+</p>
+<p>?? ?????? ????????? ??????? ???????? ???,<br>
+? ??? ?????????: ?????? ?? ? ????.<br> 
+??????? ??? ??????? ?????? ???????? ???,<br>
+? ????????? ?????? ???????? NaOH.&quot;<br>
+</p>
+<p>??-??-??-??!!! ??-??-??-??!!! 
+</p>
+<p>?????? ???????????? ??? ????, ????? ???????? ????????? ???????: &quot;? ???? ???????????, ???????????? ??? ???????! ?? ???????? ???? ?????. ?? ?????? ??? ???????? ?? ?????? ?????? ????????? ??????????, ?? ????? ?? ??????????? ?? ???????? ???? ?????????, ?? ?????? ????????? ?????????? ????, ???? ????? ????? ???? ??????? ???????. ??? ??? ? ???, ?????? ????????, ???? ???? ????????. ???, ? ??? ????????? ???? ???? ???????? &mdash; ??????? ??? ?????? ? ????????? ?????? ???????????. ??? ????? ??? ?????? ????????&quot; 
+</p>
+<p>?????? &hellip; ?????? ?????? ?????? &hellip; 
+</p>
+<h4>????? ?????????? ? &quot;Plan Ahead&quot; Jacob'? Scott'? (?? ?? Duffy)! :-)</h4>
+
+<h4>1. ????, ???? ? ????? ?????</h4> 
+
+<p><i>??????</i> ?????????? ? ??? ??? ??????????? ? ???????? ??????? ????: &quot;? ???? ???? ??? ??????????? ?? ?????? ??????? ? <i>??????</i> ? ????????? ?????, ?????? ??????????, ?? ?????? ???, ????? ??? ?????????. ??? ????? ????? ?????? ?????????? ?? ??? ???????????. ? ?????? ?????????? ?????????? ????? ????? ????? ?????? ? ?????, ???????? ? ????????? ?????????? ???????, ??????? ???????? ???????? ??? ????? <i>??????</i> ???????????, ????? ?? ???? ??????? ????? ?? ???? ???????, ????????? ?????? ??? <i>????</i>.&quot;.
+</p>
+<h4>2. ???? ??? ? ???</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_g.png" alt="??????? ??????" border="0">
+<div class="imagetitle">????? ?????, <br>?????? ?????&hellip;</div>
+</div>
+
+<p><i>?????</i> ????????: ?? ?????? ???? ?? ??? ????? ?????? ??, ??? ?????? ???????? ????? ????????? ???????? ???? <i>?????</i>? ? ?????? ??? ?????? ????????? ??? <i>???????</i> ???????, ? ?????????? ???? ??????? ????????? ????? ???? ?? ??? ?????, ???? ?? ? ??? ?????? ???, ???? ?? ??? ???? ????????? ?????? ???, ??? ? ????&hellip; ??? ?? ???????? ? ???? ??????? ????????? ???! ????? ??? ?? ???????? ?? ?????, ???? ??? ??????????? ?? ???, ? ?????????? ????? ?? ???? ?? ???????? ???, ???, ????????? ?????? <i>??????</i> ?????.
+</p>
+<h4>3. ???, ??????????? ?? ??? ????????</h4>
+
+<p>??? ?????? ????? ??????: &quot;?????, ??? ?? ? ???? ??????? ??????? ??? ? ???? ???????????? ????, ??????? ??? ???? ?? ?????, ????????? ?????? ??? ??? ???????? ???????? &mdash; ????????, ?????, ?????&quot; ? ????? ??? ???????????? ?????? ????????: &quot;? ??????? ?????????? ????? ?? ????? ???????? ????? ?????? ? ????? ?? ????????, ? ????? ????????? ???? ????? ??????????? ????? '???? ??? ????? ??????', ????????? ?????? ???????? ?????. ??? ?????? ?????????. ? ????? ????? ????? ??????, ????? ?????? ????? ???? ????????? ?????? ????? ???????????????? ?????, ? ????????? ?? ??????? ? ?????????, ????????? ???????????????? ????? ? '???????????????' ??? ???-?????? ? ???? ????.&quot;
+</p>
+<p>??? ??? ????? ???????????? ? ???????. ?????? ??? ?????? ????? ?????!
+</p>
+<h4>4. ??? ????? ?????????????? ????? ? ????? ??????????? ????????? ??? ???-??? ? ???????????? ?????</h4>
+
+<p><i>?????? ??????</i> ????????: ??? ?????? ??????? ?????? ???, ?????? ??????, ?? ????? ????? &quot;????????????????&quot; ???????? ?????? ????????. ?? ???? ? ??????? ???????? ?????????, ??? ???? ?????? ??????? ??????? ???? ?????? ????????, ??????? ?? ?????? ????? ????? ??????????: ?? &quot;???????????&quot; ??????? ????????? ????????? ?????????? ????, ??????? ???? ??????? &quot;st_box&quot;. ?????! ????????? ??? ???????????, ??????? ????????????? ???? ??? ???????? ?????! ?? ???? ?????????! ???? ??? ??????? ????????, ???????? ? ??? ? ?????? ??????? &quot;???????????&quot; ??? ???? ???????, ?????&hellip; ????? ??? ???????? &quot;??????????&quot; ??? ???? ??????? ????? &mdash; ??????? F3 :-(
+</p>
+<p>?????! ?????, ????????? ?????!<br>
+???????? ?????? / ???????? ?????? = ???????? ????? / ???????? ?????<br>
+?????? ?????? ?? ????? ???????.<br>
+</p>
+<h4>5. ??? ??? ?? ??????? ? ???? &quot;?????&quot;?</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_l.png" alt="??????? ??????" border="0">
+<div class="imagetitle">???????? &mdash; <br>? ??? ???????</div>
+</div>
+
+<p>??????? ???????? ??????? ???????? ???. ???? ??? ???????? ?????????? ? ???? ??? ? ??????? ????????????? ???-???, ?? ???????? ?? ?????? ??????? ?? ? ????, ??? ?? ??? ????? ?? ????????: ??? ????????? ??????????? ???????, ? ??????? ?????? &mdash; ????????. ?????! ???? ????????? ? ????????? ?????????? ? ???? ??? ? ?????? ??????, ?? ??????! ????? ??? ?????? ???????????? ???? ?? ???. :-)
+</p>
+<h4>??????????:</h4>
+
+<p>???? ???????????? ??????????? ??????? ?????????? ??, ? ???????, &quot;Industrial Puzzles&quot;. ??? ??????? ???-??? ? ??????? ???????????? ??????????, ??? ? ?????? ?????? ? ??? ????? ??????? &mdash;  WYSIWYG, ??? ??????, ?? ? ?????????. ? ????? ????????? ? ????????? ??????? ????? ??????? ??? ??????? &quot;???????&quot;. ??????? Jacob'? Scott'? ?? ??? ???????????? &quot;????&quot;. ??????? ???????? ?? ???? ???????, ?? ? ??????????? ?? ??????, ??????? ??????, ???????, ???????? &mdash; ? ??? ???????????? &mdash; ?? ?? ??? ?????????.. 
+</p>
+
+<p>??? ? ???, ???????????? ??????? ???????, ????????? ?? ??????? ? ???????????? ??????????? ????????? ??????? (??? ??????, ??????????? &quot;st_oneway&quot;, ??? ?? ??????? ????),?? ??? ????? ????? ????? ???? ?, ????????? ??????, ?????? ???????. ?????? ?? ?????? &mdash; ????????? ?????? ? ???? ???? ? ?????: <i>???</i>, <i>?????</i> ? <i>????</i> ???????? ???????? ??? ???????, <i>???</i>, <i>???</i>, <i>?????</i> ? <i>???</i> ??????????? ??????? ?????, ????????????? Duffy, ?????? ???? ???????, ????? ???????? ????? ????? ????????. ? ??????? ?? ???????? ????? <a
+href="$$lotm_200810$$">???????? ????</a> ??????? ?????? ??? ???? ????????????, ????? ????? ????????? ????????????. ?????? ?????? ????? ?? ??????????????. ??? ? ? ?????. ;-)
+</p>
+
+<p>?? ???? ? ?????????? ???? ????????? ???: &quot;Plan Ahead&quot; &mdash; ??? ?????????? ??????? &quot;????????&quot; ?????? ?? ??????, ?????????? ????? ????????????? ????????, ??? &quot;Island Labyrinth&quot;, ? ???????????? ??????? ???????????? ??????????? Enigma, ? ??? ????? ? ???? ????? ?????????????. ??????? ???????! ? ??? ? ????? ?? ????????? ? ??????? ? ???????? ???????, ??? ????? ???????????? ?????? ?? Duffy ?? ???????? ???? ????? ?????. ?? ?? ???-?????? ????? &quot;?????????????? ?????????&quot; ???, Duffy! :-)
+</p>
+
+<p>? ?????????? ???????????,<br>
+<i>Mecke</i></p>
+
+<p>???????? ??????? ?? ?????? ?????, ??????? Mecke. ?? ????? ???????? ???? ? ???? ????? ?????????, ????? ??? ? ???? ??????? Enigma ? ??????????? Duffy: ? ????????? ?????? Enigma ????? ????????? ???????? ???????? Jacob'? Scott'?, ???? ? ?? ?????: ????????? ???????????? ????? Enigma ?????? ????????? ??????????? &quot;??????? ????&quot;. ?? ????????? ?? ???? &quot;????? ??????&quot; ????? ????????????? ??????????, ? ????????, ?? ?? ????? ???????? ? ????????? ???????.</p>
+
+<p>?????? ???????? ? ????? ?????? ??????, ??????? ?? ?????? ????? ?? ??????? ???, ?? ????? ???????? ?? ?????? ????????? ????? ??????????? ? ????????? ???????, ??????? ???????? ????????? ??????????? ????? ??????? ??????. ??????????? ?? ??????????? ??????, ??????????? ?????, ????????? ?? ?????? ? &quot;Plan Ahead&quot;, ?? ? ?? ?????? ?????? ???????????? ????????? Jacob'?, ????? ??? ? ?? ?????? ?????? &quot;??????? ??????&quot;</p>
+
+<h4>?? ???????????? ? ???????? ???????</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_v.png" alt="??????? ??????" border="0">
+<div class="imagetitle">Versailles</div>
+</div>
+
+<div class="quote">
+??? ?? ???????? ??????? ????????? ???????????? ?? ?????? ??????? Enigma ? ??????? ??????? ? ?????, ???????, ??? ? ??????? ??? &quot;?????????? ???????&quot;. ? ??????, ??? &quot;??????????&quot; ????? ??????? ????? ???????, ?? ???????, ??-??????, ?? ???? ?? ????????? ?????? ?? ???????? ???????????? (? ??? ???? ?????? ???????????? ?????????? ???????), ? ??-??????, ??????? ???????? ????? ??????? ?? ???? ??????? ? ??????? ??????????. &quot;Plan Ahead&quot; &mdash; ???, ??? ??? ???????, ? ????????? ?????? &quot;???????&quot; ???????: ? ???? ???? (??????????) ?????????? ???????, ? ??? ??? ????? ??????????, ????????? ? ???????????? ????? ????????????? ?????????????? ???????. ??? ????? ??????????? ???????????? ? ??????? ???????. ????? ????, ??????????? ???????? &quot;??????????? ???????&quot; ??? ??????? ?????? ?????????, ?? ????, ?? ??? ?????? ???-?? ????????????? ????????, ???????? ??? ?????????, ??? ?????????? ??? ?????????; ???, ? ???????, ????????, ??? ?????????? ????????????!
  ??? ????????? ???????. ??? ??? ???????, ?????? ??????? ????????????? ????? ???????? (?????????, ??????????? ?????? ???? ??????? ??? ???????????? ?????????????, ? ???????????? ?????????). ???? ??????? ????????????? ???? ????????, ?? ???, ??? ???????, ????? ? ?????? ?????? ??????? &quot;??????????&quot;, ???? ???, ??, ????????, ??????. ????????????, ????? ???????, ???????? ??????? ????? ???????? ???????: ?????????? ?????? ??????? ????? ??????? ?????? ???????????? ??????? ? ???????? ???????, ???????? ??, ?????????? ????????? ??????????????. ? ???????, ??? ??? ??????????? ? ??? &quot;Plan Ahead&quot; ? ??? &quot;Plan Ahead&quot; ???? ?????? ??????????? ????????? ???????? ??????????? ? ?????????? ?????, ??????????? ????? ??????? ????? ?????? ????????? ????? ????????? ? ??? ?????????? ???????????? ? ????????????.
+</div>
+
+<div class="author">Jacob Scott</div>
+
+<hr>
+<table>
+<tr><td>
+?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????:
+</td><td>
+<a href="$$lotm_200904$$">
+<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+alt="????????? ?????? ???-???" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<!--<p>Dear reader, we have a constant need for articles from you about Enigma's
+great levels. Please, send us any articles, even comments, you write to:</p>
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+<p>We're particularly interested in articles about the following levels:
+</p>
+<ul>
+<li>&quot;Little Puzzles&quot; by Jon 'WB' Sneyers</li>
+</ul>
+<p>Many thanks in advance, only your help can keep the LotM alive!</p>
+
+<p><i>Your Enigma Team</i></p>-->
+
+</div>
\ No newline at end of file



From ral at mail.berlios.de  Sun Apr 19 12:05:27 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 19 Apr 2009 12:05:27 +0200
Subject: [Enigma-game-svn] r1636 - trunk/src/items
Message-ID: <200904191005.n3JA5RTl004054@sheep.berlios.de>

Author: ral
Date: 2009-04-19 12:05:26 +0200 (Sun, 19 Apr 2009)
New Revision: 1636

Modified:
   trunk/src/items/BlockerItem.cc
Log:
Trunk 1.1:
- fix it_blocker: special case of a stone being pushed from a trigger to a
    neighboring IDLE blocker item with the releasing trigger toggeling
    the blocker, too - desired result is state UNLOCKED

Modified: trunk/src/items/BlockerItem.cc
===================================================================
--- trunk/src/items/BlockerItem.cc	2009-04-18 14:12:46 UTC (rev 1635)
+++ trunk/src/items/BlockerItem.cc	2009-04-19 10:05:26 UTC (rev 1636)
@@ -139,7 +139,17 @@
                 }
             }
             else { // any other stone
-                setIState(LOCKED);
+                switch (state) {
+                    case IDLE:
+                    case NEW:
+                    case LOCKED:
+                        setIState(LOCKED);
+                        break;
+                    case UNLOCKED:
+                        // case appears if a stone is pushed from a trigger to a neighboring
+                        // idle blocker item with the releasing trigger toggeling the blocker, too
+                        break;
+                }
             }
         }
         else {              // stone disappeared



From andreasl at mail.berlios.de  Sun Apr 19 13:03:51 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Sun, 19 Apr 2009 13:03:51 +0200
Subject: [Enigma-game-svn] r1637 - in feature_branches/hp_lotm: images/lotm
	input/lotm
Message-ID: <200904191103.n3JB3pOX032638@sheep.berlios.de>

Author: andreasl
Date: 2009-04-19 13:03:45 +0200 (Sun, 19 Apr 2009)
New Revision: 1637

Added:
   feature_branches/hp_lotm/images/lotm/lotm_200904_yang.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_yin.png
   feature_branches/hp_lotm/images/lotm/lotm_200904_z.png
   feature_branches/hp_lotm/input/lotm/lotm_200904_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang_de.html
Removed:
   feature_branches/hp_lotm/images/lotm/lotm_200904_y.png
Modified:
   feature_branches/hp_lotm/input/lotm/lotm_200904.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
   feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html
Log:
LotM Feature branch:
 - German version of LotM 200904
 - Two new yinyang-stone-images, to replace lotm_200904_y.png
   (adaptions in English, German, Russian article)
Todo:
 - Current LotM-ratings for archive
 - Maybe minor changes to English article
   

Deleted: feature_branches/hp_lotm/images/lotm/lotm_200904_y.png
===================================================================
(Binary files differ)

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_yang.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_yang.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_yin.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_yin.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200904_z.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200904_z.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -12,7 +12,7 @@
 You are currently on the Yin side of this article. The Yang side is here: 
 </td><td>
 <a href="$$lotm_200904_yang$$"> 
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
 alt="The magical yin-yang stone" border="0">
 </a>
 </td></tr>
@@ -388,7 +388,7 @@
 You are currently on the Yin side of this article. The Yang side is here: 
 </td><td>
 <a href="$$lotm_200904_yang$$"> 
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
 alt="The magical yin-yang stone" border="0">
 </a>
 </td></tr>

Added: feature_branches/hp_lotm/input/lotm/lotm_200904_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_de.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_de.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -0,0 +1,526 @@
+<div class="lotm">
+$$lotm_header$$
+
+<h3 class="lotm">
+<span class="date">April 2009: </span>
+&quot;Plan Ahead&quot; von Jacob Scott
+</h3>
+
+<hr>
+<table>
+<tr><td>
+Dies ist der Yin-Teil des Artikels. Zum Yang-Teil geht's hier entlang:
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
+alt="Der Yin-Yang-Zauberstein" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<p>Diesen Monat pr&auml;sentieren wir Ihnen einen weiteren Level von Jakob, dem
+Baumeist &hellip; Verzeihung, von Jacob Scott. Dieser Autor ist bereits eine
+lebende Legende, nicht nur unter den Enigma-Spielern, sondern auch, wie uns
+bereits seit l&auml;ngerem bekannt ist (siehe <a href="$$lotm_200807$$">LdM
+7/2008, Gods Of Enigma II</a>), in der Welt der Murmeln. Er hat neue
+herrausragende Level mit einer solch erstaunlichen Geschwindigkeit
+hervorgebracht, dass einige Enigma-Experten schon zu zweifeln begannen, ob er
+denn wirklich menschlicher Natur sei (siehe <a href="$$lotm_200707$$">LdM
+7/2007, Elaborate</a>), und meiner Ansicht nach klingen ihre Argumente ziemlich
+&uuml;berzeugend. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_e.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einige Rekorde vom Februar 2009 (Yin Mode)</caption>
+<colgroup>
+<col width="80">
+<col width="160">
+</colgroup>
+<tr><td class="num">0:51</td>
+<td class="left">Moneymaker</td></tr>
+<tr><td class="num">0:55</td>
+<td class="left">Stupid</td></tr>
+<tr><td class="num">0:58</td>
+<td class="left">daydreamer</td></tr>
+<tr><td class="num">1:14</td>
+<td class="left">ryujun</td></tr>
+<tr><td class="num">1:16</td>
+<td class="left">Daisy</td></tr>
+<tr><td class="num">1:23</td>
+<td class="left">Mentist</td></tr>
+<tr><td class="num">1:25</td>
+<td class="left">Django</td></tr>
+<tr><td class="num">1:27</td>
+<td class="left">B-Huff</td></tr>
+<tr><td class="num">1:35</td>
+<td class="left">dev0</td></tr>
+<tr><td class="num">1:36</td>
+<td class="left">Gloop+Ronald</td></tr>
+<tr><td class="num">1:38</td>
+<td class="left">Lukas</td></tr>
+<tr><td class="num">1:45</td>
+<td class="left">Dime+Malla</td></tr>
+<tr><td class="num">1:46</td>
+<td class="left">Raoul</td></tr>
+<tr><td class="num">1:50</td>
+<td class="left">U-Punkt+mecke</td></tr>
+<tr><td class="num">1:51</td>
+<td class="left">Ludmian</td></tr>
+<tr><td class="num">1:56</td>
+<td class="left">Taztunes+ABS</td></tr>
+<tr><td class="num">1:58</td>
+<td class="left">Alex</td></tr>
+<tr><td class="num">2:02</td>
+<td class="left">Ale+Craven</td></tr>
+<tr><td class="num">2:04</td>
+<td class="left">Safalra</td></tr>
+<tr><td class="num">2:20</td>
+<td class="left">Mark P.</td></tr>
+<tr><td class="num">2:26</td>
+<td class="left">JuSt</td></tr>
+<tr><td class="num">2:44</td>
+<td class="left">Andy</td></tr>
+<tr><td class="num">2:45</td>
+<td class="left">Tobias</td></tr>
+<tr><td class="num">2:51</td>
+<td class="left">Hans-HD</td></tr>
+<tr><td class="num">2:59</td>
+<td class="left">shoki</td></tr>
+<tr><td class="num">3:08</td>
+<td class="left">Freshman</td></tr>
+<tr><td class="num">3:25</td>
+<td class="left">para_doks</td></tr>
+<tr><td class="num">3:29</td>
+<td class="left">WP319</td></tr>
+<tr><td class="num">3:52</td>
+<td class="left">alain</td></tr>
+<tr><td class="num">4:48</td>
+<td class="left">H-J.Epting</td></tr>
+<tr><td class="num">5:02</td>
+<td class="left">biotopa</td></tr>
+<tr><td class="num">6:51</td>
+<td class="left">AlephD</td></tr>
+</table>
+
+<p> Um die Wahrheit zu sagen, wussten wir zun&auml;chst nicht so recht, wie wir
+es am besten angehen sollten, einen Artikel &uuml;ber einen Level wie diesen zu
+verfassen. Es schien uns nahezu unm&ouml;glich zu sein, etwas &uuml;ber den
+Level zu schreiben, das nicht zu einem einzigen riesigen Spoiler geraten
+w&uuml;rde. Dann aber kam uns der rettende Gedanke: Warum sich selbst etwas aus
+den Fingern saugen, wenn wir unseren Lesern doch einen Erfahrungsbericht aus
+erster Hand anbieten k&ouml;nnten, von einer Person, der eine Innenansicht des
+Levels verg&ouml;nnt war? </p>
+
+<p> Keinen Plan, wer gemeint sein k&ouml;nnte? Die Rede ist nat&uuml;rlich von
+Henry Blackball. Ja, genau, <i>der</i> Henry Blackball, der ber&uuml;hmte
+Weltreisende, die Murmel, die sich in mehr Enigma Welten gewagt hat als je eine
+Murmel zuvor &mdash; und auch danach. Bereits zu Lebzeiten wurde er zur Legende.
+Und als er zu Beginn der &Auml;ra 1.0 sein Buch &quot;Gegen die vier Elemente
+und andere Abenteuer&quot; ver&ouml;ffentlichte, das im Handumdrehen zum
+Bestseller avancierte, wurde er wahrhaftig zu einem Begriff. Sein
+mysteri&ouml;ses Schicksal verst&auml;rkte nur das &ouml;ffentliche Interesse an
+seiner Person. Kurz nach dem Erscheinen des Buches kehrte er Ruhm und Reichtum,
+welche ihm der Erfolg als Bestsellerautor beschert hatten, den R&uuml;cken zu,
+und begab sich auf seine zweite Reise zur Welt der G&ouml;tter, woran auch die
+g&ouml;ttlichen Rundungen seiner reizenden Braut Anna Whiteball nichts zu
+&auml;ndern vermochten. Wie aufmerksame Leser unserer LdM-Rubrik sicherlich
+richtig vermutet haben, kehrte er niemals zur&uuml;ck. Ebenso wenig wie Anna
+Whiteball, die voll Sorge um das Wohlergehen ihres Liebsten bald darauf
+ebenfalls ihr Zuhause verlies, um sich auf die Suche nach Henry zu machen, in
+der Hoffnung ihm bei seinen Abenteuern hilfreich zur Seite stehen zu
+k&ouml;nnen. </p>
+
+<p> Denjenigen unter unseren Lesern, denen es gelungen ist, den Level zu
+l&ouml;sen, wird sicherlich nicht entgangen sein, dass Henry Blackball in seinen
+Schilderungen auf Detailtreue nicht ganz so viel Wert legt. In seinem Buch hat
+er Dichtung und Wahrheit miteinander verwoben, und noch viele Jahre nach seinem
+Verschwinden murmelte man dar&uuml;ber, wieviel des von ihm Beschriebenen er
+denn wirklich erlebt habe, und wieviel lediglich von ihm erfunden worden sei.
+Die Leser werden sicherlich selbst merken, dass manches in Henrys Erz&auml;hlung
+etwas unwahrscheinlich klingt. Einige Dinge, die er in diesem Kapitel
+beschreibt, konnten von anderen Reisenden, die dieser Welt nach ihm einen Besuch
+abstatteten, so nicht best&auml;tigt werden, was darauf hindeuten k&ouml;nnte,
+dass diese lediglich seiner Phantasie entsprungen sind. Vielleicht aber auch
+nicht. Es ist allgemein bekannt, dass die Welten Enigmas sich gelegentlich auf
+mysteri&ouml;se Weise ver&auml;ndern. Kurze und leicht zug&auml;ngliche Wege zu
+den Oxyds verschwinden mit einem Mal auf ebenso mysteri&ouml;se Weise, wie neue
+Hindernisse aus dem Nichts auftauchen. M&ouml;glicherweise hat auch die
+betreffende Welt eine Phase der Ver&auml;nderung durchlaufen seit Henrys Besuch.
+Wie dem auch sei, wir sahen uns gen&ouml;tigt, einige Passagen des Kapitels hier
+nicht zu ver&ouml;ffentlichen, um denjenigen unter unseren Lesern, die den Level
+nocht nicht gel&ouml;st haben, nicht zu viel zu verraten und ihnen nicht den
+Spass zu verderben. </p>
+
+<p>F&uuml;r unseren Artikel haben wir die Standardausgabe des Murmel Verlags
+verwendet. Die erste Ausgabe von Henrys Buch war durch die Murmelregierung
+erheblich zensiert worden, die dadurch verhindern wollte, dass wichtige
+Informationen &uuml;ber einige von Enigmas Welten an die &Ouml;ffentlichkeit
+gelangten. Sp&auml;ter dann, als es zu ersten Unruhen kam im Zuge der Forderung
+wei&szlig;er Murmeln nach Gleichberechtigung, wurden weitere Passagen
+gestrichen, die nicht im Einklang mit den vorherrschenden politischen und
+sozialen Einstellungen der damaligen Zeit standen. Selbst die urkomischen
+Ausf&uuml;hrungen &uuml;ber Minikugeln &mdash; winzige insektenartige Kreaturen,
+die sich mittels einer eigent&uuml;mlichen Art von L&ouml;chern im Boden von
+Welt zu Welt fortbewegen &mdash; waren davon betroffen, obwohl es bis auf den
+heutigen Tag niemandem gelungen ist festzustellen, ob Minikugeln sich denn
+&uuml;berhaupt auch nur im Allergeringsten daf&uuml;r interessieren, was Murmeln
+&uuml;ber sie denken. Die Edition des Murmel Verlags, die auf einem Manuskript
+beruht, das man etliche Jahre nach Henrys Verschwinden auf dem Dachboden seines
+Hauses entdeckt hat, ist die erste, die den vollst&auml;ndigen Text seines
+ber&uuml;hmten Werkes umfasst. </p>
+
+<h3>Gegen die vier Elemente und andere Abenteuer</h3>
+
+<h4><i>Von Henry Blackball</i></h4>
+
+<h4>Kapitel 23: Wie ich mich beim Vorausplanen selbst &uuml;bertraf</h4>
+
+<a name="back1"></a>
+
+<p>Langsam &ouml;ffnete ich meine Augen. Die erdenklich knappe Flucht vor den
+Rotoren war mir noch lebendig im Ged&auml;chtnis. Ich konnte gerade noch das
+letzte Oxyd an diesem verr&uuml;ckten Ort ber&uuml;hren, kurz bevor mich diese
+verfluchten Kreaturen in St&uuml;cke gerissen h&auml;tten. Mit etwas Gl&uuml;ck
+schaffte ich es gerade noch rechtzeitig, mich und Montag<a
+href="#note1"><sup><small>1</small></sup></a> aus dieser heiklen Lage in die n&auml;chste Welt
+zu teleportieren. </p> 
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_a.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Es war ein wirklich <br>sch&ouml;ner Ort &hellip;</div>
+</div>
+
+<p>Montag &hellip; Wo ist er?? Ah, dort, auf der anderen Seite des &hellip;
+Teichs? Jawohl, hier befand sich ein Teich und &hellip; Zum ersten Mal nahm ich
+diesen Ort richtig wahr. Die Umgebung war recht sch&ouml;n, &uuml;bersichtlich,
+mit dunkelrotem Untergrund und grauen Mauern. Da gab es den Teich, auf zwei
+Seiten eingefasst von gelben Mauern, zwei Einbahnwege (deren Untergrund sich in
+Wohlgefallen aufzul&ouml;sen begann; das musste ber&uuml;cksichtigt werden,
+sollte ich diese Wege benutzen m&uuml;ssen), dann lagen noch ein paar
+Samenk&ouml;rner verstreut herum und in deren N&auml;he eine alte abgenutzte
+Tasche. &quot;Was der armen Seele, die das zur&uuml;ckgelassen hat, wohl
+geschehen ist&quot;, dachte ich mir. Sich dar&uuml;ber allzu lange den Kopf zu
+zerbrechen, schien mir jedoch wenig angebracht. </p>
+
+<p>Und ganz rechts waren die Oxyds. Die Oxyds? So einfach zu erreichen? Die
+G&ouml;tter, welche die vielen Welten Enigmas erschaffen hatten, waren nur
+selten so wohlwollend. Existiert irgendwo ein verstecktes Oxyd? Ich schaute mich
+um. Auf der anderen Seite des Teichs bei Montag gab es einige andere Oxyds. Wir
+hatten sie nur abwechselnd zu &ouml;ffnen, und dann w&uuml;rde Montag &uuml;ber
+den Einbahnweg her&uuml;berkommen und das letzte hinter der wei&szlig;en
+Einfassung &ouml;ffnen. Alsbald empfand ich sowohl Erleichterung als auch
+Entt&auml;uschung. Erleichterung, da ich sehr wahrscheinlich an diesem Ort nicht
+f&uuml;r ein Jahr festsitzen w&uuml;rde, um einige harte R&auml;tsel zu
+l&ouml;sen, oder meine wertvollen Extra-Leben vor Rotoren fliehend nicht aufs
+Spiel zu setzen br&auml;uchte. Entt&auml;uschung, weil man bei der Erforschung
+von Welten wie dieser kaum Ruhm ernten konnte. </p>
+
+<a name="back2"></a>
+
+<p>Da diese Welt ziemlich einfach erschien und keine unmittelbare Gefahr
+bestand, entschloss ich mich, mir etwas Zeit zu nehmen und mich genauer
+umzusehen. Ich holte aus meiner Westentasche ein Buch, von dem ich mich niemals
+trennte: &quot;Welcher Gott hat diese besondere Welt erschaffen?&quot; von
+William Whiteball<a href="#note2"><sup><small>2</small></sup></a>. Zum abertausendsten Mal
+fragte ich mich, warum ich immer wieder dieses Buch zu Rate zog. Wie k&ouml;nnen
+wir uns nur sicher sein, dass die G&ouml;tter Enigmas &uuml;berhaupt existiert
+haben, geschweige denn wissen, welche Utensilien jeder Einzelne von ihnen
+bevorzugt hat, als er seine Welten erschuf? Aber andererseits wird behauptet,
+die alte Murmel habe sich mit vielen verbotenen Mysterien eingehend befasst,
+fremdartige Orte besucht und Schriften gelesen, auf die seit &Auml;onen keine
+Murmel einen Blick geworfen hat. Vielleicht ist also doch zumindest ein
+K&ouml;rnchen Wahrheit in seinem Werk enthalten.</p> 
+
+<p>Okay, Frage Nr. 1: &quot;Versuchst du seit Monaten, die R&auml;tsel dieser
+Welt zu entschl&uuml;sseln, trotz der Tatsache, dass nirgends etwas verborgen
+ist?&quot; Falls das der Fall ist, gehe weiter zu Frage Nr. 2, ansonsten gehe
+zur Frage Nr. 5.&quot; Ha, nein, die Welt ist sogar viel einfacher als ich mir
+das w&uuml;nsche. Frage Nr. 5: &quot;Sitzt dir eine wie verr&uuml;ckt tickende
+Uhr im Nacken?&quot; Mein Gott, nat&uuml;rlich nicht! W&auml;re es so,
+w&uuml;rde ich dein verdammtes Buch nicht lesen, du d&auml;mlicher Langweiler.
+Frage Nr. 10 &hellip; Frage Nr. 11 &hellip; Frage Nr. 39 &hellip; Endlich!
+&quot;Deine Welt wurde h&ouml;chstwahrscheinlich erschaffen von Jakob dem
+Baumeister.&quot; Okay, und wirst du mir jetzt bitte irgendeinen Beweis liefern,
+dass Jacob der Baumeister tats&auml;chlich existiert hat? Nein, wirst du nicht,
+weil du keinen hast. Aber genug davon! Lass uns die Oxyds &ouml;ffnen und uns
+dann einen interessanteren Ort aufsuchen. &quot;Heh, Montag!&quot; </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_b.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Die dumme Kreatur hatte <br>ihren Yin-Yang verloren!</div>
+</div>
+
+<a name="back3"></a>
+
+<p>Doch pl&ouml;tzlich &uuml;berfiel mich ein erschreckender Gedanke. Die dumme
+Kreatur hatte ihren Yin-Yang verloren! Naja, man kann nicht erwarten, dass
+jemand, dessen Nachname Whitebrush lautet, besonders helle ist, aber das war
+schon ein wenig zu viel des Guten sogar f&uuml;r einen wie ihn<a
+href="#note3"><sup><small>3</small></sup></a>. Panik &uuml;berkam mich und die eiskalten Finger
+des Schreckens schlossen sich um mein Herz. Ich sitze f&uuml;r alle Zeiten hier
+fest! Niemand wird zu meiner Rettung erscheinen! Dann jedoch sagte ich zu mir,
+&quot;Nun gut, Henry, keine Panik! Fr&uuml;her oder sp&auml;ter wird dir schon
+etwas einfallen.&quot; Langsam schaute ich mich nochmal um. Was steht mir zur
+Verf&uuml;gung? Eins &mdash; zwei &mdash; drei &mdash; vier &mdash; f&uuml;nf
+K&ouml;rner, eine Tasche und zwei Dynamitstangen dort dr&uuml;ben jenseits des
+Einbahnwegs. Gar nicht so schlecht. Es muss einen Weg geben, sie zu benutzen, es
+muss &hellip; </p> 
+
+<p>Auf einmal sah ich, was zu tun war. Gro&szlig;artig! Die Kreatur auf der
+anderen Seite des Teichs hat keine K&ouml;rner, hat sie aber dringend
+n&ouml;tig. Ich habe die K&ouml;rner und ebenso eine Tasche. Damit sollte es
+m&ouml;glich sein, ihm ein paar zu bringen. Die Einbahnwege befinden sich kurz
+vor dem Zerfall, weshalb mir h&ouml;chstens ein Versuch bleibt, hin&uuml;ber und
+zur&uuml;ck zu gelangen. Wieviele K&ouml;rner muss ich nun Montag geben? Muss
+ich irgendetwas von der anderen Seite des Teichs mitnehmen? Ich &uuml;berdachte
+die Situation ein bisschen mehr. [..] </p> 
+
+<a name="back4"></a>
+
+<p>Dann betrat ich den Weg ohne Wiederkehr, in meiner Tasche befand sich
+lediglich die ben&ouml;tigte Anzahl von Samen. Ein berauschendes Gef&uuml;hl von
+Grandiosit&auml;t durchstr&ouml;mte mich, als mir die Genialit&auml;t meines
+eigenen Plans bewu&szlig;t wurde. Jede andere Murmel w&auml;re bis ans Ende
+aller Zeiten an diesem Ort steckengeblieben. Nicht so ich. Mir war es sogar
+gelungen, einen Fluchtplan zu entwerfen, der ohne die Verwendung eines zweiten
+Yin-Yangs auskam. Als ich auf Montags Seite des Raumes angelangt war, drehte ich
+mich um, und sah die letzten &Uuml;berreste des br&uuml;chigen Bodens in den
+Abgrund st&uuml;rzen. Genau wie ich schon richtig vermutet hatte, w&uuml;rde es
+nicht mehr m&ouml;glich sein, diese Passage noch einmal zu benutzen. Rasch
+rollte ich hin&uuml;ber zu Montag, &uuml;berreichte ihm die Tasche und
+erz&auml;hlte ihm von meinem Plan. Seine Augen wurden gro&szlig; vor
+Verwunderung ob meiner Cleverness. Die arme Kreatur hatte ohne Frage schon jede
+Hoffnung aufgegeben, jemals lebend diesen Ort zu verlassen, und in stiller
+Verzweiflung ihre aussichtslose Lage beweint<a
+href="#note4"><sup><small>4</small></sup></a>.
+</p> 
+
+<p> Die Tasche bei Montag zur&uuml;cklassend, rollte ich hinunter zu der
+Dynamitstange hinter einem schwarzen Gleichrichter. Auf einmal h&ouml;rte ich
+etwas klicken. G&uuml;tige G&ouml;tter von Enigma! Ein unsichtbarer
+Bodenschalter! In panischer Angst blickte ich um mich. Da, ein Loch! Eine
+Bodenplatte ganz in der N&auml;he von dem Ort, an dem sich Montag befand, war
+verschwunden. Na, wenn es nur das ist &mdash; selbst f&uuml;r jemanden wie
+Montag sollte es m&ouml;glich sein, NICHT in den Abgrund zu fallen. Aber dann
+mit einem Male sah ich den Schatten einer Bewegung dort dr&uuml;ben. Oh nein!
+Ein Rotor tauchte aus dem Abgrund hervor &hellip; Dann noch einer &hellip; Und
+noch einer. Sofort begannen die drei Kurs auf Montag zu nehmen. Ohne weiter
+nachzudenken, st&uuml;rzte ich los, um sie abzufangen. Gerade als der erste
+Rotor nur um Haaresbreite von Montag entfernt war, erreichte ich ihn, und
+versetzte ihm einen Sto&szlig;, so dass er au&szlig;erhalb ihrer Reichweite
+rollte. Nun war die ganze Aufmerksamkeit der drei Rotoren auf mich gerichtet,
+und ich musste sie jetzt nur wieder dorthin locken, wo sie hergekommen waren:
+zur&uuml;ck in den Abyss. Ich bewegte mich nach rechts. Dann nach links. Dann
+wieder nach rechts. Schnelligkeit und Geschicklichkeit: darauf kommt es an, wenn
+man gegen Rotoren bestehen will. Ich musste vorsichtig sein. Ein wenig zu
+langsam, und sie w&uuml;rden mich in Einzelteile zerlegen. Ein wenig zu schnell,
+und sie w&uuml;rden mich aus den Augen verlieren. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_c.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Montag: Um Haaresbreite <br>seinem Schicksal entkommen.</div>
+</div>
+
+<p>Hier ist er! Der Abyss! Ich machte einen raschen Schwenker nach links, rollte
+im Bogen um den Abgrund herum und machte mich dann davon, so schnell ich konnte.
+Die gl&uuml;cklicherweise etwas begriffsstutzigen Kreaturen bemerkten nicht,
+dass sie in eine Falle liefen, sondern bewegten sich zielstrebig weiter auf den
+Abgrund zu. Mit gro&szlig;er Genugtuung sah ich zu, wie die Rotoren einer nach
+dem anderen wieder dorthin entschwanden, woher sie aufgetaucht waren: in die
+endlosen Tiefen des Abyss. Geschafft! Und jetzt holen wir uns endlich das
+Dynamit. Aber da: Schon wieder eine Bewegung im Abgrund! Kommen sie zur&uuml;ck?
+Nein, es ist irgendetwas anderes. Ein durchgedrehter Wecker! Und auch dieser
+begann, sich sogleich in Richtung des armen hilflosen Montag zu bewegen. So
+schnell ich nur konnte, rollte ich hin&uuml;ber und versetzte dem missratenen
+Chronometer einen Stoss auf die Zw&ouml;lf, dass es nur so rasselte und
+klingelte. Die Kreat-Uhr lie&szlig; von Montag ab und wandte mir ihr
+Ziffernblatt zu. Das wirre Kreisen der Zeiger lie&szlig; nichts Gutes erahnen.
+Den Bruchteil einer Sekunde, bevor sich das Unget&uuml;m auf mich st&uuml;rzte,
+konnte ich zur Seite springen. Dann lockte ich es hin&uuml;ber zur Wand, wo es
+schlie&szlig;lich stehen blieb. Und ich betete inbr&uuml;nstig zu den
+G&ouml;ttern Enigmas, dass es sich nicht wieder umdrehen w&uuml;rde, bis wir mit
+dem &Ouml;ffnen der Oxyds fertig w&auml;ren. </p>
+
+<p>Ich nahm die Dynamitstange an mich und rannte zur&uuml;ck zu meiner Seite des
+Raums, und konnte h&ouml;ren, wie auch hier der br&uuml;chige Boden hinter mir
+zerfiel. Pl&ouml;tzlich vernahm ich ein weiteres Ger&auml;usch. Ich drehte mich
+um. Die Uhr. Sie hatte wieder begonnen sich zu bewegen. [..] Ich stie&szlig; die
+letzte Holzkiste ins Wasser, gerade als der Wecker nur noch einen Schritt von
+Montag entfernt war. Noch einen Moment und er w&uuml;rde sich auf dem gleichen
+Feld wie Montag befinden! Aber was f&uuml;r ein Gl&uuml;ck: Die Kreat-Uhr hatte
+im letzten Augenblick beschlossen, die Richtung zu wechseln. Ein tiefer Seufzer
+der Erleichterung entrang sich meiner Brust, dann &uuml;bergab ich die Kontrolle
+&uuml;ber das weitere Geschehen an Montag. Bitte, mein Freund, lass mich nicht
+im Stich! Ich vertraue dir! [..] </p>
+
+<p>Ich schaute zu wie Montag die Br&uuml;cke fertig baute, und konnte nicht
+umhin, die Gechicklichkeit zu bewundern, mit welcher er ein ums andere Mal der
+verr&uuml;ckten Uhr auswich, w&auml;hrend er sich gewissenhaft an meinen Plan
+hielt. Ich musste mir eingestehen, dass ich ihn wohl ein wenig untersch&auml;tzt
+hatte. Bald waren alle Oxyds ge&ouml;ffntet bis auf das eine, von einem
+wei&szlig;en Gitter gesch&uuml;tzte, hinter mir. Da sah ich, wie sich das
+Uhr-Wesen geradewegs auf mich zubewegte. &quot;Montag! Mach' rasch!&quot; Ich
+begann zu beten, es war zweifelhaft, ob er mich &uuml;berhaupt hatte h&ouml;ren
+k&ouml;nnen. Es ist nicht einfach, ohne ein Yin-Yang an einem Ort miteinander zu
+kommunizieren, an dem sich geschlossene Oxyds befinden. Aber dann sah ich, wie
+er sich behende auf das Oxyd zubewegte, und einen Moment sp&auml;ter erstrahlte
+es in wundervoller Pracht. Ich z&ouml;gerte keinen Sekundenbruchteil, schnappte
+mir Montag und verlie&szlig; den Ort. Und als der Raum vor meinen Augen
+verschwamm, stellte ich mir zum abertausendsten Mal die Frage, wie wohl die
+n&auml;chste Welt beschaffen sein w&uuml;rde &mdash; welche entz&uuml;ckenden
+oder grauenhaften Dinge wohl dort auf uns warteten. </p>
+
+<h3>Anmerkungen des Herausgebers: </h3>
+
+<div class="lotmpic">
+<a href="#back1">
+<img src="$$imagedir$$/lotm/lotm_200904_z.png"
+alt="Zur&uuml;ck" border="0">
+</a>
+</div>
+<p><a name="note1"><b>1)</b></a> Eine wei&szlig;e Murmel, die Henry auf einer
+seiner Reisen traf. Sein richtiger Name war Jeremy Whitebrush. Mit Henry
+unternahm er zahlreiche Reisen und war diesem eine gro&szlig;e Hilfe bei vielen
+seiner Abenteuer. Niemand wei&szlig;, warum Henry ihn Montag nannte. Als man
+Henry in einem Interview darauf ansprach, antwortete er: &quot;Ich nannte ihn
+Montag, weil ich ihn das erste Mal an einem Donnerstag traf&quot;. Das ist die
+einzige uns verf&uuml;gbare Information.  </p>
+
+<div class="lotmpic">
+<a href="#back2">
+<img src="$$imagedir$$/lotm/lotm_200904_z.png"
+alt="Zur&uuml;ck" border="0">
+</a>
+</div>
+<p><a name="note2"><b>2)</b></a> Wahrscheinlich der ber&uuml;hmteste Gelehrte
+seiner Zeit. Seine Arbeiten, darunter die ma&szlig;gebliche Abhandlung
+&quot;&Uuml;ber die vielfachen Welten Enigmas&quot;, der fragebogenartige
+Leitfaden f&uuml;r Reisende &quot;Welcher Gott hat diese besondere Welt
+erschaffen?&quot; und der Bestseller &quot;Umwandlungen f&uuml;r Dummies&quot;,
+sind allgemein bekannt in der Welt der Murmeln. Er war der Vater von Anna
+Whiteball, die sp&auml;ter Henrys Verlobte wurde. Nach dem Verschwinden seiner
+Tochter begann er zu trinken, und oft konnte man beobachten, wie er durch die
+Stra&szlig;en torkelte, eine offene Flasche Schnaps in der Hand, und vor sich
+hin murmelte: &quot;Es ist mein Fehler, nur meiner.&quot; Pl&ouml;tzlich tauchte
+er nicht mehr in den Stra&szlig;en auf. Als seine Nachbarn, beunruhigt ob seiner
+langen Abwesenheit, in sein Haus eindrangen, sahen sie, dass seine Papiere und
+B&uuml;cher auf dem Boden verstreut lagen. Ihr Besitzer wurde seither nie wieder
+gesehen. Einige Murmeln behaupten zwar, dass sie ihn an einigen entfernten Ecken
+des Enigma-Universums zu Gesicht bekommen h&auml;tten, aber die
+Glaubw&uuml;rdigkeit dieser Aussagen wird weitgehend angezweifelt.  </p>
+
+<div class="lotmpic">
+<a href="#back3">
+<img src="$$imagedir$$/lotm/lotm_200904_z.png"
+alt="Zur&uuml;ck" border="0">
+</a>
+</div>
+<p><a name="note3"><b>3)</b></a> Vergeben wir Henry seine Vorurteile. Er war
+eine Murmel seiner Zeit und in dem Zeitalter, als das Buch geschrieben wurde,
+hatte der Kampf gegen Diskriminierung jeglicher Art erst zu sprie&szlig;en
+begonnen. Zu seiner Verteidigung sei angemerkt, dass ihn seine Liebe zu der
+bezaubernden Anna Whiteball sehr ver&auml;nderte, und er in den letzten Jahren
+seines Lebens ein bekannter und einflussreicher K&auml;mpfer f&uuml;r die Rechte
+der wei&szlig;en Murmeln wurde.  </p>
+
+<div class="lotmpic">
+<a href="#back4">
+<img src="$$imagedir$$/lotm/lotm_200904_z.png"
+alt="Zur&uuml;ck" border="0">
+</a>
+</div>
+<p><a name="note4"><b>4)</b></a> Wie Jeremy Whitebrush sp&auml;ter in einem
+Interview erkl&auml;rte, habe er eigentlich schon lange vorher einen Ausweg
+gefunden und nur darauf gewartet, dass Henry sich herablasse, mit ihm zu
+sprechen.  </p>
+
+<p>
+Sch&ouml;ne Gr&uuml;&szlig;e,<br>
+<i>Ludmian Sedai</i>
+</p>
+
+<p>Okay, und nun zu guter Letzt ist die Zeit gekommen, eine Frage zu
+kl&auml;ren, die Henry Blackball zu Beginn seiner Erz&auml;hlung aufgeworfen hat
+(&quot;Welcher Gott hat diese besondere Welt erschaffen?&quot;, Frage 39), und
+den Nachweis daf&uuml;r zu liefern, dass tats&auml;chlich mehr als nur ein
+K&ouml;rnchen Wahrheit in dem Werk von William Whiteball steckt, und dass Jacob
+der Baumeister &mdash; unsere regelm&auml;&szlig;igen Leser werden diese
+Tatsache sicherlich nie in Zweifel gezogen haben &mdash; selbstverst&auml;ndlich
+wirklich existiert! Vor einigen Tagen erreichte uns eine Nachricht von ihm, in
+der er Einzelheiten zur Entstehungsgeschichte seines Meisterwerkes preisgibt
+&mdash; und nicht allzu &uuml;berraschend &mdash; h&ouml;rt sich das Ganze etwas
+anders an, als das von Henry Geschilderte. </p>
+
+<p>Allerdings scheint Jacob &mdash; sehr zu unserer &Uuml;berraschung &mdash; zu
+einer sp&auml;teren Zeit doch pers&ouml;nlich Bekanntschaft mit Henry Blackball
+gemacht zu haben, auf einer seiner Reisen durch die Welten Enigmas
+(m&ouml;glicherweise in einer der von ihm selbst geschaffenen); zumindest wagen
+wir, diese Vermutung aus dem Schlusssatz seiner Betrachtung &quot;&Uuml;ber
+Eleganz im Leveldesign&quot; zu entnehmen &mdash; diese befindet sich auf der
+<i>Yang</i> Seite unseres Artikels. </p>  <h4>Bei &quot;Plan Ahead&quot; handelt
+es sich eigentlich um eines meiner neueren Levels.</h4> 
+
+<p>Entworfen im Geist meiner beiden &quot;Seed Puzzle&quot; (und &auml;hnlicher
+Levels) besitzt es aber eine kleine Wendung: zwei Murmeln sind zu kontrollieren,
+allerdings steht nur ein Yin-Yang zur Verf&uuml;gung. Den gleichen Spa&szlig;,
+den ich bei der Erstellung der zwei &quot;Seed Puzzle&quot; (und &auml;hnlicher
+Levels wie &quot;Versailles&quot; und &quot;One-Way Streets&quot;) hatte,
+hatten, hoffe ich, auch die Spieler, die sie erfolgreich l&ouml;sen konnten. Und
+trotzdem denke ich, dass diesen Levels etwas fehlt. Ihre Puzzles sind meiner
+Meinung ziemlich hart und gut; die Level jedoch bieten wenig Abwechslung.
+Haupts&auml;chlich enthalten sie nur Samen, Wasser bzw. Abgrund,
+Einbahnstra&szlig;en und gelegentlich Bomben. Bei &quot;Plan Ahead&quot;
+w&auml;hlte ich eine gegenl&auml;ufige Strategie: ich benutzte mehr als nur
+einige wenige unterschiedliche Elemente, die alle zu den Samen in Beziehung
+stehen und miteinander gemeinsam eine in sich geschlossene Landschaft ausformen.
+M.E. ist &quot;Plan Ahead&quot; einfacher als die meisten meiner anderen Seed
+Puzzle Levels; das Konzept ist aber weniger offensichtlich, da die L&ouml;sung
+nicht darin besteht, einfach bestimmte Grates zu zerst&ouml;ren, sondern
+vielmehr mehrere unterschiedliche Gegenst&auml;nde geschickt einzusetzen. Dies
+mag die Schwierigkeit des Puzzles als Ganzes nicht erh&ouml;hen, aber sicherlich
+macht es die Sache interessanter, wie ich meine. </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_s.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Seed Puzzle</div>
+</div>
+
+<div class="quote">Zur&uuml;ckblickend scheint &quot;Plan Ahead&quot; mit den
+meisten anderen von mir entworfenen Puzzle-Levels erheblich zu kontrastieren. In
+der Mehrzahl von ihnen geht es entweder um die Erforschung einer Art von
+Labyrinth (wie z.B. &quot;Labyrinth of Puzzles&quot; oder &quot;Almost
+There&quot; oder sogar &quot;Map it Out&quot;, um nur einige zu nennen) oder die
+L&ouml;sung eines komplexen, auf einem Thema beruhenden Puzzles (wie z.B. bei
+der &quot;Alien Glyphs&quot; Serie, bei &quot;Now What?&quot; oder &quot;Open
+Path&quot;). Bei einigen sind diese Elemente in gr&ouml;&szlig;erem Umfang
+kombiniert, aber relativ wenige besitzen im Verh&auml;ltnis zu ihrer
+Gr&ouml;&szlig;e eine solche Vielf&auml;ltigkeit wie &quot;Plan Ahead&quot;.
+&Uuml;blicherweise sind sie auch in der Farbwahl dunkler gehalten und bieten
+eine weniger einladende Atmosph&auml;re, w&auml;hrend &quot;Plan Ahead&quot;
+deutlich frischer erscheint, was auch m.E. einen Wechsel im Puzzle-Design
+widerspiegelt. &quot;Plan Ahead&quot;, hoffe ich, sorgt damit f&uuml;r eine
+erfrischende Neuauflage des Seed-Puzzle-Themas: in diesem Fall in einem
+farbenfrohen und beruhigenden Umfeld, das alle Spieler, die bereit sind, in
+diese Welt einzutauchen, herausfordert &mdash; aber auch belohnt. </div>
+
+<div class="author">Jacob Scott</div>
+
+<hr>
+<table>
+<tr><td>
+Dies ist der Yin-Teil des Artikels. Zum Yang-Teil geht's hier entlang:
+</td><td>
+<a href="$$lotm_200904_yang$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
+alt="Der Yin-Yang-Zauberstein" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+</div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -12,7 +12,7 @@
 ?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????: 
 </td><td>
 <a href="$$lotm_200904_yang$$"> 
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
 alt="????????? ?????? ???-???" border="0">
 </a>
 </td></tr>
@@ -391,7 +391,7 @@
 ?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????: 
 </td><td>
 <a href="$$lotm_200904_yang$$"> 
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
 alt="????????? ?????? ???-???" border="0">
 </a>
 </td></tr>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -12,7 +12,7 @@
 You are currently on the Yang side of this article. The Yin side is here:
 </td><td>
 <a href="$$lotm_200904$$">
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
 alt="The magical yin-yang stone" border="0">
 </a>
 </td></tr>
@@ -253,7 +253,7 @@
 You are currently on the Yang side of this article. The Yin side is here:
 </td><td>
 <a href="$$lotm_200904$$">
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
 alt="The magical yin-yang stone" border="0">
 </a>
 </td></tr>

Added: feature_branches/hp_lotm/input/lotm/lotm_200904_yang_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang_de.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang_de.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -0,0 +1,354 @@
+<div class="lotm">
+$$lotm_header$$
+
+<h3 class="lotm">
+<span class="date">April 2009: </span>
+&quot;Plan Ahead&quot; von Jacob Scott
+</h3>
+
+<hr>
+<table>
+<tr><td>
+Dies ist der Yang-Teil des Artikels. Zum Yin-Teil geht's hier entlang:
+</td><td>
+<a href="$$lotm_200904$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
+alt="Der Yin-Yang-Zauberstein" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+<p>Im Oktober 2008 wurde als erster Beitrag im klassischen One-Screen-Format
+&quot;Industrial Puzzles&quot; von Raoul Bourquin als Level des Monats (LdM
+10/08) pr&auml;sentiert. Dann wurde mit &quot;Procrustes&quot; von Andreas
+Lochmann ein weiterer &quot;Onescreener&quot; im Dezember zum &quot;Olymp&quot;
+der &quot;ausgezeichneten&quot; Enigma-Level-Produktionen hinzugew&auml;hlt (LdM
+12/08). Diesen Monat werden wir einen weiteren Level im &quot;handlichen&quot;
+One-Screen-Format w&uuml;rdigen. Soll aber nicht hei&szlig;en, epische
+gro&szlig;e Abenteuer und lange Entdeckungsreisen seien out. Vielmehr zeigen
+anscheinend auch die kleineren &quot;Kammersuiten&quot;, dass sie es in sich
+haben und mehr sind als ein weniger ernst zu nehmendes Capriccio. </p>
+
+<p>In einem dieser Level wimmelt es beispielsweise nur so von Spiegeln und
+Geheimnissen, Laserstrahlen schwirren durchs backstein-industrielle Umfeld,
+sodass man kaum noch glauben kann, dass hier noch etwas m&ouml;glich ist.
+Anderswo lodert eine Feuersbrunst, inmitten einer antiken Herberge, ein
+&quot;Welcome&quot; Spiel der besonderen Art: Prokrustes pers&ouml;nlich hatte
+eingeladen! In Jacob Scotts &quot;Plan Ahead&quot; lodert nichts, alles wirkt so
+seltsam ruhig, statisch, und die zwei Akteure lassen den Eindruck zu, als sei
+dies hier eine mathematische Gleichung, die nach Ausgleichen, Transformieren,
+Eliminieren ruft: </p>
+
+<p>Wei&szlig;e Kugel + 2 Dynamitstangen + y Oxyds = Schwarze Kugel + x
+K&ouml;rner + Tasche + y Oxyds </p>
+
+<p>Dieses Levelgebilde ist alles andere als ein &quot;fetziger&quot;
+Actionlevel, hier geht es um Handeln mit Bedacht. Veranschaulicht &auml;hnelt es
+eher einem barock-symmetrischen Verlies mit zwei Insassen, die mehr oder weniger
+Bewegungsfreiheit genie&szlig;en, und die wissen: Nur wenn alle Oxyds leuchten,
+ist der Ausbruch aus diesem Level-Gem&auml;uer gelungen, der Orden in Silber
+oder Gold verliehen :-) </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_f.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Enigma V # 21</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einige Rekorde vom Februar, Yang mode</caption>
+<colgroup>
+<col width="80">
+<col width="160">
+</colgroup>
+<tbody>
+<tr><td class="num">0:47</td>
+<td class="left">Moneymaker</td></tr>
+<tr><td class="num">0:50</td>
+<td class="left">Stupid</td></tr>
+<tr><td class="num">0:58</td>
+<td class="left">daydreamer</td></tr>
+<tr><td class="num">1:10</td>
+<td class="left">Daisy</td></tr>
+<tr><td class="num">1:11</td>
+<td class="left">Mentist</td></tr>
+<tr><td class="num">1:12</td>
+<td class="left">ryujun</td></tr>
+<tr><td class="num">1:15</td>
+<td class="left">Ronald</td></tr>
+<tr><td class="num">1:16</td>
+<td class="left">Jinajon</td></tr>
+<tr><td class="num">1:17</td>
+<td class="left">Django+dev0</td></tr>
+<tr><td class="num">1:21</td>
+<td class="left">B-Huff+Malla</td></tr>
+<tr><td class="num">1:25</td>
+<td class="left">Dime</td></tr>
+<tr><td class="num">1:26</td>
+<td class="left">Gloop+Safalra</td></tr>
+<tr><td class="num">1:30</td>
+<td class="left">Emmanuel+mecke</td></tr>
+<tr><td class="num">1:31</td>
+<td class="left">Alexandros</td></tr>
+<tr><td class="num">1:33</td>
+<td class="left">Freshman</td></tr>
+<tr><td class="num">1:34</td>
+<td class="left">Alex</td></tr>
+<tr><td class="num">1:35</td>
+<td class="left">U-Punkt</td></tr>
+<tr><td class="num">1:39</td>
+<td class="left">Taztunes</td></tr>
+<tr><td class="num">1:40</td>
+<td class="left">ABS</td></tr>
+<tr><td class="num">1:42</td>
+<td class="left">Craven</td></tr>
+<tr><td class="num">1:43</td>
+<td class="left">Tobias+Ludmian</td></tr>
+<tr><td class="num">1:45</td>
+<td class="left">para_doks</td></tr>
+<tr><td class="num">1:51</td>
+<td class="left">JuSt</td></tr>
+<tr><td class="num">1:58</td>
+<td class="left">mrduke</td></tr>
+<tr><td class="num">1:59</td>
+<td class="left">Ale+Raoul</td></tr>
+<tr><td class="num">2:03</td>
+<td class="left">shoki</td></tr>
+<tr><td class="num">2:09</td>
+<td class="left">biotopa</td></tr>
+<tr><td class="num">2:17</td>
+<td class="left">Hans-HD</td></tr>
+<tr><td class="num">2:31</td>
+<td class="left">Mark P.</td></tr>
+<tr><td class="num">2:36</td>
+<td class="left">WP319</td></tr>
+<tr><td class="num">2:37</td>
+<td class="left">gringer</td></tr>
+<tr><td class="num">2:38</td>
+<td class="left">H-J.Epting</td></tr>
+<tr><td class="num">2:54</td>
+<td class="left">Melanie</td></tr>
+<tr><td class="num">3:14</td>
+<td class="left">Andy</td></tr>
+<tr><td class="num">4:38</td>
+<td class="left">AlephD</td></tr>
+<tr><td class="num">8:10</td>
+<td class="left">brynn</td></tr>
+</tbody>
+</table>
+
+<h4>Spieler, sei willkommen im Verlies von Yin und Yang</h4>
+
+<p>Dieses Gef&auml;ngnis st&ouml;rt kein W&auml;rter mehr, <i>Schwarz</i> und
+<i>Wei&szlig;</i> sind auf sich alleine gestellt. In aller Ruhe k&ouml;nnen
+beide Insassen die L&ouml;sung ihres Schicksals &uuml;berlegen. So ensteht ein
+&quot;Dialog der Gedanken&quot;. </p>
+
+<p><i>Wei&szlig;</i> fl&uuml;stert zu <i>Schwarz</i>: &quot;Du da dr&uuml;ben,
+kannst wenigstens zu mir kommen, aber siehst du den br&ouml;ckeligen Boden, da
+kann man nur einmal r&uuml;ber, bevor er in den Abgrund br&ouml;selt. Du hast
+doch diese 5 K&ouml;rner, pack die doch in die Tasche, und bring die mit. Die
+sind uns vielleicht eine letzte 'Mahlzeit'&quot;. Und <i>Wei&szlig;</i> schaut
+auf die Uhr, die Zeit l&auml;uft, der Hunger wird gr&ouml;&szlig;er, und spricht
+weiter: &quot;Hey, hier bei mir haben die W&auml;rter in 2 Nebenr&auml;umen,
+kurz bevor sie abgehauen sind und uns hier zur&uuml;ckgelassen haben, noch 2
+Dynamitstangen dagelassen.&quot; </p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_p.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Yang, beim n&auml;chsten Mal <br>schaffen wir's!<br></div>
+</div>
+
+<p>H&auml;misch haben sie gejohlt: &quot;Mit dem Dynamit k&ouml;nnen die beiden
+Verfluchten als letzte Chance die beiden wei&szlig;en Mauern wegsprengen, und
+dann in das Schwimmbad in der Mitte springen: Diese &auml;tzende Lauge hat noch
+keiner &uuml;berlebt! Wer in dieses Wasser geht, kommt dank &quot;NaOH&quot; nie
+mehr wieder raus!!&quot; HAHAHA HAHAHA HAHAHAAA!!! </p>
+
+<p><i>Schwarz</i> denkt nach und schreit hysterisch: &quot;Ich kenn' den
+Konstrukteur dieses Kerkers! &quot;Duffy&quot; nennt er sich. Und der h&auml;tte
+gewiss eine L&ouml;sung parat, mit der wir in dieser ausweglos erscheinenden
+Situation doch einen Weg finden, alle Oxyds zu &ouml;ffnen und die Aufgabe
+erfolgreich zu l&ouml;sen. Denken wir doch mal nach &hellip; </p>
+
+<p>Vorausschauend &hellip; Vorausschauend planen &hellip;
+</p>
+
+<h4>Willkommen in Jacob Scotts (aka Duffy) Plan Ahead :-)</h4>
+
+<h4>1. Der Rundgang</h4>
+
+<p><i>Schwarz</i> sieht seine M&ouml;glichkeiten und &uuml;berlegt: &quot;Einmal
+kann ich rings herum: zu <i>Wei&szlig;</i>, und wieder zur&uuml;ck, den Pfeilen
+nach &mdash; aber nur einmal, dann ist der Weg zerbr&ouml;selt. Dieses eine Mal
+muss ich nutzen. Ich muss es nutzen, um eine dauerhafte Verbindung Rechts-Links,
+Ost-West zu schaffen, die idealerweise von meinem <i>wei&szlig;en</i> Partner zu
+nutzen ist, um bei mir das nur f&uuml;r <i>Wei&szlig;</i> zug&auml;ngliche Oxyd
+zu &ouml;ffnen.&quot; </p>
+
+<h4>2. Ein Yin und Yang Spiel</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_g.png" alt="Level of the Month" border="0">
+<div class="imagetitle">Wei&szlig;e Tr&auml;ume  <br>von schwarzen Wegen</div>
+</div>
+
+<p><i>Wei&szlig;</i> murmelt vor sich hin: &quot;Warum nur darf der Eine, was
+der Andere nicht darf? Welcher Sch&ouml;pfer hat mich als <i>wei&szlig;</i>
+definiert? Und warum darf ich nicht unter eine schwarze Arkade gehen, liebe
+Enigmasch&ouml;pfer? Wie viel einfacher w&auml;re doch alles, wenn ich alles
+k&ouml;nnte, d&uuml;rfte &hellip; Und mein Partner, die Yin da dr&uuml;ben,
+auch! Dann m&uuml;sste ich nicht warten, bis Yin zu mir findet, und der Duffy
+k&ouml;nnte mir, dem Yang nicht verbieten, <i>schwarze</i> Wege zu gehen!&quot;
+</p>
+
+<h4>3. Geteilte Welt</h4>
+
+<p>Beide rufen im Chor: &quot;Duffy! Was hast du uns nur angetan? Eingekerkert
+in diese freudlose Welt, getrennt, separiert, mit all diesen komischen
+Gegenst&auml;nden: Dynamitstangen, K&ouml;rnern, wie man sie V&ouml;geln zum
+Fressen hinwirft, und dieser leeren Tasche.&quot; Und beiden beginnt zu
+d&auml;mmern: &quot;Mit den zwei Dynamitstangen die rechte und linke weisse Wand
+l&ouml;chern, und &uuml;ber Duffys &Auml;tzlauge in der Mitte einen Steg mit
+Hilfe der 'speziellen' Korneigenschaften bauen: So sollte es funktionieren. Und
+mit einem Trick noch so manche schwarze oder weisse Arkade 'l&ouml;chern'
+&mdash; und um aus den 'Dynamitnischen' wieder herauszufinden, irgendwie diese
+'One-ways' unsch&auml;dlich machen.&quot; </p>
+
+<p>Sie kommen der L&ouml;sung n&auml;her &mdash; gemeinsam k&ouml;nnen die
+beiden es schaffen! </p>
+
+<h4>4. Raumbildung im eigenen Inventar &mdash; Vom Wachstum eines Samenkorns</h4>
+
+<p><i>Schwarz</i> erkennt: Sie muss Yang, der wei&szlig;en Kugel, K&ouml;rner
+mitbringen, bei ihrem einzig m&ouml;glichen Rundgang &mdash; aber wie? Die
+Enigmag&ouml;tter haben in ihrer Sch&ouml;pfungsgeschichte den K&ouml;rnern eine
+spezielle Eigenschaft gegeben, die hier wichtig ist: Ein abgelegtes Korn
+&quot;w&auml;chst&quot; zu einem beweglichen h&ouml;lzernen Block heran: die
+G&ouml;tter gaben ihm den Namen &quot;st-wood&quot;. Spieler, nutze diese
+Eigenschaft. Doch Vorsicht! Wenn Yin einen Seed aufnimmt, hin&uuml;ber zu Yang
+geht und ihm das wertvolle Geschenk vorschnell &uuml;bergibt, tja dann &hellip;
+ist die Zeit f&uuml;r eine andere Gabe der G&ouml;tter gekommen: F3 :-( </p>
+
+<p>Die Tasche!! &mdash; Spieler, nutze die Tasche!
+Klammer auf / Klammer zu = Tasche auf / Tasche zu.
+Mehr wird nicht verraten.
+</p>
+
+<h4>5. Wer hat die Macht in dieser &quot;Partnerschaft&quot;?</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_l.png" alt="Level of the Month" border="0">
+<div class="imagetitle">&Uuml;bergabe &mdash; <br>was wohl in der Tasche ist?</div>
+</div>
+
+<p>Zuerst ist Yin die aktiv geschaltete Murmel, wechselt sie mit ihrem
+Yin-Yang-Item auf Yang und verleiht ihm Aktivit&auml;t, so kann ihr Partner, so
+sehr er es wollte, sie nicht mehr zur&uuml;ck ins Spiel bringen, Yin bleibt dann
+f&uuml;r lange Zeit, im schwierigen Modus f&uuml;r immer passiv geschaltet.
+Spieler, finde also den richtigen Zeitpunkt zur &quot;Macht&uuml;bergabe&quot;!
+Letztendlich werden es dir in diesem Spiel beide danken. :-) </p>
+
+<h4>Fazit:</h4>
+
+<p>Dieser Onescreener ist so ganz anders als beispielsweise &quot;Industrial
+Puzzles&quot;, er ist ein Yin-Yang-Level, mit symmetrischem, klaren Aufbau,
+alles offenbarend. Das ein so klarer, kleiner Level so viel
+&quot;&Auml;rger&quot; machen kann: Wir danken Jacob Scott f&uuml;r diese
+&quot;Fuge&quot; an Inspiration, von der man anfangs gar nicht vermutet, dass
+sie viel Wissen, Timing, Genauigkeit und vorausschauendes Handeln, ein
+&quot;Plan Ahead&quot; ben&ouml;tigt. </p>
+
+<p>Yin und Yang, symbolisiert durch unterschiedliche Kugelfarben, zeitlich und
+r&auml;umlich getrennt durch ein paar &quot;Grates&quot;, genauer gesagt
+&quot;One-ways&quot; (um in der Sprache der &quot;G&ouml;tter&quot; zu bleiben),
+k&ouml;nnen es erreichen, zueinander zu finden und den Level zu l&ouml;sen. Sie
+schaffen es durch Teamwork und Vertrauen zueinander: <i>Wer</i> switched
+<i>wann</i> auf <i>wen</i>, und <i>wo</i> setzt <i>wer</i> <i>wann</i>
+<i>was</i> ein. Duffys Ordnung muss kaputt gemacht werden, damit die
+r&auml;umliche Verbindung geschaffen werden kann. In der sch&ouml;n-verstaubten
+Industriehalle (vgl. LotM 10/08) muss die Ordnung wieder hergestellt werden,
+damit wieder produziert werden kann. Patentrezepte unerw&uuml;nscht. Und damit
+wie im t&auml;glichen Leben. ;-) </p>
+
+<p>Weitere Lobeshymnen erspare ich mir: &quot;Plan Ahead&quot; ist ein
+wertvolles &quot;Kammerst&uuml;ck&quot; des Levelautors, der so sch&ouml;ne
+Sinfonien wie &quot;Island Labyrinth&quot; komponiert hat und uns Enigma
+Freunden stets viel Freude bereitet hat &mdash; so auch hiermit. Vielen Dank.
+Und, ich will mal &quot;vorausschauen&quot;, und hoffen: Dass die n&auml;chsten
+sch&ouml;nen Duffy-Level bald erscheinen werden. Plan it again, Duffy! :-) </p>
+
+<p>Sch&ouml;e Gr&uuml;&szlig;e,<br>
+<i>Mecke</i>
+</p>
+
+<p>Vielen Dank f&uuml;r deine inspirierenden Worte, lieber Mecke. Wir
+k&ouml;nnen dich und alle unsere Ldm Leser und Leserinnen, sowie alle Enigma
+Spieler und &quot;Duffy&quot;-Fans beruhigen: Auch in der n&auml;chsten Ausgabe
+von Enigma werden selbstverst&auml;ndlich wieder &quot;einige&quot; exzellente
+Kreationen von Jacob Scott enthalten sein, wenngleich auch keine neuen
+Sch&ouml;pfungen &mdash; der Erschaffer unz&auml;hliger Enigmawelten feiert seit
+einiger Zeit seinen wohlverdienten &quot;siebten Tag&quot;. Aber einige dieser
+&quot;neuen alten&quot; Werke haben es wahrhaft in sich, und vielleicht wird uns
+das eine oder andere davon noch hier an diesem Ort begegnen, soviel sei an
+dieser Stelle schon einmal gesagt. </p>
+
+<p>Abgesehen von den Ausf&uuml;hrungen zu seinem Level des Monats &mdash; der
+auf der Yin-Seite des Artikels zu finden ist &mdash; haben wir auch eine kurze
+allgemeine Betrachtung &uuml;ber &quot;Eleganz im Leveldesign&quot; vom Autor
+erhalten, die einen w&uuml;rdigen Schluss-Satz unserer ersten Yin-Yang Artikel
+Komposition darstellt. Das meiste, das in diesen S&auml;tzen gesagt wird, gilt
+nicht nur f&uuml;r &quot;Plan Ahead&quot;, sondern auch f&uuml;r zahlreiche
+andere exzellente Level von Jacob &mdash; und f&uuml;r viele unserer bisherigen
+Levels des Monats. </p>
+
+<h4>&Uuml;ber Eleganz im Leveldesign</h4>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200904_v.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Versailles</div>
+</div>
+
+<div class="quote">An dieser Stelle m&ouml;chte ich noch einige allgemeine
+&Uuml;berlegungen zu Enigma Levels anstellen - und diese Betrachtungen auch auf
+Spiele-Levels generell ausdehnen - und zwar dar&uuml;ber, was es bedeutet,
+&quot;elegant&quot; zu sein. M.E. bedeutet die Aussage &quot;ein Level ist
+elegant&quot; zuerst, dass kein Teil des Levels wahlfrei ist (und eine
+eindeutige L&ouml;sung existiert), und weiterhin, dass der Level der
+schwierigste all solcher Level mit der gleichen Gesamtstruktur ist. Z.B. glaube
+ich, dass &quot;Plan Ahead&quot; in gewissem Sinn &quot;solide&quot; ist; soll
+hei&szlig;en, es besitzt eine (ziemlich) eindeutige L&ouml;sung, und es
+existieren keine auff&auml;lligen Erg&auml;nzungen mit dem alleinigen Zweck
+alternative L&ouml;sungen zu verhindern &mdash; alles in dem Puzzle passt
+perfekt zusammen. Weiterhin scheint das Puzzle im gegebenen Kontext
+&quot;maximal schwierig&quot; zu sein; d.h., es gibt keine noch so kleine
+Wendung, um die Schwierigkeit zu erh&ouml;hen (ohne die Gesamtstruktur als
+solche zu &auml;ndern; was allgemein bedeutet, dass z.B. alle Gegenst&auml;nde
+benutzt werden m&uuml;ssen). Ich glaube, dass ein Level irgendwie selten beide
+Bedingungen erf&uuml;llt (seine Struktur erlaubt genau eine L&ouml;sung ohne
+willk&uuml;rliche &Auml;nderungen, und es ist so schwierig wie m&ouml;glich).
+Falls ein Level beide Kriterien erf&uuml;llt, wird es m.E. als
+&quot;elegant&quot; bezeichnet, ansonsten eben nicht. Damit scheint
+&quot;Eleganz&quot; also das Ziel jeglicher Levelgestaltung zu sein &mdash; die
+&quot;eleganten Levels&quot; fordern den Spieler am besten und belohnen den
+Erfolg am meisten. Ich hoffe, dass dies auch auf &quot;Plan Ahead&quot;
+zutrifft, und dass &quot;Plan Ahead&quot; sich als anregender Ausflug darstellt
+&mdash; zu einem kleinen See, beinahe un&uuml;berwindbar, au&szlig;er durch
+Henry Blackballs sorgf&auml;ltige Vorausplanung. </div>
+
+<p><i>Jacob Scott</i></p>
+
+<hr>
+<table>
+<tr><td>
+Dies ist der Yang-Teil des Artikels. Zum Yin-Teil geht's hier entlang:
+</td><td>
+<a href="$$lotm_200904$$"> 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
+alt="Der Yin-Yang-Zauberstein" border="0">
+</a>
+</td></tr>
+</table>
+<hr>
+
+</div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html	2009-04-19 10:05:26 UTC (rev 1636)
+++ feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html	2009-04-19 11:03:45 UTC (rev 1637)
@@ -12,7 +12,7 @@
 ?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????:
 </td><td>
 <a href="$$lotm_200904$$">
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yin.png" 
 alt="????????? ?????? ???-???" border="0">
 </a>
 </td></tr>
@@ -216,7 +216,7 @@
 ?? ?????????? ?? ??????? ???. ??????? ??? ????????? ?????:
 </td><td>
 <a href="$$lotm_200904$$">
-<img src="$$imagedir$$/lotm/lotm_200904_y.png" 
+<img src="$$imagedir$$/lotm/lotm_200904_yang.png" 
 alt="????????? ?????? ???-???" border="0">
 </a>
 </td></tr>



From ral at mail.berlios.de  Sun Apr 19 14:53:45 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sun, 19 Apr 2009 14:53:45 +0200
Subject: [Enigma-game-svn] r1638 - trunk/doc/reference
Message-ID: <200904191253.n3JCrj8o001192@sheep.berlios.de>

Author: ral
Date: 2009-04-19 14:53:37 +0200 (Sun, 19 Apr 2009)
New Revision: 1638

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- Chapter 3 samples updated to new API
- Item and Stone Attributes basic structure

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-19 11:03:45 UTC (rev 1637)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-19 12:53:37 UTC (rev 1638)
@@ -1285,26 +1285,27 @@
   <@i{el}:@b{protected} >
     <@i{el}:@b{info} @i{el}:@b{type}="@var{level}">
       <@i{el}:@b{identity} @i{el}:@b{title}="@var{Demo Simple}" @i{el}:@b{id}="@var{20060210ral001}"/>
-      <@i{el}:@b{version} @i{el}:@b{score}="@var{1}" @i{el}:@b{release}="@var{1}" @i{el}:@b{revision}="@var{0}" @i{el}:@b{status}="@var{stable}"/>
+      <@i{el}:@b{version} @i{el}:@b{score}="@var{1}" @i{el}:@b{release}="@var{1}" @i{el}:@b{revision}="@var{2}" @i{el}:@b{status}="@var{stable}"/>
       <@i{el}:@b{author}  @i{el}:@b{name}="@var{Ronald Lamprecht}"/>
-      <@i{el}:@b{copyright}>@var{Copyright @copyright{} 2006 Ronald Lamprecht}</@i{el}:@b{copyright}>
+      <@i{el}:@b{copyright}>@var{Copyright @copyright{} 2006,2009 Ronald Lamprecht}</@i{el}:@b{copyright}>
       <@i{el}:@b{license} @i{el}:@b{type}="@var{GPL v2.0 or above}" @i{el}:@b{open}="@var{true}"/>
-      <@i{el}:@b{compatibility} @i{el}:@b{enigma}="@var{0.92}"/>
+      <@i{el}:@b{compatibility} @i{el}:@b{enigma}="@var{1.10}"/>
       <@i{el}:@b{modes} @i{el}:@b{easy}="@var{false}" @i{el}:@b{single}="@var{true}" @i{el}:@b{network}="@var{false}"/>
       <@i{el}:@b{score} @i{el}:@b{easy}="@var{-}" @i{el}:@b{difficult}="@var{-}"/>
     </@i{el}:@b{info}>
     <@i{el}:@b{luamain}><![CDATA[
-levelw = 20
-levelh = 13
+ at i{ti}["@var{ }"] = @{"@b{fl_lawn_b}"@}
+ at i{ti}["@var{#}"] = @{"@b{st_box}"@}
+ at i{ti}["@var{o}"] = @{"@b{st_oxyd}"@}
+ at i{ti}["@var{@@}"] = @{"#@b{ac_marble}"@}
 
- at b{create_world}( levelw, levelh)
- at b{draw_border}("@i{st-wood}")
- at b{fill_floor}("@i{fl-leavesb}", 0,0,levelw,levelh)
-
- at b{oxyd}( 4,4)
- at b{oxyd}( 14,4)
-
- at b{set_actor}("@i{ac-blackball}", 4, 11)
+ at i{wo}(@i{ti}, " ", @{
+    "@var{####################}",
+    "@var{#                  #}",
+    "@var{#  o      @@     o  #}",
+    "@var{#                  #}",
+    "@var{####################}",
+@})
     ]]></@i{el}:@b{luamain}>
     <@i{el}:@b{i18n}/>
   </@i{el}:@b{protected}>
@@ -1349,28 +1350,38 @@
 @node Getting Started with Levels
 @section Getting Started with Levels
 
-A Simple Level
+Most likely you are keen on understanding the basic principles of placing
+objects in a level. Here is a very simple level description that can also serve
+as a starting-point for new landscapes.  (In fact, this is the first welcome
+level in levelpack Enigma I, so you can try it out right away.)
 
-Here is a very simple level description that can also serve as a
-starting-point for new landscapes.  (In fact, this is the first level
-in Enigma, so you can try it out right away.)
-
 @example
- 1   CreateWorld(20, 13)
- 2   draw_border("st-brownie")
- 3   fill_floor("fl-hay", 0,0, level_width,level_height)
- 4
- 5   set_stone("st_quake", level_width-1,0, @{name="quake"@})
- 6   set_stone("st-timer", 0,0, @{action="trigger", target="quake",
- 7             interval=10@})
- 8
- 9   oxyd(3,3)
-10   oxyd(level_width-4,level_height-4)
-11   oxyd(level_width-4, 3)
-12   oxyd(3,level_height-4)
-13   oxyd_shuffle()
-14
-15   set_actor("ac-blackball", 10,6.5)
+ 1    @i{ti}["@var{ }"] = @{"@b{fl_gravel}"@}
+ 2    @i{ti}["@var{#}"] = @{"@b{st_box}"@}
+ 3    @i{ti}["@var{O}"] = @{"@b{st_oxyd}"@}
+ 4    if @i{wo}["@b{IsDifficult}"] then
+ 5	@i{ti}["@var{Q}"] = @{"@b{st_quake}", @b{name}="@var{quake}"@}
+ 6	@i{ti}["@var{T}"] = @{"@b{st_timer}", @b{interval}=@var{10.0}, @b{target}="@var{quake}"@}
+ 7    else
+ 8	@i{ti}["@var{Q}"] = @i{ti}[" "]
+ 9	@i{ti}["@var{T}"] = @i{ti}[" "]
+10    end
+11    @i{ti}["@var{@@}"] = @{"@b{ac_marble_black}", @var{0.0}, @var{0.5}@}
+11
+12    @i{wo}(@i{ti}, " ", @{
+13	"@var{####################}",
+14	"@var{#                  #}",
+15	"@var{#                  #}",
+16	"@var{#  O            O  #}",
+17	"@var{#         @@        #}",
+18	"@var{#                  #}",
+19	"@var{#        QT        #}",
+20	"@var{#                  #}",
+21	"@var{#                  #}",
+22	"@var{#  O            O  #}",
+23	"@var{#                  #}",
+24	"@var{#                  #}",
+25	"@var{####################}"@})
 @end example
 
 The resulting level looks like this inside the game:
@@ -1383,72 +1394,74 @@
 Let's now turn to a line-by-line analysis of this program:
 
 @example
- 1   CreateWorld(20, 13)
- 2   draw_border("st-brownie")
- 3   fill_floor("fl-hay", 0,0, level_width,level_height)
+ 1    @i{ti}["@var{ }"] = @{"@b{fl_gravel}"@}
+ 2    @i{ti}["@var{#}"] = @{"@b{st_box}"@}
+ 3    @i{ti}["@var{O}"] = @{"@b{st_oxyd}"@}
 @end example
 
-The level begins with a call to @code{CreateWorld}, which creates a
-new world that is 20 blocks wide and 13 blocks high.  You can access every
- at dfn{block} in the world with a pair of coordinates:
-The upper left corner has coordinates (0,0); the lower right has
-coordinates (19,12).  Every block contains a floor tile, an (optional)
-item, and an (optional) stone.
+First we declare some keys for objects we like to use in our level map. We
+just add each key to our @i{ti} tiles repository and assign an object tile
+description that consists of the object kind name in these simple cases. The
+two character prefix of the kind name shows us the basic object typ like floor,
+item, stone, actor, etc.
 
-You draw a frame of stones around the newly created landscape with the
- at code{draw_border} command.  Its argument, @code{"st-brownie"}, is the
-name of a stone.  By convention, all stones have @code{"st-"} prefixed
-to their name; similarly all item names begin with @code{"it-"} and
-all floor names with @code{"fl-"}.
-
-The @code{fill_floor} command in line 3 fills the complete floor with
-tiles of type @code{"fl-hay"}.  The other arguments are the upper left
-corner and the width and height of the rectangle to be filled.
-
 @example
- 5   set_stone("st-quake", level_width-1,0, @{name="quake"@})
- 6   set_stone("st-timer", 0,0, @{action="trigger", target="quake",
- 7             interval=10@})
+ 4    if @i{wo}["@b{IsDifficult}"] then
+ 5	@i{ti}["@var{Q}"] = @{"@b{st_quake}", @b{name}="@var{quake}"@}
+ 6	@i{ti}["@var{T}"] = @{"@b{st_timer}", @b{interval}=@var{10.0}, @b{target}="@var{quake}"@}
+ 7    else
+ 8	@i{ti}["@var{Q}"] = @i{ti}[" "]
+ 9	@i{ti}["@var{T}"] = @i{ti}[" "]
+10    end
 @end example
 
-Lines 5 to 7 demonstrate how to create individual stones.  The
- at code{set_stone} command takes a stone name, the desired
-coordinates, and an (optional) list of @emph{attributes}
-as arguments.  Note the use of curly braces @code{@{},
- at code{@}} to enclose the attribute list.
+The welcome level provides two modes, the regular difficult one and an easy one.
+As the regular difficult one differs just in two additional stones we add two 
+mode specific tile declarations.
 
-Attributes are the key to customizing the behavior of objects in a
-landscape.  Here, we name the first stone we create.
-It's a quake stone that has the unpleasant habit of ``blowing off''
-when triggered.  The timer stone that we create in line 6-7 triggers this quake stone.  This stone
-performs a predefined action at
-regular intervals.  In this case, we want to send a ``trigger'' message
-every ten seconds to the object named ``quake''.
+In the difficult mode we assign two stone definitions. Each provides the
+stone kind and additional attributes. The @samp{st_quake} is the stone that
+closes oxyd stones when being hit or toggled. We just name it, to be able to
+reference it later on. The second stone is a timer that should get active 
+every 10 seconds and should send a toggle message to its target, our oxyd
+closing @samp{st_quake}. As we did name this stone we can reference it here
+as target by its name.
 
 @example
- 9   oxyd(3,3)
-10   oxyd(level_width-4,level_height-4)
-11   oxyd(level_width-4, 3)
-12   oxyd(3,level_height-4)
-13   oxyd_shuffle()
+11    @i{ti}["@var{@@}"] = @{"@b{ac_marble_black}", @var{0.0}, @var{0.5}@}
 @end example
 
-These commands place a couple of oxyd stones in the level.  The
- at code{oxyd} command internally uses @code{set_stone("st-oxyd", x,y,
- at dots{})} to create the stones, but additionally it assigns sensible
-values to some of the oxyd stones' attributes (most notably the
-color).  The command on line 14 permutes the colors on the oxyd stones
-currently in the landscape.
+Now we just need to declare our actor. It is a black marble that should not
+be placed at the left upper corner of a grid but in the mid of the left
+border of a tile grid. Actually we just want to center it within the level.
+As a one screen sized level has the extension of 20 x 13 we need the offsets
+given above.
 
 @example
-15   set_actor("ac-blackball", 10,6.5)
+12    @i{wo}(@i{ti}, " ", @{
+13	"@var{####################}",
+14	"@var{#                  #}",
+15	"@var{#                  #}",
+16	"@var{#  O            O  #}",
+17	"@var{#         @@        #}",
+18	"@var{#                  #}",
+19	"@var{#        QT        #}",
+20	"@var{#                  #}",
+21	"@var{#                  #}",
+22	"@var{#  O            O  #}",
+23	"@var{#                  #}",
+24	"@var{#                  #}",
+25	"@var{####################}"@})
 @end example
 
-This final line creates the black marble that the player controls.
-We call objects that can move around freely ``actors'' in Enigma.
-Unlike stones and items, actors are not restricted to integer
-coordinates, as you can see in this example.
+Now we can create the world simply by providing a map. We just need to call
+ at samp{wo}, our world handle, provide it our tile resolver, the key of the
+default floor and a map of tile keys.
 
+You will find all conceptional background information in chapter 
+ at ref{Enigma Paradigm} and more examples and syntax information in chapter
+ at ref{Lua API}. But first you should take the time to get aware of the XML
+based level metadata.
 
 
 @node XML Level structure
@@ -4079,7 +4092,7 @@
 A list of objects.
 @item @b{namedobjects:} @i{preset variable:} @code{@b{no}}; @ @ @xref{NamedObjects}
 The singleton type of the repository of all named objects.
- at item @b{default:} @i{preset variable:} @code{@b{DEFAULT}}; @ @ @xref{Default}
+ at item @b{default:} @i{preset variable:} @code{@b{DEFAULT}}; @ @ @xref{Object Attributes}
 The singleton type of default values that can be used instead of Lua's @samp{nil}
 in anonymous table tile definitions.
 @item @b{tile:}@ @ @xref{Tile}
@@ -5298,8 +5311,6 @@
 * rubbers::
 * wires::
 * fellows::
-* movable::
-* hit_*::
 @end menu
 
 @node name
@@ -5585,51 +5596,7 @@
 @item @b{Support:} @ @ by actor and stone objects
 @end table
 
- at node movable
- at subsection movable
 
-An attribute that describes if a stone is movable by actor impulses. It is
-supported by all stones.
-
-Note that this attribute is not listed in the individual stone description
-if the stone is generally not movable.
-
- at table @asis
- at item @b{Type:} @ @ bool
- at item @b{Values:} @ @ @code{true}, @code{false}
- at item @b{Default:} @ @ usually @code{false}
-If a stone exists only in a movable variant this attribute will default to
- at samp{true}.
- at item @b{Access:} @ @ read/sometimes write
-This attribute is only writable for objects that exist in both variations.
- at item @b{Support:} @ @ by all stones
- at end table
-
- at node hit_*
- at subsection hit_*
-
-A set of attributes that allow you to distort hit forces. Objects like
- at ref{st_flash}, @ref{st_spitter} and @ref{st_actorimpulse} apply forces that
-are either based on the hit velocity or the position.
-
-By usage of a simple @samp{hit_strength} factor you can increase, decrease or
-invert the default factor. Note that you must not set this attribute, if you 
-want to use the default.
-
-By setting the four attributes @samp{hit_distortion_xx}, @samp{hit_distortion_xy},
- at samp{hit_distortion_yx} and @samp{hit_distortion_yy} you can describe a
-matrix to set up a new direction. These attributes default to 1, 0, 0, 1.
-A 90 degree clockwise turn is described by 0, 1, -1, 0.
-
- at table @asis
- at item @b{Type:} @ @ number
- at item @b{Values:} @ @ ?
- at item @b{Default:} @ @ factor - @code{nil}, xx, yy - @code{1}, xy, yx - @code{0}
-By default no hit factor is applied. The hit matrix is the neutral one.
- at item @b{Access:} @ @ read/write
- at item @b{Support:} @ @ by some stones
- at end table
-
 @node Common Messages
 @section Common Messages
 
@@ -7969,7 +7936,7 @@
 @menu
 * Item Overview::
 * Item Attributes::
-* Portable Items::
+* Liftable Items::
 * Static Items::
 @end menu
 
@@ -7981,10 +7948,70 @@
 @node Item Attributes
 @section Item Attributes
 
- at c ----------------- Portable Items --------------------
- at node Portable Items
- at section Portable Items
+ at menu
+* fireproof::               -
+* freezable::               -
+* liftable::                -
+* portable::                -
+ at end menu
 
+
+ at c ----------------- fireproof --------------------
+ at node fireproof
+ at subsection fireproof
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+
+ at c ----------------- freezable --------------------
+ at node freezable
+ at subsection freezable
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+
+ at c ----------------- liftable --------------------
+ at node liftable
+ at subsection liftable
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+
+ at c ----------------- portable --------------------
+ at node portable
+ at subsection portable
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+
+ at c ----------------- Liftable Items --------------------
+ at node Liftable Items
+ at section Liftable Items
+
 @menu
 * it_bag::             Portable Item Container
 * it_banana::          Transformable Banana
@@ -10215,13 +10242,129 @@
 @chapter Stone Objects
 
 @menu
+* Stone Overview::
+* Stone Attributes::
 * Standard Stones::
 * Cluster Stones::
 * Special Stones::
 * Stone Feature Summaries::     Tables of transparent, breakable, ... stones
 @end menu
 
+ at c ----------------- Stone Overview --------------------
+ at node Stone Overview
+ at section Stone Overview
 
+ at c ----------------- Stone Attributes --------------------
+ at node Stone Attributes
+ at section Stone Attributes
+
+ at menu
+* breakable::         -
+* hit_*::             -
+* hollow::            -
+* hovering::          -
+* movable::           -
+* transparent::       -
+ at end menu
+
+
+ at c ----------------- breakable --------------------
+ at node breakable
+ at subsection breakable
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- hit_* --------------------
+ at node hit_*
+ at subsection hit_*
+
+A set of attributes that allow you to distort hit forces. Objects like
+ at ref{st_flash}, @ref{st_spitter} and @ref{st_actorimpulse} apply forces that
+are either based on the hit velocity or the position.
+
+By usage of a simple @samp{hit_strength} factor you can increase, decrease or
+invert the default factor. Note that you must not set this attribute, if you 
+want to use the default.
+
+By setting the four attributes @samp{hit_distortion_xx}, @samp{hit_distortion_xy},
+ at samp{hit_distortion_yx} and @samp{hit_distortion_yy} you can describe a
+matrix to set up a new direction. These attributes default to 1, 0, 0, 1.
+A 90 degree clockwise turn is described by 0, 1, -1, 0.
+
+ at table @asis
+ at item @b{Type:} @ @ number
+ at item @b{Values:} @ @ ?
+ at item @b{Default:} @ @ factor - @code{nil}, xx, yy - @code{1}, xy, yx - @code{0}
+By default no hit factor is applied. The hit matrix is the neutral one.
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ by some stones
+ at end table
+
+ at c ----------------- hollow --------------------
+ at node hollow
+ at subsection hollow
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- hovering --------------------
+ at node hovering
+ at subsection hovering
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+ at c ----------------- movable --------------------
+ at node movable
+ at subsection movable
+
+An attribute that describes if a stone is movable by actor impulses. It is
+supported by all stones.
+
+Note that this attribute is not listed in the individual stone description
+if the stone is generally not movable.
+
+ at table @asis
+ at item @b{Type:} @ @ bool
+ at item @b{Values:} @ @ @code{true}, @code{false}
+ at item @b{Default:} @ @ usually @code{false}
+If a stone exists only in a movable variant this attribute will default to
+ at samp{true}.
+ at item @b{Access:} @ @ read/sometimes write
+This attribute is only writable for objects that exist in both variations.
+ at item @b{Support:} @ @ by all stones
+ at end table
+
+ at c ----------------- transparent --------------------
+ at node transparent
+ at subsection transparent
+
+
+ at table @asis
+ at item @b{Type:} @ @ boolean
+ at item @b{Values:} @ @ @code{false}, @code{true}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at end table
+
+
+
 @c ----------------- Standard Stones --------------------
 @node Standard Stones
 @section Standard Stones
@@ -13677,7 +13820,7 @@
 
 In general stoneimpulse stones are very responsive to actor contacts. The
 slightest touch is sufficient to cause a pulsing. Hollow stones will shatter
-actors benath it while pulsing.
+actors beneath it while pulsing.
 
 Hollow stoneimpulse stones are transparent to laserlight and thus do not react.
 But all other stones do pulse. A standard not @samp{steady} stoneimpulse will
@@ -18103,7 +18246,7 @@
 
 Of special interest are the @ref{st_box} variants and their successor floors,
 the framed variants of @ref{fl_wood}, @ref{fl_hay} and @ref{fl_rock}. A flood
-will flow beneath a box stone, if the floor benath is floodable. In consequence
+will flow beneath a box stone, if the floor beneath is floodable. In consequence
 of the upcoming water, the box stone will fall and build a framed floor of the 
 given kind. These floors act like bridges over flooding water. They still let 
 the flood spread to further neighboring floodable floors. Thus a user can not



From andreasl at mail.berlios.de  Mon Apr 20 22:56:43 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Mon, 20 Apr 2009 22:56:43 +0200
Subject: [Enigma-game-svn] r1639 - in feature_branches/hp_lotm: images/lotm
	input/lotm
Message-ID: <200904202056.n3KKuhP6027475@sheep.berlios.de>

Author: andreasl
Date: 2009-04-20 22:56:28 +0200 (Mon, 20 Apr 2009)
New Revision: 1639

Modified:
   feature_branches/hp_lotm/images/lotm/lotm-history.png
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
Log:
LotM Feature branch:
 - LotM-Ratings


Modified: feature_branches/hp_lotm/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-04-19 12:53:37 UTC (rev 1638)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-04-20 20:56:28 UTC (rev 1639)
@@ -342,26 +342,26 @@
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
-lotm_rating(    "Island Labyrinth",  9.27,  15,  "(1 up)")
-lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "")
-lotm_rating(    "The Aztec Temple",  8.87,  15,  "")
+lotm_rating(    "Island Labyrinth",  9.31,  16,  "(1 down)")
+lotm_rating(  "Pneumatic Delivery",  8.32,  19,  "(1 up)")
+lotm_rating(    "The Aztec Temple",  8.88,  16,  "")
 lotm_rating("Labyrinth of Puzzles",  8.74,  19,  "")
-lotm_rating(           "Elaborate",  8.64,  14,  "")
-lotm_rating(             "Houdini",  9.36,  11,  "")
-lotm_rating(           "Tool Time",  8.21,  24,  "")
+lotm_rating(           "Elaborate",  8.73,  15,  "")
+lotm_rating(             "Houdini",  9.33,  12,  "(1 down)")
+lotm_rating(           "Tool Time",  8.16,  25,  "")
 lotm_rating(         "Quadropolis",  9.17,  12,  "")
-lotm_rating(      "Big Adventures",  8.40,  25,  "")
-lotm_rating(      "Temple of Gold",  9.27,  11,  "")
-lotm_rating(      "Puzzle Puzzles",  8.60,  10,  "")
-lotm_rating(      "Psycho Pushing",  8.17,  12,  "")
-lotm_rating(  "Turnstiles for Two",  8.29,   7,  "")
-lotm_rating(     "Pleasure Garden",  8.38,  16,  "")
-lotm_rating(      "Block its way!",  7.85,  20,  "")
-lotm_rating(   "Gods of Enigma II",  8.42,  19,  "")
-lotm_rating( "River of Challenges",  8.36,  11,  "")
-lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
-lotm_rating(          "Procrustes",  7.71,  17,  "")
-lotm_rating(          "Plan Ahead", -1,     -1,  "<b>(newcomer)</b>")
+lotm_rating(      "Big Adventures",  8.37,  27,  "")
+lotm_rating(      "Temple of Gold",  9.43,  14,  "(1 up)")
+lotm_rating(      "Puzzle Puzzles",  8.64,  11,  "(1 down)")
+lotm_rating(      "Psycho Pushing",  8.15,  13,  "")
+lotm_rating(  "Turnstiles for Two",  8.29,   7,  "(1 down)")
+lotm_rating(     "Pleasure Garden",  8.38,  16,  "(2 up)")
+lotm_rating(      "Block its way!",  7.82,  22,  "")
+lotm_rating(   "Gods of Enigma II",  8.35,  20,  "(2 down)")
+lotm_rating( "River of Challenges",  8.33,  12,  "")
+lotm_rating(  "Industrial Puzzles",  8.67,  12,  "(1 up)")
+lotm_rating(          "Procrustes",  7.74,  19,  "")
+lotm_rating(          "Plan Ahead",  8.00,  20,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 



From andreasl at mail.berlios.de  Tue Apr 21 00:35:34 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 21 Apr 2009 00:35:34 +0200
Subject: [Enigma-game-svn] r1640 - in homepage: images/lotm input input/lotm
Message-ID: <200904202235.n3KMZYxD008372@sheep.berlios.de>

Author: andreasl
Date: 2009-04-21 00:34:56 +0200 (Tue, 21 Apr 2009)
New Revision: 1640

Added:
   homepage/images/lotm/lotm_200904.png
   homepage/images/lotm/lotm_200904_a.png
   homepage/images/lotm/lotm_200904_b.png
   homepage/images/lotm/lotm_200904_c.png
   homepage/images/lotm/lotm_200904_d.png
   homepage/images/lotm/lotm_200904_e.png
   homepage/images/lotm/lotm_200904_f.png
   homepage/images/lotm/lotm_200904_g.png
   homepage/images/lotm/lotm_200904_l.png
   homepage/images/lotm/lotm_200904_p.png
   homepage/images/lotm/lotm_200904_s.png
   homepage/images/lotm/lotm_200904_v.png
   homepage/images/lotm/lotm_200904_yang.png
   homepage/images/lotm/lotm_200904_yin.png
   homepage/images/lotm/lotm_200904_z.png
   homepage/input/lotm/lotm_200904.html
   homepage/input/lotm/lotm_200904_de.html
   homepage/input/lotm/lotm_200904_ru.html
   homepage/input/lotm/lotm_200904_yang.html
   homepage/input/lotm/lotm_200904_yang_de.html
   homepage/input/lotm/lotm_200904_yang_ru.html
Modified:
   homepage/images/lotm/lotm-history.png
   homepage/input/lotm/lotm_archive_data.lua
   homepage/input/output-files.lua
Log:
Homepage:
 - Merged LotM-feature branch back to homepage.


Modified: homepage/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Copied: homepage/images/lotm/lotm_200904.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904.png)

Copied: homepage/images/lotm/lotm_200904_a.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_a.png)

Copied: homepage/images/lotm/lotm_200904_b.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_b.png)

Copied: homepage/images/lotm/lotm_200904_c.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_c.png)

Copied: homepage/images/lotm/lotm_200904_d.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_d.png)

Copied: homepage/images/lotm/lotm_200904_e.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_e.png)

Copied: homepage/images/lotm/lotm_200904_f.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_f.png)

Copied: homepage/images/lotm/lotm_200904_g.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_g.png)

Copied: homepage/images/lotm/lotm_200904_l.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_l.png)

Copied: homepage/images/lotm/lotm_200904_p.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_p.png)

Copied: homepage/images/lotm/lotm_200904_s.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_s.png)

Copied: homepage/images/lotm/lotm_200904_v.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_v.png)

Copied: homepage/images/lotm/lotm_200904_yang.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_yang.png)

Copied: homepage/images/lotm/lotm_200904_yin.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_yin.png)

Copied: homepage/images/lotm/lotm_200904_z.png (from rev 1639, feature_branches/hp_lotm/images/lotm/lotm_200904_z.png)

Copied: homepage/input/lotm/lotm_200904.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904.html)

Copied: homepage/input/lotm/lotm_200904_de.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904_de.html)

Copied: homepage/input/lotm/lotm_200904_ru.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904_ru.html)

Copied: homepage/input/lotm/lotm_200904_yang.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904_yang.html)

Copied: homepage/input/lotm/lotm_200904_yang_de.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904_yang_de.html)

Copied: homepage/input/lotm/lotm_200904_yang_ru.html (from rev 1639, feature_branches/hp_lotm/input/lotm/lotm_200904_yang_ru.html)

Modified: homepage/input/lotm/lotm_archive_data.lua
===================================================================
--- homepage/input/lotm/lotm_archive_data.lua	2009-04-20 20:56:28 UTC (rev 1639)
+++ homepage/input/lotm/lotm_archive_data.lua	2009-04-20 22:34:56 UTC (rev 1640)
@@ -175,6 +175,15 @@
   position_num   = "6036"
 }
 
+lotm_archive_data[20] = {
+  date           = { month = 4, year = 2009 },
+  chronological  = 20,
+  name           = "Plan Ahead",
+  author         = "Jacob Scott",
+  position       = "V/21",
+  position_num   = "5021"
+}
+
 -- Further levels standing data
 -- (no need to change these)
 
@@ -333,25 +342,26 @@
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
-lotm_rating(    "Island Labyrinth",  9.27,  15,  "(1 up)")
-lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "")
-lotm_rating(    "The Aztec Temple",  8.87,  15,  "")
+lotm_rating(    "Island Labyrinth",  9.31,  16,  "(1 down)")
+lotm_rating(  "Pneumatic Delivery",  8.32,  19,  "(1 up)")
+lotm_rating(    "The Aztec Temple",  8.88,  16,  "")
 lotm_rating("Labyrinth of Puzzles",  8.74,  19,  "")
-lotm_rating(           "Elaborate",  8.64,  14,  "")
-lotm_rating(             "Houdini",  9.36,  11,  "")
-lotm_rating(           "Tool Time",  8.21,  24,  "")
+lotm_rating(           "Elaborate",  8.73,  15,  "")
+lotm_rating(             "Houdini",  9.33,  12,  "(1 down)")
+lotm_rating(           "Tool Time",  8.16,  25,  "")
 lotm_rating(         "Quadropolis",  9.17,  12,  "")
-lotm_rating(      "Big Adventures",  8.40,  25,  "")
-lotm_rating(      "Temple of Gold",  9.27,  11,  "")
-lotm_rating(      "Puzzle Puzzles",  8.60,  10,  "")
-lotm_rating(      "Psycho Pushing",  8.17,  12,  "")
-lotm_rating(  "Turnstiles for Two",  8.29,   7,  "")
-lotm_rating(     "Pleasure Garden",  8.38,  16,  "")
-lotm_rating(      "Block its way!",  7.85,  20,  "")
-lotm_rating(   "Gods of Enigma II",  8.42,  19,  "")
-lotm_rating( "River of Challenges",  8.36,  11,  "")
-lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
-lotm_rating(          "Procrustes",  7.71,  17,  "<b>(newcomer)</b>")
+lotm_rating(      "Big Adventures",  8.37,  27,  "")
+lotm_rating(      "Temple of Gold",  9.43,  14,  "(1 up)")
+lotm_rating(      "Puzzle Puzzles",  8.64,  11,  "(1 down)")
+lotm_rating(      "Psycho Pushing",  8.15,  13,  "")
+lotm_rating(  "Turnstiles for Two",  8.29,   7,  "(1 down)")
+lotm_rating(     "Pleasure Garden",  8.38,  16,  "(2 up)")
+lotm_rating(      "Block its way!",  7.82,  22,  "")
+lotm_rating(   "Gods of Enigma II",  8.35,  20,  "(2 down)")
+lotm_rating( "River of Challenges",  8.33,  12,  "")
+lotm_rating(  "Industrial Puzzles",  8.67,  12,  "(1 up)")
+lotm_rating(          "Procrustes",  7.74,  19,  "")
+lotm_rating(          "Plan Ahead",  8.00,  20,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2009-04-20 20:56:28 UTC (rev 1639)
+++ homepage/input/output-files.lua	2009-04-20 22:34:56 UTC (rev 1640)
@@ -605,3 +605,16 @@
     body = {"articles/level_andreas11"},
 }
 
+----------------------------------------------------------------------
+-- LotM 200905 Yang
+----------------------------------------------------------------------
+
+html.lotm_200904_yang = {
+    outfile = "lotm_200904_yang.html",
+    title = "$$lotm_expansion$$: $$April$$ '09",
+    title_de = "$$lotm_expansion$$: $$April$$ '09",
+    title_ru = "$$lotm_expansion$$: $$April$$ '09",
+    rightcolumn = {},
+    body = {"lotm/lotm_200904_yang"},
+}    
+



From andreasl at mail.berlios.de  Tue Apr 21 01:00:06 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 21 Apr 2009 01:00:06 +0200
Subject: [Enigma-game-svn] r1641 - in homepage/input: . lotm
Message-ID: <200904202300.n3KN06xV030345@sheep.berlios.de>

Author: andreasl
Date: 2009-04-21 00:59:59 +0200 (Tue, 21 Apr 2009)
New Revision: 1641

Modified:
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/infobox_ru.html
   homepage/input/lotm/lotm_200904_de.html
   homepage/input/lotm/lotm_200904_ru.html
   homepage/input/lotm/lotm_200904_yang_de.html
Log:
Homepage:
 - Updated infobox (English, German, Russian).
 - Corrected wrong quotation marks, also in Russian article
     (please check correct position).
 - Validated.
Todo:
 - Upload
 - Merge back to feature branch.



Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/infobox.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -4,10 +4,18 @@
          Read <a href="$$marbleous_4$$">here</a> about the newest adventure of
          our &quot;novice&quot;, his experiences and thoughts!
 
+         <h3>Level of the Month</h3>
+         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
+         </div>
+
          <h3>First Trailer</h3>
          Mecke and Clifford created the first trailer for Enigma, 
          see the video <a href="$$trailer_1$$">here</a>, have fun!
 
+         <!--
          <h3>End-of-Year Awards</h3>
          <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
          alt="Which might be the Level of the Year?" border="0"></a>
@@ -16,14 +24,6 @@
            has been determined - find out who got the awards
            <a href="$$eoya_2008$$">here</a>!
          </div>
-
-         <!--
-         <h3>Level of the Month</h3>
-         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
-         alt="$$lotm_expansion$$" border="0"></a>
-         <div class="imagetitle">
-           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
-         </div>
          -->
 
          <!--

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/infobox_de.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -4,11 +4,19 @@
          Lesen Sie <a href="$$marbleous_4$$">hier</a> &uuml;ber das neueste
          Abenteuer unseres &quot;Neulings&quot;, seine Erfahrungen und Gedanken!
 
+         <h3>Level des Monats</h3>
+         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
+         </div>
+
          <h3>Erster Trailer</h3>
          Mecke und Clifford haben den ersten Trailer f&uuml;r Enigma
          entwickelt, das Video gibt es <a href="$$trailer_1$$"
          >hier</a>, viel Spa&szlig;!
 
+         <!--
          <h3>Jahresend-<br>auszeichnungen</h3>
          <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
          alt="Welches mag der Level des Jahres sein?" border="0"></a>
@@ -16,15 +24,7 @@
            Die besten Levels aus 2008 sind gew&auml;hlt und der Level des
            Jahres 2008 steht fest - finden Sie <a href="$$eoya_2008$$">hier</a>
            raus, wer die Preise gewonnen hat!
-         </div>
-         
-         <!--
-         <h3>Level des Monats</h3>
-         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
-         alt="$$lotm_expansion$$" border="0"></a>
-         <div class="imagetitle">
-           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
-         </div>
+         </div>         
          -->
 
          <!--

Modified: homepage/input/infobox_ru.html
===================================================================
--- homepage/input/infobox_ru.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/infobox_ru.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -4,10 +4,18 @@
          <a href="$$marbleous_4$$">?????</a> ????? ???????? ? ?????????
 	 ???????????? ?????? &quot;???????&quot;, ? ??? ????? ? ????????????!
 	  
+         <h3>??????? ??????</h3>
+         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
+         </div>
+
          <h3>?????? ???????</h3>
          Mecke ? Clifford ??????? ??? Enigma ?????? ???????, ????? ?????
          ?????????? <a href="$$trailer_1$$">?????</a>, ????????? ?????????!
 
+         <!--
          <h3>??????? ????? ????</h3>
          <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
          alt="????? ????? ???? ??????? ?????" border="0"></a>
@@ -15,14 +23,6 @@
            ?????? ?????? 2008 ???????, ? ??????? ???? 2008 ????????? - ???????,
 	   ??? ??????? ??????? <a href="$$eoya_2008$$">?????</a>!
          </div>
-
-         <!--
-         <h3>??????? ??????</h3>
-         <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
-         alt="$$lotm_expansion$$" border="0"></a>
-         <div class="imagetitle">
-           <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
-         </div>
          -->
 
          <!--

Modified: homepage/input/lotm/lotm_200904_de.html
===================================================================
--- homepage/input/lotm/lotm_200904_de.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/lotm/lotm_200904_de.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -238,7 +238,7 @@
 
 <p>Okay, Frage Nr. 1: &quot;Versuchst du seit Monaten, die R&auml;tsel dieser
 Welt zu entschl&uuml;sseln, trotz der Tatsache, dass nirgends etwas verborgen
-ist?&quot; Falls das der Fall ist, gehe weiter zu Frage Nr. 2, ansonsten gehe
+ist? Falls das der Fall ist, gehe weiter zu Frage Nr. 2, ansonsten gehe
 zur Frage Nr. 5.&quot; Ha, nein, die Welt ist sogar viel einfacher als ich mir
 das w&uuml;nsche. Frage Nr. 5: &quot;Sitzt dir eine wie verr&uuml;ckt tickende
 Uhr im Nacken?&quot; Mein Gott, nat&uuml;rlich nicht! W&auml;re es so,

Modified: homepage/input/lotm/lotm_200904_ru.html
===================================================================
--- homepage/input/lotm/lotm_200904_ru.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/lotm/lotm_200904_ru.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -306,7 +306,7 @@
 <p>[2] ???????? ????? ????????? ?????? ?????? ???????. ??? ?????, ????? ???????
 ????? ??????? ??????????????? ??????? &quot;? ????? ??????&quot;,
 ????????? ??? ???????????????? &quot;??? ?? ????? ?????? ?????? ???&quot;
-? ??????????? ?????????? ??????? &quot;????????????? ????????? ??? &quot;????????&quot;,
+? ??????????? ?????????? ??????? &quot;????????????? ????????? ??? ????????&quot;,
 ?????? ???????? ? ???? ???????. ?? ??? ????? ???? ????????, ??????? ??????? ???????? ?????.
 ????? ???????????? ?????? ?? ????????????? ? ?????????, ? ?????? ????? ????????, ??? ??
 ?????? ?? ????? ? ???????? ???????? ? ?????, ??????? ???? ??? ??? &quot;??? ? ???????,

Modified: homepage/input/lotm/lotm_200904_yang_de.html
===================================================================
--- homepage/input/lotm/lotm_200904_yang_de.html	2009-04-20 22:34:56 UTC (rev 1640)
+++ homepage/input/lotm/lotm_200904_yang_de.html	2009-04-20 22:59:59 UTC (rev 1641)
@@ -162,14 +162,14 @@
 <p>H&auml;misch haben sie gejohlt: &quot;Mit dem Dynamit k&ouml;nnen die beiden
 Verfluchten als letzte Chance die beiden wei&szlig;en Mauern wegsprengen, und
 dann in das Schwimmbad in der Mitte springen: Diese &auml;tzende Lauge hat noch
-keiner &uuml;berlebt! Wer in dieses Wasser geht, kommt dank &quot;NaOH&quot; nie
+keiner &uuml;berlebt! Wer in dieses Wasser geht, kommt dank 'NaOH' nie
 mehr wieder raus!!&quot; HAHAHA HAHAHA HAHAHAAA!!! </p>
 
 <p><i>Schwarz</i> denkt nach und schreit hysterisch: &quot;Ich kenn' den
-Konstrukteur dieses Kerkers! &quot;Duffy&quot; nennt er sich. Und der h&auml;tte
+Konstrukteur dieses Kerkers! 'Duffy' nennt er sich. Und der h&auml;tte
 gewiss eine L&ouml;sung parat, mit der wir in dieser ausweglos erscheinenden
 Situation doch einen Weg finden, alle Oxyds zu &ouml;ffnen und die Aufgabe
-erfolgreich zu l&ouml;sen. Denken wir doch mal nach &hellip; </p>
+erfolgreich zu l&ouml;sen. Denken wir doch mal nach &hellip;&quot; </p>
 
 <p>Vorausschauend &hellip; Vorausschauend planen &hellip;
 </p>



From ral at mail.berlios.de  Wed Apr 22 00:09:49 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 22 Apr 2009 00:09:49 +0200
Subject: [Enigma-game-svn] r1643 - in trunk/src: . items lev
Message-ID: <200904212209.n3LM9nTm029325@sheep.berlios.de>

Author: ral
Date: 2009-04-22 00:09:47 +0200 (Wed, 22 Apr 2009)
New Revision: 1643

Modified:
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/Bomb.cc
   trunk/src/items/Bomb.hh
   trunk/src/items/BurnableItem.cc
   trunk/src/items/Magnet.cc
   trunk/src/items/Meditation.cc
   trunk/src/items/ShogunDot.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/items/StripItem.cc
   trunk/src/lev/PersistentIndex.cc
   trunk/src/lua.cc
Log:
Trunk 1.1:
- separation of item flags:
  - "static" - item is not liftable, no pickup
  - "portable" - item can be added to inventory
  - "freezable" - item can be frozen by st_ice
- it_springboard, it_bomb (but not it_bomb_burning) as portable
- fix potential crash on addition of current level to history

Modified: trunk/src/items/Bomb.cc
===================================================================
--- trunk/src/items/Bomb.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/Bomb.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -122,7 +122,14 @@
         replace("it_explosion_debris");
     }
 
-    DEF_ITEMTRAITSF(Bomb, "it_bomb", it_bomb, itf_static | itf_indestructible | itf_fireproof);
+    int Bomb::traitsIdx() const {
+        return state;
+    }
+    
+    ItemTraits Bomb::traits[2] = {
+        {"it_bomb", it_bomb, itf_static | itf_indestructible | itf_fireproof | itf_portable | itf_freezable, 0.0},
+        {"it_bomb_burning", it_bomb_burning, itf_static | itf_indestructible | itf_fireproof | itf_freezable, 0.0},
+    };
 
     BOOT_REGISTER_START
         BootRegister(new Bomb(0), "it_bomb");

Modified: trunk/src/items/Bomb.hh
===================================================================
--- trunk/src/items/Bomb.hh	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/Bomb.hh	2009-04-21 22:09:47 UTC (rev 1643)
@@ -30,7 +30,7 @@
 
     class Bomb : public Item {
         CLONEOBJ(Bomb);
-        DECL_ITEMTRAITS;
+        DECL_ITEMTRAITS_ARRAY(2, traitsIdx());
 
     private:
         enum iState {
@@ -63,6 +63,7 @@
     private:
         void burn();
         void explode();
+        int traitsIdx() const;
     };
    
 } // namespace enigma

Modified: trunk/src/items/BurnableItem.cc
===================================================================
--- trunk/src/items/BurnableItem.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/BurnableItem.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -76,7 +76,7 @@
     
     ItemTraits BurnableItem::traits[6] = {
         {"it_burnable_invisible", it_burnable_invisible, itf_static, 0.0},
-        {"it_burnable_oil",       it_burnable_oil,       itf_static, 0.0},
+        {"it_burnable_oil",       it_burnable_oil,       itf_static | itf_freezable, 0.0},
         {"it_burnable_ignited",   it_burnable_ignited,   itf_static | itf_animation | itf_fireproof, 0.0},
         {"it_burnable_burning",   it_burnable_burning,   itf_static | itf_animation | itf_fireproof, 0.0},
         {"it_burnable_ash",       it_burnable_ash,       itf_static | itf_fireproof, 0.0},

Modified: trunk/src/items/Magnet.cc
===================================================================
--- trunk/src/items/Magnet.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/Magnet.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -88,8 +88,8 @@
     }
     
     ItemTraits Magnet::traits[2] = {
-        { "it_magnet_off", it_magnet_off, itf_static | itf_indestructible, 0.0 },
-        { "it_magnet_on",  it_magnet_on,  itf_static | itf_indestructible, 0.0 },
+        { "it_magnet_off", it_magnet_off, itf_static | itf_indestructible | itf_freezable, 0.0 },
+        { "it_magnet_on",  it_magnet_on,  itf_static | itf_indestructible | itf_freezable, 0.0 },
     };
     
     BOOT_REGISTER_START

Modified: trunk/src/items/Meditation.cc
===================================================================
--- trunk/src/items/Meditation.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/Meditation.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -244,12 +244,12 @@
     }
 
     ItemTraits Meditation::traits[6] = {
-        {"it_meditation_caldera",  it_meditation_caldera,  itf_static | itf_fireproof},
-        {"it_meditation_hollow",  it_meditation_hollow,  itf_static | itf_fireproof},
-        {"it_meditation_dent",  it_meditation_dent,  itf_static | itf_fireproof},
-        {"it_meditation_bump",  it_meditation_bump,  itf_static | itf_fireproof},
-        {"it_meditation_hill",  it_meditation_hill,  itf_static | itf_fireproof},
-        {"it_meditation_volcano",  it_meditation_volcano,  itf_static | itf_fireproof},
+        {"it_meditation_caldera",  it_meditation_caldera,  itf_static | itf_fireproof | itf_freezable},
+        {"it_meditation_hollow",  it_meditation_hollow,  itf_static | itf_fireproof | itf_freezable},
+        {"it_meditation_dent",  it_meditation_dent,  itf_static | itf_fireproof | itf_freezable},
+        {"it_meditation_bump",  it_meditation_bump,  itf_static | itf_fireproof | itf_freezable},
+        {"it_meditation_hill",  it_meditation_hill,  itf_static | itf_fireproof | itf_freezable},
+        {"it_meditation_volcano",  it_meditation_volcano,  itf_static | itf_fireproof | itf_freezable},
     };
 
     BOOT_REGISTER_START

Modified: trunk/src/items/ShogunDot.cc
===================================================================
--- trunk/src/items/ShogunDot.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/ShogunDot.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -110,9 +110,9 @@
     
 
     ItemTraits ShogunDot::traits[3] = {
-        { "it_shogun_s", it_shogun_s, itf_static | itf_indestructible, 0.0 },
-        { "it_shogun_m", it_shogun_m, itf_static | itf_indestructible, 0.0 },
-        { "it_shogun_l", it_shogun_l, itf_static | itf_indestructible, 0.0 }
+        { "it_shogun_s", it_shogun_s, itf_static | itf_indestructible | itf_freezable, 0.0 },
+        { "it_shogun_m", it_shogun_m, itf_static | itf_indestructible | itf_freezable, 0.0 },
+        { "it_shogun_l", it_shogun_l, itf_static | itf_indestructible | itf_freezable, 0.0 }
     };
 
     BOOT_REGISTER_START

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/SimpleItems.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -363,7 +363,7 @@
         set_model("it_springboard");
     }
 
-    DEF_ITEMTRAITSF(Springboard, "it_springboard", it_springboard, itf_static);
+    DEF_ITEMTRAITSF(Springboard, "it_springboard", it_springboard, itf_static | itf_portable | itf_freezable);
     
 /* -------------------- Squashed Cherry -------------------- */
 
@@ -380,7 +380,7 @@
         return Item::message(m);
     }
 
-    DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static);
+    DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static | itf_freezable);
 
 /* -------------------- Weight item -------------------- */
     Weight::Weight() {

Modified: trunk/src/items/StripItem.cc
===================================================================
--- trunk/src/items/StripItem.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items/StripItem.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -98,22 +98,22 @@
     }
 
     ItemTraits StripItem::traits[16] = {
-        {"it_strip",  it_strip,  itf_static},
-        {"it_strip_w",  it_strip_w,  itf_static},
-        {"it_strip_s",  it_strip_s,  itf_static},
-        {"it_strip_sw",  it_strip_sw,  itf_static},
-        {"it_strip_e",  it_strip_e,  itf_static},
-        {"it_strip_ew",  it_strip_ew,  itf_static},
-        {"it_strip_es",  it_strip_es,  itf_static},
-        {"it_strip_esw",  it_strip_esw,  itf_static},
-        {"it_strip_n",  it_strip_n,  itf_static},
-        {"it_strip_nw",  it_strip_nw,  itf_static},
-        {"it_strip_ns",  it_strip_ns,  itf_static},
-        {"it_strip_nsw",  it_strip_nsw,  itf_static},
-        {"it_strip_ne",  it_strip_ne,  itf_static},
-        {"it_strip_new",  it_strip_new,  itf_static},
-        {"it_strip_nes",  it_strip_nes,  itf_static},
-        {"it_strip_nesw",  it_strip_nesw,  itf_static}
+        {"it_strip",  it_strip,  itf_static | itf_freezable},
+        {"it_strip_w",  it_strip_w,  itf_static | itf_freezable},
+        {"it_strip_s",  it_strip_s,  itf_static | itf_freezable},
+        {"it_strip_sw",  it_strip_sw,  itf_static | itf_freezable},
+        {"it_strip_e",  it_strip_e,  itf_static | itf_freezable},
+        {"it_strip_ew",  it_strip_ew,  itf_static | itf_freezable},
+        {"it_strip_es",  it_strip_es,  itf_static | itf_freezable},
+        {"it_strip_esw",  it_strip_esw,  itf_static | itf_freezable},
+        {"it_strip_n",  it_strip_n,  itf_static | itf_freezable},
+        {"it_strip_nw",  it_strip_nw,  itf_static | itf_freezable},
+        {"it_strip_ns",  it_strip_ns,  itf_static | itf_freezable},
+        {"it_strip_nsw",  it_strip_nsw,  itf_static | itf_freezable},
+        {"it_strip_ne",  it_strip_ne,  itf_static | itf_freezable},
+        {"it_strip_new",  it_strip_new,  itf_static | itf_freezable},
+        {"it_strip_nes",  it_strip_nes,  itf_static | itf_freezable},
+        {"it_strip_nesw",  it_strip_nesw,  itf_static | itf_freezable}
     };
     
     BOOT_REGISTER_START

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -132,6 +132,10 @@
     return get_traits().flags & itf_static;
 }
 
+bool Item::isPortable() const {
+    return !isStatic() || (get_traits().flags & itf_portable);
+}
+
 void Item::add_force(Actor *, V2 &) {
 }
 

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/items.hh	2009-04-21 22:09:47 UTC (rev 1643)
@@ -32,6 +32,7 @@
         it_bag,
         it_banana,
         it_bomb,
+        it_bomb_burning,
         it_blocker,
         it_bottle_idle,
         it_bottle_broken,
@@ -167,13 +168,15 @@
 
     enum ItemFlags {
         itf_none   = 0,
-        itf_static = 1,         //!< Cannot be picked up
-        itf_indestructible = 2, //!< Cannot be destroyed by explosions etc.
+        itf_static = 1,         //!< Cannot be picked up - not liftable
+        itf_indestructible = 2, //!< Non standard handling of explosions - may well be destructible!
         itf_animation = 4,      //!< Use set_anim() instead of set_model()
         itf_invisible = 8,      //!< Item has no visible model
         itf_inflammable = 16,   //!< Burns when hit by laser beam
         itf_norespawn = 32,     //!< Don't respawn balls on top of this item
         itf_fireproof = 64,     //!< This item can't burn by fire
+        itf_portable = 128,     //!< This static item can be added to the inventory
+        itf_freezable = 256,    //!< This static item can be frozen and carried by an st_ice
     };
 
     struct ItemTraits {
@@ -205,7 +208,8 @@
 
         virtual const ItemTraits &get_traits() const = 0;
         
-        virtual bool isStatic() const;
+        virtual bool isStatic() const;   // not liftable
+        virtual bool isPortable() const;
 
         /*! Return true if item completely covers the floor. In this
           case the Floor::actor_contact() will not be called

Modified: trunk/src/lev/PersistentIndex.cc
===================================================================
--- trunk/src/lev/PersistentIndex.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/lev/PersistentIndex.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -262,7 +262,7 @@
         Variation var;
         Proxy * curProxy = Index::getCurrentProxy();
         // remember all but commandline absolute and relative paths
-        if (curProxy->getNormPathType() != Proxy::pt_absolute) {
+        if (curProxy != NULL && curProxy->getNormPathType() != Proxy::pt_absolute) {
             PersistentIndex * curIndex = dynamic_cast<PersistentIndex *>(Index::getCurrentIndex());
             if (curIndex != NULL)
                 var = curIndex->getVariation(curIndex->getCurrentPosition());

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-04-20 23:34:35 UTC (rev 1642)
+++ trunk/src/lua.cc	2009-04-21 22:09:47 UTC (rev 1643)
@@ -2213,9 +2213,9 @@
             throwLuaError(L, "Attempt to add an object to a bag or inventory that is no item");
         } else {
             Item * it = dynamic_cast<Item *>(obj);
-            if (it->isStatic()) {
+            if (!it->isPortable()) {
                 DisposeObject(obj);
-                throwLuaError(L, "Attempt to add a static item to a bag or inventory");
+                throwLuaError(L, "Attempt to add an item to a bag or inventory that is not portable");
             } else {
                 itemHolder->add_item(it);
                 // just in case itemholder is displayed



From andreas.lochmann at stud.uni-goettingen.de  Thu Apr 23 14:55:24 2009
From: andreas.lochmann at stud.uni-goettingen.de (Andreas Lochmann)
Date: Thu, 23 Apr 2009 14:55:24 +0200
Subject: [Enigma-game-svn] r1642
Message-ID: <49F0653C.7050303@stud.uni-goettingen.de>

(Manual notification, because diff is too large.)

LotM Feature branch:
- Merged homepage back to feature branch,
   they are now synchronous.


From raoul at mail.berlios.de  Thu Apr 23 23:59:41 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 23 Apr 2009 23:59:41 +0200
Subject: [Enigma-game-svn] r1644 - in trunk/data/levels: enigma_cross
	enigma_i enigma_iii enigma_tutorial enigma_v enigma_vi
	enigma_vii enigma_viii
Message-ID: <200904232159.n3NLxfrG022758@sheep.berlios.de>

Author: raoul
Date: 2009-04-23 23:59:38 +0200 (Thu, 23 Apr 2009)
New Revision: 1644

Added:
   trunk/data/levels/enigma_vi/ral06_2.xml
   trunk/data/levels/enigma_vii/duffy165_2.xml
   trunk/data/levels/enigma_vii/duffy171_2.xml
Removed:
   trunk/data/levels/enigma_vi/ral06_1.xml
   trunk/data/levels/enigma_vii/duffy165_1.xml
   trunk/data/levels/enigma_vii/duffy170_2.xml
   trunk/data/levels/enigma_vii/duffy171_1.xml
Modified:
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_i/welcometopack1_3.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_v/raoul05_2.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vii/dpl01_2.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/just23_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/pulley06_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral42_1.xml
Log:
-> A few bugfixes



Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -76,7 +76,7 @@
     <level _seq="68" _title="Walk the Dog" _xpath="enigma_iii/luc04_2" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc04" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="69" _title="Triple Threat" _xpath="enigma_iii/illmind10_1" author="illmind" ctrl="force" easy="false" id="illmind10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Changing Positions" _xpath="enigma_iii/luc27_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc27" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="71" _title="Waterworld" _xpath="enigma_iii/illmind11_1" author="illmind" ctrl="force" easy="true" id="illmind11" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="71" _title="Waterworld" _xpath="enigma_iii/illmind11_2" author="illmind" ctrl="force" easy="true" id="illmind11" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="72" _title="Wood robbing" _xpath="enigma_iv/alain08_1" author="Alain Busser" ctrl="force" easy="false" id="alain08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Hurry!" _xpath="enigma_iv/wb01_3" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="3" rev="2" score="3" target="time" unit="duration"/>
     <level _seq="74" _title="Antimaze" _xpath="enigma_iv/luc02_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc02" rel="2" rev="3" score="1" target="time" unit="duration"/>
@@ -159,7 +159,7 @@
     <level _seq="151" _title="Meditation Disturbance" _xpath="enigma_vi/ral04_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="2" rev="143" score="1" target="time" unit="duration"/>
     <level _seq="152" _title="Banana Republic" _xpath="enigma_v/alain26_2" author="Alain Busser" ctrl="force" easy="true" id="alain26" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="154" _title="Rhapsody on Cracks" _xpath="enigma_vi/ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="154" _title="Rhapsody on Cracks" _xpath="enigma_vi/ral06_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="2" rev="175" score="2" target="time" unit="duration"/>
     <level _seq="155" _title="Prepare Your Defense" _xpath="enigma_vi/duffy132_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy132" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Cold Way" _xpath="enigma_vi/raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="157" _title="Laserpowered" _xpath="enigma_vi/raoul20_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul20" rel="2" rev="3" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -19,159 +19,158 @@
     <level _seq="11" _title="Manuevre" _xpath="enigma_vii/joe13_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Mayan Meditation" _xpath="enigma_vii/duffy162_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy162" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Horseshoes" _xpath="enigma_vii/duffy163_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy163" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="14" _title="Knot Garden" _xpath="enigma_vii/duffy165_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy165" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="14" _title="Knot Garden" _xpath="enigma_vii/duffy165_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy165" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Impulse-phobia" _xpath="enigma_vii/duffy166_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy166" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Slopes, Jumps &amp; Falls" _xpath="enigma_vii/duffy167_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy167" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Arctic Jumping" _xpath="enigma_vii/duffy168_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy168" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Breakthrough" _xpath="enigma_vii/duffy170_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy170" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="19" _title="Seasonal Patterns" _xpath="enigma_vii/duffy164_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy164" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="20" _title="Shark" _xpath="enigma_vii/duffy169_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy169" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="21" _title="Alpha Factor" _xpath="enigma_vii/duffy171_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy171" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="22" _title="Double Oneways" _xpath="enigma_vii/duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="23" _title="Wood - Water - Wood" _xpath="enigma_vii/duffy173_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="24" _title="Transpositions" _xpath="enigma_vii/duffy174_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="2" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
-    <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
-    <level _seq="30" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="32" _title="Give Way 4 two" _xpath="enigma_vii/just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="33" _title="Lost in Time and Space" _xpath="enigma_vii/just23_2" author="JuSt" ctrl="force" easy="false" id="just23" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="34" _title="Alternatives?" _xpath="enigma_vii/just24_1" author="JuSt" ctrl="force" easy="true" id="just24" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="No More Alternatives" _xpath="enigma_vii/just25_1" author="JuSt" ctrl="force" easy="true" id="just25" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="The Walls" _xpath="enigma_vii/just26_1" author="JuSt" ctrl="force" easy="true" id="just26" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Pull the Puller" _xpath="enigma_vii/just28_1" author="JuSt" ctrl="force" easy="false" id="just28" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Double Sense" _xpath="enigma_vii/joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="39" _title="Double Sense II" _xpath="enigma_vii/joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Lightyears" _xpath="enigma_vii/duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title="Armageddon" _xpath="enigma_vii/duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="Mountain Climbing II" _xpath="enigma_vii/joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Minor Tangler" _xpath="enigma_vii/joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Circulation" _xpath="enigma_vii/pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="46" _title="Maze for Two" _xpath="enigma_vii/ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
-    <level _seq="47" _title="Making Shapes" _xpath="enigma_vii/joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="Clever Pushing" _xpath="enigma_vii/joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="49" _title="Using Rotators" _xpath="enigma_vii/joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Swapping Puzzle" _xpath="enigma_vii/joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="Remote Meditation" _xpath="enigma_vii/dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="60" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="61" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="62" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="63" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
-    <level _seq="65" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="67" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="68" _title="Underground Temple" _xpath="enigma_vii/joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="69" _title="Mountain Climbing III" _xpath="enigma_vii/joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="70" _title="Recover the Stone" _xpath="enigma_vii/joe28_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe28" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_2" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="40" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="43" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="49" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="36" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="45" score="1" target="time" unit="duration"/>
-    <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="36" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="85" score="1" target="time" unit="duration"/>
-    <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
-    <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="5" score="3" target="time" unit="duration"/>
-    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
-    <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
-    <level _seq="96" _title="Weirdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="19" score="2" target="time" unit="duration"/>
-    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="40" score="1" target="time" unit="duration"/>
-    <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="166" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="173" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="118" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="119" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="120" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="122" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="123" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="124" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="125" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="16" score="1" target="time" unit="duration"/>
-    <level _seq="126" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="130" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="133" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="166" score="1" target="time" unit="duration"/>
-    <level _seq="134" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="150" score="1" target="time" unit="duration"/>
-    <level _seq="135" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="166" score="1" target="time" unit="duration"/>
-    <level _seq="136" _title="Sokopal" _xpath="enigma_viii/andreas55_2" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas55" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="137" _title="Minopal" _xpath="enigma_viii/andreas54_1" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas54" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="138" _title="Mole Hill Meditation" _xpath="enigma_viii/ral43_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090112ral228" rel="1" rev="138" score="1" target="time" unit="duration"/>
-    <level _seq="139" _title="Involution" _xpath="enigma_viii/raoul32_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul32" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="140" _title="Near Halley I" _xpath="enigma_viii/devnull19_1" author="/dev/null" ctrl="force" easy="true" id="devnull19" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="141" _title="Two Is A Company I" _xpath="enigma_viii/devnull24_1" author="/dev/null" ctrl="force" easy="true" id="devnull24" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="142" _title="Two Is A Company II" _xpath="enigma_viii/devnull25_1" author="/dev/null" ctrl="force" easy="true" id="devnull25" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="143" _title="CrissCross" _xpath="enigma_viii/devnull26_1" author="/dev/null" ctrl="force" easy="true" id="devnull26" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="144" _title="5 Days and 5 Nights" _xpath="enigma_viii/andreas56_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas56" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="145" _title="Babylon" _xpath="enigma_viii/mecke27_1" author="mecke" ctrl="force" easy="true" id="mecke27" rel="1" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="146" _title="Two Is A Company III" _xpath="enigma_viii/devnull27_1" author="/dev/null" ctrl="force" easy="false" id="devnull27" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="147" _title="Panelled Puzzle I" _xpath="enigma_viii/ral32_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080820ral639" rel="1" rev="166" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Panelled Puzzle II" _xpath="enigma_viii/ral33_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090308ral237" rel="1" rev="166" score="1" target="time" unit="duration"/>
-    <level _seq="149" _title="The Gordian Knot" _xpath="enigma_viii/ral15_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090312ral718" rel="1" rev="167" score="1" target="time" unit="duration"/>
-    <level _seq="150" _title="Inverse Maze" _xpath="enigma_viii/ral44_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090325ral180" rel="1" rev="163" score="1" target="time" unit="duration"/>
-    <level _seq="151" _title="Inverse Maze II" _xpath="enigma_viii/ral45_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090327ral218" rel="1" rev="170" score="1" target="time" unit="duration"/>
-    <level _seq="152" _title="Maze for Two II" _xpath="enigma_viii/ral23_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090330ral370" rel="2" rev="169" score="2" target="time" unit="duration"/>
-    <level _seq="153" _title="Fight of Elements" _xpath="enigma_viii/ral48_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090403ral538" rel="1" rev="172" score="1" target="time" unit="duration"/>
-    <level _seq="154" _title="New York'Jungle" _xpath="enigma_viii/mecke32_1" author="mecke" ctrl="force" easy="false" id="mecke32" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="155" _title="Push? Pull? Rotate!" _xpath="enigma_viii/raoul33_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul33" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="156" _title="Pentomino VI" _xpath="enigma_viii/pento06_1" author="Enigma Team" ctrl="force" easy="false" id="pento6" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="157" _title="Pentomino VII" _xpath="enigma_viii/pento07_1" author="Enigma Team" ctrl="force" easy="false" id="pento7" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="158" _title="Pentomino VIII" _xpath="enigma_viii/pento08_1" author="Enigma Team" ctrl="force" easy="false" id="pento8" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="159" _title="Pentomino IX" _xpath="enigma_viii/pento09_1" author="Enigma Team" ctrl="force" easy="false" id="pento9" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="160" _title="Pentomino X" _xpath="enigma_viii/pento10_1" author="Enigma Team" ctrl="force" easy="false" id="pento10" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="161" _title="Pentomino XI" _xpath="enigma_viii/pento11_1" author="Enigma Team" ctrl="force" easy="false" id="pento11" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="162" _title="Pentomino XII" _xpath="enigma_viii/pento12_1" author="Enigma Team" ctrl="force" easy="false" id="pento12" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="163" _title="Pentomino XIII" _xpath="enigma_viii/pento13_1" author="Enigma Team" ctrl="force" easy="false" id="pento13" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="164" _title="Pentomino XIV" _xpath="enigma_viii/pento14_1" author="Enigma Team" ctrl="force" easy="false" id="pento14" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="165" _title="Pentomino XV" _xpath="enigma_viii/pento15_1" author="Enigma Team" ctrl="force" easy="false" id="pento15" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="166" _title="Pentomino XVI" _xpath="enigma_viii/pento16_1" author="Enigma Team" ctrl="force" easy="false" id="pento16" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="18" _title="Seasonal Patterns" _xpath="enigma_vii/duffy164_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy164" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="19" _title="Shark" _xpath="enigma_vii/duffy169_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy169" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="20" _title="Alpha Factor" _xpath="enigma_vii/duffy171_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy171" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Double Oneways" _xpath="enigma_vii/duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Wood - Water - Wood" _xpath="enigma_vii/duffy173_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="23" _title="Transpositions" _xpath="enigma_vii/duffy174_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="24" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
+    <level _seq="26" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="27" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
+    <level _seq="29" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
+    <level _seq="31" _title="Give Way 4 two" _xpath="enigma_vii/just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="32" _title="Lost in Time and Space" _xpath="enigma_vii/just23_2" author="JuSt" ctrl="force" easy="false" id="just23" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="33" _title="Alternatives?" _xpath="enigma_vii/just24_1" author="JuSt" ctrl="force" easy="true" id="just24" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="No More Alternatives" _xpath="enigma_vii/just25_1" author="JuSt" ctrl="force" easy="true" id="just25" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="The Walls" _xpath="enigma_vii/just26_1" author="JuSt" ctrl="force" easy="true" id="just26" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Pull the Puller" _xpath="enigma_vii/just28_1" author="JuSt" ctrl="force" easy="false" id="just28" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Double Sense" _xpath="enigma_vii/joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Double Sense II" _xpath="enigma_vii/joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="39" _title="Lightyears" _xpath="enigma_vii/duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title="Armageddon" _xpath="enigma_vii/duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title="Mountain Climbing II" _xpath="enigma_vii/joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="Minor Tangler" _xpath="enigma_vii/joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Circulation" _xpath="enigma_vii/pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Maze for Two" _xpath="enigma_vii/ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
+    <level _seq="46" _title="Making Shapes" _xpath="enigma_vii/joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Clever Pushing" _xpath="enigma_vii/joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="48" _title="Using Rotators" _xpath="enigma_vii/joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Swapping Puzzle" _xpath="enigma_vii/joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Multiban" _xpath="enigma_vii/dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="53" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
+    <level _seq="54" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="56" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Remote Meditation" _xpath="enigma_vii/dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="60" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="63" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="64" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
+    <level _seq="65" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="67" _title="Underground Temple" _xpath="enigma_vii/joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="68" _title="Mountain Climbing III" _xpath="enigma_vii/joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="69" _title="Recover the Stone" _xpath="enigma_vii/joe28_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe28" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="70" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="71" _title="A Kind of Magic" _xpath="enigma_vii/just37_2" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="72" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="73" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="49" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="80" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="81" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="45" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="83" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="86" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="85" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
+    <level _seq="89" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="5" score="3" target="time" unit="duration"/>
+    <level _seq="90" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
+    <level _seq="93" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="94" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="95" _title="Weirdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="96" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="129" score="1" target="time" unit="duration"/>
+    <level _seq="97" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="101" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
+    <level _seq="102" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="103" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="104" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="19" score="2" target="time" unit="duration"/>
+    <level _seq="105" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="106" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
+    <level _seq="108" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="166" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="112" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="173" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="116" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="118" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="119" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="120" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="122" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="123" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="124" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="125" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="126" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Plutos World" _xpath="enigma_viii/mecke02_2" author="mecke" ctrl="force" easy="false" id="mecke16" rel="2" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="20" score="1" target="time" unit="duration"/>
+    <level _seq="130" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="166" score="1" target="time" unit="duration"/>
+    <level _seq="133" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="150" score="1" target="time" unit="duration"/>
+    <level _seq="134" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="176" score="1" target="time" unit="duration"/>
+    <level _seq="135" _title="Sokopal" _xpath="enigma_viii/andreas55_2" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas55" rel="2" rev="7" score="2" target="time" unit="duration"/>
+    <level _seq="136" _title="Minopal" _xpath="enigma_viii/andreas54_1" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas54" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="137" _title="Mole Hill Meditation" _xpath="enigma_viii/ral43_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090112ral228" rel="1" rev="138" score="1" target="time" unit="duration"/>
+    <level _seq="138" _title="Involution" _xpath="enigma_viii/raoul32_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul32" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="139" _title="Near Halley I" _xpath="enigma_viii/devnull19_1" author="/dev/null" ctrl="force" easy="true" id="devnull19" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="140" _title="Two Is A Company I" _xpath="enigma_viii/devnull24_1" author="/dev/null" ctrl="force" easy="true" id="devnull24" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="141" _title="Two Is A Company II" _xpath="enigma_viii/devnull25_1" author="/dev/null" ctrl="force" easy="true" id="devnull25" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="142" _title="CrissCross" _xpath="enigma_viii/devnull26_1" author="/dev/null" ctrl="force" easy="true" id="devnull26" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="143" _title="5 Days and 5 Nights" _xpath="enigma_viii/andreas56_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas56" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="144" _title="Babylon" _xpath="enigma_viii/mecke27_1" author="mecke" ctrl="force" easy="true" id="mecke27" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="145" _title="Two Is A Company III" _xpath="enigma_viii/devnull27_1" author="/dev/null" ctrl="force" easy="false" id="devnull27" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="146" _title="Panelled Puzzle I" _xpath="enigma_viii/ral32_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080820ral639" rel="1" rev="166" score="1" target="time" unit="duration"/>
+    <level _seq="147" _title="Panelled Puzzle II" _xpath="enigma_viii/ral33_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090308ral237" rel="1" rev="166" score="1" target="time" unit="duration"/>
+    <level _seq="148" _title="The Gordian Knot" _xpath="enigma_viii/ral15_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090312ral718" rel="1" rev="167" score="1" target="time" unit="duration"/>
+    <level _seq="149" _title="Inverse Maze" _xpath="enigma_viii/ral44_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090325ral180" rel="1" rev="163" score="1" target="time" unit="duration"/>
+    <level _seq="150" _title="Inverse Maze II" _xpath="enigma_viii/ral45_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090327ral218" rel="1" rev="170" score="1" target="time" unit="duration"/>
+    <level _seq="151" _title="Maze for Two II" _xpath="enigma_viii/ral23_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090330ral370" rel="2" rev="169" score="2" target="time" unit="duration"/>
+    <level _seq="152" _title="Fight of Elements" _xpath="enigma_viii/ral48_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090403ral538" rel="1" rev="172" score="1" target="time" unit="duration"/>
+    <level _seq="153" _title="New York'Jungle" _xpath="enigma_viii/mecke32_1" author="mecke" ctrl="force" easy="false" id="mecke32" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="154" _title="Push? Pull? Rotate!" _xpath="enigma_viii/raoul33_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul33" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="155" _title="Pentomino VI" _xpath="enigma_viii/pento06_1" author="Enigma Team" ctrl="force" easy="false" id="pento6" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="156" _title="Pentomino VII" _xpath="enigma_viii/pento07_1" author="Enigma Team" ctrl="force" easy="false" id="pento7" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="157" _title="Pentomino VIII" _xpath="enigma_viii/pento08_1" author="Enigma Team" ctrl="force" easy="false" id="pento8" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="158" _title="Pentomino IX" _xpath="enigma_viii/pento09_1" author="Enigma Team" ctrl="force" easy="false" id="pento9" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="159" _title="Pentomino X" _xpath="enigma_viii/pento10_1" author="Enigma Team" ctrl="force" easy="false" id="pento10" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="160" _title="Pentomino XI" _xpath="enigma_viii/pento11_1" author="Enigma Team" ctrl="force" easy="false" id="pento11" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="161" _title="Pentomino XII" _xpath="enigma_viii/pento12_1" author="Enigma Team" ctrl="force" easy="false" id="pento12" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="162" _title="Pentomino XIII" _xpath="enigma_viii/pento13_1" author="Enigma Team" ctrl="force" easy="false" id="pento13" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="163" _title="Pentomino XIV" _xpath="enigma_viii/pento14_1" author="Enigma Team" ctrl="force" easy="false" id="pento14" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="164" _title="Pentomino XV" _xpath="enigma_viii/pento15_1" author="Enigma Team" ctrl="force" easy="false" id="pento15" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="165" _title="Pentomino XVI" _xpath="enigma_viii/pento16_1" author="Enigma Team" ctrl="force" easy="false" id="pento16" rel="2" rev="2" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_i/welcometopack1_3.xml
===================================================================
--- trunk/data/levels/enigma_i/welcometopack1_3.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_i/welcometopack1_3.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -19,8 +19,8 @@
 ti["#"] = {"st_box"}
 ti["O"] = {"st_oxyd"}
 if wo["IsDifficult"] then
-    ti["Q"] = {"st_quake", name="quaker"}
-    ti["T"] = {"st_timer", interval=10.0, target="quaker"}
+    ti["Q"] = {"st_quake", name="quake"}
+    ti["T"] = {"st_timer", interval=10.0, target="quake"}
 else
     ti["Q"] = ti[" "]
     ti["T"] = ti[" "]

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_iii/index.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -105,7 +105,7 @@
     <level _seq="97" _title="Changing Positions" _xpath="./luc27_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Guardian Angel" _xpath="./duffy102_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy102" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Unfair!" _xpath="./ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Waterworld" _xpath="./illmind11_1" author="illmind" ctrl="force" easy="true" id="illmind11" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Waterworld" _xpath="./illmind11_2" author="illmind" ctrl="force" easy="true" id="illmind11" rel="2" rev="6" score="2" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -43,7 +43,7 @@
     <level _seq="35" _title="Slippery Slopes" _xpath="enigma_i/martin38_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin38" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Ice Skating" _xpath="enigma_i/siegfried22_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Sok It To 'Em" _xpath="enigma_i/nat07_2" author="Nat Pryce" ctrl="force" easy="false" id="nat7" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Lasers and Mirrors" _xpath="./a_tut04_2" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut04" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Lasers and Mirrors" _xpath="./a_tut04_2" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut04" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Light Switches" _xpath="enigma_i/martin08_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin08" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="40" _title="- Meditation -" _xpath="enigma_i/siegfried33_1" author="anonymous" ctrl="force" easy="false" id="meditation1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Mirror Room" _xpath="enigma_i/luc12_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc12" rel="2" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/raoul05_2.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul05_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_v/raoul05_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Oxyd-Puzzle" el:subtitle="" el:id="raoul05"/>
-      <el:version el:score="1" el:release="2" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="9" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2005,2006,2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -69,11 +69,11 @@
 
 function set_puzzle(value, sender)
     if sender._oxyd.y < 0 then
-        wo:drawRect(po(sender) + po({-1, -4}), 3, 3, ti["O"])
-        wo:drawMap(resolver, po(sender) + po({-1, -4}), " ", upper_maps[sender.x/5])
+        wo:drawRect(po(sender) + po(-1, -4), 3, 3, ti["O"])
+        wo:drawMap(res.puzzle(ti, "P"), po(sender) + po({-1, -4}), " ", upper_maps[sender.x/5])
     else
-        wo:drawRect(po(sender) + po({-1, 2}), 3, 3, ti["O"])
-        wo:drawMap(resolver, po(sender) + po({-1, 2}), " ", lower_maps[(sender.x+1)/5])
+        wo:drawRect(po(sender) + po(-1, 2), 3, 3, ti["O"])
+        wo:drawMap(res.puzzle(ti, "P"), po(sender) + po({-1, 2}), " ", lower_maps[(sender.x+1)/5])
     end
     has_puzzle = has_puzzle + sender
     maybe_set_oxyds()

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vi/index.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Meditation Disturbance" _xpath="./ral04_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="2" rev="143" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Cold Way" _xpath="./raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Oxydmoron" _xpath="./raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="13" _title="Rhapsody on Cracks" _xpath="./ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="Rhapsody on Cracks" _xpath="./ral06_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="2" rev="175" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Red Herrings" _xpath="./andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="15" _title="Step gently!" _xpath="./malla03_2" author="Manuel K?nig" ctrl="force" easy="true" id="malla03" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="16" _title="Just Stay Calm" _xpath="./duffy116_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy116" rel="1" rev="1" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_vi/ral06_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral06_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vi/ral06_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -1,206 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected >
-    <el:info el:type="level">
-      <el:identity el:title="Rhapsody on Cracks" el:subtitle="The real value of coffee" el:id="20060510ral008"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 42 $" el:status="released"/>
-      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
-      <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92"/>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:score el:easy="1:16" el:difficult="1:52"/>
-    </el:info>
-    <el:luamain><![CDATA[
-enigma.ConserveLevel = FALSE
-if difficult then
-    enigma.Brittleness = 0.95
-else
-    enigma.Brittleness = 0.75
-end
-
-set_oxyd = oxyd
-
-function oxyd( x, y, tiles )
-    return set_oxyd( x, y )
-end
-
-function nothing(x, y, tiles)
-    -- create nothing
-end
-
-function horizontal_bolder(x,y,tiles)
-    if random() >= 0.5 then
-        return set_stone( "st-bolder-w", x, y )
-    else
-        return set_stone( "st-bolder-e", x, y )
-    end
-end
-
-function vertical_bolder(x,y,tiles)
-    if random() >= 0.5 then
-        return set_stone( "st-bolder-n", x, y )
-    else
-        return set_stone( "st-bolder-s", x, y )
-    end
-end
-
-function checkerboard_floor( type1, type2, attribs1, attribs2 )
-    return function( x, y, tiles )
-        if mod(x,2) == mod(y,2) then
-            return set_floor( type1, x, y, attribs1 or {} )
-        else
-            return set_floor( type2, x, y, attribs2 or {} )
-        end
-    end
-end
-
-function floor( floor_type, attribs )
-    return function( x, y, tiles )
-        return set_floor( floor_type, x, y, attribs or {} )
-    end
-end
-
-function stone( stone_type, attribs )
-    return function( x, y, tiles )
-        return set_stone( stone_type, x, y, attribs or {} )
-    end
-end
-
-function item( item_type, attribs )
-    return function( x, y, tiles )
-        return set_item( item_type, x, y, attribs or {} )
-    end
-end
-
-function actor( actor_type, attribs )
-    return function( x, y, tiles )
-        return set_actor( actor_type, x+0.5, y+0.5, attribs or {} )
-    end
-end
-
-function gradient( gradient_type )
-    return function( x, y, tiles )
-        return set_floor( "fl-gradient", x, y, {type=gradient_type} )
-    end
-end
-
-function inherit(tile_type)
-    return function( x, y, tiles )
-        return create_tile( tiles, x, y, tile_type )
-    end
-end
-
-function group( array, constructor )
-    return function( x, y, tiles )
-        object = constructor( x, y, tiles )
-        tinsert( array, object )
-        return object
-    end
-end
-
-function difficulty( d, constructor )
-    if options.Difficulty == d then
-        return constructor
-    else
-        return nothing
-    end
-end
-
-function create_world_from_map( tiles, map )
-    create_world( strlen(map[1]), getn(map) )
-    
-    for y = 1,getn(map) do
-        local line = map[y]
-        for x = 1,strlen(line) do
-            local tile = strchar(strbyte(line,x))
-            create_tile( tiles, x-1, y-1, tile )
-        end
-    end
-end
-
-function create_tile( tiles, x, y, tile_type )
-    local constructors = tiles[tile_type]
-
-    if constructors then
-    for i = 1,getn(constructors) do
-        constructors[i](x,y,tiles)
-    end
-    else
-    error("invalid tile identifier " .. tile_type )
-    end
-end
-
-oxyd_default_flavor = "a"
-
-tiles = {}
-tiles[" "] = {floor("fl-bluegray")}
-tiles["."] = {floor("fl-abyss")}
-tiles["c"] = {inherit(" "), item("it-crack1")}
-tiles["s"] = {inherit(" "), item("it-spring2")}
-tiles["p"] = {inherit(" "), item("it-coin1")}
-tiles["n"] = {inherit(" "), item("it-coin2")}
-tiles["d"] = {inherit(" "), item("it-coin4")}
-tiles["k"] = {inherit(" "), item("it-coffee")}
-tiles["w"] = {inherit(" "), item("it-seed")}
-tiles["#"] = {inherit(" "), stone("st-glass")}
-tiles["m"] = {inherit(" "), stone("st-mail-e")}
-tiles["-"] = {inherit("#"), item("it-pipe-h")}
-tiles["|"] = {inherit("#"), item("it-pipe-sw")}
-tiles["W"] = {inherit(" "), item("it-wormhole",{strength=2,targetx="10.5",targety="2.5"})}
-tiles["a"] = {inherit(" "), stone("st-door-h", {name="doorA"})}
-tiles["A"] = {inherit(" "), stone("st-coinslot", {action="openclose", target="doorA"})}
-tiles["b"] = {inherit(" "), stone("st-door-h", {name="doorB"})}
-tiles["B"] = {inherit(" "), stone("st-switch", {action="openclose", target="doorB"})}
-tiles["D"] = {inherit(" "), item("it-floppy")}
-tiles["f"] = {inherit(" "), stone("st-door-v", {name="doorF"})}
-tiles["F"] = {inherit(" "), stone("st-floppy", {action="openclose", target="doorF"})}
-tiles["r"] = {inherit(" "), item("it-key_a")}
-tiles["t"] = {inherit(" "), stone("st-door-v", {name="doorT"})}
-tiles["T"] = {inherit(" "), stone("st-key_a", {action="openclose", target="doorT"})}
-tiles["h"] = {inherit(" "), stone("st-door-v", {name="doorH"})}
-tiles["H"] = {inherit(" "), stone("st-switch", {action="openclose", target="doorH"})}
-tiles["g"] = {inherit(" "), stone("st-door-v", {name="doorG"})}
-tiles["G"] = {inherit(" "), stone("st-floppy", {action="openclose", target="doorG"})}
-
-if difficult then
-    tiles["e"] = tiles[" "]
-    tiles["y"] = tiles[" "]
-    tiles["z"] = {inherit(" "), item("it-coin4")}
-else
-    tiles["e"] = {inherit(" "), item("it-spring2")}
-    tiles["z"] = tiles[" "]
-    tiles["y"] = {inherit(" "), item("it-coin4")}
-end
-
-
-tiles["x"] = {inherit(" "), oxyd}
-
-tiles["1"] = {inherit(" "), actor("ac-blackball", {player=0})}
-
-function nocompress()
-    kill_stone(1, 6)
-end
-
-create_world_from_map( tiles, {
-"####################",
-"#    ...    ...   c#",
-"# W  ... ep ...  1 #",
-"#    ...    ... s  #",
-"#   #####m-|########",
-"#        cc        #",
-"#        cc        #",
-"#        cc        #",
-"##b##############aA#",
-"#p # y# dxx D#  #k #",
-"#n t  g zxx  h  fk B",
-"#D TwwG dxx  #r F  #",
-"#####H#xx##xx#######"
-})
-oxyd_shuffle()
-]]></el:luamain>
-    <el:i18n>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vi/ral06_2.xml (from rev 1637, trunk/data/levels/enigma_vi/ral06_1.xml)
===================================================================
--- trunk/data/levels/enigma_vi/ral06_1.xml	2009-04-19 11:03:45 UTC (rev 1637)
+++ trunk/data/levels/enigma_vi/ral06_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -0,0 +1,84 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected >
+    <el:info el:type="level">
+      <el:identity el:title="Rhapsody on Cracks" el:subtitle="The real value of coffee" el:id="20060510ral008"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 175 $" el:status="released"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2006, 2009 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="2:18" el:difficult="2:19"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+wo["CrackSpreading"] = cond(wo["IsDifficult"], 0.95, 0.75)
+
+ti[" "] = {"fl_bluegray"}
+ti["."] = {"fl_abyss"}
+ti["c"] = {"it_crack_s"}
+ti["s"] = {"it_spring_drop"}
+ti["p"] = {"it_coin_s"}
+ti["n"] = {"it_coin_m"}
+ti["d"] = {"it_coin_l"}
+ti["k"] = {"it_coffee"}
+ti["w"] = {"it_seed"}
+ti["#"] = {"st_rawglass"}
+ti["m"] = {"st_mail_e"}
+ti["-"] = {"it_pipe_ew"} .. ti["#"]
+ti["|"] = {"it_pipe_sw"} .. ti["#"]
+ti["W"] = {"it_wormhole", strength=2, destination="dest"}
+ti["a"] = {"st_door_d", "doorA", faces="ns"}
+ti["A"] = {"st_coinslot", target="doorA"}
+ti["b"] = {"st_door_d", "doorB", faces="ns"}
+ti["B"] = {"st_switch", target="doorB"}
+ti["D"] = {"it_floppy"}
+ti["f"] = {"st_door_d", "doorF", faces="ew"}
+ti["F"] = {"st_floppy", target="doorF"}
+ti["r"] = {"it_key"}
+ti["t"] = {"st_door_d", "doorT", faces="ew"}
+ti["T"] = {"st_key", target="doorT"}
+ti["h"] = {"st_door_d", "doorH", faces="ew"}
+ti["H"] = {"st_switch", target="doorH"}
+ti["g"] = {"st_door_d", "doorG", faces="ew"}
+ti["G"] = {"st_floppy", target="doorG"}
+ti["q"] = {"fl_bluegray", "dest"} .. ti["p"]
+
+if wo["IsDifficult"] then
+    ti["e"] = ti[" "]
+    ti["y"] = ti[" "]
+    ti["z"] = ti["d"]
+else
+    ti["e"] = ti["s"]
+    ti["z"] = ti[" "]
+    ti["y"] = ti["d"]
+end
+
+ti["x"] = {"st_oxyd_a", "left#"}
+ti["u"] = {"st_oxyd_a", "right#"}
+ti["1"] = {"#ac_marble"}
+
+wo(ti, " ", {
+    "####################",
+    "#    ...    ...   c#",
+    "# W  ... eq ...  1 #",
+    "#    ...    ... s  #",
+    "#   #####m-|########",
+    "#        cc        #",
+    "#        cc        #",
+    "#        cc        #",
+    "##b##############aA#",
+    "#p # y# dxu D#  #k #",
+    "#n t  g zxu  h  fk B",
+    "#D TwwG dxu  #r F  #",
+    "#####H#xx##uu#######"
+})
+wo:shuffleOxyd({"left#*", max=0}, {"right#*", max=0})
+    ]]></el:luamain>
+    <el:i18n>
+    </el:i18n>
+  </el:protected>
+</el:level>
+

Modified: trunk/data/levels/enigma_vii/dpl01_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/dpl01_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/dpl01_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -65,10 +65,9 @@
 
 local tore = no["tor#*"]:shuffle()
 local schalter = no["schalter#*"]
-for s in schalter do
-    s.target = tore[1]
-    tore = tore - tore[1]
-end
+for i = 1,#schalter do
+    schalter[i].target = tore[i]
+end 
  ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Deleted: trunk/data/levels/enigma_vii/duffy165_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy165_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/duffy165_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -1,132 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Knot Garden" el:subtitle="" el:id="duffy165"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=3
-rooms_high=1
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high) +7
-
-create_world( levelw, levelh)
-
-fill_floor("fl-leaves", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-greenbrown", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "+" then
-            set_stone("st-wood", i-1, line)
-        elseif c == "f" then
-            set_item("it-trigger", i-1,line, {action="openclose",target="door1"})
-        elseif c == "F" then
-            set_stone("st-door", i-1, line , {name="door1", type="v"})
-        elseif c == "g" then
-            set_item("it-trigger", i-1,line, {action="close", target="door2"})
-        elseif c == "G" then
-            set_stone("st-door", i-1,line, {name="door2", type="v"})
-        elseif c == "b" then
-            set_stone("st-bolder", i-1,line, {direction=SOUTH})
-        elseif c == "1" then
-            oneway(i-1,line, enigma.NORTH)
-        elseif c == "4" then
-            oneway(i-1,line, enigma.SOUTH)
-        elseif c == "3" then
-            oneway(i-1,line, enigma.WEST)
-        elseif c == "~" then
-            fill_floor("fl-water", i-1,line, 1,1)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c == "@" then
-            document(i-1,line,"text1")
-        elseif c == "t" then
-            set_actor("ac-blackball", i-1,line, {player=0})
-        elseif c == "s" then
-            set_stone("st-greenbrown_hole",i-1,line)
-        elseif c == "*" then
-            set_stone("st-brownie",i-1,line)
-        elseif c == "p" then
-            set_stone("st-fakeoxyd",i-1,line)
-        elseif c == "d" then
-            set_stone("st-death",i-1,line)
-        elseif c == "e" then
-            document(i-1,line,"text2")
-        elseif c == "i" then
-            set_stone("st-invisible",i-1,line)
-        end
-    end
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-renderLine(  00, "##################################oo######################")
-renderLine(  01, "###ssssssss#oooo##      ~#######o#  ssssssssss############")
-renderLine(  02, "###s######s#    o#      ~#######~#ii#########   +      ~o#")
-renderLine(  03, "##    +      ooo## #####~#######        ##### t #####+####")
-renderLine(  04, "## ############### #####~####### ###### #####   ##### ##f#")
-renderLine(  05, "## #####    e   G  #####~####### ######1###### ###### ## #")
-renderLine(  06, "#g g#####g g############~## h  F +3            #o#### ## #")
-renderLine(  07, "#g ggggggg g#ss          ## ####1######+#4######~#### ## #")
-renderLine(  08, "#g  g      g#s# #### ### ## #        ## # #####s #### ## #")
-renderLine(  09, "#gg g g gggg#s#+#### ### ## #+###### ## # +      #### ## #")
-renderLine(  10, "##g g g   g##s# #### ###+#  # ###### ## ########~#### ## #")
-renderLine(  11, "#gg g gggggg#s#     +  +   ##           +           + *~ #")
-renderLine(  12, "#g  g      g#s###### ###+#  # #######~#~######## #### ## #")
-renderLine(  13, "#g ggggggg g#sssss## ### ## # #       #o#ssssss# #### ## #")
-renderLine(  14, "#g g       g#####sss ### ## # # # ##  ###s####s# #### s# #")
-renderLine(  15, "#g ggggggg g######## ### ## #~# # #######ssss#s#~##o~  # #")
-renderLine(  16, "#g         g######## ### ## #o# # ###sss####s#s#~#### ## #")
-renderLine(  17, "#ggggggggggg########     ## ### #+##ss#s#ssss#s# + ##### #")
-renderLine(  18, "###########################        ~@p#sss####sd         #")
-renderLine(  19, "##########################################################")
-
-door2 = enigma.GetNamedObject("door2")
-
-mytimer = 0
-function timer_handler()
-    door2=enigma.GetNamedObject("door2")
-    if mytimer == 0 then
-        enigma.SendMessage(door2, "open", nil)
-    end
-
-    mytimer = mytimer + 1
-    if mytimer == 2 then
-        mytimer = 1
-    end
-end
-
-set_stone( "st-timer", 0, 0, {action="callback", target="timer_handler"})
-
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">You shouldn't have done that.</el:english>
-      </el:string>
-      <el:string el:key="text2">
-        <el:english el:translate="true">Careful.</el:english>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/duffy165_2.xml (from rev 1638, trunk/data/levels/enigma_vii/duffy165_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/duffy165_1.xml	2009-04-19 12:53:37 UTC (rev 1638)
+++ trunk/data/levels/enigma_vii/duffy165_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -0,0 +1,73 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Knot Garden" el:subtitle="" el:id="duffy165"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_lawn"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st_greenbrown"}
+ti["X"] = {"st_greenbrown_hollow"}
+ti["+"] = {"st_box"}
+ti["*"] = {"st_brownie"}
+ti["D"] = {"st_death"}
+ti["I"] = {"st_invisible"}
+ti["^"] = {"st_oneway", orientation=NORTH}
+ti["V"] = {"st_oneway", orientation=SOUTH}
+ti["<"] = {"st_oneway", orientation=WEST}
+ti["A"] = {"st_door", flavor="d", faces ="ew", name="doora"}
+ti["B"] = {"st_door", flavor="d", faces ="ew", name="doorb", state=OPEN}
+ti["a"] = {"it_trigger", target="doora"}
+ti["b"] = {"it_trigger", action="close", target="doorb"}
+ti["t"] = {"it_document", text="text1"}
+ti["u"] = {"it_document", text="text2"}
+ti["o"] = {"st_fake_quake"}
+ti["O"] = {"st_oxyd"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "##################################OO######################",
+    "###XXXXXXXX#OOOO##      ~#######O#  XXXXXXXXXX############",
+    "###X######X#    O#      ~#######~#II#########   +      ~O#",
+    "##    +      OOO## #####~#######        ##### @ #####+####",
+    "## ############### #####~####### ###### #####   ##### ##a#",
+    "## #####    u   B  #####~####### ######^###### ###### ## #",
+    "#b b#####b b############~##    A +<            #O#### ## #",
+    "#b bbbbbbb b#XX          ## ####^######+#V######~#### ## #",
+    "#b  b      b#X# #### ### ## #        ## # #####X #### ## #",
+    "#bb b b bbbb#X#+#### ### ## #+###### ## # +      #### ## #",
+    "##b b b   b##X# #### ###+#  # ###### ## ########~#### ## #",
+    "#bb b bbbbbb#X#     +  +   ##           +           + *~ #",
+    "#b  b      b#X###### ###+#  # #######~#~######## #### ## #",
+    "#b bbbbbbb b#XXXXX## ### ## # #       #O#XXXXXX# #### ## #",
+    "#b b       b#####XXX ### ## # # # ##  ###X####X# #### X# #",
+    "#b bbbbbbb b######## ### ## #~# # #######XXXX#X#~##O~  # #",
+    "#b         b######## ### ## #O# # ###XXX####X#X#~#### ## #",
+    "#bbbbbbbbbbb########     ## ### #+##XX#X#XXXX#X# + ##### #",
+    "###########################        ~to#XXX####XD         #",
+    "##########################################################"})
+
+wo:shuffleOxyd()
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">You shouldn't have done that.</el:english>
+      </el:string>
+      <el:string el:key="text2">
+        <el:english el:translate="true">Careful.</el:english>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/duffy170_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy170_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/duffy170_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -1,57 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Breakthrough" el:subtitle="" el:id="duffy170"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10" el:engine="oxyd1"/>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments><el:code>New API converted by /dev/null</el:code></el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-wo["ConserveLevel"] = false
-wo["ProvideExtralifes"] = false
-
-ti[" "] = {"fl_bluegreen"}
-ti["."] = {"it_crack_l"}
-ti["#"] = {"st_bluesand"}
-ti["+"] = {"st_break_oxydc"}
-ti["X"] = {"st_grate_cross"}
-ti[">"] = {"st_oneway_black", orientation = EAST}
-ti["<"] = {"st_oneway_black", orientation = WEST}
-ti["B"] = {"st_dispenser"}
-ti["h"] = {"it_hammer"}
-ti["d"] = {"it_dynamite"}
-ti["s"] = {"it_seed"}
-ti["o"] = {"st_oxyd", "left#"}
-ti["O"] = {"st_oxyd", "right#"}
-ti["@"] = {"#ac_marble_black"}
-
-w, h = wo(ti, " ", {
-    "####################",
-    "#o   ....>>....   O#",
-    "#o   #B#B#B#B##   O#",
-    "#o   > ++++++ <   O#",
-    "#o   > ++++++ <   O#",
-    "#BB  > ++++++ <  BB#",
-    "#s< @> X++++X . d>h#",
-    "#BB  > ++++++ <  BB#",
-    "#o   > ++++++ <   O#",
-    "#o   > ++++++ <   O#",
-    "#o   ##B#B#B#B#   O#",
-    "#o   ....<<....   O#",
-    "####################"})
-
-wo:shuffleOxyd({"left#*", max = 0}, {"right#*", max = 0})
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Deleted: trunk/data/levels/enigma_vii/duffy171_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy171_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/duffy171_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -1,143 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Alpha Factor" el:subtitle="" el:id="duffy171"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=3
-rooms_high=4
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world(levelw, levelh)
-
-draw_border("st-brownie")
-fill_floor("fl-hay", 0,0, level_width,level_height)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-greenbrown", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "i" then
-            set_stone( "st-invisible", i-1, line)
-        elseif c == "h" then
-            set_item("it-trigger", i-1,line, {action="openclose",target="door1"})
-        elseif c == "H" then
-            set_stone("st-door", i-1, line , {name="door1", type="v"})
-        elseif c == "+" then
-            set_stone("st-wood", i-1, line)
-        elseif c == "*" then
-            set_stone("st-brownie", i-1, line)
-        elseif c == "g" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-        elseif c == "a" then
-            set_stone("st-bolder", i-1,line, {direction=NORTH})
-        elseif c == "b" then
-            set_stone("st-bolder", i-1,line, {direction=EAST})
-        elseif c == "c" then
-            set_stone("st-bolder", i-1,line, {direction=WEST})
-        elseif c == "d" then
-            set_stone("st-bolder", i-1,line, {direction=SOUTH})
-        elseif c == "1" then
-            oneway(i-1,line, enigma.NORTH)
-        elseif c == "4" then
-            oneway(i-1,line, enigma.SOUTH)
-        elseif c == "3" then
-            oneway(i-1,line, enigma.WEST)
-        elseif c == "2" then
-            oneway(i-1,line, enigma.EAST)
-        elseif c == "~" then
-            fill_floor("fl-water", i-1,line, 1,1)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c == "@" then
-            document(i-1,line,"I'ts a race!")
-        elseif c == "s" then
-            set_stone("st-stoneimpulse",i-1,line)
-        elseif c == "x" then
-            set_item("it-blackbomb",i-1,line)
-        elseif c == "y" then
-            dynamite(i-1,line)
-        elseif c == "z" then    
-            set_actor("ac-blackball" ,i-1, line, {player=0})
-        end
-    end
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-renderLine(00,"##########################################################")
-renderLine(01,"#   o################ ######   #### i #####              #")
-renderLine(02,"# ##i#              #        ###### #     #i### i#####i# #")
-renderLine(03,"#  # # ################## ## ###### # ### #####    io# # #")
-renderLine(04,"## # # #          i    ## ##        #   #     # #### # # #")
-renderLine(05,"#  i #i# #### ##### ##    ### # # # # # # ### #    i # # #")
-renderLine(06,"# ## # # ## # #o    ######### # # # # # ii#   ### i  # # #")
-renderLine(07,"# ## # #    # #####         # #i# # # ### # #   #   i# # #")
-renderLine(08,"# ## # ###### ############# # # # # #     # # # # ## # # #")
-renderLine(09,"#                 i  ###### # #   i ## #### # # #    # # #")
-renderLine(10,"############# ######        # # ###### #### # # ###### # #")
-renderLine(11,"#         ### ###### ######## #        #### # #     ## # #")
-renderLine(12,"# ### #i##### ###### #        ############# # ##### ## # #")
-renderLine(13,"#   i i   ### ###### ##########             # ##### ## # #")
-renderLine(14,"# ### # #          #   i     ##iii iiiiiiiii#     #    # #")
-renderLine(15,"#  i    # #i###### ### # ### ##             #######i#### #")
-renderLine(16,"# #########      i     # ### ####### iiiiiii#            #")
-renderLine(17,"# ######### ### ######## ###       #          ############")
-renderLine(18,"#           #            ### ###i# ############          #")
-renderLine(19,"########### ############ ### ### # #            iiiiiiii #")
-renderLine(20,"#         # ########             # ##### #######i      i #")
-renderLine(21,"# ####### # #  #####  z    ####i##    ## #iiiiiii ii i i #")
-renderLine(22,"# #i    # # # ######o      #       ## ## ii       i    i #")
-renderLine(23,"# #   i # # # ################# ##i#i ## #i  iiiiii i  i #")
-renderLine(24,"# # # i   # #                 # ##i# ### #i  i    i iiii #")
-renderLine(25,"# # # i # # #i############### i iii#     #i iii iii   i  #")
-renderLine(26,"# #o#    i# #                 # #### #####i i         ii #")
-renderLine(27,"# #########i# ############### #      #### i i iiiiiii    #")
-renderLine(28,"#           #               # ##i######   i i       iiiii#")
-renderLine(29,"########### # ###############    #   i# # i iiiiiiiii    #")
-renderLine(30,"#  #      # #    i          # ## ##i i# #             ####")
-renderLine(31,"## #i# ## # ###### ###iiii# ##ii  ii i# ##### ############")
-renderLine(32,"#  i   i           ##i    #  i       i#      i#          #")
-renderLine(33,"## # # #### #########ii iiii i iiii iii##### ## ######## #")
-renderLine(34,"## # # #### #########i     i   i  i  i i  ##    #      # #")
-renderLine(35,"## # # #### #########iiii i iiiii ii i ii i###### ### ## #")
-renderLine(36,"##   #   ## #########i                            #      #")
-renderLine(37,"### #### ############iiiiiiiiiiiiiiiiiiiiiiiiiiiii########")
-renderLine(38,"# i  i      iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii#")
-renderLine(39,"# iiiiii iiiiii  ii ii i  i i ii  iiiii    i ii   iiiiiii#")
-renderLine(40,"#        i    i ii        i i i    i  i ii i    ii i     #")
-renderLine(41,"# iiiiiiiiii      i ii iii    i ii ii   ii   i i    iiii #")
-renderLine(42,"# i        i iiii   ii i   iiiii i    ii  ii i i ii i    #")
-renderLine(43,"# i iiiiiiii ii  iii i  i ii     i ii i   i  i i i    ii #")
-renderLine(44,"#            ii ii     i  i iiii i i i i i  i ii iiii iii#")
-renderLine(45,"# ii i iii i    i  i   ii i i    i        i         i    #")
-renderLine(46,"#i i iii iii ii  i iiii i i   iiii iiiiiiiiiiiiiiiiiiiii #")
-renderLine(47,"#             i i           i      io                    #")
-renderLine(48,"##########################################################")
-
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/duffy171_2.xml (from rev 1638, trunk/data/levels/enigma_vii/duffy171_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/duffy171_1.xml	2009-04-19 12:53:37 UTC (rev 1638)
+++ trunk/data/levels/enigma_vii/duffy171_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -0,0 +1,80 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Alpha Factor" el:subtitle="" el:id="duffy171"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_hay"}
+ti["#"] = {"st_greenbrown"}
+ti["I"] = {"st_invisible"}
+ti["O"] = {"st_oxyd"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "##########################################################",
+    "#   O################ ######   #### I #####              #",
+    "# ##I#              #        ###### #     #I### I#####I# #",
+    "#  # # ################## ## ###### # ### #####    IO# # #",
+    "## # # #          I    ## ##        #   #     # #### # # #",
+    "#  I #I# #### ##### ##    ### # # # # # # ### #    I # # #",
+    "# ## # # ## # #O    ######### # # # # # II#   ### I  # # #",
+    "# ## # #    # #####         # #I# # # ### # #   #   I# # #",
+    "# ## # ###### ############# # # # # #     # # # # ## # # #",
+    "#                 I  ###### # #   I ## #### # # #    # # #",
+    "############# ######        # # ###### #### # # ###### # #",
+    "#         ### ###### ######## #        #### # #     ## # #",
+    "# ### #I##### ###### #        ############# # ##### ## # #",
+    "#   I I   ### ###### ##########             # ##### ## # #",
+    "# ### # #          #   I     ##III IIIIIIIII#     #    # #",
+    "#  I    # #I###### ### # ### ##             #######I#### #",
+    "# #########      I     # ### ####### IIIIIII#            #",
+    "# ######### ### ######## ###       #          ############",
+    "#           #            ### ###I# ############          #",
+    "########### ############ ### ### # #            IIIIIIII #",
+    "#         # ########             # ##### #######I      I #",
+    "# ####### # #  #####  @    ####I##    ## #IIIIIII II I I #",
+    "# #I    # # # ######O      #       ## ## II       I    I #",
+    "# #   I # # # ################# ##I#I ## #I  IIIIII I  I #",
+    "# # # I   # #                 # ##I# ### #I  I    I IIII #",
+    "# # # I # # #I############### I III#     #I III III   I  #",
+    "# #O#    I# #                 # #### #####I I         II #",
+    "# #########I# ############### #      #### I I IIIIIII    #",
+    "#           #               # ##I######   I I       IIIII#",
+    "########### # ###############    #   I# # I IIIIIIIII    #",
+    "#  #      # #    I          # ## ##I I# #             ####",
+    "## #I# ## # ###### ###IIII# ##II  II I# ##### ############",
+    "#  I   I           ##I    #  I       I#      I#          #",
+    "## # # #### #########II IIII I IIII III##### ## ######## #",
+    "## # # #### #########I     I   I  I  I I  ##    #      # #",
+    "## # # #### #########IIII I IIIII II I II I###### ### ## #",
+    "##   #   ## #########I                            #      #",
+    "### #### ############IIIIIIIIIIIIIIIIIIIIIIIIIIIII########",
+    "# I  I      IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII#",
+    "# IIIIII IIIIII  II II I  I I II  IIIII    I II   IIIIIII#",
+    "#        I    I II        I I I    I  I II I    II I     #",
+    "# IIIIIIIIII      I II III    I II II   II   I I    IIII #",
+    "# I        I IIII   II I   IIIII I    II  II I I II I    #",
+    "# I IIIIIIII II  III I  I II     I II I   I  I I I    II #",
+    "#            II II     I  I IIII I I I I I  I II IIII III#",
+    "# II I III I    I  I   II I I    I        I         I    #",
+    "#I I III III II  I IIII I I   IIII IIIIIIIIIIIIIIIIIIIII #",
+    "#             I I           I      IO                    #",
+    "##########################################################"})
+wo:shuffleOxyd()
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/index.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -43,69 +43,68 @@
     <level _seq="35" _title="Manuevre" _xpath="./joe13_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Mayan Meditation" _xpath="./duffy162_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy162" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Horseshoes" _xpath="./duffy163_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy163" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Knot Garden" _xpath="./duffy165_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy165" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Knot Garden" _xpath="./duffy165_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy165" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Impulse-phobia" _xpath="./duffy166_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy166" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Slopes, Jumps &amp; Falls" _xpath="./duffy167_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy167" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Arctic Jumping" _xpath="./duffy168_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy168" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title="Breakthrough" _xpath="./duffy170_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy170" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="Seasonal Patterns" _xpath="./duffy164_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy164" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Shark" _xpath="./duffy169_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy169" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Alpha Factor" _xpath="./duffy171_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy171" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="46" _title="Double Oneways" _xpath="./duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Wood - Water - Wood" _xpath="./duffy173_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="Transpositions" _xpath="./duffy174_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="2" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
-    <level _seq="54" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="56" _title="Give Way 4 two" _xpath="./just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="57" _title="Lost in Time and Space" _xpath="./just23_2" author="JuSt" ctrl="force" easy="false" id="just23" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="58" _title="Alternatives?" _xpath="./just24_1" author="JuSt" ctrl="force" easy="true" id="just24" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="No More Alternatives" _xpath="./just25_1" author="JuSt" ctrl="force" easy="true" id="just25" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="60" _title="The Walls" _xpath="./just26_1" author="JuSt" ctrl="force" easy="true" id="just26" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="61" _title="Pull the Puller" _xpath="./just28_1" author="JuSt" ctrl="force" easy="false" id="just28" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="62" _title="Double Sense" _xpath="./joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="63" _title="Double Sense II" _xpath="./joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Lightyears" _xpath="./duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="65" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="66" _title="Armageddon" _xpath="./duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="67" _title="Mountain Climbing II" _xpath="./joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="68" _title="Minor Tangler" _xpath="./joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="69" _title="Circulation" _xpath="./pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="70" _title="Maze for Two" _xpath="./ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
-    <level _seq="71" _title="Making Shapes" _xpath="./joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="72" _title="Clever Pushing" _xpath="./joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="73" _title="Using Rotators" _xpath="./joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="74" _title="Swapping Puzzle" _xpath="./joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Multiban" _xpath="./dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="83" _title="Remote Meditation" _xpath="./dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="86" _title="Crawling the Abyss" _xpath="./sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
-    <level _seq="89" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="91" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Underground Temple" _xpath="./joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="93" _title="Mountain Climbing III" _xpath="./joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="94" _title="Recover the Stone" _xpath="./joe28_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe28" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="96" _title="A Kind of Magic" _xpath="./just37_2" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="40" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="43" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="49" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title="Seasonal Patterns" _xpath="./duffy164_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy164" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="Shark" _xpath="./duffy169_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy169" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Alpha Factor" _xpath="./duffy171_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy171" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="Double Oneways" _xpath="./duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Wood - Water - Wood" _xpath="./duffy173_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Transpositions" _xpath="./duffy174_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
+    <level _seq="53" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Give Way 4 two" _xpath="./just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="56" _title="Lost in Time and Space" _xpath="./just23_2" author="JuSt" ctrl="force" easy="false" id="just23" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="57" _title="Alternatives?" _xpath="./just24_1" author="JuSt" ctrl="force" easy="true" id="just24" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="No More Alternatives" _xpath="./just25_1" author="JuSt" ctrl="force" easy="true" id="just25" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="The Walls" _xpath="./just26_1" author="JuSt" ctrl="force" easy="true" id="just26" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="60" _title="Pull the Puller" _xpath="./just28_1" author="JuSt" ctrl="force" easy="false" id="just28" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="Double Sense" _xpath="./joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Double Sense II" _xpath="./joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="63" _title="Lightyears" _xpath="./duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="65" _title="Armageddon" _xpath="./duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Mountain Climbing II" _xpath="./joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="67" _title="Minor Tangler" _xpath="./joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="68" _title="Circulation" _xpath="./pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="69" _title="Maze for Two" _xpath="./ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
+    <level _seq="70" _title="Making Shapes" _xpath="./joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="71" _title="Clever Pushing" _xpath="./joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="72" _title="Using Rotators" _xpath="./joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="73" _title="Swapping Puzzle" _xpath="./joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Multiban" _xpath="./dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="77" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
+    <level _seq="78" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="80" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="81" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Remote Meditation" _xpath="./dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="83" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Crawling the Abyss" _xpath="./sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="86" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="88" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
+    <level _seq="89" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Underground Temple" _xpath="./joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="92" _title="Mountain Climbing III" _xpath="./joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="93" _title="Recover the Stone" _xpath="./joe28_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe28" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="94" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="95" _title="A Kind of Magic" _xpath="./just37_2" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="96" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="97" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="49" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/just23_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/just23_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/just23_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
      <el:identity el:title="Lost in Time and Space" el:subtitle="" el:id="just23"/>
-     <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
+     <el:version el:score="2" el:release="2" el:revision="4" el:status="released"/>
      <el:author  el:name="JuSt" el:email="" el:homepage=""/>
      <el:copyright>Copyright ? 2007 JuSt</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,7 +39,7 @@
         enigma.KillStone(136,89)
         enigma.KillStone(137,89)
         enigma.KillStone(135,90)
-        enigma.KillItem(136,90)
+        enigma.KillStone(136,90)
         enigma.KillStone(137,90)
         enigma.KillStone(135,91)
         enigma.KillStone(136,91)

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -2,25 +2,23 @@
   <el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
   <el:protected>
     <el:info el:type="level">
-      <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:43$" el:status="released" />
-      <el:author el:name="mecke" el:email="" />
+      <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:44$" el:status="released"/>
+      <el:author el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true" />
-      <el:compatibility el:enigma="1.10" />
-      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force" el:scoreunit="duration" el:scoretarget="time" />
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
       <el:comments>
         <el:credits el:showinfo="true" el:showstart="false">Thanks to Ronald Lamprecht for testing and feedback</el:credits>
       </el:comments>
-      <el:score el:easy="28:51" el:difficult="33:44" />
+      <el:score el:easy="28:51" el:difficult="33:44"/>
     </el:info>
   <el:luamain><![CDATA[
-wo["ConserveLevel"] = true
-
 ti[" !"] = {"fl_abyss"}
 ti[" ,"] = {"fl_red"}
 ti["! "] = {"st_plop_slate"}
-ti[" #"] = {"fl_yinyang_yin"}
+ti[" #"] = {"fl_yinyang_yin_invisible"}
 ti["# "] = {"st_death"}
 ti[" $"] = {"fl_metal_7"}
 ti[" %"] = {"fl_bluegray"}
@@ -28,13 +26,8 @@
 ti["& "] = {"st_quake"}
 ti["c7"] = ti[" #"] .. {"st_rawglass"}
 ti["c2"] = ti["c7"] .. {"it_key", code=2}
-ti["t1"] = ti[" #"] .. {"it_trigger", target="ox1",action="toggle"}
-ti["t2"] = ti[" #"] .. {"it_trigger", target="ox2",action="toggle"}
-ti["t3"] = ti[" #"] .. {"it_trigger", target="ox3",action="toggle"}
-ti["t4"] = ti[" #"] .. {"it_trigger", target="ox4",action="toggle"}
-ti["t5"] = ti[" #"] .. {"it_trigger", target="ox5",action="toggle"}
-ti["t6"] = ti[" #"] .. {"it_trigger", target="ox6",action="toggle"}
-ti["t7"] = ti[" #"] .. {"it_trigger", target="ox7",action="toggle"}
+
+ti["triggerytemplate"] = ti[" #"] .. {"it_trigger", name="t%%", target="L%%", action="toggle"}
 ti["v8"] = ti[" %"] .. {"it_trigger", target="lezy2",action="toggle"}
 ti["v9"] = ti[" %"] .. {"it_trigger", target="lezy1",action="toggle"}
 ti["v3"] = ti[" #"] .. {"it_trigger", target="lezy3",action="toggle"}
@@ -62,13 +55,7 @@
 ti["2 "] = {"st_rawglass"}
 ti["3 "] = {"st_laser_e"}
 ti["L0"] = ti[" #"] .. {"st_laser_e", name="lezy2"}
-ti["L1"] = ti[" #"] .. {"st_laser_e", name="ox1"}
-ti["L2"] = ti[" #"] .. {"st_laser_e", name="ox2"}
-ti["L3"] = ti[" #"] .. {"st_laser_e", name="ox3"}
-ti["L4"] = ti[" #"] .. {"st_laser_e", name="ox4"}
-ti["L5"] = ti[" #"] .. {"st_laser_e", name="ox5"}
-ti["L6"] = ti[" #"] .. {"st_laser_e", name="ox6"}
-ti["L7"] = ti[" #"] .. {"st_laser_e", name="ox7"}
+ti["laserytemplate"] = ti[" #"] .. {"st_laser_e", name="L%%"}
 ti["4 "] = {"st_puzzle_yellow", connections="sw"}
 ti["p3"] = ti[" #"] .. {"st_puzzle_yellow", connections="sw"}
 ti["5 "] = {"st_ghost_break"}
@@ -139,7 +126,7 @@
     ti["hx"] = ti[" '"] .. {"it_strip", connections="ew"}
     ti["c9"] = ti[" ,"] .. {"st_rawglass"}
     ti["c1"] = ti["c9"] .. {"it_key", code=1}
-    ti["nn"] = ti[" #"] .. {"fl_yinyang_yin"}
+    ti["nn"] = ti[" #"] .. {"fl_yinyang_yin_invisible"}
 else
     ti["hx"] = ti[" #"] .. {"it_cherry"}
     ti["nn"] = ti[" #"] .. {"it_extralife"}
@@ -147,9 +134,9 @@
     ti["c9"] = ti[" ,"] .. {"fl_red"}
 end
 
-local resolver = res.composer(ti)
+local autotiler = res.autotile(ti, {"t", "triggerytemplate"},{"L", "laserytemplate"})
 
-w, h = wo(resolver, "  ", {
+wo(res.composer(autotiler), "  ", {
        "!!!!!#!#!#!#!#!#!#!#!#!#!#!#!#!###<###!#!#!#!#!#!#!#!#E#E!E!E!E!E!E###############E#E#E#E#E#E#E#E#E#E#E#E#E#E#E#E#",
        "!! ! # # # # # # # # # # #9# #9# !<! !9# # # # # # # #9# ! !(! !5! # # # # # # # # # # # #?# #?# #?# #?# #?# #?#E#",
        "!! ! ### # # # ! # # ### # # # # !<! ! #@!@#@#@#@#@#@# # ! !(! !5! # # # # # # # # # # # # #?# #?# #?# #?# #?# #E#",

Modified: trunk/data/levels/enigma_vii/pulley06_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley06_2.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_vii/pulley06_2.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puppet" el:subtitle="" el:id="pulley06"/>
-      <el:version el:score="1" el:release="2" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="12" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -13,13 +13,13 @@
     </el:info>
     <el:luamain><![CDATA[
 if wo["IsDifficult"] then
-    ti[" "]= {"fl_slope_tn"}
-    ti["^"]= {"fl_slope_ts"} -- Up
-    ti["f"]= {"ac_horse", name="footL"} .. ti({"fl_slope_ts"})
+    ti[" "] = {"fl_slope_ts"}
+    ti["^"] = {"fl_slope_tn"}
+    ti["f"] = {"ac_horse", name="footL"} .. ti({"fl_slope_tn"})
 else
-    ti[" "]= {"fl_metal_7"}
-    ti["^"]= {"fl_metal_7"}
-    ti["f"]= {"ac_horse", name="footL"} .. ti({"fl_metal_7"})
+    ti[" "] = {"fl_metal_7"}
+    ti["^"] = {"fl_metal_7"}
+    ti["f"] = {"ac_horse", name="footL"} .. ti({"fl_metal_7"})
 end
 ti["b"] = {"fl_bluegreen"}
 ti["g"] = {"st_portal"}
@@ -36,30 +36,27 @@
 ti["k"] = {"#ac_horse", name="kneeL"}
 ti["K"] = {"#ac_horse", name="kneeR"}
 ti["R"] = {"#ac_horse", name="footR"}
-ti["door"] = {"st_door", name="Door%%", flavor="a"} .. ti["b"]
 ti["W"] = {"st_brick"}
-ti["trigger"]= {"it_trigger", target="Door%%"} .. ti["b"]
-ti["2"]= {"st_portal"} .. ti({"it_trigger", target="Door%2"}) .. ti["b"]
+ti["door"] = {"st_door", name="Door%%", flavor="a"} .. ti["b"]
+ti["trigger"] = {"it_trigger", target="Door%%"} .. ti["b"]
+ti["2"] = {"st_portal"} .. ti({"it_trigger", target="Door%2"}) .. ti["b"]
 ti["."] = {"#ac_marble_black"}
 
-resolver = res.autotile(ti, {"1", "9", "trigger"}, {"A","I","door"})
+wo(res.autotile(ti, {"1", "9", "trigger"}, {"A","I","door"}), " ", {
+    "W0ggggg2YOZggggggg0W",
+    "Wbg N L^ S  e h  IbW",
+    "Wbg   1     8    gbW",
+    "Wbg.  ^     ^    gbW",
+    "Wbg        9     gbW",
+    "WEg   K4 P3^k    gDW",
+    "WBg    ^  7      gGW",
+    "Wbg       ^ 5    gbW",
+    "Wbg   R     f    gbW",
+    "Wbg       6      gbW",
+    "WbWWWWWWWWWWWWWWWWbW",
+    "WHbbbbbbbFAbbbbbbbCW",
+    "W0WWWWWWWWWWWWWWWW0W"})
 
-wo(resolver," ",{
-       "W0ggggg2YOZggggggg0W",
-       "Wbg N L^ S  e h  IbW",
-       "Wbg   1     8    gbW",
-       "Wbg.  ^     ^    gbW",
-       "Wbg        9     gbW",
-       "WEg   K4 P3^k    gDW",
-       "WBg    ^  7      gGW",
-       "Wbg       ^ 5    gbW",
-       "Wbg   R     f    gbW",
-       "Wbg       6      gbW",
-       "WbWWWWWWWWWWWWWWWWbW",
-       "WHbbbbbbbFAbbbbbbbCW",
-       "W0WWWWWWWWWWWWWWWW0W"
-})
-
 wo:add({"ot_rubberband", anchor1="head", anchor2="support1", length=1, strength=20, max=1.05, min=0.95})
 wo:add({"ot_rubberband", anchor1="head", anchor2="support2", length=1, strength=20, max=1.05, min=0.95})
 wo:add({"ot_rubberband", anchor1="head", anchor2="shoulder", length=1, strength=20, max=1.05, min=0.95})
@@ -74,7 +71,7 @@
 wo:add({"ot_rubberband", anchor1="kneeL", anchor2="footL", length=3, strength=20, max=3.05, min=2.95})
 
 wo:shuffleOxyd()
-    ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">
         <el:english el:translate="false"/>

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_viii/index.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -55,18 +55,18 @@
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_2" author="mecke" ctrl="force" easy="false" id="mecke16" rel="2" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Minopal" _xpath="./andreas54_1" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas54" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="166" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Squared Microwire" _xpath="./ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="150" score="1" target="time" unit="duration"/>
-    <level _seq="61" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="166" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="176" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Sokopal" _xpath="./andreas55_2" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas55" rel="2" rev="7" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Mole Hill Meditation" _xpath="./ral43_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20090112ral228" rel="1" rev="138" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Involution" _xpath="./raoul32_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul32" rel="1" rev="5" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -1,125 +1,86 @@
 <?xml version="1.0" encoding="utf-8" standalone="no" ?>
 <el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected >
+  <el:protected>
     <el:info el:type="level">
-      <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 21 $" el:status="released"/>
+      <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke02"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
       <el:compatibility el:enigma="1.10"/>
-      <el:modes el:easy="false" el:single="true" el:network="false" el:control="force" el:scoreunit="duration" el:scoretarget="time"/>
-        <el:comments>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
         <el:credits el:showinfo="true" el:showstart="false">Thanks to Ronald Lamprecht for some important ideas.</el:credits>
       </el:comments>
       <el:score el:easy="6:49" el:difficult="6:49"/>
     </el:info>
     <el:luamain><![CDATA[
-wo["ConserveLevel"] = true
-
+ti[" ."] = {"fl_abyss"}
+ti[" l"] = {"fl_sahara"}
+ti[" ;"] = {"fl_swamp"}
+ti[" ~"] = {"fl_water"}
 ti[" -"] = {"fl_slope_pe"}
-ti[" ~"] = {"fl_swamp"}
-ti["A "] = ti[" -"] .. {"it_sword"}
+ti[" ,"] = {"fl_red"}
+ti["  "] = {"fl_metal_7", friction=4.0}
+ti[" |"] = {"fl_metal_7", friction=4.0, name="hotspot#"}
 ti["B "] = {"st_swap"}
-ti["C "] = {"st_box_wood"}
+ti["C "] = {"st_box"}
 ti["F "] = {"st_quake"}
-ti["D "] = ti[" ~"] .. {"st_grate_cross"}
-ti["E "] = ti[" ~"] .. {"st_rawglass_movable"}
-ti["  "] = {"fl_metal_7", friction=4.0}
-ti[" ."] = {"fl_abyss"}
 ti["# "] = {"st_redrock"}
-ti[" l"] = {"fl_sahara"}
-ti["~ "] = {"fl_water"}
-ti["; "] = {"fl_swamp"}
-ti["' "] = {"it_seed"}
-ti["& "] = ti["  "] .. {"st_disco_light"}
-ti[" ,"] = {"fl_red"}
-ti[" n"] = {"it_death"}
-ti["K "] = ti[" ~"] .. {"st_knight"}
-ti["nn"] = ti[" ,"] .. {"it_magicwand"}
 ti["Y "] = {"st_darkglass_movable"}
 ti["U1"] = {"st_passage_black_frame"}
 ti["ic"] = {"st_break_oxydc"}
 ti["h "] = {"st_bluegray_hollow"}
-ti["Xn"] = ti["nn"] .. {"st_grate_cross"}
-ti[" b"] = ti["  "] .. {"it_bomb_black"}
-ti["i "] = ti["  "] .. {"it_dynamite"}
-ti["ih"] = ti["  "] .. {"it_hammer"}
-ti["w "] = ti["  "] .. {"it_magicwand"}
-ti[": "] = ti["  "] .. {"it_blocker"}
-ti["x1"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli1"}
-ti["x2"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli2"}
-ti["x3"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli3"}
-ti["x4"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli4"}
-ti["x5"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli5"}
-ti["x6"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli6"}
-ti["x7"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli7"}
-ti["x8"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli8"}
-ti["x9"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olli9"}
-ti["y1"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle1"}
-ti["y2"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle2"}
-ti["y3"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle3"}
-ti["y4"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle4"}
-ti["y5"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle5"}
-ti["y6"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle6"}
-ti["y7"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle7"}
-ti["y8"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle8"}
-ti["y9"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle9"}
-ti["T "] = ti[" ."] .. {"st_passage_black_frame"}
-ti[" !"] = ti["  "] .. {"it_burnable_burning"}
-ti["$1"] = {"it_trigger", target="olli1"}
-ti["$2"] = {"it_trigger", target="olli2"}
-ti["$3"] = {"it_trigger", target="olli3"}
-ti["$4"] = {"it_trigger", target="olli4"}
-ti["$5"] = {"it_trigger", target="olli5"}
-ti["$6"] = {"it_trigger", target="olli6"}
-ti["$7"] = {"it_trigger", target="olli7"}
-ti["$8"] = {"it_trigger", target="olli8"}
-ti["$9"] = {"it_trigger", target="olli9"}
-ti["&1"] = {"it_trigger", target="olle1"}
-ti["&2"] = {"it_trigger", target="olle2"}
-ti["&3"] = {"it_trigger", target="olle3"}
-ti["&4"] = {"it_trigger", target="olle4"}
-ti["&5"] = {"it_trigger", target="olle5"}
-ti["&6"] = {"it_trigger", target="olle6"}
-ti["&7"] = {"it_trigger", target="olle7"}
-ti["&8"] = {"it_trigger", target="olle8"}
-ti["&9"] = {"it_trigger", target="olle9"}
-ti["= "] = ti["~ "] .. {"st_disco_light"}
-ti["> "] = ti[" n"] .. {"st_boulder_e"}
 ti["< "] = {"st_boulder_w"}
 ti["O "] = {"st_rotator_ccw", movable=false}
-ti["Z "] = {"st_timer",action="callback",target="hux",interval=11.9,invisible=0}
+ti["& "] = {"st_disco_light"}
+ti["' "] = {"it_seed"}
+ti[" n"] = {"it_death"}
+ti["i "] = {"it_dynamite"}
+ti["ih"] = {"it_hammer"}
+ti["w "] = {"it_magicwand"}
+ti[": "] = {"it_blocker"}
+ti[" b"] = {"it_bomb_black"}
+ti[" !"] = {"it_burnable_burning"}
+ti["A "] = ti[" -"] .. {"it_sword"}
+ti["D "] = ti[" ;"] .. {"st_grate_cross"}
+ti["E "] = ti[" ~"] .. {"st_rawglass_movable"}
+ti["K "] = ti[" ;"] .. {"st_knight"}
+ti["nn"] = ti[" ,"] .. ti["w "]
+ti["Xn"] = ti["nn"] .. {"st_grate_cross"}
+ti["AB"] = ti[" ~"] .. ti[" b"]
+ti["BB"] = ti[" ;"] .. ti[" b"]
+ti["T "] = ti[" ."] .. ti["U1"]
+ti["= "] = ti[" ~"] .. ti["& "]
+ti["> "] = ti[" n"] .. {"st_boulder_e"}
 ti["l "] = ti[" n"] .. {"st_polarswitch"}
-ti["mm"] = ti[" ~"] .. {"st_grate_cross"}
+ti["mm"] = ti[" ;"] .. {"st_grate_cross"}
+ti["$template"] = {"it_trigger", target="x%%"}
+ti["xtemplate"] = {"st_oxyd", flavor="a", name="x%%" }
+ti["Z "] = {"st_timer", action="callback", target="set_fire", interval=11.9}
 ti["* "] = ti["mm"] .. {"#ac_marble_black"}
 ti["+ "] = {"#ac_rotor", range=2, strength=2, gohome=false}
 
-local resolver = res.composer(ti)
+local autotiler = res.autotile(ti, {"$", "$template"},{"x", "xtemplate"})
 
-w, h = wo(resolver, "  ", {
+wo(res.composer(autotiler), "  ", {
 -- 0001020304050607080910111213141516171819
   "# # # # # # # # # # # # # # # # # # # # ",
-  "#  .x1 . n .x3 . n .x5 . n .x7 . ! . .# ",
+  "#  .x1 . n .x2 . n .x3 . n .x4 . ! . .# ",
   "O T # # # # # # # # # # # # # # # # T # ",
-  " n: : ;b: : : : : + : : : : : ~b: : : < ",
+  " n: : BB: : : : : + : : : : : AB: : : < ",
   "# ic# TbT T T T T T T T T T T TbT # icO ",
-  "#   #  b b  $1  $3  $5  $7  F  b n#   # ",
+  "#   #  b b  $1  $2 |$3 |$4  F  b n#   # ",
   "K D C E   B '  - - -*  - - - - -A  -l Z ",
-  "#   #  b b  &1  &3  &5  &7  F  b n#   # ",
+  "#   #  b b  $5  $6 |$7 |$8  F  b n#   # ",
   "O   # TbT T T T T T T T T T T TbT #   # ",
-  " n: : ;b: : : : : ih: : : : : ~b: : : < ",
+  " n: : BB: : : : : ih: : : : : AB: : : < ",
   "# T # # # # # # # # # # # # # # # # T O ",
-  "#  .y1 . n .y3 . n .y5 . n .y7 . ! . .# ",
-  "# # # # # # # # # # # # # # # # # # # # "
-})
-function hux()
-    wo:drawMap(ti, po(9, 5), "  ",{" !",
-                                "  ",
-                                " !",})
-    wo:drawMap(ti, po(11, 5), "  ",{" !",
-                                "  ",
-                                " !",})
+  "#  .x5 . n .x6 . n .x7 . n .x8 . ! . .# ",
+  "# # # # # # # # # # # # # # # # # # # # "})
+
+function set_fire()
+    wo[no["hotspot#*"]] = ti[" !"]
 end
 
 wo:shuffleOxyd()

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -3,13 +3,13 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 16 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 21 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10" />
-       <el:modes el:easy="false" el:single="true" el:network="false" el:control="force" el:scoreunit="duration" el:scoretarget="time"/>
-       <el:score el:easy="-" el:difficult="14:21"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="14:21"/>
     </el:info>
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
@@ -30,30 +30,19 @@
 ti[" x"] = {"fl_slope_pe"}
 ti["jj"] = {"it_crack_l"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
-ti["X~"] = ti[" ~"] .. {"st_grate_cross"}
-ti["Xw"] = ti[" w"] .. {"st_grate_cross"}
-ti["X'"] = ti[" '"] .. {"st_grate_cross"}
-ti["Xi"] = ti[" i"] .. {"st_grate_cross"}
-ti["Xb"] = ti[" b"] .. {"st_grate_cross"}
-ti["X&"] = ti[" &"] .. {"st_grate_cross"}
+ti["X "] = {"st_grate_cross"}
+ti["Xw"] = ti[" w"] .. ti["X "]
+ti["X'"] = ti[" '"] .. ti["X "]
+ti["X&"] = ti[" &"] .. ti["X "]
 ti["Th"] = ti[" i"] .. {"st_yellow"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
 ti["0~"] = ti[" ~"] .. {"st_magic_oxydc"}
 ti["H'"] = ti[" '"] .. {"st_passage_black_square"}
-ti["B!"] = ti[" !"] .. {"st_passage_black_frame"}
-ti["B&"] = ti[" &"] .. {"st_passage_black_frame"}
-ti["Br"] = ti[" r"] .. {"st_passage_black_frame"}
-ti["B~"] = ti[" ~"] .. {"st_passage_black_frame"}
-ti["B'"] = ti[" '"] .. {"st_passage_black_frame"}
-ti["W!"] = ti[" !"] .. {"st_passage_white_frame"}
-ti["W~"] = ti[" ~"] .. {"st_passage_white_frame"}
-ti["W'"] = ti[" '"] .. {"st_passage_white_frame"}
-ti["Ww"] = ti[" w"] .. {"st_passage_white_frame"}
-ti["Wb"] = ti[" b"] .. {"st_passage_white_frame"}
-ti["W&"] = ti[" &"] .. {"st_passage_white_frame"}
-ti["2*"] = ti[" *"] .. {"st_rawglass_movable"}
-ti["2r"] = ti[" r"] .. {"st_rawglass_movable"}
+ti["B "] = {"st_passage_black_frame"}
+ti["W "] = {"st_passage_white_frame"}
+ti["Br"] = ti[" r"] .. ti["B "]
+ti["2 "] = {"st_rawglass_movable"}
 ti["CW"] = ti[" w"] .. {"st_chess_black"}
 ti["S&"] = ti[" &"] .. {"st_granite_hollow"}
 ti["FF"] = ti[" ~"] .. {"st_quake"}
@@ -62,25 +51,16 @@
 ti["Td"] = ti[" r"] .. {"st_disco_medium"}
 ti["TT"] = ti[" ="] .. {"st_thief"}
 ti["y~"] = ti[" ~"] .. {"it_yinyang"}
-ti["Y~"] = ti[" ~"] .. {"st_blur_cross"}
-ti["Y&"] = ti[" &"] .. {"st_blur_cross"}
-ti["Y!"] = ti[" !"] .. {"st_blur_cross"}
-ti["Y'"] = ti[" '"] .. {"st_blur_cross"}
-ti["Yw"] = ti[" w"] .. {"st_blur_cross"}
+ti["Y "] = ti[" ~"] .. {"st_blur_cross"}
 ti["Yx"] = ti[" ~"] .. {"st_blur_straight"}
 ti["++"] = ti[" &"] .. {"st_swap"}
 ti["2&"] = ti[" &"] .. {"st_brake"}
 ti["A~"] = ti[" ~"] .. {"st_actorimpulse"}
-ti["L1"] = ti[" !"] .. {"st_laser_s", name="laser1", state=ON}
-ti["L2"] = ti[" !"] .. {"st_laser_n", name="laser2", state=ON}
-ti["L3"] = ti[" !"] .. {"st_laser_s", name="laser3", state=ON}
-ti["L4"] = ti[" !"] .. {"st_laser_n", name="laser4", state=ON}
-ti["t1"] = ti[" +"] .. {"it_trigger",target="laser1"}
-ti["t2"] = ti[" +"] .. {"it_trigger",target="laser2"}
-ti["t3"] = ti[" +"] .. {"it_trigger",target="laser3"}
-ti["t4"] = ti[" +"] .. {"it_trigger",target="laser4"}
-ti["SB"] = ti[" &"] .. {"st_switch_black", target={"door1"}}
-ti["SP"] = ti[" &"] .. {"st_switch_black", target={"door2"}}
+ti["ttemplate"] = ti[" +"] .. {"it_trigger",target="Llaser%%"}
+ti["Ttemplate"] = ti[" +"] .. {"it_trigger",target="Mlaser%%"}
+ti["Ltemplate"] = ti[" !"] .. {"st_laser_s", state=ON, name="Llaser%%"}
+ti["Mtemplate"] = ti[" !"] .. {"st_laser_n", state=ON, name="Mlaser%%"}
+ti["stemplate"] = ti[" &"] .. {"st_switch_black", target="door%%"}
 ti["1&"] = ti[" &"] .. {"st_box_wood"}
 ti["DD"] = ti[" &"] .. {"st_death"}
 ti["gi"] = ti[" r"] .. {"st_rawglass"}
@@ -89,15 +69,13 @@
 ti["j&"] = ti[" &"] .. {"it_crack_l"}
 ti["j'"] = ti[" '"] .. {"it_crack_l"}
 ti["OO"] = ti["j&"] .. {"st_oneway_white_e"}
-ti["v1"] = ti["OO"] .. {"st_door",faces="ew", name="door1"}
 ti["EE"] = ti["j'"] .. {"st_oneway_black_w"}
-ti["v2"] = ti["EE"] .. {"st_door",faces="ew", name="door2"}
+ti["vtemplate"] = ti["j&"] .. {"st_door",faces="ew", name="door%%"}
 ti["or"] = ti["X'"] .. {"it_ring"}
 ti["ur"] = ti["X&"] .. {"it_ring"}
 ti["ps"] = ti["Br"] .. {"it_seed"}
 ti["kk"] = ti["Xw"] .. {"it_cherry"}
 ti["ki"] = ti["gi"] .. {"it_cherry"}
-ti["z&"] = ti[" &"] .. {"#ac_top", range=1, strength=1}
 ti["Xx"] = ti[" x"] .. {"st_passage_black_cross"}
 ti["Xn"] = ti[" n"] .. {"st_passage_black_cross"}
 ti["Xm"] = ti["Xn"] .. {"it_extralife"}
@@ -115,23 +93,22 @@
 ti["SL"] = ti[" w"] .. {"st_switch_black", target="bbb1", action= "close"}
 ti["SK"] = ti[" w"] .. {"st_switch_white", target="bbb2", action= "close"}
 
-local resolver = res.composer(ti)
+local autotiler = res.autotile(ti, {"L", "Ltemplate"},{"M", "Mtemplate"},{"t", "ttemplate"},{"T", "Ttemplate"}, {"s", "stemplate"}, {"v", "vtemplate"})
 
-w, h = wo(resolver, "  ", {
-  "B!B!B!Y!B!Y!B!Y!B!Y!B&B&B&B&B&B'B'B'B'ttB'B'B'B&B!B&B!B&B!B&B&B&B!B&B!B&B!B&B!",
-  "B!W~B!W!B!W!DDW!B!W!Y&W'Y' ~X& ~X&W~A~A~A~W~X&0~0~0~0~0~0~0~ &0~0~0~0~0~0~0~B!",
-  "B!B~YwXwYwXwYwXwYwXwWwB~H' ~ ~ ~YxW~A~o A~W~Yx0~X~Y~ ~L1 ~ ~ & ~ ~L3 ~Y~X~0~B!",
-  "Y!W!XwTwTwTwbdTwTwTwXwW'Y'W&SB ~giEEorW'orv2gi0~X~ ~ ~2*2*2*2r2*2*2* ~ ~X~0~B!",
-  "B!B!YwTwS&S&S&S&S&TwXwX~DD ~,~yrX~W~A~o A~W~ ~0~X~Y~ ~2*t1 , , ,t22* ~Y~X~0~B!",
-  "psW~kkTwS&SLTTThS&TwXwW'FFFFFFFFX~W~A~A~A~W~Xb0~X~ ~ ~2* ,2*2*2* ,2* ~ ~X~0~B!",
-  "B~B~B~DDS&Th*wCWTdb=VmXxXxXxXxXxXmXxXxXxXxXxXmXxXxXxXx2r ,2*#w2* ,2r &++2& &B&",
-  "psW~kkTwS&SKXmThS&TwXwW'FFFFFFFFXbW~A~A~A~W~X~0~X~ ~ ~2* ,2*2*2* ,2* ~ ~X~0~B!",
-  "B!B!YwTwS&S&S&S&S&TwXwX~DD ~,~zrXbW~A~o A~W~X~0~X~Y~ ~2*t3 , , ,t42* ~Y~X~0~B!",
-  "Y!W!XwTwTwTwbeTwTwTwXwW'Y'W&SP ~giv1urB&urOOgi0~X~ ~ ~2*2*2*2r2*2*2* ~ ~X~0~B!",
-  "B!B~YwXwYwXwYwXwYwXwWwB~H' ~ ~ ~YxW~A~o A~W~Yx0~X~Y~ ~L4 ~ ~ & ~ ~L2 ~Y~X~0~B!",
-  "B!W~B!W!B!W!DDW!B!W!Y&W'Y' ~X& ~X&W~A~A~A~W~X&0~0~0~0~0~0~0~ &0~0~0~0~0~0~0~B!",
-  "B!B!B!Y!B!Y!B!Y!B!Y!B&B&B&B&B&B'B'B'B'ttB'B'B'B&B!B&B!B&B!B&B&B&B!B&B!B&B!B&B!"
-})
+wo(res.composer(autotiler), "  ", {
+    "B!B!B!Y!B!Y!B!Y!B!Y!B&B&B&B&B&B'B'B'B'ttB'B'B'B&B!B&B!B&B!B&B&B&B!B&B!B&B!B&B!",
+    "B!W~B!W!B!W!DDW!B!W!Y&W'Y' ~X& ~X&W~A~A~A~W~X&0~0~0~0~0~0~0~ &0~0~0~0~0~0~0~B!",
+    "B!B~YwXwYwXwYwXwYwXwWwB~H' ~ ~ ~YxW~A~o A~W~Yx0~X~Y~ ~L1 ~ ~ & ~ ~L2 ~Y~X~0~B!",
+    "Y!W!XwTwTwTwbdTwTwTwXwW'Y'W&s1 ~giEEorW'orv2gi0~X~ ~ ~2*2*2*2r2*2*2* ~ ~X~0~B!",
+    "B!B!YwTwS&S&S&S&S&TwXwX~DD ~,~yrX~W~A~o A~W~ ~0~X~Y~ ~2*t1 , , ,T12* ~Y~X~0~B!",
+    "psW~kkTwS&SLTTThS&TwXwW'FFFFFFFFX~W~A~A~A~W~Xb0~X~ ~ ~2* ,2*2*2* ,2* ~ ~X~0~B!",
+    "B~B~B~DDS&Th*wCWTdb=VmXxXxXxXxXxXmXxXxXxXxXxXmXxXxXxXx2r ,2*#w2* ,2r &++2& &B&",
+    "psW~kkTwS&SKXmThS&TwXwW'FFFFFFFFXbW~A~A~A~W~X~0~X~ ~ ~2* ,2*2*2* ,2* ~ ~X~0~B!",
+    "B!B!YwTwS&S&S&S&S&TwXwX~DD ~,~zrXbW~A~o A~W~X~0~X~Y~ ~2*t2 , , ,T22* ~Y~X~0~B!",
+    "Y!W!XwTwTwTwbeTwTwTwXwW'Y'W&s2 ~giv1urB&urOOgi0~X~ ~ ~2*2*2*2r2*2*2* ~ ~X~0~B!",
+    "B!B~YwXwYwXwYwXwYwXwWwB~H' ~ ~ ~YxW~A~o A~W~Yx0~X~Y~ ~M2 ~ ~ & ~ ~M1 ~Y~X~0~B!",
+    "B!W~B!W!B!W!DDW!B!W!Y&W'Y' ~X& ~X&W~A~A~A~W~X&0~0~0~0~0~0~0~ &0~0~0~0~0~0~0~B!",
+    "B!B!B!Y!B!Y!B!Y!B!Y!B&B&B&B&B&B'B'B'B'ttB'B'B'B&B!B&B!B&B!B&B&B&B!B&B!B&B!B&B!"})
 
 wo:add({"ot_wire", anchor1="w1", anchor2="w2"})
 wo:shuffleOxyd()

Modified: trunk/data/levels/enigma_viii/ral42_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral42_1.xml	2009-04-21 22:09:47 UTC (rev 1643)
+++ trunk/data/levels/enigma_viii/ral42_1.xml	2009-04-23 21:59:38 UTC (rev 1644)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="More or Less Wired" el:subtitle="The Gods must be weird" el:id="20081229ral"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 166 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 176 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -55,17 +55,8 @@
     wo:add({"ot_wire", anchor1="box%"..i, anchor2="box%"..(i+1)})
 end
 wo:add({"ot_wire", anchor1="box%12", anchor2="box%1"})
+wo:add({"ot_counter", "check", target="d#*", action_11="close", action_12="open"})
 
-pressed = 0
-function check(value, sender)
-    pressed = pressed + cond(value, 1, -1)
-    if pressed == 12 then
-        no["d#*"]:open()
-    else
-        no["d#*"]:close()
-    end
-end
-
 wo:shuffleOxyd()
 
     ]]></el:luamain>



From ral at mail.berlios.de  Sun Apr 26 21:02:41 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sun, 26 Apr 2009 21:02:41 +0200
Subject: [Enigma-game-svn] r1645 - in trunk: data doc/reference
Message-ID: <200904261902.n3QJ2fMW000516@sheep.berlios.de>

Author: ral
Date: 2009-04-26 21:02:29 +0200 (Sun, 26 Apr 2009)
New Revision: 1645

Modified:
   trunk/data/api2init.lua
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- Item and Stone attributes contents
- global safeaction attribute
- common constants


Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-04-23 21:59:38 UTC (rev 1644)
+++ trunk/data/api2init.lua	2009-04-26 19:02:29 UTC (rev 1645)
@@ -86,6 +86,8 @@
 FULL      = 2
 BROKEN    = 1
 BREAKING  = 2
+CW  = 0
+CCW = 1
 
 -- color
 BLACK  = 0
@@ -100,10 +102,6 @@
 CTRL_YANG    = 2
 CTRL_YINYANG = 3
 
--- rotation direction
-CW  = 0
-CCW = 1
-
 -- oxyd color
 OXYD_BLUE   =  0
 OXYD_RED    =  1

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-23 21:59:38 UTC (rev 1644)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-26 19:02:29 UTC (rev 1645)
@@ -3330,6 +3330,32 @@
 table. If not enough messages are listed the default action @samp{toggle}
 will be sent.
 
+Usually actions are performed at once. That is very important as the sequence
+of actions if often essential. Condider an @ref{st_box} being pushed from one
+ at ref{it_trigger} to a neighboring one, or just an @ref{ac_marble} moving from
+the first trigger to the neighboring one. In both cases it is important that
+the first trigger is released prior the second one to be pressed. If this
+sequence gets mixed up both triggers could be pressed by a single object for
+a moment what could cause major shortcuts in a level. Thus all actions are
+preformed in the logical sequence and in a stable, repeatable sequence without
+any random.
+
+Action may be simple or sometimes be very complex world rearrangements. But in
+any case you should @b{never ever} @samp{kill} the sender object. Killing the 
+sender can cause application crashes! Be aware that even chained actions are not
+allowed to kill any prior sender object. Thus an @ref{it_trigger} that toggles
+an @ref{st_switch} which in turn kills the first trigger is as critical as the
+trigger killing itself. We do generally discourage you to kill any object
+within its own action, as there is no dissolving animation and the WYSIWYG
+user paradigma is violated, too. But if there is urgent need for reasons of the
+level gaming logic you can perform the action in a secure, delayed mode. Just
+add the attribute @ref{safeaction} with value @samp{true} to the self killing
+sender object. The action will no longer be performed at once, but with a
+minimum delay in a manner that will never cause crashes. But be aware that
+even a minimum delay, which is still within the same timeslice, may disturb
+the sequence of actions. This can cause unexpected logical results on the other
+hand.
+
 @node Callback Function
 @subsection Callback Function
 
@@ -5283,17 +5309,19 @@
 @node Common Attributes and Messages
 @chapter Common Attributes and Messages
 
-Some attributes and messages are common to many objects or even supported
-by all objects. We describe them here in detail. The following chapters will
-just reference them or even skip them when they are generally supported and
-used in the default manner.
+Some attributes, messages and constants are common to many objects or even
+supported by all objects. We describe them here in detail. The following 
+chapters will just reference them or even skip them when they are generally
+supported and used in the default manner.
 
 @menu
 * Common Attributes::
 * Common Messages::
+* Common Constants::
 * Global Attributes::
 @end menu
 
+ at c ----------------- Common Attributes --------------------
 @node Common Attributes
 @section Common Attributes
 
@@ -5303,6 +5331,7 @@
 * target::
 * action::
 * nopaction::
+* safeaction::
 * inverse::
 * destination::
 * friction::
@@ -5426,6 +5455,20 @@
 @item @b{Support:} @ @ by all objects
 @end table
 
+ at node safeaction
+ at subsection safeaction
+
+A very special addition to the @ref{Target - Action} paradigm that allows
+to kill the sender within the execution of the action code.
+
+ at table @asis
+ at item @b{Type:} @ @ bool
+ at item @b{Values:} @ @ @code{true}, @code{false}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ by all objects
+ at end table
+
 @node inverse
 @subsection inverse
 
@@ -5596,7 +5639,7 @@
 @item @b{Support:} @ @ by actor and stone objects
 @end table
 
-
+ at c ----------------- Common Messages --------------------
 @node Common Messages
 @section Common Messages
 
@@ -5751,12 +5794,280 @@
 @end table
 
 
+ at c ----------------- Common Constants --------------------
+ at node Common Constants
+ at section Common Constants
+
+ at menu
+* state values::
+* color values::
+* actor controllers::
+* oxyd colors::
+* orientations::
+* direction offsets::
+* position lists::
+* essentialness::
+* meditation types::
+* glasses abilities::
+* coinslot acceptance::
+* screen scrolling::
+* map read directions::
+ at end menu
+
+ at node state values
+ at subsection state values
+
+Number constants for object attribute @ref{state}. Please choose the constant
+that is appropriate for an object and do avoid using numbers.
+
+ at itemize @bullet
+ at item @samp{OFF} = @code{0}, all switch like objects
+ at item @samp{ON} = @code{1}, all switch like objects
+ at item @samp{CLOSED} = @code{0}, all door like objects
+ at item @samp{OPEN} = @code{0}, all door like objects
+ at item @samp{IDLE} = @code{0}, other objects in the default passiv state
+ at item @samp{ACTIVE} = @code{1}, other objects in the active state
+ at item @samp{OXYDPAIR} = @code{2}, just by @ref{st_oxyd}
+ at item @samp{LIGHT} = @code{0}, by @ref{st_disco}
+ at item @samp{MEDIUM} = @code{1}, by @ref{st_disco}, @ref{it_crack}, @ref{it_extinguisher}
+ at item @samp{DARK} = @code{2}, by @ref{st_disco}
+ at item @samp{FLOODING} = @code{1}, by @ref{fl_water}, @ref{fl_wood}, @ref{fl_hay}, @ref{fl_rock}
+ at item @samp{INVISIBLE} = @code{-1}, by @ref{it_crack}
+ at item @samp{SMALL} = @code{0}, by @ref{it_crack}
+ at item @samp{LARGE} = @code{2}, by @ref{it_crack}
+ at item @samp{YIN} = @code{0}, by @ref{fl_yinyang}
+ at item @samp{YANG} = @code{1}, by @ref{fl_yinyang}
+ at item @samp{EMPTY} = @code{0}, by @ref{it_extinguisher}
+ at item @samp{FULL} = @code{2}, by @ref{it_extinguisher}
+ at item @samp{BROKEN} = @code{1}, by @ref{it_bottle}
+ at item @samp{BREAKING} = @code{2}, by @ref{st_quake}
+ at item @samp{CW} = @code{0}, clockwise, by @ref{st_rotator}
+ at item @samp{CCW} = @code{1}, counterclockwise, by @ref{st_rotator}
+ at end itemize
+
+
+ at node color values
+ at subsection color values
+
+Number constants for attribute @ref{color}. Please choose the constant
+that is appropriate for an object and do avoid using numbers. Note that objects
+do support a color attribute only, if it is related to a functionality. The
+color of @ref{st_oxyd} uses another enumeration scheme due to legacy reasons,
+ at pxref{oxyd colors}.
+
+ at itemize @bullet
+ at item @samp{BLACK} = @code{0}, all black/white colored objects
+ at item @samp{WHITE} = @code{1}, all black/white colored objects
+ at item @samp{BLUE} = @code{2}, by @ref{st_puzzle}
+ at item @samp{YELLOW} = @code{3}, by @ref{st_puzzle}
+ at item @samp{NOCOLOR} = @code{nil}, some objects, that exist in black, white variants,
+too, like @ref{st_switch}
+ at end itemize
+
+ at node actor controllers
+ at subsection actor controllers
+
+Number constants for actor attribute @ref{controllers}. Please choose the 
+constant that is appropriate for an object and do avoid using numbers. 
+
+ at itemize @bullet
+ at item @samp{CTRL_NONE} = @code{0}, by all actors
+ at item @samp{CTRL_YIN} = @code{1}, by all actors
+ at item @samp{CTRL_YANG} = @code{2}, by all actors
+ at item @samp{CTRL_YINYANG} = @code{3}, by all actors
+ at end itemize
+
+ at node oxyd colors
+ at subsection oxyd colors
+
+Number constants for @ref{st_oxyd} attribute @ref{oxydcolor}. Please choose the 
+constant that is appropriate for an object and do avoid using numbers. 
+
+ at itemize @bullet
+ at item @samp{OXYD_BLUE} = @code{0}, by @ref{st_oxyd}
+ at item @samp{OXYD_RED} = @code{1}, by @ref{st_oxyd}
+ at item @samp{OXYD_GREEN} = @code{2}, by @ref{st_oxyd}
+ at item @samp{OXYD_YELLOW} = @code{3}, by @ref{st_oxyd}
+ at item @samp{OXYD_CYAN} = @code{4}, by @ref{st_oxyd}
+ at item @samp{OXYD_PURPLE} = @code{5}, by @ref{st_oxyd}
+ at item @samp{OXYD_WHITE} = @code{6}, by @ref{st_oxyd}
+ at item @samp{OXYD_BLACK} = @code{7}, by @ref{st_oxyd}
+ at item @samp{OXYD_GRAY} = @code{8}, by @ref{st_oxyd}
+ at item @samp{OXYD_ORANGE} = @code{9}, by @ref{st_oxyd}
+ at item @samp{OXYD_PINE} = @code{10}, by @ref{st_oxyd}
+ at item @samp{OXYD_BROWN} = @code{11}, by @ref{st_oxyd}
+ at item @samp{OXYD_AUTO} = @code{-1}, by @ref{st_oxyd}
+ at item @samp{OXYD_FAKE} = @code{-2}, by @ref{st_oxyd}
+ at item @samp{OXYD_QUAKE} = @code{-3}, by @ref{st_oxyd}
+ at item @samp{OXYD_BOLD} = @code{-4}, by @ref{st_oxyd}
+ at end itemize
+
+
+ at node orientations
+ at subsection orientations
+
+Number constants for actor attributes @ref{orientation} or @ref{slope}. Please
+choose the constant that is appropriate for an object and do avoid using numbers.
+
+ at itemize @bullet
+ at item @samp{NODIR} = @code{-1}, by @ref{fl_slope}
+ at item @samp{WEST} = @code{0}, by all objects with 4 orientations
+ at item @samp{SOUTH} = @code{1}, by all actors with 4 orientations
+ at item @samp{EAST} = @code{2}, by all actors with 4 orientations
+ at item @samp{NORTH} = @code{3}, by all actors with 4 orientations
+ at item @samp{NORTHWEST} = @code{4}, by all objects with 8 orientations
+ at item @samp{SOUTHWEST} = @code{5}, by all actors with 8 orientations
+ at item @samp{SOUTHEAST} = @code{6}, by all actors with 8 orientations
+ at item @samp{NORTHEAST} = @code{7}, by all actors with 8 orientations
+ at end itemize
+
+Just for @ref{st_mirror} another alternative orientation notation exists:
+
+ at itemize @bullet
+ at item @samp{BACKSLASH} = @code{0}, by @ref{st_mirror}
+ at item @samp{HORIZONTAL} = @code{1}, by @ref{st_mirror}
+ at item @samp{SLASH} = @code{2}, by @ref{st_mirror}
+ at item @samp{VERTICAL} = @code{3}, by @ref{st_mirror}
+ at end itemize
+
+ at node direction offsets
+ at subsection direction offsets
+
+Position constants as vectorial direction offsets. Please choose the constant
+that is appropriate for a calculation and do avoid using the trivial positions
+instead.
+
+ at itemize @bullet
+ at item @samp{N} = @code{po(0, -1)}
+ at item @samp{E} = @code{po(1, 0)}
+ at item @samp{S} = @code{po(0, 1)}
+ at item @samp{W} = @code{po(-1, 0)}
+ at item @samp{NE} = @code{N + E}
+ at item @samp{NW} = @code{N + W}
+ at item @samp{SE} = @code{S + E}
+ at item @samp{SW} = @code{S + W}
+ at item @samp{NNE} = @code{N + NE}, by @ref{st_chess}
+ at item @samp{ENE} = @code{E + NE}, by @ref{st_chess}
+ at item @samp{ESE} = @code{E + SE}, by @ref{st_chess}
+ at item @samp{SSE} = @code{S + SE}, by @ref{st_chess}
+ at item @samp{SSW} = @code{S + SW}, by @ref{st_chess}
+ at item @samp{WSW} = @code{W + SW}, by @ref{st_chess}
+ at item @samp{WNW} = @code{W + NW}, by @ref{st_chess}
+ at item @samp{NNW} = @code{N + NW}, by @ref{st_chess}
+ at end itemize
+
+ at node position lists
+ at subsection position lists
+
+Position list constants. Please choose these constant that is appropriate for a
+calculation and do avoid using the trivial position lists instead.
+
+ at itemize @bullet
+ at item @samp{NEIGHBORS_4} = @code{W .. S .. E .. N}
+ at item @samp{NEIGHBORS_8} = @code{NEIGHBORS_4 .. NW .. SW ..SE .. NE}
+ at item @samp{NEIGHBORS_CHESS} = @code{NNE .. ENE .. ESE .. SSE .. SSW .. WSW .. WNW .. NNW}
+ at end itemize
+
+ at node essentialness
+ at subsection essentialness
+
+Number constants for attribute @ref{essential}. Please choose the constant that
+is appropriate for an object and do avoid using numbers. 
+
+ at itemize @bullet
+ at item @samp{DISPENSIBLE} = @code{0}, by all actors and @ref{it_meditation}
+ at item @samp{INDISPENSIBLE} = @code{1}, by all actors and @ref{it_meditation}
+ at item @samp{PERKIND} = @code{2}, by all actors
+ at end itemize
+
+ at node meditation types
+ at subsection meditation types
+
+Number constants for @ref{it_meditation} attribute @ref{state}. Please choose
+the  constant that is appropriate for an object and do avoid using numbers. 
+
+ at itemize @bullet
+ at item @samp{MEDITATION_CALDERA} = @code{-3}, by @ref{it_meditation}
+ at item @samp{MEDITATION_HOLLOW} = @code{-2}, by @ref{it_meditation}
+ at item @samp{MEDITATION_DENT} = @code{-1}, by @ref{it_meditation}
+ at item @samp{MEDITATION_BUMP} = @code{1}, by @ref{it_meditation}
+ at item @samp{MEDITATION_HILL} = @code{2}, by @ref{it_meditation}
+ at item @samp{MEDITATION_VOLCANO} = @code{3}, by @ref{it_meditation}
+ at end itemize
+
+ at node glasses abilities
+ at subsection glasses abilities
+
+Number constants for @ref{it_glasses} attribute @ref{state} and global variable
+ at ref{ExtralifeGlasses}. Please use sums of the constants that are appropriate 
+for your glasses and do avoid using numbers.
+
+ at itemize @bullet
+ at item @samp{SPOT_NOTHING} = @code{0}, by @ref{it_glasses}
+ at item @samp{SPOT_DEATH} = @code{1}, by @ref{it_glasses}
+ at item @samp{SPOT_HOLLOW} = @code{2}, by @ref{it_glasses}
+ at item @samp{SPOT_ACTORIMPULSE} = @code{4}, by @ref{it_glasses}
+ at item @samp{SPOT_SENSOR} = @code{8}, by @ref{it_glasses}
+ at item @samp{SPOT_LIGHTPASSENGER} = @code{16}, by @ref{it_glasses}
+ at item @samp{SPOT_TRAP} = @code{32}, by @ref{it_glasses}
+ at end itemize
+
+ at node coinslot acceptance
+ at subsection coinslot acceptance
+
+Number constants for @ref{st_coinslot} attributes @samp{interval_*}. Please 
+choose the constant that is appropriate for the coinslot and do avoid using 
+numbers. 
+
+ at itemize @bullet
+ at item @samp{COIN_IGNORE} = @code{-1}, by @ref{st_coinslot}
+ at item @samp{COIN_REJECT} = @code{-2}, by @ref{st_coinslot}
+ at end itemize
+
+ at node screen scrolling
+ at subsection screen scrolling
+
+Constants for screen scrolling global attributes @ref{FollowMethod} and
+ at ref{FollowAction}. Please choose the constants that are appropriate for 
+screen scrolling and do avoid using numbers or poition values. 
+
+ at itemize @bullet
+ at item @samp{FOLLOW_NO} = @code{0}, by global @ref{FollowMethod}
+ at item @samp{FOLLOW_SCROLL} = @code{1}, by global @ref{FollowMethod}
+ at item @samp{FOLLOW_FLIP} = @code{2}, by global @ref{FollowMethod}
+ at end itemize
+
+ at itemize @bullet
+ at item @samp{FOLLOW_FULLSCREEN} = @code{po(19, 12)}, by global @ref{FollowAction}
+ at item @samp{FOLLOW_HALFSCREEN} = @code{po(9.5, 6)}, by global @ref{FollowAction}
+ at end itemize
+
+ at node map read directions
+ at subsection map read directions
+
+Number constants for map based method parameters. Please choose the constant
+that is appropriate for an object and do avoid using numbers. 
+
+ at itemize @bullet
+ at item @samp{MAP_IDENT} = @code{0}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_ROT_CW} = @code{1}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_ROT_180} = @code{2}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_ROT_CCW} = @code{3}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_MIRROR_BACKSLASH} = @code{4}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_MIRROR_HORIZONTAL} = @code{5}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_MIRROR_SLASH} = @code{6}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at item @samp{MAP_MIRROR_VERTICAL} = @code{7}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
+ at end itemize
+
+
+ at c ----------------- Global Attributes --------------------
 @node Global Attributes
 @section Global Attributes
 
 @menu
 * ActorimpulseStrength::
 * AllowSingleOxyds::
+* AllowSuicide::
 * ConserveLevel::
 * CrackSpreading::
 * CreatingPreview::
@@ -5800,6 +6111,22 @@
 @item @b{Support:} @ @ @ref{st_actorimpulse}
 @end table
 
+ at node AllowSuicide
+ at subsection AllowSuicide
+
+A global variable that enables the user to commit suicide with all owned
+actors by pressing @samp{F3}. As this legacy feature can cause unexpected
+shortcuts, you can deny this freedom. A single actor suicide as commited by
+activation of an @ref{it_spoon} is not affected by this global variable.
+
+ at table @asis
+ at item @b{Type:} @ @ bool
+ at item @b{Values:} @ @ @code{true}, @code{false}
+ at item @b{Default:} @ @ @code{true}
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ no object
+ at end table
+
 @node AllowSingleOxyds
 @subsection AllowSingleOxyds
 
@@ -7949,10 +8276,10 @@
 @section Item Attributes
 
 @menu
-* fireproof::               -
-* freezable::               -
-* liftable::                -
-* portable::                -
+* fireproof::         -
+* freezable::         Affinity to be frozen in ice
+* liftable::          Allowance for actors to pick up
+* portable::          Ability to be added to the inventory
 @end menu
 
 
@@ -7973,12 +8300,15 @@
 @node freezable
 @subsection freezable
 
+Describes the affinity of an item to be frozen by an @ref{st_ice}. All
+ at ref{portable} items a freezable. But some otherwise static items may be
+freezable, too.
 
 @table @asis
 @item @b{Type:} @ @ boolean
 @item @b{Values:} @ @ @code{false}, @code{true}
 @item @b{Default:} @ @ @code{false}
- at item @b{Access:} @ @ read/write
+ at item @b{Access:} @ @ read only
 @end table
 
 
@@ -7986,12 +8316,15 @@
 @node liftable
 @subsection liftable
 
+Describes the ability of @ref{Actors} to pick up an item from a floor. Note
+that some items can be added to the player's inventory and can be dropped onto
+a floor but nevertheless can not be picked up later on.
 
 @table @asis
 @item @b{Type:} @ @ boolean
 @item @b{Values:} @ @ @code{false}, @code{true}
 @item @b{Default:} @ @ @code{false}
- at item @b{Access:} @ @ read/write
+ at item @b{Access:} @ @ read only
 @end table
 
 
@@ -7999,12 +8332,16 @@
 @node portable
 @subsection portable
 
+Determines whether an item can be added to the player's inventory. All
+ at ref{liftable} items are portable. Portable items that are not liftable can
+either be added to the inventory by means of the world @ref{add} method or
+by an actor hitting a variant of @ref{st_dispenser}.
 
 @table @asis
 @item @b{Type:} @ @ boolean
 @item @b{Values:} @ @ @code{false}, @code{true}
 @item @b{Default:} @ @ @code{false}
- at item @b{Access:} @ @ read/write
+ at item @b{Access:} @ @ read only
 @end table
 
 
@@ -8015,7 +8352,6 @@
 @menu
 * it_bag::             Portable Item Container
 * it_banana::          Transformable Banana
-* it_bomb::            Big Explosive Charge
 * it_bottle::          Bottle of Booze
 * it_brake::           Portable Stone Brake
 * it_brush::           Brush for Painting and Sweeping
@@ -8024,7 +8360,6 @@
 * it_coin::            Enigma's currency
 * it_document::        Readable Text Document
 * it_drop::            Magic Transformation Elixir
-* it_dynamite::        Exploder
 * it_extinguisher::    Fire Extinguisher
 * it_extralife::       Another Life or Glasses
 * it_flag::            Respawn Position Marker
@@ -8116,11 +8451,20 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Messages:} none
 
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_bag}
 @end table
+ at end table
 
 @c ----------------- Banana Item --------------------
 @node it_banana
@@ -8133,60 +8477,17 @@
 When a stone is pushed over it an @ref{it_squashed} remains as remnants.
 
 @table @asis
- at item @b{Attributes:} none
- at item @b{Messages:} none
- at end table
-
- at c ----------------- Bomb Item --------------------
- at node it_bomb
- at subsection it_bomb
- at obindex it_bomb
-
-A bomb is an explosive that can not be picked up. It ignites on laser light, 
-nearby fire and other nearby explosions as those caused by other @ref{it_bomb}s,
- at ref{it_dynamite}, @ref{st_dispenser} exploding directly above a bomb, or simply
-by a solide stone being pushed over them (just a few stones like @ref{st_shogun},
- at ref{st_box}_hay do not cause bombs to ignite). A falling @ref{ot_cannonball}
-lets it explode immediately without prior ignition.
-
-On ignition its fuse starts burning. After a short time the bomb explodes
-causing on the 8 neigboring positions items to ignite and some stones like
- at ref{st_break} to dissolve, too. 
-
- at samp{BLACK} bombs will cause destructible items on the 4 neighboring positions
-to be blown away, and dissolves the floor beneath to a @ref{fl_abyss}.
-
- at samp{WHITE} bombs will cause destructible items on the 8 neighboring positions
-to be blown away, and dissolves the floor beneath and the 8 neighboring
-positions to @ref{fl_abyss}.
-
-Bomb items will be added to the inventory when an actor hits a 
- at ref{st_dispenser}_bombblack or @ref{st_dispenser}_bombwhite.
-
- at table @asis
 @item @b{Attributes:}
 @table @asis
- at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
- at item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
-
- at item @b{Messages:}
- at table @asis
- at item @b{explode}
-Direct explosion without burning fuse.
- at item @b{ignite}
-Ignite the fuse.
- at item @b{heat}
-Ignite the fuse.
- at end table
-
+ at item @b{Messages:} none
 @item @b{Variants:}
 @table @asis
- at item @b{it_bomb}: color = @code{BLACK}
- at item @b{it_bomb_black}: color = @code{BLACK}
- at item @b{it_bomb_white}: color = @code{WHITE}
+ at item @b{it_banana}
 @end table
-
 @end table
 
 @c ----------------- Bottle Item --------------------
@@ -8227,6 +8528,11 @@
 @item @b{text}, @ @ @i{values}: string;
 Either the text to be displayed or just a key word for identification on
 @ref{Internationalization (i18n)}.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+Just an @samp{IDLE} bottle is liftable, a @samp{BROKEN} one is not liftable.
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+Just an @samp{IDLE} bottle is portable, a @samp{BROKEN} one is not portable.
 @end table
 
 @item @b{Messages:} none
@@ -8269,9 +8575,19 @@
 
 @table @asis
 
- at item @b{Attributes:} none
-
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+Even though being freezable a brake will never freeze as an item, as it is
+always converted to an @ref{st_brake} on being dropped or placed onto a floor.
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_brake}
+ at end table
 
 @end table
 
@@ -8304,9 +8620,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
-
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_brush}
+ at end table
 
 @end table
 
@@ -8329,9 +8653,18 @@
 When a stone is pushed over a cherry an @ref{it_squashed} remains as remnants.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_cherry}
 @end table
+ at end table
 
 @c ----------------- Coffee Item --------------------
 @node it_coffee
@@ -8343,9 +8676,18 @@
 and is blown away on @ref{it_bomb} explosions. 
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_coffee}
 @end table
+ at end table
 
 @c ----------------- Coin Item --------------------
 @node it_coin
@@ -8375,6 +8717,9 @@
 @item @b{state}, @ @ @i{values}: @code{0}, @code{1}, @code{2}; @ @ @i{access}: @code{read only} @ @ @xref{state}
 Represents the coin type with 0 being a small coin, 1 being a medium coin and
 2 being a large coin.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -8410,6 +8755,9 @@
 @item @b{text}, @ @ @i{values}: string;
 Either the text to be displayed or just a key word for identification on
 @ref{Internationalization (i18n)}.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -8445,58 +8793,17 @@
 incompatibilities with future Enigma versions.
 
 @table @asis
- at item @b{Attributes:} none
- at item @b{Messages:} none
-
- at item @b{Variants:}
- at table @asis
- at item @b{it_drop}
- at end table
-
- at end table
-
- at c ----------------- Dynamite Item --------------------
- at node it_dynamite
- at subsection it_dynamite
- at obindex it_dynamite
-
-Dynamite is an explosive that can be picked up and that can be easily ignited
-at any free grid position. It ignites on drop, or if positioned on the floor in
- at samp{IDLE} state it ignites on laser light, nearby fire and other nearby 
-explosions as those caused by @ref{it_bomb}, @ref{st_dispenser}, or other 
-dyamite. A falling @ref{ot_cannonball} lets it explode immediately without prior
-ignition.
-
-On ignition its fuse starts burning. During this @samp{ACTIVE} state the
-dynamite can longer be picked up. After a short time the dynamite explodes
-causing on the 8 neigboring positions items to ignite and some stones like
- at ref{st_break} to dissolve, too. The explosion leaves at its position an
- at ref{it_meditation}_hollow on all floor kinds besides @ref{fl_ice} where an
- at ref{it_crack}_water remains.
-
-Dynamite items will be added to the inventory when an actor hits a 
- at ref{st_dispenser}_dynamite.
-
- at table @asis
 @item @b{Attributes:}
 @table @asis
- at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
+ at item @b{Messages:} none
 
- at item @b{Messages:}
- at table @asis
- at item @b{explode}
-Direct explosion without burning fuse.
- at item @b{ignite}
-Ignite the fuse.
- at item @b{heat}
-Ignite the fuse.
- at end table
-
 @item @b{Variants:}
 @table @asis
- at item @b{it_dynamite}: state = @code{IDLE}
- at item @b{it_dynamite_burning}: state = @code{ACTIVE}
+ at item @b{it_drop}
 @end table
 
 @end table
@@ -8528,6 +8835,9 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{state}, @ @ @i{values}: @code{EMPTY}, @code{MEDIUM}, @code{FULL}; @ @ @i{default}: @code{FULL} @ @ @xref{state}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -8565,6 +8875,12 @@
 transformations.
 
 @table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Variants:}
 @table @asis
@@ -8596,6 +8912,9 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Variants:}
@@ -8615,10 +8934,17 @@
 the floppy as first item in the players inventory.
 
 @table @asis
-
- at item @b{Attributes:} none
-
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_floppy}
+ at end table
 
 @end table
 
@@ -8656,12 +8982,14 @@
 
 @table @asis
 @item @b{Attributes:}
-
 @table @asis
 @item @b{state}, @ @ @i{values}: positive numbers; @ @ @i{default}: @code{SPOT_DEATH + SPOT_HOLLOW + SPOT_LIGHTPASSENGER} @ @ @xref{state}
 A sum of the constants @samp{SPOT_DEATH}, @samp{SPOT_HOLLOW},
 @samp{SPOT_LIGHTPASSENGER}, @samp{SPOT_SENSOR}, @samp{SPOT_ACTORIMPULSE},
 @samp{SPOT_TRAP}. @samp{SPOT_NOTHING} is the state of a broken glasses.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -8697,6 +9025,12 @@
 flickering of repeated item transformations.
 
 @table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Variants:}
 @table @asis
@@ -8718,7 +9052,12 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @table @asis
 @item @b{code}, @ @ @i{values}: number or string; @ @ @i{default}: @code{1}
@@ -8727,7 +9066,11 @@
 
 @item @b{Messages:} none
 
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_key}
 @end table
+ at end table
 
 @c ----------------- MagicWand Item --------------------
 @node it_magicwand
@@ -8751,11 +9094,19 @@
 @end itemize
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Messages:} none
-
 @item @b{Action:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_magicwand}
+ at end table
 
 @end table
 
@@ -8781,8 +9132,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_pencil}
+ at end table
 
 @end table
 
@@ -8803,8 +9163,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_pin}
+ at end table
 
 @end table
 
@@ -8830,6 +9199,9 @@
 @code{"nesw"} listing the existing connections. The sequence of the sides, north,
 east, south, west, is guaranteed on read access but arbitrary on write access.
 Currently only pipes with one or two connections do exist.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -8875,7 +9247,9 @@
 @table @asis
 @atindex orientation
 @item @b{orientation}, @ @ @i{values}: @code{NORTH}, @code{EAST}, @code{SOUTH}, @code{WEST}; @ @ @i{default}: @code{WEST}
-
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -8915,7 +9289,12 @@
 future Enigma versions.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
 
 @item @b{Variants:}
@@ -8966,6 +9345,9 @@
 The minimum length at which actors bounce.
 @item @b{max} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
 The maximum length at which actors bounce.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -8973,7 +9355,12 @@
 On succesful activation of this item the action message is send with a value of
 @samp{true}. Note that the parameter @samp{sender} will report the new
 @ref{ot_rubberband}.
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_rubberband}
 @end table
+ at end table
 
 
 @c ----------------- Seed Item --------------------
@@ -9009,6 +9396,9 @@
 @item @b{secure} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 This attribute is transfered to the resulting stone. The @ref{st_volcano} and
 @ref{st_box} make use of it.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9039,7 +9429,12 @@
 will flatten this by one degree and will finally eliminate it completly.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
 
 @item @b{Variants:}
@@ -9060,12 +9455,24 @@
 
 Thus an Enigma spoon shatters the actor who dropps it. When a player owns 
 multiple actors just the active one gets killed. This is an essential difference
-to pressing F3, what shatters all actors of all players.
+to pressing F3, what shatters all actors of all players. When providing a spoon
+you may sometimes want to revoke the ability to commit a global suicide by
+pressing F3. You can do this by setting the global variable @ref{AllowSuicide}
+to @samp{false}.
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_spoon}
+ at end table
 
 @end table
 
@@ -9082,7 +9489,12 @@
 facility that can not be picked up by an actor is the @ref{it_springboard}.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
 @item @b{Variants:}
 @table @asis
@@ -9090,7 +9502,6 @@
 @item @b{it_spring_keep}
 @item @b{it_spring_drop}
 @end table
-
 @end table
 
 @c ----------------- Surprise Item --------------------
@@ -9128,15 +9539,21 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{selection}, @ @ @i{values}: tokens of item kinds and tile keys; @ @ @i{default}: @code{@{"it_umbrella", "it_spring_keep", "it_dynamite", "it_coffee", "it_hammer"@}}
-
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
-
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
 
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_surprise}
 @end table
 
+ at end table
+
 @c ----------------- Sword Item --------------------
 @node it_sword
 @subsection it_sword
@@ -9156,6 +9573,12 @@
 flickering of repeated item transformations.
 
 @table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Variants:}
 @table @asis
@@ -9192,6 +9615,12 @@
 transformations.
 
 @table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Variants:}
 @table @asis
@@ -9225,9 +9654,16 @@
 @table @asis
 @item @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{+10.0}
 Mass unit is the mass of an @ref{ac_marble}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_weight}
+ at end table
 
 @end table
 
@@ -9244,9 +9680,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
-
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_wrench}
+ at end table
 
 @end table
 
@@ -9268,9 +9712,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
-
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_yinyang}
+ at end table
 
 @end table
 
@@ -9280,10 +9732,12 @@
 
 @menu
 * it_blocker::         Shrinked Blocker Stone
+* it_bomb::            Big Explosive Charge
 * it_burnable::        Fire State
 * it_crack::           Crack in the Floor
 * it_cross::           Floor Switch for patient Actors
 * it_death::           Unpassable grid blocker
+* it_dynamite::        Exploder
 * it_explosion::       Short Explosion Animation
 * it_landmine::        Buried Explosive
 * it_magnet::          Actor attracting Magnet
@@ -9340,6 +9794,9 @@
 @item @b{autoclose} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 A true value causes any actor passing this item to close and grow the blocker.
 
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9380,6 +9837,63 @@
 
 @end table
 
+ at c ----------------- Bomb Item --------------------
+ at node it_bomb
+ at subsection it_bomb
+ at obindex it_bomb
+
+A bomb is an explosive that can not be picked up. It ignites on laser light, 
+nearby fire and other nearby explosions as those caused by other @ref{it_bomb}s,
+ at ref{it_dynamite}, @ref{st_dispenser} exploding directly above a bomb, or simply
+by a solide stone being pushed over them (just a few stones like @ref{st_shogun},
+ at ref{st_box}_hay do not cause bombs to ignite). A falling @ref{ot_cannonball}
+lets it explode immediately without prior ignition.
+
+On ignition its fuse starts burning. After a short time the bomb explodes
+causing on the 8 neigboring positions items to ignite and some stones like
+ at ref{st_break} to dissolve, too. 
+
+ at samp{BLACK} bombs will cause destructible items on the 4 neighboring positions
+to be blown away, and dissolves the floor beneath to a @ref{fl_abyss}.
+
+ at samp{WHITE} bombs will cause destructible items on the 8 neighboring positions
+to be blown away, and dissolves the floor beneath and the 8 neighboring
+positions to @ref{fl_abyss}.
+
+Bomb items will be added to the inventory when an actor hits a 
+ at ref{st_dispenser}_bombblack or @ref{st_dispenser}_bombwhite.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+Just bombs in @samp{state} @samp{IDLE} are portable, burning @samp{ACTIVE} ones
+can not be added to the inventory or an @ref{it_bag}.
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{explode}
+Direct explosion without burning fuse.
+ at item @b{ignite}
+Ignite the fuse.
+ at item @b{heat}
+Ignite the fuse.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_bomb}: color = @code{BLACK}
+ at item @b{it_bomb_black}: color = @code{BLACK}
+ at item @b{it_bomb_white}: color = @code{WHITE}
+ at end table
+
+ at end table
+
 @c ----------------- Burnable Item --------------------
 @node it_burnable
 @subsection it_burnable
@@ -9413,6 +9927,9 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{state}, @ @ @i{values}: integer numbers between 0 and 5; @ @ @i{default}: @code{0}; @ @ @i{access}: @code{read only}  @ @ @xref{state}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9502,7 +10019,9 @@
 @item @b{flavor}, @ @ @i{values}: @code{"abyss"}, @code{"water"}; @ @ @i{default}: @code{"abyss"}
 @item @b{spreading} @ @ @i{values}: positive number between 0.0 and 1.0; @ @ @i{default}: @code{0.5}, @ @ @xref{CrackSpreading}
 @item @b{fragility} @ @ @i{values}: positive number between 0.0 and 1.0; @ @ @i{default}: @code{1.0}, @ @ @xref{Fragility}
-
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9551,13 +10070,19 @@
 
 @item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{10.0}
 Number of seconds that the actor must stay on the sensor to cause an action.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
 
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_cross}
 @end table
+ at end table
 
 @c ----------------- Death Item --------------------
 @node it_death
@@ -9577,12 +10102,72 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_death}
+ at end table
 
 @end table
 
+ at c ----------------- Dynamite Item --------------------
+ at node it_dynamite
+ at subsection it_dynamite
+ at obindex it_dynamite
+
+Dynamite is an explosive that can be picked up and that can be easily ignited
+at any free grid position. It ignites on drop, or if positioned on the floor in
+ at samp{IDLE} state it ignites on laser light, nearby fire and other nearby 
+explosions as those caused by @ref{it_bomb}, @ref{st_dispenser}, or other 
+dyamite. A falling @ref{ot_cannonball} lets it explode immediately without prior
+ignition.
+
+On ignition its fuse starts burning. During this @samp{ACTIVE} state the
+dynamite can longer be picked up. After a short time the dynamite explodes
+causing on the 8 neigboring positions items to ignite and some stones like
+ at ref{st_break} to dissolve, too. The explosion leaves at its position an
+ at ref{it_meditation}_hollow on all floor kinds besides @ref{fl_ice} where an
+ at ref{it_crack}_water remains.
+
+Dynamite items will be added to the inventory when an actor hits a 
+ at ref{st_dispenser}_dynamite.
+
+ at table @asis
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{IDLE}, @code{ACTIVE}; @ @ @i{default}: @code{IDLE} @ @ @xref{state}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+Just @samp{IDLE} dynamite can be added to the inventory, burning @samp{ACTIVE}
+ones are not portable.
+ at end table
+
+ at item @b{Messages:}
+ at table @asis
+ at item @b{explode}
+Direct explosion without burning fuse.
+ at item @b{ignite}
+Ignite the fuse.
+ at item @b{heat}
+Ignite the fuse.
+ at end table
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_dynamite}: state = @code{IDLE}
+ at item @b{it_dynamite_burning}: state = @code{ACTIVE}
+ at end table
+
+ at end table
+
 @c ----------------- Explosion Item --------------------
 @node it_explosion
 @subsection it_explosion
@@ -9610,6 +10195,9 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{state}, @ @ @i{values}: integer numbers between 0 and 3; @ @ @i{default}: @code{0}; @ @ @i{access}: @code{read only}  @ @ @xref{state}
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -9630,8 +10218,6 @@
 @subsection it_landmine
 @obindex it_landmine
 
-!!TBD - Work in progress !!
-
 A static item that explodes on actors stepping onto its critical center part and
 on stones being pushed onto the mine.
 
@@ -9643,11 +10229,20 @@
 explosions, nor fire, nor laserbeams.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 
 @item @b{Messages:} none
 
 @item @b{Action:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_landmine}
+ at end table
 
 @end table
 
@@ -9677,6 +10272,9 @@
 @item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{+30.0} @ @ @xref{MagnetStrength}
 A scalar factor for magnet forces. Positive numbers are attracting forces
 where as negative numbers are repelling forces.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9769,6 +10367,9 @@
 Deviating friction that defaults to floor friction.
 @item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{adhesion}
 Deviating adhesion that defaults to floor adhesion.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -9827,14 +10428,15 @@
 
 @table @asis
 @item @b{Attributes:}
-
 @table @asis
-
 @item @b{invisible} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 An invisible sensor is totally transparent. But the user may notice it, as actors
 cannot drop items onto the same grid position.
 @item @b{exit} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 React either on an actor exiting or entering the grid.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -9879,6 +10481,9 @@
 A string describing the hole size. @code{"s"} for a small hole, @code{"m"} for
 a medium hole, @code{"l"} for a large hole.
 
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
@@ -9908,8 +10513,17 @@
 
 @table @asis
 
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_springboard}
+ at end table
 
 @end table
 
@@ -9926,9 +10540,18 @@
 or by a nearby exploding @ref{it_bomb}.
 
 @table @asis
- at item @b{Attributes:} none
+ at item @b{Attributes:}
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
+ at end table
 @item @b{Messages:} none
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_squashed}
 @end table
+ at end table
 
 @c ----------------- Strip Item --------------------
 @node it_strip
@@ -9963,6 +10586,9 @@
 Deviating friction that defaults to floor friction.
 @item @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: @code{nil} @ @ @xref{adhesion}
 Deviating adhesion that defaults to floor adhesion.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Variants:}
@@ -10014,6 +10640,9 @@
 @item @b{state}, @ @ @i{values}: @code{CLOSED}, @code{OPEN}; @ @ @i{default}: @code{CLOSED} @ @ @xref{state}
 A @samp{CLOSED} trap is intact and invisible, an @samp{OPEN} trap is broken and
 visible.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 @item @b{Messages:}
 
@@ -10025,6 +10654,10 @@
 @item @b{open} @ @ @xref{open}
 Opens the trap.
 @end table
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_trap}
+ at end table
 
 @end table
 
@@ -10072,11 +10705,18 @@
 An invisible trigger is totally transparent. But the user may notice it, as actors
 cannot drop items onto the same grid position.
 
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:} none
 
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_trigger}
+ at end table
 
 @end table
 
@@ -10140,6 +10780,10 @@
 
 @item @b{scissor}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
 Rubberband cutting behaviour on teleporting.
+ at table @asis
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -10211,6 +10855,9 @@
 Rubberband cutting behaviour on teleporting.
 @item @b{interval} @ @ @i{values}: float number greater or equal 0; @ @ @i{default}: @code{0.0}
 The latency time after a teleport during which no further teleports take place.
+ at item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
+ at item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
+ at item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
 @end table
 
 @item @b{Messages:}
@@ -11196,6 +11843,8 @@
 @item @b{turnback}
 Turn orientation in opposite turning direction as defined by attribute
 @samp{counterclock}.
+ at item @b{flip}
+Turn orientation into the reverse of the current orientation.
 @end table
 
 @item @b{Action:}



From ral at mail.berlios.de  Sun Apr 26 23:01:06 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 26 Apr 2009 23:01:06 +0200
Subject: [Enigma-game-svn] r1646 - in trunk: data/schemas src
Message-ID: <200904262101.n3QL16E4013663@sheep.berlios.de>

Author: ral
Date: 2009-04-26 23:01:05 +0200 (Sun, 26 Apr 2009)
New Revision: 1646

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/WorldProxy.cc
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/server.cc
   trunk/src/server.hh
Log:
Trunk 1.1:
- read enable item attributes:
  - "static" - item is not liftable, no pickup
  - "portable" - item can be added to inventory
  - "freezable" - item can be frozen by st_ice
- new global attribute "AllowSuicide", default true, value false disables F3

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/data/schemas/objects.xml	2009-04-26 21:01:05 UTC (rev 1646)
@@ -33,6 +33,7 @@
     <attr name="flavor" type="string" default="b" rw="rw"/>
     <attr name="floodable" type="bool" default="false" rw="rw"/>
     <attr name="fragility" type="double" default="nil" rw="rw"/>
+    <attr name="freezable" type="bool" default="false" rw="rw"/>
     <attr name="freeze_check" type="bool" default="false" rw="rw"/>
     <attr name="friction" type="double" default="nil" rw="rw"/>
     <attr name="gohome" type="bool" default="true" rw="rw"/>
@@ -54,6 +55,7 @@
     <attr name="inverse" type="bool" default="false" rw="rw"/>
     <attr name="invisible" type="bool" default="false" rw="rw"/>
     <attr name="length" type="double" default="1" rw="rw"/>
+    <attr name="liftable" type="bool" default="false" rw="rw"/>
     <attr name="loop" type="bool" default="true" rw="rw"/>
     <attr name="mass" type="double" default="1" rw="rw"/>
     <attr name="max" type="double" default="0" rw="rw"/>
@@ -68,6 +70,7 @@
     <attr name="orientation" type="int" default="0" min="0" max="3" rw="rw"/>
     <attr name="owner" type="int" default="nil" min="0" max="1" rw="rw"/>
     <attr name="oxydcolor" type="int" default="-1" min="-4" max="7" rw="rw"/>
+    <attr name="portable" type="bool" default="false" rw="rw"/>
     <attr name="prefercurrent" type="double" default="0.0" rw="rw"/>
     <attr name="push_directions" type="string" default="nil" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
@@ -462,7 +465,11 @@
     <object name="fl_yinyang_yang">
       <attr name="state" value="1"/>
     </object>
-    <object name="it" abstract="true"/>
+    <object name="it" abstract="true">
+      <attr name="liftable"/>
+      <attr name="portable"/>
+      <attr name="freezable"/>
+    </object>
     <object name="it_bag"/>
     <object name="it_banana"/>
     <object name="it_blocker">

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/src/WorldProxy.cc	2009-04-26 21:01:05 UTC (rev 1646)
@@ -45,6 +45,8 @@
     Value WorldProxy::getAttr(const std::string &key) const {
         if (key == "AllowSingleOxyds") {
             return server::AllowSingleOxyds;
+        } else if (key == "AllowSuicide") {
+            return server::AllowSuicide;
         } else if (key == "TogglePlayerOnDeath") {
             return server::AllowTogglePlayer;
         } else if (key == "ConserveLevel") {
@@ -126,9 +128,11 @@
 
     void WorldProxy::setAttr(const std::string &key, const Value &val) {
         if (key == "AllowSingleOxyds") {
-            server::AllowSingleOxyds = val;
+            server::AllowSingleOxyds = val.to_bool();
+        } else if (key == "AllowSuicide") {
+            server::AllowSuicide = val.to_bool();
         } else if (key == "TogglePlayerOnDeath") {
-            server::AllowTogglePlayer = val;
+            server::AllowTogglePlayer = val.to_bool();
         } else if (key == "ConserveLevel") {
             server::ConserveLevel = val.to_bool();
         } else if (key == "FollowAction") {

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/src/items.cc	2009-04-26 21:01:05 UTC (rev 1646)
@@ -71,6 +71,25 @@
     return get_traits().name;
 }
 
+    void Item::setAttr(const string& key, const Value &val) {
+        ASSERT(key != "liftable", XLevelRuntime, "Item set of attribute 'liftable' not allowed");
+        ASSERT(key != "portable", XLevelRuntime, "Item set of attribute 'portable' not allowed");
+        ASSERT(key != "freezable", XLevelRuntime, "Item set of attribute 'freezable' not allowed");
+        GridObject::setAttr(key, val);
+    }
+
+
+    Value Item::getAttr(const std::string &key) const {
+        if (key == "liftable") {
+            return !isStatic();
+        } else if (key == "portable") {
+            return isPortable();
+        } else if (key == "freezable") {
+            return isFreezable();
+        }
+        return GridObject::getAttr(key);
+    }
+
 string Item::get_inventory_model()
 {
     return get_kind();
@@ -136,6 +155,10 @@
     return !isStatic() || (get_traits().flags & itf_portable);
 }
 
+bool Item::isFreezable() const {
+    return isPortable() || (get_traits().flags & itf_freezable);
+}
+
 void Item::add_force(Actor *, V2 &) {
 }
 

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/src/items.hh	2009-04-26 21:01:05 UTC (rev 1646)
@@ -197,6 +197,9 @@
 
         /* ---------- Virtual functions ---------- */
         const char *get_kind() const;
+        virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
+
         void init_model();
         virtual void processLight(Direction d);
         virtual double getFriction(ecl::V2 pos, double defaultFriction, Actor *a);
@@ -210,6 +213,7 @@
         
         virtual bool isStatic() const;   // not liftable
         virtual bool isPortable() const;
+        virtual bool isFreezable() const;
 
         /*! Return true if item completely covers the floor. In this
           case the Floor::actor_contact() will not be called

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/src/server.cc	2009-04-26 21:01:05 UTC (rev 1646)
@@ -80,6 +80,7 @@
 bool server::NoCollisions = false;
 
 bool     server::AllowSingleOxyds;
+bool     server::AllowSuicide;
 bool     server::AllowTogglePlayer;
 bool     server::CreatingPreview = false;   // read only for Lua
 bool     server::ConserveLevel;
@@ -257,6 +258,7 @@
     server::TwoPlayerGame     = false;
     server::SingleComputerGame= true;
     server::AllowSingleOxyds  = false;
+    server::AllowSuicide      = true;
     server::AllowTogglePlayer = true;
     server::FollowAction      = GridPos(19, 12);   // inner space of a room
     server::FollowGrid        = true;
@@ -493,6 +495,8 @@
     }
     else if (cmd == "suicide") {
         player::Suicide();
+        if (!AllowSuicide)
+            server::Msg_RestartGame();
     }
     else if (cmd == "restart") {
         player::Suicide();

Modified: trunk/src/server.hh
===================================================================
--- trunk/src/server.hh	2009-04-26 19:02:29 UTC (rev 1645)
+++ trunk/src/server.hh	2009-04-26 21:01:05 UTC (rev 1646)
@@ -85,6 +85,9 @@
     // Single oxyds make a level unsolvable, but sometimes they are just fake,... 
     extern bool     AllowSingleOxyds;
     
+    // Allow F3
+    extern bool     AllowSuicide;
+    
     // level compatibility
     extern double   EnigmaCompatibility;
    



From ral at mail.berlios.de  Mon Apr 27 23:50:39 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 27 Apr 2009 23:50:39 +0200
Subject: [Enigma-game-svn] r1647 - in trunk: data/schemas src src/items
	src/stones
Message-ID: <200904272150.n3RLodHW030607@sheep.berlios.de>

Author: ral
Date: 2009-04-27 23:50:36 +0200 (Mon, 27 Apr 2009)
New Revision: 1647

Added:
   trunk/src/stones/IceBlock.cc
   trunk/src/stones/IceBlock.hh
Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/Bottle.cc
   trunk/src/items/BurnableItem.cc
   trunk/src/items/Crack.cc
   trunk/src/items/Dynamite.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/laser.cc
   trunk/src/laser.hh
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones/BoulderStone.cc
   trunk/src/stones/BoulderStone.hh
   trunk/src/stones/BoxStone.cc
   trunk/src/stones/BoxStone.hh
   trunk/src/stones/BrakeStone.cc
   trunk/src/stones/BrakeStone.hh
   trunk/src/stones/PuzzleStone.cc
   trunk/src/stones/PuzzleStone.hh
   trunk/src/stones/RotatorStone.cc
   trunk/src/stones/RotatorStone.hh
   trunk/src/stones/WindowStone.cc
   trunk/src/stones/WindowStone.hh
   trunk/src/stones/YieldingStone.cc
   trunk/src/stones/YieldingStone.hh
Log:
Trunk 1.1:
- use validator for read only check of item attributes "static", "portable",
   "freezable"
- correct declaration of "_freeze", "_revive" messages
- st_ice - new API successor of itemfreezer:
  - similar features, but more engine compatible
  - a first test implementation not yet complete


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/schemas/objects.xml	2009-04-27 21:50:36 UTC (rev 1647)
@@ -33,7 +33,7 @@
     <attr name="flavor" type="string" default="b" rw="rw"/>
     <attr name="floodable" type="bool" default="false" rw="rw"/>
     <attr name="fragility" type="double" default="nil" rw="rw"/>
-    <attr name="freezable" type="bool" default="false" rw="rw"/>
+    <attr name="freezable" type="bool" default="false" rw="r"/>
     <attr name="freeze_check" type="bool" default="false" rw="rw"/>
     <attr name="friction" type="double" default="nil" rw="rw"/>
     <attr name="gohome" type="bool" default="true" rw="rw"/>
@@ -55,7 +55,7 @@
     <attr name="inverse" type="bool" default="false" rw="rw"/>
     <attr name="invisible" type="bool" default="false" rw="rw"/>
     <attr name="length" type="double" default="1" rw="rw"/>
-    <attr name="liftable" type="bool" default="false" rw="rw"/>
+    <attr name="liftable" type="bool" default="false" rw="r"/>
     <attr name="loop" type="bool" default="true" rw="rw"/>
     <attr name="mass" type="double" default="1" rw="rw"/>
     <attr name="max" type="double" default="0" rw="rw"/>
@@ -70,7 +70,7 @@
     <attr name="orientation" type="int" default="0" min="0" max="3" rw="rw"/>
     <attr name="owner" type="int" default="nil" min="0" max="1" rw="rw"/>
     <attr name="oxydcolor" type="int" default="-1" min="-4" max="7" rw="rw"/>
-    <attr name="portable" type="bool" default="false" rw="rw"/>
+    <attr name="portable" type="bool" default="false" rw="r"/>
     <attr name="prefercurrent" type="double" default="0.0" rw="rw"/>
     <attr name="push_directions" type="string" default="nil" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
@@ -200,6 +200,8 @@
       <attr name="charge"/>
       <attr name="velocity_x"/>
       <attr name="velocity_y"/>
+      <msg name="_freeze"/>
+      <msg name="_revive"/>
     </object>
     <object name="ac_bug">
     </object>
@@ -469,6 +471,7 @@
       <attr name="liftable"/>
       <attr name="portable"/>
       <attr name="freezable"/>
+      <msg name="_freeze"/>
     </object>
     <object name="it_bag"/>
     <object name="it_banana"/>
@@ -1378,6 +1381,7 @@
     </object>
     <object name="st_greenbrown_growing" init="true"/>
     <object name="st_greengray"/>
+    <object name="st_ice"/>
     <object name="st_invisible">
       <attr name="hollow" rw="r"/>
     </object>
@@ -1661,8 +1665,6 @@
     </object>
     <object name="st_pull">
       <attr name="state" rw="r"/>
-      <msg name="_freeze"/>
-      <msg name="_revive"/>
     </object>
     <object name="st_purplemarble"/>
     <object name="st_purplegray"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/Makefile.am	2009-04-27 21:50:36 UTC (rev 1647)
@@ -341,6 +341,8 @@
 	stones/GlassStones.hh	\
 	stones/GreenBrownStone.cc	\
 	stones/GreenBrownSTone.hh	\
+	stones/IceBlock.cc	\
+	stones/IceBlock.hh	\
 	stones/JambStone.cc	\
 	stones/JambStone.hh	\
 	stones/KeySwitch.cc	\

Modified: trunk/src/items/Bottle.cc
===================================================================
--- trunk/src/items/Bottle.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items/Bottle.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -88,7 +88,7 @@
 
     ItemTraits Bottle::traits[2] = {
         {"it_bottle_idle",  it_bottle_idle, itf_none, 0.0},
-        {"it_bottle_broken",  it_bottle_idle, itf_static | itf_indestructible, 0.0},
+        {"it_bottle_broken",  it_bottle_idle, itf_static | itf_indestructible | itf_freezable, 0.0},
     };
 
     BOOT_REGISTER_START

Modified: trunk/src/items/BurnableItem.cc
===================================================================
--- trunk/src/items/BurnableItem.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items/BurnableItem.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -38,7 +38,8 @@
             state = FIREPROOF;
             init_model();
             return Value();
-        } else if (m.message == "_brush" && (state == ASH || state == FIREPROOF)) {
+        } else if (m.message == "_brush" && (state == ASH || state == FIREPROOF) ||
+                (m.message == "_freeze" && state != OIL)) {
             kill();   // The brush cleans the floor
             return Value();
         } else if (Floor *fl = GetFloor(get_pos())) {

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items/Crack.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -66,6 +66,9 @@
             sound_event("crack");
             replace("it_debris");
             return true;
+        } else if (m.message == "_freeze") {
+            kill();   // The ice repairs the floor
+            return Value();
         }
         return Item::message(m);
     }

Modified: trunk/src/items/Dynamite.cc
===================================================================
--- trunk/src/items/Dynamite.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items/Dynamite.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -46,6 +46,11 @@
             if (isDisplayable())
                 burn();
             return true;  // caught message -> no fire!
+        } else if (m.message == "_freeze") {
+            if (state == BURNING) {
+                state = IDLE;
+                init_model();
+            }
         }
         return Item::message(m);
     }

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items/SimpleItems.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -137,6 +137,9 @@
         if (m.message == "_cannonball") {
             state = 3;
             return Value();
+        } else if (m.message == "_freeze") {
+            kill();   // The ice cleans the explosion
+            return Value();
         }
         return Item::message(m);
     }
@@ -372,7 +375,7 @@
     
     Value Squashed::message (const Message &m) {
         if (enigma_server::GameCompatibility == GAMET_ENIGMA) {
-            if (m.message == "_brush") {
+            if (m.message == "_brush" || m.message == "_freeze") {
                 KillItem(this->get_pos());
                 return Value();
             }
@@ -380,7 +383,7 @@
         return Item::message(m);
     }
 
-    DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static | itf_freezable);
+    DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static);
 
 /* -------------------- Weight item -------------------- */
     Weight::Weight() {

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -71,14 +71,6 @@
     return get_traits().name;
 }
 
-    void Item::setAttr(const string& key, const Value &val) {
-        ASSERT(key != "liftable", XLevelRuntime, "Item set of attribute 'liftable' not allowed");
-        ASSERT(key != "portable", XLevelRuntime, "Item set of attribute 'portable' not allowed");
-        ASSERT(key != "freezable", XLevelRuntime, "Item set of attribute 'freezable' not allowed");
-        GridObject::setAttr(key, val);
-    }
-
-
     Value Item::getAttr(const std::string &key) const {
         if (key == "liftable") {
             return !isStatic();

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/items.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -197,7 +197,6 @@
 
         /* ---------- Virtual functions ---------- */
         const char *get_kind() const;
-        virtual void setAttr(const string& key, const Value &val);
         virtual Value getAttr(const std::string &key) const;
 
         void init_model();

Modified: trunk/src/laser.cc
===================================================================
--- trunk/src/laser.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/laser.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004 Daniel Heck
- * Copyright (C) 2008 Ronald Lamprecht
+ * Copyright (C) 2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -35,7 +35,7 @@
 
 /* -------------------- LaserBeam -------------------- */
 
-    ItemTraits LaserBeam::traits = {"it-laserbeam", it_laserbeam, 
+    ItemTraits LaserBeam::traits = {"it_laserbeam", it_laserbeam, 
                                     itf_static | itf_indestructible, 0.0 };
 
 
@@ -67,6 +67,18 @@
 std::list<LaserBeam *> LaserBeam::beamList;
 
 
+    std::string LaserBeam::getClass() const {
+        return "it_laserbeam";
+    }
+    
+    Value LaserBeam::message(const Message &m) {
+        if (m.message == "_freeze") {
+            kill();
+            return Value();
+        }
+        return Item::message(m);
+    }
+    
 void LaserBeam::prepareLevel() {
     beamList.clear();
 }

Modified: trunk/src/laser.hh
===================================================================
--- trunk/src/laser.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/laser.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -38,6 +38,10 @@
         static void all_emitted();
         static void prepareLevel();
 
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message(const Message &m);
+
         // GridObject interface
         DirectionBits emissionDirections() const { return (DirectionBits)(objFlags & 15); }
         static ItemTraits traits;

Modified: trunk/src/stones/BoulderStone.cc
===================================================================
--- trunk/src/stones/BoulderStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BoulderStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -145,7 +145,7 @@
         }
     }
     
-    void BoulderStone::on_move() {
+    bool BoulderStone::on_move(const GridPos &origin) {
         state = ACTIVE;
         triggerObstacle(getDir(), true);
         
@@ -153,7 +153,7 @@
         objFlags |= (objFlags & OBJBIT_LIGHT) >> 24;
         RecalcLight();   // necessary for rotators swapped out of light
         
-        Stone::on_move();
+        return Stone::on_move(origin);
     }
     
     void BoulderStone::on_impulse(const Impulse& impulse) {

Modified: trunk/src/stones/BoulderStone.hh
===================================================================
--- trunk/src/stones/BoulderStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BoulderStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -66,7 +66,7 @@
         // Stone interface
         virtual void actor_hit(const StoneContact &sc);
         virtual void on_floor_change();
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
         virtual void on_impulse(const Impulse& impulse);
 //        virtual const char *collision_sound();
 

Modified: trunk/src/stones/BoxStone.cc
===================================================================
--- trunk/src/stones/BoxStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BoxStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -155,10 +155,11 @@
             SendMessage(a, "_shatter");
     }
     
-    void BoxStone::on_move() {
+    bool BoxStone::on_move(const GridPos &origin) {
         // in oxyd1 only fall when moving
-        Stone::on_move();
+        Stone::on_move(origin);
         maybe_fall_or_stopfire(true);
+        return true;
     }
     
     void BoxStone::on_floor_change() {

Modified: trunk/src/stones/BoxStone.hh
===================================================================
--- trunk/src/stones/BoxStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BoxStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -76,7 +76,7 @@
         virtual void actor_hit(const StoneContact &sc);
         virtual void actor_inside(Actor *a);
         virtual void actor_contact(Actor *a);
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
         virtual void on_floor_change();
     
     private:

Modified: trunk/src/stones/BrakeStone.cc
===================================================================
--- trunk/src/stones/BrakeStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BrakeStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -74,8 +74,9 @@
         }
     }
     
-    void BrakeStone::on_move() {
+    bool BrakeStone::on_move(const GridPos &origin) {
         // we are not floating, but we do not shatter actors when swapped or pulled
+        return true;
     }
     
     void BrakeStone::explode() {

Modified: trunk/src/stones/BrakeStone.hh
===================================================================
--- trunk/src/stones/BrakeStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/BrakeStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -48,7 +48,7 @@
         virtual bool is_sticky(const Actor *a) const;
         virtual StoneResponse collision_response(const StoneContact &sc);
         virtual void actor_inside(Actor *a);
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
          
     private:
         void explode();

Added: trunk/src/stones/IceBlock.cc
===================================================================
--- trunk/src/stones/IceBlock.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/IceBlock.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -0,0 +1,94 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/IceBlock.hh"
+
+#include "items.hh"
+//#include "main.hh"
+
+namespace enigma {
+
+    IceBlock::IceBlock() : Stone() {
+    }
+    
+    std::string IceBlock::getClass() const {
+        return "st_ice";
+    }
+    
+    Value IceBlock::message(const Message &m) {
+        if (m.message == "_explosion" || m.message == "ignite") {
+            GridPos p = get_pos();
+            setNoAbyssFloor(p, "fl_ice");
+            setNoAbyssFloor(move(p, NORTH), "fl_ice");
+            setNoAbyssFloor(move(p, EAST), "fl_ice");
+            setNoAbyssFloor(move(p, SOUTH), "fl_ice");
+            setNoAbyssFloor(move(p, WEST), "fl_ice");
+            KillStone(p);
+            return Value();
+        } else if (m.message == "heat") {
+            GridPos p = get_pos();
+            setNoAbyssFloor(p, "fl_water");
+            KillStone(p);
+            return Value();            
+        }
+        return Stone::message(m);
+    }
+    
+    void IceBlock::init_model() {
+        set_model("st_rawglass");
+    }
+    
+    bool IceBlock::is_transparent(Direction d) const {
+        return true;
+    }
+    
+    bool IceBlock::on_move(const GridPos &origin) {
+        Item *itf = GetItem(origin);
+        Item *itd = GetItem(get_pos());
+        if (itd != NULL) {
+            SendMessage(itd, "_freeze");
+            itd = GetItem(get_pos());
+        }
+        if (itf != NULL && itf->isFreezable()) {
+            if (itd == NULL || !itd->isStatic() || (itd->isFreezable() && !itf->isPortable()))
+                SetItem(get_pos(), YieldItem(origin));
+            else
+                KillItem(origin);
+        }
+        Floor *fl = GetFloor(get_pos());
+        if (fl != NULL && fl->isKind("fl_water")) {
+            SetFloor(get_pos(), MakeFloor("fl_ice"));
+        }
+        Stone::on_move(origin);
+        return false;
+    }
+    
+    void IceBlock::setNoAbyssFloor(const GridPos &p, std::string kind) const {
+        Floor *fl = GetFloor(p);
+        if (fl == NULL || !fl->isKind("fl_abyss"))
+            SetFloor(p, MakeFloor(kind.c_str()));
+    }
+    
+    DEF_TRAITSM(IceBlock, "st_ice", st_ice, MOVABLE_STANDARD);
+
+    BOOT_REGISTER_START
+        BootRegister(new IceBlock(), "st_ice");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/IceBlock.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/IceBlock.hh
===================================================================
--- trunk/src/stones/IceBlock.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/IceBlock.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -0,0 +1,55 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef ICESTONE_HH
+#define ICESTONE_HH
+
+#include "stones.hh"
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     * 
+     */
+    class IceBlock : public Stone {
+        CLONEOBJ(IceBlock);
+        DECL_TRAITS;
+        
+    public:
+        IceBlock();
+
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message(const Message &m);
+        
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual bool is_transparent(Direction d) const;
+        virtual bool on_move(const GridPos &origin);
+        
+    private:
+        void setNoAbyssFloor(const GridPos &p, std::string kind) const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/IceBlock.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones/PuzzleStone.cc
===================================================================
--- trunk/src/stones/PuzzleStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/PuzzleStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -217,7 +217,7 @@
                 if (GetStone(dest) == NULL) {
                     Stone *puzz = YieldStone(get_pos());
                     SetStone(dest, puzz);
-                    puzz->on_move();
+                    puzz->on_move(get_pos());
                     sound_event ("movesmall");
                 } else
                     rotateLine(rotate_dir);
@@ -263,9 +263,10 @@
         propagateImpulse(impulse);
     }
 
-    void PuzzleStone::on_move() {
+    bool PuzzleStone::on_move(const GridPos &origin) {
         if (!(objFlags & OBJBIT_HOLLOW))
             ShatterActorsInsideField (get_pos());
+        return true;
     }
 
     void PuzzleStone::on_floor_change() {
@@ -442,7 +443,7 @@
 
         for (PuzzleList::iterator itr = cluster.begin(); itr != cluster.end(); ++itr) {
             SetStone(move((*itr)->sourcePos, dir), *itr);
-            (*itr)->on_move();
+            (*itr)->on_move((*itr)->sourcePos);
         }
         server::IncMoveCounter(size);
 

Modified: trunk/src/stones/PuzzleStone.hh
===================================================================
--- trunk/src/stones/PuzzleStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/PuzzleStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -111,7 +111,7 @@
         virtual void actor_hit(const StoneContact &sc);
         virtual void actor_contact(Actor *a);
         virtual void on_impulse(const Impulse& impulse);
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
         virtual void on_floor_change();
         
         // TimeHandler interface

Modified: trunk/src/stones/RotatorStone.cc
===================================================================
--- trunk/src/stones/RotatorStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/RotatorStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -123,12 +123,12 @@
         }
     }
     
-    void RotatorStone::on_move() {
+    bool RotatorStone::on_move(const GridPos &origin) {
         objFlags &= ~OBJBIT_LIGHTNEWDIRS;
         objFlags |= (objFlags & OBJBIT_LIGHT) >> 25;
         RecalcLight();   // necessary for rotators swapped out of light
         
-        Stone::on_move();
+        return Stone::on_move(origin);
     }
     
     FreezeStatusBits RotatorStone::get_freeze_bits() {

Modified: trunk/src/stones/RotatorStone.hh
===================================================================
--- trunk/src/stones/RotatorStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/RotatorStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -65,7 +65,7 @@
         // Stone interface
         virtual void actor_hit(const StoneContact &sc);
         virtual void on_impulse(const Impulse& impulse);
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
         virtual FreezeStatusBits get_freeze_bits();
 
         // TimeHandler interface

Modified: trunk/src/stones/WindowStone.cc
===================================================================
--- trunk/src/stones/WindowStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/WindowStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -183,8 +183,9 @@
         return false;
     }
     
-    void WindowStone::on_move() {
+    bool WindowStone::on_move(const GridPos &origin) {
         // do not shatter actors
+        return true;
     }
     
     StoneResponse WindowStone::collision_response(const StoneContact &sc) {

Modified: trunk/src/stones/WindowStone.hh
===================================================================
--- trunk/src/stones/WindowStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/WindowStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -73,7 +73,7 @@
         virtual bool is_transparent (Direction) const { return true; }
         virtual bool is_floating() const { return state != IDLE; }
         virtual bool is_sticky(const Actor *a) const;
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
 
     private:
         void breakFaces(DirectionBits faces);

Modified: trunk/src/stones/YieldingStone.cc
===================================================================
--- trunk/src/stones/YieldingStone.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/YieldingStone.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -42,9 +42,9 @@
         if (st != NULL) {
             ASSERT(yieldedStone == NULL, XLevelRuntime, "YieldingStone: internal error of double yielding"); 
             yieldedStone = st;
-            GridPos pos = st->get_pos();
-            yieldedModel = display::YieldModel(GridLoc(GRID_STONES, pos));
-            YieldStone(pos);
+            origin = st->get_pos();
+            yieldedModel = display::YieldModel(GridLoc(GRID_STONES, origin));
+            YieldStone(origin);
             yieldedStone->setOwnerPos(get_pos());   // the stone id owned at the new position
         }
     }
@@ -58,7 +58,7 @@
             SetStone(pos, yieldedStone);
             if (Object::getObject(id) != NULL) { // not killed?
                 display::SetModel(GridLoc(GRID_STONES, pos), yieldedModel);
-                yieldedStone->on_move();    // continue animations -- this is buggy if the stone has another
+                yieldedStone->on_move(origin);    // continue animations -- this is buggy if the stone has another
                                             // model on the new position like st-chameleon
                 if (Object::getObject(id) != NULL)   // not killed?
                     SendMessage(yieldedStone, "_model_reanimated");  // temp fix: reset bad models

Modified: trunk/src/stones/YieldingStone.hh
===================================================================
--- trunk/src/stones/YieldingStone.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones/YieldingStone.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -34,6 +34,7 @@
         
     protected:
         Stone *yieldedStone;
+        GridPos origin;
         display::Model *yieldedModel;
         
         void yieldStone(Stone *st);

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones.cc	2009-04-27 21:50:36 UTC (rev 1647)
@@ -157,9 +157,10 @@
             MoveStone(p, newPos);
             server::IncMoveCounter();
     
-            on_move();
-            if (Item *it = GetItem(newPos))
-                it->on_stonehit(this);
+            if (on_move(p)) {
+                if (Item *it = GetItem(newPos))
+                    it->on_stonehit(this);
+            }
     
             return true;
         }
@@ -171,9 +172,10 @@
     return move_stone(move(get_pos(), dir), "movesmall");
 }
 
-void Stone::on_move() {
+bool Stone::on_move(const GridPos &origin) {
     if (!is_floating()) 
         ShatterActorsInsideField (get_pos());
+    return true;
 }
 
 /* Multiplies velocity with the attribute-matrix

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/src/stones.hh	2009-04-27 21:50:36 UTC (rev 1647)
@@ -66,6 +66,7 @@
         st_floppy,
         st_fourswitch,
         st_greenbrown,
+        st_ice,
         st_key,
         st_knight,
         st_dongle,
@@ -221,7 +222,7 @@
 
         virtual bool freeze_check();
         
-        virtual void on_move();
+        virtual bool on_move(const GridPos &origin);
         virtual void on_floor_change() {}
         virtual void on_impulse(const Impulse& impulse);
         void propagateImpulse(const Impulse& impulse);



From ral at mail.berlios.de  Mon Apr 27 23:55:34 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Mon, 27 Apr 2009 23:55:34 +0200
Subject: [Enigma-game-svn] r1648 - team_levelpacks/team_test_new_api
Message-ID: <200904272155.n3RLtYo3030742@sheep.berlios.de>

Author: ral
Date: 2009-04-27 23:55:23 +0200 (Mon, 27 Apr 2009)
New Revision: 1648

Added:
   team_levelpacks/team_test_new_api/ralT086_1.xml
Modified:
   team_levelpacks/team_test_new_api/ralT072_1.xml
   team_levelpacks/team_test_new_api/ralT075_1.xml
   team_levelpacks/team_test_new_api/ralT077_1.xml
Log:
Test Level new API:
- updates of Flood test level for new features
- F3 - AllowSuicide test
- st_ice test level


Modified: team_levelpacks/team_test_new_api/ralT072_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT072_1.xml	2009-04-27 21:50:36 UTC (rev 1647)
+++ team_levelpacks/team_test_new_api/ralT072_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
@@ -25,6 +25,7 @@
 ti["o"] = {"st_box_hay"}
 ti["w"] = {"st_box"}
 ti["b"] = {"st_brownie"}
+ti["p"] = {"st_puzzle"}
 ti["_"] = {"st_window_s"} .. ti["."]
 
 ti["s"] = {"fl_water", "source1", interval=0.2}
@@ -46,7 +47,7 @@
 ti["V"] = {"it_vortex_closed", "vortex", destination={"vdest1", "vdest2", "vdest3"}} .. ti["."]
 ti["v"] = {"st_switch", target="vortex"}
 
-ti["U"] = {"it_vortex_closed", "vdest1"} .. ti["."]
+ti["U"] = {"it_vortex_closed", "vdest1"} .. ti["."] .. {"st_portal"}
 ti["u"] = {"st_switch", target="vdest1"}
 
 ti["T"] = {"it_vortex_closed", "vdest2"} .. ti["."]
@@ -82,7 +83,7 @@
 ".                   ",
 ".                   ",
 ".                   ",
-"Vv                  ",
+"Vv      p  p  p     ",
 "                    ",
 "..Uu  ..Tt  ..X     ",
 "...   ...   ...     ",

Modified: team_levelpacks/team_test_new_api/ralT075_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT075_1.xml	2009-04-27 21:50:36 UTC (rev 1647)
+++ team_levelpacks/team_test_new_api/ralT075_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
@@ -16,6 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
+wo["AllowSuicide"] = false
 
 ti[" "] = {"fl_sahara"}
 ti["."] = {"st_granite"}
@@ -93,6 +94,8 @@
 wo:add(YIN, ti["f"] .. ti["5"] .. {"it_banana"} .. ti["m"] .. {"it_bag", "bag2"})
 wo:add(no["bag"], ti["7"] .. {"it_cherry"} .. ti["m"])
 wo:add(no["bag2"], ti["8"] .. {"it_coin_s"})
+
+no["bag"]["liftable"] = false
   ]]></el:luamain>
     <el:i18n>
 	 <el:string el:key="title">

Modified: team_levelpacks/team_test_new_api/ralT077_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT077_1.xml	2009-04-27 21:50:36 UTC (rev 1647)
+++ team_levelpacks/team_test_new_api/ralT077_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
@@ -74,6 +74,7 @@
 end
 
 wo:add(YIN, {"it_weight", mass=2.1})
+wo:add(YIN, {"it_bomb"} .. ti{"it_springboard"})
 wo:add(no["heavybag"], {"it_weight", mass=7})
 wo:add(no["pinbag"], ti["p"])
   ]]></el:luamain>

Added: team_levelpacks/team_test_new_api/ralT086_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT086_1.xml	2009-04-27 21:50:36 UTC (rev 1647)
+++ team_levelpacks/team_test_new_api/ralT086_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
@@ -0,0 +1,78 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test Ice Block" el:subtitle="" el:id="20090427ral263"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2009 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl_sahara"}
+ti["_"] = {"fl_abyss"}
+ti["~"] = {"fl_water"}
+ti["*"] = {"st_ice"}
+
+ti["c"] = {"it_coffee"}
+ti["."] = {"it_seed"}
+ti[":"] = {"it_cherry"}
+ti["j"] = {"it_springboard"}
+ti["m"] = {"it_magnet"}
+ti["o"] = {"it_meditation"}
+ti["x"] = {"it_cross"}
+ti["t"] = {"it_trigger"}
+ti["e"] = {"it_extinguisher"}
+ti["%"] = {"it_crack"}
+ti["b"] = {"it_bottle"}
+ti["B"] = {"it_bottle_broken"} .. ti["~"]
+ti["'"] = {"it_squashed"}
+ti["d"] = {"it_dynamite"}
+ti["i"] = {"it_burnable_oil"}
+ti["D"] = {"st_dispenser"}
+ti["E"] = {"st_dispenser_dynamite"}
+ti["W"] = {"st_swap"}
+
+ti["s"] = {"it_shogun_s", target="shogun"}
+ti["S"] = {"st_shogun_s"}
+ti["L"] = {"st_laser_n", "shogun"}
+
+ti["@"] = {"#ac_marble"}
+
+ti["z"] = {"st_ice", "wireice"}
+ti["Z"] = {"st_swap", "wireswap"}
+
+w, h = wo(ti, " ", {
+"                    ",
+"     j    m    o    ",
+"                  _ ",
+" L   x    .    c  _ ",
+"                    ",
+" s   t    *    :  b ",
+"                    ",
+" S   ' @  e    i   D",
+"                    ",
+"     %    d    W   E",
+"   z                ",
+" Z       ~~~~~~~B   ",
+"            ~~~     "
+})
+wo:add({"ot_wire", anchor1="wireice", anchor2="wireswap"})
+
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>
+


Property changes on: team_levelpacks/team_test_new_api/ralT086_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native



From a_abraham at mail.berlios.de  Tue Apr 28 20:53:21 2009
From: a_abraham at mail.berlios.de (a_abraham at mail.berlios.de)
Date: Tue, 28 Apr 2009 20:53:21 +0200
Subject: [Enigma-game-svn] r1649 - in trunk/doc/reference: . images
Message-ID: <200904281853.n3SIrLnX019182@sheep.berlios.de>

Author: a_abraham
Date: 2009-04-28 20:52:55 +0200 (Tue, 28 Apr 2009)
New Revision: 1649

Modified:
   trunk/doc/reference/Makefile.am
   trunk/doc/reference/enigma-ref.texi
   trunk/doc/reference/images/Makefile.am
Log:
- Added images to refman
- corrected spelling



Modified: trunk/doc/reference/Makefile.am
===================================================================
--- trunk/doc/reference/Makefile.am	2009-04-27 21:55:23 UTC (rev 1648)
+++ trunk/doc/reference/Makefile.am	2009-04-28 18:52:55 UTC (rev 1649)
@@ -19,7 +19,16 @@
 	  echo "Warning: texi2html not found"; \
 	fi
 
-pdf: enigma-ref.pdf
+pdf:
+	$(MAKE) -C images
+	$(MAKE) pdf_local
 
+pdf_local: enigma-ref.pdf
+
 %.pdf: %.texi
-	texi2dvi --pdf $<
+	$(TEXI2DVI) --pdf $<
+# Better use $(TEXI2PDF). May be missing on elder systems.
+
+clean:
+	$(RM) enigma-ref.pdf
+	$(RM) enigma-ref.{at,ats,aux,cp,cps,fn,fns,ky,log,ms,mss,ob,obs,pg,toc,tp,vr,vrs}

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-04-27 21:55:23 UTC (rev 1648)
+++ trunk/doc/reference/enigma-ref.texi	2009-04-28 18:52:55 UTC (rev 1649)
@@ -243,7 +243,7 @@
 
 Enigma interprets all further arguments supplied on the commandline as level file
 addresses. You can use absolute or relative addresses to level files stored
-on your computer. Adding url's to levels stored in the internet is also possible.
+on your computer. Adding url's to levels stored in the Internet is also possible.
 
 A Unix user may start Enigma with the following command:
 
@@ -1793,9 +1793,9 @@
 @table @asis
 @item @b{score}, @i{required}
 The score version is given as a positive integer number. New levels start with
-score verison ``1''. New level versions need to increase the
+score version ``1''. New level versions need to increase the
 score version number if the level modifications cause different solutions with
-uncomparable score values. Of course, level authors should be very restrictive
+incomparable score values. Of course, level authors should be very restrictive
 with such modifications.
 
 During the development of a level, you should use the attribute @samp{@b{status}} to mark a
@@ -1834,7 +1834,7 @@
 If Enigma finds two levelfiles in its data search paths with identical filenames,
 id, score and release version, it will load the one with the higher revision number.
 This feature guarantees that  an older level revision stored on the user's
-home level directory cannot supercede a new revision of a level distributed with a new
+home level directory cannot supersede a new revision of a level distributed with a new
 Enigma release. Online updates will check the level revision numbers, too.
 
 Although  the revision evaluates to a number, the attribute can take a second
@@ -1975,7 +1975,7 @@
 The compatibility element itself contains only subelements as content.
 
 @table @asis
- at item @b{dependency}, @i{optional, mutiple occurence}
+ at item @b{dependency}, @i{optional, multiple occurrence}
 You can use this element to specify any Enigma-Lua library this level depends on. You can
 specify several libraries by multiple occurrence of this element. If you configure a library to be
 preloaded, the engine will load it before it loads or executes any level Lua code. The load
@@ -2028,7 +2028,7 @@
 
 none.
 
- at item @b{externaldata}, @i{optional, multiple occurence}
+ at item @b{externaldata}, @i{optional, multiple occurrence}
 You can use this element to specify any external data file this level
 depends on. You can specify several files by multiple occurrence of this
 element. Files declared can be read via the Lua interface.
@@ -2058,7 +2058,7 @@
 
 none.
 
- at item @b{editor}, @i{optional, single occurence}
+ at item @b{editor}, @i{optional, single occurrence}
 Special level editor programs use this element to store information about themselves.
 
 @b{Attributes:}
@@ -2162,7 +2162,7 @@
 The comments element itself contains only subelements as content.
 
 @table @asis
- at item @b{credits}, @i{optional, single occurence}
+ at item @b{credits}, @i{optional, single occurrence}
 The place to honor people who helped to make your level run.
 
 @b{Attributes:}
@@ -2178,7 +2178,7 @@
 
 @b{Contents:}
 
-The credits message itself. It may be broken into several lines. Whitespaces will
+The credits message itself. It may be broken into several lines. Whitespace will
 be collapsed before display.
 
 @item @b{dedication}, @i{optional, single occurrence}
@@ -2198,10 +2198,10 @@
 
 @b{Contents:}
 
-The dedication message itself. It may be broken into several lines. Whitespaces will
+The dedication message itself. It may be broken into several lines. Whitespace will
 be collapsed before display.
 
- at item @b{code}, @i{optional, single occurence}
+ at item @b{code}, @i{optional, single occurrence}
 
 @b{Attributes:}
 
@@ -2210,7 +2210,7 @@
 @b{Contents:}
 
 The main code comment, which may be an explanation of the @ref{<version>} status
-or a todo list. It may be broken into several lines. This comment will not be
+or a to-do list. It may be broken into several lines. This comment will not be
 processed.
 
 @end table
@@ -2305,7 +2305,7 @@
 
 @example
   <@i{el}:@b{protected} >
-    <!-- elements ommited -->
+    <!-- elements omitted -->
     <@i{el}:@b{i18n}>
       <@i{el}:@b{string} @i{el}:@b{key}="@var{title}">
         <@i{el}:@b{english} @i{el}:@b{translate}="@var{false}"/>
@@ -2499,7 +2499,7 @@
 we do provide tools for conversion: @samp{xml2lua} and @samp{lua2xml}. Both are
 very simple Lua 5 scripts that you can execute as
 @samp{lua xml2lua demo_simple.xml > demo_simple.lua} with a properly installed
-Lua 5 version. On Unix systems, you can mark the scripts as executables and
+Lua 5 version. On Unix systems, you can mark the scripts as executable and
 simply call @samp{xml2lua demo_simple.xml > demo_simple.lua}.
 
 Of course you can add the conversion algorithms as simple macros for your favorite
@@ -2712,7 +2712,7 @@
 @cindex onescreener
 On the creation of a world the level author has to give its size in measure of
 tiles. The given width and height of the world are fixed and cannot be changed
-lateron. A common size is 20x13 for a @dfn{Onescreener}. But there are no limits.
+later on. A common size is 20x13 for a @dfn{Onescreener}. But there are no limits.
 You can even build levels smaller than a screen. Note that for larger levels
 you have to take into account that one tile row or column is usually shared
 between two screens on scrolling. Thus a level of 2x2 screens has a size of
@@ -2809,7 +2809,7 @@
 
 All these other objects are full objects concerning the following chapters. But
 you need to use the world's @ref{add} method to add them and you need to use
- at ref{Object Reference} or @ref{Object Naming} to access them lateron, as no
+ at ref{Object Reference} or @ref{Object Naming} to access them later on, as no
 position driven access does exist.
 
 @c ----------------- Player and Inventory --------------------
@@ -2847,7 +2847,7 @@
 actor by a player does just affect the movement of the actor by the users
 force input. An actor may be controlled by a player without parallel ownership.
 Another actor may be owned by a player without being controlled by it, thus
-being a passiv actor that depends on being pushed by others. An actor may even
+being a passive actor that depends on being pushed by others. An actor may even
 be controlled by both players, but it can just be owned by one player or none.
 
 The assignment of actors to players is solely configured by
@@ -2899,7 +2899,7 @@
 @node Object Kind
 @subsection Object Kind
 
- at cindex abstact kind
+ at cindex abstract kind
 Up to now we have spoken about object kinds of floor @samp{fl}, item
 @samp{it}, stone @samp{st} and actor @samp{ac}. All these kinds are called
 @dfn{abstract}. You can check if a given object is of such a kind, but you can
@@ -2938,7 +2938,7 @@
 @subsection Object Reference
 
 Having set objects to the various layers a level author sometimes has the need
-of referencing them lateron. On callbacks the engine provides references to
+of referencing them later on. On callbacks the engine provides references to
 sender objects. But the author can request any grid object anytime by its
 position.
 
@@ -2952,8 +2952,8 @@
 in a group is constant and guaranteed to be observed in processing common
 operations.
 
-As objects can ceize to exist you have to be aware that the references are
-volatile, too. You can check every object reference for existance. But in many
+As objects can seize to exist you have to be aware that the references are
+volatile, too. You can check every object reference for existence. But in many
 cases the validity of the reference is unimportant as Enigma 1.10 is very
 tolerant on invalid object references access. The operations will simply be
 ignored and requests will return default values.
@@ -2961,7 +2961,7 @@
 As a general thumb rule you should request and keep object references just
 for the time of a local call. As long as your level code is processed in
 sequence without the running world simulation giving the player a chance to
-kill objects by marble actions, objects should ceize to exist just due to your
+kill objects by marble actions, objects should seize to exist just due to your
 own direct statements.
 
 To gain access to an object later on a subsequent call you can address it via
@@ -2972,14 +2972,14 @@
 @node Object Naming
 @subsection Object Naming
 
-For addressing objects on a longterm valid basis every object can individually
+For addressing objects on a long term valid basis every object can individually
 be tagged by a name. Assigning a name to an object is as simple as setting
 the attribute @samp{name} with a unique string on this object. Of course you
 can request an objects name by reading the attribute @samp{name}.
 
 The name is a string that should be made up of characters @samp{a..z},
 @samp{A..Z}, numbers @samp{0..9} and the underscore @samp{_}. Other special
-charcters are only allowed as far as they are explained in the following text.
+characters are only allowed as far as they are explained in the following text.
 
 @cindex auto naming
 It is up to you to ensure unique names. Reusage of an already assigned name
@@ -2998,13 +2998,13 @@
 
 As you can auto name groups of objects you are allowed to use the wildcard
 characters @samp{?} and @samp{*}. The question mark replaces a single
-arbitrary character, the asterix any number of arbitrary characters. E.g.
+arbitrary character, the asterisk any number of arbitrary characters. E.g.
 @samp{no["mydoor#*"]} retrieves all auto named @samp{mydoor} objects in a single
 object group.
 
 Many object attributes like @samp{target}, @samp{destination} need object
 references to other objects. Besides a volatile @ref{Object Reference} you always
-can provide a name string as a longterm valid object reference. If the attribute
+can provide a name string as a long term valid object reference. If the attribute
 allows several objects to be given you can either give a group of object
 references, a table of object names or a object name with wildcards. Thus
 the string @samp{"mydoor#*"} is a valid target.
@@ -3024,7 +3024,7 @@
 Every floppy switch will target the nearest blocker door. If two targets are
 given within the same distance the one located in the south will win. If the
 targets are additionally horizontally aligned the one located in east will win.
-In the rare case of objects located on the same position stones will preceed
+In the rare case of objects located on the same position stones will precede
 items, floors and actors. The chosen target or destination depends just on the
 location of these objects and their type, but nothing else. Thus you can rely
 on a stable selection mechanism. @ref{Nearest Object Clustering} may help you in
@@ -3052,12 +3052,12 @@
 stone may shrink to a blocker item. This means that the kind of the objects
 will change. But in many cases this means that the volatile object reference
 will brake, too. For the sake of the level authors the identity of the object
-will be transfered even if the reference gets invalid. And like the user
+will be transferred even if the reference gets invalid. And like the user
 attributes the name is part of the object identity. Thus if you name an
 @ref{st_blocker} and it it shrinks to an @ref{it_blocker} you will retrieve this
 item if you ask the name object repository for the named object.
 
-When an object like a door is completly killed, e.g. by an @ref{it_seed},
+When an object like a door is completely killed, e.g. by an @ref{it_seed},
 it can no longer be targeted by active objects like switches. A still existing
 reference to a no longer existing object does not cause problems on
 @ref{Messages}. But what about the nearest object references? To avoid problems
@@ -3146,7 +3146,7 @@
 @samp{nil}. @samp{DEFAULT} will never be returned by the engine.
 
 A group is an ordered set of @ref{Object Reference}s. As all contained objects
-must exist this value is seldomly used for attributes in object declarations.
+must exist this value is seldom used for attributes in object declarations.
 But is is very useful for postprocessing of objects and for usage within
 @ref{Callback Function}s.
 
@@ -3179,7 +3179,7 @@
 switch or trigger, as an argument. If you attach the same function to number of
 senders you can store the necessary context information within the sender.
 
-The internal engine uses object attributes as well. Such unaccessable attributes
+The internal engine uses object attributes as well. Such inaccessible attributes
 are named with a leading dollar sign @samp{$}. They may appear in the documentation
 for C++ developers information. Level authors should ignore these attributes.
 
@@ -3204,7 +3204,7 @@
 @section Methods of Interaction
 
 Having looked at the description of the initial object composition of a
-level world we still need to undestand how to configure the dynamic behaviour
+level world we still need to understand how to configure the dynamic behaviour
 of a level.
 
 @menu
@@ -3243,7 +3243,7 @@
 You can send any message to any object. Not supported messages are silently
 ignored. This is the reason that an exploding dynamite can send @samp{ignite}
 messages to its neighbours without knowing if the objects can be ignited at all.
-Furtheron the dynamite has not to bother with the recipients of the messages.
+Further on the dynamite has not to bother with the recipients of the messages.
 Due to messages the sender and the receiver objects are totally decoupled
 concerning the code base. Thus the level author just needs one method that
 allows sending arbitrary messages to arbitrary objects.
@@ -3264,7 +3264,7 @@
 you to easily plug together objects. One object is triggered by a function
 call or by an event like an actor hitting a stone, crossing over or applying an
 item. You simply plug this object to another target object and tell it to send
-an action message. Everytime the first object is triggered it will send the
+an action message. Every time the first object is triggered it will send the
 message to its target.
 
 You configure such a target action by setting the attributes @samp{target}
@@ -3311,7 +3311,7 @@
 
 The message @ref{signal} takes an integer value of @samp{0} or @samp{1}.
 Indeed the action value does not match. But in this as in many other cases
-the messages and values are designed in a way that they are autoconverted to
+the messages and values are designed in a way that they are automatically converted to
 the appropriated type. This compatibility is the basis for a seamless plugging
 of objects.
 
@@ -3406,10 +3406,10 @@
 are the very simple state machines of these objects. Most objects are described
 by simple machines with just 2 states like @samp{ON}, at samp{OFF} or @samp{OPEN},
 @samp{CLOSED}. These objects can be plugged together by just few common messages.
-Furtheron these simple state machines are suited to the gamers who do not want
+Further on these simple state machines are suited to the gamers who do not want
 to read manuals but want to explore the objects by playing with just a few tests.
 
-Even though states are usally named by appropriate uppercase names like above,
+Even though states are usually named by appropriate uppercase names like above,
 the states are integer numbers starting with @samp{0} usually related to the
 default state. But some objects use another mapping due to historic reasons.
 E.g. states that are direction related use the state @samp{3} representing
@@ -3417,7 +3417,7 @@
 @samp{0} representing @samp{WEST}.
 
 In most cases it is sufficient to perform a state independent common action
-like @ref{toggle}. Even two stated objects can be easily sychronized by the
+like @ref{toggle}. Even two stated objects can be easily synchronized by the
 standard action @ref{signal}. But sometimes you may want to perform very state
 specific actions. Let us look how this can be done.
 
@@ -3536,7 +3536,7 @@
 
 A laser that is initially on that illuminates a laserswitch needs an initially
 active laserswitch. But of course no attribute exists that would allow you to
-set a laserwitch active. The snapshot principle includes the rule that all
+set a laserswitch active. The snapshot principle includes the rule that all
 internal states are updated without external actions. This means that the
 laserswitch will show up active without causing an action on its target.
 
@@ -3551,7 +3551,7 @@
 a hammer that will transform on any subsequent new laser light during the game.
 
 Of course it cannot be allowed to describe impossible initial level states.
-Objects like dynamite do explode immediatly on a laser beam hit. Thus a
+Objects like dynamite do explode immediately on a laser beam hit. Thus a
 dynamite item in an initial laser beam is a fault that causes an exception.
 The snapshot principle forces you in this case to set an explosion item instead
 of the dynamite.
@@ -3562,7 +3562,7 @@
 of @samp{_new}. These objects can be used in the initial level description to
 set objects in special initial states. E.g. @ref{it_blocker} provides such a
 special subkind. Note that these objects will never report their initial
-subkind on a kind request as they come into existance as a standard object.
+subkind on a kind request as they come into existence as a standard object.
 
 
 @node Level Initialization
@@ -3584,7 +3584,7 @@
 Even though the successor object may have other attributes, some attributes and
 especially any user attributes should be maintained. In fact the objects name,
 its target and action attributes and all attributes starting with an underscore
- at samp{_}, the user attributes, are transfered to the successor object. Thus you
+ at samp{_}, the user attributes, are transferred to the successor object. Thus you
 can rely on the successor to message the same target and you can it access it
 via its old name.
 
@@ -3604,7 +3604,7 @@
 
 Thus for every named floor that gets killed its position is stored in a
 repository under its name. You just need to retrieve the named positions
-instead of the named objectes if you want to get all affected floor positions.
+instead of the named objects if you want to get all affected floor positions.
 
 @example
 ti["~"] = @{"fl_water", "water#"@}
@@ -3651,7 +3651,7 @@
 
 After the examples and a short overview we do give details of the language
 specific API part as you can expect it for a reference manual. Please note
-that additional @ref{Advanced Features} are described in a seperate chapter.
+that additional @ref{Advanced Features} are described in a separate chapter.
 
 Until this chapter is finished please read the API Concept Draft, too!
 
@@ -3677,7 +3677,7 @@
 @section Basic Lua Examples
 
 Let us look at two basic onescreener levels, that make use of all basic
-techniques. While the first level is a little bit artifical, as it is designed
+techniques. While the first level is a little bit artificial, as it is designed
 for demo purposes only, the second one is a quite dynamic real level out of
 the Enigma levelpacks.
 
@@ -3690,7 +3690,7 @@
 @node Basic Example
 @subsection Basic Example
 
-Let us view the sourcecode. We did add a line count in the first two columns
+Let us view the source code. We did add a line count in the first two columns
 for reference purpose within this section. These line count number are not part
 of the source code itself!
 
@@ -3788,7 +3788,7 @@
 
 You need to declare the level to be compatible to Enigma 1.10 or higher for
 the new API 2 as described in this reference manual. A value less than 1.10
-indicates compatiblity to a previous Enigma release that did use the old API 1,
+indicates compatibility to a previous Enigma release that did use the old API 1,
 which should not be mixed up with the new API 2.
 
 The Lua part starts with line 15:
@@ -3803,7 +3803,7 @@
 an attribute by providing the desired attribute name in square brackets. As we
 give a literal attribute name, we have to put it in double quotes @samp{"}. In
 total this line requests the world to resurrect a killed actor as long as there
-are enough extralifes to conserve the running level (@pxref{ConserveLevel}).
+are enough extra lifes to conserve the running level (@pxref{ConserveLevel}).
 In fact @samp{true} is the default value. So we could have left this line out.
 But remember it is a demo level.
 
@@ -3829,7 +3829,7 @@
 The assigned object definition are given as Lua anonymous tables, the curly braces,
 containing in the most simple case just the desired @ref{Object Kind}. As it
 is again a literal string, it has to be quoted. Without any further specification
-the objects are taken in their default configuaration as described in
+the objects are taken in their default configuration as described in
 @ref{Floor Objects} and following chapters.
 
 @example
@@ -3852,7 +3852,7 @@
 The @ref{it_trigger} sets up a @ref{Target - Action}, the target being our
 polarswitch. The action attribute is omitted. It defaults to the message
 @samp{toggle}. Thus any actor or stone on top of the trigger makes the
-polarswitch transparent, but switches it back to intransparency when leaving
+polarswitch transparent, but switches it back to opacity when leaving
 the trigger.
 
 @example
@@ -3890,7 +3890,7 @@
 The switch needs to list all these objects as its targets. This is done by
 an embedded anonymous table given by the curly braces and comma separated
 values. The first one is our door's name, the second one is a wildcarded string
-that describes all our blocker objects. The asterix stands for any suffix
+that describes all our blocker objects. The asterisk stands for any suffix
 that may have been added behind the hash in the process of autonaming of our
 blockers.
 
@@ -3914,7 +3914,7 @@
 @end example
 
 Another object group is an @ref{st_turnstile} cluster with one arm disconnected.
-The first two definitions are straight forward. But in line 42 we preceed the
+The first two definitions are straight forward. But in line 42 we precede the
 arm's definition by another tile reference. It is the abyss tile defined in
 line 19. By concatenation, the two dots @b{..}, of a tile and a object
 definition we can define a new that is composed of both objects. In this case
@@ -3933,7 +3933,7 @@
 level. This can be done by usage of the @ref{checkerboard} attribute. Again
 we concatenate two object definitions for a single tile. Both are floors. That
 means for each grid position we try to set both floor types, but just one meets
-the checkboard condition and will be set.
+the checkerboard condition and will be set.
 
 Please notice that we did convert one one the floor object definitions to a tile
 definition by the function call @samp{ti()}. This is necessary as Lua does not
@@ -3946,7 +3946,7 @@
 
 Finally we do need our marble. Unlike other objects it can be positioned
 anywhere within a grid. The most common position is the center of the grid.
-This is simply done by preceeding the actor's kind by a hash sign @samp{#}.
+This is simply done by preceding the actor's kind by a hash sign @samp{#}.
 
 @example
 48    if @i{wo}["@b{IsDifficult}"] then
@@ -3957,7 +3957,7 @@
 @end example
 
 We encourage every level author to provide an easy mode for the levels. This
-is an example how to define mode dependant tiles. Like in line 16 we access
+is an example how to define mode dependent tiles. Like in line 16 we access
 a world attribute. But this time it is a read access of @ref{IsDifficult}.
 In easy mode we want a @ref{it_strip} on top of water floor that allows the
 marble to pass and press the trigger. In difficult mode the there should be
@@ -3988,7 +3988,7 @@
 floor. The third argument is the map as a table of strings, one for every line.
 
 The world initialization returns the width and height of our world which are
-calcluated by the maps size.
+calculated by the maps size.
 
 @example
 70    @i{wo}:@b{shuffleOxyd}()
@@ -4004,7 +4004,7 @@
 @subsection Colored Turnstiles
 
 As this level is part of the Enigma levelpacks we recommend that you play
-the level first to get familar with the used objects and their behaviour.
+the level first to get familiar with the used objects and their behaviour.
 
 Now let us look at the essential Lua source code part of the level to understand
 how such an idea can be realized with the new API
@@ -4068,7 +4068,7 @@
 on the targets. Here the author makes clever usage of multitargets and
 multiactions as described in @ref{Target - Action}. On every turn of a red
 turnstile all objects named @samp{red#*}, that are all our blockers on a red
-floor, will be send a message @samp{open}, whereas all blockes on a green floor,
+floor, will be send a message @samp{open}, whereas all blocks on a green floor,
 the second target group, receives the second action message @samp{close}. It is
 essential to choose the @samp{open}, @samp{close} messages instead of
 @samp{toggle}, as more than one red turnstile may be turned in sequence, but
@@ -4085,7 +4085,7 @@
 @section API 2 Overview
 
 Having analysed a first level it is time get an overview of the API 2
-capabilities. Let us take a task driven appoach by listing the different
+capabilities. Let us take a task driven approach by listing the different
 possibilities and use cases by example.
 
 @menu
@@ -4113,7 +4113,7 @@
 @item @b{position:}@ @ @xref{Position}
 A position within the world that can be described by an x and y coordinate.
 @item @b{object:}@ @ @xref{Object}
-An Enimga object like a stone, item, floor, other. Any object is a position, too.
+An Enigma object like a stone, item, floor, other. Any object is a position, too.
 @item @b{group:}@ @ @xref{Group}
 A list of objects.
 @item @b{namedobjects:} @i{preset variable:} @code{@b{no}}; @ @ @xref{NamedObjects}
@@ -4128,7 +4128,7 @@
 The singleton type of the repository of all tile instances.
 @item @b{world:} @i{preset variable:} @code{@b{wo}}; @ @ @xref{World}
 The singleton type of the world that contains all objects.
- at item @b{positon list:}@ @ @xref{Named Positions}
+ at item @b{position list:}@ @ @xref{Named Positions}
 A list of positions.
 @end table
 @end table
@@ -4158,7 +4158,7 @@
 @var{pos} = @var{obj}              -- every object is a valid position
 @var{pos} = @i{po}(@var{12.3}, @var{3.7})    -- a position within a grid (for an actor)
 @end example
-Absolut positions are created by the function @samp{po()}. But the most common
+Absolute positions are created by the function @samp{po()}. But the most common
 way should be the reinterpretation of an object as a position. This lets you
 set other objects relatively to given ones.
 
@@ -4242,7 +4242,7 @@
 @var{obj}:@b{set}(@{@b{target}=@var{mydoor}, @b{action}="@b{open}"@})
 @end example
 You can set multiple attributes on any object at once with the objects @samp{set()}
-method. The arguement is an anonymous Lua table with the attribute names as keys
+method. The argument is an anonymous Lua table with the attribute names as keys
 and assigned values of your choice.
 
 @item @b{Requesting Attributes:}
@@ -4276,7 +4276,7 @@
 @i{wo}[#@var{pos}] = @{"@b{ac_bug}"@}              -- actor centered on grid pos
 @i{wo}[@var{pos}]  = @{"#@b{ac_bug}"@}             -- actor centered on grid pos
 @i{wo}[@var{pos}]  = @{"@b{ac_bug}", @var{0.3}, @var{0.7}@}    -- actor with offsets to pos
- at i{wo}[@var{my_floor}] = @{"@b{it_magicwand}"@}    -- set an wand on top of a given foor object
+ at i{wo}[@var{my_floor}] = @{"@b{it_magicwand}"@}    -- set an wand on top of a given floor object
 @i{wo}[@var{pos}]  = @i{ti}["@var{x}"]                 -- tile based object definition
 @end example
 Besides map based object creation, that you saw in the previous basic examples,
@@ -4296,7 +4296,7 @@
 named object repository @samp{no} to the name as the key. But most times you
 just supply the objects name as an object attribute. If you supply the name
 attribute as the @b{second} value in the anonymous table you can omit the
-key @samp{name =} part as a common abreviation.
+key @samp{name =} part as a common abbreviation.
 
 @item @b{Object Autonaming:}
 @example
@@ -4353,7 +4353,7 @@
 Object references may get invalid due to objects being killed. In most cases
 this no problem as requests to invalid objects will simply be ignored. But if
 the level logic depends on the existence of an object you can call the
- at samp{exists()} method or simply preceed the reference by the unary minus
+ at samp{exists()} method or simply precede the reference by the unary minus
 @samp{-} operator. Both ways return a simple bool value stating if the object
 reference is still valid.
 
@@ -4396,7 +4396,7 @@
 @end example
 
 Requesting objects from the named object repository will result in a group of
-objects if you make proper usage of wildcards. Appending an asterix @samp{*}
+objects if you make proper usage of wildcards. Appending an asterisk @samp{*}
 to the autonaming hash will retrieve all objects that have been set with this
 name suffix. But you can create a group by the @samp{grp} function, too. Simply
 add the desired object reference as arguments, either single or as a table.
@@ -4516,7 +4516,7 @@
 The position of any named object can be directly retrieved. The position is
 still accessible under the name, when the object gets killed. You can
 additionally name own positions. Note that the position of an existing object
-preceeds a position stored under the same name.
+precedes a position stored under the same name.
 
 @item @b{Creating Position Lists:}
 @example
@@ -4560,7 +4560,7 @@
 
 Now it is time to reveal the real power of the new API. Let us look again at
 two real levels. Investigate the levels first by playing and then join
-in the line by line commentation of the source code to understand how to
+in the line by line commentary of the source code to understand how to
 implement your own level ideas.
 
 @menu
@@ -4680,7 +4680,7 @@
 05    @i{ti}["@var{ }"] = @{"@b{fl-abyss_fake}"@} .. @i{ti}(@{"@b{st-glass1}"@})
 32    @i{wo}(@i{ti}, "@var{ }", @{
 @end example
-The unaccessible areas are filled with a transparent glass on top of a black
+The inaccessible areas are filled with a transparent glass on top of a black
 floor as defined in line 5. The world initialization uses this tile definition
 as the default tile. This is o.k. as it contains a floor definition. Additional
 objects like the glass stone will never be set on default usage.
@@ -4691,7 +4691,7 @@
 09    @i{ti}["@var{#}"] = @{"@b{fl_redslab}", "@var{red#}", @var{_color}="@var{red}"@}
 10    @i{ti}["@var{$}"] = @{"@b{fl_lawn_b}", "@var{green#}", @var{_color}="@var{green}"@}
 @end example
-Every floor object is autonamed for later group access purposes. Additinally
+Every floor object is autonamed for later group access purposes. Additionally
 every floor objects sets a user attribute prefixed in its name by an underscore
 @samp{_}. This attribute stores a string that we need later on in the callback
 function.
@@ -4707,7 +4707,7 @@
 @end example
 The actors moves are detected by invisible @ref{it_sensor}s that are positioned
 on any intersection. The target is the @ref{Callback Function} @samp{gates}.
-The action can be ommited as the function name is a unique target.
+The action can be omitted as the function name is a unique target.
 
 @example
 66    @var{last} = @b{it}(@i{no}["@var{me}"])   -- the last visited sensor
@@ -4780,7 +4780,7 @@
 On the first 3 moves we just do close doors and remember the color sequence.
 But starting with the 4th move we need to open the next color in sequence.
 We do retrieve the color string of the next color from the sequence table by
-a simple modulo calulation. Having the color name we do the same trick as in
+a simple modulo calculation. Having the color name we do the same trick as in
 line 75. But this time we do send the @samp{open} messages to all affected doors.
 
 @example
@@ -4975,7 +4975,7 @@
 @end example
 And now we cluster the border panels. First we need to decide where to put
 panels at all. The positions marked @samp{#} in the map are for sure.
-Additionally we choose randomly every 4th @samp{_} postition to be a panel
+Additionally we choose randomly every 4th @samp{_} position to be a panel
 instead of being a water floor. Finally we replace just in difficult mode
 the switch marked as @samp{S} by a panel stone. Now we need to assign to this
 grid position one of the two panel cluster tiles. We simply generate a random
@@ -5059,10 +5059,10 @@
 68    end
 @end example
 Now we wire these remaining 9 stones in sequence, in a closed circle. That gives
-each stone 2 additinal wires. We do this by connecting each of the stones 4 to
+each stone 2 additional wires. We do this by connecting each of the stones 4 to
 11 with is successor and finally connecting stone 12 to stone 4, what is done
 by the modulo operation. This completes the level for the regular mode.
-As prepartion for the easy mode we do autoname these additional wires.
+As preparation for the easy mode we do autoname these additional wires.
 
 @example
 71    function @var{easy_mode_call}(@var{is_on}, @var{sender})
@@ -5393,7 +5393,7 @@
 
 All active objects react on being triggered by performing an action on their
 targets. This attribute is part of the @ref{Target - Action} paradigm that
-guarantees pluggability of objects. You can either set a general @samp{target}
+guarantees plugability of objects. You can either set a general @samp{target}
 attribute for an object, or you can set @ref{state} dependent attributes
 @samp{target_0}, @samp{target_1},... (@pxref{Object State}). They all have the
 same syntax:
@@ -5420,7 +5420,7 @@
 
 All active objects react on being triggered by performing an action on their
 targets. This attribute is part of the @ref{Target - Action} paradigm that
-guarantees pluggability of objects. You can either set a general @samp{action}
+guarantees plugability of objects. You can either set a general @samp{action}
 attribute for an object, or you can set @ref{state} dependent attributes
 @samp{action_0}, @samp{action_1},... (@pxref{Object State}). They all have the
 same syntax:
@@ -5472,7 +5472,7 @@
 @node inverse
 @subsection inverse
 
-An attribute that requests an invertion of the action value. It is supported by
+An attribute that requests an inversion of the action value. It is supported by
 all objects with boolean action values.
 
 Note that this attribute is not listed in the individual object description
@@ -5485,8 +5485,8 @@
 @item @b{Access:} @ @ read/write
 @item @b{Support:} @ @ by most objects
 All objects with boolean action values will support this attribute. Additionally
-some objects with other invertable action value types like directions will
-support the invertion of their attributes as stated in the individual object
+some objects with other invertible action value types like directions will
+support the inversion of their attributes as stated in the individual object
 descriptions.
 @end table
 
@@ -5529,7 +5529,7 @@
 
 An attribute that describes the decelerating friction force on actors that are
 on the floor. The friction force increases with the speed of the actor and
-is decelarating for positive friction values. But friction can be set to
+is decelerating for positive friction values. But friction can be set to
 negative values as well what generates an accelerating force that is very
 difficult to control for the player.
 
@@ -5548,7 +5548,7 @@
 @node adhesion
 @subsection adhesion
 
-An attribute that describes the adhesion that allows an actor to accelarate on
+An attribute that describes the adhesion that allows an actor to accelerate on
 a floor. Greater adhesion leads to more accelerating force at the same given
 mouse speed. Adhesion can be set to negative values as well what generates an
 accelerating force in the inverse direction of the mouse movement which is a
@@ -5574,7 +5574,7 @@
 that this object will only be set on grid positions with an even sum of
 @code{x + y} grid coordinates, where as a value of @samp{1} assures that the
 sum must be uneven. This way you can easily provide two different object
-declarations for a tile to generate an arbitrarily chaped map of checkerboard
+declarations for a tile to generate an arbitrarily shaped map of checkerboard
 floors, items or stones.
 
 @table @asis
@@ -5757,7 +5757,7 @@
 @node kill
 @subsection kill
 
-This message causes the receipent to cease to exist. You are just allowed to
+This message causes the recipient to cease to exist. You are just allowed to
 kill objects that are directly part of the world. Objects owned by players,
 being content part of a bag or otherwise owned by another object will refuse
 this message on behalf of their owner.
@@ -6152,7 +6152,7 @@
 @ref{it_extralife}s in the gamer's inventory.
 
 If @code{true}, dead actors attached to a player will be resurrected as long as
-extralives are available. If a player has no living actor to control or is
+extralifes are available. If a player has no living actor to control or is
 missing the actor's @ref{essential} constraints, the player is
 dead. The level may still continue if a second player is alive. If the gamer has
 an @ref{it_yinyang} in his inventory in single user mode, the control switches
@@ -6160,7 +6160,7 @@
 
 If the conserve mode is @code{false}, no actors will be resurrected. As soon as
 the player is dead and the control cannot switch to another player, all dead
-actors are resurrected by using extralives, and the level is restarted without
+actors are resurrected by using extralifes, and the level is restarted without
 finishing the level game.
 
 Use @code{false} if the level can either be not solved in case of resurrected
@@ -6184,7 +6184,7 @@
 a small visible cracks. A value of @code{1.0} ensures that the crack spreads to
 the direct neighbors, a value of @code{0.0} prohibits the spreading to neighbor
 grids. Note that even if crack spreading is prohibited, existing cracks on
-neighbor grids may continue desintegrating due to their @ref{Fragility}. For
+neighbor grids may continue disintegrating due to their @ref{Fragility}. For
 more details see @ref{it_crack}.
 
 @table @asis
@@ -6234,7 +6234,7 @@
 @item @b{Type:} @ @ number
 @item @b{Values:} @ @ float number
 @item @b{Default:} @ @ @code{15.0}
-Positve number are attracting, negative numbers are repelling.
+Positive number are attracting, negative numbers are repelling.
 @item @b{Access:} @ @ read/write
 @item @b{Support:} @ @ @ref{Actor Objects}
 @end table
@@ -6243,7 +6243,7 @@
 @subsection ExtralifeGlasses
 
 A global variable that defines the @ref{it_glasses} type that is generated on
-the laser light convertion of an @ref{it_extralife}
+the laser light conversion of an @ref{it_extralife}
 
 @table @asis
 @item @b{Type:} @ @ number
@@ -6330,11 +6330,11 @@
 @subsection Fragility
 
 A global default value denoting the probability that a brittle floor plate, that
-is a floor with an @ref{it_crack} on top, continues to desintegrate on events 
+is a floor with an @ref{it_crack} on top, continues to disintegrate on events 
 like an actor entering, passing a neighboring @ref{it_crack}, nearby explosions
 or fire heating. A value of @code{1.0} ensures that the crack continues to 
-desintegrate on these events, a value of @code{0.0} prohibits visible cracks
-to get larger. This default is superceeded by @ref{fragility (floor)} and
+disintegrates on these events, a value of @code{0.0} prohibits visible cracks
+to get larger. This default is superseded by @ref{fragility (floor)} and
 @ref{it_crack} specific values.
 
 @table @asis
@@ -6378,7 +6378,7 @@
 @node IsDifficult
 @subsection IsDifficult
 
-A global read only variable that defines the current diffculty mode selected
+A global read only variable that defines the current difficulty mode selected
 by the user. All differences of easy and difficult mode within the level should
 be coded solely in dependence of this flag. If a level that supports an easy
 mode the author needs to declare it in the XML header in the element
@@ -6417,7 +6417,7 @@
 @item @b{Type:} @ @ number
 @item @b{Values:} @ @ float number
 @item @b{Default:} @ @ @code{30.0}
-Positve number are attracting, negative numbers are repelling.
+Positive number are attracting, negative numbers are repelling.
 @item @b{Access:} @ @ read/write
 @item @b{Support:} @ @ @ref{it_magnet}
 @end table
@@ -6537,8 +6537,8 @@
 @table @asis
 @item @b{Type:} @ @ number or @code{nil}
 @item @b{Values:} @ @ positive float number or zero or @code{nil}
-Sink time in seconds or @samp{nil} for an inifinite time aka not sinking. Time
-values smaller than appr. 0.7 ms will be rounded down to 0 ms.
+Sink time in seconds or @samp{nil} for an infinite time aka not sinking. Time
+values smaller than approximately 0.7 ms will be rounded down to 0 ms.
 @item @b{Default:} @ @ @code{1.75}
 @item @b{Access:} @ @ read/write
 @item @b{Support:} @ @ @ref{fl_swamp}
@@ -6552,8 +6552,8 @@
 @table @asis
 @item @b{Type:} @ @ number or @code{nil}
 @item @b{Values:} @ @ positive float number or zero or @code{nil}
-Sink time in seconds or @samp{nil} for an inifinite time aka not sinking. Time
-values smaller than appr. 0.7 ms will be rounded down to 0 ms.
+Sink time in seconds or @samp{nil} for an infinite time aka not sinking. Time
+values smaller than approximately 0.7 ms will be rounded down to 0 ms.
 @item @b{Default:} @ @ @code{0.0}
 @item @b{Access:} @ @ read/write
 @item @b{Support:} @ @ @ref{fl_water}
@@ -6568,7 +6568,7 @@
 
 @table @asis
 @item @b{Type:} @ @ number
- at item @b{Values:} @ @ positiv integer number
+ at item @b{Values:} @ @ positive integer number
 @item @b{Default:} @ @ @code{?}
 @item @b{Access:} @ @ read only
 @item @b{Support:} @ @ object independent
@@ -6621,6 +6621,80 @@
 @node Floor Overview
 @section Floor Overview
 
+ at c todo: generate images in local directory.
+ at c ( rotate image only if portrait: convert -rotate "90>" filename )
+ at c   cut images which are not square (i.e. reduce to single tile)
+ at c   adjust dpi for pdf (see images/Makefile): convert -density 112x112 $< $@
+ at c   cropping: convert -crop 48x48+0+0 filename
+ at c -> Makefile?
+
+ at c wie werden die framed-varianten erzeugt?
+ at c allg: wie werden / wurden die tiles erzeugt?
+
+ at c - distribute images with documentation
+
+ at c Macro for pdf(tex) and html reference
+ at macro yref {name}
+ at c @image{images/\name\} @tab
+ at ifhtml
+ at ref{\name\} 
+ at end ifhtml
+ at iftex
+\name\
+ at end iftex
+ at end macro
+ at c
+ at multitable @columnfractions .08 .25 .08 .25 .09 .25
+ at item @image{images/fl_abyss} @tab @yref{fl_abyss}
+ at tab @image{images/fl_adhesionless} @tab @yref{fl_adhesionless}
+ at tab @image{images/fl_aquamarine} @tab @yref{fl_aquamarine}
+ at item @image{images/fl_bast} @tab @yref{fl_bast}
+ at tab @image{images/fl_bluegray} @tab @yref{fl_bluegray}
+ at tab @image{images/fl_bluegreen} @tab @yref{fl_bluegreen}
+ at item @image{images/fl_blueslab} @tab @yref{fl_blueslab}
+ at tab @image{images/fl_brick} @tab @yref{fl_brick}
+ at tab @image{images/fl_bright} @tab @yref{fl_bright}
+ at item @image{images/fl_concrete} @tab @yref{fl_concrete}
+ at tab @image{images/fl_darkgray} @tab @yref{fl_darkgray}
+ at tab @image{images/fl_dark} @tab @yref{fl_dark}
+ at item @image{images/fl_dunes} @tab @yref{fl_dunes}
+ at tab @image{images/fl_fake_trigger} @tab @yref{fl_fake_trigger}
+ at tab @image{images/fl_gravel} @tab @yref{fl_gravel}
+ at item @image{images/fl_gray} @tab @yref{fl_gray}
+ at tab @image{images/fl_hay} @tab @yref{fl_hay}
+ at tab @image{images/fl_himalaya} @tab @yref{fl_himalaya}
+ at item @image{images/fl_ice_heating} @tab @yref{fl_ice_heating}
+ at tab @image{images/fl_ice} @tab @yref{fl_ice}
+ at tab @image{images/fl_inverse_gray} @tab @yref{fl_inverse_gray}
+ at item @image{images/fl_inverse_white} @tab @yref{fl_inverse_white}
+ at tab @image{images/fl_ivory} @tab @yref{fl_ivory}
+ at tab @image{images/fl_lawn} @tab @yref{fl_lawn}
+ at item @image{images/fl_marble} @tab @yref{fl_marble}
+ at tab @image{images/fl_metal} @tab @yref{fl_metal}
+ at tab @image{images/fl_mortar} @tab @yref{fl_mortar}
+ at item @image{images/fl_pinkbumps} @tab @yref{fl_pinkbumps}
+ at tab @image{images/fl_plank} @tab @yref{fl_plank}
+ at tab @image{images/fl_platinum} @tab @yref{fl_platinum}
+ at item @image{images/fl_red} @tab @yref{fl_red}
+ at tab @image{images/fl_redslab} @tab @yref{fl_redslab}
+ at tab @image{images/fl_rock} @tab @yref{fl_rock}
+ at item @image{images/fl_rough} @tab @yref{fl_rough}
+ at tab @image{images/fl_sahara} @tab @yref{fl_sahara}
+ at tab @image{images/fl_samba} @tab @yref{fl_samba}
+ at item @image{images/fl_sand} @tab @yref{fl_sand}
+ at tab @image{images/fl_space} @tab @yref{fl_space}
+ at tab @image{images/fl_stone} @tab @yref{fl_stone}
+ at item @image{images/fl_swamp_heating} @tab @yref{fl_swamp_heating}
+ at tab @image{images/fl_swamp} @tab @yref{fl_swamp}
+ at tab @image{images/fl_tigris} @tab @yref{fl_tigris}
+ at item @image{images/fl_water_heating} @tab @yref{fl_water_heating}
+ at tab @image{images/fl_water} @tab @yref{fl_water}
+ at tab @image{images/fl_white} @tab @yref{fl_white}
+ at item @image{images/fl_woven} @tab @yref{fl_woven}
+ at tab @image{images/fl_yinyang_yang} @tab @yref{fl_yinyang_yang}
+ at tab @image{images/fl_yinyang_yin} @tab @yref{fl_yinyang_yin}
+ at end multitable
+
 @c ----------------- Floor Attributes --------------------
 @node Floor Attributes
 @section Floor Attributes
@@ -6653,7 +6727,7 @@
 
 The responsiveness of an actor on mouse movements. It is a scalar factor to
 the accelerating force applied to an actor. Note that the actor itself
-has another scalar @ref{adhesion (actor)} factor. The adhesion may take negativ
+has another scalar @ref{adhesion (actor)} factor. The adhesion may take negative
 values, too. Such values correspond to inverse forces.
 
 @table @asis
@@ -6696,7 +6770,7 @@
 Describes if a floor is framed. 
 
 Currently a floor is either not framed at all or framed on all sides. The frame
-attribute can not be direclty accessed and modified on most floors. Append the
+attribute can not be directly accessed and modified on most floors. Append the
 string @code{"_framed"} to a given floor name to yield the all side framed
 variant.
 
@@ -6907,6 +6981,7 @@
 @item @b{Access:} @ @ currently none - just by variants kind string on some floors
 @end table
 
+>>>>>>> .r1644
 @c ----------------- Standard Floor --------------------
 @node Standard Floors
 @section Standard Floors
@@ -6963,7 +7038,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_adhesionless}
+ at item @image{images/fl_adhesionless} @b{fl_adhesionless} 
 @end table
 @end table
 
@@ -6983,8 +7058,8 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_aquamarine}
- at item @b{fl_aquamarine_framed}
+ at item @image{images/fl_aquamarine} @b{fl_aquamarine}
+ at item @b{fl_aquamarine_framed} 
 @end table
 @end table
 
@@ -7004,7 +7079,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_bast}
+ at item @image{images/fl_bast} @b{fl_bast} 
 @item @b{fl_bast_framed}
 @end table
 @end table
@@ -7025,7 +7100,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_bluegray}
+ at item @image{images/fl_bluegray} @b{fl_bluegray}
 @item @b{fl_bluegray_framed}
 @end table
 @end table
@@ -7046,7 +7121,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_bluegreen}
+ at item @image{images/fl_bluegreen} @b{fl_bluegreen}
 @item @b{fl_bluegreen_framed}
 @end table
 @end table
@@ -7068,7 +7143,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_blueslab}
+ at item @image{images/fl_blueslab} @b{fl_blueslab}
 @item @b{fl_blueslab_framed}
 @end table
 @end table
@@ -7089,7 +7164,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_brick}
+ at item @image{images/fl_brick} @b{fl_brick}
 @item @b{fl_brick_framed}
 @end table
 @end table
@@ -7111,7 +7186,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_bright}
+ at item @image{images/fl_bright} @b{fl_bright}
 @item @b{fl_bright_framed}
 @end table
 @end table
@@ -7132,7 +7207,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_concrete}
+ at item @image{images/fl_concrete} @b{fl_concrete}
 @item @b{fl_concrete_framed}
 @end table
 @end table
@@ -7154,7 +7229,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_dark}
+ at item @image{images/fl_dark} @b{fl_dark}
 @item @b{fl_dark_framed}
 @end table
 @end table
@@ -7164,7 +7239,7 @@
 @subsection fl_darkgray
 @obindex fl_darkgray
 
-A medium to drak gray floor.
+A medium to dark gray floor.
 
 @table @asis
 @item @b{Attributes:}
@@ -7175,7 +7250,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_darkgray}
+ at item @image{images/fl_darkgray} @b{fl_darkgray}
 @item @b{fl_darkgray_framed}
 @end table
 @end table
@@ -7196,7 +7271,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_dunes}
+ at item @image{images/fl_dunes} @b{fl_dunes}
 @item @b{fl_dunes_framed}
 @end table
 @end table
@@ -7217,7 +7292,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_gravel}
+ at item @image{images/fl_gravel} @b{fl_gravel}
 @item @b{fl_gravel_framed}
 @end table
 @end table
@@ -7238,7 +7313,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_gray}
+ at item @image{images/fl_gray} @b{fl_gray}
 @item @b{fl_gray_framed}
 @end table
 @end table
@@ -7259,7 +7334,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_himalaya}
+ at item @image{images/fl_himalaya} @b{fl_himalaya}
 @item @b{fl_himalaya_framed}
 @end table
 @end table
@@ -7280,7 +7355,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_ivory}
+ at item @image{images/fl_ivory} @b{fl_ivory}
 @item @b{fl_ivory_framed}
 @end table
 @end table
@@ -7336,7 +7411,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_marble}
+ at item @image{images/fl_marble} @b{fl_marble}
 @item @b{fl_marble_framed}
 @end table
 @end table
@@ -7394,7 +7469,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_mortar}
+ at item @image{images/fl_mortar} @b{fl_mortar}
 @item @b{fl_mortar_framed}
 @end table
 @end table
@@ -7415,7 +7490,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_pinkbumps}
+ at item @image{images/fl_pinkbumps} @b{fl_pinkbumps}
 @item @b{fl_pinkbumps_framed}
 @end table
 @end table
@@ -7436,7 +7511,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_plank}
+ at item @image{images/fl_plank} @b{fl_plank}
 @item @b{fl_plank_framed}
 @end table
 @end table
@@ -7457,7 +7532,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_platinum}
+ at item @image{images/fl_platinum} @b{fl_platinum}
 @item @b{fl_platinum_framed}
 @end table
 @end table
@@ -7478,7 +7553,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_red}
+ at item @image{images/fl_red} @b{fl_red}
 @item @b{fl_red_framed}
 @end table
 @end table
@@ -7500,7 +7575,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_redslab}
+ at item @image{images/fl_redslab} @b{fl_redslab}
 @item @b{fl_redslab_framed}
 @end table
 @end table
@@ -7521,7 +7596,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_rough}
+ at item @image{images/fl_rough} @b{fl_rough}
 @item @b{fl_rough_framed}
 @end table
 @end table
@@ -7542,7 +7617,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_sahara}
+ at item @image{images/fl_sahara} @b{fl_sahara}
 @item @b{fl_sahara_framed}
 @end table
 @end table
@@ -7590,7 +7665,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_sand}
+ at item @image{images/fl_sand} @b{fl_sand}
 @item @b{fl_sand_framed}
 @end table
 @end table
@@ -7601,7 +7676,7 @@
 @obindex fl_space
 
 Black space with a few sparkling stars. This floor has neither a friction nor
-does it provide an adhesion. All actors do drift for inifinity on this floor
+does it provide an adhesion. All actors do drift for infinity on this floor
 until they reach another floor.
 
 @table @asis
@@ -7633,7 +7708,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_stone}
+ at item @image{images/fl_stone} @b{fl_stone}
 @item @b{fl_stone_framed}
 @end table
 @end table
@@ -7654,7 +7729,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_tigris}
+ at item @image{images/fl_tigris} @b{fl_tigris}
 @item @b{fl_tigris_framed}
 @end table
 @end table
@@ -7675,7 +7750,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_white}
+ at item @image{images/fl_white} @b{fl_white}
 @item @b{fl_white_framed}
 @end table
 @end table
@@ -7696,7 +7771,7 @@
 
 @item @b{Variants:}
 @table @asis
- at item @b{fl_woven}
+ at item @image{images/fl_woven} @b{fl_woven}
 @item @b{fl_woven_framed}
 @end table
 @end table
@@ -7708,10 +7783,10 @@
 @menu
 * fl_abyss::          Deep black Chasm
 * fl_bridge::         Abyss Bridge
-* fl_fake::           Fake mimicing other Floors
+* fl_fake::           Fake mimicking other Floors
 * fl_hay::            Floodable Hay
 * fl_ice::            Slippery frozen water
-* fl_inverse::        Accerate into the inverse direction
+* fl_inverse::        Accelerate into the inverse direction
 * fl_rock::           Floodable Rock Floor
 * fl_slope::          Slopes in various shapes
 * fl_swamp::          Sticky sinkable Floor
@@ -7758,7 +7833,7 @@
 @obindex fl_bridge
 
 A bridge is a variable floor that can be passed when being @code{CLOSED} but
-being unpassable for marbles like @ref{fl_abyss} when being opened. Floor
+being impassable for marbles like @ref{fl_abyss} when being opened. Floor
 bridges come in several flavors. They can be grey or wooden brown, they can
 pop up in the center or emerge from one side. The flavor string is a combination
 of a color character and an emerging direction character. Note that not all
@@ -7769,7 +7844,7 @@
 
 But a unique feature of bridges is to close on a solid stone being pushed onto
 them. Thus stones do not fall into the visible abyss of an opened bridge, but
-can be pushed over them. But as soon as the stone leaves the bridge it openes
+can be pushed over them. But as soon as the stone leaves the bridge it opens
 again. Thus a user will notice the closing and opening bridge on stone pushes.
 
 To be more precise after a stone leaving a bridge, it switches into the state
@@ -7971,15 +8046,15 @@
 @subsection fl_slope
 @obindex fl_slope
 
-A floor suited to build larger hills, gradiented areas, wall brims, staircaises
-or tubes that chanelize actors.
+A floor suited to build larger hills, gradient areas, wall brims, staircases
+or tubes that channelize actors.
 
 Slope floors are basically described by their @samp{slope} and their @samp{shape}.
 The slope is the direction of the force applied to actors on top. The eight
 main directions and @samp{NODIR}, that causes no force to be applied at all, are
 currently supported.
 
-The shape desribes the intended usage, which causes a proper visual
+The shape describes the intended usage, which causes a proper visual
 representation. There are planar slopes falling just into a horizontal or
 vertical direction (@code{"pw"}, @code{"ps"}, @code{"pe"}, @code{"pn"}),
 inner and outer edges falling into a diagonal direction (@code{"inw"},
@@ -8071,7 +8146,7 @@
 
 A swamp is indestructible to the aspect that @ref{it_crack} will not spread
 onto it. But fire starting to burn nearby will dry out the swamp to 
- at ref{fl_dunes}. A swamp itself may be a succesor of a @ref{fl_water} heated by 
+ at ref{fl_dunes}. A swamp itself may be a successor of a @ref{fl_water} heated by 
 a fire.
 
 @table @asis
@@ -8100,7 +8175,7 @@
 
 The item is not directly stolen at the moment of entering the grid. The entering
 itself just causes the thief to emerge from his hiding-place. The thief steals 
-from the actor that did conjur him at the moment of maximum visibility. He takes
+from the actor that did conjure him at the moment of maximum visibility. He takes
 a random item from the owner's inventory. But he just will steal an item if
 the actor is not shielded due to an activated @ref{it_umbrella}.
 
@@ -8271,6 +8346,21 @@
 @node Item Overview
 @section Item Overview
 
+ at multitable @columnfractions .08 .25 .08 .25 .09 .25
+ at item @image{images/it_bag} @tab @yref{it_bag}
+ at tab @image{images/it_pin} @tab @yref{it_pin}
+ at tab @image{images/it_puller} @tab @yref{it_puller}
+ at item @image{images/it_sensor} @tab @yref{it_sensor}
+ at tab @image{images/it_springboard} @tab @yref{it_springboard}
+ at tab @image{images/it_spring_drop} @tab @yref{it_spring_drop}
+ at item @image{images/it_spring_keep} @tab @yref{it_spring_keep}
+ at tab @image{images/it_strip} @tab @yref{it_strip}
+ at tab @image{images/it_surprise} @tab @yref{it_surprise}
+ at item @image{images/it_trap} @tab @yref{it_trap}
+ at tab @image{images/it_weight} @tab @yref{it_weight}
+ at tab @image{images/it_yinyang} @tab @yref{it_yinyang}
+ at end multitable
+
 @c ----------------- Item Attributes --------------------
 @node Item Attributes
 @section Item Attributes
@@ -8369,6 +8459,7 @@
 * it_key::             Lock opening coded Key
 * it_magicwand::       Wizards Tools
 * it_pencil::          Pencil to mark Objects
+* it_pencil::
 * it_pin::             Friction increasing crampon
 * it_pipe::            Pipe for Transmissions
 * it_puller::          Stone pulling item
@@ -8424,7 +8515,7 @@
 
 @item
 If you pick up any item besides a non-empty bag and your first inventory item is
-a bag the item is added to the first inventroy bag (this includes non-empty bags
+a bag the item is added to the first inventory bag (this includes non-empty bags
 being added into first inventory bags!)
 
 @item
@@ -8446,7 +8537,7 @@
 You can add items directly to a bag by usage of the world @ref{add} method.
 
 Bags are used by @ref{st_thief} and @ref{fl_thief} to carry their stolen
-items. When the thiefs are captured by @ref{st_chess} the bag remains on the
+items. When the thieves are captured by @ref{st_chess} the bag remains on the
 grid position filled up with the stolen items.
 
 @table @asis
@@ -8561,7 +8652,7 @@
 occupied by an item. But you can not drop the brake beneath another stone like
 a @ref{it_seed}.
 
-On dropping the brake item it transforms immediatly to an @ref{st_brake} without
+On dropping the brake item it transforms immediately to an @ref{st_brake} without
 killing an item positioned on the grid. The brake stone will press an
 @ref{it_trigger} beneath, what makes the brake item a portable trigger key.
 
@@ -8640,15 +8731,15 @@
 @obindex it_cherry
 
 A magic item that makes the activating actor for 8 seconds invisible. But not
-all actors become insivible. Just the ball like actors @ref{ac_marble} and
+all actors become invisible. Just the ball like actors @ref{ac_marble} and
 @ref{ac_pearl} do vanish. Other actors just drop the cherry on activation.
 
 An invisible actor can walk through most kinds of glass 
 (@pxref{Transparent Stones}) and as being invisible
-they do no longer attrackt hostile @ref{ac_rotor} and @ref{ac_top}.
+they do no longer attract hostile @ref{ac_rotor} and @ref{ac_top}.
 
 When several cherries are activated in sequence each does prolong the actor's
-time of invisiblity by additional 8 seconds.
+time of invisibility by additional 8 seconds.
 
 When a stone is pushed over a cherry an @ref{it_squashed} remains as remnants.
 
@@ -8671,7 +8762,7 @@
 @subsection it_coffee
 @obindex it_coffee
 
-A totally passiv cup of coffee. It can be picked up and be dropped many times.
+A totally passive cup of coffee. It can be picked up and be dropped many times.
 It blocks laser light, prohibits @ref{it_crack} spreading but it burns on fire
 and is blown away on @ref{it_bomb} explosions. 
 
@@ -8957,7 +9048,7 @@
 or indistinguishable.
 
 To be effective glasses must be hold in the top level of a players inventory.
-That means that the glasses must be shown in the inventory and not be burried
+That means that the glasses must be shown in the inventory and not be buried
 in an @ref{it_bag} that is part of the inventory. Of course glasses just help
 those actors that are attached to the player wearing the glasses.
 
@@ -9233,11 +9324,11 @@
 
 A puller item looks like a white arrow. It can be picked up. But when being
 dropped it gets activated and whirls around. The actor should leave the grid
-immediately as the puller will finaly dissolve in a leathal explosion.
+immediately as the puller will finally dissolve in a lethal explosion.
 
 But the main purpose of the puller is its ability to pull stones. The arrow
 @samp{orientation} indicates the direction into which a stone will be pulled
-when the item is dropped in front. The pull takes place immediatly at the end
+when the item is dropped in front. The pull takes place immediately at the end
 of the short explosion. It is a full blown stone pull, that will pull others
 stones connected to the directly affected stone via @ref{ot_wire}, too. With
 the explosion the puller item ceases to exist.
@@ -9323,7 +9414,7 @@
 
 The other attributes describe the force and length parameters of the
 @ref{ot_rubberband}, that will be created on application of the item. In fact
-the item's identity will be transfered to its successor
+the item's identity will be transferred to its successor
 (@pxref{Object Transformation}). After creation of the life rubberband the
 action message will be send to the target. Note that it is actually the
 @ref{ot_rubberband} as the successor that sends the message.
@@ -9339,11 +9430,11 @@
 The force strength.
 @item @b{length} @ @ @i{values}: positive number; @ @ @i{default}: @code{1.0}
 The natural length above which forces are applied.
- at item @b{threshold} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{threshold} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The length smaller than the natural length below which inverted forces are applied.
- at item @b{min} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{min} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The minimum length at which actors bounce.
- at item @b{max} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{max} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The maximum length at which actors bounce.
 @item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
 @item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
@@ -9352,7 +9443,7 @@
 
 @item @b{Messages:} none
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-On succesful activation of this item the action message is send with a value of
+On successful activation of this item the action message is send with a value of
 @samp{true}. Note that the parameter @samp{sender} will report the new
 @ref{ot_rubberband}.
 
@@ -9382,7 +9473,7 @@
 or a stone being pushed on them. You can activate them by @samp{grow} and
 @samp{signal} messages, too.
 
-The identity of the seed gets transfered to the emerging stone including the
+The identity of the seed gets transferred to the emerging stone including the
 attribute @samp{secure}.
 
 The only method of handling seeds without activation are containment within a
@@ -9394,7 +9485,7 @@
 @item @b{flavor}, @ @ @i{values}: @code{"wood"}, @code{"hay"}, @code{"fake"}, @code{"volcano"}; @ @ @i{default}: @code{"wood"}
 The type of the resulting stone.
 @item @b{secure} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
-This attribute is transfered to the resulting stone. The @ref{st_volcano} and
+This attribute is transferred to the resulting stone. The @ref{st_volcano} and
 @ref{st_box} make use of it.
 @item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
 @item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
@@ -9426,7 +9517,7 @@
 @obindex it_spade
 
 A spade activated while being on the grid position of an @ref{it_meditation}
-will flatten this by one degree and will finally eliminate it completly.
+will flatten this by one degree and will finally eliminate it completely.
 
 @table @asis
 @item @b{Attributes:}
@@ -9527,9 +9618,9 @@
 The tile declarations referenced by a key may even contain objects besides
 items. But you should make rare and proper usage of this feature.
 
-Prior replacing the surprise item but after droping it the surprise item will
-perform its action. You can use this action to modify the selection or to set
-objects on your own.
+The surprise item will perform its action after being dropped but before
+being replaced. You can use this action to modify the selection or to
+set objects on your own.
 
 The surprise item is killed by any replacement item set to the grid position.
 If your selection does not resolve to an item you may need to add @samp{"it_nil"}
@@ -9736,7 +9827,7 @@
 * it_burnable::        Fire State
 * it_crack::           Crack in the Floor
 * it_cross::           Floor Switch for patient Actors
-* it_death::           Unpassable grid blocker
+* it_death::           Impassable grid blocker
 * it_dynamite::        Exploder
 * it_explosion::       Short Explosion Animation
 * it_landmine::        Buried Explosive
@@ -9749,7 +9840,7 @@
 * it_strip::           Narrow Bridge
 * it_trap::            Unvisible, covered Abyss
 * it_trigger::         Floor Switch for Actors and Stones
-* it_vortex::          Teleport of Marbels
+* it_vortex::          Teleport of Marbles
 * it_wormhole::        Teleport of Actors
 @end menu
 
@@ -9768,7 +9859,7 @@
 closed by any switch like object. Note that due to the transformation between
 stone and item during opening and closing you should name the blocker
 (@pxref{name}) and address the blocker by this name. The complete identity
-with all attributes including any user attributes will be transfered between
+with all attributes including any user attributes will be transferred between
 stone and item. E.g. @code{@{it_switch, target="myblocker", action="toggle"@}}
 will open and close a given blocker multiple times.
 
@@ -9984,8 +10075,8 @@
 Let us have another look on a spreading crack. An actor entering a crack causes
 an invisible crack on the next grid. If the actor continues to move to this grid
 the invisible crack advances to a small visible one, of cause just with the
-given likihood. Note that this first and just this first crack progress takes
-place with the likihood of spreading, too. That means even if the fragility is
+given likelihood. Note that this first and just this first crack progress takes
+place with the likelihood of spreading, too. That means even if the fragility is
 zero the invisible crack gets visible.
 
 Another special feature is the behaviour of a large crack. An actor entering
@@ -9997,15 +10088,15 @@
 Common attribute patterns besides the default ones are:
 @itemize @bullet
 @item @samp{spreading=0, fragility=0} - a fake crack that neither spreads nor dissolves
- at item @samp{spreading=0, fragility=1} - a crack that dissolves and causes neighbor cracks to disolve, but does not spread to new floors
+ at item @samp{spreading=0, fragility=1} - a crack that dissolves and causes neighbor cracks to dissolve, but does not spread to new floors
 @end itemize
 
 Both attributes are inherited to new cracks during the process of spreading.
 If not set they take as default the value of the global attributes. For a maximum
 control you can set individual floors their own @ref{fragility (floor)}. These
-values superceed the global @ref{Fragility} default.
+values supersede the global @ref{Fragility} default.
 
-Undestructible floors like @ref{fl_abyss}, @ref{fl_water}, @ref{fl_swamp} will
+Indestructible floors like @ref{fl_abyss}, @ref{fl_water}, @ref{fl_swamp} will
 never crack. As any other item cracks do block laser light and prohibit other items to be
 dropped on the same grid. Nearby fire, explosions and hitting 
 @ref{ot_cannonball}s will dissolve a crack.
@@ -10098,7 +10189,7 @@
 The death item is the most secure barrier object. Comparable objects are
 @ref{it_bottle}_broken, @ref{fl_abyss}, @ref{fl_water}, @ref{it_trap} or simply
 any solid wall of stones. Usually these alternatives should be favored. The
-death item should mainly be used when all other alternatives are too unsecure.
+death item should mainly be used when all other alternatives are too insecure.
 
 @table @asis
 
@@ -10251,7 +10342,7 @@
 @subsection it_magnet
 @obindex it_magnet
 
-Attracts or repells actors in its @samp{range} with a force proportional to the
+Attracts or repels actors in its @samp{range} with a force proportional to the
 @samp{strength} and the inverse of the squared distance. A magnet can be
 switched @samp{ON} and @samp{OFF}.
 
@@ -10351,7 +10442,7 @@
 @code{MEDITATION_VOLCANO}, @code{MEDITATION_CALDERA} <-> @code{MEDITATION_HILL},
 @code{MEDITATION_BUMP} <-> @code{MEDITATION_DENT}.
 
-Of course you can change the state by attribute setting anytime in any sequence
+Of course you can change the state by setting the attribute anytime in any sequence
 you like. Essentialness is kept on shape transformations and mediation actor
 counting is updated and continues.
 
@@ -10505,7 +10596,7 @@
 @subsection it_springboard
 @obindex it_springboard
 
-A static jump facitlity that lets @ref{Flying Actors} jump on passing its center
+A static jump facility that lets @ref{Flying Actors} jump on passing its center
 square. A springboard can catapult any number of actors anytime with an idle
 reloading time after an activation.
 
@@ -10568,7 +10659,7 @@
 
 Any stone on a directly neighboring grid can be touched or hit by a large marble
 and prevents it from falling off the strip on this side. Small marbles can not
-touch neigboring stones and will not be protected from falling.
+touch neighboring stones and will not be protected from falling.
 
 Per default an actor on a covering strip is exposed to the same friction and
 adhesion as on the floor below. But strips can provide its own deviating
@@ -10749,7 +10840,7 @@
 the actor for a short period and the actor may jump out of a vortex into the
 desired direction.
 
-Vortex teleportation take a short amount of time and the involved vortices are
+Vortex teleportation takes a short amount of time and the involved vortices are
 blocked for other teleporting request during this process. Thus it is no problem
 to set up destinations of vortices that build a cycle.
 
@@ -10780,7 +10871,7 @@
 
 @item @b{scissor}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
 Rubberband cutting behaviour on teleporting.
- at table @asis
+
 @item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
 @item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
 @item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
@@ -10818,7 +10909,7 @@
 destination may be another wormhole which instantly teleports the actor again.
 An infinite circle of wormholes that are connected by destinations is forbidden.
 
-A wormhole can attract or repell actors in its @samp{range} with a force
+A wormhole can attract or repel actors in its @samp{range} with a force
 proportional to the @samp{strength} and the inverse of the squared distance.
 The force can be switched @samp{ON} and @samp{OFF} and is represented by its
 external @samp{state}. Note that no forces are applied to actors at a distance
@@ -10829,7 +10920,7 @@
 
 After teleporting an actor, the wormhole's teleporting ability may be switched
 off for a short latency period given by @samp{interval}. A latency separates
-actors travelling through a wormhole and avoids overlapping actors at the
+actors traveling through a wormhole and avoids overlapping actors at the
 destination.
 
 But the teleporting feature of a wormhole is not limited to actors. A water
@@ -10866,7 +10957,7 @@
 A signal of value 1 switches the wormhole force on, a value of 0 switches the
 wormhole force off.
 @item @b{toggle} @ @ @xref{toggle}
-A toggle causes a change in the wormhle force activity state.
+A toggle causes a change in the wormhole force activity state.
 @item @b{on} @ @ @xref{on}
 Switches the wormhole on.
 @item @b{off} @ @ @xref{off}
@@ -10901,6 +10992,29 @@
 @node Stone Overview
 @section Stone Overview
 
+ at multitable @columnfractions .08 .25 .08 .25 .09 .25
+ at item @image{images/st_ancient} @tab @yref{st_ancient}
+ at tab                            @tab @yref{st_bluegray}
+ at tab @image{images/st_brownie} @tab @yref{st_brownie}
+ at item @image{images/st_brownmarble} @tab @yref{st_brownmarble}
+ at tab @image{images/st_camouflage} @tab @yref{st_camouflage}
+ at tab @image{images/st_concrete} @tab @yref{st_concrete}
+ at item @image{images/st_darkgray} @tab @yref{st_darkgray}
+ at tab @image{images/st_granite} @tab @yref{st_granite}
+ at tab @image{images/st_greengray} @tab @yref{st_greengray}
+ at item                            @tab @yref{st_invisible}
+ at tab @image{images/st_metal} @tab @yref{st_metal}
+ at tab @image{images/st_pinkbumps} @tab @yref{st_pinkbumps}
+ at item @image{images/st_purplegray} @tab @yref{st_purplegray}
+ at tab @image{images/st_purplemarble} @tab @yref{st_purplemarble}
+ at tab @image{images/st_redbrown} @tab @yref{st_redbrown}
+ at item @image{images/st_redmarble} @tab @yref{st_redmarble}
+ at tab @image{images/st_redrock} @tab @yref{st_redrock}
+ at tab @image{images/st_tigris} @tab @yref{st_tigris}
+ at item @image{images/st_woven} @tab @yref{st_woven}
+ at tab @image{images/st_yellow} @tab @yref{st_yellow}
+ at end multitable
+
 @c ----------------- Stone Attributes --------------------
 @node Stone Attributes
 @section Stone Attributes
@@ -11034,7 +11148,7 @@
 * st_pinkbumps::       pink stone with heavy bumps
 * st_purplegray::      dark purple gray rock
 * st_purplemarble::    purple marble
-* st_redbrown::        brown stone whith light red touches
+* st_redbrown::        brown stone with light red touches
 * st_redmarble::       red white marbled stone
 * st_redrock::         dark red rock
 * st_tigris::          red sandstone
@@ -11053,7 +11167,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_ancient}
+ at item @image{images/st_ancient} @b{st_ancient}
 @end table
 @end table
 
@@ -11063,7 +11177,7 @@
 @obindex st_bluegray
 
 A light blue gray stone that exists in all two variants. This stone is visually
-undistinguishable from a @ref{st_thief}.
+indistinguishable from a @ref{st_thief}.
 
 @table @asis
 @item @b{Variants:}
@@ -11083,7 +11197,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_brownie}
+ at item @image{images/st_brownie} @b{st_brownie}
 @end table
 @end table
 
@@ -11097,7 +11211,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_brownmarble}
+ at item @image{images/st_brownmarble} @b{st_brownmarble}
 @end table
 @end table
 
@@ -11111,7 +11225,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_camouflage}
+ at item @image{images/st_camouflage} @b{st_camouflage}
 @item @b{st_camouflage_hollow}
 @item @b{st_camouflage_movable}
 @end table
@@ -11127,7 +11241,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_concrete}
+ at item @image{images/st_concrete} @b{st_concrete}
 @end table
 @end table
 
@@ -11136,12 +11250,12 @@
 @subsection st_darkgray
 @obindex st_darkgray
 
-A ldark gray rock that exists in all two variants.
+A dark gray rock that exists in all two variants.
 
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_darkgray}
+ at item @image{images/st_darkgray} @b{st_darkgray}
 @item @b{st_darkgray_hollow}
 @end table
 @end table
@@ -11156,7 +11270,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_granite}
+ at item @image{images/st_granite} @b{st_granite}
 @item @b{st_granite_hollow}
 @item @b{st_granite_movable}
 @end table
@@ -11172,11 +11286,11 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_greengray}
+ at item @image{images/st_greengray} @b{st_greengray}
 @end table
 @end table
 
- at c ----------------- Invisble Stone --------------------
+ at c ----------------- Invisible Stone --------------------
 @node st_invisible
 @subsection st_invisible
 @obindex st_invisible
@@ -11187,7 +11301,7 @@
 
 Invisibility is not equal to laser transparency. In fact this stone is not
 laser transparent. And invisibility does not mean that an invisible actor can
-pass. (@pxref{Transparent Stones})
+pass (@pxref{Transparent Stones}).
 
 @table @asis
 @item @b{Variants:}
@@ -11208,7 +11322,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_metal}
+ at item @image{images/st_metal} @b{st_metal}
 @item @b{st_metal_hollow}
 @end table
 @end table
@@ -11223,7 +11337,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_pinkbumps}
+ at item @image{images/st_pinkbumps} @b{st_pinkbumps}
 @end table
 @end table
 
@@ -11237,7 +11351,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_purplegray}
+ at item @image{images/st_purplegray} @b{st_purplegray}
 @end table
 @end table
 
@@ -11251,7 +11365,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_purplemarble}
+ at item @image{images/st_purplemarble} @b{st_purplemarble}
 @end table
 @end table
 
@@ -11260,12 +11374,12 @@
 @subsection st_redbrown
 @obindex st_redbrown
 
-A brown stone whith light red touches that exists in all three variants.
+A brown stone with light red touches that exists in all three variants.
 
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_redbrown}
+ at item @image{images/st_redbrown} @b{st_redbrown}
 @item @b{st_redbrown_hollow}
 @item @b{st_redbrown_movable}
 @end table
@@ -11281,7 +11395,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_redmarble}
+ at item @image{images/st_redmarble} @b{st_redmarble}
 @end table
 @end table
 
@@ -11295,7 +11409,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_redrock}
+ at item @image{images/st_redrock} @b{st_redrock}
 @end table
 @end table
 
@@ -11309,7 +11423,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_tigris}
+ at item @image{images/st_tigris} @b{st_tigris}
 @end table
 @end table
 
@@ -11323,7 +11437,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_woven}
+ at item @image{images/st_woven} @b{st_woven}
 @end table
 @end table
 
@@ -11338,7 +11452,7 @@
 @table @asis
 @item @b{Variants:}
 @table @asis
- at item @b{st_yellow}
+ at item @image{images/st_yellow} @b{st_yellow}
 @end table
 @end table
 
@@ -11372,7 +11486,7 @@
 @samp{faces}, that build the common outer face of the resulting big block.
 
 As it is a tedious work to set up larger blocks by their single stones with
-appropriate faces you can rely on an automatical clustering feature. Just
+appropriate faces you can rely on an automatic clustering feature. Just
 set the @samp{cluster} attribute of all single stones of a big block to the
 same number and the faces will be set up automatically to form a large block.
 
@@ -11405,7 +11519,7 @@
 
 @item @b{cluster} @ @ @i{values}: number; @ @ @i{default}: @code{nil}
 If set to a number all adjacent cluster stones of the same base type with
-the identical cluster number will build a big block. This attribute superceds
+the identical cluster number will build a big block. This attribute supersedes
 any explicitly given face description.
 
 @end table
@@ -11520,17 +11634,17 @@
 * st_box::             Movable, Floor building Box
 * st_brake::           Brake for moving Boulders
 * st_break::           Breakable Stone of various Flavors
-* st_brownpyramide::   Brown gray pyramide shaped stone
+* st_brownpyramide::   Brown gray pyramid shaped stone
 * st_chameleon::       Floor Mimic
 * st_charge::          Electrical Charger
 * st_chess::           Movable Chess Knight Stone
 * st_coinslot::        Coin Driven Switch
-* st_darkglass::       Semitransparent metall framed Glass
+* st_darkglass::       Semitransparent metal framed Glass
 * st_death::           Skull Stone
 * st_disco::           Light shading Stone
 * st_dispenser::       Item Dispenser
 * st_door::            Door of various Flavors
-* st_fake::            Fake mimicing other Stones
+* st_fake::            Fake mimicking other Stones
 * st_flash::           Partner Marble pushing Stone
 * st_flat::            Featured Gypsum Stone
 * st_floppy::          Floppy Driven Switch
@@ -11541,12 +11655,12 @@
 * st_jamb::            Colored Door Jamb
 * st_key::             Key Driven Switch
 * st_knight::          Sword Bearing Knight Stone
-* st_laser::           Lightemitting Laser
-* st_laserflop::       Lightsensitive Monoflop
-* st_laserswitch::     Lightsensitive Switch
-* st_lightglass::      Transparent metall framed Glass
+* st_laser::           Light emitting Laser
+* st_laserflop::       Light sensitive Monoflop
+* st_laserswitch::     Light sensitive Switch
+* st_lightglass::      Transparent metal framed Glass
 * st_lightpassenger::  Stone pushed by Light
-* st_magic::           Magic Tranforming Stone
+* st_magic::           Magic Transforming Stone
 * st_mail::            Mail office for Item transportation
 * st_mirror::          Mirrors of all flavors
 * st_monoflop::        Monoflop Switch
@@ -11561,7 +11675,7 @@
 * st_puzzle::          Clusterable Puzzle Stones
 * st_quake::           Oxyd closing Stone
 * st_rawglass::        Transparent Glass Block
-* st_redfiber::        Woven Fiber in a metall Frame
+* st_redfiber::        Woven Fiber in a metal Frame
 * st_rotator::         Rotating Stone Impulser
 * st_rubberband::      Rubberband generator
 * st_scissors::        Scissors cutting rubberbands
@@ -11681,7 +11795,7 @@
 closed by any switch like object. Note that due to the transformation between
 stone and item during opening and closing you should name the blocker
 (@pxref{name}) and address the blocker by this name. The complete identity
-with all attributes including any user attributes will be transfered between
+with all attributes including any user attributes will be transferred between
 stone and item. E.g. @samp{@{st_switch, target="myblocker", action="toggle"@}}
 will open and close a given blocker multiple times.
 
@@ -11881,14 +11995,14 @@
 @code{st_box_hay_growing}.
 
 All variants can easily be pushed around, do press @ref{it_trigger}s and do fall
-into @ref{fl_abyss}, @ref{fl_water} and @ref{fl_swamp} by buiding a framed floor
+into @ref{fl_abyss}, @ref{fl_water} and @ref{fl_swamp} by building a framed floor
 of the kind indicated by their @samp{flavor} attribute. All boxes will fall on
 the first occasion. Even if they receive two push impulses at the same time by
 @ref{ot_wire} they fall on the first grid. Thus it is impossible to push a box
 over a ditch. Boxes will fall if the floor beneath them vanishes. E.g. an 
 @ref{it_bomb} explosion beneath a box may change the floor to @ref{fl_abyss} or
 a flood stream may change the floor to @ref{fl_water}. In all these cases the
-box above falls immediatly buildings its kind of floor.
+box above falls immediately buildings its kind of floor.
 
 Note that all boxes do actively support @ref{Flood Spreading}. That means that
 they let an arriving flood stream flow beneath them. In case the floor beneath
@@ -11948,7 +12062,7 @@
 even on grids that are already occupied by an item. But you can not drop the
 brake beneath another stone like a @ref{it_seed}.
 
-On dropping the brake item it transforms immediatly back to an @ref{st_brake}
+On dropping the brake item it transforms immediately back to an @ref{st_brake}
 without killing the item positioned on the grid. Just one exception is a brake
 being dropped on top of an @ref{it_blocker} what results in an elimination of
 the blocker. On the other hand a brake stone will press an @ref{it_trigger}
@@ -11977,7 +12091,7 @@
 Besides being breakable the stone is a standard stone. The different flavors let
 this stone appear in quite different outlooks.
 
-The flavor @code{"plain"} is a gray stone that is breakable by any actor hit 
+The flavor @code{"plain"} is a grey stone that is breakable by any actor hit 
 with a revealed @ref{it_hammer} and by a laser beam hitting any side.
 
 The flavors @code{"black"} and @code{"white"} looks similar to the @code{"plain"}
@@ -12040,7 +12154,7 @@
 @subsection st_brownpyramide
 @obindex st_brownpyramide
 
-A brown gray pyramide shaped stone. This stone is just standard stone besides
+A brown gray pyramid shaped stone. This stone is just standard stone besides
 the fact that it can be destroyed by an @ref{ot_cannonball} emitted by an
 @ref{st_spitter} that happens to fall on its top.
 
@@ -12151,7 +12265,7 @@
 @item @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{BLACK}
 The color of the chess stone
 @item @b{movable} @ @ @i{values}: @code{true}; @ @ @i{default}: @code{true} @ @ @xref{movable}
-Read only attribute that states the movability of a chess stone.
+Read only attribute that states the ability of a chess stone to move.
 @end table
 
 @item @b{Messages:}
@@ -12191,19 +12305,19 @@
 of the coin. No additional coins can be inserted while another coin is being
 inserted. This prevents unintended multiple coin insertions. On the other hand
 the player has to insert additional coins early enough to prolong the active
-state without temporaryly switching back to @samp{OFF} state. If the first
+state without temporarily switching back to @samp{OFF} state. If the first
 interval runs off while the next coin did not yet finish its insertion the
 coinslot will first switch @samp{OFF} and switch @samp{ON} when the next coin
-is completly inserted.
+is completely inserted.
 
-The acticity interval of a coin insertion depends on the type of the coin. For
+The activity interval of a coin insertion depends on the type of the coin. For
 each type you can set the interval by the @samp{interval_*} attributes. You
 can reject the insertion of a coin type by setting its interval to
 @samp{COIN_REJECT}. The coin will not be taken from the players inventory. By
 a value of @samp{COIN_IGNORE} on the interval attribute the coinslot will fetch
 the coin but will not act at all.
 
-Coinslots configured as @samp{instant} do activate immediatly when the actor
+Coinslots configured as @samp{instant} do activate immediately when the actor
 hits the stone. On every actor hit a coin is inserted independent of the last
 insertion.
 
@@ -12392,7 +12506,7 @@
 an actor takes an item.
 
 The dispenser stone does break on adjacent @ref{it_bomb} explosions and 
-adjacent dispenser stone breaks. On its break it will itself cause adjcent
+adjacent dispenser stone breaks. On its break it will itself cause adjacent
 @ref{it_dynamite} to ignite, @ref{it_bomb} positioned beneath itself to 
 explode, and of course neighboring dispensers to break. Dispenser stones will
 neither break on actor hits, even with a revealed hammer, nor on laser light
@@ -12444,7 +12558,7 @@
 doors, are supported.
 
 As door grids can be entered on unfaced sides you should block these faces by
-unpassable stones. If you do not block these entries or even allow marbles to
+impassable stones. If you do not block these entries or even allow marbles to
 warp into a door, the actors will be free to leave the doors even if they are
 closed. But marbles will shatter on the door grid when doors are closed. This
 behaviour is a legacy Enigma feature.
@@ -12474,11 +12588,11 @@
 @item @b{Attributes:}
 @table @asis
 @item @b{state}, @ @ @i{values}: @code{OPEN}, @code{CLOSED}; @ @ @i{default}: @code{CLOSED}; @ @ @xref{state}
-The open state of the door. On read access it reports if the door is complety
+The open state of the door. On read access it reports if the door is completely
 opened and passable for actors. Note that a door reaches the state @samp{OPEN}
 after the finish of the opening animation, what is an essential amount of time
 after the initiating @code{"open"} message. But on a @code{"close"} message the
-state turns immediatly to @samp{CLOSED} as actors are blocked immediately. On
+state turns immediately to @samp{CLOSED} as actors are blocked immediately. On
 write access a state change causes a proper message and may occur with a delay,
 too.
 
@@ -12542,8 +12656,8 @@
 to close.
 
 The flavors @code{"oxyda"}, @code{"oxydb"}, @code{"oxydc"}, @code{"oxydd"},
- at code{"oxyde"} mimc @ref{st_oxyd} of appropriate flavor, but they are just
-passiv stones. Nevertheless they are aware of an state @samp{OPEN} and will
+ at code{"oxyde"} mimic @ref{st_oxyd} of appropriate flavor, but they are just
+passive stones. Nevertheless they are aware of an state @samp{OPEN} and will
 display the corresponding base image of the open oxyd stone, of course without
 any color spot.
 
@@ -12619,7 +12733,7 @@
 Movable and breakable flat stones will fall into @ref{fl_abyss}. But just the
 movable variant will fall into @ref{fl_water} and @ref{fl_swamp}.
 
-A laser beam will shatter a breakable variant. Furtheron it tansforms a plain flat
+A laser beam will shatter a breakable variant. Further on it transforms a plain flat
 stone, and just this variant, into a cracked variant, which is visually
 distinguishable by small cracks. But further laser light will not break a
 cracked variant. Ignitions and explosions will shatter breakable, cracked and
@@ -12751,7 +12865,7 @@
 
 If state dependent target/action pairs are given instead, namely
 @samp{target_0/action_0} for the state @samp{WEST},... , @samp{target_3/action_3}
-for the state @samp{NORTH}, two actions will be perfomed: first for the state
+for the state @samp{NORTH}, two actions will be performed: first for the state
 representing the old orientation the given action messages will be sent with
 a value of 0, then for the state representing the new orientation the given
 action messages will be sent with a value of 1. This allows you to switch on
@@ -12927,7 +13041,7 @@
 either match the x or the y coordinate of the jamb, too.
 
 @item @b{signal} @ @ @xref{signal}
-This message is just kept for backward compatibity issues. Do not use it in
+This message is just kept for backward compatibility issues. Do not use it in
 new API levels as it depends on other internal attributes not set for new API
 levels.
 @end table
@@ -13080,7 +13194,7 @@
 
 A switch that is triggered by actor hits and laser light. It switches instantly
 to state @samp{ON} and when it is no longer illuminated it switches back to
-state @samp{OFF} after a given @samp{interval}. Repeatitive actor hits and
+state @samp{OFF} after a given @samp{interval}. Repetitive actor hits and
 continuing laser light will prolong the @samp{ON} state untill a trailing
 @samp{interval} after the last hit has been expired. A similar object without
 light sensitiveness is the @ref{st_monoflop}.
@@ -13225,8 +13339,8 @@
 in his inventory that includes the @samp{SPOT_LIGHTPASSENGER} feature is able
 to distinguish the switched off lightpassenger from an @samp{st_darkglass}.
 The variant @samp{st_lightpassenger_off} is deactivated from the beginning.
-A lightpassenger that moves onto an @ref{it_cross} switches off immediatly. A
-switchted off lightpassenger can be switched on by an actor hit with a revealed
+A lightpassenger that moves onto an @ref{it_cross} switches off immediately. A
+switched off lightpassenger can be switched on by an actor hit with a revealed
 @ref{it_brush} in the inventory. Such a touch with a brush does wipe out a
 cross beneath the lightpassenger, too.
 
@@ -13334,7 +13448,7 @@
 
 @table @asis
 @item @b{orientation}, @ @ @i{values}: @code{NORTH}, @code{EAST}, @code{SOUTH}, @code{WEST}; @ @ @i{default}: @code{NORTH}
-The orientation of the mail stone. It determines the neighbor grid position
+The orientation of the mail stone. It determines the neighbors grid position
 onto which the item will be dropped, or where the pipe starts.
 @end table
 
@@ -13376,7 +13490,7 @@
 their attribute @samp{movable} is set to true. Mirrors that are not movable
 will differ slightly in a darker color.
 
-Mirros hit or just touched will turn their mirror panes by 90 degrees. The
+Mirrors hit or just touched will turn their mirror panes by 90 degrees. The
 standard turning direction is clockwise. But this standard can be changed
 by the attribute @samp{counterclock}. An @ref{st_boulder} hitting a mirror
 will turn it in its standard direction, too.
@@ -13393,7 +13507,7 @@
 
 @table @asis
 @item @b{flavor} @ @ @i{values}: @code{"slab"}, @code{"sheets"}, @code{"triangle"}; @ @ @i{default}: @code{"slab"}
-Mirror panes either set up as a triangle or as a side intransparent slab or
+Mirror panes either set up as a triangle or as a side opaque slab or
 as a mandatory semi-transparent pair of sheets.
 @item @b{state}, @ @ @i{values}: @code{NORTH}, @code{EAST}, @code{SOUTH}, @code{WEST}; @ @ @i{default}: @code{NORTH}; @ @ @xref{state}
 The orientation of the mirror. For a triangular mirror it is the triangle's
@@ -13496,7 +13610,7 @@
 are blocked, you may remember that the oneway's arrow points to the side that
 can not be entered.
 
-Three variants of the oneway do exist. A neutral, green-gray colored one that
+Three variants of the oneway do exist. A neutral, green-grey colored one that
 lets any actor pass according to the above rules, and additionally a black and
 a white colored oneway. These last oneways will let pass only marbles of
 matching color. All other actors will reflect from all four sides.
@@ -13576,7 +13690,7 @@
 enforce the engine to assign just the first three colors. Be careful in usage
 of more than 8 colors as levels can get incredibly difficult.
 
-The number auf auto colored oxyds should usually be even as a single remaining
+The number of auto colored oxyds should usually be even as a single remaining
 oxyd of a color keeps a level from being solvable. In case of an uneven number
 one oxyd stone gets colored to @samp{OXYD_FAKE} and does not participate in the
 stone opening procedure. But still you can set uneven number of oxyds of a given
@@ -13590,7 +13704,7 @@
 of all oxyds. All @samp{CLOSED} oxyds that are not explicitly excluded by the
 @samp{noshuffle} attribute take place in shuffling. But you can define
 arbitrary rules to limit and influence the shuffling process to guarantee
-solvabitlity and fairness (@pxref{shuffleOxyd}).
+solvability and fairness (@pxref{shuffleOxyd}).
 
 Oxyds are opened either by an actor hit, an additional laser beam, an
 @ref{st_boulder} triggering, an @ref{ot_cannonball} emitted from an
@@ -13619,7 +13733,7 @@
 
 During the game oxyds can be reshuffled. Just those oxyds that are still closed
 will take part in the new shuffle process. Oxyd shuffling rules will still be
-guranteed for these partial in game reshuffles. It can be initiated either
+guaranteed for these partial in game reshuffles. It can be initiated either
 by a @samp{shuffle} message that is send to any of the oxyd objects, or by
 usage of an oxyd of color @samp{OXYD_BOLD}. If such a special oxyd is opened,
 e.g. by an actor hit, it shuffles all remaining oxyds including itself.
@@ -13756,7 +13870,7 @@
 @ref{it_bomb} on a diagonal neighboring position. It breaks on actor hits with
 a revealed @ref{it_hammer}, too. But unlike @ref{st_break} it offers a
 variant that is breakable and movable at the same time. Of course a possible
-break superceeds a possible push condition.
+break supersedes a possible push condition.
 
 @table @asis
 @item @b{Attributes:}
@@ -13795,7 +13909,7 @@
 a plop and some sparkles.
 
 Currently there is just one flavor called @code{"slate"} according to its 
-dark blue gray color. It falls and ceases to exist if pushed on @ref{fl_water},
+dark blue grey color. It falls and ceases to exist if pushed on @ref{fl_water},
 @ref{fl_abyss} or @ref{fl_swamp}. Unlike @ref{st_box} it does not build a floor.
 
 @table @asis
@@ -13890,7 +14004,7 @@
 direction of the impulse. Thus it can not be pushed like other movable stones.
 But when an actor hits a pull stone it acts like being pulled. If another stone
 is located on the destination grid, both stones will exchange their positions.
-The exchange will also be perfomed when the pull stones receives a stone impulse
+The exchange will also be performed when the pull stones receives a stone impulse
 via an @ref{ot_wire} or a neighboring @ref{st_stoneimpulse}. A similar stone is
 the @ref{st_swap}, that exchanges with stones in the forward direction of the
 initiating impulse.
@@ -13911,7 +14025,7 @@
 stones. But the exchanged stones will react on the new floor, e.g. causing
 @ref{st_box} to sink into water.
 
-Furtheron the exchange is atomic concerning @ref{it_trigger} detection and
+Further on the exchange is atomic concerning @ref{it_trigger} detection and
 laser light transparency. If the exchanged stone is not transparent, the light
 will pass on every time slice just on one of the two grids. If the exchanged
 stone is floating and does not press @ref{it_trigger}s, the pull stone will
@@ -13937,7 +14051,7 @@
 be destroyed together. There are two colors, blue and yellow puzzle stones,
 which behave different. Each of these color families again consists of 16
 variants that differ in the location of sockets to which neighboring puzzle
-stones can be attached. Furtheron there are hollow variants of all colors and
+stones can be attached. Further on there are hollow variants of all colors and
 connections.
 
 A cluster is complete as soon as all sockets of all stones are connected to
@@ -13952,7 +14066,7 @@
 stones, connected and unconnected ones, can shift rotate thus allowing the
 player to rearrange and sort the puzzle.
 
-Blue puzzle stones can be moved as single stones, cluster fragements and
+Blue puzzle stones can be moved as single stones, cluster fragments and
 complete clusters by an actor pushing or a stone impulse by @ref{ot_wire} or
 @ref{st_stoneimpulse}. Of course all new positions of the moving puzzle must be
 free of other stones. If all new positions are @ref{fl_water} the blue puzzle
@@ -13998,7 +14112,7 @@
 with the last puzzle of the line returning to the origin. This operation is
 called @code{"push_rotate"} and can be initiated by a message, too.
 
-In case of actor hits possible explosions preceed moves, which preceed rotation
+In case of actor hits possible explosions precede moves, which precede rotation
 operations. Thus you need to touch a blue puzzle row carefully with a revealed
 wand if the row is part of a movable cluster fragment. If the speed is
 sufficient for a hit operation, the cluster will move instead of an expected
@@ -14018,7 +14132,7 @@
 
 If you need to shuffle a puzzle of your own, you can make use of the messages
 @samp{get_adjacents} which returns the group of color matching, adjacent puzzle
-stones, and @samp{pull_rotate} which is the exact invertion of a push rotation.
+stones, and @samp{pull_rotate} which is the exact inversion of a push rotation.
 
 @table @asis
 @item @b{Attributes:}
@@ -14033,7 +14147,7 @@
 
 @item @b{cluster} @ @ @i{values}: number; @ @ @i{default}: @code{nil}
 If set to a number all adjacent puzzle stones of the same color with
-the identical cluster number will build a cluster. This attribute supercedes
+the identical cluster number will build a cluster. This attribute supersedes
 any explicitly given connection description.
 
 @item @b{hollow} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
@@ -14075,7 +14189,7 @@
 @obindex st_quake
 
 This stone looks like an @ref{st_oxyd} of flavor @code{"b"}, but it has the
-unpleasant habit of quaking when being activated. Unfortunatley this closes all
+unpleasant habit of quaking when being activated. Unfortunately this closes all
 open @ref{st_oxyd}s.
 
 The stone gets activated on an actor hit, on @ref{st_boulder}s hit and on its
@@ -14236,13 +14350,13 @@
 @table @asis
 @item @b{strength} @ @ @i{values}: number; @ @ @i{default}: @code{10.0}
 The force strength.
- at item @b{length} @ @ @i{values}: positiv number; @ @ @i{default}: @code{1.0}
+ at item @b{length} @ @ @i{values}: positive number; @ @ @i{default}: @code{1.0}
 The natural length above which forces are applied.
- at item @b{threshold} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{threshold} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The length smaller than the natural length below which inverted forces are applied.
- at item @b{min} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{min} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The minimum length at which actors bounce.
- at item @b{max} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{max} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The maximum length at which actors bounce.
 @item @b{scissor}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
 Rubberband cutting behaviour on connection.
@@ -14378,9 +14492,9 @@
 @item other stones do remain unmodified and protect items and floors,
 @item @ref{it_dynamite} do ignite,
 @item @ref{it_crack} do crack,
- at item other indestructable items do remain and protect floors,
+ at item other indestructible items do remain and protect floors,
 @item other items are blown away,
- at item floors do crack to @ref{fl_abyss} if not indestructable as @ref{fl_water}, @ref{fl_swamp}, @ref{fl_abyss}.
+ at item floors do crack to @ref{fl_abyss} if not indestructible as @ref{fl_water}, @ref{fl_swamp}, @ref{fl_abyss}.
 @end itemize
 
 Actors will not be harmed by falling cannonballs.
@@ -14397,7 +14511,7 @@
 positions. The destinations will be targeted by the cannonballs in turn on
 a sequence of @samp{hit} actions.
 
-Note that the destruction of target objects can have unexpected sideeffects
+Note that the destruction of target objects can have unexpected side effects
 on the destination sequence. If you list three @ref{st_stoneimpulse} as
 destinations they will be targeted in the given sequence as none of them
 gets destroyed. But if you list three @ref{st_brownpyramide} the first
@@ -14410,7 +14524,7 @@
 wand to destroy objects randomly or if you use named destinations with
 wildcards. But if you need control about the sequence you need either 
 destinations targets that get not destroyed or floor object references, as
-they represent @ref{Named Positions} that are persistent to object destructions.
+they represent @ref{Named Positions} that are persistent to object destruction.
 
 @table @asis
 @item @b{Attributes:}
@@ -14451,7 +14565,7 @@
 
 The pulsing can either be triggered by an actor touching or hitting the stone,
 by receiving a stone impulse from a neighboring @ref{st_stoneimpulse}, via
- at ref{ot_wire} or a dropped @ref{it_puller}. Furtheron laser light, an
+ at ref{ot_wire} or a dropped @ref{it_puller}. Further on laser light, an
 @ref{st_boulder} hitting and of course messages will cause the pulsing, too.
 
 Even though the three major variants can be set by attributes, they are mutual
@@ -14558,7 +14672,7 @@
 @end example
 
 The replacement stone is randomly chosen out of the given selection. By listing
-a stone several times you can take influence on the likelyhood.
+a stone several times you can take influence on the likelihood.
 
 The tile declarations referenced by a key may even contain objects besides
 stone. But you should make rare and proper usage of this feature.
@@ -14606,7 +14720,7 @@
 stones. But the exchanged stones will react on the new floor, e.g. causing
 @ref{st_box} to sink into water.
 
-Furtheron the exchange is atomic concerning @ref{it_trigger} detection and
+Further on the exchange is atomic concerning @ref{it_trigger} detection and
 laser light transparency. If the exchanged stone is transparent, the light
 will pass on every time slice just on one of the two grids. If the exchanged
 stone is floating and does not press @ref{it_trigger}s, the swap stone will
@@ -14631,7 +14745,7 @@
 A classical on/off switch that toggles its state on actors hitting the stone.
 Of course other objects can send messages on actions to make this switch turning.
 
-Three variants of the switch do exist. A neutral, gray colored one that reacts
+Three variants of the switch do exist. A neutral, grey colored one that reacts
 on any actor hits, and a black and a white colored switch. These last switches
 will react only if hit by marbles of matching color.
 
@@ -14681,7 +14795,7 @@
 @obindex st_thief
 
 A thief steals an item from the player's inventory when it is hit by an owned
-actor. Unfortunatly the thief is visually indistinguishable from a
+actor. Unfortunately the thief is visually indistinguishable from a
 @ref{st_bluegray}.
 
 The item is not directly stolen at the moment of the hit. The hit itself just
@@ -14720,7 +14834,7 @@
 stone is an @ref{ot_timer} gadget.
 
 Note that this is an exceptional object as its default state is @samp{ON} to
-support the most common case of immediatly runnning timers.
+support the most common case of immediately running timers.
 
 A single shot, not looping timer will send an action value of @samp{true}. A
 looping timer will alternate the boolean action values starting with value
@@ -14788,7 +14902,7 @@
 be pushed. That means that they need to be in a distance of less than 1.5 grids
 to the center of the pivot. Thus actors located at the very edge of the
 diagonal grid positions will not be pushed. As actors can not be moved out of
-the world, a green turnstile positioned at the levelborder that moves an arm
+the world, a green turnstile positioned at the level border that moves an arm
 to the border will shatter actors instead.
 
 Any actor moved by a turnstile is directly warped to its new position without
@@ -14796,7 +14910,7 @@
 but they will not grab any items located on the grid positions inbetween.
 The relative position of an actor within the grid is maintained during its
 circular move. Thus two small actors moved at the same time keep their relative
-positioning. It is guranteed that any moved actors will fall even into a tiny
+positioning. It is guaranteed that any moved actors will fall even into a tiny
 @ref{it_meditation}_dent that is positioned at the destination grid.
 
 Items in the range of the rotating arms will act like a stone being pushed over
@@ -14814,7 +14928,7 @@
 
 Another way is the coupling of two @ref{st_turnstilearm}s via an @ref{ot_wire}.
 A turnstile will propagate its rotation impulses via an wire that is connected
-at one of its arms. Two turnstiles connected by wired arms will resync in their
+at one of its arms. Two turnstiles connected by wired arms will resynchronize in their
 rotation even if one of them is temporarily blocked.
 
 Turnstiles can be turned by standard messages and attributes. They do even
@@ -14995,8 +15109,8 @@
 
 A stone made up just of glass window faces. All combinations of window faces with
 at least one face are possible. There exist two versions of windows, normal
-blue colored glass and green colored safety glass, that is nearly undistructable.
-Safety glass is seleted by setting the attribute @samp{secure} to @samp{true}.
+blue colored glass and green colored safety glass, that is nearly indestructible.
+Safety glass is selected by setting the attribute @samp{secure} to @samp{true}.
 Every glass face can be weakened by @samp{scratches} which are visible in the
 shadows.
 
@@ -15010,7 +15124,7 @@
 strong hits will cause marbles to shatter themselves. An actor can lower the
 required speed by adding @ref{it_weight}, by revealing an @ref{it_hammer}, or by
 weakening the window faces by prior scratching it with an @ref{it_ring}. Green
-safty glass windows will never break on actor attacks.
+safety glass windows will never break on actor attacks.
 
 Bomb explosions can shatter window faces, too. Normal blue window faces adjacent
 to a bomb explosion will break. Green safety glass faces will break only if
@@ -15241,7 +15355,7 @@
 applied to an actor if the @ref{controllers} attribute allows forces at all.
 Vice versa you should exclude an actor from mouse forces by usage of the
 @ref{controllers} attribute instead of setting its adhesion to zero. The
-adhesion may take negativ values, too. Such values correspond to inverse forces.
+adhesion may take negative values, too. Such values correspond to inverse forces.
 
 @table @asis
 @item @b{Type:} @ @ number
@@ -15260,7 +15374,7 @@
 
 The electrical force on a charged actor is given by its own load and the load
 and position of all other charged actors. Note that a constant global factor
- at ref{ElectricStrength} is applied, too. If this factor is negativ, equal
+ at ref{ElectricStrength} is applied, too. If this factor is negative, equal
 charged actors may even attract each other.
 
 @table @asis
@@ -15311,7 +15425,7 @@
 @samp{PERKIND} means that the player is dead if 2 pearls are no longer alive.
 
 Of course shattered or sunken actors will first be resurrected if an
- at ref{it_extralife} is availabe and the global attribute @ref{ConserveLevel}
+ at ref{it_extralife} is available and the global attribute @ref{ConserveLevel}
 allows a resurrection.
 
 For more details about level restart see @ref{Level Restart}.
@@ -15400,8 +15514,8 @@
 @subsection ac_bug
 @obindex ac_bug
 
-An actor that looks like a smalle gray ball with two red dots on it. Bugs are
-harmless actors that do not affect other actors and they are usually passiv.
+An actor that looks like a small grey ball with two red dots on it. Bugs are
+harmless actors that do not affect other actors and they are usually passive.
 
 In contrast to the main actors they can not jump or pass an @ref{it_vortex}, and
 will not sink, fall or shatter. Bugs are immortal.
@@ -15727,14 +15841,14 @@
 static @ref{it_springboard} that catapult crossing actors and @ref{it_vortex}
 that catapult warping actors.
 
-A flying actor can pass leathal grids with @ref{fl_water}, @ref{fl_abyss}, 
+A flying actor can pass lethal grids with @ref{fl_water}, @ref{fl_abyss}, 
 @ref{it_trap} and even laser beams. But most stones will block flying actors, 
 even some hollow ones like @ref{st_grate} or @ref{st_oneway}. But some others as 
- at ref{st_door} or hollow @ref{Standard Stones} let flying actos pass.
+ at ref{st_door} or hollow @ref{Standard Stones} let flying actors pass.
 
 While flying an actor can not pick up any item. But the actor can still drop
 items. Activation of a spring while sinking in @ref{fl_water} or @ref{fl_swamp}
-lets the actor jump immediatly out of them and starts the sinking process from
+lets the actor jump immediately out of them and starts the sinking process from
 scratch anew when landing on such a floor.
 
 
@@ -15764,9 +15878,9 @@
 @subsection ot_cannonball
 @obindex ot_cannonball
 
-A short living projectil emitted by an @ref{st_spitter}. It is an internal
-object that can not be directly instanciated. It is listed here just for
-completness.
+A short living projectile emitted by an @ref{st_spitter}. It is an internal
+object that can not be directly instantiated. It is listed here just for
+completeness.
 
 @c ----------------- Rubberband --------------------
 @node ot_rubberband
@@ -15789,12 +15903,12 @@
 attributes. Every rubberband has a natural @samp{length} at which it does not
 apply any force to the actors. The more the rubberband is extended from this
 point it applies a force of the given @samp{strength}. A positive strength is
-a natural attracting force, whereas a negative strength would repell the actors.
+a natural attracting force, whereas a negative strength would repel the actors.
 
 A rubberband that is shorter than its natural @samp{length} would normally not
 apply any force. But this special rubber allows you to set a @samp{threshold}
 where the rubberband starts to apply the opposite directed forces onto the
-actors, like a spring would do. Thus a positve @samp{strength} would lead to a
+actors, like a spring would do. Thus a positive @samp{strength} would lead to a
 repelling force, a negative one to an attracting force. A rubberband with a
 length inbetween @samp{threshold} and @samp{length} will apply no forces.
 
@@ -15811,7 +15925,7 @@
 the rubberband or react in another way by a callback function. The default
 handling is an application of a constant force to bring the actors back within
 the limits. This force value is given by @ref{RubberViolationStrength} and
-defaults to @samp{50.0}. If you really need to asure that the player is not able
+defaults to @samp{50.0}. If you really need to assure that the player is not able
 to violate the limits any further you may need to increase this constant.
 
 Rubberbands can be cut by @ref{st_scissors}, by an @ref{it_vortex} or
@@ -15836,13 +15950,13 @@
 actor or stone must exist already.
 @item @b{strength} @ @ @i{values}: number; @ @ @i{default}: @code{10.0}
 The force strength.
- at item @b{length} @ @ @i{values}: positiv number; @ @ @i{default}: @code{1.0}
+ at item @b{length} @ @ @i{values}: positive number; @ @ @i{default}: @code{1.0}
 The natural length above which forces are applied.
- at item @b{threshold} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{threshold} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The length smaller than the natural length below which inverted forces are applied.
- at item @b{min} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{min} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The minimum length at which actors bounce.
- at item @b{max} @ @ @i{values}: positiv number or zero; @ @ @i{default}: @code{0.0}
+ at item @b{max} @ @ @i{values}: positive number or zero; @ @ @i{default}: @code{0.0}
 The maximum length at which actors bounce.
 @end table
 
@@ -15910,7 +16024,7 @@
 @obindex ot_counter
 
 A counter that switches on given thresholds. As a supplement to single switch
-like objektes as @ref{it_trigger}, @ref{st_switch}, @ref{st_laserswitch},
+like objects as @ref{it_trigger}, @ref{st_switch}, @ref{st_laserswitch},
 @ref{st_coinslot}, @ref{st_key}, @ref{st_floppy}, etc. this gadget allows to
 react on a given number of these switches to be switched @samp{ON} while the
 others being switched @samp{OFF}.
@@ -15975,10 +16089,10 @@
 
 This gadget can be used to trigger a delayed single or periodic events. It is
 nearly identical to the @ref{st_timer}, but does neither require a grid position
-nor disturbes the user by a pulsing animation.
+nor disturb the user by a pulsing animation.
 
 Note that this is an exceptional object as its default state is @samp{ON} to
-support the most common case of immediatly runnning timers.
+support the most common case of immediately running timers.
 
 A single shot, not looping timer will send an action value of @samp{true}. A
 looping timer will alternate the boolean action values starting with value
@@ -16081,7 +16195,7 @@
 
 Please read the online manuals of
 @uref{http://www.lua.org/manual/5.0/, Lua 5.0} and 
- at uref{http://www.lua.org/manual/5.1/, Lua 5.1} for more detailled information.
+ at uref{http://www.lua.org/manual/5.1/, Lua 5.1} for more detailed information.
 
 In addition to the usual Lua functions, Enigma provides the @ref{cond}-function,
 which can be used to abbreviate simple if-then-else-constructions, and two
@@ -16270,11 +16384,11 @@
 
 @item @b{Details:}
 @samp{cond} evaluates both expressions @samp{iftrue} and
- at samp{iffalse}, regargless of @samp{condition}. Hence,
+ at samp{iffalse}, regardless of @samp{condition}. Hence,
 @example
 cond(t == 0, 1/t, error("Division by zero"))
 @end example
-will always raise an error: All sideeffects will happen.
+will always raise an error: All side effects will happen.
 Another example which will not work:
 @example
 w,h = cond(wo["IsDifficult"], wo(ti, " ", map1), wo(ti, " ", map2))
@@ -16285,7 +16399,7 @@
 @end example
 However, in most cases @samp{cond} is used with static expressions for
 @samp{iftrue} and @samp{iffalse} (e.g. strings or variables), when no
-sideeffects are possible.
+side effects are possible.
 
 @item @b{Full Example:}
 @example
@@ -16394,10 +16508,10 @@
 
 @item @b{Details:}
 Just as groups can be joined by @samp{grp1 + grp2}, it can sometimes be
-neccessary to join anonymous tables, as well.
+necessary to join anonymous tables, as well.
 In most situations, object grouping should be used instead, but when one works
 with more abstract data (like names of objects instead of objects, or tables
-holding design informations), @samp{combine_tables} can be useful.
+holding design information), @samp{combine_tables} can be useful.
 
 @item @b{Full Example:}
 @example
@@ -16434,7 +16548,7 @@
 but @samp{c[1]} will still be @samp{5}.
 
 @item @b{Details:}
-Metatables are transfered, but not deep-copied.
+Metatables are transferred, but not deep-copied.
 Userdata (like tiles and positions) is not guaranteed to be deep-copied.
 
 @item @b{Full Example:}
@@ -16903,7 +17017,7 @@
 @end example
 
 @item @b{Details:}
-The Manhattan distance counts the minimal number of pushes neccessary to push a
+The Manhattan distance counts the minimal number of pushes necessary to push a
 wood stone from one position to another. Its unit balls are squares with the
 diagonals parallel to the x- and y-axis (rhombi).
 
@@ -17018,8 +17132,8 @@
 
 @item @b{Details:}
 Negative and non-integer values are allowed. However, the numbers in the
- at samp{steps}-table should be monotonously increasing (not neccessarily strictly
-monotonously), as otherwise the result might be counterintuitive.
+ at samp{steps}-table should be monotonously increasing (not necessarily strictly
+monotonously), as otherwise the result might be counter-intuitive.
 
 @item @b{Full Example:}
 @example
@@ -17104,7 +17218,7 @@
 @node Drawing Maps
 @subsection Drawing Maps
 
-Just as we could've used the premap with @samp{wo} or @samp{wo:drawMap} to draw
+Just as we could have used the premap with @samp{wo} or @samp{wo:drawMap} to draw
 it (see @ref{drawMap}), we can use the newly created map as well:
 @example
 wo(resolver, mymap)
@@ -17197,15 +17311,15 @@
 Requesting and changing map entries can be used with position lists, object and
 group references as well.
 
-You can replace any occurence of a tile key @samp{tile1} by @samp{tile2} simply
+You can replace any occurrence of a tile key @samp{tile1} by @samp{tile2} simply
 by
 @example
 mymap:replace(tile1, tile2)
 @end example
-You can omit @samp{tile2}, then any occurence of @samp{tile1} will be replaced
+You can omit @samp{tile2}, then any occurrence of @samp{tile1} will be replaced
 by the default key.
 
-You can also search for positions in a map which fulfill given conditions by
+You can also search for positions in a map which fulfils given conditions by
 using @samp{match}, the return value is a position list. The syntax is simple:
 @example
 mymap:match()
@@ -17228,7 +17342,7 @@
 @example
 mymap[mymap:match(@{po(0,0), " "@}, @{NEIGHBORS_4, ".", ":"@})] = "."
 @end example
-will find all occurences of @samp{ }, which are completely surrounded by
+will find all occurrences of @samp{ }, which are completely surrounded by
 @samp{.}, or @samp{:}, or mixtures of these, and replace them by @samp{.}. As
 all replacements are done after matching, and hence simultaneously, the newly
 introduced @samp{.} will not participate in the matching.
@@ -17279,10 +17393,10 @@
 map1:paste(map2, pos)
 @end example
 will paste @samp{map2} into @samp{map1} at position @samp{pos} (relative to
- at samp{map1}: @code{@{0,0@}} is the upper left edge). If neccessary, @samp{map1}
+ at samp{map1}: @code{@{0,0@}} is the upper left edge). If necessary, @samp{map1}
 will be extended such that the whole of @samp{map2} fits into it. You can use
 @samp{map1.sub} to reduce its size again (see below) as well as to define
- at samp{map2} as a section of another map. During the pasting, any occurence of
+ at samp{map2} as a section of another map. During the pasting, any occurrence of
 the default key of @samp{map2} will be ignored, i.e. not drawn onto
 @samp{map1}. You can change the default key with @samp{map2.defaultkey = ...}
 prior to the paste command to circumvent this, or use
@@ -17459,7 +17573,7 @@
 Apart from the following functions, lib.import includes the minor routines
 @samp{lib.import.string_replace}, which is a wrapper for @code{string.gsub},
 and @samp{lib.import.string_remove_multiples}, which removes multiple
-occurences of a string in another string.
+occurrences of a string in another string.
 
 This library is described as of release 1. 
 
@@ -17503,7 +17617,7 @@
 @item @i{format}
 A string referencing an entry in @samp{lib.import.line_regexp}. Currently, only
 @samp{sokoban} and @samp{wanderer} are supported. But you can add further
-entries to @samp{lib.import.line_regexp} if neccessary.
+entries to @samp{lib.import.line_regexp} if necessary.
 @end table
 
 @item @b{Syntax Samples:}
@@ -17659,7 +17773,7 @@
 @subsection lib.import.map_wanderer
 
 @samp{map_wanderer} takes a Wanderer monolevel as argument, and returns a
- at ref{libmap}-map. Note that Enigma does not yet have the neccessary game objects
+ at ref{libmap}-map. Note that Enigma does not yet have the necessary game objects
 to simulate Wanderer.
 
 @table @asis
@@ -18035,7 +18149,7 @@
 
 @table @asis
 @item @i{rules} = @i{rule}, @i{rule},...
-No rule or as many as you like, all seperated by a comma.
+No rule or as many as you like, all separated by a comma.
 @item @i{rule} = @{@i{group1}, @i{group2}, @i{maxrule}, @i{minrule}, @i{circularrule}, @i{linearrule}, @i{log}@}
 Each rule is a table with a subset of the listed entries. The @i{group1} entry
 is mandatory. All other entries are optional and can be added in any combination.
@@ -18185,7 +18299,7 @@
 @menu
 * res.autotile::  Generate tiles from given template declarations
 * res.composer::  Compose tiles from given base tiles
-* res.maze::      Generate arbitrarly chaped mazes
+* res.maze::      Generate arbitrarily shaped mazes
 * res.puzzle::    Generate puzzle tiles and shuffle resulting puzzle clusters
 * res.random::    Choosing random tiles in a given distribution
 @end menu
@@ -18232,12 +18346,12 @@
 Resolver to which unresolved requests should be forwarded. May be @samp{ti}
 as the final resolver of the resolver chain.
 @item @i{rules} = @i{rule}, @i{rule},...
-One rule or as many as you like, all seperated by a comma.
+One rule or as many as you like, all separated by a comma.
 @item @i{rule} = @i{prefixrule} | @i{rangerule}
 Each rule can be either a prefixrule or a rangerule in any mixture
 @item @i{prefixrule} = @{@i{prefix}, @i{template}@}
 A table with two entries. First a prefix string that is common to all tile
-keys that should be handeled followed by key string of the template tile.
+keys that should be handled followed by key string of the template tile.
 @item @i{rangerule} = @{@i{first}, @i{last}, @i{template}@ [, @i{offset}]@}
 A table with at least three entries. A string with the first key to be handled,
 followed by a string with the last key to be handled. The third value is the key
@@ -18255,7 +18369,7 @@
 Prefix rules need a key length of at least 2. You can not use it with maps
 of just one character per tile. The resolver will create a tile declaration for
 any tile key in the map that matches the given prefix. A copy of the template
-will be taken and all occurences of the two characters @samp{%%} will be
+will be taken and all occurrences of the two characters @samp{%%} will be
 substituted by a single percent sign followed by the suffix of the used tile
 key. Thus a key of @samp{AD} will target the laser @samp{laser%D}. You need to
 use the key @samp{LD} in the map for the matching laser.
@@ -18369,7 +18483,7 @@
 
 @item @b{Details:}
 For every key in the map the subresolver will be first requested for a tile
-declaration. Thus any given explicit declaration will preceede the auto 
+declaration. Thus any given explicit declaration will precede the auto 
 composition.
 
 Just in case that no declaration exists the search starts for existing subkey
@@ -18407,7 +18521,7 @@
 
 with second tile declaration being a @ref{st_puzzle} declaration with the
 @samp{connections} attribute being set to @code{"w"} according to the last key
-charcter @samp{a}.
+character @samp{a}.
 
 With a @code{"231"} you stick to a total decomposition, but you redefine the
 sequence of evaluation and composition. For the key @code{"~mX"} you would get
@@ -18417,7 +18531,7 @@
 ti["  X"] .. ti["~  "] .. ti[" m "]
 @end example
 
-In all cases subkeys, that are strings of whitespaces only, will simply be 
+In all cases, subkeys, that are strings of whitespace only, will simply be 
 ignored. With the default sequence the key @code{"~ X"} will result just in:
 
 @example
@@ -18497,7 +18611,7 @@
 ti["B"] = @{"st_puzzle_blue"@}
 @end example
 
-Additonally this resolver registers every puzzle stone set and allows you to
+Additionally this resolver registers every puzzle stone set and allows you to
 shuffle the puzzle clusters. You can even select shuffle algorithms and define
 accessible sides of a puzzle.
 
@@ -18519,7 +18633,7 @@
 Resolver to which unresolved requests should be forwarded. May be @samp{ti}
 as the final resolver of the resolver chain.
 @item @i{rules} = @i{rule}, @i{rule},...
-One rule or as many as you like, all seperated by a comma.
+One rule or as many as you like, all separated by a comma.
 @item @i{rule}
 The string of the template tile key that is the common tile key prefix for all
 autogenerated tile declarations.
@@ -18586,13 +18700,13 @@
 If you define no shuffle @samp{algorithm} it is assumed that the user can
 rotate the puzzle from any side and any @ref{st_puzzle}. The requested number
 of shuffling pull operations will be performed from random puzzle stones in a
-manner that gurantees that the user can solve the puzzle if he has free access
+manner that guarantees that the user can solve the puzzle if he has free access
 to all sides.
 
 If you set the @samp{algorithm} on any of the puzzle stones to the value
 @code{"marked"} the resolver registers that the user has no free access, but
 just from positions that you did mark. You do mark a position by setting
-the attribute @ref{push_directions} on a floor. All floors adajacent to
+the attribute @ref{push_directions} on a floor. All floors adjacent to
 outer puzzle stones from which a user can push rotate a puzzle will be checked
 for this attribute. If its string value, a substring of @code{"nesw"}, contains
 the character of the required push direction this push event will take part
@@ -19076,8 +19190,8 @@
 @node Resolver Development
 @section Resolver Development
 
-Resolvers are designed to provide easy pluggable extensions for usage by level
-authors. Furtheron resolvers should be as flexible as possible. To reach these
+Resolvers are designed to provide easy plugable extensions for usage by level
+authors. Further on resolvers should be as flexible as possible. To reach these
 goals each resolver consists of three parts: the configurator, the implemention
 and the finalizer.
 
@@ -19105,7 +19219,7 @@
 @end table
 
 @item @b{Details:}
-This function has just one mandatory paramenter, the subresolver. You are free
+This function has just one mandatory parameter, the subresolver. You are free
 to specify arbitrary further parameters due to the needs of the resolvers task.
 
 All official resolvers will be registered in the registry table @samp{res} under
@@ -19206,13 +19320,13 @@
 return evaluator(context[3], "a", x, y) .. ti(@{"st_laser_n", state=ON@})
 @end example
 
-You are even allowed to add new tile declartions to the tiles repository to
+You are even allowed to add new tile declarations to the tiles repository to
 speed up subsequent calls:
 @example
 ti["newkey"] = evaluator(context[3], "a", x, y) .. ti(@{"st_laser_n", state=ON@})
 @end example
 
-A resolver implementation can store and modifiy any of its private parameters
+A resolver implementation can store and modify any of its private parameters
 in the context table for subsequent calls. Especially it can enlist all
 coordinates for postprocessing operations in the finalizer.
 
@@ -19972,7 +20086,7 @@
 
 @item
 If you pick up any item besides a non-empty bag and your first inventory item is
-a bag the item is added to the first inventroy bag (this includes non-empty bags
+a bag the item is added to the first inventory bag (this includes non-empty bags
 into bags!)
 
 @item
@@ -20185,7 +20299,7 @@
 
 Represents cracks in the floor. @code{it-crack0} is invisible and
 grows to @code{it-crack1}, @code{it-crack2}, @code{it-crack3}, after
-which the floor desintegrates to @ref{fl-abyss}.
+which the floor disintegrates to @ref{fl-abyss}.
 
 The @code{brittleness}-attribute and
 @code{enigma.Brittleness}-variable determine the probability that a
@@ -22898,7 +23012,7 @@
 be transported between them, then the second turnstile will be hit, too.
 
 When an actor is to be warped outside of the level by a turnstile
-(which only happens with a green one directly at the levelborder), the
+(which only happens with a green one directly at the level border), the
 actor is shattered instead of warped. This is the only case in which a
 green turnstile is able to shatter a marble.
 
@@ -23790,7 +23904,7 @@
 * enigma.SetAttrib::            Set an attribute of an object
 * enigma.SetAttribs::           Set multiple attributes of an object
 * enigma.SetDefaultAttribs::    Set default attributes
-* enigma.SetCompatibility::     Compability of a level
+* enigma.SetCompatibility::     Compatibility of a level
 * fill_floor::                  Fills a rectangle with a floortile
 * fill_items::                  Fills a rectangle with an item
 * fill_stones::                 Fills a rectangle with a stone
@@ -23836,7 +23950,7 @@
 @node CreateWorld
 @section CreateWorld
 
- at defun CreateWorld (width, heigth)
+ at defun CreateWorld (width, height)
 
 This function creates a new level. Because objects can be added
 to the level only after @code{CreateWorld} has been called,

Modified: trunk/doc/reference/images/Makefile.am
===================================================================
--- trunk/doc/reference/images/Makefile.am	2009-04-27 21:55:23 UTC (rev 1648)
+++ trunk/doc/reference/images/Makefile.am	2009-04-28 18:52:55 UTC (rev 1649)
@@ -1,14 +1,108 @@
+
 PNG = $(wildcard $(srcdir)/*.png)
-PDF = $(addprefix $(if $(builddir), $(builddir)/,), $(addsuffix .pdf, $(basename $(notdir $(PNG)))))
 
-pngdir=@datadir@/doc/enigma/reference/images
-png_DATA=$(PNG)
+GFXDIR = ../../../data/gfx48
 
-SUFFIXES = .png .pdf
+# List of files to copy from GFXDIR
+PNGLIST = \
+	fl_abyss.png \
+	fl_adhesionless.png \
+	fl_aquamarine.png \
+	fl_bast.png \
+	fl_bluegray.png \
+	fl_bluegreen.png \
+	fl_blueslab.png \
+	fl_brick.png \
+	fl_bright.png \
+	fl_concrete.png \
+	fl_dark.png \
+	fl_darkgray.png \
+	fl_dunes.png \
+	fl_fake_trigger.png \
+	fl_gravel.png \
+	fl_gray.png \
+	fl_hay.png \
+	fl_himalaya.png \
+	fl_ice.png \
+	fl_ice_heating.png \
+	fl_inverse_gray.png \
+	fl_inverse_white.png \
+	fl_ivory.png \
+	fl_lawn.png \
+	fl_marble.png \
+	fl_metal.png \
+	fl_mortar.png \
+	fl_pinkbumps.png \
+	fl_plank.png \
+	fl_platinum.png \
+	fl_red.png \
+	fl_redslab.png \
+	fl_rock.png \
+	fl_rough.png \
+	fl_sahara.png \
+	fl_samba.png \
+	fl_sand.png \
+	fl_space.png \
+	fl_stone.png \
+	fl_swamp.png \
+	fl_swamp_heating.png \
+	fl_tigris.png \
+	fl_water.png \
+	fl_water_heating.png \
+	fl_white.png \
+	fl_woven.png \
+	fl_yinyang_yang.png \
+	fl_yinyang_yin.png \
+	it_bag.png \
+	it_pin.png \
+	it_puller.png \
+	it_sensor.png \
+	it_springboard.png \
+	it_spring_drop.png \
+	it_spring_keep.png \
+	it_strip.png \
+	it_surprise.png \
+	it_trap.png \
+	it_weight.png \
+	it_yinyang.png \
+	st_ancient.png \
+	st_bluegray.png \
+	st_brownie.png \
+	st_brownmarble.png \
+	st_camouflage.png \
+	st_concrete.png \
+	st_darkgray.png \
+	st_granite.png \
+	st_greengray.png \
+	st_metal.png \
+	st_pinkbumps.png \
+	st_purplegray.png \
+	st_purplemarble.png \
+	st_redbrown.png \
+	st_redmarble.png \
+	st_redrock.png \
+	st_tigris.png \
+	st_woven.png \
+	st_yellow.png
 
-pdf: $(PDF)
+PNGSOURCE = $(addprefix $(GFXDIR), $(PNGLIST))
 
-.png.pdf:
-	convert -density 112x112 $< $@
+# PDFLIST is deprecated (on elder systems pdflatex needs pdf images)
+PDFLIST = $(addsuffix .pdf, $(basename $(PNGLIST)))
 
-EXTRA_DIST = $(PNG)
+.SUFFIXES = .png
+
+all: $(PNGLIST) $(PDFLIST)
+
+clean:
+	$(RM) $(PNGLIST)
+	$(RM) $(PDFLIST)
+
+
+%.png: $(GFXDIR)/%.png
+	convert -density 112x112 -units PixelsPerCentimeter -crop 48x48+0+0 $< $@
+
+%.pdf: $(GFXDIR)/%.png
+	convert -density 112x112 -units PixelsPerCentimeter -crop 48x48+0+0 $< $@
+
+EXTRA_DIST = $(PNG) $(PNGLIST)



From raoul at mail.berlios.de  Wed Apr 29 23:23:19 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Wed, 29 Apr 2009 23:23:19 +0200
Subject: [Enigma-game-svn] r1650 - in trunk/data/levels: enigma_cross
	enigma_iii enigma_iv enigma_tutorial enigma_v enigma_vii enigma_viii
Message-ID: <200904292123.n3TLNJSr022117@sheep.berlios.de>

Author: raoul
Date: 2009-04-29 23:23:16 +0200 (Wed, 29 Apr 2009)
New Revision: 1650

Added:
   trunk/data/levels/enigma_iii/illmind11_2.xml
   trunk/data/levels/enigma_iii/wb04_2.xml
   trunk/data/levels/enigma_iv/duffy94_2.xml
   trunk/data/levels/enigma_v/andreas06_2.xml
   trunk/data/levels/enigma_v/raoul02_2.xml
   trunk/data/levels/enigma_vii/jet04_4.xml
   trunk/data/levels/enigma_vii/joe04_2.xml
   trunk/data/levels/enigma_vii/joe05_2.xml
   trunk/data/levels/enigma_vii/joe06_2.xml
   trunk/data/levels/enigma_vii/joe18_2.xml
   trunk/data/levels/enigma_vii/joe22_2.xml
   trunk/data/levels/enigma_vii/npb01_2.xml
   trunk/data/levels/enigma_vii/sph02_2.xml
Removed:
   trunk/data/levels/enigma_iii/illmind11_1.xml
   trunk/data/levels/enigma_iii/wb04_1.xml
   trunk/data/levels/enigma_iv/duffy94_1.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/raoul02_1.xml
   trunk/data/levels/enigma_vii/jet04_3.xml
   trunk/data/levels/enigma_vii/joe04_1.xml
   trunk/data/levels/enigma_vii/joe05_1.xml
   trunk/data/levels/enigma_vii/joe06_1.xml
   trunk/data/levels/enigma_vii/joe18_1.xml
   trunk/data/levels/enigma_vii/joe22_1.xml
   trunk/data/levels/enigma_vii/npb01_1.xml
   trunk/data/levels/enigma_vii/sph02_1.xml
Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/enigma0_92_3.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
Log:
-> Levelbugfixes (laser path)
-> levelrewrite-fixes (crawling the abyss, remove yinyangitem in netplay levels)
-> Some updates from mecke (just design)
-> A few new rewritings (joe, duffy)



Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="33" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="34" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -161,7 +161,7 @@
     <level _seq="153" _title="Hurry!" _xpath="enigma_iv/wb01_3" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="3" rev="2" score="3" target="time" unit="duration"/>
     <level _seq="154" _title="Lotsa Triggers" _xpath="enigma_iii/wb03_1" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="155" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="156" _title="Bridge Builders" _xpath="enigma_iii/wb04_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb4" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="156" _title="Bridge Builders" _xpath="enigma_iii/wb04_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb4" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="157" _title="Easy Skyscraper" _xpath="enigma_iii/wb07_1" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb7" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="158" _title="Spiral Race" _xpath="enigma_i/wb06_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="159" _title="Block its way!" _xpath="enigma_iii/wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_3.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 0.92 - 3"/>
+  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 0.92 - 3"/>
 
   <attributes/>
 
@@ -26,7 +26,7 @@
     <level _seq="18" _title="You Must Be Kidding" _xpath="enigma_v/duffy91_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy91" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Map It Out" _xpath="enigma_iii/duffy92_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy92" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Seed Puzzle 2" _xpath="enigma_iv/duffy93_3" author="Jacob Scott" ctrl="force" easy="false" id="duffy93" rel="3" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="21" _title="Graduated Puzzles" _xpath="enigma_iv/duffy94_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Graduated Puzzles" _xpath="enigma_iv/duffy94_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Automaton" _xpath="enigma_v/duffy95_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy95" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Alien Glyphs 2" _xpath="enigma_ii/duffy96_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy96" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="24" _title="Alien Glyphs 3" _xpath="enigma_ii/duffy97_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy97" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="40" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="41" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -97,7 +97,7 @@
     <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="93" _title="Hobbyte" _xpath="enigma_v/alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Water Castle" _xpath="enigma_v/luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Moving Puzzles" _xpath="enigma_v/luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -106,7 +106,7 @@
     <level _seq="98" _title="Sentry Duty" _xpath="enigma_v/nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Thievish Alleys" _xpath="enigma_v/andreas33_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Double play" _xpath="enigma_v/just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="101" _title="Oxyd-Puzzle" _xpath="enigma_v/raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="101" _title="Oxyd-Puzzle" _xpath="enigma_v/raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Keystone" _xpath="enigma_v/raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Print 23" _xpath="enigma_v/richi07_1" author="Richi B?tzer" ctrl="force" easy="false" id="richi07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Laser Crossing" _xpath="enigma_v/luc24_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc24" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -115,7 +115,7 @@
     <level _seq="107" _title="Pirates Island" _xpath="enigma_v/alain07_1" author="Alain Busser" ctrl="force" easy="false" id="alain07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Tropical Island" _xpath="enigma_v/andreas08_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas08" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Ghost Islands" _xpath="enigma_v/raoul15_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="- Meditation -" _xpath="enigma_v/raoul02_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul02" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="- Giza Meditation -" _xpath="enigma_v/raoul02_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul02" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="111" _title="Humid Maze" _xpath="enigma_v/duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="112" _title="Swamp of Balls" _xpath="enigma_v/luc08_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Designed with love" _xpath="enigma_v/just01_1" author="JuSt" ctrl="force" easy="false" id="just01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,16 +1,16 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="47" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="48" title="Enigma 1.1 new"/>
 
   <attributes/>
 
   <levels>
-    <level _seq="1" _title="Inkblot 1" _xpath="enigma_vii/npb01_1" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="1" _title="Inkblot 1" _xpath="enigma_vii/npb01_2" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="mad-ill-tation" _xpath="enigma_vii/illmind14_1" author="illmind" ctrl="force" easy="false" id="ill0907-01" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="- Meditation -" _xpath="enigma_vii/joe04_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="- Meditation -" _xpath="enigma_vii/joe05_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="5" _title="Working Outwards" _xpath="enigma_vii/joe06_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="- Meditation -" _xpath="enigma_vii/joe04_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="- Meditation -" _xpath="enigma_vii/joe05_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="5" _title="Working Outwards" _xpath="enigma_vii/joe06_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Super Puzzle" _xpath="enigma_vii/joe11_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Pantograph" _xpath="enigma_vii/duffy160_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy160" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Advanced Space Tubes" _xpath="enigma_vii/duffy161_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy161" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -33,7 +33,7 @@
     <level _seq="25" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
+    <level _seq="28" _title="Not Fast Enough" _xpath="enigma_vii/jet04_4" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="4" rev="4" score="4" target="time" unit="duration"/>
     <level _seq="29" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Give Way 4 two" _xpath="enigma_vii/just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
@@ -51,11 +51,11 @@
     <level _seq="43" _title="Minor Tangler" _xpath="enigma_vii/joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Circulation" _xpath="enigma_vii/pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="45" _title="Maze for Two" _xpath="enigma_vii/ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
-    <level _seq="46" _title="Making Shapes" _xpath="enigma_vii/joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Making Shapes" _xpath="enigma_vii/joe18_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Clever Pushing" _xpath="enigma_vii/joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Using Rotators" _xpath="enigma_vii/joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Swapping Puzzle" _xpath="enigma_vii/joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Multiban" _xpath="enigma_vii/dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="53" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
@@ -66,7 +66,7 @@
     <level _seq="58" _title="Remote Meditation" _xpath="enigma_vii/dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="61" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_2" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
     <level _seq="64" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
@@ -118,7 +118,7 @@
     <level _seq="110" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="173" score="2" target="time" unit="duration"/>
     <level _seq="115" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="116" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="17" score="1" target="time" unit="duration"/>
@@ -133,7 +133,7 @@
     <level _seq="125" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Plutos World" _xpath="enigma_viii/mecke02_2" author="mecke" ctrl="force" easy="false" id="mecke16" rel="2" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="23" score="1" target="time" unit="duration"/>
     <level _seq="129" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="127" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iii/illmind11_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/illmind11_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_iii/illmind11_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,287 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Waterworld" el:subtitle="" el:id="illmind11"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
-      <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
-      <el:copyright>Copyright ? 2003 illmind</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- written with the help of BBE105
--- Dec.2005: Repaired magnets and note and added easy-mode -- Andreas
-
-function file_oxyd(x,y,f)
-    oxyd_default_flavor=f
-    oxyd(x,y)
-end
-levelh=37
-levelw=96
-
-enigma.SlopeForce=30
-enigma.ElectricForce=30
-cells={}
-items={}
-actors={}
-stones={}
-actors[" "]=cell{}
-stones[" "]=cell{}
-cells[" "]=cell{}
-items[" "]=cell{}
-cells["!"]=cell{floor="fl-sand"}
-stones["!"]=cell{stone="st-wood"}
-cells["#"]=cell{floor="fl-normal"}
-stones["#"]=cell{stone="st-grate1"}
-cells["$"]=cell{floor="fl-water"}
-stones["$"]=cell{stone="st-death_invisible"}
-stones["%"]=cell{parent={{file_oxyd,"a"}}}
-stones["&"]=cell{stone="st-swap"}
-stones["'"]=cell{stone="st-stoneimpulse"}
-items["!"]=cell{item="it-extralife"}
-cells["%"]=cell{floor="fl-space"}
-items["#"]=cell{item="it-document"}
-items["$"]=cell{item="it-coin4"}
-stones["("]=cell{stone="st-coinslot"}
-cells["&"]=cell{floor="fl-stwood1"}
-stones[")"]=cell{stone="st-death"}
-cells["'"]=cell{floor="fl-stwood2"}
-function ac_blackball(x,y)
-n=""
-p=0
-f=0
- if (x==47) and (y==18) then
-  n="ac47x18"
-  p=0
-  mf=1
- end
-set_actor("ac-blackball",x+0.5,y+0.5,{player=p,name=n,mouseforce=mf})
-end
-actors["!"]=cell{parent={{ac_blackball}}}
-items["%"]=cell{item="it-trigger"}
-cells["("]=cell{floor="fl-wood"}
-items["&"]=cell{item="it-crack3"}
-cells[")"]=cell{floor="fl-gradient2"}
-items["'"]=cell{item="it-hollow"}
-cells["*"]=cell{floor="fl-gradient1"}
-items["("]=cell{item="it-hill"}
-function workingmagnet(x,y)
-  set_item("it-magnet", x, y, {on=TRUE});
-end
-if difficult then
-  items[")"]=cell{parent={{workingmagnet}}}
-else
-  items[")"]=cell{}
-end
-cells["+"]=cell{floor="fl-stwood"}
-function ac_rotor(x,y)
-n=""
-r=0
-f=0
- init=false
- if (x==94) and (y==23) then
-  n="ac94x23"
-  r=10
-  f=10
-  init=FALSE
- end
-set_actor("ac-rotor",x+0.5,y+0.5,{range=r,force=f,name=n,gohome=init})
-end
-actors["#"]=cell{parent={{ac_rotor}}}
-level={"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
-       "!!!!!$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!!*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*)*)*)*)*)*!",
-       "!!!!!!!!!!!!!!!!!!!!$$$$$$!!!!!!!$$$$$!$$$$$$$$$!$$$$$$$$!$$$$$$$$$!!!!!!!!$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!!!!!!!!!!!!!$$$$$$!!!!!!!$$$$$!$$$$$$$$!!!$$$$$$$!$$$$$$$$$!$$$$$$$$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!$$$$$$$$$$$!$$$$$$!!!!!!!$$$$$!$$$$$$$!!!!!$$$$$$!$$$$$$$$$!$$$$$$$$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!!!$!!!$!!!$!$$$$$$!!!!!!!$$$$$!$$$$$$!!!!!!!$$$$$!$$$$$$$$$!$$$$((((()*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!$!$!$!$!$!$!$$$$$$!!!!!!!$$$$$!$$$$$$$!!!!!$$$$$$!$$$$$$$$$!$$$$($$$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!$!!!$!!!$!$!$$$$$$$$$$$$$$$$$$!$$$$$$$$!!!$$$$$$$!$$$$$$$$$!((((($$$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!$$$$$$$$$!$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$!$$$$$$$$!$$$$$$$$$!$$$$$$$$!)*)*)*)*)*)*)*)*)*!",
-       "!$$$$$$$$$!!!!!!!!$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!)*)*)*)*)*)*)*)*)*!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!)*)*)*)*)*)*)*)*)*!",
-       "!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!",
-       "!$!!!!!!!$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!$$$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!$$$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!$$$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!$$$$$$$$$!!!$!",
-       "!$!!!!!!!!!$$$$$$$$$$$!!!!!!!!!!!!!$$$$$$!!!!!!!!!!!!!$$$$$$!!!!!!!!!!!!!$$$$$$!!!$$$$$$$$$!!!$!",
-       "!$!!!!!!!!!$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!!!$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!!!$$$$$$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!$$$!$$!!!!!!!!!!!!!!!$!",
-       "!$!!!!!!!!!$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$!!",
-       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!!!!!!!!!!$!!!!!!!!!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$!!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$!!!!!!$!$$$$$$$$$$$$$$$$$$!$$!!!$!!$$$!!$!!!$!$((((((($$$(((((($!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$!!!!!!$!$$$&'&'&'&'&'&'$$$!$$$$$$!!$$$!!$$$$$!$($$$$$($+(($$$$($!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$!!!!!!$!$$$'&'&'&'&'&'&$$$!$$!!!$!!$!$!!$!!!$!$((((($($$$$$(((($!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$!!!!!!$!$$$&'&'&'&'&'&'$$$!$$!!!$!!!!!!!$!!!$!$$$$$($((((((($$$$!",
-       "!$$!!%%%%%%%%%%%!$$$$$$$$$$$$!!!!!!!!$!$$$'&'&'&'&'&'&$$$!$$$$$$!!!!!!!$$$$$!$((((($$$$$$$$$(((!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$!!!!!!!!$!$$$&'&'&'&'&'&'$$$!$$!!!$!!!!!!!$!!!$!$($$$$$((((((((($(!",
-       "!$$$$$$$$$$$$$$$$$$!$$$!!!!!!!!!!!!!!$!$$$'&'&'&'&'&'&$$$!$$$!$$$$!!!$$$$!$$!$($((($($$$$$$$$$(!",
-       "!$$$$$$$$$$$$$$$$$$!$$$!!!!!!!!!!!!!!$!$$$$$$$$$$$$$$$$$$!$$$!$$$$!!!$$$$!$$!$($($($($!!!!!!!!!!",
-       "!$$$$$$$$$$$$$$$$$$!$$$!!!!!!!!!!!!!!$!$$$$$$$$$$$$$$$$$$!$$$!!!!!!!!!!!!!$$!$((($((($!!!!!!!!!!",
-       "!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$$$$$$$$$$!$$$$$$$$$!!!!!!!!!!",
-       "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
-   acmap={"                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                               !                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                              # ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                ",
-          "                                                                                                "}
-  itmap={"                                                                                                ",
-         "                                                                               ' ' ' ' ' ' ' '  ",
-         "                                                                                    ( ( ( ( ( ( ",
-         "                                                                          !  ' ' ' ' ' ' ' ' '  ",
-         "                           $                                                  ( ( ( ( ( ( ( ( ( ",
-         "       !                                                                     ' ' ' ' ' ' ' ' '  ",
-         "                           #                                            &&&&& ( ( ( ( ( ( ( (   ",
-         "                                                                        &    ' ' ' ' ' ' ' ' '  ",
-         "                                                                    &&&&&     ( ( ( ( ( ( ( ( ( ",
-         "                                                                             ' ' ' ' ' ' ' ' '  ",
-         "                                                                              (!( ( ( ( ( ( (!( ",
-         "                                                                              ) ) ) ) ) ) ) ) ) ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                          #                                          #                          ",
-         "                                             !   #                                              ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "     !                                                                                          ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                                                                ",
-         "                                                             %           %    &&&&&&&   &&&&&&  ",
-         "                                                                              &     &   &    &  ",
-         "                                                                              &&&&& &     &&&&  ",
-         "                                           !                                      & &&&&&&&     ",
-         "                                                                              &&&&&         &&& ",
-         "                                                                      #       &     &&&&&&&&& & ",
-         "                                                                              & &&& &         & ",
-         "                         !                                                    & & & &           ",
-         "                                                                              &&& &&&           ",
-         "                                                                                                ",
-         "                                                                                                "}
- stmap={"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",
-        "!!!!!              !                  !                  !                  !%                 !",
-        "!!% !'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''           !",
-        "!!!!!!!!!!!!!!!!!!!!                  !         #        !                  !                  !",
-        "!######            !           (      !        #%#       !                  !                  !",
-        "!###### $$$$$$$$$$$!           (      !       #&#&#      !                  !                  !",
-        "!######   $   $   $!       !   (      !      ###%###     !                                     !",
-        "!#&#&## $ $ $ $ $ $!                  !       #&#&#      !                  !                  !",
-        "!###### $   $   $ $!                  !        ###       !                  !                  !",
-        "!       $$$$$$$$$ $!                  !         #        !                  !                  !",
-        "!$$$$$$$$$        $!                  !                  !                  !                  !",
-        "!        $ $$$$$$$$!                  !                  !                  !) ) ) ) ) ) ) ) ) !",
-        "!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!!!!!!!!!!!!",
-        "!                  !                  !                  !                  !                  !",
-        "!                  !                  !                  !                  !                  !",
-        "!  ! ! !           !                  !                  !                  !   !  !  !  !  !  !",
-        "!                  !   ! ! ! ! ! !    !   ! ! ! ! ! !    !    ! ! ! ! !     !                  !",
-        "!  ! ! !           !                  !    !       !     !                  !                  !",
-        "!                      ! ! ! ! ! !        ! ! ! ! ! !         ! ! ! ! ! !                      !",
-        "!  ! ! ! !         !                  !    !       !     !                  !                  !",
-        "!                  !   ! ! ! ! ! !    !   ! ! ! ! ! !    !    ! ! ! ! !     !   !     !     !  !",
-        "!  ! ! ! !         !                  !                  !                  !                  !",
-        "!                  !                  !                  !                  !                  !",
-        "!                  !                  !                  !                  !                  !",
-        "!!!!!!!!!!!!!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!! !!!!!!!!!",
-        "!                  !                  !                  !                  !                  !",
-        "!                  !                  !                  !                  !                  !",
-        "!                  !            ! !   !   )))))) )))))   !                  !                  !",
-        "!                  !                  !   )%%       %)   !   !           !  !                  !",
-        "! $$$$$$$$$$$$$$$  !            ! !   !   ) ) ) ) )  )   !                  !                  !",
-        "! $%                                  !   )  ) ) ) ) )   !                  !                  !",
-        "! $$$$$$$$$$$$$$$  !          ! ! !   !   )%         )   !   !  !     !  !  !                  !",
-        "!                  !                  !   ))))))))))))   !                  !                  !",
-        "!                  !     ! !  ! ! !   !                  !                  !          !  !  ! !",
-        "!                  !                  !                  !                  !           !  !   !",
-        "!                  !                  !                  !                  !                 %!",
-        "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}
-create_world_by_map(level)
-draw_map(0,0,stmap,stones)
-draw_map(0,0,itmap,items)
-draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetItem(26,17),"text","text1")
-SetAttrib(enigma.GetItem(27,6),"text","text2")
---SetAttrib(enigma.GetStone(31,4),"init",FALSE)
---SetAttrib(enigma.GetStone(31,5),"init",FALSE)
---SetAttrib(enigma.GetStone(31,6),"init",FALSE)
-SetAttrib(enigma.GetItem(49,18),"text","text3")
-SetAttrib(enigma.GetItem(61,26),"invisible",FALSE)
-SetAttrib(enigma.GetItem(69,17),"text","text1")
-SetAttrib(enigma.GetItem(70,31),"text","text2")
-SetAttrib(enigma.GetItem(73,26),"invisible",FALSE)
---  SetAttrib(enigma.GetItem(78,11),"force",50)
---  SetAttrib(enigma.GetItem(80,11),"force",50)
---  SetAttrib(enigma.GetItem(82,11),"force",50)
---  SetAttrib(enigma.GetItem(84,11),"force",50)
---  SetAttrib(enigma.GetItem(86,11),"force",50)
---  SetAttrib(enigma.GetItem(88,11),"force",50)
---  SetAttrib(enigma.GetItem(90,11),"force",50)
---  SetAttrib(enigma.GetItem(92,11),"force",50)
---  SetAttrib(enigma.GetItem(94,11),"force",50)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">Remember  to  only  move  enough  stones  to  just  look  into  the  next  room  ...</el:english>
-      </el:string> 
-      <el:string el:key="text2">
-        <el:english el:translate="true">You  have  lost  ...</el:english>
-      </el:string> 
-      <el:string el:key="text3">
-        <el:english el:translate="false">Welcome  to  illmind's  waterworld  ...</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/illmind11_2.xml (from rev 1646, trunk/data/levels/enigma_iii/illmind11_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/illmind11_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_iii/illmind11_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,123 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Waterworld" el:subtitle="" el:id="illmind11"/>
+      <el:version el:score="2" el:release="2" el:revision="6" el:status="test"/>
+      <el:author el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
+      <el:copyright>Copyright ? 2003 illmind</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>New API version by Andreas, Feb. 2009</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+wo["SlopeStrength"] = 30
+
+ti[" "] = {"fl_sand"}
+ti["~"] = {"fl_water"}
+ti["="] = {"fl_space"}
+ti["-"] = {"fl_wood_framed_h"}
+ti["|"] = {"fl_wood_framed_v"}
+ti["."] = {"fl_wood"}
+ti["^"] = {"fl_slope_pn"}
+ti["v"] = {"fl_slope_ps"}
+ti["+"] = {"fl_wood_framed"}
+ti["B"] = {"st_box"}
+ti["C"] = {"st_coinslot"}
+ti["F"] = ti["-"] .. {"st_death"}
+ti["G"] = ti["|"] .. {"st_death"}
+ti["H"] = ti["^"] .. {"st_death"}
+ti["O"] = {"st_oxyd", flavor = "a"}
+ti["P"] = {"st_stoneimpulse"}
+ti["Q"] = ti["|"] .. ti["O"]
+ti["R"] = ti["-"] .. ti["O"]
+ti["S"] = {"st_swap"}
+ti["T"] = ti["~"] .. {"st_death_invisible"}
+ti["X"] = {"st_grate_cross"}
+ti["c"] = {"it_coin_l"}
+ti["e"] = {"it_extralife"}
+ti["E"] = ti["B"] .. ti["e"]
+ti["f"] = ti["|"] .. ti["e"]
+ti["g"] = ti["^"] .. ti["e"]
+ti["h"] = ti["v"] .. {"it_meditation_hill"}
+ti["k"] = ti["."] .. {"it_crack_l", flavor = "water"}
+ti["m"] = ti["^"] .. {"it_meditation"}
+ti["t"] = {"it_trigger"}
+ti["@"] = {"#ac_marble", adhesion = 1}
+ti["r"] = {"#ac_rotor", gohome = false, range = 10, strength = 10}
+ti["1"] = {"it_document", text = "text1"}
+ti["2"] = ti["B"] .. {"it_document", text = "text2"}
+ti["3"] = {"it_document", text = "text3"}
+
+if wo["IsDifficult"] then
+  ti["b"] = ti[" "]
+  ti["n"] = ti["v"] .. {"it_magnet", state = ON}
+else
+  ti["b"] = ti["B"]
+  ti["n"] = ti["v"]
+end
+
+wo(ti, " ", {
+  "BBPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB",
+  "BBSBBP~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~BOvmvmvmvmvmvmvmvmvB",
+  "BBO BPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPh^h^h^h^h^hB",
+  "BBBBBBBBBBBBBBBBBBBB~~~~~~       ~~~~~B~~~~~~~~~X~~~~~~~~B~~~~~~~~~       e~BmvmvmvmvmvmvmvmvmvB",
+  "BXXXXXX            B~~~~~~ c   C ~~~~~B~~~~~~~~XOX~~~~~~~B~~~~~~~~~ ~~~~~~~~B^h^h^h^h^h^h^h^h^hB",
+  "BXXXXXXeTTTTTTTTTTTB~~~~~~     C ~~~~~B~~~~~~~XSXSX~~~~~~B~~~~~~~~~ ~~~~~~~~BmvmvmvmvmvmvmvmvmvB",
+  "BXXXXXX   T   T   TB~~~~~~ 2   C ~~~~~B~~~~~~XXXOXXX~~~~~B~~~~~~~~~ ~~~~kkkkk^h^h^h^h^h^h^h^h^vB",
+  "BXSXSXX T T T T T TB~~~~~~       ~~~~~B~~~~~~~XSXSX~~~~~~B~~~~~~~~~ ~~~~k~~~BmvmvmvmvmvmvmvmvmvB",
+  "BXXXXXX T   T   T TB~~~~~~~~~~~~~~~~~~B~~~~~~~~XXX~~~~~~~B~~~~~~~~~ kkkkk~~~B^h^h^h^h^h^h^h^h^hB",
+  "B       TTTTTTTTT TB~~~~~~~~~~~~~~~~~~B~~~~~~~~~X~~~~~~~~B~~~~~~~~~ ~~~~~~~~BmvmvmvmvmvmvmvmvmvB",
+  "BTTTTTTTTT        TB~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B^hgh^h^h^h^h^h^hghB",
+  "B~~~~~~~~T~TTTTTTTTB~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~BHnHnHnHnHnHnHnHnHnB",
+  "BBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBBBBBBBBBBBB",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B",
+  "B~       ~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~               ~B",
+  "B~ B B B ~~~~~~~~~~B~~             ~~~B~~             ~~~B~~             ~~~B~~ b  b  b  b  b ~B",
+  "B~       ~~~~~~~~~~B~~ B b B B b B ~~~B~~ B B b b B B ~~~B~~  B b B b B  ~~~B~~               ~B",
+  "B~ B B B ~~~~~~~~~~B~~    1        ~~~B~~  B       B  ~~~B~~         1   ~~~B~~   ~~~~~~~~~   ~B",
+  "B~         ~~~~~~~~~~~ b b b b b b ~~~~~~ B Beb at b3B B ~~~~~~  b B b B b b~~~~~~   ~~~~~~~~~   ~B",
+  "B~ b b b b ~~~~~~~~B~~             ~~~B~~  B       B  ~~~B~~             ~~~B~~               ~B",
+  "B~         ~~~~~~~~B~~ B b B B b B ~~~B~~ B B b b B B ~~~B~~  B b B b B  ~~~B~~ B     B     B ~B",
+  "B~ B E B b ~~~~~~~~B~~             ~~~B~~             ~~~B~~             ~~~B~~               ~B",
+  "B~         ~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~rB",
+  "BBBBBBBBBBBBBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBBBBBBBBBBB~BBBBBBBBB",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~ B",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~      ~B~~~~~~~~~~~~~~~~~~B~~ t ~  ~~~  ~ t ~B~kkkkkkk~~~kkkkkk~B",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~ B B  ~B~~~FGFGFG-GFGFG~~~B~~~~~~  ~~~  ~~~~~B~k~~~~~k~+.k~~~~k~B",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~      ~B~~~GRQ-|-|-|-QF~~~B~~ B ~  ~ ~  ~ B ~B~kkkkk~k~~~~~kkkk~B",
+  "B~TTTTTTTTTTTTTTT~~B~~~~~~~~~~~ B B  ~B~~~FfF|F|F|F|-G~~~B~~   ~       ~   ~B~~~~~k~kkkkkkk~~~~B",
+  "B~TO =========== ~~~~~~~~~~~~        ~B~~~G-|F|F|F|F|F~~~B~~~~~~       ~~~~~B~kkkkk~~~~~~~~~kkkB",
+  "B~TTTTTTTTTTTTTTT~~B~~~~~~~~~ B B B  ~B~~~FQ-|-|-|-|-G~~~B~~ B ~B     2~ B ~B~k~~~~~kkkkkkkkk~kB",
+  "B~~~~~~~~~~~~~~~~~~B~~~              ~B~~~GFGFGFGFGFGF~~~B~~~ ~~~~   ~~~~ ~~B~k~kkk~k~~~~~~~~~kB",
+  "B~~~~~~~~~~~~~~~~~~B~~~  E B  B B B  ~B~~~~~~~~~~~~~~~~~~B~~~ ~~~~   ~~~~ ~~B~k~k~k~k~ B  B  B B",
+  "B~~~~~~~~~~~~~~~~~~B~~~              ~B~~~~~~~~~~~~~~~~~~B~~~             ~~B~kkk~kkk~  B  B   B",
+  "B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~~~~~~~~~~B~~~~~~~~~        OB",
+  "BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"})
+
+    wo:shuffleOxyd()
+    
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">Remember  to  only  move  enough  stones  to  just  look  into  the  next  room  ...</el:english>
+      </el:string> 
+      <el:string el:key="text2">
+        <el:english el:translate="true">You  have  lost  ...</el:english>
+      </el:string> 
+      <el:string el:key="text3">
+        <el:english el:translate="false">Welcome  to  illmind's  waterworld  ...</el:english>
+      </el:string> 
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_iii/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,13 +1,13 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma III"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack3_2" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack3" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Bridge Builders" _xpath="./wb04_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb4" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Bridge Builders" _xpath="./wb04_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb4" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Teamplay Doors" _xpath="./luc09_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc09" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="Map It Out" _xpath="./duffy92_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy92" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Checkerboard" _xpath="./duffy08_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy8" rel="1" rev="1" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iii/wb04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/wb04_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_iii/wb04_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,90 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Bridge Builders" el:subtitle="" el:id="wb4"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Jon 'WB' Sneyers" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jon 'WB' Sneyers</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-
-cells[";"]=cell{floor="fl-tigris"}
-cells[":"]=cell{floor="fl-samba"}
-cells["/"]=cell{floor="fl-stone"}
-cells[" "]=cell{floor="fl-leaves"}
-cells["%"]=cell{floor="fl-sand"}
-cells["w"]=cell{stone="st-wood"}
-cells["i"]=cell{stone="st-stoneimpulse"}
-
-cells["#"]=cell{stone="st-rock3"}
-cells["="]=cell{stone="st-rock6"}
-cells["W"]=cell{stone="st-white4"}
-cells["B"]=cell{stone="st-black4"}
-cells["."]=cell{floor="fl-abyss"}
-cells["@"]=cell{floor="fl-water"}
-
-cells["H"]=cell{stone="st-chameleon"}
-
-cells["&"]=cell{{{oneway, EAST}}}
-
-cells["V"]=cell{parent=cells[" "], stone="st-bolder-s"}
-cells[">"]=cell{parent=cells[" "], stone="st-bolder-e"}
-cells["<"]=cell{parent=cells[" "], stone="st-bolder-w"}
-cells["^"]=cell{parent=cells[" "], stone="st-bolder-n"}
-
-cells["A"]=cell{stone={face="st-door", attr={name="doorA", type="v"}}}
-cells["a"]=cell{item= {face="it-trigger", attr={action="openclose", target="doorA"}}}
-cells["D"]=cell{stone={face="st-door", attr={name="doorB", type="v"}}}
-cells["d"]=cell{item= {face="it-trigger", attr={action="openclose", target="doorB"}}}
-cells["C"]=cell{stone={face="st-door", attr={name="doorC", type="h"}}}
-cells["c"]=cell{item= {face="it-trigger", attr={action="openclose", target="doorC"}}}
-cells["O"]=cell{actor={face="ac-blackball", attr={player=0, essential=1}}}
-cells["o"]=cell{actor={face="ac-whiteball", attr={player=1, essential=1}}}
-cells["0"]=oxyd
-cells["y"]=cell{item= {face="it-yinyang"}}
-cells["+"]=cell{{{document, "text1"}}}
-
-level = {
---  012345678901234567890123456789012345678
-   "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@",
-   "@%%%%%%%%%%@=0000====0000=@@%%%%%%%%%%@",
-   "@%0   #  y%@=      0     =@@%y # #  0%@",
-   "@% a ###  %@======C= =====@@%  #+#   %@",
-   "@%    #   %WWA =   0 =   DBB%  ###   %@",
-   "@%%%%% %%%%@@= = = = = ===@@%%%% %%%%%@",
-   "@@@@@% %@@@@@=   =d=   =@@@@@@@% %@@@@@",
-   "@%%%%%#%%%%%%====c=  ===%%%%%%%% %%%%%@",
-   "@%### ####0##%@@=   ==%0  #          %@",
-   "@%  # #   # %%BB####WW%%  ###########@@",
-   "@%O #   #   %W w....w B%  #         o%@",
-   "@%%%%%%%%#%%%W w....w B%%%%%%%%%%%%%%%@",
-   "@@@@@@@@@@@@@###....###@@@@@@@@@@@@@@@@",
---  012345678901234567890123456789012345678
-}
-
-oxyd_default_flavor = "c"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">White helps black, black helps white.</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/wb04_2.xml (from rev 1646, trunk/data/levels/enigma_iii/wb04_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/wb04_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_iii/wb04_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,61 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Bridge Builders" el:subtitle="" el:id="wb4"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Jon 'WB' Sneyers" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jon 'WB' Sneyers</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="true"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti["  "] = {"fl_abyss"}
+ti["~ "] = {"fl_water"}
+ti["- "] = {"fl_sand"}
+ti["= "] = {"fl_lawn"}
+ti[" #"] = {"st_plaster"}
+ti[" %"] = {"st_purplegray"}
+ti[" +"] = {"st_box"}
+ti[" W"] = {"st_passage", color=WHITE, flavor="frame"}
+ti[" B"] = {"st_passage", color=BLACK, flavor="frame"}
+ti["trigger"] = {"it_trigger", target="door%%"}
+ti["doorh"] = {"st_door", flavor="d", faces="ns", name="door%%"}
+ti["doorv"] = {"st_door", flavor="d", faces="ew", name="door%%"}
+ti[" t"] = {"it_document", text="text1"}
+ti[" O"] = {"st_oxyd", flavor="c"}
+ti["@1"] = ti["= "] .. {"#ac_marble_black"}
+ti["@2"] = ti["= "] .. {"#ac_marble_white"}
+
+local resolver = res.composer(res.autotile(ti, {" 1", " 3", "trigger"}, {" a", " b", "doorv"}, {" c", " c", "doorh", 3}))
+
+wo(resolver, "  ", {
+    "~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ",
+    "~ - - - - - - - - - - ~ =%=O=O=O=O=%=%=%=%=O=O=O=O=%~ ~ - - - - - - - - - - ~ ",
+    "~ - =O= = = =#= = = - ~ =%= = = = = = =O= = = = = =%~ ~ - = = =#= =#= = =O- ~ ",
+    "~ - = =1= =#=#=#= = - ~ =%=%=%=%=%=%=c=%= =%=%=%=%=%~ ~ - = = =#=t=#= = = - ~ ",
+    "~ - = = = = =#= = = - =W=W=a= =%= = = =O= =%= = = =b=B=B- = = =#=#=#= = = - ~ ",
+    "~ - - - - - = - - - - ~ ~ =%= =%= =%= =%= =%= =%=%=%~ ~ - - - - = - - - - - ~ ",
+    "~ ~ ~ ~ ~ - = - ~ ~ ~ ~ ~ =%= = = =%=2=%= = = =%~ ~ ~ ~ ~ ~ ~ - = - ~ ~ ~ ~ ~ ",
+    "~ - - - - - =#- - - - - - -%=%=%=%=3=%= = =%=%=%- - - - - - - - = - - - - - ~ ",
+    "~ - =#=#=#= =#=#=#=#=O=#=#- ~ ~ =%= = = =%=%- -O= = =#= = = = = = = = = = - ~ ",
+    "~ - = = =#= =#= = = =#= = - =B=B=#=#=#=#=W=W- - = = =#=#=#=#=#=#=#=#=#=#=#~ ~ ",
+    "~ - @1= =#= = = =#= = = = =W= =+        =+= =B- = = =#= = = = = = = = = @2- ~ ",
+    "~ - - - - - - - - -#- - - =W= =+        =+= =B- - - - - - - - - - - - - - - ~ ",
+    "~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ =#=#=#        =#=#=#~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ "})
+
+wo:shuffleOxyd()
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">White helps black, black helps white.</el:english>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_iv/duffy94_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy94_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_iv/duffy94_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,86 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Graduated Puzzles" el:subtitle="" el:id="duffy94"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=3
-rooms_high=1
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-enigma.ConserveLevel = 0
-
-fill_floor("fl-leaves", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-rock1", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "*" then
-            set_stone( "st-brownie", i-1, line)
-        elseif c == "%" then
-            set_stone( "st-glass_move", i-1, line)
-        elseif c == "&" then
-            set_stone( "st-glass_move", i-1, line)
-            set_floor("fl-water",i-1,line)
-        elseif c == "$" then
-            set_stone( "st-marble_move", i-1, line)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c == "~" then
-            set_floor("fl-water",i-1,line)
-        elseif c=="z" then
-            set_actor("ac-blackball",i-.5,line+.5, {player=0})
-        elseif c=="y" then
-            set_actor("ac-whiteball", i-1,line+.5, {player=1})
-        elseif c == "g" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-        elseif c=="+" then
-            set_stone( "st-wood", i-1, line)
-        elseif c=="=" then
-            set_floor("fl-space",i-1,line)
-        end
-    end
-end
-
-renderLine(00,"##########################################################")
-renderLine(01,"#   * g* g* #  % % # $  $ ##  *   *  ##   %              #")
-renderLine(02,"#   * **  * # % % %# $ $$ ##  *   *  ## %&~%############ #")
-renderLine(03,"#   * g* g* #  % % # $  $ ##  * * *  ##%  % ~   %      # #")
-renderLine(04,"#   * **  * #%% %% # $$ $ ## *+*+*+* ## g% o#  %&%&%&%&# #")
-renderLine(05,"#   * g* g* # %  & # $  $ ##  * * *  ######## &  %  %  # #")
-renderLine(06,"# z  ****** %  % %   $++$ ~~+  * * + ~~~~~~~~ %  &   &   #")
-renderLine(07,"#   * g* g* # %  & # $  $ ##  * * *  ######## &  %  %  # #")
-renderLine(08,"#   * **  * #%% %% # $$ $ ## *+*+*+* ## g% o#  %&%&%&%&# #")
-renderLine(09,"#   * g* g* #  % % # $  $ ##  * * *  ##%  % ~   %      # #")
-renderLine(10,"#   * **  * # % % %# $ $$ ##  *   *  ## %&~%############ #")
-renderLine(11,"#   * g* g* #  % % # $  $ ##  *   *  ##   %              #")
-renderLine(12,"##########################################################")
-
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/duffy94_2.xml (from rev 1648, trunk/data/levels/enigma_iv/duffy94_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/duffy94_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
+++ trunk/data/levels/enigma_iv/duffy94_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,51 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Graduated Puzzles" el:subtitle="" el:id="duffy94"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl_lawn"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st_granite"}
+ti["*"] = {"st_brownie"}
+ti["%"] = {"st_rawglass_movable"}
+ti["$"] = {"st_redbrown_movable"}
+ti["g"] = {"st_grate", flavor="cross"}
+ti["+"] = {"st_box"}
+ti["&"] = ti["~"] .. ti["%"]
+ti["O"] = {"st_oxyd"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "##########################################################",
+    "#   * g* g* #  % % # $  $ ##  *   *  ##   %              #",
+    "#   * **  * # % % %# $ $$ ##  *   *  ## %&~%############ #",
+    "#   * g* g* #  % % # $  $ ##  * * *  ##%  % ~   %      # #",
+    "#   * **  * #%% %% # $$ $ ## *+*+*+* ## g% O#  %&%&%&%&# #",
+    "#   * g* g* # %  & # $  $ ##  * * *  ######## &  %  %  # #",
+    "# @  ****** %  % %   $++$ ~~+  * * + ~~~~~~~~ %  &   &   #",
+    "#   * g* g* # %  & # $  $ ##  * * *  ######## &  %  %  # #",
+    "#   * **  * #%% %% # $$ $ ## *+*+*+* ## g% O#  %&%&%&%&# #",
+    "#   * g* g* #  % % # $  $ ##  * * *  ##%  % ~   %      # #",
+    "#   * **  * # % % %# $ $$ ##  *   *  ## %&~%############ #",
+    "#   * g* g* #  % % # $  $ ##  *   *  ##   %              #",
+    "##########################################################"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_iv/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="37" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="38" title="Enigma IV"/>
 
   <attributes/>
 
@@ -20,7 +20,7 @@
     <level _seq="12" _title="Slinky-Racing" _xpath="./duffy14_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="4" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Too Hot" _xpath="./martin94_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin94" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="15" _title="Graduated Puzzles" _xpath="./duffy94_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="15" _title="Graduated Puzzles" _xpath="./duffy94_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Running Stone" _xpath="./christophanita01_1" author="Christoph &amp; Anita" ctrl="force" easy="false" id="christophanita_runningstone" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Flood Gates" _xpath="./nat08_2" author="Nat Pryce" ctrl="force" easy="false" id="nat8" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Sierpinski" _xpath="./alain10_1" author="Alain Busser" ctrl="force" easy="false" id="alain10" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="20" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="21" title="Tutorial"/>
 
   <attributes/>
 
@@ -43,7 +43,7 @@
     <level _seq="35" _title="Slippery Slopes" _xpath="enigma_i/martin38_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin38" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Ice Skating" _xpath="enigma_i/siegfried22_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Sok It To 'Em" _xpath="enigma_i/nat07_2" author="Nat Pryce" ctrl="force" easy="false" id="nat7" rel="2" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Lasers and Mirrors" _xpath="./a_tut04_2" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut04" rel="2" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Lasers and Mirrors" _xpath="./a_tut04_2" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut04" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Light Switches" _xpath="enigma_i/martin08_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin08" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="40" _title="- Meditation -" _xpath="enigma_i/siegfried33_1" author="anonymous" ctrl="force" easy="false" id="meditation1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Mirror Room" _xpath="enigma_i/luc12_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc12" rel="2" rev="1" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,86 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
-      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
-      <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="01:08" el:difficult="02:07"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- Originally created with the help of BBE 1.05
-
-ti[" "]={"fl_metal_7", friction=4.0}
-ti["!"]={"st_metal"}
-ti["$"]={"st_oxyd", flavor = "a"}
-ti["1"]={"st_laserswitch", target = "door1"}
-ti["2"]={"st_laserswitch", target = "door2"}
-ti["3"]={"st_laserswitch", target = "door3"}
-ti["4"]={"st_laserswitch", target = "door4"}
-ti["a"]={"st_door", "door1", flavor="d", faces="ew"}
-ti["b"]={"st_door", "door2", flavor="d", faces="ns"}
-ti["c"]={"st_door", "door3", flavor="d", faces="ns"}
-ti["d"]={"st_door", "door4", flavor="d", faces="ns"}
-ti["e"]={"st_door", "door5", flavor="d", faces="ew"}
-ti["*"]={"st_switch", target = "laser"}
-ti["E"]={"st_switch", target = "door5"}
-ti["&"]={"st_laser", "laser", orientation = EAST}
-ti["'"]={"st_lightglass"}
-ti[")"]={"st_mirror", orientation = 3}  -- p|
-ti["("]={"st_mirror", orientation = 3, transparent = true, flavor = "sheets"}  -- p|t
-ti["-"]={"st_mirror", orientation = 3, movable = true}  -- p|m
-ti["."]={"st_mirror", orientation = 3, movable = true, transparent = true, flavor = "sheets"}  -- p|tm
-ti["@"]={"#ac_marble_black", adhesion = 1}
-ti["<"]={"st_oneway_w"}
-ti[">"]={"st_oneway_e"}
-if wo["IsDifficult"] then
-  ti["M"]=ti["!"]
-  ti["L"]=ti["!"]
-  ti["K"]=ti["!"]
-else
-  ti["M"]=ti["-"]  -- p|m
-  ti["L"]=ti["."]  -- p|tm
-  ti["K"]=ti[")"]  -- p|
-end
-
-w, h = wo(ti, " ", 
-       {"!!!!!!!!!!!!!!!!!!1!",
-        "!!&              ( 2",
-        "!$' @          >   !",
-        "!!!*'!!(''')'-''K'b!",
-        "3 (              ) !",
-        "!    <         <   !",
-        "!c'!'!-''!''!-!!'!'!",
-        "! )              ( 4",
-        "!    >         >   !",
-        "!!!!'!M!LL!-''.!''d!",
-        "!$'e'            ) !",
-        "!!!Ea<         <   !",
-        "!!!!!!!!!!!!!!!!('(!"})
-
-if wo["IsDifficult"] then
-  wo["ConserveLevel"] = false
-  wo[{5, 2}] = {"it_document", text = "text1"}
-end
-
-wo:shuffleOxyd()
-
- ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">Try the easy mode first ...</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_v/andreas06_2.xml (from rev 1648, trunk/data/levels/enigma_v/andreas06_1.xml)
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-04-27 21:55:23 UTC (rev 1648)
+++ trunk/data/levels/enigma_v/andreas06_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,74 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
+      <el:version el:score="2" el:release="2" el:revision="15" el:status="released"/>
+      <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2005, 2009 Andreas Lochmann</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="01:08" el:difficult="02:41"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+wo["ConserveLevel"] = false
+wo["ProvideExtralifes"] = false
+
+ti[" "] = {"fl_metal_7", friction = 4.0}
+ti["@"] = {"#ac_marble", adhesion = 1}
+ti["#"] = {"st_metal"}
+ti["<"] = {"st_oneway_w"}
+ti[">"] = {"st_oneway_e"}
+ti["*"] = {"st_laser", "laser", orientation = EAST, state = cond(wo["IsDifficult"], ON, OFF)}
+ti["a"] = {"st_door", "door%1", flavor="d", faces="ew"}
+ti["b"] = {"st_door", "door%2", flavor="d", faces="ns", state = cond(wo["IsDifficult"], OPEN, CLOSED)}
+ti["c"] = {"st_door", "door%3", flavor="d", faces="ns"}
+ti["d"] = {"st_door", "door%4", flavor="d", faces="ns"}
+ti["e"] = {"st_door", "door5#", flavor="d", faces="ew"}
+ti["E"] = {"st_switch", target = "door5#*"}
+ti["G"] = {"st_lightglass"}
+ti["I"] = {"st_mirror", orientation = VERTICAL}
+ti["L"] = {"st_mirror", orientation = VERTICAL, movable = true, transparent = true, flavor = "sheets"}
+ti["M"] = {"st_mirror", orientation = VERTICAL, movable = true}
+ti["T"] = {"st_mirror", orientation = VERTICAL, transparent = true, flavor = "sheets"}
+ti["g"] = cond(wo["IsDifficult"], ti["#"], ti["G"])
+ti["i"] = cond(wo["IsDifficult"], ti["#"], ti["I"])
+ti["l"] = cond(wo["IsDifficult"], ti["#"], ti["L"])
+ti["m"] = cond(wo["IsDifficult"], ti["#"], ti["M"])
+ti["n"] = cond(wo["IsDifficult"], ti["M"], ti["L"])
+ti["S"] = cond(wo["IsDifficult"], ti["#"], {"st_switch", target = "laser"})
+ti["O"] = {"st_oxyd", flavor = "a", oxydcolor = OXYD_YELLOW}
+ti["o"] = cond(wo["IsDifficult"], {"it_document", text = "text1"}, {})
+ti["laserswitch"] = {"st_laserswitch", target = "door%%"}
+
+w, h = wo(res.autotile(ti, {"1", "4", "laserswitch"}), " ", 
+       {"##################1#",
+        "##*              T 2",
+        "#Oe @o         >   #",
+        "###SG##TGGGIGMGGiGb#",
+        "3 T              I #",
+        "#    <         <   #",
+        "#cG#G#MGG#GG#M##G#G#",
+        "# I              T 4",
+        "#    >         >   #",
+        "####G#m#ln#MGgL#GGd#",
+        "#OGeG            I #",
+        "###Ea<         <   #",
+        "################TGT#"})
+
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">Try the easy mode first ...</el:english>
+      </el:string> 
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_v/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="34" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="35" title="Enigma V"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack5_2" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack5" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="April 1st" _xpath="./alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Send me the keys !" _xpath="./alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="Laser Path" _xpath="./andreas06_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="5" _title="Hobbyte" _xpath="./alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Water Castle" _xpath="./luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Moving Puzzles" _xpath="./luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -24,7 +24,7 @@
     <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="./ralf12_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf12" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Plan Ahead" _xpath="./duffy114_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy114" rel="3" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="22" _title="Keystone" _xpath="./raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="9" score="1" target="time" unit="duration"/>
@@ -45,7 +45,7 @@
     <level _seq="37" _title="Ghost Islands" _xpath="./raoul15_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Reach the Dock" _xpath="./duffy119_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy119" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Mount Etna" _xpath="./duffy61_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy61" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="- Meditation -" _xpath="./raoul02_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul02" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="- Giza Meditation -" _xpath="./raoul02_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul02" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Clear the Path" _xpath="./duffy110_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy110" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_v/raoul02_1.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul02_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_v/raoul02_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,157 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- Meditation -" el:subtitle="" el:id="raoul02"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
-      <el:copyright>Copyright ? 2005 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="0:08"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- GENERAL --
-levelw = 20
-levelh = 13
-create_world(levelw, levelh)
-enigma.ConserveLevel = FALSE
-
--- DESIGN
-rand = "st-glass"
-boden = "fl-sahara"
-spitze = "fl-sahara"
-
--- FLOOR --
-fill_floor(boden, 0,0,20,13)
-
--- Orte der berge
-if not difficult then
- xb1 = 3
- yb1 = 6
- xb2 = 8
- yb2 = 6
- xb3 = 15
- yb3 = 6
-else
- xb1 = 1+random(2)
- yb1 = 1+random(9)
- xb2 = 6+random(2)
- yb2 = 2+random(7)
- xb3 = 13+random(2)
- yb3 = 3+random(5)
-end
-
--- berg 1
-set_floor(spitze,xb1,yb1)
-set_floor("fl-gradient3",xb1+1,yb1)
-set_floor("fl-gradient1",xb1,yb1+1)
-set_floor("fl-gradient4",xb1-1,yb1)
-set_floor("fl-gradient2",xb1,yb1-1)
-
-set_floor("fl-gradient12",xb1-1,yb1-1)
-set_floor("fl-gradient10",xb1+1,yb1-1)
-set_floor("fl-gradient11",xb1-1,yb1+1)
-set_floor("fl-gradient9",xb1+1,yb1+1)
-
--- berg 2
-set_floor(spitze,xb2,yb2)
-set_floor("fl-gradient3",xb2+1,yb2)
-set_floor("fl-gradient1",xb2,yb2+1)
-set_floor("fl-gradient4",xb2-1,yb2)
-set_floor("fl-gradient2",xb2,yb2-1)
-
-set_floor("fl-gradient12",xb2-1,yb2-1)
-set_floor("fl-gradient10",xb2+1,yb2-1)
-set_floor("fl-gradient11",xb2-1,yb2+1)
-set_floor("fl-gradient9",xb2+1,yb2+1)
-
-draw_floor("fl-gradient2",{xb2-1,yb2-2},{1,0},3)
-draw_floor("fl-gradient3",{xb2+2,yb2-1},{0,1},3)
-draw_floor("fl-gradient1",{xb2+1,yb2+2},{-1,0},3)
-draw_floor("fl-gradient4",{xb2-2,yb2+1},{0,-1},3)
-
-set_floor("fl-gradient12",xb2-2,yb2-2)
-set_floor("fl-gradient10",xb2+2,yb2-2)
-set_floor("fl-gradient11",xb2-2,yb2+2)
-set_floor("fl-gradient9",xb2+2,yb2+2)
-
--- berg 3
-set_floor(spitze,xb3,yb3)
-set_floor("fl-gradient3",xb3+1,yb3)
-set_floor("fl-gradient1",xb3,yb3+1)
-set_floor("fl-gradient4",xb3-1,yb3)
-set_floor("fl-gradient2",xb3,yb3-1)
-
-set_floor("fl-gradient12",xb3-1,yb3-1)
-set_floor("fl-gradient10",xb3+1,yb3-1)
-set_floor("fl-gradient11",xb3-1,yb3+1)
-set_floor("fl-gradient9",xb3+1,yb3+1)
-
-draw_floor("fl-gradient2",{xb3-1,yb3-2},{1,0},3)
-draw_floor("fl-gradient3",{xb3+2,yb3-1},{0,1},3)
-draw_floor("fl-gradient1",{xb3+1,yb3+2},{-1,0},3)
-draw_floor("fl-gradient4",{xb3-2,yb3+1},{0,-1},3)
-
-set_floor("fl-gradient12",xb3-2,yb3-2)
-set_floor("fl-gradient10",xb3+2,yb3-2)
-set_floor("fl-gradient11",xb3-2,yb3+2)
-set_floor("fl-gradient9",xb3+2,yb3+2)
-
-draw_floor("fl-gradient2",{xb3-2,yb3-3},{1,0},5)
-draw_floor("fl-gradient3",{xb3+3,yb3-2},{0,1},5)
-draw_floor("fl-gradient1",{xb3+2,yb3+3},{-1,0},5)
-draw_floor("fl-gradient4",{xb3-3,yb3+2},{0,-1},5)
-
-set_floor("fl-gradient12",xb3-3,yb3-3)
-set_floor("fl-gradient10",xb3+3,yb3-3)
-set_floor("fl-gradient11",xb3-3,yb3+3)
-set_floor("fl-gradient9",xb3+3,yb3+3)
-
--- STONES --
-draw_border(rand)
-
--- ITEMS --
-set_item("it-hollow", xb1, yb1);
-set_item("it-hollow", xb2, yb2);
-set_item("it-hollow", xb3, yb3);
-
--- ACTORS --
--- Garantiert, dass keine Kugeln schon in den Loecher sind
-xp1=0+random(6)
-yp1=0+random(11)
- while xp1==xb1 and yp1==yb1 do
-  xp1=0+random(6)
-  yp1=0+random(11)
- end
-
-xp2=6+random(6)
-yp2=0+random(11)
- while xp2==xb2 and yp2==yb2 do
-  xp2=6+random(6)
-  yp2=0+random(11)
- end
-
-xp3=12+random(6)
-yp3=0+random(11)
- while xp3==xb3 and yp3==yb3 do
-  xp3=12+random(6)
-  yp3=0+random(11)
- end
-
-set_actor("ac-whiteball-small", xp1+.5,yp1+.5, {player=0})
-set_actor("ac-whiteball-small", xp2+.5,yp2+.5, {player=0})
-set_actor("ac-whiteball-small", xp3+.5,yp3+.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_v/raoul02_2.xml (from rev 1646, trunk/data/levels/enigma_v/raoul02_1.xml)
===================================================================
--- trunk/data/levels/enigma_v/raoul02_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_v/raoul02_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,89 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Giza Meditation -" el:subtitle="" el:id="raoul02"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
+      <el:copyright>Copyright ? 2005, 2009 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="0:15" el:difficult="0:08"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_sahara", name="ball#"}
+ti["a"] = {"fl_sahara", name="small#"}
+ti["b"] = {"fl_sahara", name="medium#"}
+ti["c"] = {"fl_sahara", name="large#"}
+ti["1"] = {"fl_slope", shape="isw", slope=SOUTHWEST}
+ti["2"] = {"fl_slope", shape="ps", slope=SOUTH}
+ti["3"] = {"fl_slope", shape="ise", slope=SOUTHEAST}
+ti["4"] = {"fl_slope", shape="pw", slope=WEST}
+ti["6"] = {"fl_slope", shape="pe", slope=EAST}
+ti["7"] = {"fl_slope", shape="inw", slope=NORTHWEST}
+ti["8"] = {"fl_slope", shape="pn", slope=NORTH}
+ti["9"] = {"fl_slope", shape="ine", slope=NORTEAST}
+ti["#"] = ti({"fl_sahara"}) .. {"st_rawglass"}
+ti["o"] = ti({"fl_dark"}) .. {"it_meditation"}
+ti["@"] = {"#ac_pearl"}
+
+wo(ti, " ", {
+    "####################",
+    "#                  #",
+    "# aa               #",
+    "# aa   bb          #",
+    "# aa   bb     cc   #",
+    "# aa   bb     cc   #",
+    "# aa   bb     cc   #",
+    "# aa   bb     cc   #",
+    "# aa   bb     cc   #",
+    "# aa   bb          #",
+    "# aa               #",
+    "#                  #",
+    "####################"})
+
+small = {"789",
+         "4o6",
+         "123"}
+
+medium = {"78889",
+          "4   6",
+          "4   6",
+          "4   6",
+          "12223"}
+
+large = {"7888889",
+         "4     6",
+         "4     6",
+         "4     6",
+         "4     6",
+         "4     6",
+         "1222223"}
+
+if wo["IsDifficult"] then
+    a_small = po(no["small#*"]:shuffle()[1])
+    a_medium = po(no["medium#*"]:shuffle()[1])
+    a_large = po(no["large#*"]:shuffle()[1])
+else
+    a_small = po(3,6)
+    a_medium = po(8,6)
+    a_large = po(15,6)
+end
+
+wo:drawMap(ti, a_small+NW, " ", small)
+wo:drawMap(ti, a_medium+NW, " ", small)
+wo:drawMap(ti, a_medium+2*NW, " ", medium)
+wo:drawMap(ti, a_large+NW, " ", small)
+wo:drawMap(ti, a_large+2*NW, " ", medium)
+wo:drawMap(ti, a_large+3*NW, " ", large)
+
+wo[no["ball#*"]:shuffle():sub(3)] = ti["@"]
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="48" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="49" title="Enigma VII"/>
 
   <attributes/>
 
@@ -30,11 +30,11 @@
     <level _seq="22" _title="Mountain Climbing" _xpath="./joe10_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Advancing" _xpath="./joe01_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Temple of Gold" _xpath="./duffy151_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy151" rel="3" rev="7" score="3" target="time" unit="duration"/>
-    <level _seq="25" _title="Inkblot 1" _xpath="./npb01_1" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Inkblot 1" _xpath="./npb01_2" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="mad-ill-tation" _xpath="./illmind14_1" author="illmind" ctrl="force" easy="false" id="ill0907-01" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="27" _title="- Meditation -" _xpath="./joe04_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="- Meditation -" _xpath="./joe05_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Working Outwards" _xpath="./joe06_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="27" _title="- Meditation -" _xpath="./joe04_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="- Meditation -" _xpath="./joe05_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Working Outwards" _xpath="./joe06_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="Super Puzzle" _xpath="./joe11_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Pantograph" _xpath="./duffy160_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy160" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Advanced Space Tubes" _xpath="./duffy161_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy161" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="151" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
+    <level _seq="52" _title="Not Fast Enough" _xpath="./jet04_4" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="4" rev="4" score="4" target="time" unit="duration"/>
     <level _seq="53" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="Give Way 4 two" _xpath="./just22_2" author="JuSt" ctrl="force" easy="true" id="just22" rel="2" rev="2" score="2" target="time" unit="duration"/>
@@ -75,11 +75,11 @@
     <level _seq="67" _title="Minor Tangler" _xpath="./joe24_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Circulation" _xpath="./pulley03_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley03" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="Maze for Two" _xpath="./ral22_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20071017ral096" rel="2" rev="100" score="2" target="time" unit="duration"/>
-    <level _seq="70" _title="Making Shapes" _xpath="./joe18_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="70" _title="Making Shapes" _xpath="./joe18_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe18" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Clever Pushing" _xpath="./joe19_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe19" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="72" _title="Using Rotators" _xpath="./joe20_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Swapping Puzzle" _xpath="./joe21_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="74" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Swapping Puzzle II" _xpath="./joe22_2" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Multiban" _xpath="./dpl01_2" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="77" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="20" score="2" target="time" unit="duration"/>
@@ -90,7 +90,7 @@
     <level _seq="82" _title="Remote Meditation" _xpath="./dpl02_2" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Crawling the Abyss" _xpath="./sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Crawling the Abyss" _xpath="./sph02_2" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="12" score="2" target="time" unit="duration"/>
     <level _seq="88" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_vii/jet04_3.xml
===================================================================
--- trunk/data/levels/enigma_vii/jet04_3.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/jet04_3.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,137 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd"
-xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected >
-    <el:info el:type="level">
-      <el:identity el:title="Not Fast Enough" el:id="20070413jet001"/>
-      <el:version el:score="3" el:release="3" el:revision="3" el:status="released"/>
-      <el:author el:name="James Taylor, Ronald Lamprecht" el:email="james at lab6.com"/>
-      <el:copyright>Copyright ? 2007 James Taylor, Ronald Lamprecht</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-       <el:credits el:showinfo="true" el:showstart="false">Thanks to Raoul for playtesting</el:credits>
-       <el:code>The easymode is the original level from James Taylor. The diffs for the difficult mode are added by Ronald Lamprecht.</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="4:48"/>
-    </el:info>
-    <el:luamain><![CDATA[
-enigma.ConserveLevel = 0
-
-cells={}
-
-    cells[" "] = cell{floor="fl-plank"}
-    cells["."] = cell{floor="fl-abyss"}
-    cells["#"] = cell{stone="st-redrock"}
-    cells["v"] = cell{floor="fl-plank", item="it-crack3"}
-    cells["u"] = cell{item="it-umbrella"}
-    cells["s"] = cell{item="it-seed"}
-    cells["T"] = cell{item={"it-trigger", {action="openclose", target="door1"}}}
-    cells["U"] = cell{item={"it-trigger", {action="openclose", target="door2"}}}
-    cells["V"] = cell{item={"it-trigger", {action="openclose", target="door3"}}}
-    cells["X"] = cell{item={"it-trigger", {action="openclose", target="door4"}}}
-    cells["Y"] = cell{item={"it-trigger", {action="openclose", target="door5"}}}
-    cells["g"] = cell{stone="st-grate1"}
-    cells["G"] = cell{item="it-seed"}
-    cells["t"] = cell{stone="st-turnstile"}
-    cells["n"] = cell{stone="st-turnstile-n"}
-    cells["S"] = cell{stone="st-swap"}
-    cells["a"] = cell{stone="st-puzzle-n"}
-    cells["b"] = cell{stone="st-puzzle-s"}
-    cells["c"] = cell{stone="st-puzzle-es"}
-    cells[","] = cell{stone="st-puzzle-w"}
-    cells["1"] = cell{stone={"st-door-v", {name="door1"}}}
-    cells["2"] = cell{floor={"fl-bridge-closed", {name="door2", type="y"}}}
-    cells["3"] = cell{floor={"fl-bridge-closed", {name="door3", type="y"}}}
-    cells["4"] = cell{floor={"fl-bridge-closed", {name="door4", type="y"}}}
-    cells["d"] = cell{stone={"st-door-h", {name="finaldoor"}}}
-    cells["l"] = cell{stone={"st-coinslot", {action="openclose", target="finaldoor"}}}
-    cells["W"] = cell{stone={"st-switch", {action="callback", target="doorworks"}}}
-    cells["D"] = cell{stone={"st-door-h", {name="firstdoor"}}}
-    cells["L"] = cell{stone={"st-laser-e", {name="laser1"}}}
-    cells["w"] = cell{stone="st-wood"}
-    cells["}"] = cell{floor="fl-water"}
-
-if difficult then
-    cells["K"] = cell{stone="st-knight"}
-    cells["-"] = cell{floor="fl-water",item="it-hstrip"}
-    cells["H"] = cell{stone="st-wood"}
-    cells["Z"] = cell{item={"it-trigger", {action="callback", target="laserworks"}}}
-    cells["C"] = cell{item="it-coin2"}
-    cells[">"] = cell{stone="st-oneway-e"}
-    cells["5"] = cell{stone={"st-door-v", {name="door5"}}, item="it-coin1"}
-    cells["6"] = cell{floor={"fl-bridge-closed", {name="door6", type="y"}}}
-    cells["7"] = cell{floor={"fl-bridge-open", {name="door7", type="y"}}}
-    cells["8"] = cell{floor={"fl-bridge-closed", {name="door8", type="y"}}}
-else
-    cells["Z"] = cell{item={"it-trigger", {action="on", target="laser1"}}}
-    cells["C"] = cell{item="it-coin1"}
-    cells[">"] = cell{stone="st-oneway-e", item="it-coin1"}
-    cells["5"] = cell{stone={"st-door-v", {name="door5"}}}
-end
-
-function doorworks()
-    enigma.SendMessage(enigma.GetNamedObject("firstdoor"), "openclose", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door2"), "open", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door3"), "open", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door4"), "open", nil)
-end
-
-function laserworks()
-    enigma.SendMessage(enigma.GetNamedObject("laser1"), "onoff", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door6"), "openclose", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door7"), "openclose", nil)
-    enigma.SendMessage(enigma.GetNamedObject("door8"), "openclose", nil)
-end
-
-if difficult then
-    level = {
-    "##################0#",
-    "##TU#V#XY##Z#   Ol 0",
-    "#}}}}}}}}}#H# }###d#",
-    "#}}}}}}}}}#    # - #",
-    "# G G G G # #6 # }}#",
-    "# # # # # Wv#  # - #",
-    "# a b   a #v# 7#}} #",
-    "# b# ab#, #v#  # - #",
-    "#  w      #v#8 #K###",
-    "#gcnbaggg #DL      #",
-    "#ggggggSgv  ###### #",
-    "#gggggggt # 12345>C#",
-    "####################"
-    }
-else
-    level = {
-    "##################0#",
-    "##TU#V#XY##Z#   Ol 0",
-    "#}}}}}}}}}#w# }###d#",
-    "#}}}}}}}}}#    #   #",
-    "# G G G G # #} # }}#",
-    "# # # # # Wv#  #   #",
-    "# a b   a #v# }#}} #",
-    "# b# ab#, #v#  #   #",
-    "#  w      #v#} # }}#",
-    "#gcnbaggg # L      #",
-    "#ggggggSgv  ######D#",
-    "#gggggggt # 12345>C#",
-    "####################"
-    }
-end
-
-    oxyd_default_flavor = "a"
-    set_default_parent(cells[" "])
-    create_world_by_map(level)
-
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/jet04_4.xml (from rev 1646, trunk/data/levels/enigma_vii/jet04_3.xml)
===================================================================
--- trunk/data/levels/enigma_vii/jet04_3.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/jet04_4.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Not Fast Enough" el:id="20070413jet001"/>
+      <el:version el:score="4" el:release="4" el:revision="4" el:status="released"/>
+      <el:author el:name="James Taylor, Ronald Lamprecht" el:email="james at lab6.com"/>
+      <el:copyright>Copyright ? 2007,2009 James Taylor, Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:credits el:showinfo="true" el:showstart="false">Thanks to Raoul for playtesting</el:credits>
+        <el:code>The easymode is the original level from James Taylor. Difficult mode and new API by Ronald Lamprecht.</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="4:48"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl_plank"}
+ti["."] = {"fl_abyss"}
+ti["#"] = {"st_redrock"}
+ti["v"] = {"it_crack_l"}
+ti["u"] = {"it_umbrella"}
+ti["T"] = {"it_trigger", target="door1"}
+ti["U"] = {"it_trigger", target="bridge2"}
+ti["V"] = {"it_trigger", target="bridge3"}
+ti["X"] = {"it_trigger", target="bridge4"}
+ti["Y"] = {"it_trigger", target="door5"}
+ti["g"] = {"st_grate_cross"}
+ti["G"] = {"it_seed"}
+ti["t"] = {"st_turnstile_red"}
+ti["n"] = {"st_turnstilearm_n"}
+ti["S"] = {"st_swap"}
+ti["a"] = {"st_puzzle", connections="n"}
+ti["b"] = {"st_puzzle", connections="s"}
+ti["c"] = {"st_puzzle", connections="es"}
+ti[","] = {"st_puzzle", connections="w"}
+ti["1"] = {"st_door_d", "door1", faces="ew"}
+ti["2"] = {"fl_bridge", "bridge2", flavor="bn", state=CLOSED}
+ti["3"] = {"fl_bridge", "bridge3", flavor="bn", state=CLOSED}
+ti["4"] = {"fl_bridge", "bridge4", flavor="bn", state=CLOSED}
+ti["d"] = {"st_door_d", "finaldoor", faces="ns"}
+ti["l"] = {"st_coinslot", target="finaldoor", interval_s=2, interval_m=4}
+ti["W"] = {"st_switch", target={"bridge*", "firstdoor#*"}}
+ti["D"] = {"st_door_d", "firstdoor#", faces="ns"}
+ti["L"] = {"st_laser_e", "laser1"}
+ti["Z"] = {"it_trigger", target={"laser1", "ddoor*"}}
+ti["w"] = {"st_box"}
+ti["~"] = {"fl_water"}
+ti["0"] = {"st_oxyd_a"}
+ti["@"] = {"#ac_marble"}
+
+if wo["IsDifficult"] then
+    ti["K"] = {"st_knight"}
+    ti["="] = ti["#"]
+    ti["-"] = {"it_strip_ew"} .. ti["~"]
+    ti["C"] = {"it_coin_m"}
+    ti[">"] = {"st_oneway_e"}
+    ti["5"] = {"st_door_d", "door5", faces="ew"} .. ti{"it_coin_s"}
+    ti["6"] = {"fl_bridge", "ddoor6", flavor="bn", state=CLOSED}
+    ti["7"] = {"fl_bridge", "ddoor7", flavor="bn"}
+    ti["8"] = {"fl_bridge", "ddoor8", flavor="bn", state=CLOSED}
+else
+    ti["K"] = ti[" "]
+    ti["="] = ti[" "]
+    ti["-"] = ti[" "]
+    ti["6"] = ti["~"]
+    ti["7"] = ti["~"]
+    ti["8"] = ti["~"]
+    ti["C"] = {"it_coin_s"}
+    ti[">"] = {"st_oneway_e"} .. ti{"it_coin_m"}
+    ti["5"] = {"st_door_d", "door5", faces="ew"}
+end
+
+wo(ti, " ", {
+    "##################0#",
+    "##TU#V#XY##Z#   @l 0",
+    "#~~~~~~~~~#w# ~###d#",
+    "#~~~~~~~~~#    # - #",
+    "# G G G G # #6 # ~~#",
+    "# # # # # Wv#  # - #",
+    "# a b   a #v# 7#~~ #",
+    "# b# ab#, #v#  # - #",
+    "#  w      #v#8 #K==#",
+    "#gcnbaggg #DL      #",
+    "#ggggggSgv  ######D#",
+    "#gggggggt # 12345>C#",
+    "####################"
+})
+
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/joe04_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/joe04_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/joe04_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,57 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe4"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-cells[" "]=cell{floor="fl-sahara"}
-cells["W"]=cell{floor="fl-water"}
-cells["L"]=cell{floor="fl-leaves"}
-cells["."]=cell{floor="fl-himalaya"}
-cells[","]=cell{floor="fl-sand"}
-cells["&"]=cell{stone="st-blue-sand"}
-cells["#"]=cell{stone="st-brick"}
-cells["$"]=cell{stone="st-wood"}
-cells["%"]=cell{stone="st-yellow"}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
-cells["+"]=cell{item="it-hollow"}
-cells["R"]=cell{stone="st-redrock"}
-
-level = {
-"%%%%%%%%%%%%%%%%%%%%",
-"&oLLLL% $     W   %%",
-"%$%$%$%W% %$%$&$% %%",
-"% $W$ $ %   W     %&",
-"% %W%W& %%$%%&% % %%",
-"%%%$%W&W$     %W  %%",
-"%  W% %W% % %%%W% &%",
-"%$& $ $ % $ W $ % %%",
-"% %%%W%W%&%W%%%W% %%",
-"% $   W$    % W    %",
-"%W%%& %$% %$& %%&%%%",
-"% $  WW   $W% $LWL+%",
-"%%%%&%%%%%&%%%%%%%%%",
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level,cells)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vii/joe04_2.xml (from rev 1646, trunk/data/levels/enigma_vii/joe04_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/joe04_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/joe04_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe4"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_sahara"}
+ti["-"] = {"fl_lawn"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st_yellow"}
+ti["&"] = {"st_bluesand"}
+ti["+"] = {"st_box"}
+ti["o"] = {"it_meditation"}
+ti["@"] = {"#ac_pearl"}
+
+wo(ti, " ", {
+    "####################",
+    "&@----# +     ~   ##",
+    "#+#+#+#~# #+#+&+# ##",
+    "# +~+ + #   ~     #&",
+    "# #~#~& ##+##&# # ##",
+    "###+#~&~+     #~  ##",
+    "#  ~# #~# # ###~# &#",
+    "#+& + + # + ~ + # ##",
+    "# ###~#~#&#~###~# ##",
+    "# +   ~+    # ~    #",
+    "#~##& #+# #+& ##&###",
+    "# +  ~~   +~# +-~-o#",
+    "####&#####&#########"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/joe05_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/joe05_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/joe05_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,53 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe5"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-cells[" "]=cell{floor="fl-sahara"}
-cells["`"]=cell{floor="fl-red"}
-cells["W"]=cell{floor="fl-water"}
-cells["#"]=cell{stone="st-blue-sand"}
-cells["%"]=cell{stone="st-yellow"}
-cells["$"]=cell{stone="st-wood"}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
-cells["+"]=cell{item="it-hollow"}
-
-level = {
-"%#%#%#%#%#%#%#%#%#%#",
-"#o$  W $ W$  W#+WW %",
-"%$W $W$   %W%$%#%W #",
-"#W$W %#%#%#W#W#W$W %",
-"%#W  #W   $ $ %W$$ #",
-"#%$ $$ %  $ $ #W$W %",
-"%#W$W# #  % %W$    #",
-"#   W  $  #W#W#  $ %",
-"%$%$%$%#WW%W%W$$ W #",
-"#WW     W $W#  W$  %",
-"% %#%#% $  $% $ $W #",
-"#W$   W$W$ W#      %",
-"%#%#%#%#%#%#%#%#%#%#",
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level,cells)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vii/joe05_2.xml (from rev 1646, trunk/data/levels/enigma_vii/joe05_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/joe05_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/joe05_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,45 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe5"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_sahara"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st_bluesand"}
+ti["&"] = {"st_yellow"}
+ti["+"] = {"st_box"}
+ti["o"] = {"it_meditation"}
+ti["@"] = {"#ac_pearl"}
+
+wo(ti, " ", {
+    "&#&#&#&#&#&#&#&#&#&#",
+    "#@+  ~ + ~+  ~#o~~ &",
+    "&+~ +~+   &~&+&#&~ #",
+    "#~+~ &#&#&#~#~#~+~ &",
+    "&#~  #~   + + &~++ #",
+    "#&+ ++ &  + + #~+~ &",
+    "&#~+~# #  & &~+    #",
+    "#   ~  +  #~#~#  + &",
+    "&+&+&+&#~~&~&~++ ~ #",
+    "#~~     ~ +~#  ~+  &",
+    "& &#&#& +  +& + +~ #",
+    "#~+   ~+~+ ~#      &",
+    "&#&#&#&#&#&#&#&#&#&#"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/joe06_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/joe06_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/joe06_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,53 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Working Outwards" el:subtitle="" el:id="joe6"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-cells[" "]=cell{floor="fl-sahara"}
-cells["`"]=cell{floor="fl-leaves"}
-cells["W"]=cell{floor="fl-water"}
-cells["#"]=cell{stone="st-blue-sand"}
-cells["%"]=cell{stone="st-yellow"}
-cells["$"]=cell{stone="st-wood"}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
-cells["+"]=cell{item="it-hollow"}
-level = {
-
-"####################",
-"#```    WW WW ```W #",
-"#$$$ $$$$# $$W$  $ #",
-"#  W$WW $WWW$ WW$W #",
-"#########$$######W##",
-"#W+W#   WWW$   #   #",
-"#W# $ $$Wo$    $ #$#",
-"#W  # $W $W $  #W# #",
-"#$$$############ # #",
-"# W$WWW $W $ WW# $W#",
-"#$    $ $  #$#$# $W#",
-"#``` # $ #    W``$W#",
-"####################",
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level,cells)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vii/joe06_2.xml (from rev 1646, trunk/data/levels/enigma_vii/joe06_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/joe06_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/joe06_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,45 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Working Outwards" el:subtitle="" el:id="joe6"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_sahara"}
+ti["-"] = {"fl_lawn"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st_bluesand"}
+ti["+"] = {"st_box"}
+ti["o"] = {"it_meditation"}
+ti["@"] = {"#ac_pearl"}
+
+wo(ti, " ", {
+    "####################",
+    "#---    ~~ ~~ ---~ #",
+    "#+++ ++++# ++~+  + #",
+    "#  ~+~~ +~~~+ ~~+~ #",
+    "#########++######~##",
+    "#~o~#   ~~~+   #   #",
+    "#~# + ++~@+    + #+#",
+    "#~  # +~ +~ +  #~# #",
+    "#+++############ # #",
+    "# ~+~~~ +~ + ~~# +~#",
+    "#+    + +  #+#+# +~#",
+    "#--- # + #    ~--+~#",
+    "####################"})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/joe18_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/joe18_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/joe18_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,68 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Making Shapes" el:subtitle="" el:id="joe18"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-cells[" "]=cell{floor="fl-leaves"}
-cells["-"]=cell{floor="fl-space"}
-cells["/"]=cell{floor="fl-water"}
-cells["%"]=cell{stone="st-grate1"}
-cells["G"]=cell{stone="st-puzzle-hollow"}
-cells["W"]=cell{stone="st-puzzle-n"}
-cells["R"]=cell{stone="st-puzzle-ns"}
-cells["V"]=cell{stone="st-puzzle-ew"}
-cells["A"]=cell{stone="st-puzzle-w"}
-cells["X"]=cell{stone="st-puzzle-s"}
-cells["D"]=cell{stone="st-puzzle-e"}
-cells["Q"]=cell{stone="st-puzzle-nw"}
-cells["Z"]=cell{stone="st-puzzle-sw"}
-cells["C"]=cell{stone="st-puzzle-es"}
-cells["E"]=cell{stone="st-puzzle-ne"}
-cells["F"]=cell{stone="st-puzzle-nsw"}
-cells["B"]=cell{stone="st-puzzle-esw"}
-cells["H"]=cell{stone="st-puzzle-nes"}
-cells["T"]=cell{stone="st-puzzle-new"}
-cells["S"]=cell{stone="st-puzzle-nesw"}
-cells["#"]=cell{stone="st-blue-sand"}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0, essential=1}}}
-cells["+"]=cell{item="it-hollow"}
-cells["M"]=cell{item="it-magicwand"}
-
-level = {
-"--------------------",
-"-----#######--------",
-"-----#oM   #--------",
-"-----# ZDQC#--------",
-"-----# %%QV#--------",
-"-----# VQWZ#--------",
-"-----# EXCD#--------",
-"-----####//#--------",
-"--------#//####-----",
-"--------#//# +#-----",
-"--------#//   #-----",
-"--------#######-----",
-"--------------------"
-}
-set_default_parent(cells[" "])
-create_world_by_map(level,cells)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="true"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/joe18_2.xml (from rev 1646, trunk/data/levels/enigma_vii/joe18_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/joe18_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/joe18_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Making Shapes" el:subtitle="" el:id="joe18"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+        <el:dependency el:path="lib/libpuzzle" el:id="lib/libpuzzle" el:release="3" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+ti["  "] = {"fl_lawn"}
+ti["- "] = {"fl_space"}
+ti["~ "] = {"fl_water"}
+
+ti[" #"] = {"st_bluesand"}
+ti[" X"] = {"st_grate", flavor="cross"}
+ti["P"] = {"st_puzzle", intensity=0}
+
+ti[" m"] = {"it_magicwand"}
+ti[" o"] = {"it_meditation"}
+
+ti[" @"] = {"#ac_pearl"}
+
+wo(res.puzzle(ti, "P"), "  ", {
+    "- - - - - - - - - - - - - - - - - - - - ",
+    "- - - - -  # # # # # # #- - - - - - - - ",
+    "- - - - -  # @ m       #- - - - - - - - ",
+    "- - - - -  #  PcPdPiPf #- - - - - - - - ",
+    "- - - - -  #   X XPiPe #- - - - - - - - ",
+    "- - - - -  #  PePiPhPc #- - - - - - - - ",
+    "- - - - -  #  PlPbPfPd #- - - - - - - - ",
+    "- - - - -  # # # #~ ~  #- - - - - - - - ",
+    "- - - - - - - -  #~ ~  # # # #- - - - - ",
+    "- - - - - - - -  #~ ~  #   o #- - - - - ",
+    "- - - - - - - -  #~ ~        #- - - - - ",
+    "- - - - - - - -  # # # # # # #- - - - - ",
+    "- - - - - - - - - - - - - - - - - - - - "})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/joe22_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/joe22_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/joe22_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,70 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Swapping Puzzle II" el:subtitle="" el:id="joe22"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-cells[" "]=cell{floor="fl-leaves"}
-cells["`"]=cell{floor="fl-red"}
-cells["-"]=cell{floor="fl-space"}
-cells["0"]=cell{floor="fl-abyss"}
-cells["/"]=cell{floor="fl-water"}
-cells["%"]=cell{stone="st-grate1"}
-cells["]"]=cell{stone="st-rotator_move-right"}
-cells["["]=cell{stone="st-rotator_move-left"}
-cells["}"]=cell{stone="st-rotator-right"}
-cells["{"]=cell{stone="st-rotator-left"}
-cells["#"]=cell{stone="st-yellow"}
-cells["&"]=cell{stone="st-blue-sand"}
-cells["7"]=cell{item="it-blocker"}
-cells["5"]=cell{stone="st-blocker"}
-cells["8"]=cell{stone="st-bolder-n"}
-cells["2"]=cell{stone="st-bolder-s"}
-cells["6"]=cell{stone="st-bolder-e"}
-cells["4"]=cell{stone="st-bolder-w"}
-cells["@"]=cell{stone="st-rock1_move"}
-cells["$"]=cell{stone="st-wood"}
-cells["K"]=cell{stone="st-swap"}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0, essential=1}}}
-cells["+"]=cell{item="it-hollow"}
-cells["M"]=cell{item="it-magicwand"}
-cells["P"]=cell{item="it-wrench"}
-
-level = {
-"-----##%&&&&--------",
-"-----##%``+&--------",
-"----###5&&&&--------",
-"----# K%%%%########-",
-"--&&&     %%%     #-",
-"--&``5 7  %#%%%K ##-",
-"--&`&#  #4   6K  #--",
-"--&``K%# # #%#%# #--",
-"--&&&# 8     K 8 #--",
-"-----########M ###--",
-"------------##o#----",
-"-------------###----",
-"--------------------",
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level,cells)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/joe22_2.xml (from rev 1646, trunk/data/levels/enigma_vii/joe22_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/joe22_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/joe22_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Swapping Puzzle II" el:subtitle="" el:id="joe22"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti["  "] = {"fl_space"}
+ti["- "] = {"fl_lawn"}
+ti[". "] = {"fl_red"}
+ti[" #"] = {"st_yellow"}
+ti[" &"] = {"st_bluesand"}
+ti[" X"] = {"st_grate", flavor="cross"}
+ti[" S"] = {"st_swap"}
+ti[" B"] = {"st_blocker"}
+ti[" ^"] = {"st_boulder", orientation=NORTH}
+ti[" >"] = {"st_boulder", orientation=EAST}
+ti[" <"] = {"st_boulder", orientation=WEST}
+ti[" m"] = {"it_magicwand"}
+ti[" b"] = {"it_blocker"}
+ti[" o"] = {"it_meditation"}
+ti[" @"] = {"#ac_pearl"}
+
+wo(res.composer(ti), "  ", {
+    "        -#-#-#                    ",
+    "      -#-#-X.&.&.&.&              ",
+    "      -#-#-X. . .o.&              ",
+    "    -#-#-#-B.&.&.&.&              ",
+    "    -#- -S-X-X-X-X-#-#-#-#-#-#-#-#",
+    ".&.&.&- - - - - -X-X-X- - - - - -#",
+    ".&. . -B- -b- - -X-#-X-X-X-S- -#-#",
+    ".&. .&-#- - -#-<- - - ->-S- - -#  ",
+    ".&. . -S-X-#- -#- -#-X-#-X-#- -#  ",
+    ".&.&.&-#- -^- - - - - -S- -^- -#  ",
+    "      -#-#-#-#-#-#-#-#-m- -#-#-#  ",
+    "                    -#-#- at -#      ",
+    "                      -#-#-#      "})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/npb01_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/npb01_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/npb01_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,128 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-    <el:protected >
-        <el:info el:type="level">
-            <el:identity el:title="Inkblot 1" el:id="20070519npb015045"/>
-            <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-            <el:author el:name="Nathan Bronecke" el:email="npb-engimalevel at rbepan.net" el:homepage="" />
-            <el:copyright>Copyright ? 2007 Nathan Bronecke</el:copyright>
-            <el:license el:type="GPL v2.0 or above" el:open="true"/>
-            <el:compatibility el:enigma="1.0"/>
-            <el:modes el:easy="true" el:single="true" el:network="true"/>
-            <el:score el:easy="0:17" el:difficult="0:29"/>
-        </el:info>
-        <el:luamain><![CDATA[
--- updated: 2007-06-03
-
-levelw = 20
-levelh = 13
-
-CreateWorld(levelw, levelh)
-
--- light blue
-oxyd_default_flavor = "c"
-
--- default swamp sink too easy
-if difficult then
-    enigma.SwampSinkSpeed = enigma.SwampSinkSpeed * 2;
-else
-    enigma.SwampSinkSpeed = enigma.SwampSinkSpeed * 1.5;
-end
-
-fill_floor("fl-leaves", 0,0, levelw,levelh)
-
-function renderLine(y, pattern)
-    for x=0, strlen(pattern)-1 do
-        local c = string.sub(pattern, x+1, x+1)
-        if c==' ' then
-            -- default grass
-
-        -- water/swamp
-        elseif c=='.' then
-            set_floor("fl-water", x,y)
-        elseif c=='s' then
-            set_floor("fl-swamp", x,y)
-
-        -- only single color may pass
-        elseif c=='b' then
-            set_stone("st-black4", x,y)
-        elseif c=='w' then
-            set_stone("st-white4", x,y)
-        elseif c=='B' then
-            set_floor("fl-swamp", x,y)
-            if difficult then
-                set_stone("st-black4", x,y)
-            end
-        elseif c=='W' then
-            set_floor("fl-swamp", x,y)
-            if difficult then
-                set_stone("st-white4", x,y)
-            end
-        elseif c==')' then
-            set_floor("fl-swamp", x,y)
-            set_stone("st-white4", x,y)
-        elseif c=='(' then
-            set_floor("fl-swamp", x,y)
-            set_stone("st-black4", x,y)
-        elseif c=='}' then
-            if not difficult then
-                set_stone("st-white4", x,y)
-            end
-        elseif c=='{' then
-            if not difficult then
-                set_stone("st-black4", x,y)
-            end
-
-        -- oxyd
-        elseif c=='O' then
-            oxyd(x,y)
-        elseif c=='o' then
-            -- visual change only when using certain non-standard graphics
-            set_floor("fl-swamp", x,y)
-            oxyd(x,y)
-
-        -- miscellaneous
-        elseif c=='#' then
-            set_stone("st-camouflage", x,y)
-        elseif c=='y' then
-            set_item("it-yinyang", x,y)
-        elseif c=='Y' then
-            set_floor("fl-swamp", x,y)
-            set_stone("st-yinyang1", x,y)
-
-        -- players
-        elseif c=='1' then
-            set_actor("ac-blackball", x+.5,y+.5, {player=0, essential=-1})
-        elseif c=='2' then
-            set_actor("ac-whiteball", x+.5,y+.5, {player=1, essential=-1})
-
-        end
-    end
-end
-
--- level sort of looks like a butterfly
---              01234567890123456789
-renderLine( 0, "....................")
-renderLine( 1, ".oBsssss....sssssWo.")
-renderLine( 2, ".B{  #y#s..s#y#  }W.")
-renderLine( 3, ".s    #bssssw#    s.")
-renderLine( 4, ".s     bssssw     s.")
-renderLine( 5, ".WO    bs..sw    OB.")
-renderLine( 6, "Oss)sssYs..sYsss(ssO")
-renderLine( 7, ".WO    ws..sb    OB.")
-renderLine( 8, ".s     wssssb     s.")
-renderLine( 9, ".s    #wssssb#    s.")
-renderLine(10, ".W}  #1#s..s#2#  {B.")
-renderLine(11, ".oWsssss....sssssBo.")
-renderLine(12, "....................")
-
-oxyd_shuffle()
-
-]]></el:luamain>
-        <el:i18n>
-            <el:string el:key="title">
-                <el:english el:translate="true" el:comment="the common name of the Rorschach test is inkblot test; this title just refers to the level's visual appearance"/>
-            </el:string>
-        </el:i18n>
-    </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vii/npb01_2.xml (from rev 1646, trunk/data/levels/enigma_vii/npb01_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/npb01_1.xml	2009-04-26 21:01:05 UTC (rev 1646)
+++ trunk/data/levels/enigma_vii/npb01_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,73 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected >
+    <el:info el:type="level">
+      <el:identity el:title="Inkblot 1" el:id="20070519npb015045"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author el:name="Nathan Bronecke" el:email="npb-engimalevel at rbepan.net" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Nathan Bronecke</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="true"/>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
+      <el:score el:easy="0:17" el:difficult="0:29"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti["~"] = {"fl_water"}
+ti["."] = {"fl_swamp"}
+ti[" "] = {"fl_lawn"}
+ti["#"] = {"st_camouflage"}
+ti["b"] = {"st_passage", flavor="frame", color=BLACK}
+ti["w"] = {"st_passage", flavor="frame", color=WHITE}
+ti["B"] = ti["."] .. ti["b"]
+ti["W"] = ti["."] .. ti["w"]
+ti["Y"] = ti["."] .. {"st_blur", flavor="cross"}
+ti["O"] = {"st_oxyd", flavor="c", name="black#"}
+ti["o"] = {"st_oxyd", flavor="c", name="white#"}
+ti["1"] = {"#ac_marble_black"}
+ti["2"] = {"#ac_marble_white"}
+
+if wo["IsDifficult"] then
+    wo["SwampSinkTime"] = 1/2*wo["SwampSinkTime"]
+    map = {
+    "~~~~~~~~~~~~~~~~~~~~",
+    "~oB.....~~~~.....WO~",
+    "~B   # #.~~.# #   W~",
+    "~.    #b....w#    .~",
+    "~.     b....w     .~",
+    "~WO    b.~~.w    oB~",
+    "O..W...Y.~~.Y...B..o",
+    "~WO    w.~~.b    oB~",
+    "~.     w....b     .~",
+    "~.    #w....b#    .~",
+    "~W   #1#.~~.#2#   B~",
+    "~OW.....~~~~.....Bo~",
+    "~~~~~~~~~~~~~~~~~~~~"}
+else
+    wo["SwampSinkTime"] = 2/3*wo["SwampSinkTime"]
+    map = {
+    "~~~~~~~~~~~~~~~~~~~~",
+    "~o......~~~~......O~",
+    "~.b  # #.~~.# #  w.~",
+    "~.    #b....w#    .~",
+    "~.     b....w     .~",
+    "~.O    b.~~.w    o.~",
+    "O..W...Y.~~.Y...B..o",
+    "~.O    w.~~.b    o.~",
+    "~.     w....b     .~",
+    "~.    #w....b#    .~",
+    "~.w  #1#.~~.#2#  b.~",
+    "~O......~~~~......o~",
+    "~~~~~~~~~~~~~~~~~~~~"}
+end
+
+wo(ti, " ", map)
+wo:shuffleOxyd({no["black#*"], no["white#*"], min=2})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="true" el:comment="the common name of the Rorschach test is inkblot test; this title just refers to the level's visual appearance"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Deleted: trunk/data/levels/enigma_vii/sph02_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/sph02_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/sph02_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,131 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Crawling the Abyss" el:subtitle="There's more help than you first think!" el:id="sph02"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
-      <el:author el:name="ShadowPhrogg32642342" el:email="shadowphrogg32642342 at gmail.com" el:homepage=""/>
-      <el:copyright>Copyright ? 2007 ShadowPhrogg3264242</el:copyright>
-      <el:license el:type="GPL v2.0" el:open="true"/>
-      <el:compatibility el:enigma="1.00">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="true"/>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelh = 13
-levelw = 20
-
-create_world(levelw, levelh)
-oxyd_default_flavor="c"
-enigma.TwoPlayerGame = 1
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c=="X" then
-            oxyd(i-1,line)
-            set_floor("fl-abyss",i-1,line)
-        elseif c=="#" then
-            set_stone("st-likeoxydc-open",i-1,line)
-            set_floor("fl-black",i-1,line)
-        elseif c=="O" then
-            set_stone("st-coffee",i-1,line)
-            set_floor("fl-black",i-1,line)
-        elseif c=="F" then
-            set_stone("st-fart",i-1,line)
-            set_floor("fl-black",i-1,line)
-        elseif c=="B" then
-            set_stone("st-brake",i-1,line)
-            set_floor("fl-abyss",i-1,line)
-        elseif c==" " then
-            set_floor("fl-abyss",i-1,line)
-        elseif c=="~" then
-            set_floor("fl-inverse2",i-1,line)
-        elseif c=="w" then
-            set_floor("fl-acwhite",i-1,line)
-        elseif c=="s" then
-            set_floor("fl-acblack",i-1,line)
-        elseif c==">" then
-            set_floor("fl-gradient",i-1,line, {type = 3})
-        elseif c=="v" then
-            set_floor("fl-gradient",i-1,line, {type = 1})
-        elseif c=="<" then
-            set_floor("fl-gradient",i-1,line, {type = 4})
-        elseif c=="^" then
-            set_floor("fl-gradient",i-1,line, {type = 2})
-        end
-    end
-end
-
-if not difficult then
-    renderLine(00 , "####################")
-    renderLine(01 , "#ws~~~~~  W ~~~~~ws#")
-    renderLine(02 , "#sw~ #O~  w ~X# ~sw#")
-    renderLine(03 , "#ws~ X#~  ~~~#O ~ws#")
-    renderLine(04 , "#sw~ ~~~    ~   ~sw#")
-    renderLine(05 , "#ws~ ~   W      ~ws#")
-    renderLine(06 , "#sw~ ~   s  ~>~ ~sw#")
-    renderLine(07 , "#ws~ ~~~ ~  ^Fv ~ws#")
-    renderLine(08 , "#sw~   ~ ~~ ~<~ ~sw#")
-    renderLine(09 , "#ws~ O#~  ~ ~#X ~ws#")
-    renderLine(10 , "#sw~ #X~~~~ ~O# ~sw#")
-    renderLine(11 , "#ws~            ~ws#")
-    renderLine(12 , "####################")
-else
-    renderLine(00 , "####################")
-    renderLine(01 , "#ws~~~~~    ~~~~~ws#")
-    renderLine(02 , "#sw~ #X~  w ~X# ~sw#")
-    renderLine(03 , "#ws~BX#~  ~~~#XB~ws#")
-    renderLine(04 , "#sw~  ~~    ~   ~sw#")
-    renderLine(05 , "#ws~ ~~       ~ ~ws#")
-    renderLine(06 , "#sw~ ~   s  ~>~ ~sw#")
-    renderLine(07 , "#ws~ ~~~ ~  ^Fv ~ws#")
-    renderLine(08 , "#sw~   ~ ~~ ~<  ~sw#")
-    renderLine(09 , "#ws~BX#~  ~ ~#XB~ws#")
-    renderLine(10 , "#sw~ #X~~~~ ~X# ~sw#")
-    renderLine(11 , "#ws~            ~ws#")
-    renderLine(12 , "####################")
-end
-
-oxyd_shuffle()
-
-set_stone("st-switch_black", 10, 1, {action="openclose", target="bridge1"})
-set_stone("st-switch_white", 9, 5, {action="openclose", target="bridge2"})
-set_floor("fl-bridge-open", 11, 10, {type="a", name="bridge1"})
-set_floor("fl-bridge-open", 12, 5, {type="a", name="bridge2"})
-
-set_item("it-blackbomb", 6, 7)
-
---set_stone("st-chameleon", 2, 3)
-set_item("it-ring", 2, 3)
-
---set_stone("st-chameleon", 2, 7)
-set_item("it-seed", 2, 7)
---set_stone("st-chameleon", 2, 9)
-set_item("it-seed", 2, 9)
-
-if difficult then
---    set_stone("st-chameleon", 2, 11)
-    set_item("it-seed", 2, 11)
---    set_stone("st-chameleon", 17, 7)
-    set_item("it-seed", 17, 7)
---    set_stone("st-chameleon", 17, 9)
-    set_item("it-seed", 17, 9)
---    set_stone("st-chameleon", 17, 11)
-    set_item("it-seed", 17, 11)
-end
-
-set_actor("ac-blackball", 1.5, 6.5, {player=0})
-set_actor("ac-whiteball", 18.5, 6.5, {player=1})
-set_item("it-yinyang", 2, 6)
-set_item("it-yinyang", 17, 6)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>
-

Copied: trunk/data/levels/enigma_vii/sph02_2.xml (from rev 1649, trunk/data/levels/enigma_vii/sph02_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/sph02_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_vii/sph02_2.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -0,0 +1,78 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Crawling the Abyss" el:subtitle="There's more help than you first think!" el:id="sph02"/>
+      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
+      <el:author el:name="ShadowPhrogg32642342" el:email="shadowphrogg32642342 at gmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 ShadowPhrogg3264242</el:copyright>
+      <el:license el:type="GPL v2.0" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="true"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_abyss"}
+ti["-"] = ti({"fl_yinyang_yin", checkerboard=1}) .. {"fl_yinyang_yang", checkerboard=0}
+ti["."] = {"fl_inverse_gray"}
+ti["^"] = {"fl_slope", slope=NORTH, shape="pn"}
+ti[">"] = {"fl_slope", slope=EAST, shape="pe"}
+ti["V"] = {"fl_slope", slope=SOUTH, shape="ps"}
+ti["<"] = {"fl_slope", slope=WEST, shape="pw"}
+ti["b"] = {"fl_bridge", flavor="gc", name="bridgeb"}
+ti["w"] = {"fl_bridge", flavor="gc", name="bridgew"}
+ti["#"] = {"st_fake_oxydc", state=OPEN}
+ti["X"] = {"st_brake"}
+ti["B"] = {"st_switch", color=BLACK, target="bridgeb"}
+ti["W"] = {"st_switch", color=WHITE, target="bridgew"}
+ti["Q"] = {"st_quake"}
+ti["O"] = {"st_oxyd", flavor="c"}
+ti["C"] = {"st_magic_oxydc"}
+ti["*"] = {"st_chameleon"}
+ti[","] = ti["."] .. {"it_bomb_black", state=ACTIVE}
+ti["r"] = ti["-"] .. ti["*"] .. {"it_ring"}
+ti["s"] = ti["-"] .. ti["*"] .. {"it_seed"}
+ti["1"] = ti["-"] .. {"#ac_marble_black"}
+ti["2"] = ti["-"] .. {"#ac_marble_white"}
+
+if wo["IsDifficult"] then
+    wo(ti, " ", {
+    "####################",
+    "#--.....  B .....--#",
+    "#--. #O.  - .O# .--#",
+    "#-r.XO#.  ...#OX.--#",
+    "#--.  ..    .   .--#",
+    "#--. ..  W  w . .--#",
+    "#1-. .   -  .>. .-2#",
+    "#-s. .,. .  ^QV .s-#",
+    "#--.   . .. .<  .--#",
+    "#-s.XO#.  . .#OX.s-#",
+    "#--. #O....b.O# .--#",
+    "#-s.            .s-#",
+    "####################"})
+else
+    wo(ti, " ", {
+    "####################",
+    "#--.....  B .....--#",
+    "#--. #C.  - .O# .--#",
+    "#-r. O#.  ...#C .--#",
+    "#--. ...    .   .--#",
+    "#--. .   W  w   .--#",
+    "#1-. .   -  .>. .-2#",
+    "#-s. .,. .  ^QV .--#",
+    "#--.   . .. .<. .--#",
+    "#-s. C#.  . .#O .--#",
+    "#--. #O....b.C# .--#",
+    "#--.            .--#",
+    "####################"})
+end
+
+wo:shuffleOxyd()
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_viii/index.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="42" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="43" title="Enigma VIII"/>
 
   <attributes/>
 
@@ -42,7 +42,7 @@
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="166" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="173" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="17" score="1" target="time" unit="duration"/>
@@ -59,7 +59,7 @@
     <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_2" author="mecke" ctrl="force" easy="false" id="mecke16" rel="2" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="23" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Minopal" _xpath="./andreas54_1" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas54" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="127" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -2,7 +2,7 @@
 <el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
   <el:protected>
     <el:info el:type="level">
-      <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke02"/>
+      <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
       <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-04-28 18:52:55 UTC (rev 1649)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-04-29 21:23:16 UTC (rev 1650)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti[" t"] = {"fl_thief"}
 ti["  "] = {"fl_rough"}
 ti[" q"] = {"fl_aquamarine"}
-ti[" i"] = ti[" q"] ..{"it_crack_l", fragility=0}
+ti[" i"] = ti[" q"] ..{"it_crack_l", spreading=0}
 ti["# "] = ti[" i"] ..{"st_actorimpulse_invisible"}
 ti[" l"] = ti["  "] ..{"it_meditation_bump"}
 ti[" m"] = {"fl_sahara"}



