<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r2087 - in trunk: data/levels/enigma_cross	data/levels/enigma_iv data/levels/enigma_ix	data/levels/enigma_peroxyd data/levels/enigma_vi src/gui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r2087%20-%20in%20trunk%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_iv%20data/levels/enigma_ix%0A%09data/levels/enigma_peroxyd%20data/levels/enigma_vi%20src/gui&In-Reply-To=%3C201005112118.o4BLIL8W029514%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001510.html">
   <LINK REL="Next"  HREF="001512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r2087 - in trunk: data/levels/enigma_cross	data/levels/enigma_iv data/levels/enigma_ix	data/levels/enigma_peroxyd data/levels/enigma_vi src/gui</H1>
    <B>raoul at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r2087%20-%20in%20trunk%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_iv%20data/levels/enigma_ix%0A%09data/levels/enigma_peroxyd%20data/levels/enigma_vi%20src/gui&In-Reply-To=%3C201005112118.o4BLIL8W029514%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r2087 - in trunk: data/levels/enigma_cross	data/levels/enigma_iv data/levels/enigma_ix	data/levels/enigma_peroxyd data/levels/enigma_vi src/gui">raoul at mail.berlios.de
       </A><BR>
    <I>Tue May 11 23:18:21 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001510.html">[Enigma-game-svn] r2086 - trunk/src/gui
</A></li>
        <LI>Next message: <A HREF="001512.html">[Enigma-game-svn] r2088 - in trunk: data/schemas src src/lev
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1511">[ date ]</a>
              <a href="thread.html#1511">[ thread ]</a>
              <a href="subject.html#1511">[ subject ]</a>
              <a href="author.html#1511">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: raoul
Date: 2010-05-11 23:18:19 +0200 (Tue, 11 May 2010)
New Revision: 2087

Added:
   trunk/data/levels/enigma_ix/another04_1.xml
   trunk/data/levels/enigma_vi/andreas40_2.xml
Removed:
   trunk/data/levels/enigma_vi/andreas40_1.xml
Modified:
   trunk/data/levels/enigma_cross/newlevels-0-92a.xml
   trunk/data/levels/enigma_cross/newlevels-1-00.xml
   trunk/data/levels/enigma_cross/newlevels-1-10.xml
   trunk/data/levels/enigma_iv/andreas03_2.xml
   trunk/data/levels/enigma_iv/andreas09_2.xml
   trunk/data/levels/enigma_iv/andreas16_2.xml
   trunk/data/levels/enigma_iv/ant04_2.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_ix/devnull51_1.xml
   trunk/data/levels/enigma_ix/index.xml
   trunk/data/levels/enigma_peroxyd/index.xml
   trunk/data/levels/enigma_peroxyd/peroxyd11_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/src/gui/LevelPackComposer.cc
Log:
-&gt; Fixed some old API names in new API levels
-&gt; Code improvements for some levels from Andreas 
-&gt; Rewrite of the &quot;Ariadne&quot; level
-&gt; New level &quot;Enibricks&quot; from another
-&gt; Fixed a door faces bug in devnull51
-&gt; Fixed a oxyd sorting weakness in ant04
-&gt; Level identity (rel/score) fix for peroxyd11



Modified: trunk/data/levels/enigma_cross/newlevels-0-92a.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels-0-92a.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_cross/newlevels-0-92a.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -82,7 +82,7 @@
     &lt;level _seq=&quot;74&quot; _title=&quot;Space Tubes&quot; _xpath=&quot;enigma_i/duffy13_2&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy13&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;75&quot; _title=&quot;The Cage&quot; _xpath=&quot;enigma_v/qq02_2&quot; author=&quot;Andrzej Szombierski&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;qq2&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;76&quot; _title=&quot;Sentinels&quot; _xpath=&quot;enigma_ii/siegfried23_1&quot; author=&quot;Siegfried Fennig&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;level8d&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;77&quot; _title=&quot;The Tomb&quot; _xpath=&quot;enigma_iv/ant04_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant04&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;77&quot; _title=&quot;The Tomb&quot; _xpath=&quot;enigma_iv/ant04_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant04&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;78&quot; _title=&quot;Desert Ruins&quot; _xpath=&quot;enigma_i/nat32_2&quot; author=&quot;Nat Pryce&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;natmaze1&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;79&quot; _title=&quot;- Meditation -&quot; _xpath=&quot;enigma_i/siegfried35_1&quot; author=&quot;Siegfried Fennig&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;meditation14&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;80&quot; _title=&quot;Black Lava&quot; _xpath=&quot;enigma_i/ant12_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant12&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: trunk/data/levels/enigma_cross/newlevels-1-00.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels-1-00.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_cross/newlevels-1-00.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -87,10 +87,10 @@
     &lt;level _seq=&quot;79&quot; _title=&quot;Patterns of Impulse&quot; _xpath=&quot;enigma_iv/andreas11_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas11&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;80&quot; _title=&quot;Pull it!&quot; _xpath=&quot;enigma_iv/luc14_1&quot; author=&quot;Lukas Sch&#252;ller&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;luc14&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;81&quot; _title=&quot;Sleeping Serpent&quot; _xpath=&quot;enigma_iv/raoul10_2&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul10&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;82&quot; _title=&quot;How solid?&quot; _xpath=&quot;enigma_iv/andreas03_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas03&quot; rel=&quot;2&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;82&quot; _title=&quot;How solid?&quot; _xpath=&quot;enigma_iv/andreas03_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas03&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;83&quot; _title=&quot;Cluenigma&quot; _xpath=&quot;enigma_iv/alain12_2&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;alain12&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;84&quot; _title=&quot;The Flagstone Reaper&quot; _xpath=&quot;enigma_iv/andreas09_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas09&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;85&quot; _title=&quot;The Dark Outside&quot; _xpath=&quot;enigma_iv/andreas16_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas16&quot; rel=&quot;2&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;84&quot; _title=&quot;The Flagstone Reaper&quot; _xpath=&quot;enigma_iv/andreas09_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas09&quot; rel=&quot;2&quot; rev=&quot;6&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;85&quot; _title=&quot;The Dark Outside&quot; _xpath=&quot;enigma_iv/andreas16_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas16&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;86&quot; _title=&quot;Bolder Run&quot; _xpath=&quot;enigma_iv/just02_2&quot; author=&quot;JuSt&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;just02&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;87&quot; _title=&quot;Laser Pushing&quot; _xpath=&quot;enigma_iv/just04_2&quot; author=&quot;JuSt&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;just04&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;88&quot; _title=&quot;Friction Nightmare&quot; _xpath=&quot;enigma_iv/luc01_2&quot; author=&quot;Lukas Sch&#252;ller&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;luc01&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
@@ -198,7 +198,7 @@
     &lt;level _seq=&quot;190&quot; _title=&quot;Bodyguard&quot; _xpath=&quot;enigma_vi/ral10_2&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20060730ral012&quot; rel=&quot;2&quot; rev=&quot;161&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;191&quot; _title=&quot;Janus&quot; _xpath=&quot;enigma_vi/andreas38_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas38&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;192&quot; _title=&quot;Phaeton&quot; _xpath=&quot;enigma_vi/andreas39_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas39&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;193&quot; _title=&quot;Ariadne&quot; _xpath=&quot;enigma_vi/andreas40_1&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas40&quot; rel=&quot;1&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;193&quot; _title=&quot;Ariadne&quot; _xpath=&quot;enigma_vi/andreas40_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas40&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;194&quot; _title=&quot;Oil Trace&quot; _xpath=&quot;enigma_vi/raoul25_2&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul25&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;195&quot; _title=&quot;The Cube&quot; _xpath=&quot;enigma_vi/malaire01_1&quot; author=&quot;Markus Laire&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20061120malaire901&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;196&quot; _title=&quot;Puzzle Puzzles&quot; _xpath=&quot;enigma_vi/raoul26_2&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;raoul26&quot; rel=&quot;2&quot; rev=&quot;30&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: trunk/data/levels/enigma_cross/newlevels-1-10.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels-1-10.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_cross/newlevels-1-10.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -226,12 +226,13 @@
     &lt;level _seq=&quot;218&quot; _title=&quot;Floodoban&quot; _xpath=&quot;enigma_ix/luc37_1&quot; author=&quot;Lukas Sch&#252;ller&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;luc372009&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;219&quot; _title=&quot;Puzzle Shift&quot; _xpath=&quot;enigma_ix/zephyr01_1&quot; author=&quot;Zephyr&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;zephyr01&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;220&quot; _title=&quot;Zero Magnetism Lab II&quot; _xpath=&quot;enigma_ix/duffy185_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy185&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;221&quot; _title=&quot;Suckerfish I&quot; _xpath=&quot;enigma_ix/devnull51_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull51&quot; rel=&quot;1&quot; rev=&quot;6&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;221&quot; _title=&quot;Suckerfish I&quot; _xpath=&quot;enigma_ix/devnull51_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull51&quot; rel=&quot;1&quot; rev=&quot;7&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;222&quot; _title=&quot;Splinter&quot; _xpath=&quot;enigma_ix/devnull66_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull66&quot; rel=&quot;1&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;223&quot; _title=&quot;Seasonal Timings&quot; _xpath=&quot;enigma_ix/ais13_1&quot; author=&quot;Alex Smith&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;ais13&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;224&quot; _title=&quot;Crescent Wrench&quot; _xpath=&quot;enigma_ix/devnull68_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull68&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;225&quot; _title=&quot;Near Halley II&quot; _xpath=&quot;enigma_ix/devnull46_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;devnull46&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;226&quot; _title=&quot;Mike's hammer&quot; _xpath=&quot;enigma_ix/alain31_1&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;alain31&quot; rel=&quot;1&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;227&quot; _title=&quot;Enibricks&quot; _xpath=&quot;enigma_ix/another04_1&quot; author=&quot;Another&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;another04&quot; rel=&quot;1&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
   &lt;/levels&gt;
 
 &lt;/index&gt;

Modified: trunk/data/levels/enigma_iv/andreas03_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/andreas03_2.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_iv/andreas03_2.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,34 +3,18 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;How solid?&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas03&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
-      &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;5&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005, 2009 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
-      &lt;el:compatibility el:enigma=&quot;1.10&quot;&gt;
-      &lt;/el:compatibility&gt;
+      &lt;el:compatibility el:enigma=&quot;1.10&quot;/&gt;
       &lt;el:modes el:easy=&quot;true&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
-      &lt;el:comments&gt;
-      &lt;/el:comments&gt;
       &lt;el:score el:easy=&quot;01:00&quot; el:difficult=&quot;01:25&quot;/&gt;
     &lt;/el:info&gt;
     &lt;el:luamain&gt;&lt;![CDATA[
-
 wo[&quot;ConserveLevel&quot;] = false
 wo[&quot;AllowSingleOxyds&quot;] = true  -- clock may damage oxyd stones
 
-if wo[&quot;IsDifficult&quot;] then
-  clock_to_delta_pos = { [NORTH] = po(0, 1),
-                         [EAST] = po(1, 0),
-                         [SOUTH] = po(0, -1),
-                         [WEST] = po(-1, 0) }
-else
-  clock_to_delta_pos = { [NORTH] = po(0, -1),
-                         [EAST] = po(1, 0),
-                         [SOUTH] = po(0, 1),
-                         [WEST] = po(-1, 0) }
-end
-
 ti[&quot; &quot;] = {&quot;fl_brick&quot;}
 ti[&quot;#&quot;] = {&quot;st_brick&quot;} .. ti({&quot;fl_abyss&quot;})
 ti[&quot;!&quot;] = {&quot;st_brick&quot;} .. ti[&quot; &quot;]
@@ -41,7 +25,7 @@
 ti[&quot;C&quot;] = {&quot;st_fourswitch&quot;, &quot;clock&quot;}
 ti[&quot;S&quot;] = {&quot;st_switch&quot;, target = &quot;counter&quot;, action = &quot;signal&quot;}
 
-w, h = wo(ti, &quot; &quot;,
+wo(ti, &quot; &quot;,
        {&quot;####################&quot;,
         &quot;#T##################&quot;,
         &quot;##@     # ###     ##&quot;,
@@ -60,25 +44,32 @@
 
 wo:add({&quot;ot_counter&quot;, &quot;counter&quot;, target_3 = &quot;timer&quot;, action_3 = &quot;on&quot;})
 
-function callback_timer()
-  if no[&quot;clock&quot;]:exists() then
-    local clock_state = no[&quot;clock&quot;].state
-    local clock_pos = po(no[&quot;clock&quot;]) + clock_to_delta_pos[clock_state]
-    if clock_pos.x &gt; 19 then  clock_pos.x = 19  end
-    if clock_pos.x &lt;  0 then  clock_pos.x =  0  end
-    if clock_pos.y &gt; 12 then  clock_pos.y = 12  end
-    if clock_pos.y &lt;  0 then  clock_pos.y =  0  end
-    wo[no[&quot;clock&quot;]] = {&quot;st_nil&quot;}
-    if not (st(clock_pos):is(&quot;st_timer&quot;)) then
-      wo[clock_pos] = ti[&quot;C&quot;]
-      no[&quot;clock&quot;].state = clock_state
-    else -- hit the timer!
-      wo[{2, 3}] = {&quot;it-document&quot;, text = &quot;text1&quot;}
-    end
-  end
+if not wo[&quot;IsDifficult&quot;] then
+    clock_to_delta_pos = ORI2DIR
+else
+    clock_to_delta_pos = {[WEST]=W, [SOUTH]=N, [EAST]=E, [NORTH]=S}
 end
 
-    ]]&gt;&lt;/el:luamain&gt;
+function callback_timer(value, sender)
+    if no[&quot;clock&quot;]:exists() then
+        local clock_state = no[&quot;clock&quot;].state
+        local clock_pos = po(no[&quot;clock&quot;]) + clock_to_delta_pos[clock_state]
+        -- stop clock at the worlds border
+        if not clock_pos:exists() then
+            sender:off()
+            return
+        end
+        wo[no[&quot;clock&quot;]] = {&quot;st_nil&quot;}
+        if not (st(clock_pos):is(&quot;st_timer&quot;)) then
+            wo[clock_pos] = ti[&quot;C&quot;]
+            no[&quot;clock&quot;].state = clock_state
+        else -- hit the timer!
+            sender:off()
+            wo[{2, 3}] = {&quot;it_document&quot;, text = &quot;text1&quot;}
+        end
+    end
+end
+ ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;
         &lt;el:english el:translate=&quot;false&quot;/&gt;

Modified: trunk/data/levels/enigma_iv/andreas09_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/andreas09_2.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_iv/andreas09_2.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,31 +3,22 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;The Flagstone Reaper&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas09&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;5&quot; el:status=&quot;released&quot;/&gt;
-      &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;6&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005, 2009 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
-      &lt;el:compatibility el:enigma=&quot;1.10&quot;&gt;
-      &lt;/el:compatibility&gt;
+      &lt;el:compatibility el:enigma=&quot;1.10&quot;/&gt;
       &lt;el:modes el:easy=&quot;true&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
-      &lt;el:comments&gt;
-      &lt;/el:comments&gt;
       &lt;el:score el:easy=&quot;01:08&quot; el:difficult=&quot;01:06&quot;/&gt;
     &lt;/el:info&gt;
     &lt;el:luamain&gt;&lt;![CDATA[
-
-clock_to_delta_pos = { [NORTH] = po(0, -1),
-                       [EAST] = po(1, 0),
-                       [SOUTH] = po(0, 1),
-                       [WEST] = po(-1, 0) }
-  
 ti[&quot;~&quot;] = {&quot;fl_abyss&quot;}
 ti[&quot;_&quot;] = {&quot;fl_bast&quot;,     _floor = &quot;~&quot;}
 ti[&quot;1&quot;] = {&quot;fl_sahara&quot;,   _floor = &quot;_&quot;, _item = &quot;it_magicwand&quot;}
 ti[&quot;2&quot;] = {&quot;fl_red&quot;,      _floor = &quot;_&quot;, _item = &quot;it_umbrella&quot;}
 ti[&quot;3&quot;] = {&quot;fl_bluegray&quot;, _floor = &quot;_&quot;, _item = &quot;it_sword&quot;}
 ti[&quot;4&quot;] = {&quot;fl_tigris&quot;,   _floor = &quot;_&quot;, _item = &quot;it_hammer&quot;}
-ti[&quot;5&quot;] = {&quot;fl_gray&quot;,     _floor = &quot;_&quot;, _item = &quot;it-pin&quot;}      
+ti[&quot;5&quot;] = {&quot;fl_gray&quot;,     _floor = &quot;_&quot;, _item = &quot;it_pin&quot;}      
 ti[&quot;#&quot;] = {&quot;st_purplegray&quot;}
 ti[&quot;O&quot;] = {&quot;st_oxyd&quot;, flavor = &quot;a&quot;, oxydcolor = OXYD_WHITE}
 ti[&quot;@&quot;] = {&quot;#ac_marble&quot;, adhesion = 1}
@@ -41,7 +32,7 @@
 ti[&quot;M&quot;] = {&quot;st_magic_brick&quot;}
 ti[&quot;K&quot;] = {&quot;st_knight&quot;}
 
-w, h = wo(res.random(ti, &quot; &quot;, {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;}), &quot; &quot;, 
+wo(res.random(ti, &quot; &quot;, {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;}), &quot; &quot;, 
        {&quot;T################LL#&quot;,
         &quot;#C              Gd~S&quot;,
         &quot;#               #BM#&quot;,
@@ -59,41 +50,38 @@
 wo:shuffleOxyd()
 
 function callback_timer()
-  if no[&quot;clock&quot;]:exists() then
-    local clock_state = no[&quot;clock&quot;].state
-    local old_pos = po(no[&quot;clock&quot;])
-    local clock_pos = old_pos + clock_to_delta_pos[clock_state]
-    if clock_pos.x &gt; 19 then  clock_pos.x = 19  end
-    if clock_pos.x &lt;  0 then  clock_pos.x =  0  end
-    if clock_pos.y &gt; 12 then  clock_pos.y = 12  end
-    if clock_pos.y &lt;  0 then  clock_pos.y =  0  end
-    -- Change item (if existent)
-    if fl(old_pos)._item and it(old_pos):exists() then
-      wo[old_pos] = {fl(old_pos)._item}
+    if no[&quot;clock&quot;]:exists() then
+        local clock_state = no[&quot;clock&quot;].state
+        local old_pos = po(no[&quot;clock&quot;])
+        local clock_pos = old_pos + ORI2DIR[clock_state]
+        -- The clock is blocked by stones, so we don't need to
+        -- clip clock_pos to the level size.
+        -- Change item (if existent)
+        if fl(old_pos)._item and it(old_pos):exists() then
+            wo[old_pos] = ti[fl(old_pos)._item]
+        end
+        -- Change floor
+        if fl(old_pos)._floor then
+            wo[old_pos] = ti[fl(old_pos)._floor]
+        end
+        -- Change direction (yes, prior to move)
+        if wo[&quot;IsDifficult&quot;] and (random(1,4) == 1) then
+            if (clock_state == NORTH) or (clock_state == SOUTH) then
+                clock_state = ({EAST, WEST})[random(2)]
+            else
+                clock_state = ({NORTH, SOUTH})[random(2)]
+            end
+        end
+        -- Move stone
+        if not st(clock_pos):exists() then
+            wo[old_pos] = {&quot;st_nil&quot;}
+            wo[clock_pos] = ti[&quot;C&quot;]
+        end
+        -- Adapt direction
+        no[&quot;clock&quot;].state = clock_state
     end
-    -- Change floor
-    if fl(old_pos)._floor then
-      wo[old_pos] = ti[fl(old_pos)._floor]
-    end
-    -- Change direction (yes, prior to move)
-    if wo[&quot;IsDifficult&quot;] and (random(1,4) == 1) then
-      if (clock_state == NORTH) or (clock_state == SOUTH) then
-        clock_state = ({EAST, WEST})[random(2)]
-      else
-        clock_state = ({NORTH, SOUTH})[random(2)]
-      end
-    end
-    -- Move stone
-    if not st(clock_pos):exists() then
-      wo[old_pos] = {&quot;st_nil&quot;}
-      wo[clock_pos] = ti[&quot;C&quot;]
-    end
-    -- Adapt direction
-    no[&quot;clock&quot;].state = clock_state
-  end
 end
-
-    ]]&gt;&lt;/el:luamain&gt;
+ ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;
         &lt;el:english el:translate=&quot;true&quot;/&gt;

Modified: trunk/data/levels/enigma_iv/andreas16_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/andreas16_2.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_iv/andreas16_2.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,35 +3,27 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;The Dark Outside&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas16&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
-      &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;2&quot; el:revision=&quot;5&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006, 2009 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
-      &lt;el:compatibility el:enigma=&quot;1.10&quot;&gt;
-      &lt;/el:compatibility&gt;
+      &lt;el:compatibility el:enigma=&quot;1.10&quot;/&gt;
       &lt;el:modes el:easy=&quot;true&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
-      &lt;el:comments&gt;
-      &lt;/el:comments&gt;
       &lt;el:score el:easy=&quot;04:14&quot; el:difficult=&quot;07:19&quot;/&gt;
     &lt;/el:info&gt;
     &lt;el:luamain&gt;&lt;![CDATA[
-
-clock_to_delta_pos = { [NORTH] = po(0, -1),
-                       [EAST] = po(1, 0),
-                       [SOUTH] = po(0, 1),
-                       [WEST] = po(-1, 0) }
-
 ti[&quot; &quot;] = {&quot;fl_abyss&quot;}
 ti[&quot;.&quot;] = {&quot;fl_brick&quot;}
+ti[&quot;-&quot;] = {&quot;fl_concrete&quot;}
 ti[&quot;#&quot;] = {&quot;st_purplemarble&quot;}
 ti[&quot;G&quot;] = {&quot;st_ghost&quot;}
 ti[&quot;O&quot;] = {&quot;st_oxyd&quot;, flavor = &quot;a&quot;, oxydcolor = OXYD_BLACK} .. ti[&quot; &quot;]
-ti[&quot;@&quot;] = {&quot;#ac_marble&quot;, adhesion = 1}
+ti[&quot;@&quot;] = {&quot;#ac_marble&quot;}
 ti[&quot;b&quot;] = {&quot;it_brush&quot;, &quot;thisbrush&quot;}
 ti[&quot;T&quot;] = {&quot;st_timer&quot;, &quot;timer&quot;, target = &quot;callback_timer&quot;, interval = 0.8}
 ti[&quot;C&quot;] = {&quot;st_fourswitch&quot;, &quot;clock&quot;}
 
-w, h = wo(ti, &quot;.&quot;,
+wo(ti, &quot;.&quot;,
        {&quot;T######################################&quot;,
         &quot;#@.G......G........G.......           #&quot;,
         &quot;#..G...G..GGG...GGGG.......           #&quot;,
@@ -63,49 +55,49 @@
 step_count = 0
 painting = false
 hint = false
+
 function callback_timer()
-  if no[&quot;clock&quot;]:exists() then
-    local clock_state = no[&quot;clock&quot;].state
-    local old_pos = po(no[&quot;clock&quot;])
-    local clock_pos = old_pos + clock_to_delta_pos[clock_state]
-    -- The clock is blocked by stones, so we don't need to
-    -- clip clock_pos to the level size.
-    -- Change direction each 4 steps (yes, prior to move)
-    step_count = step_count + 1
-    if step_count == 5 then
-      no[&quot;clock&quot;].counterclock = not wo[&quot;IsDifficult&quot;]
-      no[&quot;clock&quot;]:toggle()
-      no[&quot;clock&quot;].counterclock = false      
-      clock_state = no[&quot;clock&quot;].state
-      step_count = 1
-    end    
-    -- Move stone
-    if st(clock_pos):exists() then
-      clock_pos = old_pos
-    else
-      wo[old_pos] = {&quot;st_nil&quot;}
-      wo[clock_pos] = ti[&quot;C&quot;]
+    if no[&quot;clock&quot;]:exists() then
+	local clock_state = no[&quot;clock&quot;].state
+	local old_pos = po(no[&quot;clock&quot;])
+	local clock_pos = old_pos + ORI2DIR[clock_state]
+	-- The clock is blocked by stones, so we don't need to
+	-- clip clock_pos to the level size.
+	-- Change direction each 4 steps (yes, prior to move)
+	step_count = step_count + 1
+	if step_count == 5 then
+	    no[&quot;clock&quot;].counterclock = not wo[&quot;IsDifficult&quot;]
+	    no[&quot;clock&quot;]:toggle()
+	    no[&quot;clock&quot;].counterclock = false
+	    clock_state = no[&quot;clock&quot;].state
+	    step_count = 1
+	end
+	-- Move stone
+	if st(clock_pos):exists() then
+	    clock_pos = old_pos
+	else
+	    wo[old_pos] = {&quot;st_nil&quot;}
+	    wo[clock_pos] = ti[&quot;C&quot;]
+	end
+	-- Adapt direction
+	no[&quot;clock&quot;].state = clock_state
+	-- Maybe there is some item under the new position?
+	if it(clock_pos):is(&quot;it_brush&quot;) then
+	    wo[clock_pos] = {&quot;it_nil&quot;}
+	    painting = true
+	end
+	-- Paint your way to a brighter day ...
+	if painting then
+	    wo[clock_pos] = ti[&quot;-&quot;]
+	end
+	-- In case the clock is still hungry and in the dark ...
+	if (not painting) and (not hint) and (clock_pos.y &gt; 12) then
+	    wo[{1,1}] = {&quot;it_document&quot;, text = &quot;text1&quot;}
+	    hint = true
+	end        
     end
-    -- Adapt direction
-    no[&quot;clock&quot;].state = clock_state
-    -- Maybe there is some item under the new position?
-    if it(clock_pos):is(&quot;it_brush&quot;) then
-      wo[clock_pos] = {&quot;it_nil&quot;}
-      painting = true
-    end
-    -- Paint your way to a brighter day ...
-    if painting then
-      wo[clock_pos] = {&quot;fl_concrete&quot;}
-    end
-    -- In case the clock is still hungry and in the dark ...
-    if (not painting) and (not hint) and (clock_pos.y &gt; 12) then
-      wo[{1,1}] = {&quot;it-document&quot;, text = &quot;text1&quot;}
-      hint = true
-    end        
-  end
 end
-
-    ]]&gt;&lt;/el:luamain&gt;
+ ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;
         &lt;el:english el:translate=&quot;false&quot;/&gt;

Modified: trunk/data/levels/enigma_iv/ant04_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant04_2.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_iv/ant04_2.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;The Tomb&quot; el:subtitle=&quot;&quot; el:id=&quot;ant04&quot;/&gt;
-      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Petr Machata&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2002 Petr Machata&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -18,29 +18,29 @@
 wo[&quot;FollowMethod&quot;] = FOLLOW_SCROLL
 
 ti[&quot;  &quot;] = {&quot;fl_sand&quot;}
+ti[&quot;..&quot;] = {&quot;fl_abyss&quot;}
 ti[&quot;##&quot;] = {&quot;st_greenbrown&quot;}
-ti[&quot;..&quot;] = {&quot;fl_abyss&quot;}
-ti[&quot;xx&quot;] = {&quot;st_grate_cross&quot;}
-ti[&quot;ww&quot;] = {&quot;st_box&quot;}
+ti[&quot;XX&quot;] = {&quot;st_grate&quot;}
+ti[&quot;++&quot;] = {&quot;st_box&quot;}
 ti[&quot;doorns&quot;] = {&quot;st_door&quot;, name=&quot;door%%&quot;, faces = &quot;ns&quot;}
 ti[&quot;doorew&quot;] = {&quot;st_door&quot;, name=&quot;door%%&quot;, faces = &quot;ew&quot;}
 ti[&quot;trigger&quot;] = {&quot;it_trigger&quot;, target=&quot;door%%&quot;}
 ti[&quot;P&quot;] = {&quot;st_puzzle_blue&quot;, intensity = 0}
-ti[&quot;OO&quot;] = {&quot;st_oxyd&quot;, &quot;oxyds#&quot;}
+ti[&quot;OO&quot;] = {&quot;st_oxyd&quot;, name=&quot;oxyds#&quot;}
 ti[&quot;@@&quot;] = {&quot;#ac_marble_black&quot;}
 
 wo(res.puzzle(res.autotile(ti, {&quot;D&quot;, &quot;doorew&quot;}, {&quot;E&quot;, &quot;doorns&quot;}, {&quot;t&quot;, &quot;trigger&quot;}), &quot;P&quot;), &quot;  &quot;, {
     &quot;......####################..........######################&quot;,
-    &quot;########xxxx##tb####xxxx##..........##  ww    ww  ....OO##&quot;,
-    &quot;##      xx          ww  ##############      wwww  ....OO##&quot;,
-    &quot;##  @@  ##  ##xx##  tcxx  Db        ####  wwww    ....OO##&quot;,
-    &quot;##te    xx  td    ww####Ec##  ####    ##  ww      ....OO##&quot;,
-    &quot;##ww####xxxx######  ##    ##PePO####Ed##Ee####ww  ....OO##&quot;,
-    &quot;##    ########  PdPe  Pe  ..      POtaPa    ##    ....OO##&quot;,
+    &quot;########XXXX##tb####XXXX##..........##  ++    ++  ....OO##&quot;,
+    &quot;##      XX          ++  ##############      ++++  ....OO##&quot;,
+    &quot;##  @@  ##  ##XX##  tcXX  Db        ####  ++++    ....OO##&quot;,
+    &quot;##te    XX  td    ++####Ec##  ####    ##  ++      ....OO##&quot;,
+    &quot;##++####XXXX######  ##    ##PePE####Ed##Ee####++  ....OO##&quot;,
+    &quot;##    ########  PdPe  Pe  ..      PEtaPa    ##    ....OO##&quot;,
     &quot;####        Da            ################################&quot;,
     &quot;..##########################..............................&quot;})
 
-wo:shuffleOxyd({no[&quot;oxyds#*&quot;]:sort(), linear = true})
+wo:shuffleOxyd({no[&quot;oxyds#*&quot;]:sort(&quot;linear&quot;), linear = true})
  ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_iv/index.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -31,7 +31,7 @@
     &lt;level _seq=&quot;23&quot; _title=&quot;Bavarian Madness&quot; _xpath=&quot;./ss08_1&quot; author=&quot;Sven Siggelkow&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ss8&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;24&quot; _title=&quot;Tunnels&quot; _xpath=&quot;./martin82_2&quot; author=&quot;Martin Hawlisch&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;martin82&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;25&quot; _title=&quot;Light Switches&quot; _xpath=&quot;./siegfried24_2&quot; author=&quot;Siegfried Fennig&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;level8e&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;26&quot; _title=&quot;The Tomb&quot; _xpath=&quot;./ant04_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant04&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;26&quot; _title=&quot;The Tomb&quot; _xpath=&quot;./ant04_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant04&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;27&quot; _title=&quot;Robbery&quot; _xpath=&quot;./ant29_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant29&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;28&quot; _title=&quot;The Life Game&quot; _xpath=&quot;./alain13_2&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;alain13&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;29&quot; _title=&quot;Where is it?&quot; _xpath=&quot;./barry02_1&quot; author=&quot;Barry &amp; Lori Mead&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;barry02&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
@@ -67,14 +67,14 @@
     &lt;level _seq=&quot;59&quot; _title=&quot;Sleeping Serpent&quot; _xpath=&quot;./raoul10_2&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul10&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;60&quot; _title=&quot;- No Meditation -&quot; _xpath=&quot;./ralf08_2&quot; author=&quot;Ralf Westram&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ralf08&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;61&quot; _title=&quot;Go!&quot; _xpath=&quot;./ant02_1&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant02&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;62&quot; _title=&quot;How solid?&quot; _xpath=&quot;./andreas03_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas03&quot; rel=&quot;2&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;62&quot; _title=&quot;How solid?&quot; _xpath=&quot;./andreas03_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas03&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;63&quot; _title=&quot;Cluenigma&quot; _xpath=&quot;./alain12_2&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;alain12&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;64&quot; _title=&quot;The Flagstone Reaper&quot; _xpath=&quot;./andreas09_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas09&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;64&quot; _title=&quot;The Flagstone Reaper&quot; _xpath=&quot;./andreas09_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas09&quot; rel=&quot;2&quot; rev=&quot;6&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;65&quot; _title=&quot;Little Bit of Everything&quot; _xpath=&quot;./duffy34_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy34&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;66&quot; _title=&quot;Snowball Fight&quot; _xpath=&quot;./nat14_1&quot; author=&quot;Nat Pryce&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;nat14&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;67&quot; _title=&quot;U-Swap&quot; _xpath=&quot;./ralf15_2&quot; author=&quot;Ralf Westram&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;ralf15&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;68&quot; _title=&quot;Triple-Maze&quot; _xpath=&quot;./duffy125_2&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy125&quot; rel=&quot;2&quot; rev=&quot;12&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;69&quot; _title=&quot;The Dark Outside&quot; _xpath=&quot;./andreas16_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas16&quot; rel=&quot;2&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;69&quot; _title=&quot;The Dark Outside&quot; _xpath=&quot;./andreas16_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas16&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;70&quot; _title=&quot;Electric Meditation&quot; _xpath=&quot;./duffy123_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;duffy123&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;71&quot; _title=&quot;Seed Puzzle&quot; _xpath=&quot;./duffy77_2&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy77&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;72&quot; _title=&quot;Action at a Distance&quot; _xpath=&quot;./duffy121_2&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy121&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Added: trunk/data/levels/enigma_ix/another04_1.xml
===================================================================
--- trunk/data/levels/enigma_ix/another04_1.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_ix/another04_1.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -0,0 +1,88 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;el:level xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:schemaLocation=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A> level.xsd&quot; xmlns:el=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A>&quot;&gt;
+  &lt;el:protected&gt;
+    &lt;el:info el:type=&quot;level&quot;&gt;
+      &lt;el:identity el:title=&quot;Enibricks&quot; el:subtitle=&quot;&quot; el:id=&quot;another04&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;5&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author el:name=&quot;Another&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:copyright&gt;Copyright &#169; 2010 Another&lt;/el:copyright&gt;
+      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
+      &lt;el:compatibility el:enigma=&quot;1.10&quot;/&gt;
+      &lt;el:modes el:easy=&quot;true&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
+      &lt;el:comments&gt;
+        &lt;el:credits el:showinfo=&quot;true&quot; el:showstart=&quot;false&quot;&gt;Raoul and Ronald for valuable suggestions and code samples.&lt;/el:credits&gt;
+      &lt;/el:comments&gt;
+      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;-&quot;/&gt;
+    &lt;/el:info&gt;
+    &lt;el:luamain&gt;&lt;![CDATA[
+wo[&quot;ProvideExtralifes&quot;] = false
+wo[&quot;MaxOxydColor&quot;] = OXYD_YELLOW
+wo[&quot;ActorimpulseStrength&quot;] = 10.0
+
+local s = 1 / math.sqrt(2)
+
+ti[&quot; &quot;] = {&quot;fl_sand&quot;, adhesion=0, friction=-0.01}
+ti[&quot;~&quot;] = {&quot;fl_water&quot;} .. ti({&quot;it_sensor&quot;, invisible=true, target=&quot;next&quot;})
+ti[&quot;-&quot;] = {&quot;fl_redslab_framed&quot;}
+ti[&quot;^&quot;] = {&quot;it_meditation_bump&quot;, essential=INDISPENSABLE}    -- Meditation bumps to add some random motion
+ti[&quot;&lt;&quot;] = {&quot;fl_slope_osw&quot;} .. ti({&quot;st_oneway&quot;, orientation=WEST})
+ti[&quot;V&quot;] = ti[&quot;^&quot;] .. {&quot;fl_slope_ps&quot;}
+ti[&quot;#&quot;] = {&quot;st_rawglass&quot;}
+ti[&quot;X&quot;] = {&quot;st_break_black&quot;}
+ti[&quot;Y&quot;] = cond(wo[&quot;IsDifficult&quot;], {&quot;st_break_white&quot;}, ti[&quot;X&quot;])
+ti[&quot;panel&quot;] = {&quot;st_panel&quot;, name=&quot;bumper#&quot;, cluster=0}
+ti[&quot;panelleft&quot;] = {&quot;st_actorimpulse&quot;, name=&quot;bumper#&quot;, hit_distortion_xx=s, hit_distortion_xy=s, hit_distortion_yx=-s, hit_distortion_yy=s}
+ti[&quot;panelright&quot;] = {&quot;st_actorimpulse&quot;, name=&quot;bumper#&quot;, hit_distortion_xx=s, hit_distortion_xy=-s, hit_distortion_yx=s, hit_distortion_yy=s}
+ti[&quot;.&quot;] = ti[&quot;-&quot;] .. {&quot;it_sensor&quot;, invisible=true, target=&quot;move_paddle&quot;}
+ti[&quot;,&quot;] = cond(wo[&quot;IsDifficult&quot;], ti[&quot;.&quot;], ti[&quot;-&quot;])
+ti[&quot;*&quot;] = ti[&quot;^&quot;] .. {&quot;fl_slope_ps&quot;, name=&quot;startpos&quot;}
+ti[&quot;p&quot;] = {&quot;#ac_pearl_black&quot;, owner=YANG, controllers=CTRL_NONE, essential=DISPENSABLE, _vortex=&quot;vortex3&quot;}
+ti[&quot;q&quot;] = {&quot;#ac_pearl_black&quot;, owner=YANG, controllers=CTRL_NONE, essential=PERKIND, _vortex=&quot;vortex2&quot;}
+ti[&quot;1&quot;] = ti[&quot;#&quot;] .. {&quot;it_vortex&quot;, name=&quot;vortex1&quot;, state=CLOSED, destination=&quot;startpos&quot;} .. ti[&quot;q&quot;]
+ti[&quot;2&quot;] = ti[&quot;#&quot;] .. {&quot;it_vortex&quot;, name=&quot;vortex2&quot;, state=CLOSED, destination=&quot;startpos&quot;} .. ti[&quot;p&quot;]
+ti[&quot;3&quot;] = ti[&quot;#&quot;] .. {&quot;it_vortex&quot;, name=&quot;vortex3&quot;, state=CLOSED, destination=&quot;startpos&quot;} .. ti[&quot;p&quot;]
+ti[&quot;O&quot;] = {&quot;st_oxyd_e&quot;}                                                                              
+ti[&quot;@&quot;] = ti[&quot;.&quot;] .. {&quot;#ac_marble&quot;, name=&quot;marble&quot;}
+
+wo(ti, &quot; &quot;, {
+    &quot;OOOOOOOOOOOOOOOOOO3#&quot;,
+    &quot;XXXXXXXXXXXXXXXXXX2#&quot;,
+    &quot;XXYXXXYXXXXYXXXYXX1*&quot;,
+    &quot;XXXXXXXXXXXXXXXXXX#V&quot;,
+    &quot;XXXYXXXYXXYXXXYXXX#V&quot;,
+    &quot;XXXXXXXXXXXXXXXXXX#V&quot;,
+    &quot;                  &lt;&lt;&quot;,
+    &quot;                  ##&quot;,
+    &quot;                  ##&quot;,
+    &quot;                  ##&quot;,
+    &quot;                  ##&quot;,
+    &quot;~~~~~~~~~~~~~~~~~~##&quot;,
+    &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">-,........ at .....</A>,-##&quot;})
+
+wo:add(YANG, {&quot;it_hammer&quot;})
+wo:shuffleOxyd()
+
+local panels = cond(wo[&quot;IsDifficult&quot;], N, N .. NW .. NE)
+local offset = cond(wo[&quot;IsDifficult&quot;], E, 2*E)
+
+function move_paddle(value, sender)
+    wo[no[&quot;bumper#*&quot;]] = {&quot;st_nil&quot;}
+    wo[sender + panels] = ti[&quot;panel&quot;]
+    wo[sender + N - offset] = ti[&quot;panelleft&quot;]
+    wo[sender + N + offset] = ti[&quot;panelright&quot;]
+end
+
+function next(value, sender)
+    no[value[&quot;_vortex&quot;]]:open()
+end
+
+move_paddle(true, it(no[&quot;marble&quot;]))
+no[&quot;vortex1&quot;]:open()
+ ]]&gt;&lt;/el:luamain&gt;
+    &lt;el:i18n&gt;
+      &lt;el:string el:key=&quot;title&quot;&gt;
+        &lt;el:english el:translate=&quot;false&quot;/&gt;
+      &lt;/el:string&gt;
+    &lt;/el:i18n&gt;
+  &lt;/el:protected&gt;
+&lt;/el:level&gt;


Property changes on: trunk/data/levels/enigma_ix/another04_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_ix/devnull51_1.xml
===================================================================
--- trunk/data/levels/enigma_ix/devnull51_1.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_ix/devnull51_1.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Suckerfish I&quot; el:subtitle=&quot;&quot; el:id=&quot;devnull51&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;6&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;7&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author el:name=&quot;/dev/null&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2009, 2010 dev0&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -54,7 +54,7 @@
 ti[&quot; w&quot;] = {&quot;it_wrench&quot;}
 ti[&quot; d&quot;] = {&quot;it_document&quot;, text = &quot;text1&quot;}
 ti[&quot;keys&quot;] = ti[&quot;  &quot;] .. {&quot;it_key&quot;, code = &quot;%%&quot;, invisible = false}
-ti[&quot;doors&quot;] = {&quot;st_door_b&quot;, name = &quot;doorK%%&quot;, faces = &quot;ew&quot;}
+ti[&quot;doors&quot;] = {&quot;st_door_b&quot;, name = &quot;doorK%%&quot;}
 ti[&quot;lockD&quot;] = {&quot;st_key&quot;, code = &quot;%%&quot;, target = &quot;doorK%%&quot;, invisible = false}
 ti[&quot;lockB&quot;] = {&quot;st_key&quot;, code = &quot;%%&quot;, target = &quot;bridgeB%%#*&quot;, invisible = false}
 ti[&quot;lockW&quot;] = {&quot;st_key&quot;, code = &quot;%%&quot;, target = &quot;bridgeW%%#*&quot;, invisible = false}

Modified: trunk/data/levels/enigma_ix/index.xml
===================================================================
--- trunk/data/levels/enigma_ix/index.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_ix/index.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -53,12 +53,13 @@
     &lt;level _seq=&quot;45&quot; _title=&quot;Choices, choices ...&quot; _xpath=&quot;./ais08_1&quot; author=&quot;Alex Smith&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20090508ais523001&quot; rel=&quot;1&quot; rev=&quot;8&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;46&quot; _title=&quot;Puzzle Shift&quot; _xpath=&quot;./zephyr01_1&quot; author=&quot;Zephyr&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;zephyr01&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;47&quot; _title=&quot;Zero Magnetism Lab II&quot; _xpath=&quot;./duffy185_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy185&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;48&quot; _title=&quot;Suckerfish I&quot; _xpath=&quot;./devnull51_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull51&quot; rel=&quot;1&quot; rev=&quot;6&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;48&quot; _title=&quot;Suckerfish I&quot; _xpath=&quot;./devnull51_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull51&quot; rel=&quot;1&quot; rev=&quot;7&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;49&quot; _title=&quot;Splinter&quot; _xpath=&quot;./devnull66_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull66&quot; rel=&quot;1&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;50&quot; _title=&quot;Seasonal Timings&quot; _xpath=&quot;./ais13_1&quot; author=&quot;Alex Smith&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;ais13&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;51&quot; _title=&quot;Crescent Wrench&quot; _xpath=&quot;./devnull68_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;devnull68&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;52&quot; _title=&quot;Near Halley II&quot; _xpath=&quot;./devnull46_1&quot; author=&quot;/dev/null&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;devnull46&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;53&quot; _title=&quot;Mike's hammer&quot; _xpath=&quot;./alain31_1&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;alain31&quot; rel=&quot;1&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;54&quot; _title=&quot;Enibricks&quot; _xpath=&quot;./another04_1&quot; author=&quot;Another&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;another04&quot; rel=&quot;1&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
   &lt;/levels&gt;
 
 &lt;/index&gt;

Modified: trunk/data/levels/enigma_peroxyd/index.xml
===================================================================
--- trunk/data/levels/enigma_peroxyd/index.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_peroxyd/index.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -13,7 +13,7 @@
     &lt;level _seq=&quot;5&quot; _title=&quot;Still Swapping?&quot; _xpath=&quot;./peroxyd08_1&quot; author=&quot;Ulf Stegemann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;20060629ulf007&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;6&quot; _title=&quot;Dangling&quot; _xpath=&quot;./peroxyd09_1&quot; author=&quot;Martin Hawlisch&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;martin69&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;7&quot; _title=&quot;- Meditation -&quot; _xpath=&quot;./peroxyd10_1&quot; author=&quot;anonymous&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;meditation2&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;8&quot; _title=&quot;Per.Oxyd 11&quot; _xpath=&quot;./peroxyd11_1&quot; author=&quot;Sven Siggelkow&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ss_pox11&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;8&quot; _title=&quot;Per.Oxyd 11&quot; _xpath=&quot;./peroxyd11_1&quot; author=&quot;Sven Siggelkow&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ss_pox11&quot; rel=&quot;2&quot; rev=&quot;0&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;9&quot; _title=&quot;Crush On You&quot; _xpath=&quot;./peroxyd12_1&quot; author=&quot;Martin Hawlisch&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;martin11&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;10&quot; _title=&quot;Stinker&quot; _xpath=&quot;./peroxyd13_1&quot; author=&quot;Martin Hawlisch&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;martin18&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;11&quot; _title=&quot;Many Rings&quot; _xpath=&quot;./peroxyd15_1&quot; author=&quot;Martin Hawlisch&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;martin09&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: trunk/data/levels/enigma_peroxyd/peroxyd11_1.xml
===================================================================
--- trunk/data/levels/enigma_peroxyd/peroxyd11_1.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_peroxyd/peroxyd11_1.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Per.Oxyd 11&quot; el:subtitle=&quot;Per.Oxyd 11&quot; el:id=&quot;ss_pox11&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Sven Siggelkow&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2003 Sven Siggelkow&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;

Deleted: trunk/data/levels/enigma_vi/andreas40_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas40_1.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_vi/andreas40_1.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -1,241 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;el:level xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:schemaLocation=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A> level.xsd&quot; xmlns:el=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A>&quot;&gt;
-  &lt;el:protected&gt;
-    &lt;el:info el:type=&quot;level&quot;&gt;
-      &lt;el:identity el:title=&quot;Ariadne&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas40&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
-      &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
-      &lt;el:copyright&gt;Copyright &#169; 2006 Andreas Lochmann&lt;/el:copyright&gt;
-      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
-      &lt;el:compatibility el:enigma=&quot;1.0&quot;&gt;
-       &lt;el:dependency el:path=&quot;lib/ant&quot; el:id=&quot;lib/ant&quot; el:release=&quot;1&quot; el:preload=&quot;true&quot;/&gt;
-       &lt;el:dependency el:path=&quot;lib/andreas_ghosts&quot; el:id=&quot;lib/andreas_ghosts&quot;
-          el:release=&quot;1&quot; el:preload=&quot;true&quot;/&gt;
-      &lt;/el:compatibility&gt;
-      &lt;el:modes el:easy=&quot;false&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
-      &lt;el:comments&gt;
-        &lt;el:code&gt;Lua 5.1 and XML converted by Leveladministrators&lt;/el:code&gt;
-      &lt;/el:comments&gt;
-      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;01:17&quot;/&gt;
-    &lt;/el:info&gt;
-    &lt;el:luamain&gt;&lt;![CDATA[
-
--- Created with the help of BBE 1.05
-
-levelh=25
-levelw=20
-
-enigma.SlopeForce=10
-enigma.ElectricForce=30
-
-switchstate1 = 0
-switchstate2 = 0
-function openfloor()
-  switchstate1 = -1
-  switchstate2 = -1
-  for x = 0, levelw - 1 do
-    for y = 0, levelh - 1 do
-      local fl = enigma.GetKind(enigma.GetFloor(x,y))
-      if (fl == &quot;fl-marble&quot;) or (fl == &quot;fl-gradient&quot;) then
-        set_floor(&quot;fl-abyss&quot;, x, y)
-        set_floor(&quot;fl-space&quot;, x, y)
-      end
-    end
-  end
-  set_floor(&quot;fl-abyss&quot;, ghosts_ghost_x[1], ghosts_ghost_y[1])
-  set_floor(&quot;fl-space&quot;, ghosts_ghost_x[1], ghosts_ghost_y[1])
-  ghosts_savedfloor[1] = &quot;fl-space&quot;
-end
-function switchfunc1()
-  if switchstate1 ~= -1 then
-    switchstate1 = 1 - switchstate1
-    if (switchstate1 == 1) and (switchstate2 == 1) then
-      openfloor()
-    end
-  end
-  SendMessage(&quot;bridge1&quot;, &quot;openclose&quot;)
-end
-function switchfunc2()
-  if switchstate2 ~= -1 then
-    switchstate2 = 1 - switchstate2
-    if (switchstate1 == 1) and (switchstate2 == 1) then
-      openfloor()
-    end
-  end
-  SendMessage(&quot;bridge2&quot;, &quot;openclose&quot;)
-end
-
-function file_oxyd(x,y,f)
-    oxyd_default_flavor=f
-    oxyd(x,y)
-end
-function ac_rotor(x,y)
-  local horse = set_actor(&quot;ac-horse&quot;,x+1.5,y+0.5)
-  ghosts_set_ghost(x, y, &quot;ac-top&quot;, 1, ghosts_direction_intelligent,
-    {range = 0, force = 5, gohome = FALSE})
-  local rotor = enigma.GetNamedObject(&quot;ghost_1&quot;)
-  AddRubberBand(rotor, horse, 100, 1)
-end
-function ac_blackball(x,y)
-  set_actor(&quot;ac-blackball&quot;, x+0.5, y+0.5, {essential = 1})
-end
-function ac_whiteball(x,y)
-  set_actor(&quot;ac-whiteball&quot;, x+0.5, y+0.5, {name=&quot;whiteball&quot;, essential = 1})
-end
-targetnumber = 0
-function setitrub1(x,y)
-  targetnumber = targetnumber + 1
-  set_stone(&quot;st-stone1&quot;, x, y - 1, {name = &quot;target&quot;..targetnumber})
-  set_item(&quot;it-rubberband&quot;, x, y, {target = &quot;target&quot;..targetnumber,
-    scissor = true, strength = 1})
-end
-
-cells={}
-items={}
-actors={}
-stones={}
-actors[&quot; &quot;]=cell{}
-stones[&quot; &quot;]=cell{}
-cells[&quot; &quot;]=cell{}
-items[&quot; &quot;]=cell{}
-
-cells[&quot;!&quot;]=cell{floor=&quot;fl-water&quot;}
---cells[&quot;$&quot;]=cell{floor=&quot;fl-marble&quot;}
-cells[&quot;$&quot;]=cell{parent={{ghosts_set_rail,1,&quot;fl-marble&quot;}}}
-cells[&quot;%&quot;]=cell{floor=&quot;fl-stwood&quot;}
-cells[&quot;&amp;&quot;]=cell{floor=&quot;fl-abyss&quot;}
-cells[&quot;1&quot;]=cell{floor={&quot;fl-bridge-open&quot;, {type = &quot;y&quot;, name = &quot;bridge1&quot;}}}
-cells[&quot;2&quot;]=cell{floor={&quot;fl-bridge-open&quot;, {type = &quot;y&quot;, name = &quot;bridge2&quot;}}}
-stones[&quot;!&quot;]=cell{stone=&quot;st-rock10&quot;}
-stones[&quot;#&quot;]=cell{stone=&quot;st-block&quot;}
-stones[&quot;$&quot;]=cell{stone={&quot;st-key_b&quot;, {action=&quot;callback&quot;, target=&quot;switchfunc1&quot;}}}
-stones[&quot;%&quot;]=cell{stone={&quot;st-key_a&quot;, {action=&quot;callback&quot;, target=&quot;switchfunc2&quot;}}}
-stones[&quot;b&quot;]=cell{stone=&quot;st-black4&quot;}
-stones[&quot;w&quot;]=cell{stone=&quot;st-white4&quot;}
-stones[&quot;'&quot;]=cell{stone=&quot;st-stone1&quot;}
-stones[&quot;(&quot;]=cell{parent={{file_oxyd,&quot;d&quot;}}}
-items[&quot;!&quot;]=cell{parent={{setitrub1}}}
-items[&quot;#&quot;]=cell{item=&quot;it-key_b&quot;}
-items[&quot;$&quot;]=cell{item=&quot;it-key_a&quot;}
-items[&quot;%&quot;]=cell{item=&quot;it-yinyang&quot;}
-items[&quot;&amp;&quot;]=cell{item={&quot;it-rubberband&quot;, {target=&quot;whiteball&quot;, scissor = true, strength = 1}}}
-actors[&quot;!&quot;]=cell{parent={{ac_rotor}}}
-actors[&quot;$&quot;]=cell{parent={{ac_blackball}}}
-actors[&quot;%&quot;]=cell{parent={{ac_whiteball}}}
-
-level={&quot;!!!!&amp;!!!!!!!!!!!!!!!&quot;,
-       &quot;!!!!&amp;$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$%%$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$%%$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$%%$$$$$$$$$$$$$$!&quot;,
-       &quot;!!!!&amp;$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$$$$$$$$$!&quot;,
-       &quot;!$$$$$$$$$$&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;!&quot;,
-       &quot;!$$$$$$$$$$!%%%!%%%!&quot;,
-       &quot;!$$$$$$$$$$!%%%!%%%!&quot;,
-       &quot;!$$$$$$$$$$!%%%!%%%!&quot;,
-       &quot;!$$$$$$$$$$!!1!!!2!!&quot;,
-       &quot;!$$$$$$$$$%%%%%%%%%!&quot;,
-       &quot;!$$$$$$$$$%%%%%%%%%!&quot;,
-       &quot;!$$$$$$$$$%%%%%%%%%!&quot;,
-       &quot;!!!!!!!!!!!!!!!!!!!!&quot;}
-   acmap={&quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;  !                 &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;,
-          &quot;             $   %  &quot;,
-          &quot;                    &quot;,
-          &quot;                    &quot;}
-  itmap={&quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;       #     !      &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;             $      &quot;,
-         &quot;                    &quot;,
-         &quot;        !      !    &quot;,
-         &quot;                    &quot;,
-         &quot;    !               &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;        !           &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;,
-         &quot;    !               &quot;,
-         &quot;             % &amp; %  &quot;,
-         &quot;                    &quot;,
-         &quot;                    &quot;}
- stmap={&quot;    !!!!!!!!!!!!!!! &quot;,
-        &quot;    ! #     #     ! &quot;,
-        &quot; !$ b # ### ##### ! &quot;,
-        &quot; !! b   # #       ! &quot;,
-        &quot; !% b ### ###'### ! &quot;,
-        &quot;    ! #     # #   ! &quot;,
-        &quot;!!!!!#### ### # ##! &quot;,
-        &quot;!   #     #       ! &quot;,
-        &quot;! ### # # # ### # ! &quot;,
-        &quot;! #   # #   # # # ! &quot;,
-        &quot;! # ### '#### #'# ! &quot;,
-        &quot;!   #     #     # ! &quot;,
-        &quot;!## '## ####### # ! &quot;,
-        &quot;!     #   #   #   ! &quot;,
-        &quot;! ### ### # # ### ! &quot;,
-        &quot;!   #   #   #     ! &quot;,
-        &quot;!## ### '#!!!!!!!!! &quot;,
-        &quot;!     #   !         &quot;,
-        &quot;!## # ### !  (   (  &quot;,
-        &quot;! # #     !         &quot;,
-        &quot;! # '#####! !w! !b! &quot;,
-        &quot;! #   #   b         &quot;,
-        &quot;! # # # # b         &quot;,
-        &quot;!   #   # b         &quot;,
-        &quot;!!!!!!!!!!!         &quot;}
-create_world_by_map(level)
-draw_map(0,0,stmap,stones)
-draw_map(0,0,acmap,actors)
-draw_map(0,0,itmap,items)
-oxyd_shuffle()
-ghosts_init(0,0)
-enigma.ConserveLevel = FALSE
-
-    ]]&gt;&lt;/el:luamain&gt;
-    &lt;el:i18n&gt;
-      &lt;el:string el:key=&quot;title&quot;&gt;
-        &lt;el:english el:translate=&quot;false&quot;/&gt;
-      &lt;/el:string&gt;
-    &lt;/el:i18n&gt;
-  &lt;/el:protected&gt;
-&lt;/el:level&gt;

Copied: trunk/data/levels/enigma_vi/andreas40_2.xml (from rev 2058, trunk/data/levels/enigma_vi/andreas40_1.xml)
===================================================================
--- trunk/data/levels/enigma_vi/andreas40_1.xml	2010-04-05 13:39:25 UTC (rev 2058)
+++ trunk/data/levels/enigma_vi/andreas40_2.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -0,0 +1,122 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;el:level xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:schemaLocation=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A> level.xsd&quot; xmlns:el=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A>&quot;&gt;
+  &lt;el:protected&gt;
+    &lt;el:info el:type=&quot;level&quot;&gt;
+      &lt;el:identity el:title=&quot;Ariadne&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas40&quot;/&gt;
+      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:copyright&gt;Copyright &#169; 2006, 2010 Andreas Lochmann&lt;/el:copyright&gt;
+      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
+      &lt;el:compatibility el:enigma=&quot;1.10&quot;/&gt;
+      &lt;el:modes el:easy=&quot;false&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
+      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;01:17&quot;/&gt;
+    &lt;/el:info&gt;
+    &lt;el:luamain&gt;&lt;![CDATA[
+
+wo[&quot;ConserveLevel&quot;] = false
+wo[&quot;SlopeStrength&quot;] = 10
+
+ti[&quot; &quot;] = {&quot;fl_marble&quot;, &quot;maze_floor#&quot;}
+ti[&quot;~&quot;] = {&quot;fl_water&quot;}
+ti[&quot;.&quot;] = {&quot;fl_wood_framed&quot;}
+ti[&quot;#&quot;] = {&quot;st_brownmarble&quot;}
+ti[&quot;P&quot;] = {&quot;st_plop&quot;}
+ti[&quot;X&quot;] = {&quot;st_key&quot;, code = 1, target = &quot;bridgecounter&quot;, action = &quot;signal&quot;}
+ti[&quot;Y&quot;] = {&quot;st_key&quot;, code = 2, target = &quot;bridgecounter&quot;, action = &quot;signal&quot;}
+ti[&quot;B&quot;] = {&quot;st_passage_black_frame&quot;}
+ti[&quot;W&quot;] = {&quot;st_passage_white_frame&quot;}
+ti[&quot;bridge&quot;] = {&quot;fl_bridge&quot;, state = OPEN, flavor = &quot;bn&quot;, name = &quot;bridge#&quot;}
+ti[&quot;b&quot;] = ti[&quot;B&quot;] .. ti[&quot;bridge&quot;]
+ti[&quot;w&quot;] = ti[&quot;W&quot;] .. ti[&quot;bridge&quot;]
+ti[&quot;R&quot;] = {&quot;st_brownpyramid&quot;, &quot;pyramid#&quot;}
+ti[&quot;O&quot;] = {&quot;st_oxyd&quot;, flavor = &quot;d&quot;, oxydcolor = OXYD_BROWN}
+ti[&quot;@&quot;] = {&quot;#ac_marble&quot;, essential = INDISPENSABLE} .. ti[&quot;.&quot;] .. {&quot;it_yinyang&quot;}
+ti[&quot;&amp;&quot;] = {&quot;#ac_marble_white&quot;, &quot;whitemarble&quot;, essential = INDISPENSABLE} .. ti[&quot;.&quot;] .. {&quot;it_yinyang&quot;}
+ti[&quot;r&quot;] = {&quot;it_rubberband&quot;, anchor2 = &quot;@pyramid#*&quot;, scissor = true, strength = 1}
+ti[&quot;s&quot;] = {&quot;it_rubberband&quot;, anchor2 = &quot;whitemarble&quot;, scissor = true, strength = 1} .. ti[&quot;.&quot;]
+ti[&quot;x&quot;] = {&quot;it_key&quot;, code = 1}
+ti[&quot;y&quot;] = {&quot;it_key&quot;, code = 2}
+ti[&quot;abyss&quot;] = {&quot;fl_abyss&quot;}
+ti[&quot;space&quot;] = {&quot;fl_space&quot;}
+ti[&quot;$&quot;] = {&quot;#ac_horse&quot;, &quot;horse&quot;, steady = false, target = &quot;minotaur_reached_target&quot;, strength = 20, loop = true}
+ti[&quot;!&quot;] = {&quot;#ac_rotor&quot;, &quot;rotor&quot;}
+
+wo(ti, &quot; &quot;,
+       {&quot;~~~~###############~&quot;,
+        &quot;~~~~# P     P     #~&quot;,
+        &quot;~#X.B P PPP PPPPP #~&quot;,
+        &quot;~##.B   P P       #~&quot;,
+        &quot;~#Y.B PPP PPPRPPP #~&quot;,
+        &quot;~~~~# Px    PrP   #~&quot;,
+        &quot;#####PPPP PPP P PP#~&quot;,
+        &quot;# $!P     P       #~&quot;,
+        &quot;# PPP P P P PPP P #~&quot;,
+        &quot;# P   P P   PyP P #~&quot;,
+        &quot;# P PPP RPPPP PRP #~&quot;,
+        &quot;#   P   r P    rP #~&quot;,
+        &quot;#PP RPP PPPPPPP P #~&quot;,
+        &quot;#   r P   P   P   #~&quot;,
+        &quot;# PPP PPP P P PPP #~&quot;,
+        &quot;#   P   P   P     #~&quot;,
+        &quot;#PP PPP RP#########~&quot;,
+        &quot;#     P r #~...~...~&quot;,
+        &quot;#PP P PPP #~.O.~.O.~&quot;,
+        &quot;# P P     #~...~...~&quot;,
+        &quot;# P RPPPPP#~#w#~#b#~&quot;,
+        &quot;# P r P   B........~&quot;,
+        &quot;# P P P P <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">B.. at .s.</A>&amp;.~&quot;,
+        &quot;#   P   P B........~&quot;,
+        &quot;###########~~~~~~~~~&quot;})
+
+wo:add({&quot;ot_counter&quot;, &quot;bridgecounter&quot;, target_2 = &quot;openfloor&quot;})
+wo:add({&quot;ot_rubberband&quot;, anchor1 = &quot;rotor&quot;, anchor2 = &quot;horse&quot;, strength = 100, length = 1})
+wo:add({&quot;ot_timer&quot;, interval = 1.0, target = &quot;minotaur_timer&quot;})
+
+maze_floor = po(no[&quot;maze_floor#*&quot;])
+
+function openfloor()
+    no[&quot;bridgecounter&quot;].action = &quot;nop&quot;
+    no[&quot;bridge#*&quot;]:close()
+    wo[maze_floor] = ti[&quot;abyss&quot;]  -- just to let all st_plop disappear
+    wo[maze_floor] = ti[&quot;space&quot;]
+end
+
+no[&quot;horse&quot;].destination = po(fl(no[&quot;horse&quot;])) + po(-1, 0) + po(0.5, 0.5)
+
+minotaur_timeout = false
+function minotaur_timer()
+    if minotaur_timeout then
+        minotaur_reached_target()    
+    end
+    minotaur_timeout = true
+end
+
+function minotaur_reached_target()
+    local horse = no[&quot;horse&quot;]
+    local dirs = po(grp({}))
+    local old_dest = horse._old_destination or po(fl(horse))
+    local old_dir = horse._old_direction or NEIGHBORS_4[1]
+    local new_dir = -old_dir
+    for j = 1, #NEIGHBORS_4 do
+        if      (new_dir ~= NEIGHBORS_4[j])
+            and (not -st(old_dest + NEIGHBORS_4[j])) then
+            dirs = dirs .. NEIGHBORS_4[j]
+        end
+    end
+    if #dirs ~= 0 then
+        new_dir = dirs[math.random(#dirs)]
+    end
+    horse.destination = old_dest + new_dir + po(0.5, 0.5)
+    horse._old_destination = old_dest + new_dir
+    horse._old_direction = new_dir
+    minotaur_timeout = false
+end
+
+ ]]&gt;&lt;/el:luamain&gt;
+    &lt;el:i18n&gt;
+      &lt;el:string el:key=&quot;title&quot;&gt;
+        &lt;el:english el:translate=&quot;false&quot;/&gt;
+      &lt;/el:string&gt;
+    &lt;/el:i18n&gt;
+  &lt;/el:protected&gt;
+&lt;/el:level&gt;

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/data/levels/enigma_vi/index.xml	2010-05-11 21:18:19 UTC (rev 2087)
@@ -42,7 +42,7 @@
     &lt;level _seq=&quot;34&quot; _title=&quot;Troy&quot; _xpath=&quot;./andreas37_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas37&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;35&quot; _title=&quot;Phaeton&quot; _xpath=&quot;./andreas39_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas39&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;36&quot; _title=&quot;Procrustes&quot; _xpath=&quot;./andreas34_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas34&quot; rel=&quot;2&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;37&quot; _title=&quot;Ariadne&quot; _xpath=&quot;./andreas40_1&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas40&quot; rel=&quot;1&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;37&quot; _title=&quot;Ariadne&quot; _xpath=&quot;./andreas40_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas40&quot; rel=&quot;2&quot; rev=&quot;3&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;38&quot; _title=&quot;Janus&quot; _xpath=&quot;./andreas38_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas38&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;39&quot; _title=&quot;Odyssey&quot; _xpath=&quot;./ant39_2&quot; author=&quot;Petr Machata&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ant39&quot; rel=&quot;2&quot; rev=&quot;1&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;40&quot; _title=&quot;- Meditation -&quot; _xpath=&quot;./andreas36_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;andreas36&quot; rel=&quot;2&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: trunk/src/gui/LevelPackComposer.cc
===================================================================
--- trunk/src/gui/LevelPackComposer.cc	2010-05-11 21:05:35 UTC (rev 2086)
+++ trunk/src/gui/LevelPackComposer.cc	2010-05-11 21:18:19 UTC (rev 2087)
@@ -385,7 +385,7 @@
         video::SetCaption((&quot;Enigma - Level Pack Composer&quot;));
         blit(gc, vminfo-&gt;mbg_offsetx, vminfo-&gt;mbg_offsety, enigma::GetImage(&quot;menu_bg&quot;, &quot;.jpg&quot;));
         if (isModified)
-	  blit(gc, 0,0, enigma::GetImage((&quot;ic-obsolete&quot; + vminfo-&gt;thumbsext).c_str()));
+          blit(gc, 0,0, enigma::GetImage((&quot;ic-obsolete&quot; + vminfo-&gt;thumbsext).c_str()));
     }
     
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001510.html">[Enigma-game-svn] r2086 - trunk/src/gui
</A></li>
	<LI>Next message: <A HREF="001512.html">[Enigma-game-svn] r2088 - in trunk: data/schemas src src/lev
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1511">[ date ]</a>
              <a href="thread.html#1511">[ thread ]</a>
              <a href="subject.html#1511">[ subject ]</a>
              <a href="author.html#1511">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
