<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r2069 - in trunk: data/gfx src src/gui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r2069%20-%20in%20trunk%3A%20data/gfx%20src%20src/gui&In-Reply-To=%3C201005021816.o42IGWw4007430%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001492.html">
   <LINK REL="Next"  HREF="001494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r2069 - in trunk: data/gfx src src/gui</H1>
    <B>raoul at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r2069%20-%20in%20trunk%3A%20data/gfx%20src%20src/gui&In-Reply-To=%3C201005021816.o42IGWw4007430%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r2069 - in trunk: data/gfx src src/gui">raoul at mail.berlios.de
       </A><BR>
    <I>Sun May  2 20:16:32 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001492.html">[Enigma-game-svn] r2068 - trunk/src/items
</A></li>
        <LI>Next message: <A HREF="001494.html">[Enigma-game-svn] r2070 - homepage/input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: raoul
Date: 2010-05-02 20:16:32 +0200 (Sun, 02 May 2010)
New Revision: 2069

Added:
   trunk/data/gfx/editborder-120x78.png
   trunk/data/gfx/error-120x78.png
   trunk/data/gfx/thumbborder-120x78.png
Removed:
   trunk/data/gfx/editborder.png
   trunk/data/gfx/error.png
   trunk/data/gfx/thumbborder.png
Modified:
   trunk/src/gui/LevelPreviewCache.cc
   trunk/src/video.cc
Log:
-&gt; Fix usage of correct size error images for level preview and renamed some UI gfx ressources to fit the resolution dependent naming scheme



Copied: trunk/data/gfx/editborder-120x78.png (from rev 2067, trunk/data/gfx/editborder.png)

Deleted: trunk/data/gfx/editborder.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx/error-120x78.png (from rev 2067, trunk/data/gfx/error.png)

Deleted: trunk/data/gfx/error.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx/thumbborder-120x78.png (from rev 2067, trunk/data/gfx/thumbborder.png)

Deleted: trunk/data/gfx/thumbborder.png
===================================================================
(Binary files differ)

Modified: trunk/src/gui/LevelPreviewCache.cc
===================================================================
--- trunk/src/gui/LevelPreviewCache.cc	2010-05-02 18:01:09 UTC (rev 2068)
+++ trunk/src/gui/LevelPreviewCache.cc	2010-05-02 18:16:32 UTC (rev 2069)
@@ -109,7 +109,7 @@
                 imgCache.store(previewSubPath, surface); // insert in imgCache
                 savePreview(levelProxy, surface);        // save on filesystem
             } else {
-                surface = enigma::GetImage(&quot;error&quot;);
+                surface = enigma::GetImage((&quot;error&quot; + vminfo.thumbsext).c_str());
             }
             didGenerate = true;
         }

Modified: trunk/src/video.cc
===================================================================
--- trunk/src/video.cc	2010-05-02 18:01:09 UTC (rev 2068)
+++ trunk/src/video.cc	2010-05-02 18:16:32 UTC (rev 2069)
@@ -337,7 +337,7 @@
             &quot;models-32.lua&quot;, &quot;gfx32/&quot;,       // initscript, dir
             Rect (0, 0, 640, 480),           // display area
             0, 0,                            // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (0, 0, 640, 416),           // game area
             Rect (0, 416, 640, 64),          // statusbar area
             Rect (10, 428, 117, 43),         // time area
@@ -356,7 +356,7 @@
             &quot;models-32.lua&quot;, &quot;gfx32/&quot;,       // initscript, dir
             Rect (0, 0, 640, 480),           // display area
             0, 0,                            // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (0, 0, 640, 416),           // game area
             Rect (0, 416, 640, 64),          // statusbar area
             Rect (15, 420, 110, 40),         // time area
@@ -375,7 +375,7 @@
             &quot;models-40.lua&quot;, &quot;gfx40/&quot;,       // initscript, dir
             Rect (0, 0, 800, 600),           // display area
             0, 0,                            // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (0, 0, 800, 520),           // game area
             Rect (0, 520, 800, 80),          // statusbar area
             Rect (16, 540, 140, 40),         // time area
@@ -394,7 +394,7 @@
             &quot;models-48.lua&quot;, &quot;gfx48/&quot;,       // initscript, dir
             Rect (32, 0, 960, 720),          // display area
             -128, -96,                       // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (32, 0, 960, 624),          // game area
             Rect (32, 624, 960, 96),         // statusbar area
             Rect (50, 640, 170, 60),         // time area
@@ -413,7 +413,7 @@
             &quot;models-48.lua&quot;, &quot;gfx48/&quot;,       // initscript, dir
             Rect (0, 0, 960, 720),           // display area
             -192, -144,                      // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (0, 0, 960, 624),           // game area
             Rect (0, 624, 960, 96),          // statusbar area
             Rect (18, 640, 170, 60),         // time area
@@ -432,7 +432,7 @@
             &quot;models-48.lua&quot;, &quot;gfx48/&quot;,       // initscript, dir
             Rect (160, 0, 960, 720),         // display area
             -192, -96,                       // menu background image offsets 
-            120, 78, 4, &quot;&quot;,                  // thumbnail size/extension
+            120, 78, 4, &quot;-120x78&quot;,           // thumbnail size/extension
             Rect (160, 0, 960, 624),         // game area
             Rect (160, 624, 960, 96),        // statusbar area
             Rect (178, 640, 170, 60),        // time area


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001492.html">[Enigma-game-svn] r2068 - trunk/src/items
</A></li>
	<LI>Next message: <A HREF="001494.html">[Enigma-game-svn] r2070 - homepage/input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
