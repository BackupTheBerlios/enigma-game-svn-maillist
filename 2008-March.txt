From ral at mail.berlios.de  Sat Mar  1 23:32:14 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 1 Mar 2008 23:32:14 +0100
Subject: [Enigma-game-svn] r1054 - in trunk/doc: . reference
Message-ID: <200803012232.m21MWENG023788@sheep.berlios.de>

Author: ral
Date: 2008-03-01 23:32:12 +0100 (Sat, 01 Mar 2008)
New Revision: 1054

Modified:
   trunk/doc/
   trunk/doc/reference/enigma-ref.texi
   trunk/doc/reference/enigma-t2h.init
Log:
Trunk 1.1: Refman
- Chapter Enigma Paradigm: many sections
- formatting: coloring of code statements



Property changes on: trunk/doc
___________________________________________________________________
Name: svn:ignore
   - Makefile
Makefile.in
eniginecode

   + Makefile
Makefile.in
enginecode


Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2008-02-29 22:55:23 UTC (rev 1053)
+++ trunk/doc/reference/enigma-ref.texi	2008-03-01 22:32:12 UTC (rev 1054)
@@ -2641,9 +2641,614 @@
 naming scheme, and every new library should follow it from the beginning.
 
 
+ at c ===================  Paradigm  =======================
 @node Enigma Paradigm
 @chapter Enigma Paradigm
 
+Now that you have learned about the formal declarative XML part of a level you
+should be eager to understand the basic principles of the participants of an
+Enigma level world. In this chapter we explain all the fundamental concepts and
+the terms used in the following chapters that describe the level author's view
+of a level.
+
+Please note that we describe the features of the new API of Enigma 1.10. The
+API of the earlier releases does not provide all the features and differs in
+several aspects.
+
+ at menu
+* The World's Structure:: 
+* Object Description::
+* Methods of Interaction::
+* The Lifecycle of a Level::
+ at end menu
+
+ at node The World's Structure
+ at section The World's Structure
+
+We speak of a level as the opus as a whole that describes the initial composition
+of a gaming world and its dynamic behaviour during the game play. Let us look
+at the participating objects in details.
+
+ at menu
+* World's Shape and Coordinates::    Grid Positions and Tiles
+* Object Layers::                    Floors, Items, Stones, Actors and Others
+* Global World Attributes::          Friction, Brittleness, Modes and Co.
+ at end menu
+
+ at c ----------------- World's Shape and Coordinates -------------------- 
+
+ at node World's Shape and Coordinates
+ at subsection World's Shape and Coordinates
+
+Having played a few levels you will have noticed that every screen shows
+quadratic tiles, 20 ones in the horizontal and 13 ones in the vertical direction.
+Even if it is difficult for a player to map together all rooms and screens of a 
+large level, every level world has the shape of a rectangle in whole. 
+Nevertheless some parts may never be visible to the player due to walls of 
+stones or oceans of water.
+
+ at cindex onescreener
+On the creation of a world the level author has to give its size in measure of
+tiles. The given width and height of the world are fixed and cannot be changed
+lateron. A common size is 20x13 for a @dfn{Onescreener}. But there are no limits.
+You can even build levels smaller than a screen. Note that for larger levels
+you have to take into account that one tile row or column is usually shared
+between two screens on scrolling. Thus a level of 2x2 screens has a size of
+39x25 tiles, a 3x4 screen level has 58x49 tiles,...
+
+ at cindex position
+Looking at the edges of all the tiles we get a grid that spans our world. We
+define the upper left corner of our world as the @dfn{position} @{0,@ 0@}. The first
+coordinate is the horizontal offset to the right, the second coordinate the
+vertical offset to the bottom. For a Onescreener level the tile in the lower
+right corner is located at position @{19,@ 12@}, whereas the corner itself is at
+the position @{20,@ 13@} (Note that this point is actually not part of the level
+anymore).
+
+A position of an actor like the black marble needs to be given by two floating
+numbers as coordinates like @{1.5,@ 2.5@} for an actor positioned in the center
+of the tile that is one row right and two columns down of the upper left corner
+tile.
+
+ at cindex grid position
+But most objects like stones can only be placed on the fixed integral grid
+positions. Even if you try to put a stone on @{1.5,@ 2.5@} it will be put on
+on the grid position @{1,@ 2@}. Thus we speak of a @dfn{grid position} if just the
+integral part is taken into account. You may note that a tile is positioned
+according to its upper left corner. Actually the upper and the left edge are
+part of a tile, whereas the right and lower edge belong to the neighbour tiles.
+
+ at cindex tile
+Finally let us look more precisly on the tile itself. On one grid position you
+may place a floor, an item, a stone and even several actors. The combination
+of all objects on one grid position is called a @dfn{tile}. It is a common 
+technique to declare these object combinations once in so called tile 
+definitions. As many grid positions share the same combination of objects these
+tiles can be reused very efficiently.
+
+ at node Object Layers
+ at subsection Object Layers
+
+ at cindex layer
+On every grid position you may set a floor, an item and a stone. But just one
+of each. If you set a second stone the first one will be replaced. Floor, item
+and stone have a unique physical arrangement with the floor always being below
+an item and a stone always being on top of the others. Thus we speak of three
+object @dfn{layers} - the floor layer, the item layer and the stone layer.
+
+ at cindex default floor
+The floor layer has a unique prerequisite. Every grid position needs to be
+covered by a floor. You can define a default tile which contains a
+ at dfn{default floor} that gets automatically set on every grid where you set
+no other floor. Even if you @dfn{kill} a floor, that means removing a floor
+without setting a replacement floor, a default floor will be set for you.
+
+The floors provide two elementary features to the game: friction and adhesion.
+The friction slows down actors and the adhesion enables you to accelerate
+actors with your mouse. A floor may additionally cause a directed flat force
+that gives the user the feeling of a slope. And last but not least a floor
+may burn. A whole set of attributes let you control the details of the fire
+behaviour.
+
+The item layer is shared between items that an actor can pickup and items that
+are static. The first category are items like keys, banana, etc. Static items
+are bombs, landmines, triggers, hollows and items that will only be set by the
+system itself like laserbeams, fire animations, ash, etc. As only one item can
+be positioned of every grid position a marble can not drop an item on such a
+static item. This is the technical reason that you can not intercept a laser
+beam by dropping an item. But as an level author you are free to add any item
+you like to the initial grid tile.
+
+The stone layer is straight forward. The level author can choose a stone out
+of the repository per grid. Of course most grid positions should be kept free
+for the actors to move around. Even if most levels have a stone wall at the 
+border of the world that visually limits the area this is not mandatory. Without
+a stone wall the marbles will be bounced at the physically boundary of the world.
+
+The actors live in another layer that is not grid based. The actors can be 
+placed at any position. Actors that pass a stone will be displayed below the
+stone.
+
+As a certain exception rubberbands that connect an actor with another one or 
+with a stone will simply be added to the world and will be displayed above any
+stone.
+
+ at node Global World Attributes
+ at subsection Global World Attributes
+
+Friction, Brittleness, Modes and Co., Scrollmodes
+
+ at c ----------------- Object Description -------------------- 
+
+ at node Object Description
+ at section Object Description
+
+Knowing where to place objects it is time to know how to select an object type,
+how to specify the details of the object and how to reference it later on.
+
+ at menu
+* Object Kind::
+* Object Reference::
+* Object Naming::
+* Object Attributes::
+ at end menu
+
+ at node Object Kind
+ at subsection Object Kind
+
+ at cindex abstact kind
+Up to now we have spoken about object kinds of floor @code{"fl"}, item 
+ at code{"it"}, stone @code{"st"} and actor @code{"ac"}. All these kinds are called
+ at dfn{abstract}. You can check if a given object is of such a kind, but you can
+not instantiate an abstract kind.
+
+To create an object you need to give a specific kind name like 
+ at code{"st_switch"}. You will find all object kinds described in the chapters
+starting with @ref{Floor Objects}. All these kind names with at least one 
+underscore can be instantiated.
+
+Most kinds provide subkinds like @code{"st_switch_black"} and 
+ at code{"st_switch_white"}. In case of the switches you get a color independent
+switch if you do not append a suffix. In other cases like @code{"st_chess"}
+the super kind will result in a default @code{"st_chess_black"} as no colorless
+chess stone exists.
+
+If you request an object for its kind it will always return the most specific
+kind. This means that a fresh generated @code{"st_chess"} returns the kind
+ at code{"st_chess_black"}, whereas an @code{"st_switch"} reports its name
+unchanged.
+
+Objects can change their kind by level code statements or by user actions. You 
+may set a color on a switch or a marble may cause a color change on a chess 
+stone by hitting it with a revealed wand. The object will report the new kind on 
+subsequent requests.
+
+A few special object kinds do exist only for setting a new object. The are
+usually named with a suffix "_new". These objects will never report their
+initial kind name but change to a standard kind immediately.
+
+If you are not interested in the specific subkind you can check an object for
+conformity to any super kind. E.g. any switch stone of whatever color will 
+return true if checked for @code{"st_switch"}.
+
+ at node Object Reference
+ at subsection Object Reference
+
+Having set objects to the various layers a level author sometimes has the need
+of referencing them lateron. On callbacks the engine provides references to
+sender objects. But the author can request any grid object anytime by its 
+position.
+
+With an object reference, that is of a special Lua type @code{object}, you can
+request the objects on its current state and attributes, modifiy the
+object, send messages or perform any supported methods of the object.
+
+Objects can be grouped for efficient handling of common operations on
+all affected objects. E.g. if you can send a message to a group of objects
+all objects will receive the message in turn. The sequence of several objects
+in a group is constant and guaranteed to be observed in processing common
+operations.
+
+As objects can ceize to exist you have to be aware that the references are
+volatile, too. You can check every object reference for existance. But in many
+cases the validity of the reference is unimportant as Enigma 1.10 is very 
+tolerant on invalid object references access. The operations will simply be
+ignored and requests will return default values.
+
+As a general thumb rule you should request and keep object references just
+for the time of a local call. As long as your level code is processed in
+sequence without the running world simulation giving the player a chance to
+kill objects by marble actions, objects should ceize to exist just due to your
+own direct statements.
+
+To gain access to an object later on a subsequent call you can address it via 
+two methods. First you can address it via its position. But as many objects are
+movable the position is not constant. Therefore you can address an object by
+name. @xref{Object Naming}.
+
+ at node Object Naming
+ at subsection Object Naming
+
+For addressing objects on a longterm valid basis every object can individually 
+be tagged by a name. Assigning a name to an object is as simple as setting
+the attribute @code{"name"} with a unique string on this object. Of course you
+can request an objects name by reading the attribute @code{"name"}.
+
+The name is a string that should be made up of characters @code{a..z}, 
+ at code{A..Z}, numbers @code{0..9} and the underscore @code{_}. Other special
+charcters are only allowed as far as they are explained in the following text.
+
+It is up to you to ensure unique names. Reusage of an already assigned name
+will unname the prior object and assign the name to the new object. To simplify
+the naming of larger groups of similar objects you can add the hash sign 
+ at code{#} as the last character to a name, e.g. "mydoor#". This causes Enigma
+to add a unique number to the given string. The number will start with 1, the
+first unused number will be taken. Thus the first door will be named "mydoor#1"
+the second one "mydoor#2" and so on. If you delete the object named "mydoor#2"
+lateron and if you name another object "mydoor#" it will be assigned the unused
+name "mydoor#2".
+
+All named objects are registered by the @dfn{named object} repository. The API
+provides a variable @code{no} that allows you to retrieve any named object, e.g.
+ at code{no["mydoor#1"]}. You get an @ref{Object Reference} or @code{nil} if no
+object is registered by the given name.
+
+As you can auto name groups of objects you are allowed to use the wildcard
+characters @code{'?'} and @code{'*'}. The question mark replaces a single 
+arbitrary character, the asterix any number of arbitrary characters. E.g.
+ at code{no["mydoor#*"]} retrieves all auto named "mydoor" objects in a single
+object group.
+
+Many object attributes like "target", "destination" need object references
+to other objects. Besides a volatile @ref{Object Reference} you and always
+give a name string as a longterm valid object reference. If the attribute
+allows several objects to be given you can either give a group of object
+references, a table of object names or a object name with wildcards. Thus
+the string @code{"mydoor#*"} is a valid target.
+
+Another unique feature of object names is their late on access evaluation. This
+allows you to reference an object prior to its existence. E.g. if you want to
+set two vortices each declaring the other one as its destination, object names
+are the favorite solution:
+
+ at example
+wo[@{3,4@}]  = @{"it_vortex", name="vortex1", destination="vortex2"@}
+wo[@{15,9@}] = @{"it_vortex", name="vortex2", destination="vortex1"@}
+ at end example
+
+In general you will need to use object name references within any tile 
+declarations as none of the referenced objects will yet exist at the point of
+tile declarations.
+
+Objects do change over time. Doors do open, a chess may be recolored, a blocker
+stone may shrink to a blocker item. This means that the kind of the objects
+will change. But in many cases this means that the volatile object reference
+will brake, too. For the sake of the level authors the identity of the object
+will be transfered even if the reference gets invalid. And like the user
+attributes the name is part of the object identity. Thus if you name an 
+ at ref{st_blocker} and it it shrinks to an @ref{it_blocker} you will retrieve this
+item if you ask the name object repository for the named object.
+
+To avoid unexpected problems with invalid object references a few critical
+objects are internally autonamed if the level author does not provide a name.
+
+ at node Object Attributes
+ at subsection Object Attributes
+
+One of the key concepts for the versatility of Enigma is possibility to fine
+tune objects by means of attributes. The level author is not limited to a fixed
+set of preconfigured objects as given by the object kind.
+
+An attribute is a name, a string, with an assigned value. E.g. 
+ at code{obj["inverse"]=true} sets a single object attribute to a boolean value
+and @code{@{"it_magnet", range=6.5@}} describes a magnet item with an initial set
+floating point attribute.
+
+The scope of values is manifold. Most Lua types and a bunch of Enigma specific
+types can be assigned:
+ at itemize @bullet
+ at item bool
+ at item int
+ at item double
+ at item string
+ at item nil
+ at item position
+ at item object
+ at item group
+ at item tokens
+ at end itemize
+
+If we speak of a bool value we do it in the sense of Lua 5, that means with the
+possible values @code{true} and @code{false}. 
+
+Many enumerated values like directions and colors are covered by the integer
+numbers.
+
+Of special interest is the value @code{nil}. Just a few attributes make direct
+use of the value @code{nil}, e.g. "color" on some objects. If you set an 
+attribute to value @code{nil} you do actually reset its value to the default
+value. E.g. if you set the attribute "orientation" of @ref{st_boulder} to 
+ at code{nil} it will be set to its default, which is actually @code{NORTH}, an
+enumerated direction value. A subsequent read of the attribute will return this
+value. Just those attributes that allow a nil value will ever return @code{nil}
+on a read access. Aa a direct consequence these attributes always default to 
+ at code{nil}.
+
+The most complex attribute value type are the tokens. Their purpose is the
+specification of one or many objects. As Enigma provides several means to do
+that this value type combines and mix all possibilities. A tokens value may 
+be a string, representing an object name, an object reference, a group or a
+table with any of these basic types in any sequence and number. E.g. the 
+following right sides are all valid tokens for the attribute "target":
+
+ at example
+obj1["target"] = "mydoor"
+obj2["target"] = myobject
+obj3["target"] = grp(ojb1, obj2, obj3)
+obj4["target"] = @{"mydoor", myobject@}
+obj5["target"] = @{grp(ojb1, obj2, obj3), "mydoor", myobject, "anotherdoor"@}
+ at end example
+
+This versatility is useful to set tokens attributes independent of the given
+object reference types.
+
+The chapter @ref{Common Attributes and Messages} and its followers describe
+the existing object attributes in detail.
+
+Besides these predefined attributes the level author can store own information
+on objects for later retrieval. Any name starting with an underscore '_' is
+can be used for level specific purposes. This prefix has been chosen as the
+resulting names are still valid Lua names. Common usage patterns are switches
+or triggers with callback functions. These functions provide the sender, the
+switch or trigger, as an argument. If you attach the same function to number of
+senders you can store the necessary context information within the sender.
+
+The internal engine uses object attributes as well. Such unaccessable attributes
+are named with a leasing dollar sign '$'. They may appear in the documentation
+for C++ developers information. Level authors should ignore these attributes.
+
+In some cases you may observe a different behaviour on setting an attribute
+within the object definition and setting the same attribute while the object
+is already on the grid. E.g. a door @code{@{"st_door_h", state = OPEN@}} is 
+opened from the very beginning. Whereas @code{mydoor["state"] = OPEN} on a
+closed door will start opening the door. This takes a short time until the
+door is really open. You find more details on these as aspects in the section
+ at ref{The Lifecycle of a Level}.
+
+If you ever look into the C++ code you may wonder about the implementation of
+attributes. They are not all directly stored in a map. Some of them are hold
+in object instance variables, other do not exist at all. Objects attributes
+are an abstract concept that unifies several internal features within a
+common simple API for level description code. Within the C++ engine subtle
+reasons like performance optimization forces a much more complex handling.
+
+ at c ----------------- Methods of Interaction -------------------- 
+
+ at node Methods of Interaction
+ at section Methods of Interaction
+
+Having looked at the description of the initial object composition of a
+level world we still need to undestand how to configure the dynamic behaviour
+of a level.
+
+ at menu
+* Messages::             Asking objects to do something
+* Target - Action::      Automatic reactions on an event
+* Callback Function::    Lua hooks to react on events
+* Object State::
+ at end menu
+
+ at node Messages
+ at subsection Messages
+
+You can generate an initially open door by setting its attributes. But how
+can a switch stone open a door when it is hit by a marble? It simply sends
+a message @code{"open"} to the door. Another switch may send a message
+ at code{"on"} to a laser or @code{"ignite"} to a @ref{it_dynamite}. On explosion
+the dynamite will in turn send automatically @code{"ignite"} messages to the
+neighbour grid positions.
+
+Messages are a simple universal function or from the receiver object and the
+Lua level authors point of view a "method". It takes two arguments - the message
+name, a string, and an optional value. E.g.
+
+ at example
+mydoor:message("open")
+myboulder:message("orientate", NORTH)
+
+mydoor:open()
+myboulder:orientate(NORTH)
+ at end example
+
+The last two examples are a common abbreviation of the first two ones.
+
+Messages may return a value. But most messages just return @code{nil}.
+
+You can send any message to any object. Not supported messages are silently
+ignored. This is the reason that an exploding dynamite can send @code{"ignite"}
+messages to its neighbours without knowing if the objects can be ignited at all.
+Furtheron the dynamite has not to bother with the recipients of the messages.
+Due to messages the sender and the receiver objects are totally decoupled
+concerning the code base. Thus the level author just needs one method that
+allows sending arbitrary messages to arbitrary objects.
+
+You should not send a message during initialization of the level. You configure
+the switch to send an @code{"open"} message to the door by @ref{Target - Action}.
+Within a Lua @ref{Callback Function} you may send messages during runtime to
+any object.
+
+All messages are listed and described in @ref{Common Messages} and the 
+subsequent chapters.
+
+ at node Target - Action
+ at subsection Target - Action
+
+The "target action paradigm" is a classical object oriented method that allows
+you to easily plug together objects. One object is triggered by a function
+call or by an event like an actor hitting a stone, crossing over or applying an
+item. You simply plug this object to another target object and tell it to send
+an action message. Everytime the first object is triggered it will send the 
+message to its target.
+
+You configure such a target action by setting the attributes @code{"target"}
+and @code{"action"} on the first object. E.g. a for a switch stone that should
+open a door named @code{"mydoor"} you can write:
+
+ at example
+@{st_switch, target="mydoor", action="open"@}
+ at end example
+
+Objects like the switch can be triggered "on" and "off". Each time they will
+perform the action. If you would like the door to open and close in turn to
+the switch you another action than @code{"open"}. The universal message for
+changing targets in their alternate states is @code{"toggle"}.
+
+ at example
+@{st_switch, target="mydoor", action="toggle"@}
+@{st_switch, target="mydoor"@}
+ at end example
+
+Now the door will toggle in sync with the switch between its open and closed
+state. The message @ref{"toggle"} can be used quite independent of the target 
+object. In fact it is the default action message. As a default you may omit
+the action in this case as it is demonstrated by the second example.
+
+But keep in mind that toggling just changes the state of the target. If you
+start with a switch in off state and an open door, the door will close when
+the switch in turned on. They will not sync. If you configure two switches
+both targeting the same door, you will have no clear relationship between the
+switch states and the door.
+
+As you remember messages can take a value. Action messages are no exception.
+Every objects sends its actions with a value, usually a bool value. A switch
+sends a value @code{true} if it just switched on, and a value @code{false} if
+it just switched off. The appropriate message for the door would be the 
+universal message @code{"signal"}:
+
+ at example
+@{st_switch, target="mydoor", action="signal"@}
+ at end example
+
+Now the door will open when the switch is turned on and close if the switch is
+turned off.
+
+If you look at @ref{signal} you will notice that this messages takes an integer
+value of @code{0} or @code{1}. Indeed the action value does not match. But in
+this as in many other cases the messages and values are designed in a way that
+they are autoconverted to the appropriated type. This compatibility is the basis
+for a seamless plugging of objects.
+
+In many cases authors face the task of triggering two or more objects by a
+single object. @code{"target"} and @code{"action"} are both able to take 
+multiple values.  @code{"target"} is of type tokens, as described in 
+ at ref{Object Attributes}, whereas @code{"action"} can be a string or a table
+of strings.
+
+ at example
+@{st_switch, target=@{grp(ojb1, obj2, obj3), "mydoor", myobject, "anotherdoor"@},
+            action=@{"toggle",              "open",   "turn",   "close"@}@}
+ at end example
+
+All objects described by a token receive the related message in the action
+table. If not enough messages are listed the default action @code{"toggle"}
+will be sent.
+
+ at node Callback Function
+ at subsection Callback Function
+
+
+
+ at node Object State
+ at subsection Object State
+
+state dependent target action
+
+ at c ----------------- The Lifecycle of a Level -------------------- 
+
+ at node The Lifecycle of a Level
+ at section The Lifecycle of a Level
+
+
+Snapshot
+Levelloading, Initialization, Runtime Callbacks, 
+Ending Conditions - the mystery of Oxyds and Meditation
+ at menu
+* Library Preloading:: 
+* Snapshot Principle:: 
+* Level Initialization:: 
+* Runtime Ticks and Callbacks:: 
+* Ending Conditions:: 
+ at end menu
+
+ at node Library Preloading
+ at subsection Library Preloading
+
+ at node Snapshot Principle
+ at subsection Snapshot Principle
+
+Most levels contain objects that take influence on each other. A switch might
+toggle a door by @ref{Target - Action}, marbles may press a trigger, or a laser
+might activate a laserswitch or transform a hammer into a sword. Of course it is
+essential to know how to set up such objects to get the desired start 
+configuration without the objects changing unexpected on level initialization.
+
+The snapshot principle is a simple thumb rule that you can rely on in describing
+the level as snapshot of object at a given point of time. Every object has just
+to be configured as it should be at the given time. All interactions that would
+take place in a running game do not take place while setting objects during
+initialization.
+
+E.g. if a switch toggles a door and the switch should be initially on and the
+door should be initially open you describe the object with exactly these
+attributes:
+
+ at example
+@{"st_switch", target="mydoor", state=ON@}
+@{"st_door_v", name="mydoor", state=OPEN@}
+ at end example
+
+A laser that is initially on that illuminates a laserswitch needs an initially
+active laserswitch. But of course no attribute exists that would allow you to
+set a laserwitch active. The snapshot principle includes the rule that all
+internal states are updated without external actions. This means that the
+laserswitch will show up active without causing an action on its target.
+
+ at example
+@{"st_laser", state=ON@}
+@{"st_laserswitch", target="mydoor"@}
+ at end example
+
+What about objects that transform on laser light. The snapshot principle keeps
+the object from transforming during initialization. A hammer that is set in
+an initially existing laser beam will not transform to a sword. It remains as
+a hammer that will transform on any subsequent new laser light during the game.
+
+Of course it cannot be allowed to describe impossible initial level states.
+Objects like dynamite do explode immediatly on a laser beam hit. Thus a 
+dynamite item in an initial laser beam is a fault that causes an exception.
+The snapshot principle forces you in this case to set an explosion item instead
+of the dynamite.
+
+Some objects do process internal state transformations that cannot be configured
+by attributes. But some of these states may be of interest on describing a
+snapshot of a level. Where possible special object subkinds exists with a suffix
+of @code{_new}. These objects can be used in the initial level description to
+set objects in special initial states. E.g. @ref{it_blocker} provides such a
+special subkind. Note that these objects will never report their initial
+subkind on a kind request as they come into existance as a standard object.
+
+
+ at node Level Initialization
+ at subsection Level Initialization
+
+ at node Runtime Ticks and Callbacks
+ at subsection Runtime Ticks and Callbacks
+
+ at node Ending Conditions
+ at subsection Ending Conditions
+
+
+ at c ===================  Lua API  =======================
 @node Lua API
 @chapter Lua API
 
@@ -2743,7 +3348,7 @@
 @subsection it_blocker
 @obindex it_blocker
 
-A door like object that grows to @ref{st_blocker} when a @ref{st_boulder}
+A door like object that grows to @ref{st_blocker} when an @ref{st_boulder}
 passes. When the boulder did shrink and pass the blocker again it stays in its
 item like open state until it is passed again by a boulder which causes it to 
 grow again to a blocker stone.
@@ -2796,7 +3401,7 @@
 @item @b{open} @ @ @xref{open}
 As the item is open this message takes only effect if it is currently covered
 by a stone and marked as unlocked. That means it should grow as soon as the
-stone moves away what happens when a @ref{st_boulder} passes an idle blocker
+stone moves away what happens when an @ref{st_boulder} passes an idle blocker
 item. In this case an open messages locks the blocker again to avoid a growing
 when the stone moves away.
 @end table
@@ -2846,6 +3451,7 @@
 * st_blocker::         Shrinkable Blocker
 * st_boulder::         Moving Arrow Boulder
 * st_fourswitch::      Four Direction Switch
+* st_switch::          A classical on/off Switch
 @end menu
 
 
@@ -2854,7 +3460,7 @@
 @subsection st_blocker
 @obindex st_blocker
 
-A door like object that shrinks to @ref{it_blocker} when hit by a
+A door like object that shrinks to @ref{it_blocker} when hit by an
 @ref{st_boulder}. When the boulder did pass the blocker stays in its item like
 open state until it is passed again by a boulder which causes it to grow again
 to a blocker stone.
@@ -3044,7 +3650,59 @@
 @end table
 
 
+ at c ----------------- Switch Stone -------------------- 
+ at node st_switch
+ at subsection st_switch
+ at obindex st_switch
 
+A classical on/off switch that toggles its state on actors hitting the stone.
+Of course other objects can send messages on actions to make this switch turning.
+
+Three variants of the switch do exist. A neutral, gray colored one that reacts
+on any actor hits, and a black and a white colored switch. These last switches
+will react only if hit by marbles of matching color.
+
+If a switch turns on or off there will be a short delay until it reaches the
+new state and performs it actions. If you need a switch without delay you
+need to set the @code{instant} attribute.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
+ at item @b{color} @ @ @i{values}: @code{nil}, @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{nil}
+The color of the switch that needs to match the hitting actor to cause a toggle.
+The default @code{nil} color is a grey switch that matches all actors, marbles
+of any color as well as all other actors.
+ at item @b{instant} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+A default switch requires a short time equivalent to the animation until the
+new state is reached and the actions are performed. An instant switch jumps
+directly into the new state.
+ at item @b{inverse} @ @ @xref{inverse}
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Switches on at value @code{1}, and off at values @code{0}.
+ at item @b{on} @ @ @xref{on}
+ at item @b{off} @ @ @xref{off}
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at item @b{Variants:}
+
+ at table @asis
+ at item @b{st_switch}
+ at item @b{st_switch_black}: color = @code{BLACK}
+ at item @b{st_switch_white}: color = @code{WHITE}
+ at end table
+
+
+
 @c ===================  Actors  =======================
 
 @node Actor Objects

Modified: trunk/doc/reference/enigma-t2h.init
===================================================================
--- trunk/doc/reference/enigma-t2h.init	2008-02-29 22:55:23 UTC (rev 1053)
+++ trunk/doc/reference/enigma-t2h.init	2008-03-01 22:32:12 UTC (rev 1054)
@@ -6,5 +6,6 @@
 $css_map{'pre.example var'} = 'color:rgb(80%,0%,80%)';
 $css_map{'h3'} = 'background-color:rgb(95%,95%,100%)';
 $css_map{'hr'} = 'height:0px;';
+$css_map{'code'} = 'color:rgb(0%,50%,0%)';
 
 1;



From raoul at mail.berlios.de  Sun Mar  2 00:21:20 2008
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 2 Mar 2008 00:21:20 +0100
Subject: [Enigma-game-svn] r1055 - trunk/doc/reference
Message-ID: <200803012321.m21NLKiB027125@sheep.berlios.de>

Author: raoul
Date: 2008-03-02 00:21:19 +0100 (Sun, 02 Mar 2008)
New Revision: 1055

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
-> Fixed two build (make pdf) errors in the refmanual.


Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2008-03-01 22:32:12 UTC (rev 1054)
+++ trunk/doc/reference/enigma-ref.texi	2008-03-01 23:21:19 UTC (rev 1055)
@@ -745,7 +745,7 @@
 
 The meaning of these attributes is as follows:
 
- at table      
+ at itemize
 
 @item @samp{file}
 Path and name of the sound file for this event, without the @samp{.wav}
@@ -779,7 +779,7 @@
 that's applied all 0.1 seconds.  See @samp{sound.hh} for details.
 Defaults: 10.0, 1.0, 1.0, 0.5, 0.9.
 
- at end table
+ at end itemize
 
 To design a new sound set, proceed as follows:
 
@@ -3701,8 +3701,8 @@
 @item @b{st_switch_white}: color = @code{WHITE}
 @end table
 
+ at end table
 
-
 @c ===================  Actors  =======================
 
 @node Actor Objects



From ral at mail.berlios.de  Sun Mar  2 13:01:11 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 2 Mar 2008 13:01:11 +0100
Subject: [Enigma-game-svn] r1056 - homepage/input
Message-ID: <200803021201.m22C1B7F002799@sheep.berlios.de>

Author: ral
Date: 2008-03-02 13:01:08 +0100 (Sun, 02 Mar 2008)
New Revision: 1056

Modified:
   homepage/input/stat-other.html
   homepage/input/table-hcp.html
   homepage/input/table-rat.html
   homepage/input/table-solved.html
   homepage/input/table-wr.html
   homepage/input/userlist.html
Log:
Homepage:
- statistics February 2008




Modified: homepage/input/stat-other.html
===================================================================
--- homepage/input/stat-other.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/stat-other.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -1,22 +1,22 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      70191 $$single_level_scores$$.
+      73903 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      13727 $$single_level_ratings$$ 4.89 $$and_distribution$$: 
+      13844 $$single_level_ratings$$ 4.89 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
-        <tr><td class="num">0</td><td class="num">55</td></tr>
+        <tr><td class="num">0</td><td class="num">57</td></tr>
         <tr><td class="num">1</td><td class="num">264</td></tr>
-        <tr><td class="num">2</td><td class="num">721</td></tr>
-        <tr><td class="num">3</td><td class="num">2002</td></tr>
-        <tr><td class="num">4</td><td class="num">2642</td></tr>
-        <tr><td class="num">5</td><td class="num">3287</td></tr>
-        <tr><td class="num">6</td><td class="num">2284</td></tr>
-        <tr><td class="num">7</td><td class="num">1565</td></tr>
-        <tr><td class="num">8</td><td class="num">578</td></tr>
-        <tr><td class="num">9</td><td class="num">229</td></tr>
-        <tr><td class="num">10</td><td class="num">100</td></tr>
+        <tr><td class="num">2</td><td class="num">723</td></tr>
+        <tr><td class="num">3</td><td class="num">2008</td></tr>
+        <tr><td class="num">4</td><td class="num">2657</td></tr>
+        <tr><td class="num">5</td><td class="num">3325</td></tr>
+        <tr><td class="num">6</td><td class="num">2309</td></tr>
+        <tr><td class="num">7</td><td class="num">1580</td></tr>
+        <tr><td class="num">8</td><td class="num">583</td></tr>
+        <tr><td class="num">9</td><td class="num">231</td></tr>
+        <tr><td class="num">10</td><td class="num">107</td></tr>
       </table>
   </div>

Modified: homepage/input/table-hcp.html
===================================================================
--- homepage/input/table-hcp.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/table-hcp.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -1,132 +1,138 @@
   <table>
-    <caption>$$Handicap_Statistics$$ $$January$$ 2008</caption>
+    <caption>$$Handicap_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-136.5</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -83.0</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num">-139.9</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -83.1</td><td class="left">'Johannes'</td></tr>
      <tr><td class="num"> -82.8</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -71.4</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -61.2</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -71.6</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -61.4</td><td class="left">'Duffy'</td></tr>
      <tr><td class="num"> -60.1</td><td class="left">'Malla'</td></tr>
-     <tr><td class="num"> -56.8</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -46.2</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -44.0</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -42.9</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -40.5</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -39.3</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -37.5</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -29.3</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -27.6</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -27.4</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -23.9</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -22.9</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -22.0</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -21.2</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -21.1</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -19.8</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -19.5</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -16.3</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -15.4</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -13.2</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -12.6</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num"> -11.8</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num"> -57.1</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -49.6</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -47.1</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -44.2</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -43.4</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -41.3</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -37.6</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -33.8</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -29.5</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -28.7</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -27.9</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -27.6</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -24.2</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -22.4</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -21.5</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -20.0</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -19.9</td><td class="left">'Emmanuel'</td></tr>
+     <tr><td class="num"> -16.4</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -15.7</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -14.4</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -12.7</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num"> -12.1</td><td class="left">'HuB34'</td></tr>
      <tr><td class="num">  -8.9</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">  -8.7</td><td class="left">'Daisy'</td></tr>
      <tr><td class="num">  -8.5</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -4.7</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">  -4.8</td><td class="left">'Daniel'</td></tr>
      <tr><td class="num">  -3.5</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">  -1.9</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">  -1.6</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">  -1.4</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">   1.3</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">   1.4</td><td class="left">'Tobias'</td></tr>
-     <tr><td class="num">   2.4</td><td class="left">'Guglielmo'</td></tr>
-     <tr><td class="num">   3.7</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">  -2.0</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">  -1.7</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">  -1.6</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   1.2</td><td class="left">'para_doks'</td></tr>
+     <tr><td class="num">   1.3</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   2.2</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   3.2</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   3.5</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
      <tr><td class="num">   3.7</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   4.6</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">   5.8</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">   5.6</td><td class="left">'Austin'</td></tr>
      <tr><td class="num">   8.1</td><td class="left">'mrduke'</td></tr>
-     <tr><td class="num">  10.5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  12.2</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  12.7</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">  12.9</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  13.9</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">  10.6</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  11.2</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">  12.0</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  12.6</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">  12.8</td><td class="left">'Chocolate Zero'</td></tr>
      <tr><td class="num">  14.0</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  14.3</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  14.6</td><td class="left">'shoki'</td></tr>
-     <tr><td class="num">  15.1</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  19.0</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  21.7</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  21.9</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  22.2</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  22.9</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  23.1</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  23.8</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  24.5</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  25.5</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  14.1</td><td class="left">'Agnieszka'</td></tr>
+     <tr><td class="num">  14.5</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  14.6</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">  18.9</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  21.6</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  21.8</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  22.0</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  23.0</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  23.0</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  23.7</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  24.6</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  24.8</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  25.4</td><td class="left">'Ale'</td></tr>
      <tr><td class="num">  26.7</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  26.8</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  28.1</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  26.9</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  28.0</td><td class="left">'biotopa'</td></tr>
      <tr><td class="num">  28.7</td><td class="left">'oblo'</td></tr>
-     <tr><td class="num">  29.1</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  29.2</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  29.0</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  29.3</td><td class="left">'geembo_90'</td></tr>
      <tr><td class="num">  30.1</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  30.7</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  30.7</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  30.9</td><td class="left">'Vinksu'</td></tr>
-     <tr><td class="num">  31.1</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  31.2</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  30.8</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  31.0</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  31.2</td><td class="left">'NorthForty'</td></tr>
      <tr><td class="num">  31.5</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  32.0</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  34.3</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  31.6</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  32.6</td><td class="left">'Antonio EE'</td></tr>
      <tr><td class="num">  34.3</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  34.6</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  34.8</td><td class="left">'Kosby'</td></tr>
-     <tr><td class="num">  36.4</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  38.0</td><td class="left">'Drotten'</td></tr>
-     <tr><td class="num">  38.5</td><td class="left">'Archcorenth'</td></tr>
-     <tr><td class="num">  38.6</td><td class="left">'Harry Lim'</td></tr>
+     <tr><td class="num">  34.5</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  34.5</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  34.7</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  36.3</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  37.9</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  38.3</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  38.5</td><td class="left">'Harry Lim'</td></tr>
      <tr><td class="num">  38.7</td><td class="left">'B-man'</td></tr>
-     <tr><td class="num">  39.8</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  40.3</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  40.9</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  41.3</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  42.2</td><td class="left">'Momcat'</td></tr>
+     <tr><td class="num">  38.9</td><td class="left">'Angolino'</td></tr>
+     <tr><td class="num">  39.4</td><td class="left">'mecke'</td></tr>
+     <tr><td class="num">  39.7</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  40.2</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  40.8</td><td class="left">'Snaily'</td></tr>
+     <tr><td class="num">  41.1</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  42.1</td><td class="left">'Momcat'</td></tr>
      <tr><td class="num">  42.3</td><td class="left">'Liam Sheehan'</td></tr>
-     <tr><td class="num">  42.8</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  42.8</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  42.7</td><td class="left">'Uli'</td></tr>
+     <tr><td class="num">  42.7</td><td class="left">'Breezy'</td></tr>
      <tr><td class="num">  44.7</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  45.2</td><td class="left">'IntKecsk'</td></tr>
-     <tr><td class="num">  45.6</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  45.1</td><td class="left">'IntKecsk'</td></tr>
      <tr><td class="num">  46.5</td><td class="left">'ntaeijr'</td></tr>
-     <tr><td class="num">  46.9</td><td class="left">'mhatta'</td></tr>
+     <tr><td class="num">  46.8</td><td class="left">'mhatta'</td></tr>
      <tr><td class="num">  48.3</td><td class="left">'Zak'</td></tr>
      <tr><td class="num">  48.9</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  49.2</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  50.2</td><td class="left">'jdcampo'</td></tr>
-     <tr><td class="num">  50.7</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  49.1</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  50.1</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  50.6</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  51.5</td><td class="left">'brynn'</td></tr>
      <tr><td class="num">  51.5</td><td class="left">'Vaily'</td></tr>
-     <tr><td class="num">  51.6</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  52.7</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  52.8</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  52.8</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  52.6</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  52.6</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  52.7</td><td class="left">'Cyphase'</td></tr>
      <tr><td class="num">  55.1</td><td class="left">'krazy62'</td></tr>
      <tr><td class="num">  55.9</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  61.3</td><td class="left">'Asbel'</td></tr>
-     <tr><td class="num">  61.6</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  63.3</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  65.8</td><td class="left">'ael'</td></tr>
+     <tr><td class="num">  61.2</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  61.5</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  63.1</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  65.7</td><td class="left">'ael'</td></tr>
      <tr><td class="num">  66.1</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  67.2</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  66.5</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  67.1</td><td class="left">'Alf'</td></tr>
      <tr><td class="num">  68.7</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  69.9</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  69.8</td><td class="left">'xmouse'</td></tr>
      <tr><td class="num">  71.5</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  71.8</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  73.7</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  71.7</td><td class="left">'AQZ'</td></tr>
+     <tr><td class="num">  73.6</td><td class="left">'Dvorhagen'</td></tr>
      <tr><td class="num">  74.7</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  74.9</td><td class="left">'AsuCaga'</td></tr>
+     <tr><td class="num">  74.8</td><td class="left">'AsuCaga'</td></tr>
      <tr><td class="num">  79.5</td><td class="left">'AkRa'</td></tr>
-     <tr><td class="num">  80.1</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  84.7</td><td class="left">'Miel56'</td></tr>
-     <tr><td class="num">  89.9</td><td class="left">'The red O'</td></tr>
-     <tr><td class="num">  92.3</td><td class="left">'Michael'</td></tr>
+     <tr><td class="num">  80.0</td><td class="left">'Agares'</td></tr>
+     <tr><td class="num">  84.8</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  89.8</td><td class="left">'The red O'</td></tr>
+     <tr><td class="num">  92.2</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-rat.html
===================================================================
--- homepage/input/table-rat.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/table-rat.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -1,19 +1,19 @@
   <table>
-    <caption>$$Rating_Statistics$$ $$January$$ 2008</caption>
+    <caption>$$Rating_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
     <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1062</td><td class="num"> 5.06</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1056</td><td class="num"> 4.83</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num">853</td><td class="num"> 4.78</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num">780</td><td class="num"> 4.89</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">821</td><td class="num"> 4.94</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">653</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num">627</td><td class="num"> 4.99</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">613</td><td class="num"> 4.20</td><td class="left">'shoki'</td></tr>
-    <tr><td class="num">571</td><td class="num"> 4.81</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num">596</td><td class="num"> 4.82</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num">518</td><td class="num"> 5.08</td><td class="left">'dpl'</td></tr>
     <tr><td class="num">517</td><td class="num"> 4.96</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num">511</td><td class="num"> 5.30</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">505</td><td class="num"> 5.07</td><td class="left">'dpl'</td></tr>
-    <tr><td class="num">467</td><td class="num"> 5.03</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">469</td><td class="num"> 5.03</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">448</td><td class="num"> 5.08</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num">433</td><td class="num"> 4.24</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num">424</td><td class="num"> 4.35</td><td class="left">'ged'</td></tr>
@@ -25,9 +25,9 @@
     <tr><td class="num">208</td><td class="num"> 6.15</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num">200</td><td class="num"> 5.74</td><td class="left">'Malla'</td></tr>
     <tr><td class="num">187</td><td class="num"> 5.05</td><td class="left">'WP319'</td></tr>
+    <tr><td class="num">138</td><td class="num"> 5.00</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">135</td><td class="num"> 4.13</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">129</td><td class="num"> 5.64</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num">118</td><td class="num"> 5.01</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 97</td><td class="num"> 4.16</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 85</td><td class="num"> 4.76</td><td class="left">'para_doks'</td></tr>
     <tr><td class="num"> 72</td><td class="num"> 5.63</td><td class="left">'Wuzzy'</td></tr>
@@ -39,7 +39,7 @@
     <tr><td class="num"> 30</td><td class="num"> 4.40</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 6.04</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 4.88</td><td class="left">'Drotten'</td></tr>
-    <tr><td class="num"> 18</td><td class="num"> 7.44</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 22</td><td class="num"> 7.32</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 17</td><td class="num"> 5.53</td><td class="left">'Jeffrey S'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 7.63</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 3.88</td><td class="left">'Mecki'</td></tr>
@@ -52,7 +52,10 @@
     <tr><td class="num">  5</td><td class="num"> 6.80</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num">  5</td><td class="num"> 9.20</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 6.75</td><td class="left">'Agares'</td></tr>
+    <tr><td class="num">  4</td><td class="num">10.00</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 5.75</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 1.00</td><td class="left">'Hans-HD'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 8.75</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 6.50</td><td class="left">'serpent'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 7.00</td><td class="left">'redsantz'</td></tr>
     <tr><td class="num">  3</td><td class="num"> 0.67</td><td class="left">'Turbogurk'</td></tr>
@@ -62,11 +65,11 @@
     <tr><td class="num">  3</td><td class="num"> 4.33</td><td class="left">'krazy62'</td></tr>
     <tr><td class="num">  2</td><td class="num"> 0.00</td><td class="left">'mhatta'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'ael'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Uli'</td></tr>
     <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Cyphase'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Harry Lim'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 3.00</td><td class="left">'AkRa'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 6.00</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'jojo'</td></tr>
-    <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Antonio EE'</td></tr>
   </table>

Modified: homepage/input/table-solved.html
===================================================================
--- homepage/input/table-solved.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/table-solved.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -1,5 +1,5 @@
   <table>
-    <caption>$$Solved_Level_Statistics$$ $$January$$ 2008</caption>
+    <caption>$$Solved_Level_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>$$difficult$$</th><th>$$easy$$</th><th>$$total$$</th><th class="left">$$user$$</th></tr>
     <tr><td class="num">1045/1045</td><td class="num">189/189</td><td class="num">100.00%</td><td class="left">'ryujun'</td></tr>
@@ -7,30 +7,32 @@
     <tr><td class="num">1029/1045</td><td class="num">183/189</td><td class="num"> 98.22%</td><td class="left">'Craven'</td></tr>
     <tr><td class="num">1030/1045</td><td class="num">178/189</td><td class="num"> 97.89%</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">1021/1045</td><td class="num">177/189</td><td class="num"> 97.08%</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num">1012/1045</td><td class="num">179/189</td><td class="num"> 96.52%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">1010/1045</td><td class="num">178/189</td><td class="num"> 96.27%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num"> 999/1045</td><td class="num">177/189</td><td class="num"> 95.30%</td><td class="left">'biotopa'</td></tr>
     <tr><td class="num"> 969/1045</td><td class="num">170/189</td><td class="num"> 92.30%</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num"> 970/1045</td><td class="num">166/189</td><td class="num"> 92.06%</td><td class="left">'Andy'</td></tr>
     <tr><td class="num"> 949/1045</td><td class="num">170/189</td><td class="num"> 90.68%</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 942/1045</td><td class="num">172/189</td><td class="num"> 90.28%</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 933/1045</td><td class="num">125/189</td><td class="num"> 85.74%</td><td class="left">'Alex'</td></tr>
     <tr><td class="num"> 914/1045</td><td class="num">135/189</td><td class="num"> 85.01%</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num"> 894/1045</td><td class="num">140/189</td><td class="num"> 83.79%</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num"> 887/1045</td><td class="num">143/189</td><td class="num"> 83.47%</td><td class="left">'mrduke'</td></tr>
+    <tr><td class="num"> 891/1045</td><td class="num">133/189</td><td class="num"> 82.98%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 863/1045</td><td class="num">161/189</td><td class="num"> 82.98%</td><td class="left">'Tobias'</td></tr>
-    <tr><td class="num"> 915/1045</td><td class="num">105/189</td><td class="num"> 82.66%</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 917/1045</td><td class="num">106/189</td><td class="num"> 82.90%</td><td class="left">'Django'</td></tr>
     <tr><td class="num"> 863/1045</td><td class="num">150/189</td><td class="num"> 82.09%</td><td class="left">'Gloop'</td></tr>
     <tr><td class="num"> 849/1045</td><td class="num">151/189</td><td class="num"> 81.04%</td><td class="left">'WP319'</td></tr>
     <tr><td class="num"> 867/1045</td><td class="num">124/189</td><td class="num"> 80.31%</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num"> 841/1045</td><td class="num">144/189</td><td class="num"> 79.82%</td><td class="left">'Gorn'</td></tr>
     <tr><td class="num"> 874/1045</td><td class="num">103/189</td><td class="num"> 79.17%</td><td class="left">'Melanie'</td></tr>
+    <tr><td class="num"> 815/1045</td><td class="num">149/189</td><td class="num"> 78.12%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num"> 841/1045</td><td class="num">123/189</td><td class="num"> 78.12%</td><td class="left">'shoki'</td></tr>
     <tr><td class="num"> 950/1045</td><td class="num">  0/189</td><td class="num"> 76.99%</td><td class="left">'Tarim'</td></tr>
     <tr><td class="num"> 804/1045</td><td class="num">142/189</td><td class="num"> 76.66%</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 938/1045</td><td class="num">  1/189</td><td class="num"> 76.09%</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num"> 811/1045</td><td class="num">128/189</td><td class="num"> 76.09%</td><td class="left">'Gorn'</td></tr>
-    <tr><td class="num"> 771/1045</td><td class="num">131/189</td><td class="num"> 73.10%</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 772/1045</td><td class="num">113/189</td><td class="num"> 71.72%</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num"> 739/1045</td><td class="num">131/189</td><td class="num"> 70.50%</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num"> 754/1045</td><td class="num">100/189</td><td class="num"> 69.21%</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num"> 719/1045</td><td class="num">122/189</td><td class="num"> 68.15%</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 762/1045</td><td class="num"> 73/189</td><td class="num"> 67.67%</td><td class="left">'redsantz'</td></tr>
     <tr><td class="num"> 745/1045</td><td class="num"> 73/189</td><td class="num"> 66.29%</td><td class="left">'brynn'</td></tr>
@@ -39,17 +41,17 @@
     <tr><td class="num"> 766/1045</td><td class="num"> 37/189</td><td class="num"> 65.07%</td><td class="left">'alfred69'</td></tr>
     <tr><td class="num"> 681/1045</td><td class="num"> 78/189</td><td class="num"> 61.51%</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num"> 659/1045</td><td class="num"> 95/189</td><td class="num"> 61.10%</td><td class="left">'Marc-Hendrik'</td></tr>
+    <tr><td class="num"> 649/1045</td><td class="num">101/189</td><td class="num"> 60.78%</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 633/1045</td><td class="num">110/189</td><td class="num"> 60.21%</td><td class="left">'Raoul'</td></tr>
     <tr><td class="num"> 643/1045</td><td class="num"> 83/189</td><td class="num"> 58.83%</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 633/1045</td><td class="num"> 84/189</td><td class="num"> 58.10%</td><td class="left">'dpl'</td></tr>
     <tr><td class="num"> 714/1045</td><td class="num">  0/189</td><td class="num"> 57.86%</td><td class="left">'Gottseinsohn'</td></tr>
-    <tr><td class="num"> 625/1045</td><td class="num"> 82/189</td><td class="num"> 57.29%</td><td class="left">'dpl'</td></tr>
-    <tr><td class="num"> 607/1045</td><td class="num"> 93/189</td><td class="num"> 56.73%</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 620/1045</td><td class="num"> 72/189</td><td class="num"> 56.08%</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num"> 636/1045</td><td class="num"> 55/189</td><td class="num"> 56.00%</td><td class="left">'fabian'</td></tr>
     <tr><td class="num"> 588/1045</td><td class="num"> 93/189</td><td class="num"> 55.19%</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 568/1045</td><td class="num">112/189</td><td class="num"> 55.11%</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 599/1045</td><td class="num"> 80/189</td><td class="num"> 55.02%</td><td class="left">'serpent'</td></tr>
     <tr><td class="num"> 634/1045</td><td class="num"> 43/189</td><td class="num"> 54.86%</td><td class="left">'Klaus'</td></tr>
-    <tr><td class="num"> 564/1045</td><td class="num">112/189</td><td class="num"> 54.78%</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 557/1045</td><td class="num">117/189</td><td class="num"> 54.62%</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num"> 576/1045</td><td class="num"> 93/189</td><td class="num"> 54.21%</td><td class="left">'Guglielmo'</td></tr>
     <tr><td class="num"> 565/1045</td><td class="num">100/189</td><td class="num"> 53.89%</td><td class="left">'Zekobah'</td></tr>
@@ -60,14 +62,16 @@
     <tr><td class="num"> 613/1045</td><td class="num">  0/189</td><td class="num"> 49.68%</td><td class="left">'Little_Mole'</td></tr>
     <tr><td class="num"> 500/1045</td><td class="num"> 92/189</td><td class="num"> 47.97%</td><td class="left">'Kosby'</td></tr>
     <tr><td class="num"> 478/1045</td><td class="num">101/189</td><td class="num"> 46.92%</td><td class="left">'Austin'</td></tr>
+    <tr><td class="num"> 504/1045</td><td class="num"> 62/189</td><td class="num"> 45.87%</td><td class="left">'Hans-HD'</td></tr>
     <tr><td class="num"> 519/1045</td><td class="num"> 37/189</td><td class="num"> 45.06%</td><td class="left">'Valkyrie2'</td></tr>
     <tr><td class="num"> 516/1045</td><td class="num"> 24/189</td><td class="num"> 43.76%</td><td class="left">'niebie'</td></tr>
+    <tr><td class="num"> 467/1045</td><td class="num"> 63/189</td><td class="num"> 42.95%</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num"> 494/1045</td><td class="num"> 26/189</td><td class="num"> 42.14%</td><td class="left">'Daniel'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num"> 12/189</td><td class="num"> 41.98%</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num"> 503/1045</td><td class="num">  7/189</td><td class="num"> 41.33%</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num"> 419/1045</td><td class="num"> 59/189</td><td class="num"> 38.74%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 433/1045</td><td class="num"> 45/189</td><td class="num"> 38.74%</td><td class="left">'ged'</td></tr>
     <tr><td class="num"> 467/1045</td><td class="num">  6/189</td><td class="num"> 38.33%</td><td class="left">'Vinksu'</td></tr>
-    <tr><td class="num"> 405/1045</td><td class="num"> 58/189</td><td class="num"> 37.52%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 438/1045</td><td class="num">  3/189</td><td class="num"> 35.74%</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 40/189</td><td class="num"> 35.01%</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
@@ -81,9 +85,9 @@
     <tr><td class="num"> 335/1045</td><td class="num"> 50/189</td><td class="num"> 31.20%</td><td class="left">'Harry Lim'</td></tr>
     <tr><td class="num"> 361/1045</td><td class="num"> 18/189</td><td class="num"> 30.71%</td><td class="left">'MicWa'</td></tr>
     <tr><td class="num"> 306/1045</td><td class="num"> 71/189</td><td class="num"> 30.55%</td><td class="left">'Davacardo'</td></tr>
-    <tr><td class="num"> 336/1045</td><td class="num"> 41/189</td><td class="num"> 30.55%</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
     <tr><td class="num"> 350/1045</td><td class="num"> 25/189</td><td class="num"> 30.39%</td><td class="left">'IntKecsk'</td></tr>
+    <tr><td class="num"> 323/1045</td><td class="num"> 52/189</td><td class="num"> 30.39%</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num"> 331/1045</td><td class="num"> 14/189</td><td class="num"> 27.96%</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 281/1045</td><td class="num"> 63/189</td><td class="num"> 27.88%</td><td class="left">'erich'</td></tr>
     <tr><td class="num"> 295/1045</td><td class="num"> 29/189</td><td class="num"> 26.26%</td><td class="left">'Tiger'</td></tr>
@@ -113,9 +117,11 @@
     <tr><td class="num"> 148/1045</td><td class="num">  5/189</td><td class="num"> 12.40%</td><td class="left">'Rugby4ever'</td></tr>
     <tr><td class="num"> 110/1045</td><td class="num"> 31/189</td><td class="num"> 11.43%</td><td class="left">'Cyphase'</td></tr>
     <tr><td class="num"> 124/1045</td><td class="num"> 15/189</td><td class="num"> 11.26%</td><td class="left">'Magnus and Susi'</td></tr>
+    <tr><td class="num"> 114/1045</td><td class="num"> 23/189</td><td class="num"> 11.10%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 131/1045</td><td class="num">  1/189</td><td class="num"> 10.70%</td><td class="left">'Asbel'</td></tr>
     <tr><td class="num"> 105/1045</td><td class="num"> 22/189</td><td class="num"> 10.29%</td><td class="left">'Neophilus'</td></tr>
     <tr><td class="num"> 101/1045</td><td class="num">  0/189</td><td class="num">  8.18%</td><td class="left">'Alf'</td></tr>
+    <tr><td class="num">  75/1045</td><td class="num"> 12/189</td><td class="num">  7.05%</td><td class="left">'schmusi20'</td></tr>
     <tr><td class="num">  67/1045</td><td class="num"> 19/189</td><td class="num">  6.97%</td><td class="left">'Dvorhagen'</td></tr>
     <tr><td class="num">  57/1045</td><td class="num"> 26/189</td><td class="num">  6.73%</td><td class="left">'Meeve'</td></tr>
     <tr><td class="num">  64/1045</td><td class="num"> 16/189</td><td class="num">  6.48%</td><td class="left">'AQZ'</td></tr>

Modified: homepage/input/table-wr.html
===================================================================
--- homepage/input/table-wr.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/table-wr.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -1,51 +1,53 @@
   <table>
-    <caption>$$Worldrecord_Statistics$$ $$January$$ 2008</caption>
+    <caption>$$Worldrecord_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">860</td><td class="num">258</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">217</td><td class="num">113</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">153</td><td class="num">129</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num"> 83</td><td class="num"> 52</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 81</td><td class="num"> 34</td><td class="left">'Malla'</td></tr>
-    <tr><td class="num"> 65</td><td class="num"> 59</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 62</td><td class="num"> 54</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 39</td><td class="num"> 36</td><td class="left">'Django'</td></tr>
+    <tr><td class="num">916</td><td class="num">259</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">201</td><td class="num">111</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">144</td><td class="num">127</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 77</td><td class="num"> 50</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 60</td><td class="num"> 54</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num"> 56</td><td class="num"> 53</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 55</td><td class="num"> 31</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num"> 40</td><td class="num"> 38</td><td class="left">'Django'</td></tr>
     <tr><td class="num"> 38</td><td class="num"> 31</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num"> 36</td><td class="num"> 26</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 36</td><td class="num"> 27</td><td class="left">'Zekobah'</td></tr>
     <tr><td class="num"> 35</td><td class="num"> 29</td><td class="left">'Alexandros'</td></tr>
-    <tr><td class="num"> 34</td><td class="num"> 32</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num"> 28</td><td class="num"> 26</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 33</td><td class="num"> 31</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 27</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 25</td><td class="num">  8</td><td class="left">'Kevin'</td></tr>
+    <tr><td class="num"> 23</td><td class="num"> 19</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 23</td><td class="num"> 20</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 22</td><td class="num">  7</td><td class="left">'ryujun'</td></tr>
-    <tr><td class="num"> 21</td><td class="num"> 14</td><td class="left">'Emmanuel'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 15</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num"> 21</td><td class="num"> 19</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num"> 20</td><td class="num"> 18</td><td class="left">'Ludmian'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 16</td><td class="left">'B-Huff'</td></tr>
-    <tr><td class="num"> 18</td><td class="num"> 12</td><td class="left">'HuB34'</td></tr>
-    <tr><td class="num"> 18</td><td class="num"> 17</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 18</td><td class="num">  8</td><td class="left">'ryujun'</td></tr>
+    <tr><td class="num"> 18</td><td class="num"> 16</td><td class="left">'B-Huff'</td></tr>
+    <tr><td class="num"> 17</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 17</td><td class="num"> 17</td><td class="left">'bojster'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 16</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num"> 15</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 12</td><td class="num">  6</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num"> 12</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
-    <tr><td class="num"> 11</td><td class="num">  7</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num"> 14</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 11</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
+    <tr><td class="num"> 11</td><td class="num">  9</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 10</td><td class="num">  6</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num"> 10</td><td class="num"> 10</td><td class="left">'fabian'</td></tr>
     <tr><td class="num">  9</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  3</td><td class="left">'Breezy'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  7</td><td class="left">'Wuzzy'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  6</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">  7</td><td class="num">  2</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'dpl' + 'Edgar_Flesk'</td></tr>
     <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'para_doks'</td></tr>
     <tr><td class="num">  6</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo' + 'Raoul'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'U-Punkt' + 'Cyphase' + 'Thomas' + 'Chris' + 'Ralf'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo' + 'U-Punkt'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias' + 'Wuzzy'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Cyphase' + 'Thomas' + 'Ralf'</td></tr>
     <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Bent' + 'Craven'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Stephanie'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF' + 'Chris'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Neophilus' + 'Andy'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale' + 'Daniel'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'oblo'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'Daniel' + 'oblo' + 'Stephanie'</td></tr>
     <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Drotten' + 'Sim_Ed' + 'hendrik' + 'Austin' + 'Snaily' + 'Ingo' + 'serpent'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'dev0' + 'Gorn' + 'Ant' + 'Melanie' + 'Nat'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'ntaeijr' + 'Tiger' + 'Zak' + 'Tiza' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'jdcampo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Vaily' + 'krazy62' + 'JuSt'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'shoki' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Gorn' + 'Nat'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'ntaeijr' + 'Tiger' + 'Zak' + 'Tiza' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'jdcampo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Vaily' + 'Hans-HD' + 'krazy62' + 'JuSt'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'shoki' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'mecke' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
   </table>

Modified: homepage/input/userlist.html
===================================================================
--- homepage/input/userlist.html	2008-03-01 23:21:19 UTC (rev 1055)
+++ homepage/input/userlist.html	2008-03-02 12:01:08 UTC (rev 1056)
@@ -14,6 +14,7 @@
     <li>alfred69</li>
     <li>Andreas</li>
     <li>Andy</li>
+    <li>Angolino</li>
     <li>Ant</li>
     <li>Antonio EE</li>
     <li>AQZ</li>
@@ -32,6 +33,7 @@
     <li>Chris</li>
     <li>Craven</li>
     <li>Cyphase</li>
+    <li>Daisy</li>
     <li>Daniel</li>
     <li>Davacardo</li>
     <li>daydreamer</li>
@@ -53,6 +55,7 @@
     <li>Gottseinsohn</li>
     <li>Great Scott</li>
     <li>Guglielmo</li>
+    <li>Hans-HD</li>
     <li>Harry Lim</li>
     <li>hdwow</li>
     <li>hendrik</li>
@@ -71,6 +74,7 @@
     <li>Joona</li>
     <li>joseba</li>
     <li>JuSt</li>
+    <li>Kevin</li>
     <li>Klaus</li>
     <li>Kosby</li>
     <li>krazy62</li>
@@ -83,6 +87,7 @@
     <li>Marc-Hendrik</li>
     <li>Mark P.</li>
     <li>Markus</li>
+    <li>mecke</li>
     <li>Mecki</li>
     <li>Meeve</li>
     <li>Melanie</li>
@@ -110,6 +115,7 @@
     <li>Safalra</li>
     <li>Samuel</li>
     <li>Sandra</li>
+    <li>schmusi20</li>
     <li>serpent</li>
     <li>ShadowPhrogg32642342</li>
     <li>shoki</li>



From raoul at mail.berlios.de  Sun Mar  2 15:07:23 2008
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 2 Mar 2008 15:07:23 +0100
Subject: [Enigma-game-svn] r1057 - in trunk/data: . levels/enigma_cross
	levels/enigma_i levels/enigma_ii levels/enigma_tutorial
Message-ID: <200803021407.m22E7NLc027685@sheep.berlios.de>

Author: raoul
Date: 2008-03-02 15:07:22 +0100 (Sun, 02 Mar 2008)
New Revision: 1057

Added:
   trunk/data/levels/enigma_ii/martin26_2.xml
Removed:
   trunk/data/levels/enigma_ii/martin26_1.xml
Modified:
   trunk/data/api1init.lua
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_i/duffy21_1.xml
   trunk/data/levels/enigma_i/index.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_tutorial/index.xml
Log:
-> Levelbugfixes for
--> "Back and forth": oneway + magicwand shortcut
--> "If they'd just hold still": essential actors
-> api1  draw_checkerboard_floor(...) default parameters for position and size


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/api1init.lua	2008-03-02 14:07:22 UTC (rev 1057)
@@ -525,6 +525,10 @@
 end
 
 function draw_checkerboard_floor (name1, name2, x, y, w, h, attrs)
+    if x == nil then x = 0 end
+    if y == nil then y = 0 end
+    if w  == nil then w  = level_width end
+    if h  == nil then h  = level_height end
     for i=1,h do
         for j=1,w do
              if mod(i,2) == mod(j,2) then

Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="4" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="5" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -60,7 +60,7 @@
     <level _seq="52" _title="Watery Grave" _xpath="enigma_i/martin37_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin37" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Break and Enter" _xpath="enigma_v/siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Jump And Run" _xpath="enigma_iii/siegfried40_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6c" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Back And Forth" _xpath="enigma_ii/martin26_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Back And Forth" _xpath="enigma_ii/martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="56" _title="Hidden Treasure" _xpath="enigma_peroxyd/peroxyd49_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Mossy Paths" _xpath="enigma_i/martin02_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Light Barriers" _xpath="enigma_ii/qq01_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq1" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="4" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="5" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -64,7 +64,7 @@
     <level _seq="56" _title="Overshoot" _xpath="enigma_iii/ss02_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss2" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Slide it in" _xpath="enigma_iv/ss13_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Do It Yourself" _xpath="enigma_ii/martin97_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin97" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Too Heavy?" _xpath="enigma_v/martin101_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin101" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Island of Safety" _xpath="enigma_v/duffy27_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy27" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="TNT Shortage?" _xpath="enigma_iv/siegfried74_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried74" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_i/duffy21_1.xml
===================================================================
--- trunk/data/levels/enigma_i/duffy21_1.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_i/duffy21_1.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="If They'd Just Hold Still" el:subtitle="" el:id="duffy21"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,8 +39,6 @@
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c == " " then
             abyss(i-1,line)
-        elseif c=="w" then
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0, mouseforce=1})
         elseif c=="H" then
             hollow(i-1,line)
         elseif c=="*" then
@@ -51,40 +49,33 @@
             set_floor("fl-gradient", i-1,line , {type=24})
         elseif c=="R" then
             set_floor("fl-gradient", i-1,line , {type=23})
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0, essential=1})
         elseif c=="L" then
             set_floor("fl-gradient", i-1,line , {type=24})
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0, essential=1})
         elseif c=="x" then
             set_floor("fl-metal", i-1,line)
         elseif c=="X" then
             set_floor("fl-metal", i-1,line)
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0, essential=1})
         end
     end
 end
 
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
 renderLine(00,"   ###    ###       ")
 renderLine(01," ###r#o####r#o##### ")
 renderLine(02," DrrrrrrrrRrrrrrrr# ")
 renderLine(03," ##r##o######o##r## ")
 renderLine(04,"  ###    ###   ###  ")
 renderLine(05," ##x##o###x##o##### ")
-renderLine(06," DxxxxxxxxxxxxxxxxD ")
+renderLine(06," DxxxxxxxxXxxxxxxxD ")
 renderLine(07," #####o###x##o##x## ")
 renderLine(08,"  ###    ###   ###  ")
 renderLine(09," ##l##o###l##o##### ")
 renderLine(10," #llllllllLlllllllD ")
 renderLine(11," #####o#l####o##l## ")
 renderLine(12,"       ###     ###  ")
-
 oxyd_shuffle()
-
-set_actor("ac-whiteball-small", 10.5,6.5, {player=0})
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_i/index.xml
===================================================================
--- trunk/data/levels/enigma_i/index.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_i/index.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="5" title="Enigma I"/>
+  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="6" title="Enigma I"/>
 
   <attributes/>
 
@@ -79,7 +79,7 @@
     <level _seq="71" _title="Spiral Race" _xpath="./wb06_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="Way To Go" _xpath="./daniel09_1" author="Daniel Heck" ctrl="force" easy="false" id="mirrors" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Formentera!" _xpath="./luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Ibiza!" _xpath="./ralf02_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_1" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Cage The Lions" _xpath="./duffy47_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy47" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_ii/index.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="3" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="4" title="Enigma II"/>
 
   <attributes/>
 
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Puzzling Controls" _xpath="./duffy30_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy30" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="./siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Disk Royal" _xpath="./illmind02_1" author="illmind" ctrl="force" easy="false" id="illmind02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Back And Forth" _xpath="./martin26_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Back And Forth" _xpath="./martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="53" _title="Spaceless" _xpath="./andreas02_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Laser Paradise" _xpath="./illmind05_1" author="illmind" ctrl="force" easy="false" id="illmind05" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Spaceleast" _xpath="./andreas15_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas15" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_ii/martin26_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin26_1.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_ii/martin26_1.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -1,80 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Back And Forth" el:subtitle="" el:id="martin26"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 25
-
-stone="st-greenbrown"
-
-create_world( levelw, levelh)
-draw_border( stone)
-
-draw_checkerboard_floor("fl-bluegreen", "fl-bluegreenx", 0,0,levelw,levelh)
-
-draw_stones( stone, {2,5},{1,0},17)
-oxyd( 1, 7)
-oxyd( 3, 7)
-oxyd( 5, 7)
-oxyd( 7, 7)
-oxyd( 9, 7)
-oxyd(11, 7)
-oxyd(13, 7)
-oxyd(15, 7)
-oxyd_shuffle()
-
-draw_stones( stone, { 2,7},{0,1},11)
-draw_stones( stone, { 4,7},{0,1},11)
-draw_stones( stone, { 6,7},{0,1},11)
-draw_stones( stone, { 8,7},{0,1},11)
-draw_stones( stone, {10,7},{0,1},11)
-draw_stones( stone, {12,7},{0,1},11)
-draw_stones( stone, {14,7},{0,1},11)
-draw_stones( stone, {16,7},{0,1},11)
-
-oneway( 2,6, enigma.EAST)
-oneway( 4,6, enigma.EAST)
-oneway( 6,6, enigma.EAST)
-oneway( 8,6, enigma.EAST)
-oneway(10,6, enigma.EAST)
-oneway(12,6, enigma.EAST)
-oneway(14,6, enigma.EAST)
-
-oneway(16,6, EAST)
-
-set_stone( "st-bolder-s", 1,17)
-set_stone( "st-bolder-s", 3,17)
-set_stone( "st-bolder-s", 5,17)
-set_stone( "st-bolder-s", 7,17)
-set_stone( "st-bolder-s", 9,17)
-set_stone( "st-bolder-s",11,17)
-set_stone( "st-bolder-s",13,17)
-set_stone( "st-bolder-s",15,17)
-
-draw_stones( "st-grate1", {1,18}, {1,0}, 18)
-
-set_item( "it-magicwand", 1,18)
-
-set_actor("ac-blackball", 3, 2)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_ii/martin26_2.xml (from rev 1055, trunk/data/levels/enigma_ii/martin26_1.xml)
===================================================================
--- trunk/data/levels/enigma_ii/martin26_1.xml	2008-03-01 23:21:19 UTC (rev 1055)
+++ trunk/data/levels/enigma_ii/martin26_2.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Back And Forth" el:subtitle="" el:id="martin26"/>
+      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="0.92">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+levelw = 20
+levelh = 25
+create_world( levelw, levelh)
+
+stone="st-greenbrown"
+
+draw_border(stone)
+draw_checkerboard_floor("fl-bluegreen", "fl-bluegreenx")
+draw_stones(stone, {2,5},{1,0},17)
+oxyd( 1, 7)
+oxyd( 3, 7)
+oxyd( 5, 7)
+oxyd( 7, 7)
+oxyd( 9, 7)
+oxyd(11, 7)
+oxyd(13, 7)
+oxyd(15, 7)
+oxyd_shuffle()
+draw_stones( stone, { 2,7},{0,1},11)
+draw_stones( stone, { 4,7},{0,1},11)
+draw_stones( stone, { 6,7},{0,1},11)
+draw_stones( stone, { 8,7},{0,1},11)
+draw_stones( stone, {10,7},{0,1},11)
+draw_stones( stone, {12,7},{0,1},11)
+draw_stones( stone, {14,7},{0,1},11)
+draw_stones( stone, {16,7},{0,1},11)
+set_stone("st-oneway_black-e", 16, 6)
+draw_stones("st-oneway_black-e", {2,6}, {2,0}, 7)
+draw_stones("st-bolder-s", {1,17}, {2,0}, 8)
+draw_stones("st-grate1", {1,18}, {1,0}, 18)
+set_item( "it-magicwand", 1,18)
+set_actor("ac-blackball", 3, 2)
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2008-03-02 12:01:08 UTC (rev 1056)
+++ trunk/data/levels/enigma_tutorial/index.xml	2008-03-02 14:07:22 UTC (rev 1057)
@@ -62,8 +62,8 @@
     <level _seq="54" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="57" _title="Back And Forth" _xpath="enigma_ii/martin26_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Back And Forth" _xpath="enigma_ii/martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="58" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Formentera!" _xpath="enigma_i/luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- Meditation -" _xpath="enigma_ii/wb10_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Is It Easy?" _xpath="enigma_i/martin06_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin06" rel="1" rev="0" score="1" target="time" unit="duration"/>



From ral at mail.berlios.de  Sun Mar  2 17:06:48 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 2 Mar 2008 17:06:48 +0100
Subject: [Enigma-game-svn] r1058 - in trunk: data data/schemas src src/stones
Message-ID: <200803021606.m22G6mHN005368@sheep.berlios.de>

Author: ral
Date: 2008-03-02 17:06:46 +0100 (Sun, 02 Mar 2008)
New Revision: 1058

Added:
   trunk/src/stones/PolarSwitchStone.cc
   trunk/src/stones/PolarSwitchStone.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/Object.cc
   trunk/src/items.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones_complex.cc
   trunk/src/stones_simple.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering PolarSwitch
- reengineering polarswitch:
  - rename to st_polarswitch
  - made full StateObject instead of OnOff
  - added performAction support
- fix hammer, sword as wielded item
- fix hollows filled with initial meditatist
- fix support for DAT signals to not existing it_blocker 


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/data/api1init.lua	2008-03-02 16:06:46 UTC (rev 1058)
@@ -69,6 +69,7 @@
     st_laser_s = "st-laser-s",
     st_laser_e = "st-laser-e",
     st_laser_n = "st-laser-n",
+    st_polarswitch = "st-polarswitch",
     st_oxyd = "st-oxyd",
     st_switch = "st-switch",
     st_switch_black = "st-switch_black",
@@ -177,7 +178,8 @@
              or (_obj_name == "st-floppy") 
              or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
              or (_obj_name == "it-magnet-off") or (_obj_name == "it-wormhole")
-             or (_obj_name == "it-wormhole-off") then
+             or (_obj_name == "it-wormhole-off") or (_obj_name == "st-laser")
+             or (_obj_name == "st-polarswitch") then
          if key == "on" then
 	     _key = "state"   -- new attr name
 	 end
@@ -185,9 +187,9 @@
      if key == "dir" then
          _key = "orientation"
      end
-     if key == "on" then
-         _key = "state"
-     end
+--     if key == "on" then
+--         _key = "state"
+--     end
      if key == "targetx" then
          local d = enigma._GetAttrib(obj, "destination")
          if (en.usertype(d) == "position") then
@@ -241,7 +243,8 @@
              or (_obj_name == "st-floppy")
              or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
              or (_obj_name == "it-magnet-off")  or (_obj_name == "it-wormhole")
-             or (_obj_name == "it-wormhole-off") then
+             or (_obj_name == "it-wormhole-off")  or (_obj_name == "st-laser")
+             or (_obj_name == "st-polarswitch") then
          if key == "on" then
 	     _key = "state"
 	     end
@@ -255,9 +258,9 @@
      if key == "dir" then
          _key = "orientation"
      end
-     if key == "on" then
-         _key = "state"
-     end
+--     if key == "on" then
+--         _key = "state"
+--     end
 
      local val = enigma._GetAttrib(obj, _key)
      
@@ -341,6 +344,7 @@
     ["st-oxyd__trigger"] = "toggle",
     ["st-plain__trigger"] = "signal",
     ["st-plain_hole__trigger"] = "signal",
+    st_polarswitch__onoff = "toggle",
     st_switch__onoff = "toggle",
     ["st-volcano__trigger"] = "toggle",
     ["st-white1__trigger"] = "signal",

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/data/schemas/objects.xml	2008-03-02 16:06:46 UTC (rev 1058)
@@ -132,6 +132,11 @@
     <object name="st_laser_n">
       <attr name="orientation" value="3"/>
     </object>
+    <object name="st_polarswitch">
+      <msg name="on"/>
+      <msg name="off"/>
+      <msg name="signal"/>
+    </object>
     <object name="st_switch">
       <attr name="color"/>
       <attr name="instant"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/Makefile.am	2008-03-02 16:06:46 UTC (rev 1058)
@@ -215,6 +215,8 @@
 	stones/LaserStone.hh	\
 	stones/OxydStone.cc	\
 	stones/OxydStone.hh	\
+	stones/PolarSwitchStone.cc	\
+	stones/PolarSwitchStone.hh	\
 	stones/Switch.cc	\
 	stones/Switch.hh	\
 	stones/WindowStone.cc	\

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/Object.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -155,7 +155,7 @@
     
     void Object::setAttr(const std::string& key, const Value& val) {
         if (val) {        // only set non-default values
-            if (val.getType() == Value::NIL && server::EnigmaCompatibility >= 1.10)
+            if (val.getType() == Value::NIL /*&& server::EnigmaCompatibility >= 1.10*/)
                 // delete attribute
                 attribs.remove_key(key);
             else

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/items.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -713,6 +713,8 @@
         DECL_TRAITS;
     public:
         Hollow(Type t = HOLLOW);
+        // Object interface.
+        virtual Value message(const Message &m);
         virtual void on_creation(GridPos p);
         virtual void on_removal(GridPos p);
     protected:
@@ -823,10 +825,29 @@
 
 // TODO handle set of essential attribute
 
-Hollow::Hollow(Type t)
-: HillHollow(t), whiteball(0)
-{}
+Hollow::Hollow(Type t) : HillHollow(t), whiteball(0), enter_time (-1) {
+}
 
+Value Hollow::message(const Message &m) {
+    Log << "Hollow - init time " << server::LevelTime << "\n";
+    if (m.message == "_init") {
+        vector<Actor*> actors;
+        GetActorsInsideField(get_pos(), actors);
+        for (vector<Actor*>::iterator it = actors.begin(); it != actors.end(); ++it) {
+            Log << "Hollow - initial meditatist  typ " << get_id(*it) << "\n";
+            if (!(*it)->is_flying() &&  whiteball==NULL && get_id(*it)==ac_meditation && near_center_p(*it)) {
+                 // meditatist entered a free hollow
+                whiteball  = *it;
+                enter_time = server::LevelTime;
+                Log << "Hollow - initial meditatist time " << enter_time << "\n";
+                break;
+            }
+        }
+        return Value();
+    }
+    return HillHollow::message(m);
+}
+
 void Hollow::on_creation(GridPos p) {
     if (getDefaultedAttr("essential", 0) == 1)
         ChangeMeditation(0, +1, 0, 0);
@@ -858,15 +879,15 @@
             if (!near_center_p(a)) {
                 // meditatist left hollow
                 whiteball = NULL;
-                if (enter_time == 0) {   // meditatist is registered
+                if (enter_time == -1) {   // meditatist is registered
                     bool indispensable = (getDefaultedAttr("essential", 0) == 1);
                     ChangeMeditation(0, 0, indispensable ? -1 : 0, indispensable ? 0 : -1);
                 }
-            } else  if (enter_time != 0 && (server::LevelTime - enter_time) >= MINTIME) {
+            } else  if (enter_time != -1 && (server::LevelTime - enter_time) >= MINTIME) {
                     // just meditated enough to mark hollow as engaged
                     bool indispensable = (getDefaultedAttr("essential", 0) == 1);
                     ChangeMeditation(0, 0, indispensable ? +1 : 0, indispensable ? 0 : +1);
-                    enter_time = 0;  // mark as registered
+                    enter_time = -1;  // mark as registered
             }
         }
     }
@@ -878,7 +899,7 @@
     if (whiteball == a) {
         // meditatist left hollow (warp, ...)
         whiteball = NULL;
-        if (enter_time == 0) {   // meditatist is registered
+        if (enter_time == -1) {   // meditatist is registered
             bool indispensable = (getDefaultedAttr("essential", 0) == 1);
             ChangeMeditation(0, 0, indispensable ? -1 : 0, indispensable ? 0 : -1);
         }

Added: trunk/src/stones/PolarSwitchStone.cc
===================================================================
--- trunk/src/stones/PolarSwitchStone.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones/PolarSwitchStone.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -0,0 +1,70 @@
+/*
+ * Copyright (C) 2006 Andreas Lochmann
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/PolarSwitchStone.hh"
+#include "laser.hh"
+
+
+namespace enigma {
+    PolarSwitchStone::PolarSwitchStone() : Stone () {
+    }
+
+    void PolarSwitchStone::setState(int extState) {
+        if (isDisplayable()) {
+            if (extState != state) {
+                state = ON - state;
+                MaybeRecalcLight(get_pos());
+                init_model();
+                performAction(state == ON);
+            }
+        } else
+            state = extState;
+    }
+
+    void PolarSwitchStone::init_model() {
+        set_model(ecl::strf("st-glass%s", state == ON ? "1" : "2"));
+    }
+
+    bool PolarSwitchStone::is_transparent (Direction d) const {
+        return state == ON;
+    }
+    
+    bool PolarSwitchStone::is_sticky(const Actor *actor) const {
+        return !actor->is_invisible();
+    }
+    
+    StoneResponse PolarSwitchStone::collision_response(const StoneContact &sc) {
+        if (sc.actor->is_invisible())
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+    
+    void PolarSwitchStone::actor_hit(const StoneContact &sc) {
+        toggleState();
+    }
+
+
+    DEF_TRAITS(PolarSwitchStone, "st_polarswitch", st_polarswitch);
+
+    BOOT_REGISTER_START
+        BootRegister(new PolarSwitchStone(), "st_polarswitch");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/PolarSwitchStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/PolarSwitchStone.hh
===================================================================
--- trunk/src/stones/PolarSwitchStone.hh	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones/PolarSwitchStone.hh	2008-03-02 16:06:46 UTC (rev 1058)
@@ -0,0 +1,54 @@
+/*
+ * Copyright (C) 2006 Andreas Lochmann
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef POLARSWITCH_HH
+#define POLARSWITCH_HH
+
+#include "stones.hh"
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class PolarSwitchStone : public Stone {
+        CLONEOBJ(PolarSwitchStone);
+        DECL_TRAITS;
+    private:
+        enum iState { OFF, ON };
+    public:
+        PolarSwitchStone();
+
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+
+        // Stone interface
+        virtual bool is_transparent (Direction d) const;
+        virtual bool is_sticky(const Actor *a) const;
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual void actor_hit(const StoneContact &sc);
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/PolarSwitchStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -756,7 +756,7 @@
             return Stone::message(m);
         }
         void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it-hammer")) {
+            if (player::WieldedItemIs (sc.actor, "it_hammer")) {
                 break_me();
             }
         }
@@ -784,7 +784,7 @@
         }
 
         void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it-hammer")) {
+            if (player::WieldedItemIs (sc.actor, "it_hammer")) {
                 break_me();
             }
         }

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones.hh	2008-03-02 16:06:46 UTC (rev 1058)
@@ -194,12 +194,12 @@
         virtual bool   is_floating() const { return false; }
         
         /*! Can laser beams pass through stone? Return is_floating() by default. */
-        virtual bool   is_transparent (Direction) const { 
+        virtual bool   is_transparent (Direction d) const { 
             return is_floating();
         }
         
         /*! Do actors get stuck in this stone? */
-        virtual bool is_sticky(const Actor *) const { 
+        virtual bool is_sticky(const Actor *a) const { 
             return !is_floating(); 
         }
 

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones_complex.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -528,7 +528,7 @@
         void actor_hit(const StoneContact &sc) {
             Actor *a = sc.actor;
 
-            if( state == ACTIVE && player::WieldedItemIs (a, "it-hammer")) {
+            if( state == ACTIVE && player::WieldedItemIs (a, "it_hammer")) {
                 state = BREAKING;
                 init_model();
             }
@@ -2929,7 +2929,7 @@
         }
         void actor_hit(const StoneContact &sc) {
             Actor *a = sc.actor;
-            if(a && state == BLINK && player::WieldedItemIs(a, "it-hammer")) {
+            if(a && state == BLINK && player::WieldedItemIs(a, "it_hammer")) {
                 state = BREAK;
                 init_model();
             }

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/stones_simple.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -626,7 +626,7 @@
         Stone_break(const char *kind) : BreakableStone(kind) { }
     private:
         bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it-hammer");
+            return player::WieldedItemIs (a, "it_hammer");
         }
     };
     DEF_TRAITSM(Stone_break, "INVALID", st_INVALID, MOVABLE_BREAKABLE);
@@ -674,7 +674,7 @@
         {}
     private:
         bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it-hammer");
+            return player::WieldedItemIs (a, "it_hammer");
         }
         virtual Value message(const Message &m) {
             if (m.message == "_trigger") {
@@ -719,7 +719,7 @@
             return "st-rock3_break-anim";
         }
         bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it-hammer");
+            return player::WieldedItemIs (a, "it_hammer");
         }
 
         void actor_hit(const StoneContact &sc) {
@@ -766,7 +766,7 @@
         bool may_be_broken_by(Actor *a) const {
             Value color = a->getAttr("color");
             return color && color == WHITE &&
-                player::WieldedItemIs (a, "it-hammer");
+                player::WieldedItemIs (a, "it_hammer");
         }
     };
     DEF_TRAITSM(Break_acwhite, "st-break_acwhite", st_break_acwhite, MOVABLE_BREAKABLE);
@@ -800,7 +800,7 @@
         bool may_be_broken_by(Actor *a) const {
             Value color = a->getAttr("color");
             return color && color == BLACK &&
-                player::WieldedItemIs (a, "it-hammer");
+                player::WieldedItemIs (a, "it_hammer");
         }
     };
     DEF_TRAITSM(Break_acblack, "st-break_acblack", st_break_acblack, MOVABLE_BREAKABLE);
@@ -916,7 +916,7 @@
                 }
             }
             else if (state == BRUSH) {
-                if (player::WieldedItemIs (sc.actor, "it-hammer")) {
+                if (player::WieldedItemIs (sc.actor, "it_hammer")) {
                     sound_event ("stonedestroy");
                     state = DESTROY;
                     set_anim("st-stone_break-anim");
@@ -1410,7 +1410,7 @@
 
 void FartStone::actor_hit(const StoneContact &sc) 
 {
-    if (player::WieldedItemIs (sc.actor, "it-hammer"))
+    if (player::WieldedItemIs (sc.actor, "it_hammer"))
         change_state(BREAKING);
     else
         change_state(FARTING);
@@ -2169,7 +2169,7 @@
         void actor_hit(const StoneContact &sc)
         {
             if (subtype != MAX_SUBTYPE) {
-                if (player::WieldedItemIs (sc.actor, "it-sword")) {
+                if (player::WieldedItemIs (sc.actor, "it_sword")) {
                     subtype += 1;
                     if (subtype == MAX_SUBTYPE) {
                         client::Msg_ShowText ("All right, we'll call it a draw", false, 4.0);
@@ -2191,32 +2191,6 @@
 }
 
 
-/* -------------------- Polarization Switch stone -------------------- */
-namespace
-{
-    class PolarSwitchStone : public OnOffStone {
-        CLONEOBJ(PolarSwitchStone);
-        DECL_TRAITS;
-    public:
-        PolarSwitchStone() : OnOffStone("st-polarswitch") {}
-    private:
-        void actor_hit(const StoneContact &sc) { set_on(!is_on()); }
-        void init_model() { set_model(is_on() ? "st-glass1" : "st-glass2"); }
-        bool is_transparent(Direction) const { return this->is_on(); }
-        void notify_onoff(bool) { MaybeRecalcLight(this->get_pos()); }
-
-        StoneResponse collision_response(const StoneContact &sc) {
-            if (sc.actor->is_invisible())
-                return STONE_PASS;
-            return Stone::collision_response(sc);
-        }
-
-        bool is_sticky (const Actor *actor) const { return !actor->is_invisible(); }
-    };
-    DEF_TRAITS(PolarSwitchStone, "st-polarswitch", st_polarswitch);
-}
-
-
 /* -------------------- Fire breakable stones -------------------- */
 
 /* These stones mimic the behaviour of the plain-looking stones in
@@ -2385,8 +2359,6 @@
     Register(new YinYangStone2);
     Register(new YinYangStone3);
 
-    Register(new PolarSwitchStone);
-
     Register(new Stone_firebreak);
     Register(new Stone_movefirebreak);
 }

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2008-03-02 14:07:22 UTC (rev 1057)
+++ trunk/src/world.cc	2008-03-02 16:06:46 UTC (rev 1058)
@@ -350,7 +350,7 @@
         unname(old);
     
     std::string unique_name = name;
-    if (server::EnigmaCompatibility >= 1.10 && name.size() > 0 && name[name.size() - 1] == '#') {
+    if (name.size() > 0 && name[name.size() - 1] == '#') {
         // auto name object with a unique name
         int i;
         for (i = 1; get_named(name + ecl::strf("%d",i)) != NULL; i++);
@@ -365,7 +365,7 @@
     ASSERT(obj, XLevelRuntime, "unname: no object given");
     if (Value v = obj->getAttr("name")) {
         m_objnames.remove(v.to_string());
-        obj->setAttr("name", "");   // TODO alist.hh add delete op
+        obj->setAttr("name", Value());
     }
 }
 
@@ -1816,6 +1816,15 @@
     }
     
     
+    if (dst == NULL && dstloc.layer == GRID_ITEMS) {
+        GridLoc altloc(GRID_STONES, dstloc.pos);
+        dst = GetObject(altloc);
+        if (!(dst->is_kind("st_blocker")))
+            // just use blocker stone instead of blocker item as substitution
+            dst = NULL;
+    }
+        
+        
     if (dst == NULL) {
         Log << ecl::strf("AddSignal: Invalid signal destination src=%i/%i-%d dest=%i/%i-%d msg='%s'\n",
             srcloc.pos.x, srcloc.pos.y, srcloc.layer, dstloc.pos.x, dstloc.pos.y, dstloc.layer, msg.c_str());
@@ -1827,9 +1836,10 @@
     Value dstValue(dst);
     
     if (dst->is_kind("st_blocker") || dst->is_kind("st_blocker_new") ||
-            dst->is_kind("it-blocker")) {
-        if (!dst->getAttr("name"))
+            dst->is_kind("it_blocker")) {
+        if (!dst->getAttr("name")) {
             NameObject(dst, ecl::strf("$!oxyd!blocker%d", dst->getId()));
+        }
         dstValue = dst->getAttr("name");
     }
     



From ral at mail.berlios.de  Sun Mar  2 17:22:57 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 2 Mar 2008 17:22:57 +0100
Subject: [Enigma-game-svn] r1059 - team_levelpacks/team_test_new_api
Message-ID: <200803021622.m22GMvYc006844@sheep.berlios.de>

Author: ral
Date: 2008-03-02 17:22:57 +0100 (Sun, 02 Mar 2008)
New Revision: 1059

Modified:
   team_levelpacks/team_test_new_api/ralT038_1.xml
Log:
Test Level new API:
- st_polarswtich update


Modified: team_levelpacks/team_test_new_api/ralT038_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT038_1.xml	2008-03-02 16:06:46 UTC (rev 1058)
+++ team_levelpacks/team_test_new_api/ralT038_1.xml	2008-03-02 16:22:57 UTC (rev 1059)
@@ -29,8 +29,8 @@
 ti["s"] = {"st_switch", target="lasers"}
 ti["W"] = {"st_laser_w", "laserw"}
 ti["w"] = {"st_switch", target="laserw"}
-ti["m"] = {"st_switch", target="pol#*", action="onoff"}
-ti["p"] = {"st-polarswitch", "pol#"}
+ti["m"] = {"st_switch", target="pol#*"}
+ti["p"] = {"st_polarswitch", "pol#"}
 
 ti["a"] = {"st_switch", target="sethammer"}
 ti["A"] = {"st_switch", target="sethammernew"}



From ral at mail.berlios.de  Wed Mar  5 22:27:12 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 5 Mar 2008 22:27:12 +0100
Subject: [Enigma-game-svn] r1060 - homepage/input
Message-ID: <200803052127.m25LRCCX009062@sheep.berlios.de>

Author: ral
Date: 2008-03-05 22:27:12 +0100 (Wed, 05 Mar 2008)
New Revision: 1060

Modified:
   homepage/input/stat-other.html
   homepage/input/table-hcp.html
   homepage/input/table-wr.html
Log:
Homepage:
- statistics February 2008 corrected - excluded Kevin


Modified: homepage/input/stat-other.html
===================================================================
--- homepage/input/stat-other.html	2008-03-02 16:22:57 UTC (rev 1059)
+++ homepage/input/stat-other.html	2008-03-05 21:27:12 UTC (rev 1060)
@@ -1,9 +1,9 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      73903 $$single_level_scores$$.
+      73526 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      13844 $$single_level_ratings$$ 4.89 $$and_distribution$$: 
+      13840 $$single_level_ratings$$ 4.89 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
@@ -17,6 +17,6 @@
         <tr><td class="num">7</td><td class="num">1580</td></tr>
         <tr><td class="num">8</td><td class="num">583</td></tr>
         <tr><td class="num">9</td><td class="num">231</td></tr>
-        <tr><td class="num">10</td><td class="num">107</td></tr>
+        <tr><td class="num">10</td><td class="num">103</td></tr>
       </table>
   </div>

Modified: homepage/input/table-hcp.html
===================================================================
--- homepage/input/table-hcp.html	2008-03-02 16:22:57 UTC (rev 1059)
+++ homepage/input/table-hcp.html	2008-03-05 21:27:12 UTC (rev 1060)
@@ -2,137 +2,137 @@
     <caption>$$Handicap_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-139.9</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -83.1</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num"> -82.8</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -71.6</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -61.4</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -60.1</td><td class="left">'Malla'</td></tr>
-     <tr><td class="num"> -57.1</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -49.6</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -47.1</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -44.2</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -43.4</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -41.3</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -37.6</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -33.8</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -29.5</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -28.7</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -27.9</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -27.6</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -24.2</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -22.4</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -21.5</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -20.0</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num">-140.7</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -83.8</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num"> -83.5</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num"> -72.0</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -61.6</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -60.7</td><td class="left">'Malla'</td></tr>
+     <tr><td class="num"> -57.6</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -50.2</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -47.5</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -44.8</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -43.6</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -41.8</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -38.2</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -34.3</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -29.8</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -29.0</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -28.1</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -28.0</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -24.3</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -22.6</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -21.7</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -20.2</td><td class="left">'Raoul'</td></tr>
      <tr><td class="num"> -19.9</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -16.4</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -15.7</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -14.4</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -12.7</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num"> -12.1</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num">  -8.9</td><td class="left">'joseba'</td></tr>
-     <tr><td class="num">  -8.7</td><td class="left">'Daisy'</td></tr>
-     <tr><td class="num">  -8.5</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -4.8</td><td class="left">'Daniel'</td></tr>
-     <tr><td class="num">  -3.5</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">  -2.0</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">  -1.7</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">  -1.6</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">   1.2</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">   1.3</td><td class="left">'Tobias'</td></tr>
-     <tr><td class="num">   2.2</td><td class="left">'Guglielmo'</td></tr>
-     <tr><td class="num">   3.2</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">   3.5</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num"> -16.6</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -16.0</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -14.7</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -13.0</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num"> -12.2</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num">  -9.1</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">  -8.9</td><td class="left">'Daisy'</td></tr>
+     <tr><td class="num">  -8.8</td><td class="left">'Iceshark7'</td></tr>
+     <tr><td class="num">  -5.0</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">  -3.7</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num">  -2.3</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">  -2.0</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">  -1.7</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   0.8</td><td class="left">'para_doks'</td></tr>
+     <tr><td class="num">   0.9</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   2.1</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   3.0</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   3.3</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   3.4</td><td class="left">'serpent'</td></tr>
      <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
-     <tr><td class="num">   3.7</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   5.6</td><td class="left">'Austin'</td></tr>
-     <tr><td class="num">   8.1</td><td class="left">'mrduke'</td></tr>
-     <tr><td class="num">  10.6</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  11.2</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">   5.5</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">   7.7</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">  10.3</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  11.1</td><td class="left">'Tiza'</td></tr>
      <tr><td class="num">  12.0</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  12.6</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">  12.8</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  14.0</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  12.3</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">  12.7</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">  13.8</td><td class="left">'Sim_Ed'</td></tr>
      <tr><td class="num">  14.1</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  14.5</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  14.2</td><td class="left">'shoki'</td></tr>
      <tr><td class="num">  14.6</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  18.9</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  21.6</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  21.8</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  22.0</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  23.0</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  23.0</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  23.7</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  24.6</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  24.8</td><td class="left">'Hans-HD'</td></tr>
-     <tr><td class="num">  25.4</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">  26.7</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  26.9</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  28.0</td><td class="left">'biotopa'</td></tr>
-     <tr><td class="num">  28.7</td><td class="left">'oblo'</td></tr>
-     <tr><td class="num">  29.0</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  29.3</td><td class="left">'geembo_90'</td></tr>
-     <tr><td class="num">  30.1</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  30.6</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  18.6</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  21.4</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  21.7</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  21.9</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  22.8</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  22.9</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  23.6</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  24.2</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  24.7</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  25.3</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  26.6</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  26.6</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  27.9</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  28.6</td><td class="left">'oblo'</td></tr>
+     <tr><td class="num">  28.8</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  29.1</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  30.0</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  30.4</td><td class="left">'Melanie'</td></tr>
      <tr><td class="num">  30.6</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  30.8</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  30.7</td><td class="left">'Vinksu'</td></tr>
      <tr><td class="num">  31.0</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  31.2</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  31.5</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  31.6</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  32.6</td><td class="left">'Antonio EE'</td></tr>
-     <tr><td class="num">  34.3</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  34.5</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  34.5</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  34.7</td><td class="left">'Kosby'</td></tr>
-     <tr><td class="num">  36.3</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  37.9</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  31.0</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  31.3</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  31.4</td><td class="left">'Davacardo'</td></tr>
+     <tr><td class="num">  32.5</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  34.1</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  34.2</td><td class="left">'MicWa'</td></tr>
+     <tr><td class="num">  34.3</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  34.6</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  36.4</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  37.8</td><td class="left">'Drotten'</td></tr>
      <tr><td class="num">  38.3</td><td class="left">'Archcorenth'</td></tr>
      <tr><td class="num">  38.5</td><td class="left">'Harry Lim'</td></tr>
      <tr><td class="num">  38.7</td><td class="left">'B-man'</td></tr>
      <tr><td class="num">  38.9</td><td class="left">'Angolino'</td></tr>
      <tr><td class="num">  39.4</td><td class="left">'mecke'</td></tr>
      <tr><td class="num">  39.7</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  40.2</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  40.1</td><td class="left">'Tiger'</td></tr>
      <tr><td class="num">  40.8</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  41.1</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  41.0</td><td class="left">'Vlad'</td></tr>
      <tr><td class="num">  42.1</td><td class="left">'Momcat'</td></tr>
-     <tr><td class="num">  42.3</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  42.2</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  42.6</td><td class="left">'Breezy'</td></tr>
      <tr><td class="num">  42.7</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  42.7</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  44.7</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  44.5</td><td class="left">'Tarim'</td></tr>
      <tr><td class="num">  45.1</td><td class="left">'IntKecsk'</td></tr>
      <tr><td class="num">  46.5</td><td class="left">'ntaeijr'</td></tr>
      <tr><td class="num">  46.8</td><td class="left">'mhatta'</td></tr>
      <tr><td class="num">  48.3</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  48.9</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  48.7</td><td class="left">'Valkyrie2'</td></tr>
      <tr><td class="num">  49.1</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  50.1</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  50.0</td><td class="left">'jdcampo'</td></tr>
      <tr><td class="num">  50.6</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  51.5</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  51.5</td><td class="left">'Vaily'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'brynn'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'Vaily'</td></tr>
      <tr><td class="num">  52.6</td><td class="left">'Turbogurk'</td></tr>
      <tr><td class="num">  52.6</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  52.7</td><td class="left">'Cyphase'</td></tr>
-     <tr><td class="num">  55.1</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  55.9</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  61.2</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  52.8</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  55.0</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  55.8</td><td class="left">'Adonica'</td></tr>
+     <tr><td class="num">  61.3</td><td class="left">'Asbel'</td></tr>
      <tr><td class="num">  61.5</td><td class="left">'Mecki'</td></tr>
      <tr><td class="num">  63.1</td><td class="left">'Meeve'</td></tr>
      <tr><td class="num">  65.7</td><td class="left">'ael'</td></tr>
      <tr><td class="num">  66.1</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  66.5</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  66.4</td><td class="left">'schmusi20'</td></tr>
      <tr><td class="num">  67.1</td><td class="left">'Alf'</td></tr>
      <tr><td class="num">  68.7</td><td class="left">'Magnus and Susi'</td></tr>
      <tr><td class="num">  69.8</td><td class="left">'xmouse'</td></tr>
      <tr><td class="num">  71.5</td><td class="left">'Joona'</td></tr>
      <tr><td class="num">  71.7</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  73.6</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  73.7</td><td class="left">'Dvorhagen'</td></tr>
      <tr><td class="num">  74.7</td><td class="left">'jojo'</td></tr>
      <tr><td class="num">  74.8</td><td class="left">'AsuCaga'</td></tr>
      <tr><td class="num">  79.5</td><td class="left">'AkRa'</td></tr>
      <tr><td class="num">  80.0</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  84.8</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  84.7</td><td class="left">'Miel56'</td></tr>
      <tr><td class="num">  89.8</td><td class="left">'The red O'</td></tr>
      <tr><td class="num">  92.2</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-wr.html
===================================================================
--- homepage/input/table-wr.html	2008-03-02 16:22:57 UTC (rev 1059)
+++ homepage/input/table-wr.html	2008-03-05 21:27:12 UTC (rev 1060)
@@ -2,20 +2,19 @@
     <caption>$$Worldrecord_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">916</td><td class="num">259</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">201</td><td class="num">111</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">144</td><td class="num">127</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num">931</td><td class="num">260</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">202</td><td class="num">112</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">145</td><td class="num">128</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num"> 77</td><td class="num"> 50</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 60</td><td class="num"> 54</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 56</td><td class="num"> 53</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 55</td><td class="num"> 31</td><td class="left">'Malla'</td></tr>
-    <tr><td class="num"> 40</td><td class="num"> 38</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 61</td><td class="num"> 55</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num"> 58</td><td class="num"> 55</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 57</td><td class="num"> 33</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num"> 41</td><td class="num"> 38</td><td class="left">'Django'</td></tr>
     <tr><td class="num"> 38</td><td class="num"> 31</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 36</td><td class="num"> 27</td><td class="left">'Zekobah'</td></tr>
     <tr><td class="num"> 35</td><td class="num"> 29</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num"> 33</td><td class="num"> 31</td><td class="left">'joseba'</td></tr>
     <tr><td class="num"> 28</td><td class="num"> 27</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num"> 25</td><td class="num">  8</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num"> 23</td><td class="num"> 19</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 23</td><td class="num"> 20</td><td class="left">'ged'</td></tr>
     <tr><td class="num"> 21</td><td class="num"> 15</td><td class="left">'Emmanuel'</td></tr>
@@ -39,15 +38,15 @@
     <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo' + 'U-Punkt'</td></tr>
     <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias' + 'Wuzzy'</td></tr>
     <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Angolino'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Cyphase' + 'Thomas' + 'Ralf'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Cyphase' + 'Thomas' + 'Chris' + 'Ralf'</td></tr>
     <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Bent' + 'Craven'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF' + 'Chris'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Daisy'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Stephanie' + 'Daisy'</td></tr>
     <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Neophilus' + 'Andy'</td></tr>
     <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'Daniel' + 'oblo' + 'Stephanie'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'Daniel' + 'oblo'</td></tr>
     <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Drotten' + 'Sim_Ed' + 'hendrik' + 'Austin' + 'Snaily' + 'Ingo' + 'serpent'</td></tr>
     <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Gorn' + 'Nat'</td></tr>
     <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'ntaeijr' + 'Tiger' + 'Zak' + 'Tiza' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'jdcampo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Vaily' + 'Hans-HD' + 'krazy62' + 'JuSt'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'shoki' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'mecke' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'shoki' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'mecke' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
   </table>



From ral at mail.berlios.de  Sun Mar  9 14:36:46 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 9 Mar 2008 14:36:46 +0100
Subject: [Enigma-game-svn] r1061 - in trunk: data data/schemas src src/stones
Message-ID: <200803091336.m29DakvM027128@sheep.berlios.de>

Author: ral
Date: 2008-03-09 14:36:45 +0100 (Sun, 09 Mar 2008)
New Revision: 1061

Added:
   trunk/src/stones/LaserSwitch.cc
   trunk/src/stones/LaserSwitch.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/Object.cc
   trunk/src/ObjectValidator.cc
   trunk/src/laser.cc
   trunk/src/st_switches.cc
   trunk/src/stones/LaserStone.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering LaserSwitch
- reengineering laserswitch:
  - rename to st_laserswitch
  - made full StateObject instead of LaserTimeSwitchBase
  - added support for setting a laserswitch into a laser beam
- finalize fix bug #11112 - recursive laser/laserswitch
- add support of state dependent target/action in ObjectValidator
- add lua hook "postinit()" that is called after complete initialization


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/data/api1init.lua	2008-03-09 13:36:45 UTC (rev 1061)
@@ -69,6 +69,7 @@
     st_laser_s = "st-laser-s",
     st_laser_e = "st-laser-e",
     st_laser_n = "st-laser-n",
+    st_laserswitch = "st-laserswitch",
     st_polarswitch = "st-polarswitch",
     st_oxyd = "st-oxyd",
     st_switch = "st-switch",

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/data/schemas/objects.xml	2008-03-09 13:36:45 UTC (rev 1061)
@@ -132,6 +132,11 @@
     <object name="st_laser_n">
       <attr name="orientation" value="3"/>
     </object>
+    <object name="st_laserswitch">
+      <attr name="state" rw="r"/>
+      <msg name="_init"/>
+      <msg name="_model_reanimated"/>
+    </object>
     <object name="st_polarswitch">
       <msg name="on"/>
       <msg name="off"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/Makefile.am	2008-03-09 13:36:45 UTC (rev 1061)
@@ -213,6 +213,8 @@
 	stones/KeySwitch.hh	\
 	stones/LaserStone.cc	\
 	stones/LaserStone.hh	\
+	stones/LaserSwitch.cc	\
+	stones/LaserSwitch.hh	\
 	stones/OxydStone.cc	\
 	stones/OxydStone.hh	\
 	stones/PolarSwitchStone.cc	\

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/Object.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -237,8 +237,9 @@
         TokenList actions = getAttr("action");
         if (Value state = getAttr("state")) {
             int s = state;
-            if (Value stateTargets = getAttr(ecl::strf("target_%d", s)))
+            if (Value stateTargets = getAttr(ecl::strf("target_%d", s))) {
                 targets = stateTargets;
+            }
             if (Value actionTargets = getAttr(ecl::strf("action_%d", s)))
                 actions = actionTargets;
         }
@@ -254,7 +255,7 @@
                         && lua::IsFunc(lua::LevelState(), tit->get_string())) {
                     // it is an existing callback function
                     if (lua::CallFunc(lua::LevelState(), tit->get_string(), messageValue, this) != lua::NO_LUAERROR) {
-                        throw XLevelRuntime(string("callback '") + tit->get_string() + "' failed:\n"+lua::LastError(lua::LevelState()));
+                        throw XLevelRuntime(std::string("callback '") + tit->get_string() + "' failed:\n"+lua::LastError(lua::LevelState()));
                     }
                 }
                 // else ignore this no longer valid target

Modified: trunk/src/ObjectValidator.cc
===================================================================
--- trunk/src/ObjectValidator.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/ObjectValidator.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -181,7 +181,12 @@
         if (kind == NULL) {
             return true;    // object is not under validator control - allow write
         }
-        // TODO search specific sub kind if necessary
+        // state dependent target/action support
+        if (key.find("target_") == 0)
+            key = "target";
+        else if (key.find("action_") == 0)
+            key = "action";
+
         return kind->validateAttributeWrite(key, val);
     }
     
@@ -190,7 +195,12 @@
         if (kind == NULL) {
             return true;    // object is not under validator control
         }
-        // TODO search specific sub kind if necessary
+        // state dependent target/action support
+        if (key.find("target_") == 0)
+            key = "target";
+        else if (key.find("action_") == 0)
+            key = "action";
+
         return kind->validateAttributeRead(key);
     }
     
@@ -208,7 +218,13 @@
         if (kind == NULL) {
             return Value(Value::DEFAULT);    // object is not under validator control
         }
-        // TODO search specific sub kind if necessary
+        
+        // state dependent target/action support
+        if (key.find("target_") == 0)
+            key = "target";
+        else if (key.find("action_") == 0)
+            key = "action";
+
         return kind->getDefaultValue(key);
     }
     

Modified: trunk/src/laser.cc
===================================================================
--- trunk/src/laser.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/laser.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -663,7 +663,7 @@
 
 void PerformRecalcLight(bool isInit) {
     if (light_recalc_scheduled) {
-//        light_recalc_scheduled = false;    // this is the right place - but we have first to fix some object like hammer,...
+        light_recalc_scheduled = false;    // this is the right place - but we have first to fix some object like hammer,...
         PhotoCell::notify_start();
         GridObject::preLaserRecalc();
         LaserBeam::kill_all();
@@ -673,7 +673,7 @@
             // do not cause actions on initial laser beam generation
             GridObject::postLaserRecalc();
         PhotoCell::notify_finish();
-        light_recalc_scheduled = false;
+//        light_recalc_scheduled = false;
     }
 }
 

Modified: trunk/src/st_switches.cc
===================================================================
--- trunk/src/st_switches.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/st_switches.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -65,19 +65,6 @@
         void change_state(State newstate);
     };
 
-
-    class LaserSwitch : public LaserTimeSwitchBase {
-        CLONEOBJ(LaserSwitch);
-    public:
-        LaserSwitch();
-        virtual Value message(const Message &m);
-    private:
-        // LaserTimeSwitchBase interface
-        const char *get_active_model() const;
-        const char *get_inactive_model() const;
-    };
-
-
     class LaserTimeSwitch : public LaserTimeSwitchBase {
         CLONEOBJ(LaserTimeSwitch);
     public:
@@ -169,27 +156,6 @@
     return -1; // we have no timer delay
 }
 
-/* ---------- LaserSwitch ---------- */
-
-LaserSwitch::LaserSwitch()
-: LaserTimeSwitchBase("st-laserswitch")
-{}
-
-Value LaserSwitch::message(const Message &m) {
-    if (m.message == "_model_reanimated") {
-        RecalcLight(); // we may be swapped out of a laser beam
-    }
-    return LaserTimeSwitchBase::message(m);
-}
-
-const char *LaserSwitch::get_active_model() const { 
-    return "st-laserswitch1"; 
-}
-
-const char *LaserSwitch::get_inactive_model() const { 
-    return "st-laserswitch0"; 
-}
-
 /* ---------- LaserTimeSwitch ---------- */
 
 LaserTimeSwitch::LaserTimeSwitch(const char *kind)
@@ -237,7 +203,6 @@
 
 void InitSwitches()
 {
-    Register (new LaserSwitch);
     Register (new LaserTimeSwitch);
     Register (new TimeSwitch);
 }

Modified: trunk/src/stones/LaserStone.cc
===================================================================
--- trunk/src/stones/LaserStone.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/stones/LaserStone.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -34,7 +34,7 @@
         }
     }
 
-    LaserStone::LaserStone (Direction dir) : Stone("st_laser") {
+    LaserStone::LaserStone(Direction dir) : Stone("st_laser") {
         setAttr("orientation", Value(dir));
     }
     

Added: trunk/src/stones/LaserSwitch.cc
===================================================================
--- trunk/src/stones/LaserSwitch.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/stones/LaserSwitch.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -0,0 +1,92 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/LaserSwitch.hh"
+
+#include "main.hh"
+#include "util.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    LaserSwitch::LaserSwitch() : Stone("st_laserswitch") {
+        state = NEW;
+    }
+
+    std::string LaserSwitch::getClass() const {
+        return "st_laserswitch";
+    }
+
+    Value LaserSwitch::message(const Message &m) {
+        if (m.message == "_model_reanimated") {
+            // we are swapped in or out of a laser beam
+            init_model();  // replace bogus model
+        } else if (m.message == "_init") {
+            if (updateCurrentLightDirs() != NODIRBIT) {
+                state = ON;
+                init_model();
+            }
+        }
+        return Stone::message(m);
+    }
+    
+    int LaserSwitch::externalState() const {
+        return state % 2;     // report initial state as OFF
+    }
+    
+    void LaserSwitch::setState(int extState) {
+        // the state cannot be set externally - just by laserlight
+    }
+    
+    void LaserSwitch::init_model() {
+        set_model(ecl::strf("st-laserswitch%d", state == ON ? 1 : 0));
+    }
+    
+    void LaserSwitch::on_creation(GridPos p) {
+        int newState = (updateCurrentLightDirs() != NODIRBIT) ? ON : OFF;
+        if (state == NEW) {
+            // no actions on initial grid positioning of a laserswitch, just set state
+            state = newState;
+        } else if (newState != state) {
+            lightDirChanged(NODIRBIT, NODIRBIT);  // perform actions and init model
+        }
+        activatePhoto();
+
+        Stone::on_creation(p);
+    }
+    
+    void LaserSwitch::lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs) {
+        if (state == OFF && oldDirs == 0) {
+            state = ON;
+            init_model();
+//            sound_event ("?");
+            performAction(true);
+        } else if (state == ON && newDirs == 0) {
+            state = OFF;
+            init_model();
+//            sound_event ("?");
+            performAction(false);
+        }
+    }
+
+    BOOT_REGISTER_START
+        BootRegister(new LaserSwitch(), "st_laserswitch");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/LaserSwitch.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/LaserSwitch.hh
===================================================================
--- trunk/src/stones/LaserSwitch.hh	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/stones/LaserSwitch.hh	2008-03-09 13:36:45 UTC (rev 1061)
@@ -0,0 +1,59 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef LASERSWITCH_HH
+#define LASERSWITCH_HH
+
+#include "stones.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     * 
+     * 
+     */
+    class LaserSwitch : public Stone {
+        CLONEOBJ(LaserSwitch);
+    private:
+        enum iState {
+            OFF, 
+            ON,
+            NEW      ///< initial off LaserSwitch
+        };
+
+    public:
+        LaserSwitch();
+
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void on_creation(GridPos p);
+        virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/LaserSwitch.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2008-03-05 21:27:12 UTC (rev 1060)
+++ trunk/src/world.cc	2008-03-09 13:36:45 UTC (rev 1061)
@@ -1619,6 +1619,13 @@
     level->preparing_level = false;
     server::WorldInitialized = true;
 
+    if (lua::IsFunc(lua::LevelState(), "postinit")) {
+        // it is an existing callback function
+        if (lua::CallFunc(lua::LevelState(), "postinit", Value(), NULL) != lua::NO_LUAERROR) {
+            throw XLevelRuntime(std::string("callback 'postinit' failed:\n") + lua::LastError(lua::LevelState()));
+        }
+    }
+
     return true;
 }
 



From ral at mail.berlios.de  Sun Mar  9 15:09:51 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 9 Mar 2008 15:09:51 +0100
Subject: [Enigma-game-svn] r1062 - team_levelpacks/team_test_new_api
Message-ID: <200803091409.m29E9pmK031420@sheep.berlios.de>

Author: ral
Date: 2008-03-09 15:09:50 +0100 (Sun, 09 Mar 2008)
New Revision: 1062

Added:
   team_levelpacks/team_test_new_api/ralT039_1.xml
Modified:
   team_levelpacks/team_test_new_api/ralT030_1.xml
Log:
Test Level new API:
- st_laserswitch update


Modified: team_levelpacks/team_test_new_api/ralT030_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT030_1.xml	2008-03-09 13:36:45 UTC (rev 1061)
+++ team_levelpacks/team_test_new_api/ralT030_1.xml	2008-03-09 14:09:50 UTC (rev 1062)
@@ -36,7 +36,7 @@
 
 
 ti["w"] = ti[" "] .. {"st_switch", target="Laser", action="toggle"}
-ti["k"] = ti[" "] .. {"st-laserswitch"}
+ti["k"] = ti[" "] .. {"st_laserswitch"}
 ti["L"] = ti[" "] .. {"st_laser_n", "Laser"}
 
 ti["+"] = ti[" "] .. {"st-grate1"}

Added: team_levelpacks/team_test_new_api/ralT039_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-09 13:36:45 UTC (rev 1061)
+++ team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-09 14:09:50 UTC (rev 1062)
@@ -0,0 +1,86 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test Laserswitcy new API" el:subtitle="" el:id="20080309ral277"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2007 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl-sahara"}
+
+ti["s"] = {"st-swap"}
+ti["W"] = {"st-wood"}
+
+ti["A"] = {"#ac-blackball"}
+
+ti["k"] = {"st_laserswitch", target="LaserK"}
+ti["L"] = {"st_laser_n", "LaserL"}
+ti["w"] = {"st_switch", target="LaserL"}
+ti["K"] = {"st_laser_n", "LaserK"}
+
+ti["m"] = {"st_laserswitch", target="LaserM"}
+ti["M"] = {"st_laser_w", "LaserM", state=ON}
+
+ti["n"] = {"st_laserswitch", target="LaserN"}
+ti["N"] = {"st_laser_w", "LaserN", state=OFF}
+ti["o"] = {"st_switch", target="LaserN",action_1="on", action_0="off"}
+
+ti["P"] = {"st_laser_e", "LaserP"}
+ti["Q"] = {"st_switch", target="LaserP"}
+ti["p"] = {"st_laserswitch", "newlaserswitch", target="LaserR"}
+ti["q"] = {"st_switch", target="setlaserswitch"}
+ti["R"] = {"st_laser_e", "LaserR"}
+
+w, h = wo(ti, " ", {
+"                    ",
+"              sk   K",
+"     W              ",
+"  m     M     wL    ",
+"                    ",
+"          A         ",
+"        o           ",
+"  n     N           ",
+"                    ",
+"                    ",
+"                    ",
+"           Qq     R ",
+"           P        "
+})
+
+function setlaserswitch()
+    wo[no["LaserP"] + {4,0}] = ti["p"]
+    -- the new laserswitch will not cause an action if directly illuminated
+    -- do it manually if we have need of
+    if (no["newlaserswitch"]["state"] == ON) then
+        no["LaserR"]:on()
+    else
+        no["LaserR"]:off()
+    end
+end
+
+function postinit()
+    no["LaserN"]:on()
+end
+  
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>
+


Property changes on: team_levelpacks/team_test_new_api/ralT039_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native



From ral at mail.berlios.de  Fri Mar 14 00:27:31 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 14 Mar 2008 00:27:31 +0100
Subject: [Enigma-game-svn] r1063 - in trunk: data data/schemas src src/stones
Message-ID: <200803132327.m2DNRVvl011426@sheep.berlios.de>

Author: ral
Date: 2008-03-14 00:27:30 +0100 (Fri, 14 Mar 2008)
New Revision: 1063

Added:
   trunk/src/stones/TimerStone.cc
   trunk/src/stones/TimerStone.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/items.cc
   trunk/src/oxyd.cc
   trunk/src/stones/LaserStone.cc
   trunk/src/stones_complex.cc
   trunk/src/stones_internal.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering TimerStone
- reengineering timer:
  - rename to st_timer
  - made full StateObject instead off OnOffStone
- remove OnOffStone
- fix sending initial actions on pressed triggers for DAT 
  (doit just on Enigma for < 1.10)
- fix wormhole, magnet: add update of global range, strength values on
  grid set
- fix stoneimpulse for compatibility != ENIGMA: accept signals


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/data/api1init.lua	2008-03-13 23:27:30 UTC (rev 1063)
@@ -75,6 +75,7 @@
     st_switch = "st-switch",
     st_switch_black = "st-switch_black",
     st_switch_white = "st-switch_white",
+    st_timer = "st-timer",
     st_window = "st-window"
 }
 
@@ -180,7 +181,7 @@
              or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
              or (_obj_name == "it-magnet-off") or (_obj_name == "it-wormhole")
              or (_obj_name == "it-wormhole-off") or (_obj_name == "st-laser")
-             or (_obj_name == "st-polarswitch") then
+             or (_obj_name == "st-polarswitch") or (_obj_name == "st-timer") then
          if key == "on" then
 	     _key = "state"   -- new attr name
 	 end
@@ -233,6 +234,9 @@
         _key = "destination"
         _val = d
      end
+     if key == "invisible" then
+         if val == 1 then _val = true else _val = false end
+     end
      enigma._SetAttrib(obj, _key, _val)
 end
 
@@ -245,7 +249,7 @@
              or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
              or (_obj_name == "it-magnet-off")  or (_obj_name == "it-wormhole")
              or (_obj_name == "it-wormhole-off")  or (_obj_name == "st-laser")
-             or (_obj_name == "st-polarswitch") then
+             or (_obj_name == "st-polarswitch")  or (_obj_name == "st-timer") then
          if key == "on" then
 	     _key = "state"
 	     end

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/data/schemas/objects.xml	2008-03-13 23:27:30 UTC (rev 1063)
@@ -9,6 +9,8 @@
     <attr name="instant" type="bool" default="false" rw="rw"/>
     <attr name="interval" type="double" default="1" rw="rw"/>
     <attr name="inverse" type="bool" default="false" rw="rw"/>
+    <attr name="invisible" type="bool" default="false" rw="rw"/>
+    <attr name="loop" type="bool" default="true" rw="rw"/>
     <attr name="name" type="string" default="nil" rw="rw"/>
     <attr name="orientation" type="int" default="0" min="0" max="3" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
@@ -155,5 +157,14 @@
     <object name="st_switch_white">
       <attr name="color" value="1"/>
     </object>
+    <object name="st_timer">
+      <attr name="invisible"/>
+      <attr name="interval"/>
+      <attr name="loop"/>
+      <attr name="state" default="1"/>
+      <msg name="on"/>
+      <msg name="off"/>
+      <msg name="signal"/>
+    </object>
   </zoo>
 </objects>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/Makefile.am	2008-03-13 23:27:30 UTC (rev 1063)
@@ -221,6 +221,8 @@
 	stones/PolarSwitchStone.hh	\
 	stones/Switch.cc	\
 	stones/Switch.hh	\
+	stones/TimerStone.cc	\
+	stones/TimerStone.hh	\
 	stones/WindowStone.cc	\
 	stones/WindowStone.hh
 

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/items.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -1426,7 +1426,7 @@
             
             // old Enigma versions did issue performAction what is incompatible
             updateIState(countActors(),
-                    server::EnigmaCompatibility >= 1.10 && server::GameCompatibility == GAMET_ENIGMA); 
+                    server::EnigmaCompatibility >= 1.10 || server::GameCompatibility != GAMET_ENIGMA); 
             return Value();
         } else if (m.message == "_jumping" ) {
             updateIState(m.value.to_bool() ? -1 : +1);
@@ -1738,9 +1738,12 @@
     }
     
     void Magnet::on_creation(GridPos p) {
-        double range = getDefaultedAttr("range", server::MagnetRange);
-        squareRange = range * range;
-        correctedStrength = 0.6 * (double)getDefaultedAttr("strength", server::MagnetForce);
+        if (getAttr("range").getType() == Value::NIL) {
+            squareRange = server::MagnetRange * server::MagnetRange;
+        }
+        if (getAttr("strength").getType() == Value::NIL) {
+            correctedStrength = 0.6 * server::MagnetForce;
+        }
 
         AddForceField(this);
         Item::on_creation(p);
@@ -1848,8 +1851,8 @@
             squareRange = range * range;
         } else if (key == "strength") {
             correctedStrength = 0.6 * ((val.getType() == Value::NIL) ? server::WormholeForce : (double)val);
-        } else
-            Item::setAttr(key, val);
+        }
+        Item::setAttr(key, val);
     }
     
     int WormHole::externalState() const {
@@ -1871,6 +1874,12 @@
     
     void WormHole::on_creation (GridPos p) {
         Item::on_creation (p);
+        if (getAttr("range").getType() == Value::NIL) {
+            squareRange = server::WormholeRange * server::WormholeRange;
+        }
+        if (getAttr("strength").getType() == Value::NIL) {
+            correctedStrength = 0.6 * server::WormholeForce;
+        }
         if (state % 2 == 1)
             AddForceField(this);
     }

Modified: trunk/src/oxyd.cc
===================================================================
--- trunk/src/oxyd.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/oxyd.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -279,14 +279,14 @@
 Stone *OxydLoader::make_timer (int x, int y)
 {
     const OscillatorMap &oscillators = level.getOscillators(config.gamemode);
-    Stone *st = MakeStone ("st-timer");
+    Stone *st = MakeStone ("st_timer");
     st->setAttr("interval", Value(0.2));
 
     Block block(x, y);
     OscillatorMap::const_iterator i = oscillators.find(block);
     if (i != oscillators.end()) {
         const Oscillator &o = i->second;
-        st->setAttr("on", Value(o.getOn()));
+        st->setAttr("state", Value(o.getOn()) ? 1 : 0);
         double interval = (1 + o.getPeriod()) * config.timer_factor;
         st->setAttr("interval", Value(interval));
     }

Modified: trunk/src/stones/LaserStone.cc
===================================================================
--- trunk/src/stones/LaserStone.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones/LaserStone.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -132,6 +132,7 @@
     void LaserStone::on_removal(GridPos p) {
         GameTimer.remove_alarm(this);
         state &= 1;
+        Stone::on_removal(p);
     }
     
     DirectionBits LaserStone::emissionDirections() const {

Added: trunk/src/stones/TimerStone.cc
===================================================================
--- trunk/src/stones/TimerStone.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones/TimerStone.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -0,0 +1,93 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/TimerStone.hh"
+
+//#include "main.hh"
+#include "util.hh"
+#include "world.hh"
+
+namespace enigma {
+    
+    TimerStone::TimerStone() : Stone("st_timer") {
+        state = ON_TRUE;
+    }
+    
+    std::string TimerStone::getClass() const {
+        return "st_timer";
+    }
+    
+    int TimerStone::externalState() const {
+        return state == 0 ? 0 : 1;
+    }
+    
+    void TimerStone::setState(int extState) {
+        if (isDisplayable()) {
+            if (extState != externalState()) {
+                state = extState;
+                if (extState == 1) {
+                    updateAlarm();
+                } else {
+                    GameTimer.remove_alarm(this);
+                }
+            }
+        } else
+            state = extState;
+    }
+    
+    void TimerStone::init_model() {
+        if (getAttr("invisible").to_bool()) {
+            set_model("invisible");
+        } else {
+            set_model(state == 0 ? "st-timeroff" : "st-timer");
+        }
+    }
+    
+    void TimerStone::on_creation (GridPos p) {
+        updateAlarm();
+        Stone::on_creation(p);
+    }
+    
+    void TimerStone::on_removal(GridPos p) {
+        GameTimer.remove_alarm(this);
+        state = OFF;
+        Stone::on_removal(p);
+    }
+    
+    void TimerStone::alarm() {
+        bool actionValue = (state == ON_TRUE);
+        state = 3 - state;   // toggle between ON_TRUE and ON_FALSE
+        if(!getAttr("loop").to_bool())
+            setState(OFF);
+            
+        performAction(actionValue);
+    }
+    
+    void TimerStone::updateAlarm() {
+        if (state > 0)
+            GameTimer.set_alarm(this, (double)getAttr("interval"), getAttr("loop").to_bool());
+    }
+
+
+    BOOT_REGISTER_START
+        BootRegister(new TimerStone(), "st_timer");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/TimerStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/TimerStone.hh
===================================================================
--- trunk/src/stones/TimerStone.hh	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones/TimerStone.hh	2008-03-13 23:27:30 UTC (rev 1063)
@@ -0,0 +1,64 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef TIMERSTONE_HH
+#define TIMERSTONE_HH
+
+#include "stones.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     * 
+     * 
+     */
+    class TimerStone : public Stone, public TimeHandler {
+        CLONEOBJ(TimerStone);
+    private:
+        enum iState {
+            OFF, 
+            ON_TRUE,      ///< timer is active, next action value is true
+            ON_FALSE      ///< timer is active, next action value is false
+        };
+
+    public:
+        TimerStone();
+
+        // Object interface
+        virtual std::string getClass() const;
+        
+        // StateObject interface
+        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void on_creation(GridPos p);
+        virtual void on_removal(GridPos p);
+        
+        // TimeHandler interface
+        virtual void alarm();
+
+    private:
+        void updateAlarm();
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/TimerStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones_complex.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -1680,7 +1680,7 @@
                 return Value();
             }
             else if (m.message == "signal" && (to_double(m.value) != 0 || 
-                    (server::EnigmaCompatibility < 1.10 && m.value.getType() == Value::NIL))) { // hack for old trigger without value
+                    (server::EnigmaCompatibility < 1.10 /*&& m.value.getType() == Value::NIL*/))) { // hack for old trigger without value
                 incoming = NODIR;
                 change_state (PULSING);
                 return Value();

Modified: trunk/src/stones_internal.hh
===================================================================
--- trunk/src/stones_internal.hh	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones_internal.hh	2008-03-13 23:27:30 UTC (rev 1063)
@@ -76,53 +76,6 @@
         void dispose();
     };
 
-/* -------------------- OnOffStone -------------------- */
-
-    /*! Base class for all stones that can be on and off.  Understands
-      the messages "on", "off", and "onoff".  Whenever the "on"
-      attribute changes, the object's init_model() method is invoked */
-    class OnOffStone : public Stone {
-    protected:
-        OnOffStone(const char *kind) 
-        : Stone (kind) 
-        { 
-            setAttr("on", 0.0); 
-        }
-
-        bool is_on() const { 
-            return getAttr("on") == 1; 
-        }
-
-        virtual void set_on(bool newon) {
-            if (newon != is_on()) {
-                setAttr("on", enigma::Value(newon));
-                init_model();
-                notify_onoff(newon);
-            }
-        }
-
-        virtual void notify_onoff(bool /*on*/) {}
-
-        virtual Value message(const Message &m)
-        {
-            const std::string &msg = m.message;
-            if (m.message == "onoff") {
-                set_on(!is_on());
-                return Value(); 
-            } else if (m.message == "signal") {
-                set_on (to_int(m.value) != 0);
-                return Value(); 
-            } else if (m.message == "on") {
-                set_on(true);
-                return Value(); 
-            } else if (m.message == "off") {
-                set_on(false);
-                return Value();
-            }
-            return Object::message(m); 
-        }
-    };
-
 } // namespace enigma
 
 #endif

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2008-03-09 14:09:50 UTC (rev 1062)
+++ trunk/src/stones_simple.cc	2008-03-13 23:27:30 UTC (rev 1063)
@@ -1225,111 +1225,6 @@
     DEF_TRAITSM(RubberBandStone, "st-rubberband", st_rubberband, MOVABLE_STANDARD);
 }
 
-
-/* -------------------- Timer stone -------------------- */
-
-// Attributes:
-//
-// :interval        seconds between two "ticks"
-// :loop
-// :action,target   as usual
-// :invisible
-
-/** \page st-timer Timer Stone
-
-This stone can be used to trigger periodic events or to trigger one
-single event after a certain amount of time.
-
-\subsection timera Attributes
-
-- \b on: 1 if the timer is running
-- \b interval:  number of seconds before \b action is performed
-- \b loop:      if 1, restart the timer after performing \b action
-- \b action, \b target: as usual
-- \b invisible : if 1, stone is invisible
-
-\subsection timerm Messages
-
-- \b on, \b off, \b onoff: as usual
-
-\subsection timere Example
-
-\verbatim
--- activate a laser after 5 seconds
-set_stone("st-laser", 10,11, {name="laser"})
-set_stone("st-timer", 10,10,
-          {loop=0, action="onoff", target="laser", interval=5})
-\endverbatim
-*/
-namespace
-{
-    class TimerStone : public OnOffStone, public TimeHandler
-    {
-        CLONEOBJ(TimerStone);
-    public:
-        TimerStone() : OnOffStone("st-timer"), m_signalvalue(1) {
-            setAttr("interval", 1.0);
-            setAttr("loop", true);
-            setAttr("on", 1.0);
-            setAttr("invisible", false);
-
-            // set_on(true);   DOESN'T WORK! calls init_model()
-        }
-        
-        virtual ~TimerStone();
-    private:
-        int m_signalvalue;
-
-        double get_interval() const {
-            return getDefaultedAttr("interval", 100);
-        }
-
-        bool get_is_looped() const {
-            return to_bool(getAttr("loop"));
-        }
-
-        void init_model() {
-            if (getAttr("invisible").to_bool()) {
-                set_model("invisible");
-            }
-            else {
-                set_model(is_on() ? "st-timer" : "st-timeroff");
-            }
-        }
-
-        void on_creation (GridPos p) {
-            set_alarm();
-            Stone::on_creation (p);
-        }
-
-        void set_alarm() {
-            if (is_on())
-                GameTimer.set_alarm(this, get_interval(), get_is_looped());
-        }
-
-        void alarm() {
-            if (is_on()) {
-//                 sound::PlaySound("st-timer");
-                performAction(m_signalvalue != 0);
-                m_signalvalue = 1-m_signalvalue;
-                if(!get_is_looped())
-                    set_on(false); // Switch to "off"-model.
-            }
-        }
-
-        void notify_onoff (bool newon) {
-            if (newon)
-                set_alarm();
-            else
-                GameTimer.remove_alarm(this);
-        }
-    };
-
-    TimerStone::~TimerStone() {
-        GameTimer.remove_alarm(this);
-    }
-}
-
 /* -------------------- FartStone -------------------- */
 
 /** \page st-fart Fart Stone
@@ -2344,7 +2239,6 @@
     Register(new SwapStone);
 
     Register(new ThiefStone);
-    Register(new TimerStone);
 
     Register(new RandomWoodenStone); // random flavor
     Register(new WoodenStone("st-wood1", "fl-stwood1")); // horizontal planks



From andreasl at mail.berlios.de  Fri Mar 14 00:46:53 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Fri, 14 Mar 2008 00:46:53 +0100
Subject: [Enigma-game-svn] r1064 - in homepage: images/lotm input input/lotm
Message-ID: <200803132346.m2DNkrTd010237@sheep.berlios.de>

Author: andreasl
Date: 2008-03-14 00:46:25 +0100 (Fri, 14 Mar 2008)
New Revision: 1064

Added:
   homepage/images/lotm/lotm_200803.png
   homepage/images/lotm/lotm_200803_a.png
   homepage/images/lotm/lotm_200803_b.png
   homepage/images/lotm/lotm_200803_c.png
   homepage/images/lotm/lotm_200803_d.png
   homepage/input/lotm/lotm_200803.html
Modified:
   homepage/images/lotm/lotm-history.png
   homepage/input/development.html
   homepage/input/lotm/lotm_archive_data.lua
Log:
Homepage:
 - LotM 3/2008 (English, not yet proofread)
 - Typo
Todo:
 - English proofread
 - German and Russian translation
 - Validation (lateron)


Modified: homepage/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Added: homepage/images/lotm/lotm_200803.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200803.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200803_a.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200803_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200803_b.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200803_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200803_c.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200803_c.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200803_d.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200803_d.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: homepage/input/development.html
===================================================================
--- homepage/input/development.html	2008-03-13 23:27:30 UTC (rev 1063)
+++ homepage/input/development.html	2008-03-13 23:46:25 UTC (rev 1064)
@@ -35,7 +35,7 @@
   helping us out.</p>
 
   <div class="tasks">
-  <h4>Non Programming Tasks</h4>
+  <h4>Non-Programming Tasks</h4>
   <ul>
   <li><b>Translation</b>.  Enigma has proper support for languages other than
       English. If you would like to localize Enigma to your native language

Added: homepage/input/lotm/lotm_200803.html
===================================================================
--- homepage/input/lotm/lotm_200803.html	2008-03-13 23:27:30 UTC (rev 1063)
+++ homepage/input/lotm/lotm_200803.html	2008-03-13 23:46:25 UTC (rev 1064)
@@ -0,0 +1,370 @@
+<div class="lotm">
+$$lotm_header$$
+<h3 class="lotm">
+<span class="date">March 2008: </span>
+&quot;Psycho Pushing&quot; by Sven Siggelkow
+</h3>
+
+<p>Dear visitor, please be quiet as we now enter Enigma's asylum. As you
+certainly know, the modern lunatic of today carries not only a split
+personality, but a Cantor set of identities. Our Level of the Month March
+respects this quiet good. As you see, each of our four buildings is itself
+split into two separated cells for our guests. Don't worry, most of them are
+quiet harmless, phlegmatic inhabitants of our institution. Just take care, that
+you don't end here as a psycho as well, when you try to push them to their
+beds; welcome to &quot;Psycho Pushing&quot;!</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_a.png" alt="Level of the month" border="0">
+<div class="imagetitle">Enigma V # 45 - Psycho Pushing</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Some records of January 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">2:59</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:09</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:28</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:53</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">4:04</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">4:27</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">4:36</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">4:50</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">5:29</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">7:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">7:24</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">9:08</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">11:03</td>
+        <td class="left">Gottseinsohn</td></tr>
+    <tr><td class="num">12:10</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">12:49</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">12:57</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">13:35</td>
+        <td class="left">Sim_Ed</td></tr>
+    <tr><td class="num">18:23</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">20:31</td>
+        <td class="left">Tarim</td></tr>
+</table>
+
+<p></p>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Easy Mode</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">1:52</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">2:05</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:20</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">3:26</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:36</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:51</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">3:55</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">4:41</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">5:06</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">5:35</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">7:21</td>
+        <td class="left">Tobias</td></tr>
+    <tr><td class="num">8:33</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">9:34</td>
+        <td class="left">alfred69</td></tr>
+    <tr><td class="num">9:59</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">10:08</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">13:38</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">14:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">15:58</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">32:54</td>
+        <td class="left">para_doks</td></tr>
+</table>
+
+<p>Not much has changed during the last month in the user ratings; indeed, all
+ratings were stable, with &quot;Island Labyrinth&quot; and
+&quot;Quadropolis&quot; jointly leading the list. &quot;Psycho Pushing&quot;
+enters at position 11, just behind &quot;Big Adventures&quot;.</p>
+
+<h4>&quot;It took Tarim back to his student days&quot;</h4>
+
+<p>Yes, our stones in Enigma have a pretty hard time. Being pushed around by
+careless marbles, falling forever into dark abysses, having to hide objects the
+marble is desperately searching for, going postal already as a young seed, or
+floating forever in cold water &hellip; and whenever something goes wrong, it's
+their fault. And although most stones tolerate this treatment in their own stoic
+way, in &quot;Psycho Pushing&quot;, Sven Siggelkow took care of those stones,
+who just couldn't take it anymore.
+</p>
+
+<div class="quote">
+&quot;Psycho Pushing&quot; is Sven Siggelkow's beautifully designed study in
+compressed perplexity.  Eight tiny Sokoban style puzzles, and each one
+impossible, no matter how you look at it&mdash;until, finally, that moment of
+inspiration dawns.  It took Tarim back to his student days.  Moving home
+involved shifting all his furniture into a spatially-challenged room and then
+re-arranging it while all the time leaving space to stand in.  And, when he was
+finally finished, still being able to get out of the door to go to the pub.
+</div>
+
+<div class="quote">
+Not being fleet-of-mouse, Tarim didn't even think of racing to follow the
+boulder into TopLeftOne from the switch.  There had to be another way &hellip; 
+The wand in TopLeftTwo must be the answer!  But getting that involved solving
+TopLeftOne&mdash;unless Tarim could extricate a couple of wood blocks from
+TopRightTwo and sneak across the flooded back-door of TopLeftTwo.  Such was the
+power of this level in making Tarim believe the impossible could be made
+possible&mdash;this was the way he eventually solved it &hellip;
+</div>
+
+<div class="author">Tarim</div>
+
+<p>If you hurry up, you can see the warden entering the first cell of our
+complex. Two guards secure the cell while the warden is inside. The three
+inmates of this cell suffer from amnesia from being hit too hard, and always
+forget where their beds are. In the cell on the right, we have three
+cleptomaniacs, who had to hide objects below them in some unnamed nightmarishly
+level. Please be careful, you never know what items they might have brought
+here. Last time they managed to hide a snowman in their cell, which consequently
+melted &hellip; please take care not to slip on the wet floor.
+</p>
+
+<h4>&quot;'Psycho Pushing' got one of my favorite levels&quot;</h4>
+
+<p>The next cell is inhabited by some compulsive gamblers on detox. Oh, they are
+nice fellows, they worked as turnstiles some months ago. Bring along something
+round for them to play, and you'll be welcome. And take care not to run into the
+other warden. The inmates of the next cell however, are pyromaniacs, former
+walls, that had to stand near explosives for too long. Let's hope they did not
+mix those cleaning agents again &hellip; they always try to escape this way.
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_b.png" alt="Level of the month" border="0">
+<div class="imagetitle">Oops &hellip;</div>
+</div>
+
+<div class="quote">
+No other level did cause such contradicting phases of emotions on me than
+&quot;Psycho Pushing&quot; in the years I know this level.
+</div>
+
+<div class="quote">
+First I became simply frustrated by this level as I was not fast enough with my
+marble to enter the upper left puzzle before the seeds close the gate. I did saw
+all these challenging nice sokoban like puzzles, but I had to go back improving
+my skills on the many other levels that I still had to solve.
+</div>
+
+<div class="quote">
+After quite a time I returned to this level. Now I had no major problem entering
+the puzzles and I really enjoyed them. &quot;Psycho Pushing&quot; got one of my
+favorite levels.
+</div>
+
+<div class="quote">
+But then I discovered that you can shortcut some of the puzzles. I really got
+disappointed. All these nice puzzles and you must circumvent some of them to get
+a low score? I thought that the shortcuts have to be fixed.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_d.png" alt="Level of the month" border="0">
+<div class="imagetitle">BANG, BOOM, BANG!</div>
+</div>
+
+<div class="quote">
+But with the time I found more and more shortcuts. I started wondering if they
+were an intended alternative solution. Detecting and thinking about how to
+combine the shortcuts became a challenge of its own. Looking at my world record
+score in easy mode you may imagine that I did not solve many of the 8 mini
+sokobans by pushing. Can you guess how many? - Just one and a half! A half? Yes,
+as I do not have the need to push all stones onto the triggers I need a just
+fraction of time.
+</div>
+
+<div class="quote">
+Finally Sven did fix the shortcuts after admitting that they are quite
+interesting. So if you like to investigate this unplanned alternatives do it at
+once. You will likely be much faster than me in pushing and rushing through the
+puzzles! But nevertheless I am looking forward to the fixed version.
+Congratulations and thanks to Sven for this challenging level.
+</div>
+
+<div class="author">Ronald Lamprecht</div>
+
+<p>The inmates of the first cell on the Southern side of our asylum must keep
+locked in, as they suffer from dementia. They once were boulder stones, and
+still tend to wander around, until they suddenly get astray and don't know where
+they are. Thus we better keep them in their cells, so they don't get into
+troubles. Which happens quite easily, their neighbors being overly aggressive
+Borderline personalities, former knight stones that have been defeated. Please
+be very careful when you speak to them, one step into the wrong direction and
+their impulsive emotions and actions might injure you.
+</p>
+
+<h4>&quot;'Psycho Pushing' resulted from studying the old Oxyd levels again&quot;</h4>
+
+<p>The seventh cell is for those of our guests, who are abnormally
+claustrophobic. They worked in Sokoban levels once, but have been deliberately
+pushed into some unreachable corner. We made the cell from glass, with large
+inner spaces, and it seems to work quite well. We even replaced the door by some
+kind of bridge system, so they don't have the feeling of being locked away.
+Their neighbors &hellip a severe form of dissoziative identity disorder. They
+think of themselves being other types of stones, and mimic them. That's what
+often happens to stones that don't fit to their surrounding design, very
+tragic. Please don't ask why there are four beds for only three inmates:
+Sometimes one of them hides that well that we can't find him anymore &hellip;
+</p>
+
+<p>And now, some words from the director and founder of this intricate
+institution:</p>
+
+<div class="quote">
+Wow, it really is a long time ago that I created this level. I had to
+think it over for a while, but then I remembered: It was back in July
+2003 that I finished &quot;Psycho Pushing&quot;. It was published besides 16
+others of my levels with the 0.81 release of Enigma.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_c.png" alt="Level of the month" border="0">
+<div class="imagetitle">Oh, an extra life, very good; <br> those walls are
+somewhat frightening &hellip;</div>
+</div>
+
+<div class="quote">
+I came to Enigma through the original Oxyd by Meinolf Schneider. I
+devoured every Oxyd game on my old Atari ST about 20 years ago. Besides
+having to seek for the magic codes in the book, most of the
+disappointment I experienced while playing the games, was coming of the
+restriction to play the levels in a given order. Only after having
+finished one level, you were allowed to play the next one.
+</div>
+
+<div class="quote">
+I always preferred the link game, in which you have to solve the level
+together. I am looking forward to see this feature in Enigma, because it
+really is a most unique experience.
+</div>
+
+<div class="quote">
+After having played the old games several times, I stumbled across a
+very early version of Enigma, and I decided to share my Oxyd knowledge
+in the form of bug reports to the developers. I was very tempted to bring the
+project forward, but how?
+</div>
+
+<div class="quote">
+&quot;Psycho Pushing&quot; and many of the ideas for my other levels resulted
+from studying the old Oxyd levels again. All of them were just one screen in
+size like the 6 meditation landscapes for instance, of which I myself find
+&quot;What's the problem&quot; most remarkable. With &quot;Psycho Pushing&quot;
+which was only just the third level I created, I tried to develop &quot;a bigger
+than one screen&quot; level with several different floors, items and stones.
+Maybe, that's why I hid several useless items under the stones near the border.
+And only one of these items, the umbrella, makes these shortcuts possible,
+mentioned by Ronald a short while ago. But of course, only sly foxes can profit
+from this.
+</div>
+
+<div class="quote">
+I lost sight of Enigma, but recently I inspired my six year old daughter
+to play Enigma. With a little pride I can tell her that some of the
+levels are made by me. Since I got enthusiastic again, it is possible
+that you will see some more levels by me.
+</div>
+
+<div class="quote">
+Many thanks to the DEV-team: Continue with your good work und keep your
+tail up!
+</div>
+
+<div class="author">Sven Siggelkow</div>
+
+<p>And many thanks to you, Sven, for this fabulous level, with its eight
+ambitious challenges! And for making us the greatest gift: A new fan!</p>
+
+
+
+<p>Finally, a word in personal matters. On behalf of Harry and myself, I want
+to thank all of you, our faithful readers, out there for being with us through
+the last year. Together with Clifford, with Yuriy, and Joe, we managed 12
+articles about the best levels in Enigma. However, I'm sorry to announce that
+this LotM will be the last LotM penned by me for a long time. I will now
+&quot;return to the source&quot;, as Enigma 1.1 is desperately trying to hatch,
+and help Ronald and Raoul to make this happen. And to write some new levels
+myself, something I lost sight of during the last year. Harry decided to spend
+more of his time with the real important things in life like further
+investigating into &quot;The Golden Path Of Level Solving&quot; or studying
+&quot;The Marbler's Guide Through The Level Packs&quot; - or taking care of his
+towel collection. Nothing can be more frustrating - besides playing &quot;Worse
+Nightmare&quot; - than missing a starship trip because one's towel's not in good
+shape. But as long as he's crawling on this planet's face, he has offered his
+services to the Enigmian Community as a member of the editorial staff. And there
+to support and to advise future authors, and once in a while to conribute a
+comment or an article hisself.
+</p>
+
+<p>Which means: We will provide an editorial staff to publish articles and
+players' comments from you, our readers. If you love Enigma, and love to write,
+please, send us an article about the level you most admire, or can identify
+yourself with. You can send it to us in English, German or Russian. And there's
+no obligation for you for further articles, of course. However, dear reader,
+please remember: <i>If you don't write this article, noone will.</i>
+</p>
+
+<p>
+If you can't decide which level you want to depict, here are four levels, which
+have very high ratings and would have become the next Levels of the Months:
+<ul>
+<li>&quot;Turnstiles for Two&quot; by Ronald Lamprecht</li>
+<li>&quot;Pleasure Garden&quot; by Jacob Scott</li>
+<li>&quot;Gods of Enigma II&quot; by moonpearl</li>
+<li>&quot;Industrial Puzzles&quot; by Raoul Bourquin</li>
+</ul>
+Please, send articles and comments to us, as a gamer as well as an author of
+such a great level, to:
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+Thank you for your commitment, the future of the LotM depends on YOU!
+</p>
+
+<p>Best greets,<br>
+<i>Andreas &amp; Harry</i></p>
+
+</div>
+

Modified: homepage/input/lotm/lotm_archive_data.lua
===================================================================
--- homepage/input/lotm/lotm_archive_data.lua	2008-03-13 23:27:30 UTC (rev 1063)
+++ homepage/input/lotm/lotm_archive_data.lua	2008-03-13 23:46:25 UTC (rev 1064)
@@ -103,6 +103,15 @@
   position_num   = "6055"
 }
 
+lotm_archive_data[12] = {
+  date           = { month = 3, year = 2008 },
+  chronological  = 12,
+  name           = "Psycho Pushing",
+  author         = "Sven Siggelkow",
+  position       = "V/45",
+  position_num   = "5045"
+}
+
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
@@ -113,10 +122,11 @@
 lotm_rating(           "Elaborate",  8.63,   8,  "")
 lotm_rating(             "Houdini",  9.18,  10,  "")
 lotm_rating(           "Tool Time",  8.52,  21,  "")
-lotm_rating(         "Quadropolis",  9.20,  10,  "(1 up)")
+lotm_rating(         "Quadropolis",  9.20,  10,  "")
 lotm_rating(      "Big Adventures",  8.39,  23,  "")
 lotm_rating(      "Temple of Gold",  9.17,   6,  "")
-lotm_rating(      "Puzzle Puzzles",  8.83,   6,  "<b>(newcomer)</b>")
+lotm_rating(      "Puzzle Puzzles",  8.83,   6,  "")
+lotm_rating(      "Psycho Pushing",  8.38,   8,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 



From andreasl at mail.berlios.de  Fri Mar 14 23:51:24 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Fri, 14 Mar 2008 23:51:24 +0100
Subject: [Enigma-game-svn] r1065 - homepage/input/lotm
Message-ID: <200803142251.m2EMpOgg023582@sheep.berlios.de>

Author: andreasl
Date: 2008-03-14 23:51:23 +0100 (Fri, 14 Mar 2008)
New Revision: 1065

Added:
   homepage/input/lotm/lotm_200803_de.html
Modified:
   homepage/input/lotm/lotm_200803.html
Log:
LotM:
 - German translation
 - Textual change in the English article about cell 6
   ("Borderline-personalities")


Modified: homepage/input/lotm/lotm_200803.html
===================================================================
--- homepage/input/lotm/lotm_200803.html	2008-03-13 23:46:25 UTC (rev 1064)
+++ homepage/input/lotm/lotm_200803.html	2008-03-14 22:51:23 UTC (rev 1065)
@@ -230,9 +230,15 @@
 still tend to wander around, until they suddenly get astray and don't know where
 they are. Thus we better keep them in their cells, so they don't get into
 troubles. Which happens quite easily, their neighbors being overly aggressive
-Borderline personalities, former knight stones that have been defeated. Please
-be very careful when you speak to them, one step into the wrong direction and
-their impulsive emotions and actions might injure you.
+Borderline personalities. They once worked for the security firm Knight, until
+an &hellip accident at work &hellip; forced them to retire. Perfectly armed to 
+face all possible kinds of irruptions (e.g. with an it-hammer), they all had to
+surrender to an it-sword wielding marble. They are still convinced of their
+invincibility, and are totally unable to cope with this trauma. Since then they
+live in the delusion, the encounter would have been a draw. This immense inner
+conflict between delusion and reality causes an abnormal, latent aggression. 
+Please be very careful when you speak to them, one step into the wrong direction
+and their impulsive emotions and actions might injure you.
 </p>
 
 <h4>&quot;'Psycho Pushing' resulted from studying the old Oxyd levels again&quot;</h4>
@@ -334,7 +340,7 @@
 Nightmare&quot; - than missing a starship trip because one's towel's not in good
 shape. But as long as he's crawling on this planet's face, he has offered his
 services to the Enigmian Community as a member of the editorial staff. And there
-to support and to advise future authors, and once in a while to conribute a
+to support and to advise future authors, and once in a while to contribute a
 comment or an article hisself.
 </p>
 

Added: homepage/input/lotm/lotm_200803_de.html
===================================================================
--- homepage/input/lotm/lotm_200803_de.html	2008-03-13 23:46:25 UTC (rev 1064)
+++ homepage/input/lotm/lotm_200803_de.html	2008-03-14 22:51:23 UTC (rev 1065)
@@ -0,0 +1,439 @@
+<div class="lotm">
+$$lotm_header$$
+<h3 class="lotm">
+<span class="date">M?rz 2008: </span>
+&quot;Psycho Pushing&quot; von Sven Siggelkow
+</h3>
+
+<p>Lieber Besucher, bitte seien Sie leise, wenn wir jetzt Enigma's Irrenanstalt
+betreten. Wie Sie sicher wissen, tr?gt der Verr?ckte von heute nicht mehr nur
+eine gespaltene Pers?nlichkeit mit sich herum, sondern eine ganze Cantormenge
+von Identit?ten. Wie Sie sehen, ist jedes der vier Geb?ude selbst nochmal
+geteilt in zwei getrennte Zellen f?r unsere G?ste. Bitte machen Sie sich keine
+Sorgen, die meisten sind ziemlich harmlose, phlegmatische Insassen unseres
+Instituts. Passen Sie nur auf, dass Sie hier nicht ebenfalls als Psycho enden,
+wenn Sie versuchen, sie in ihre Betten zu geleiten; willkommen bei &quot;Psycho
+Pushing&quot;!</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_a.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Enigma V # 45 - Psycho Pushing</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einige Rekorde vom Januar 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">2:59</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:09</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:28</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:53</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">4:04</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">4:27</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">4:36</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">4:50</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">5:29</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">7:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">7:24</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">9:08</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">11:03</td>
+        <td class="left">Gottseinsohn</td></tr>
+    <tr><td class="num">12:10</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">12:49</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">12:57</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">13:35</td>
+        <td class="left">Sim_Ed</td></tr>
+    <tr><td class="num">18:23</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">20:31</td>
+        <td class="left">Tarim</td></tr>
+</table>
+
+<p></p>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einfacher Modus</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">1:52</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">2:05</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:20</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">3:26</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:36</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:51</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">3:55</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">4:41</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">5:06</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">5:35</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">7:21</td>
+        <td class="left">Tobias</td></tr>
+    <tr><td class="num">8:33</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">9:34</td>
+        <td class="left">alfred69</td></tr>
+    <tr><td class="num">9:59</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">10:08</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">13:38</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">14:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">15:58</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">32:54</td>
+        <td class="left">para_doks</td></tr>
+</table>
+
+<p>Nicht viel hat sich seit dem letzten Monat in den Spielerratings ver?ndert;
+genau genommen, waren alle Bewertungen stabil, mit &quot;Island Labyrinth&quot;
+und &quot;Quadropolis&quot; gemeinsam an der Spitze der Tabelle. &quot;Psycho
+Pushing&quot; steigt auf Position 11 ein, knapp hinter &quot;Big
+Adventures&quot;.</p>
+
+<h4>&quot;Tarim hat sich in seine Studentenzeit zur?ckversetzt gef?hlt&quot;</h4>
+
+<p>Ja, unsere Steine in Enigma hatten wirklich eine schwere Zeit.
+Von achtlosen Murmeln herumgeschubst zu werden, auf ewig in dunkle Abgr?nde zu
+st?rzen, Objekte unter sich verstecken zu m?ssen, die die Murmel verzweifelt
+sucht, bereits als junger Samen per Post verschickt zu werden oder eine
+Ewigkeit in kaltem Wasser treiben zu m?ssen &hellip; und wann immer etwas
+schief geht, ist es ihre Schuld. Und obwohl die meisten Steine diese Behandlung
+auf die ihnen eigene, stoische Art tolerieren, k?mmert sich Sven Siggelkow in
+&quot;Psycho Pushing&quot; um diejenigen Steine, die es einfach nicht mehr
+aushalten konnten.
+</p>
+
+<div class="quote">
+&quot;Psycho Pushing&quot; ist Sven Siggelkows sehr sch?n gestaltete Studie in Sachen
+komprimierte Komplexit?t. Acht winzige sokobanartige Puzzles - und jedes
+Einzelne davon unm?glich zu verstehen, von welcher Seite man es auch immer
+betrachtet - bis dann schlu?endlich der Augenblick der Eingebung d?mmert.
+</div>
+
+<div class="quote">
+Tarim hat sich in seine Studentenzeit zur?ckversetzt gef?hlt. Beim Einzug in
+seine neue Bude musste er damals alle seine M?belst?cke in ein r?umlich doch arg
+begrenztes Zimmer schieben, und dann das Kunstst?ck fertig bringen, die
+einzelnen Einrichtungsgegenst?nde auf ihren vorgesehenen Platz zu bef?rdern, und
+w?hrend dieses Man?vers auch noch jederzeit zu gew?hrleisten, dass f?r ihn
+selbst wenigstens gen?gend Platz zum Stehen vorhanden blieb. Und nicht zu
+vergessen, auch genug Raum frei zu lassen, um nach getaner Arbeit noch die T?r
+?ffnen zu k?nnen, und den Sieg ?ber die Enge des Raumes im n?chsten Pub zu
+feiern.
+</div>
+
+<div class="quote">
+Mit der Maus nicht gerade der Allerflinkeste, hat Tarim sich nicht erk?hnt, ein
+Wettrennen mit dem Felsblock zu wagen, um nach Bet?tigung des Schalters vor eben
+diesem in den Raum ObenLinksEins zu gelangen. Es musste einen anderen Weg
+geben... Es gab einen anderen Weg: Den Zauberstab in Raum ObenLinksZwei gleich
+nebenan! Doch um an diesen zu gelangen, musste man zuerst das Puzzle in Raum
+ObenLinksEins gel?st haben. Ein rekursives Paradoxon, dass sich nicht aufl?sen
+lie? - bis es Tarim schlie?lich gelang, ein paar Holzbl?cke aus Raum
+ObenRechtsZwei herauszubef?rdern, und mit deren Hilfe durch den unter Wasser
+stehenden Hintereingang Zutritt zu Raum ObenLinksZwei zu erlangen.
+</div>
+
+<div class="quote">
+Derart war die Kraft dieses Levels, dass sie Tarim glauben machte, dass das
+Unm?gliche m?glich gemacht werden kann - und genau auf diese Weise hat er es
+auch endlich geschafft den Level zu l?sen.  
+</div>
+
+<div class="author">Tarim</div>
+
+<p>Wenn Sie sich beeilen, k?nnen Sie noch den W?rter sehen, wie er die erste
+Zelle unseres Komplexes betritt. Zwei W?chter sichern die Zelle, w?hrend der
+W?rter drin ist. Die drei Bewohner dieser Zelle leiden an Amnesie, durch zu
+viele, zu harte Schl?ge auf ihre Seiten. Und immer wieder vergessen sie, wo
+ihre Betten stehen. In der Zelle rechts haben wir drei Kleptomanen, die in
+einem namenlosen alptraumhaften Level Objekte unter sich verstecken mussten.
+Seien Sie bitte vorsichtig, man wei? nie, welche Dinge sie diesmal
+hereingeschmuggelt haben. Letztes Mal haben sie es geschafft, einen Schneemann
+in ihrer Zelle zu verstecken, der dann aber nat?rlich geschmolzen ist &hellip;
+bitte rutschen Sie nicht auf dem nassen Boden aus.
+</p>
+
+<h4>&quot;'Psycho Pushing' wurde einer meiner liebsten Levels&quot;</h4>
+
+<p>Die n&auml;chste Zelle beherbergt einige zwanghafte Spielernaturen
+auf Entzug. Nur keine Panik, es sind eigentlich ganz nette Kerle. Bevor sie vor
+einigen Monaten durchgedreht sind, waren sie als &quot;Turnstiles&quot;
+besch&auml;ftigt. Bringen Sie etwas Rundes f?r sie zum Spielen mit, und Sie
+werden mit offenen Armen empfangen werden. Und sehen Sie sich vor, dass Sie
+nicht von dem hier zust&auml;ndigen W&auml;rter &uuml;berrannt werden. Die
+Insassen der n&auml;chsten Zelle sind Pyromanen, die zu lange als ehemalige
+Wandsteine neben Explosivstoffen stehen mussten. Hoffentlich haben sie nicht
+schon wieder aus die leicht entflammbaren Reinigungsmitteln zusammengemixt
+haben, &hellip; sie versuchen stets, auf diese Weise auszubrechen.
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_b.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Ups &hellip;</div>
+</div>
+
+<div class="quote">
+Kein anderer Level hat bei mir in all den Jahren, die ich dieses Level kenne,
+solch widerspr?chliche Gef?hlszust?nde verursacht, wie &quot;Psycho Pushing&quot;.
+</div>
+
+<div class="quote">
+Zuerst war ich einfach nur frustriert von diesem Level, da ich nicht schnell
+genug mit meiner Murmel war, das Puzzle oben links zu betreten, bevor die Samen
+den Zugang verschlossen hatten. Ich sah all die herausfordernden netten
+sokoban?hnlichen R?tsel, aber ich musste erst zu den vielen anderen Levels
+zur?ckkehren, die ich noch l?sen musste, um meine Fertigkeiten zu verbessern.
+</div>
+
+<div class="quote">
+Nach einiger Zeit kehrte ich zu diesem Level zur?ck. Nun hatte ich kein
+gr??eres Problem mehr, die Puzzles zu betreten und konnte sie wirklich
+genie?en. &quot;Psycho Pushing&quot; wurde einer meiner liebsten Levels.
+</div>
+
+<div class="quote">
+Aber dann entdeckte ich, dass man einige der Puzzles abk?rzen kann. Ich war
+wirklich entt?uscht. All' diese sch?nen R?tsel und man muss einige von ihnen
+umgehen, um einen guten Score zu erreichen? Ich dachte, die Abk?rzungen m?ssten
+repariert werden.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_d.png" alt="Level des Monats" border="0">
+<div class="imagetitle">BANG, BOOM, BANG!</div>
+</div>
+
+<div class="quote">
+Aber mit der Zeit habe ich mehr und mehr Shortcuts entdeckt. Ich begann mich zu
+fragen, ob sie nicht etwa eine beabsichtigte alternative L&ouml;sungsweise
+darstellten. Diese Shortcuts zu finden und miteinander zu immer neuen
+L&ouml;sungswegen zu kombinieren, entwickelte sich zu einer Herausforderung der
+ganz eigenen Art. Wenn Sie sich meinen Weltrekord im &quot;Einfachen Modus&quot;
+anschauen, k&ouml;nnen Sie sich sicherlich vorstellen, dass ich nicht allzuviele
+der acht Mini-Sokobans auf die vorgesehene Weise gel&ouml;st habe. K&ouml;nnen
+Sie erraten wieviele? - Genau. Nur eineinhalb! Eineinhalb? Ja, dadurch, dass ich
+in einem gewissen Raum nicht alle Steine auf die Trigger zu schieben brauchte,
+habe ich nur einen Bruchteil der normalen L&ouml;sungszeit ben&ouml;tigt.
+</div>
+
+<div class="quote">
+Letztlich hat Sven die Shortcuts beseitigt, jedoch nicht ohne vorher
+einzur&auml;umen, dass sie ausgesprochen interessant sind. Wenn Sie also
+vorhaben, diese nicht eingeplanten L&ouml;sungswege n&auml;her zu untersuchen,
+sollten Sie dies m&ouml;glichst bald tun. Wahrscheinlich werden Sie noch
+schnellere L&ouml;sungszeiten als ich erzielen k&ouml;nnen, w&auml;hrend Sie
+Steine schiebend durch die Puzzles von &quot;Psycho Pushing&quot; rasen. Aber
+nichtsdestotrotz freue ich mich auf die neue ausgebesserte Version. Meinen
+Gl&uuml;ckwunsch an Sven, und vielen Dank f&uuml;r diesen reizvollen Level.
+</div>
+
+<div class="author">Ronald Lamprecht</div>
+
+<p>
+In der ersten Zelle der s&uuml;dlichen H&auml;lfte unseres Asyls
+befindet sich die geschlossene Abteilung f?r demenzkranke Steine. Den
+Gro&szlig;teil ihres langen Berufslebens in der Bolder-Branche t&auml;tig, haben
+sie auch jetzt noch die Neigung, sich spontan auf den Weg zu machen, bis sie
+sich pl?tzlich verirren, und dann orientierungs- und bewegungslos verharren, bis
+unser Pflegepersonal sie wieder zu ihrem Refugium zur&uuml;ckgeleitet. Zu ihrem
+eigenen Schutz haben wir daher beschlossen, sie hier in der geschlossenen
+Abteilung zu verwahren.
+Dies k&ouml;nnte ohne Weiteres schon geschehen, wenn
+einer von ihnen sich in die direkt nebenan liegende Abteilung verirren
+w&uuml;rde. Dort sind unsere Borderline Pers&ouml;nlichkeiten untergebracht.
+Viele Jahre waren sie f&uuml;r den Sicherheitsdienst Knight t&auml;tig, bis ein
+&hellip; Berufsunfall &hellip; sie vorzeitig in
+den Ruhestand versetzte. Bestens ger&uuml;stet gegen alle
+m&ouml;glichen bewaffneten &Uuml;berf&auml;lle, beispielsweise mit einem
+it-hammer, mussten sie sich allesamt einer mit it-sword ausgestatteten
+Murmel geschlagen geben. Vollkommen unf&auml;hig, diese traumatische
+Erfahrung zu verarbeiten, und immer noch von ihrer eigenen
+Unbesiegbarkeit &uuml;berzeugt, leben sie seither in der
+Wahnvorstellung, die Begegnung h&auml;tte unentschieden geendet.
+Dieser immense innere Konflikt zwischen Wahn und Wirklichkeit verursacht eine
+gigantische latente Agressionsbereitschaft. Bitte seien Sie sehr vorsichtig,
+wenn Sie mit diesen Steinen sprechen, ein Schritt in die falsche Richtung, und
+ihre impulsiven Emotionen und Aktionen k?nnten Sie verletzen.
+</p>
+
+<h4>&quot;'Psycho Pushing' resulted from studying the old Oxyd levels again&quot;</h4>
+
+<p>Die siebte unserer Zellen bietet denjenigen unserer
+G&auml;ste Unterkunft, die unter abnormer Klaustrophobie
+leiden. Sie haben einst in diversen Sokoban-Leveln gearbeitet, wurden
+dann aber vors&auml;tzlich in irgendeine unzug&auml;ngliche Ecke
+abgeschoben. Wir haben die W&auml;nde des Raumes aus Glas gestaltet, um
+das Innere weitr&auml;umig erscheinen zu lassen. Es scheint zu
+funktionieren: keiner der Insassen hat bisher &uuml;ber Engegef&uuml;hle
+oder Beklemmungen geklagt. Sogar die T&uuml;r haben wir durch eine Art
+Br&uuml;ckensystem ausgetauscht, damit niemand das Gef&uuml;hl hat,
+eingeschlossen zu sein. Ihre Nachbarn in Zelle 8 leiden unter einer besonders
+schweren Form von dissoziativer Identit&auml;tsst&ouml;rung. Sie halten sich
+selbst f&uuml;r andere Gesteinsarten als sie es eigentlich sind, und versuchen
+diese anderen Arten zu imitieren. Dies geschieht sehr
+h&auml;ufig mit Steinen, denen es aufgrund ihrer inneren Beschaffenheit nicht
+gelungen ist, sich an das Design ihrer Umgebung anzupassen, sehr tragisch.
+Fragen Sie jetzt bitte nicht, warum es denn vier Betten f&uuml;r nur drei
+Insassen gibt: Gelegentlich versteckt sich einer von ihnen derart geschickt,
+dass er sogar f&uuml;r unser geschultes Fachpersonal nicht mehr auffindbar
+ist.</p>
+
+<p>Und nun m&ouml;chte der Direktor und Stifter unseres Instituts
+f&uuml;r Verwirrte Steine das Wort an Sie richten:</p>
+
+<div class="quote">
+Es ist ja schon eine ganze Weile her, seitdem ich den Level zusammengebastelt
+habe. Ich musste eine Weile nachdenken, aber ich erinnere mich: Es war im Juli
+2003, als ich &quot;Psycho Pushing&quot; vollendete. Er wurde zusammen mit 16
+weiteren meiner Levels mit dem 0.81er Release von Enigma ver?ffentlicht.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_c.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Oh, ein Extraleben, sehr gut; <br> diese Mauern sind
+irgendwie angsteinfl??end &hellip;</div>
+</div>
+
+<div class="quote">
+Meine Beziehung zu Enigma f?hrt ?ber die Originalspielidee von Meinolf
+Schneider. Ich habe alle Oxydspiele bereits vor 20 Jahren auf meinem Atari ST
+verschlungen. Zu meinem Leidwesen konnte man dort die Level nur sukzessive
+spielen, also erst wenn man einen gel?st hat, durfte man den n?chsten versuchen.
+Das war manchmal sehr frustrierend. ?ber die Jahre hatte ich dann immer mal
+wieder ein Spiel am PC durchgespielt.
+</div>
+
+<div class="quote">
+Meine Favoriten waren immer die Linkspiel-Levels,
+bei denen man zusammen mit einem Partner gemeinsam den Level l?sen musste. Ich
+hoffe sehr, dass das noch in Enigma umgesetzt wird, denn diese Spielfreude ist
+wirklich ein Erlebnis.
+</div>
+
+<div class="quote">
+Irgendwann bin ich dann mal auf Enigma gesto?en, und entschied mich, mein
+Oxydwissen in Form von Fehlerberichten mit den Entwicklern zu teilen. Ich
+wollte das Projekt wirklich vorw?rts bringen, aber wie?
+</div>
+
+<div class="quote">
+&quot;Psycho Pushing&quot; und viele der Ideen meiner anderen Levels
+resultierten wieder aus dem Studium der alten Oxydlevels. Sie alle waren nur
+von der Gr??e eines Bildschirms, wie die sechs Meditationslandschaften, von
+denen ich &quot;What's the problem&quot; besonders bemerkenswert finde. Mit
+&quot;Psycho Pushing&quot;, meinem dritten Level ?berhaupt, wollte ich einen
+Mehrscreenlevel schaffen, wo diverse B?den, Elemente und Steine verwendet
+werden. Daher habe ich wahrscheinlich auch alle m?glichen Items versteckt, unter
+den verschiebbaren Steinen am Rand, wovon die meisten irrelevant sind. Und
+gerade der Schirm ist es wohl, der f?r diverse Abk?rzungen sorgt, wie die von
+Ronald k?rzlich erw?hnte. Allerdings k?nnen wohl nur wahre F?chse davon
+</div>
+
+<div class="quote">
+Ich habe Enigma dann etwas aus den Augen verloren, aber vor kurzem konnte ich
+meine sechsj?hrige Tochter von diesem Spiel begeistern und mit ein wenig Stolz
+teile ich ihr dann mit, dass einige der Levels von mir sind. Vielleicht werden
+ja noch einige folgen, denn mittlerweile bin ich selbst wieder begeistert und es
+kommen ja immer einige neue Level dazu. Zudem ist es nicht so, dass ich schon
+alle gel?st h?tte ;-)
+</div>
+
+<div class="quote">
+Meinen herzlichen Dank nochmal an das DEV-Team: Macht weiter so und lasst Euch
+nicht unterkriegen!
+</div>
+
+<div class="author">Sven Siggelkow</div>
+
+<p>Und vielen Dank an dich, Sven, f&uuml;r diesen fabul&ouml;sen Level
+mit seinen acht &quot;einen in den Wahnsinn treibenden&quot; Aufgaben.
+Und vielen Dank auch f&uuml;r das gr&ouml;&szlig;te Geschenk: Einen
+neuen Fan!</p>
+
+
+<p>Abschlie?end ein Wort in eigener Sache. Im Namen von Harry und mir, m?chte
+ich Ihnen allen, unseren treuen Lesern da drau?en, danken, dass Sie durch das
+letzte Jahr hindurch bei uns gewesen sind. Zusammen mit Clifford, mit Yuriy und
+Joe konnten wir 12 Artikel ?ber die besten Levels in Enigma verfassen.
+Allerdings tut es mir leid, hiermit ank?ndigen m?ssen, dass dieser LdM f?r eine
+lange Zeit der letzte LdM aus meiner Feder bleiben wird. Ich werde nun
+&quot;zur Quelle zur?ckkehren&quot;, da Enigma 1.1 verzweifelt zu schl?pfen
+versucht, und Ronald und Raoul helfen, dies geschehen zu lassen. Und auch
+selbst einige neue Levels schreiben zu k?nnen, etwas, dass ich im Laufe des
+letzten Jahres aus den Augen verloren hatte. Harry hat sich dazu entschieden,
+mehr seiner Zeit auf die wirklich wichtigen Dinge im Leben zu verwenden, wie
+den &quot;Goldenen Pfad des Levell?sens&quot; weiter zu erforschen oder
+&quot;Per Anhalter durch das Levelpack&quot; zu studieren - oder sich mehr
+seiner Handtuchsammlung zu widmen. Nichts - au?er vielleicht &quot;Worse
+Nightmare&quot; zu spielen - kann frustrierender sein, als einen Tripp mit
+einem Raumschiff zu verpassen, nur weil das eigene Handtuch nicht in guter Form
+ist. Aber solange er auf der Oberfl?che dieses Planeten kriecht, hat er seine
+Dienste der Enigmischen Gemeinschaft als Mitglied der Redaktion angeboten. Und
+dort zuk?nftige Autoren zu unterst?tzen und anzuleiten, und von Zeit zu Zeit
+einen Kommentar oder Artikel selbst beizusteuern.
+</p>
+
+<p>Was bedeutet: Wir werden eine Redaktion anbieten, um Artikel und
+Spielerkommentare von Ihnen, unseren Lesern, zu ver?ffentlichen. Wenn Sie
+Enigma lieben, und zu schreiben lieben, bitte, schicken Sie uns einen Artikel
+?ber den Level, den Sie am meisten bewundern, oder mit dem Sie sich am besten
+selbst identifizieren k?nnen. Sie k?nnen ihn uns in Englisch, Deutsch oder
+Russisch zuschicken. Und nat?rlich gibt es keine Verpflichtung f?r weitere
+Artikel von Ihnen. Allerdings, lieber Leser, bitte denken Sie daran: <i>Wenn
+Sie diesen Artikel nicht schreiben, wird es niemand tun.</i>
+</p>
+
+<p>
+Wenn Sie sich nicht entscheiden k?nnen, welchen Level Sie beschreiben wollen,
+sind hier vier Levels, die hoch Bewertungen haben und die n?chsten Levels des
+Monats geworden w?ren:
+<ul>
+<li>&quot;Turnstiles for Two&quot; von Ronald Lamprecht</li>
+<li>&quot;Pleasure Garden&quot; von Jacob Scott</li>
+<li>&quot;Gods of Enigma II&quot; von moonpearl</li>
+<li>&quot;Industrial Puzzles&quot; von Raoul Bourquin</li>
+</ul>
+Bitte, senden Sie uns Artikel und Kommentare, als Spieler ebenso wie als Autor
+eines solch gro?artigen Levels, an:
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+Vielen Dank f?r Ihren Einsatz, die Zukunft des LdM h?ngt von IHNEN ab!
+</p>
+
+<p>Beste Gr??e,<br>
+<i>Andreas &amp; Harry</i></p>
+
+</div>
+



From raoul at mail.berlios.de  Fri Mar 14 23:57:12 2008
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 14 Mar 2008 23:57:12 +0100
Subject: [Enigma-game-svn] r1066 - in trunk: data/levels/enigma_cross
	data/levels/enigma_iii data/levels/enigma_iv src/gui
Message-ID: <200803142257.m2EMvCo3023888@sheep.berlios.de>

Author: raoul
Date: 2008-03-14 23:57:11 +0100 (Fri, 14 Mar 2008)
New Revision: 1066

Added:
   trunk/data/levels/enigma_iv/wb01_3.xml
Removed:
   trunk/data/levels/enigma_iv/wb01_2.xml
Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iii/siegfried40_1.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/src/gui/LevelInspector.cc
Log:
-> Level(bug)fixes for
--> "Jump and Run": Second bolder because of new API
--> "Hurry!": Second impulsestone in easymode



Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -59,7 +59,7 @@
     <level _seq="51" _title="Uhh-Steady!" _xpath="enigma_i/siegfried05_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Watery Grave" _xpath="enigma_i/martin37_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin37" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Break and Enter" _xpath="enigma_v/siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Jump And Run" _xpath="enigma_iii/siegfried40_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6c" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Jump And Run" _xpath="enigma_iii/siegfried40_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6c" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Back And Forth" _xpath="enigma_ii/martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="56" _title="Hidden Treasure" _xpath="enigma_peroxyd/peroxyd49_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Mossy Paths" _xpath="enigma_i/martin02_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin02" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -158,7 +158,7 @@
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="152" _title="(Counter)Clockwise" _xpath="enigma_i/wb13_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb13" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="153" _title="Hurry!" _xpath="enigma_iv/wb01_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="153" _title="Hurry!" _xpath="enigma_iv/wb01_3" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="3" rev="2" score="3" target="time" unit="duration"/>
     <level _seq="154" _title="Lotsa Triggers" _xpath="enigma_iii/wb03_1" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="155" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Bridge Builders" _xpath="enigma_iii/wb04_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb4" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_iii/index.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -100,7 +100,7 @@
     <level _seq="92" _title="Hidden Danger" _xpath="./martin81_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin81" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Cover Your Ears" _xpath="./duffy40_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy40" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Build Up Speed" _xpath="./duffy55_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy55" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Jump And Run" _xpath="./siegfried40_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6c" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="95" _title="Jump And Run" _xpath="./siegfried40_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6c" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="Space Walk" _xpath="./nat35_2" author="Nat Pryce" ctrl="force" easy="false" id="natmaze4" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="97" _title="Changing Positions" _xpath="./luc27_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Guardian Angel" _xpath="./duffy102_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy102" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iii/siegfried40_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/siegfried40_1.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_iii/siegfried40_1.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Jump And Run" el:subtitle="" el:id="level6c"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Siegfried Fennig" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2002 Siegfried Fennig</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -331,6 +331,7 @@
 set_floor("fl-bridge", 10,19, {name="bridge16"})
 
 set_stone("st-bolder-e", 20,17)
+set_stone("st-bolder-w", 26,17)
 set_stone("st-stoneimpulse", 23,17)
 set_stone("st-stoneimpulse", 21,18)
 
@@ -399,3 +400,4 @@
     </el:i18n>
   </el:protected>
 </el:level>
+

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_iv/index.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -10,7 +10,7 @@
     <level _seq="2" _title="Happy New Year" _xpath="./duffy76_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy76" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Wood robbing" _xpath="./alain08_1" author="Alain Busser" ctrl="force" easy="false" id="alain08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="Termites" _xpath="./duffy104_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy104" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="5" _title="Hurry!" _xpath="./wb01_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="5" _title="Hurry!" _xpath="./wb01_3" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb1" rel="3" rev="2" score="3" target="time" unit="duration"/>
     <level _seq="6" _title="TNT Shortage?" _xpath="./siegfried74_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried74" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Antimaze" _xpath="./luc02_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc02" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Boulder-Puzzle" _xpath="./duffy06_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy6" rel="1" rev="1" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iv/wb01_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/wb01_2.xml	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/data/levels/enigma_iv/wb01_2.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -1,93 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Hurry!" el:subtitle="" el:id="wb1"/>
-      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jon 'WB' Sneyers" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jon 'WB' Sneyers</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- Nov 2005: Changes in level design, due to new timing engine.
---           Added easy mode (some seconds more time) -- Andreas
-
-cells={}
-
-cells[" "]=cell{{{randomfloor, cell{floor="fl-tigris"}, 3, cell{floor="fl-samba"}, 1, cell{floor="fl-stone"}, 20}}}
-cells["w"]=cell{stone="st-wood"}
-cells["i"]=cell{stone="st-stoneimpulse"}
-cells["X"]=cell{stone="st-stoneimpulse-hollow"}
-
-cells["="]=cell{stone="st-rock5"}
-cells["#"]=cell{stone="st-rock6"}
-cells["."]=cell{floor="fl-abyss"}
-
-cells["&"]=cell{{{oneway, EAST}}}
-cells["%"]=cell{{{oneway, WEST}}}
-
-cells["V"]=cell{parent=cells[" "], stone="st-bolder-s"}
-cells[">"]=cell{parent=cells[" "], stone="st-bolder-e"}
-cells["<"]=cell{parent=cells[" "], stone="st-bolder-w"}
-cells["^"]=cell{parent=cells[" "], stone="st-bolder-n"}
-
-cells["a"]=cell{stone={face="st-door", attr={name="doorA", type="v"}}}
-cells["A"]=cell{item= {face="it-trigger", attr={action="close", target="doorA"}}}
-cells["B"]=cell{item= {face="it-trigger", attr={action="open", target="doorA"}}}
-cells["O"]=cell{actor={face="ac-blackball", attr={player=0}}}
-cells["0"]=oxyd
-
-if difficult then
-  level = {
-     "#iii###0#0#0#0###00#",
-     "#i#ii &        a   0",
-     "#i##i B#0#0#0####00#",
-     "#iO&Xw#iiiiiiiiiiiii",
-     "#i###iii######### Vi",
-     "#iiiii####### Vi# ##",
-     "######### Vi# # # # ",
-     "##### Vi# # # #     ",
-     "# Vi# # # #         ",
-     "# # # #             ",
-     "# #                 ",
-     "#A# # # # # # # # # ",
-     "#i# ^i# ^i# ^i# ^i##",
-  }
-else
-  level = {
-     "#iii###0#0#0#0###00#",
-     "#i#ii &        a   0",
-     "#i##i B#0#0#0####00#",
-     "#iO&Xw#iiiiiiiiiiiii",
-     "#i###iii######### Vi",
-     "#iiiii### Vi# Vi# ##",
-     "##### Vi# # # # # # ",
-     "iii   #         A   ",
-     "i#                #<",
-     ">#                 i",
-     "                    ",
-     " # #i # # # # # # # ",
-     "## ^ii# ^i# ^i# ^i# ",
-  }
-end
-
-oxyd_default_flavor = "c"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/wb01_3.xml (from rev 1064, trunk/data/levels/enigma_iv/wb01_2.xml)
===================================================================
--- trunk/data/levels/enigma_iv/wb01_2.xml	2008-03-13 23:46:25 UTC (rev 1064)
+++ trunk/data/levels/enigma_iv/wb01_3.xml	2008-03-14 22:57:11 UTC (rev 1066)
@@ -0,0 +1,94 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Hurry!" el:subtitle="" el:id="wb1"/>
+      <el:version el:score="3" el:release="3" el:revision="2" el:status="released"/>
+      <el:author  el:name="Jon 'WB' Sneyers" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jon 'WB' Sneyers</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="0.92">
+       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+-- Nov 2005: Changes in level design, due to new timing engine.
+--           Added easy mode (some seconds more time) -- Andreas
+
+cells={}
+
+cells[" "]=cell{{{randomfloor, cell{floor="fl-tigris"}, 3, cell{floor="fl-samba"}, 1, cell{floor="fl-stone"}, 20}}}
+cells["w"]=cell{stone="st-wood"}
+cells["i"]=cell{stone="st-stoneimpulse"}
+cells["X"]=cell{stone="st-stoneimpulse-hollow"}
+
+cells["="]=cell{stone="st-rock5"}
+cells["#"]=cell{stone="st-rock6"}
+cells["."]=cell{floor="fl-abyss"}
+
+cells["&"]=cell{{{oneway, EAST}}}
+cells["%"]=cell{{{oneway, WEST}}}
+
+cells["V"]=cell{parent=cells[" "], stone="st-bolder-s"}
+cells[">"]=cell{parent=cells[" "], stone="st-bolder-e"}
+cells["<"]=cell{parent=cells[" "], stone="st-bolder-w"}
+cells["^"]=cell{parent=cells[" "], stone="st-bolder-n"}
+
+cells["a"]=cell{stone={face="st-door", attr={name="doorA", type="v"}}}
+cells["A"]=cell{item= {face="it-trigger", attr={action="close", target="doorA"}}}
+cells["B"]=cell{item= {face="it-trigger", attr={action="open", target="doorA"}}}
+cells["O"]=cell{actor={face="ac-blackball", attr={player=0}}}
+cells["0"]=oxyd
+
+if difficult then
+  level = {
+     "#iii###0#0#0#0###00#",
+     "#i#ii &        a   0",
+     "#i##i B#0#0#0####00#",
+     "#iO&Xw#iiiiiiiiiiiii",
+     "#i###iii######### Vi",
+     "#iiiii####### Vi# ##",
+     "######### Vi# # # # ",
+     "##### Vi# # # #     ",
+     "# Vi# # # #         ",
+     "# # # #             ",
+     "# #                 ",
+     "#A# # # # # # # # # ",
+     "#i# ^i# ^i# ^i# ^i##",
+  }
+else
+  level = {
+     "#iii###0#0#0#0###00#",
+     "#i#ii &        a   0",
+     "#i##i B#0#0#0####00#",
+     "#iO&Xw#iiiiiiiiiiiii",
+     "#i###iii######### Vi",
+     "#iiiii### Vi# Vi# ##",
+     "##### Vi# # # # # # ",
+     "iii   #         A   ",
+     "i#                #<",
+     ">#                 i",
+     "                   i",
+     " # #i # # # # # # # ",
+     "## ^ii# ^i# ^i# ^i# ",
+  }
+end
+
+oxyd_default_flavor = "c"
+set_default_parent(cells[" "])
+create_world_by_map(level)
+oxyd_shuffle()
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>
+

Modified: trunk/src/gui/LevelInspector.cc
===================================================================
--- trunk/src/gui/LevelInspector.cc	2008-03-14 22:51:23 UTC (rev 1065)
+++ trunk/src/gui/LevelInspector.cc	2008-03-14 22:57:11 UTC (rev 1066)
@@ -30,7 +30,7 @@
 #include "lev/ScoreManager.hh"
 #include "StateManager.hh"
 
-
+#include <iostream>
 #include <vector>
 
 using namespace ecl;
@@ -660,6 +660,10 @@
         std::string dedicationString = levelProxy->getDedication(true);
         std::string pathWorkString = levelPathString;
         ecl::Font *menufont = enigma::GetFont("menufont");
+
+        //DEBUG:
+        std::cout << "DEBUG: numLines" << numLines;
+
         for (int i = 0; i<numLines; i++) {
             bool assigned = false;
             do {



From raoul at mail.berlios.de  Sat Mar 15 00:00:35 2008
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 15 Mar 2008 00:00:35 +0100
Subject: [Enigma-game-svn] r1067 - trunk/src/gui
Message-ID: <200803142300.m2EN0Z5j024527@sheep.berlios.de>

Author: raoul
Date: 2008-03-15 00:00:35 +0100 (Sat, 15 Mar 2008)
New Revision: 1067

Modified:
   trunk/src/gui/LevelInspector.cc
Log:
-> Revert some testcode that escaped into the world



Modified: trunk/src/gui/LevelInspector.cc
===================================================================
--- trunk/src/gui/LevelInspector.cc	2008-03-14 22:57:11 UTC (rev 1066)
+++ trunk/src/gui/LevelInspector.cc	2008-03-14 23:00:35 UTC (rev 1067)
@@ -30,7 +30,7 @@
 #include "lev/ScoreManager.hh"
 #include "StateManager.hh"
 
-#include <iostream>
+
 #include <vector>
 
 using namespace ecl;
@@ -660,10 +660,6 @@
         std::string dedicationString = levelProxy->getDedication(true);
         std::string pathWorkString = levelPathString;
         ecl::Font *menufont = enigma::GetFont("menufont");
-
-        //DEBUG:
-        std::cout << "DEBUG: numLines" << numLines;
-
         for (int i = 0; i<numLines; i++) {
             bool assigned = false;
             do {



From andreasl at mail.berlios.de  Sat Mar 15 00:50:17 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Sat, 15 Mar 2008 00:50:17 +0100
Subject: [Enigma-game-svn] r1068 - homepage/input
Message-ID: <200803142350.m2ENoHGF029243@sheep.berlios.de>

Author: andreasl
Date: 2008-03-15 00:50:15 +0100 (Sat, 15 Mar 2008)
New Revision: 1068

Modified:
   homepage/input/infobox.html
   homepage/input/infobox_de.html
Log:
Homepage:
 - New mini news in infobox: "500.000 Downloads"
Todo:
 - Russian translation


Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2008-03-14 23:00:35 UTC (rev 1067)
+++ homepage/input/infobox.html	2008-03-14 23:50:15 UTC (rev 1068)
@@ -1,8 +1,9 @@
     <div class="infobody">
        <div class="info">
-         <h3>100% Solved!</h3>
-         Congratulations to our Japanese user Ryujun who succeeded first
-         in solving all levels of Enigma 1.01 in easy and difficult mode.
+         <h3>500,000 Downloads!</h3>
+         In 2 out of 3 statistics, Enigma jumped the 500.000 downloads mark on
+         the Berlios server. This includes downloads from 0.92 up to 1.01.
+         Thanks to all players who made this possible!
          <h3>Level of the Month</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2008-03-14 23:00:35 UTC (rev 1067)
+++ homepage/input/infobox_de.html	2008-03-14 23:50:15 UTC (rev 1068)
@@ -1,9 +1,10 @@
     <div class="infobody">
        <div class="info">
-         <h3>100% Gel?st!</h3>
-         Gl&uuml;ckwunsch an unseren japanischen Spieler Ryujun, dem es
-	 als erstem gelungen ist, alle Level von Enigma 1.01 im einfachen
-	 und im schwierigen Modus zu l?sen.
+         <h3>500.000 Downloads!</h3>
+         In zwei von drei Statistiken hat Enigma die
+         500.000-Download-Marke auf dem Berlios-Server &uuml;bersprungen.
+         Dies umfasst Downloads von 0.92 bis 1.01. Vielen Dank an alle Spieler,
+         die dies m&ouml;glich gemacht haben!
          <h3>Level des Monats</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>



From andreas.lochmann at stud.uni-goettingen.de  Sat Mar 15 00:38:52 2008
From: andreas.lochmann at stud.uni-goettingen.de (Andreas Lochmann)
Date: Sat, 15 Mar 2008 00:38:52 +0100
Subject: [Enigma-game-svn] Level "Hurry" - Re:  r1066
In-Reply-To: <200803142257.m2EMvCo3023888@sheep.berlios.de>
References: <200803142257.m2EMvCo3023888@sheep.berlios.de>
Message-ID: <47DB0C8C.3040908@stud.uni-goettingen.de>


Hi,

raoul at BerliOS schrieb:
> Author: raoul
> Date: 2008-03-14 23:57:11 +0100 (Fri, 14 Mar 2008)
> New Revision: 1066
>
> Added:
>    trunk/data/levels/enigma_iv/wb01_3.xml
> Removed:
>    trunk/data/levels/enigma_iv/wb01_2.xml
> Modified:
>    trunk/data/levels/enigma_cross/enigma0_92_1.xml
>    trunk/data/levels/enigma_cross/enigma0_92_2.xml
>    trunk/data/levels/enigma_iii/index.xml
>    trunk/data/levels/enigma_iii/siegfried40_1.xml
>    trunk/data/levels/enigma_iv/index.xml
>    trunk/src/gui/LevelInspector.cc
> Log:
> -> Level(bug)fixes for
> --> "Jump and Run": Second bolder because of new API
> --> "Hurry!": Second impulsestone in easymode
>
>   
Hmm ... brauchen wir f?r "Hurry!" da wirklich einen
neuen Release? Immerhin ist der zeitliche Unterschied
minimal ...

Sch?ne Gr??e,
Andreas



From ral at mail.berlios.de  Sat Mar 15 01:42:43 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 15 Mar 2008 01:42:43 +0100
Subject: [Enigma-game-svn] r1069 - in trunk: data/schemas src/stones
Message-ID: <200803150042.m2F0ghe9018496@sheep.berlios.de>

Author: ral
Date: 2008-03-15 01:42:42 +0100 (Sat, 15 Mar 2008)
New Revision: 1069

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/stones/BoulderStone.cc
   trunk/src/stones/LaserStone.cc
Log:
Trunk 1.1: new API
- BoulderStone: xml object description added
- BoulderStone: renamed attribute direction to orientation
- BoulderStone: added messages turn, turnback
- LaserStone: added messages turn, turnback, orientate

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-14 23:50:15 UTC (rev 1068)
+++ trunk/data/schemas/objects.xml	2008-03-15 00:42:42 UTC (rev 1069)
@@ -26,9 +26,12 @@
     <msg name="off" type="nil"/>
     <msg name="on" type="nil"/>
     <msg name="open" type="nil"/>
+    <msg name="orientate" type="nil"/>
     <msg name="shuffle" type="nil"/>
     <msg name="signal" type="int" min="0" max="1"/>
     <msg name="toggle" type="nil"/>
+    <msg name="turn" type="nil"/>
+    <msg name="turnback" type="nil"/>
     <msg name="_bombstone" type="nil"/>
     <msg name="_explosion" type="nil"/>
     <msg name="_init" type="nil"/>
@@ -105,6 +108,24 @@
     </object>
     <object name="st_blocker_new" init="true">
     </object>
+    <object name="st_boulder">
+      <attr name="orientation"/>
+      <msg name="orientate"/>
+      <msg name="turn"/>
+      <msg name="turnback"/>
+    </object>
+    <object name="st_boulder_w">
+      <attr name="orientation" value="0"/>
+    </object>
+    <object name="st_boulder_s">
+      <attr name="orientation" value="1"/>
+    </object>
+    <object name="st_boulder_e">
+      <attr name="orientation" value="2"/>
+    </object>
+    <object name="st_boulder_n">
+      <attr name="orientation" value="3"/>
+    </object>
     <object name="st_floppy">
       <msg name="on"/>
       <msg name="off"/>
@@ -120,7 +141,10 @@
       <attr name="orientation"/>
       <msg name="on"/>
       <msg name="off"/>
+      <msg name="orientate"/>
       <msg name="signal"/>
+      <msg name="turn"/>
+      <msg name="turnback"/>
     </object>
     <object name="st_laser_w">
       <attr name="orientation" value="0"/>

Modified: trunk/src/stones/BoulderStone.cc
===================================================================
--- trunk/src/stones/BoulderStone.cc	2008-03-14 23:50:15 UTC (rev 1068)
+++ trunk/src/stones/BoulderStone.cc	2008-03-15 00:42:42 UTC (rev 1069)
@@ -27,11 +27,11 @@
     BoulderStone::BoulderStone(Direction dir) {
         state = INIT;
         // do not use set_dir, because this will set the state to ACTIVE
-        Object::setAttr("direction", dir);
+        Object::setAttr("orientation", dir);
     }
     
     void BoulderStone::setAttr(const string& key, const Value &val) {
-        if (key == "direction") {
+        if (key == "orientation") {
             if (isDisplayable())
                 setDir(to_direction(val));
             else
@@ -45,6 +45,12 @@
         if (m.message == "orientate" && state != FALLING && isDisplayable()) {
             setDir(to_direction(m.value));
             return Value();
+        } else if (m.message == "turn" && state != FALLING && isDisplayable()) {
+            setDir(rotate_cw(getDir()));
+            return Value();
+        } else if (m.message == "turnback" && state != FALLING && isDisplayable()) {
+            setDir(rotate_ccw(getDir()));
+            return Value();
         }
         return PhotoStone::message(m);
     }
@@ -145,12 +151,12 @@
     }
 
     Direction BoulderStone::getDir() const {
-        return to_direction(getAttr("direction"));
+        return to_direction(getAttr("orientation"));
     }
     
     void BoulderStone::setDir(Direction d) {
         if (d != getDir() && (state != FALLING)) {
-            Object::setAttr("direction", d);
+            Object::setAttr("orientation", d);
             state = ACTIVE;   // if turned by it-magicwand -> allow triggering
             triggerObstacle(getDir(), true);
             init_model();

Modified: trunk/src/stones/LaserStone.cc
===================================================================
--- trunk/src/stones/LaserStone.cc	2008-03-14 23:50:15 UTC (rev 1068)
+++ trunk/src/stones/LaserStone.cc	2008-03-15 00:42:42 UTC (rev 1069)
@@ -57,6 +57,7 @@
         if (isDisplayable())
             if (key == "orientation") {
                 Stone::setAttr(key, val);
+                RecalcLight();
                 init_model();
                 return;
             }
@@ -64,9 +65,15 @@
     }
     
     Value LaserStone::message(const Message &m) {
-        if (m.message == "orientate") {
-            Stone::setAttr("orientation", m.value);
+        if (m.message == "orientate" && isDisplayable()) {
+            setAttr("orientation", m.value);
             return Value();
+        } else if (m.message == "turn" && isDisplayable()) {
+            setAttr("orientation", rotate_cw(getOrientation()));
+            return Value();
+        } else if (m.message == "turnback" && isDisplayable()) {
+            setAttr("orientation", rotate_ccw(getOrientation()));
+            return Value();
         }
         return Stone::message(m);
     }



From ral at mail.berlios.de  Sat Mar 15 01:49:51 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 15 Mar 2008 01:49:51 +0100
Subject: [Enigma-game-svn] r1070 - team_levelpacks/team_test_new_api
Message-ID: <200803150049.m2F0np4Y018792@sheep.berlios.de>

Author: ral
Date: 2008-03-15 01:49:51 +0100 (Sat, 15 Mar 2008)
New Revision: 1070

Modified:
   team_levelpacks/team_test_new_api/ralT016_1.xml
   team_levelpacks/team_test_new_api/ralT025_1.xml
   team_levelpacks/team_test_new_api/ralT031_1.xml
Log:
Test Level new API:
- some fixes due to renaming of objects


Modified: team_levelpacks/team_test_new_api/ralT016_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT016_1.xml	2008-03-15 00:42:42 UTC (rev 1069)
+++ team_levelpacks/team_test_new_api/ralT016_1.xml	2008-03-15 00:49:51 UTC (rev 1070)
@@ -28,7 +28,7 @@
 ti["B"] = ti[" "] .. {"st_boulder_n"}
 ti["W"] = ti[" "] .. {"st-white1"}
 ti["P"] = ti[" "] .. {"st-plain"}
-ti["p"] = ti[" "] .. {"st-polarswitch"}
+ti["p"] = ti[" "] .. {"st_polarswitch"}
 ti["E"] = ti[" "] .. {"st_laser_e", state = ON}
 ti["e"] = ti[" "] .. {"st_laser_n", state = ON}
 ti["m"] = ti[" "] .. {"st-pmirror", movable=1, transparent=true, orientation=2}

Modified: team_levelpacks/team_test_new_api/ralT025_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT025_1.xml	2008-03-15 00:42:42 UTC (rev 1069)
+++ team_levelpacks/team_test_new_api/ralT025_1.xml	2008-03-15 00:49:51 UTC (rev 1070)
@@ -28,7 +28,7 @@
 ti["T"] = ti[" "] .. {"st_switch", name="swt#"}
 ti["D"] = ti[" "] .. {"st-door-v", name="do#"}
 ti["R"] = ti[" "] .. {"st_boulder_n", name="boulder"}
-ti["L"] = ti[" "] .. {"st-laserswitch", target="door1", action="signal"}
+ti["L"] = ti[" "] .. {"st_laserswitch", target="door1", action="signal"}
 
 ti["f"] = ti[" "] .. {"st_fourswitch", target="swo#1", action="signal"}
 ti["F"] = ti[" "] .. {"st_fourswitch", target="sw#1", action="signal", inverse=true}

Modified: team_levelpacks/team_test_new_api/ralT031_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT031_1.xml	2008-03-15 00:42:42 UTC (rev 1069)
+++ team_levelpacks/team_test_new_api/ralT031_1.xml	2008-03-15 00:49:51 UTC (rev 1070)
@@ -92,7 +92,7 @@
 end
   
 function makeactor(value, sender)
-    wo[no["triggerA"]] = {"#ac-whiteball-small", plazer=nil, controllers=0}
+    wo[no["triggerA"]] = {"#ac-whiteball-small", player=nil, controllers=0}
 end
 
 function killstone(value, sender)



From ral at mail.berlios.de  Sat Mar 15 11:34:50 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 15 Mar 2008 11:34:50 +0100
Subject: [Enigma-game-svn] r1071 - in trunk: data data/schemas src/stones
Message-ID: <200803151034.m2FAYol3013622@sheep.berlios.de>

Author: ral
Date: 2008-03-15 11:34:49 +0100 (Sat, 15 Mar 2008)
New Revision: 1071

Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/stones/BoulderStone.cc
   trunk/src/stones/LaserStone.cc
Log:
Trunk 1.1: new API
- BoulderStone: fixed old API mapping of "direction" attribute
- BoulderStone: added attribute "counterclock"
- LaserStone: added attribute "counterclock"
- simplified old API mapping of "on" attribute as all OnOff are 
  reengineered


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-15 00:49:51 UTC (rev 1070)
+++ trunk/data/api1init.lua	2008-03-15 10:34:49 UTC (rev 1071)
@@ -175,23 +175,23 @@
              _key = "oxydcolor"
 	 end
      end
-     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
-             or (_obj_name == "st-switch_white") 
-             or (_obj_name == "st-floppy") 
-             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
-             or (_obj_name == "it-magnet-off") or (_obj_name == "it-wormhole")
-             or (_obj_name == "it-wormhole-off") or (_obj_name == "st-laser")
-             or (_obj_name == "st-polarswitch") or (_obj_name == "st-timer") then
-         if key == "on" then
-	     _key = "state"   -- new attr name
-	 end
-     end
-     if key == "dir" then
+--     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
+--             or (_obj_name == "st-switch_white") 
+--             or (_obj_name == "st-floppy") 
+--             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
+--             or (_obj_name == "it-magnet-off") or (_obj_name == "it-wormhole")
+--             or (_obj_name == "it-wormhole-off") or (_obj_name == "st-laser")
+--             or (_obj_name == "st-polarswitch") or (_obj_name == "st-timer") then
+--         if key == "on" then
+--	     _key = "state"   -- new attr name
+--	 end
+--     end
+     if key == "dir" or key == "direction" then
          _key = "orientation"
      end
---     if key == "on" then
---         _key = "state"
---     end
+     if key == "on" then
+         _key = "state"
+     end
      if key == "targetx" then
          local d = enigma._GetAttrib(obj, "destination")
          if (en.usertype(d) == "position") then
@@ -243,29 +243,29 @@
 function enigma.GetAttrib(obj, key)
      local _key = key
      local _obj_name = enigma.GetKind(obj)
-     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
-             or (_obj_name == "st-switch_white") 
-             or (_obj_name == "st-floppy")
-             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
-             or (_obj_name == "it-magnet-off")  or (_obj_name == "it-wormhole")
-             or (_obj_name == "it-wormhole-off")  or (_obj_name == "st-laser")
-             or (_obj_name == "st-polarswitch")  or (_obj_name == "st-timer") then
-         if key == "on" then
-	     _key = "state"
-	     end
-     end
+--     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
+--             or (_obj_name == "st-switch_white") 
+--             or (_obj_name == "st-floppy")
+--             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
+--             or (_obj_name == "it-magnet-off")  or (_obj_name == "it-wormhole")
+--             or (_obj_name == "it-wormhole-off")  or (_obj_name == "st-laser")
+--             or (_obj_name == "st-polarswitch")  or (_obj_name == "st-timer") then
+--         if key == "on" then
+--	     _key = "state"
+--	     end
+--     end
      if key == "blackball" or key == "whiteball" then
          _key = "color"
      end
      if _obj_name == "st-oxyd" then
          _key = "oxydcolor"
      end
-     if key == "dir" then
+     if key == "dir" or key == "direction" then
          _key = "orientation"
      end
---     if key == "on" then
---         _key = "state"
---     end
+     if key == "on" then
+         _key = "state"
+     end
 
      local val = enigma._GetAttrib(obj, _key)
      

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-15 00:49:51 UTC (rev 1070)
+++ trunk/data/schemas/objects.xml	2008-03-15 10:34:49 UTC (rev 1071)
@@ -109,6 +109,7 @@
     <object name="st_blocker_new" init="true">
     </object>
     <object name="st_boulder">
+      <attr name="counterclock"/>
       <attr name="orientation"/>
       <msg name="orientate"/>
       <msg name="turn"/>
@@ -138,6 +139,7 @@
       <msg name="_trigger"/>
     </object>
     <object name="st_laser">
+      <attr name="counterclock"/>
       <attr name="orientation"/>
       <msg name="on"/>
       <msg name="off"/>

Modified: trunk/src/stones/BoulderStone.cc
===================================================================
--- trunk/src/stones/BoulderStone.cc	2008-03-15 00:49:51 UTC (rev 1070)
+++ trunk/src/stones/BoulderStone.cc	2008-03-15 10:34:49 UTC (rev 1071)
@@ -45,12 +45,11 @@
         if (m.message == "orientate" && state != FALLING && isDisplayable()) {
             setDir(to_direction(m.value));
             return Value();
-        } else if (m.message == "turn" && state != FALLING && isDisplayable()) {
-            setDir(rotate_cw(getDir()));
+        } else if ((m.message == "turn" || m.message == "turnback") && state != FALLING && isDisplayable()) {
+            setDir((m.message == "turn" && !getAttr("counterclock").to_bool() || 
+                    m.message == "turnback" && getAttr("counterclock").to_bool())
+                    ? rotate_cw(getDir()) : rotate_ccw(getDir()));
             return Value();
-        } else if (m.message == "turnback" && state != FALLING && isDisplayable()) {
-            setDir(rotate_ccw(getDir()));
-            return Value();
         }
         return PhotoStone::message(m);
     }

Modified: trunk/src/stones/LaserStone.cc
===================================================================
--- trunk/src/stones/LaserStone.cc	2008-03-15 00:49:51 UTC (rev 1070)
+++ trunk/src/stones/LaserStone.cc	2008-03-15 10:34:49 UTC (rev 1071)
@@ -68,12 +68,11 @@
         if (m.message == "orientate" && isDisplayable()) {
             setAttr("orientation", m.value);
             return Value();
-        } else if (m.message == "turn" && isDisplayable()) {
-            setAttr("orientation", rotate_cw(getOrientation()));
+        } else if ((m.message == "turn" || m.message == "turnback") && isDisplayable()) {
+            setAttr("orientation", (m.message == "turn" && !getAttr("counterclock").to_bool() || 
+                    m.message == "turnback" && getAttr("counterclock").to_bool())
+                    ? rotate_cw(getOrientation()) : rotate_ccw(getOrientation()));
             return Value();
-        } else if (m.message == "turnback" && isDisplayable()) {
-            setAttr("orientation", rotate_ccw(getOrientation()));
-            return Value();
         }
         return Stone::message(m);
     }



From andreasl at mail.berlios.de  Sat Mar 15 17:09:03 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Sat, 15 Mar 2008 17:09:03 +0100
Subject: [Enigma-game-svn] r1072 - homepage/input/lotm
Message-ID: <200803151609.m2FG93qY001416@sheep.berlios.de>

Author: andreasl
Date: 2008-03-15 17:09:03 +0100 (Sat, 15 Mar 2008)
New Revision: 1072

Modified:
   homepage/input/lotm/lotm_200803.html
Log:
LotM 3/08:
 - English Proofread
Todo:
 - Change umlauts in German LotM
 - Russian translation
 - Validation and upload


Modified: homepage/input/lotm/lotm_200803.html
===================================================================
--- homepage/input/lotm/lotm_200803.html	2008-03-15 10:34:49 UTC (rev 1071)
+++ homepage/input/lotm/lotm_200803.html	2008-03-15 16:09:03 UTC (rev 1072)
@@ -5,14 +5,14 @@
 &quot;Psycho Pushing&quot; by Sven Siggelkow
 </h3>
 
-<p>Dear visitor, please be quiet as we now enter Enigma's asylum. As you
-certainly know, the modern lunatic of today carries not only a split
-personality, but a Cantor set of identities. Our Level of the Month March
-respects this quiet good. As you see, each of our four buildings is itself
-split into two separated cells for our guests. Don't worry, most of them are
-quiet harmless, phlegmatic inhabitants of our institution. Just take care, that
-you don't end here as a psycho as well, when you try to push them to their
-beds; welcome to &quot;Psycho Pushing&quot;!</p>
+<p>Dear Visitor, please do not make any unnecessary noises as we enter Enigma's
+mental asylum.  As you know, today's lunatic not only has a split personality,
+but a Cantor set of multiple identities.  Our March Level of the Month bears this in
+mind.  As you will see, each of our four buildings is split into two separate
+cells for our guests.  Don't worry; most of them are quite harmless, sedate
+inhabitants of our institution.  Just take care that you don't end up committed
+here as a psycho as well, when you try to push the patients into their beds. 
+Welcome to &quot;Psycho Pushing!&quot;</p>
 
 <div class="lotmpic">
 <img src="$$imagedir$$/lotm/lotm_200803_a.png" alt="Level of the month" border="0">
@@ -155,13 +155,13 @@
 complex. Two guards secure the cell while the warden is inside. The three
 inmates of this cell suffer from amnesia from being hit too hard, and always
 forget where their beds are. In the cell on the right, we have three
-cleptomaniacs, who had to hide objects below them in some unnamed nightmarishly
+kleptomaniacs, who had to hide objects below them in some unnamed nightmarishly
 level. Please be careful, you never know what items they might have brought
 here. Last time they managed to hide a snowman in their cell, which consequently
 melted &hellip; please take care not to slip on the wet floor.
 </p>
 
-<h4>&quot;'Psycho Pushing' got one of my favorite levels&quot;</h4>
+<h4>&quot;'Psycho Pushing' became one of my favorite levels&quot;</h4>
 
 <p>The next cell is inhabited by some compulsive gamblers on detox. Oh, they are
 nice fellows, they worked as turnstiles some months ago. Bring along something
@@ -177,25 +177,25 @@
 </div>
 
 <div class="quote">
-No other level did cause such contradicting phases of emotions on me than
-&quot;Psycho Pushing&quot; in the years I know this level.
+In the years since I started playing this level, no other level has caused me
+such conflicting emotions.
 </div>
 
 <div class="quote">
-First I became simply frustrated by this level as I was not fast enough with my
-marble to enter the upper left puzzle before the seeds close the gate. I did saw
-all these challenging nice sokoban like puzzles, but I had to go back improving
+First I became simply frustrated as I was not fast enough with my
+marble to enter the upper left puzzle before the seeds close the gate. I saw
+all these nice, challenging sokoban-like puzzles, but I had to go back improving
 my skills on the many other levels that I still had to solve.
 </div>
 
 <div class="quote">
-After quite a time I returned to this level. Now I had no major problem entering
-the puzzles and I really enjoyed them. &quot;Psycho Pushing&quot; got one of my
+After quite a time I returned to this level. I no longer had any major problems entering
+the puzzles and I really enjoyed them. &quot;Psycho Pushing&quot; became one of my
 favorite levels.
 </div>
 
 <div class="quote">
-But then I discovered that you can shortcut some of the puzzles. I really got
+But then I discovered some shortcuts to some of the puzzles. I really got
 disappointed. All these nice puzzles and you must circumvent some of them to get
 a low score? I thought that the shortcuts have to be fixed.
 </div>
@@ -225,8 +225,8 @@
 
 <div class="author">Ronald Lamprecht</div>
 
-<p>The inmates of the first cell on the Southern side of our asylum must keep
-locked in, as they suffer from dementia. They once were boulder stones, and
+<p>The inmates of the first cell on the Southern side of our asylum must remain
+locked up, as they suffer from dementia. They once were boulder stones, and
 still tend to wander around, until they suddenly get astray and don't know where
 they are. Thus we better keep them in their cells, so they don't get into
 troubles. Which happens quite easily, their neighbors being overly aggressive
@@ -252,7 +252,7 @@
 think of themselves being other types of stones, and mimic them. That's what
 often happens to stones that don't fit to their surrounding design, very
 tragic. Please don't ask why there are four beds for only three inmates:
-Sometimes one of them hides that well that we can't find him anymore &hellip;
+Sometimes one of them hides so well that we can't find him anymore &hellip;
 </p>
 
 <p>And now, some words from the director and founder of this intricate



From ged at mail.berlios.de  Sat Mar 15 19:23:31 2008
From: ged at mail.berlios.de (ged at mail.berlios.de)
Date: Sat, 15 Mar 2008 19:23:31 +0100
Subject: [Enigma-game-svn] r1073 - homepage/input/lotm
Message-ID: <200803151823.m2FINVmL018091@sheep.berlios.de>

Author: ged
Date: 2008-03-15 19:23:22 +0100 (Sat, 15 Mar 2008)
New Revision: 1073

Added:
   homepage/input/lotm/lotm_200706_ru.html
   homepage/input/lotm/lotm_200707_ru.html
   homepage/input/lotm/lotm_200708_ru.html
   homepage/input/lotm/lotm_200803_ru.html
Modified:
   homepage/input/lotm/lotm_200802_ru.html
   homepage/input/lotm/lotm_header_ru.html
Log:
Homepage:
	- added Russian translations of LotMs of June, July and August 2007 and LotM of March 2008;
	- fixed typos at February 2008 and lotm_header, now Russian translation of homepage is full;


Added: homepage/input/lotm/lotm_200706_ru.html
===================================================================
--- homepage/input/lotm/lotm_200706_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_200706_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -0,0 +1,244 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">???? 2007: </span>
+    &quot;Labyrinth of Puzzles&quot; ?? Jacob Scott
+  </h3>
+
+  <p>????? ???-?? ???????, ??? ?????? ?????? ?? ?? ??? ?? ???????? ? ???? ?????? ?? ??????? ????
+  ?? ???????????? ??????? Enigma, ?? ??????? ??????????????? ??????? Oxyd.
+  ?????????? ????? ???????????? ?? ???? ??????? ??????? Enigma, ????????????? ??????
+  ????? Meinolf Schneider. ??????????? ?????? ??????? Jacob'?: ?? ??????????? ?
+  &quot;Labyrinth of Puzzles&quot;!</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_a.png" alt="Level of the month" border="0">
+    <div class="imagetitle">Enigma IV # 19</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">????????? ???????? ??? 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">9:18</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">10:40</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:53</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">13:33</td>
+        <td class="left">Duffy</td></tr>
+    <tr><td class="num">15:41</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">15:42</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">19:15</td>
+        <td class="left">hdwow</td></tr>
+    <tr><td class="num">19:45</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">20:32</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">22:16</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">26:21</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">32:22</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:52</td>
+        <td class="left">Edgar_Flesk</td></tr>
+    <tr><td class="num">39:50</td>
+        <td class="left">Tarim</td></tr>
+    <tr><td class="num">40:15</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">40:45</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">41:28</td>
+        <td class="left">Klaus</td></tr>
+    <tr><td class="num">45:06</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">45:30</td>
+        <td class="left">HuB34</td></tr>
+    <tr><td class="num">46:42</td>
+        <td class="left">Marc-Hendrik</td></tr>
+    <tr><td class="num">46:59</td>
+        <td class="left">Sim_Ed</td></tr>
+  </table>
+
+  <p>?? ????? ????, ? ??? ??????, ??? &quot;Labyrinth of Puzzles&quot; ??????
+  ??????? ??? 2007 -- ??, ?? ??? ???????? ????? ????????? &quot;The Aztec
+  Temple&quot;. &quot;Labyrinth of Puzzles&quot; ??????? 7 ???????, ? ???????
+  <b>9.00</b> ??????, ? ?? ????? ??? &quot;The Aztec Temple&quot; ??? ?????? ????? 3 ????????.
+  ? ????? <a href="$$lotm$$">??????? ??????</a> ?? ????? ???????? ??? ??????????
+  ?????? ?????? ? ?? ??????? ?????????? -- ? ????????? ?????? ????? ??????????? ????????? ????? ?????
+  ????????????? ? ???????????? ????????!</p>
+
+  <h4>&quot;duffy - ???? ?????????? ?????????????? ???? (???????? - "diabolically unfolding frustration
+  for you")&quot;</h4>
+
+  <p class="quote">
+  ???/??? ?????(??) ???????? ??????? ?? ????????. ? ???? ? ????,
+  ??? ?? ??????? ? ????????, ??????? ??????? ????? ??????????? ??????,
+  ??? ???? ????? ? ??? ???????? ???? ? ????.
+  island of safety, the alien glyph trilogy, the document, security
+  guards, bad nightmare, worse nightmare, double-spiral ?, ???????,
+  ???????????? labyrinth of puzzles.</p>
+
+<p>[?????????? ?????? &hellip; ?? ????? &quot;Seed Puzzles&quot;! ;-]</p>
+
+  <p class="quote">
+  ???? ??????? ???????? ???? ?????? ??????????? ? ?????, ?????? ????? ? ???
+  ??? ?????????? ? ??? ?????????? ????????. ? ???????? duffy!
+  ? ???????? ??? ?? ???????? ????? ????????? ???????, ??????? ? ???????? ?
+  Enigma. &hellip; ? ?? ?? ????? ? ??? ? ????? duffy!
+  ? ????? ??? ?? ??? ?? ???????.</p>
+
+  <p class="quote">
+  duffy ??????? ?????? ???????? ????????? ???? ?? ??????? ???????? ????? ??????????? ???????.
+  ? ?????, ??? ????? ??????? ?????? labyrinth of puzzles ? ??????? ??? ???? '??? ?????? ????
+  ?????? ? ?????? ???????? 5 ?????' &hellip; ??? ???? ?? ????, ??? ? ?????????? ? ?????? ?????????
+  ? ?????????????? ? ???? ? ????????????? ??? ?????? ?? ???? ????????? &hellip; ??? ????????????
+  ?? ?????????? ????? ??????. ?? ????????? ???-?? ?????? ? ????????????????, ?????? ??? ?? ??????
+  ????? ????????? ??????????? ???????? ???????????. ??? ???????? ? ?????. duffy ?????????? ????? ?????
+  ?????, ??????? ???????? ???, ??? ????? ??????? ??????? ????????? ???????, ? ????? ?????????????? ?
+  ????????? ??????. ? ????, ??? ??? ??????? ?? ?????? ????? ?????? ??? ???? ? ??? ?????????? ???? ??????????,
+  ??? ????????? ? ??? ??????. ??? ?? ?????? ? ??????? ??? ???????????? ???????, ??????? ????????
+  ???????????? ?????? ? ?????? ?????? ? &hellip; ????? ????????? ??? ??? ??????????? ?????? ??? ??????.</p>
+
+  <p class="quote">
+  ????? ???? labyrinth of puzzles ???????? ? ???? ?? ????????? ??????? duffy,
+  ? ??? ??? ??????, ??? ??????? ???????? ?? ??? ????? ?????, ??????? ???????
+  ????? ?? ????????? ? ???????? ??????? ??? labyrinth of puzzles.
+  ??? ??????????? ???????? ? ?????????? ?????????. ???? ???????, ???
+  ? ??? ????? ????????? ????? ???? ??????????????? ???????. ? ?????? ??????,
+  ??? ? ? ???????, ???? ??? ? ??????. ???? ?????? ?? ???????? ?????????? ? ?????
+  ??????? ???????. ???????????? ????, ? ??????? ? ?????: ?????? ?? ??????? ????????
+  ?????? ???????. ????? ????, ???? ?? ? ???? ???? ?????? ???????, ?? ?????? ?????
+  ???? ?? ??????????? ??????????? ??????. ??????? duffy ? ?????????? ?????????
+  ?????? ??????, ??????? '?????????????' ???????. ???? ?????? ?????????, ????????? ? ?????? ?????
+  ????????? ??????? ??????? ?? ???? ? ??? ??????????? ????????????.</p>
+  <p class="author">illmind</p>
+
+  <p>&quot;Labyrinth of Puzzles&quot; - ???? ?? ???????? ?????? ??????? Enigma,
+  ???????????? ????? ????????????? ? Oxyd. ?? ????: ????????? ????????? ????????? ?? ???, ???
+  ?????? ? Enigma, ? ?????? ??? ? ????? ?? ?????? ??? Oxyd. ?? ????????? ???? ???????? ???,
+  ????? ?????????? ?????? ????? -- ? &quot;Labyrinth
+  of Puzzles&quot; ? ????? ????????? ? ? ?????????? ????? ?????????? ????. Jacob
+  ?? ???????? ?????? ???? ?????. ????? ????, ???? ?? ??? ??????????? ???????? ?? ???? ??????
+  ??????, ??????? ????? ?????????? ?????????? ????? ??????? ???????.
+  ?????????? &quot;Seed Puzzle II&quot; ? &quot;Ice-Bomb&quot;, ???? ?? ?? ?????? ? ??? ?.</p>
+
+  <h4>&quot;??? ??? ???? ?? ?????? '??????? ???????', ??????? ? ????????? ??????&quot;</h4>
+
+  <p>???? ????????? ????????? ???????????? ????? ???????:</p>
+
+  <p class="quote">
+  'Labyrinth of Puzzles' ???? ?? ????? ???????? ??????? Enigma ? ????????? ???????
+  ???? ?????????????? ?????. ????? ? ??????? ???????????? Enigma, ??????? ???????????? ?
+  ????????????? ???? ??????? Linux, ? ????? ????? ?????? ? ??? ????? ??? ???????????.
+  ????????? ??? ?????? ? ????? ?????-????? ?????? Oxyd, ??????? ??? ????? ?????????, ??
+  Enigma ??????? ????? ??.</p>
+  
+  <p class="quote">
+  ???????? ??? ???????? ???? ???????, ?????? ??? ??? ??? ???? ?? ?????? '??????? ???????',
+  ??????? ? ????????? ??????. ??-?? ????, ??? ? ??? ?? ??? ??????? ? Enigma, ??? ??? ??? ????
+  '???? ?? ??? ??????? ???????, ??????? ? ? ????? ?????? ??????? ?? ????'. ?????????? ?
+  ???????? ?????????? ??????, ?????? ??? ???? ??????? ?? ????? ?? ? ??????? ? ????? ?????
+  ????????? ??????? ??????. ??????? ??? ?????? ??, ??? ??????????? ?? ????? ???? ????? ?????
+  '?????????' ??-?? ????????? ????. ??? ?????? ??? ??????? ????????????? ??????? ??? ???????,
+  ??????? ????? ??????? ?? ????? ??????? ?????? ???? ??????? ????, ??????? ? ???? ?? ????? ?????????,
+  ????? ??? 'Island Labyrinth' ??? 'Aztec Temple'.
+  ????????? ? ??? ?? ????, Jacob! </p>
+  <p class="author">Manfredi Carta</p>
+    
+  <p class="quote">
+  ?? ???? ???????, ??????? ??????? ??? Jacob, &quot;Labyrinth of Puzzles&quot;
+  ?????????? ???? ?? ???? ???????. ?? ?????? ?? ??, ??? ?????? ? ??????? ??????? ????? ??????????
+  &quot;Island Labyrinth&quot;, ????? ????? ????? ????? ??????????? ????.
+  ??? ???????? ??????????? ????????? ???? ???? ??????? ? &quot;Labyrinth
+  of   Puzzles&quot;. ? ???????????? ??????? ?????? ????? ??????? ?? ?????? ? ????????.
+  ??????, ?? ??? ??????? ????? ? ??? ????? ?????? ?????? ????? (??? ? ?? ?????? ?????? ???????).
+  ? ???????, ????????? ??????? ????????? ?????. ????? ?? ?????????????? ????? &quot;??????? ??? ???????&quot;,
+  ?? ?????? ????? ????? ?????? ????????? ??????????? ????? ??????? ? ????? ????? ?????????? ???????.
+  ? ????? ? ???? ???????, ??? ???? ?????? ????????? &quot;Labyrinth of Puzzles&quot;, ??????? ?????????? ????
+  ?????? ? Enigma. ??????? ??????? ?? ???? ??????? ???????, Jacob!</p>
+  <p class="author">Manuel K&ouml;nig</p>
+
+  <p class="quote">
+  ? ??? ?? ????????? Labyrinth of Puzzles, ?? ??? ??? ??????? ??? ???????, ?????? ??? ?? ???????,
+  ????? ? ??????? ????? ????????? ?????, ????? ????????? ???.
+  ? ?????? ??? ????????????? ??????? ???-???. ? ?? ????? ?????? ??? ????????????? ?????? ?
+  ?? ???? ?????? ?? ????? ????, ???? ???? ???????? ??????????? ????????. </p>
+  
+  <p class="quote">
+  ????????? ??????? ???????, ??? ???? ? Island Labyrinth, ? ????????? ?????? ?????????
+  (?? ?????? ??????? ??!) ? ?????????? ?? ? ?????? ?????, ????? ??????? ????, ??????? ? ?????.</p>
+
+  <p class="quote">
+  ???? ??????, ????????? ??????? ?????? ? ????? ??????, ????? ???????????, ?? ? ??????????? ?? ???????,
+  ???? ???????, ???? ?????????.</p>
+  <p class="author">Linda Mihalic</p>
+
+
+  <h4>&quot;? ?????? ???, ??? ???? ? ?????? ???????????&quot;</h4>
+
+  <p>????? &quot;Labyrinth of Puzzles&quot; ? &quot;Double-Spiral&quot; ???? ????????????
+  ????????: illmind ??? ???????? ?? ????. ? ??? ???? ??? ????? ???????????? ? ??????? ???????
+  it-brush ?????? ? fl-space, ??????? ? ???????; ? ????? ?????? ????????: ? ????? ???????
+  ????? ? ?????? ????? ?????????? ? ?????? ?????? ? ?????? ???????????. ???? ?? ??????????? ????????
+  ????????? Jacob'?, ?? ??????? ??????:</p>
+
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_b.png" alt="Level of the month" border="0">
+    <div class="imagetitle">???? ?? ?????? ???????????</div>
+  </div>
+
+  <p class="quote">
+  &quot;Labyrinth of Puzzles&quot; ??? ?????? 35-?? ???????, ??????? ? ???????? ? ?????? ???
+  ?????? ??????? ??????? ???????-????????. ???? ?????????? ?????????? ? ????????????? ?????????
+  ?????? ??? Oxyd -- ? ????? ??? ?????????? ?? ????????? ?????, ?????????? ????? ?? ?????????? ?????????.
+  ????? ? ?????? ??? ???? ??? ????? ????? ?? Enigma, ? ??? ????????, ?????????? ??? ????, ??? ???????
+  ????? ????? ???????? ? Oxyd, ?? ? ??????? ?????????? ???????, ??????? ???????. ?????? ????? ????, ???
+  ? ????? ?????? ? Enigma ? ???? ?????? ??????, ??????? ???????? ????????????? (? ??????? ?????????? ???????
+  ?? ??????????? -- ?? ????? ??????? ????????? ??? ???????? ??????? ?????-????? ???????????? ????????), ??
+  ??? ?????? ? ?????? ????????????? ???? ??????? ?? ???? ? ????????? ?????? ???????? ?? ????? ?? ????????????,
+  ??????????? ????????????? ?????????, ???????????? ???? ? ????? ?????? ????????. ??? ?????? ??????? ? ????????
+  ?????? ???? ???????? ? ?????????? ??????? ??????? ? ??????? ?????????? ????? ??? ??????? ? ????? ????? ???????????
+  ????? (??????????, ??????? ?????????????????, ??? &quot;Pleasure Garden&quot;), ??????? ???
+  &quot;Labyrinth of Puzzles&quot; ? ?????? ?????? ????: ????? ???? ?????? ??????, ??? ??????,
+  ????? ???????? ?????????, ? ?????/???????/?????? ? ???????, ??????????? ??????? ???????.</p>
+
+  <p class="quote">
+  ??????, ????? ? ??????????? ?? ???? ????? ???????? ?????? ???????,
+  &quot;Labyrinth of Puzzles&quot; ??????? ??????? ???????, ?? ? ??? ?? ????? ?????????????. ? ??? ???? ???????????
+  ????????? ????? ? ????????, ?? ?? ???? ?? ??? ?? ???????????? ????? ????? ????????????????, ???????????? ???????
+  ???????????? ??? ??????????? ??? ???? ????????? ???????????. ??? ????? ?? ??????????? ???????? ??????,
+  ? ????????? ??????? ??????? ???????, ?? ????? ? ????? ?? ?????? ???? ??????, ? ?? ????? ??????????? ???????
+  ????????? ???????? ? ? ???? ???????? ??????? ????????????? ???????????, ??????? ???????????? ???? ???????.</p>
+
+  <p class="quote">
+  ??? ????????????? ???? ?? ???? ?????? ????????? ????? ? ???? ????????? ???????
+  ? ?????????? ???? ?????? ????????, ???????????? ?? ???????? ?????? ??? ???? ??????? Enigma.
+  ????? ? ?? ????, ????, ??? ???? ??????, ?????? ??? ????????? ????? ??????????? ????????? ??? ??? ?????????????????
+  ????????, ??????? ?? ????????? ? ???????????????? ????????, ?? ? ?????? ???, ??? ???? ? ?????? ??????????? --
+  ??, ??? ? ????? ?????????? ???? ????? ??????? ???????, ???? ??? ???? ????????? ????????? ?????? ????? ???????.
+  ? ??? ??? ? ??????? ????? ??????? ??????, ??????? ???????? ??? ????, ?? ? ?????? ? ????????????? ??????????? ?
+  &quot;Labyrinth of Puzzles&quot; -- ???? ?? ??????? ???????? ???????, ? ????, ??? ??? ????????? ??????? ?
+  ? ??? ?????????? ????????? ???? ???????, ? ??????? ????? ????????.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>??? ?????????? ???! &quot;Pleasure Garden&quot;, ??????, ??????? ??? ??????? ?
+  Enigma 1.01 ??? ??????? VI/95, ? ? ??????, ??? ??????, ???? ???????? &quot;Labyrinth of Puzzles&quot;
+  ????? ??? ??? ??????? ? ????????. ?? ???? ? ????????? ????? ??????? ?? Jacob'?, ????? ???
+  &quot;Temple of Gold&quot; (VII/24)!</p>
+
+  <p>??? ???-???: ??????? ? ???? ????????????? Taztunes ?? ??, ??? ?? ???? ???????? ??? ???, ??????? ? ?????;
+  ??????? ???????, Taztunes!</p>
+
+  <p>? ?????????,<br>
+  <i>Andreas</i></p>
+
+</div>


Property changes on: homepage/input/lotm/lotm_200706_ru.html
___________________________________________________________________
Name: svn:eol-style
   + native

Added: homepage/input/lotm/lotm_200707_ru.html
===================================================================
--- homepage/input/lotm/lotm_200707_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_200707_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -0,0 +1,178 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">???? 2007: </span>
+    &quot;Elaborate&quot; ?? Jacob Scott
+  </h3>
+
+  <p>??????? ????????? &hellip; ??? ???? ??????? ?? Duffy ?????? '??????? ??????'. ???????,
+  ???? Duffy - ???? ?? ?????????? ?????????? ??????? ??? Enigma ? ??? ????????????
+  ????????? ??????? ??????? ????????????????. ??????? 'Elaborate' ?????? ?? ???????
+  8.67 ????? ? 6 ????????, ??? ???????? 'Elaborate' 3-? ????? ?
+  <a href="$$lotm$$">?????? ??</a>.</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_a.png" alt="Level of the month" border="0">
+    <div class="imagetitle">Enigma V # 65</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">????????? ???????? ???? 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">7:42</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">11:04</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:38</td>
+        <td class="left">Daydreamer</td></tr>
+    <tr><td class="num">13:23</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">14:25</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">17:44</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">20:57</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">23:05</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">24:03</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:18</td>
+        <td class="left">Tarim</td></tr>
+  </table>
+
+  <h4>&quot;????? ??? ??????? ??????????? ? ????????&quot;</h4>
+
+  <p>Duffy ?????? ? ????????, ? ??????????? ? ???? ?????? ???????? ???????.
+    ???????, ??????????? ????? ????????? ?? ???? ??????? ?, ?????? ?????, ???????? ?
+    ????????????, ?? ????? ?????? ????? ????? ???????????? ???? ?????? ??? ????, ?????
+    ?????????? ??????? ? ????????? ???????????. ?? ????? ?????? ? ??? ????????? ????????????
+    ????????. &quot;?? ??????? ?? ??????, ??? ?????????? ? ????????? ????????? &hellip;&quot;
+    - ?????, ??????? ????? ????? ???????????? ? ???? ??????.</p>
+
+  <h4>&quot;????????? ????????&quot;</h4>
+  <p>'????? ? ???????? ???? ??????? ?? ???? ?????????? ? ??????????, ? ?????????:
+    '???? ??? ????? ???? ? ???????'. ???? ?? ?????????? ?? ???????, ?? ???????, ??? ???
+    ??????????? ?????? ????? ????? ???????. ????, ? ????? ?????, ?????? ?????-??????????
+    ??????????? ?? ?????? ? ????? ? ??????? ? ???????? ????, ?? ??????? ? ? ?????????? ??????
+    ?????????, ???????? '??? ?????? ?? ??? ??????'. ? ? ????? ?? ??? ???? [ &hellip; ] ??? ????????
+    ????????? ?? ??????? ? ???????, ????? ????? ?????? ???????. ????? ???? ??????????? &hellip;</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_b.png" alt="Level of the month" border="0">
+    <div class="imagetitle">???? ????? ?? ????????? ???????????</div>
+  </div>
+
+  <p>??????????? ??????????? ? ???? ?????? ?????? ???????????, ??? ??, ??? ?????????
+    ? ??????? ????? ?? ????? ?? ????????? ???????. ???? ?? ? ???? ?????? ????????? ?? ?????, ??? ? ?
+    ? ?????? ?????? ??????? &hellip; ? ?????????? ?????????? ? 'Stupid' ??? 'Moneymaker',
+    ?????? ??? ??? ????? ????? ????????? ???, ??? ?????? ??????.</p>
+
+  <p>? ?????? ??? ? ?????????? ??????: ??? ??????, ???????? ?????? ????????????, ??????? ?????????.
+    ?? ?????? ????? ??? ? ???????, ?? ??????? ?????? ???????? ? ???????? ?? ????? ?? ??????????.
+    ?????????? ? 2004, ??? ?????? '????????????' ??????? ?? Duffy, ??????????? ??????? ?? ? ???
+    ???? ?? ??????? ? ??????????? ?????????. ???????? ???? ?????? ? ????????, ????????
+    &quot;Island Labyrinth&quot; (??? ?????? ??) ??? &quot;Map it out&quot;, ??? ??????? Duffy,
+    ?? ?? ?? ??? ?????.</p>
+
+  <p class="quote">'Elaborate' - ??? ???? ?? '???????????? Duffy' - ?????????????,
+    ????????????? ???????, ? ??????? ??????? ????? ?????????. ?? ????????? ???? ????
+    ? ????????? ?????? ???????? - ????????, ??????????????? ??????, ?? ???????? ????????
+    Elaborate. ???? ?? ?????????? ? ????????, ??????? ????????? ??????????? ????? ????.
+    ??? ????? ???? ????? ???????, ????? ??????, ??? ? ???? ?????? ????? ?????????? ?????
+    ? ??????? ??? ????????? ????????. ??? ?????? ??? ??? ???????, ??????? ? ????? ??????.
+    ?? ????????????? ? ????? ?????????? ????????? - ???????? ???????, ?? ??? ???????????? ??-??????.
+    ??? ????? ????? ?? ???? ?????, ????? ????? ??????????? ??? ???????? ???????. ?? ?????? ???????????
+    ? ??????? - ?????? ??????? ????????, ? ? ????????? ??????? - ???? ??????? ? ??????. ? ??????
+    ?????????, ????? ?? ????????? ? ????, ?????? ??? ?? ????? ?? ???????.</p>
+    <p class="author">Taztunes</p>
+
+  <h4>? ???????? ? 'Elaborate' ?? ??????? ???????</h4>
+
+  <p class="quote">? ???????? ? 'Elaborate' ?? ??????? ???????. ????? ? ??????? ????? ?
+    'Elaborate', ? ???????? ????? ????? ?? ????? ?? ?????? ??????? (??????
+    ?? ????????? ?? ?? ??????????????) ? ????????? ??????? ????? ???, ??? ???????????? ??????? ??
+    ?????? ???????. ????? ??????? ? ??????? ??????? ???? ????? ???? ????????? ???????? ???? ?
+    'Elaborate' ?? ?????? ??????. ? ???????? ??? ? ????????? 'Action-???????' ????? '?????? ??????'
+    ? ????? ?????? ??? ?? ???????.</p>
+
+  <p class="quote">?? ????? ?, ?? ??? ?????, ????? ????? ? 'Elaborate', ?? ?????? ?????, ??? ???
+    ?? ????! ? ????????? ??? ?? ????!! ??????? ? ??? ???????????? ???????, ??? 'Elaborate'!
+    ???? ?????????? ??????? ????? ? ???????????????? ?? ??? ????? ?? ??????? ? ??? ???? ?????
+    ???????, ? ???? ??? ?????? ?????????????? ???????? ? ????????? ???????? ????? ?????? ?????????,
+    ??? ??????????? ??????.</p>
+
+  <p class="quote">?? ??? ??? ??????? ???????? - ?????????? ? ? ????????  'Elaborate' ???????????? ???,
+    ??? ????? ??? ???????? ? ?????. ? ????? ? ???? ???? ??????? ???????? ?? ??????? ????????. ?????? ??
+    ???????????? ?????? ???????????? ?????????? ??????? ??? ?????? ?? ?????? ????????? ?????????.</p>
+
+  <p class="quote">????? ?????? ????????????? ????? ?????????, ???????? ????? ????????? ????? ?????????.
+    ? ????? ? ???? ? ????????? ???? ???????? ??????? ????????: ???? ????? ??????????? ?????? ????????????
+    ?? ????? ??????? ? ?????? ? ? ???? ? ????????? ???? ???????????? ???????, ?? ????? '?????????? ?
+    ????????????' ??-?? ?????????? ???? ??????. ????????? ??????? ????? ???????? ????????? ???? ????????!</p>
+
+  <p class="quote">???? ?? ???? ?? ????????????? ??????? ???? ?? ???? ?????? ??????? ???????, ?????
+    '?? ??? ??? ??????, ??? ???????' (?????? ?? ???????, ??????? ?? ???????? ? ???????????? ?????)
+    ????????? ????????????? 'Elaborate'. ? ????? ?? ????? ???? ??????, ??? ????? ??????? ?? ????
+    ????????, ???? ??????? ?? ???????? ????????? '??????? ???????'!</p>
+
+  <p class="quote">'Elaborate' ???????? ???????? ????? ????? '??????? ??????'!
+    ?????? ????? (?????) ????? Jacob Scott!</p>
+  <p class="author">Daydreamer</p>
+
+  <h4>????????? ???? ?????? ??????</h4>
+
+  <p class="quote">'Elaborate' - ???? ?? ???? ????????? ????????????? ? ????? ?????? ???????.
+    ?????? ???????? ????????? ? ?????????? ????????? ? ??????? ???????? ??????????, ?
+    'Elaborate' ??? ?????? ???????? ?? ????????? ???????. ?? ??? ?? ??????, ??? ?????? ???????
+    ????????? ?????????, ? ????? ?????????? ???????????? ???????? ??????? ????? ? ???? ???? ??????.
+    ???????? ??? ?????? ??????? ? ????? ??????? ????? ?????? ?????????????? ? ??????????, ??????
+    ?? ?????? ????? ??????????. ?????, ? ????????? ??????????? ????????? ????? ??????/????????????,
+    ????? ????????????? ??????? ? ?????? ???? ??? ??????? ?? ????????? ????????, ?? ????? ??????????
+    ?????????? ? ????????.</p>
+
+  <p class="quote">? ????? ????????? ??????? ??????? ?? ?????????? ????????? ?????????
+    ??????????? ? ????????. ??? ???? ????????? ?? ??????, ?? ?????? ?????????? ????????
+    ???????????? ? ???????????. 'Elaborate' ????? ???? ?? ???????? (??????????
+    ????????????) ??????? ? ??????? ? ?????????? ? '??????????' (?????? ???????? -- 
+    ????????? ?? ??????? ????? ? ????? ?? ?????? ??? ???????????? ???????????????
+    ???????). ?????? ??????????? ???????? '?????????' ????????? ?? ??????????, ?????
+    ????????????? ????????? ???????? ????, ?? ??? ??? ? 'Elaborate' ??? ????? ???????
+    ???????? ? ??? ???????? ?? ????????? ????????? ????????, ? ??? ???????? ???
+    ????? ???????????? ?????????? ?? ?????? ?????????? ?? ???????? ?????. ? ??????, ???
+    ??? ??????? ????????? ?????? ????????? ?????? ???????? ???????????? ? ??????? ???
+    ???????????.</p>
+
+  <p class="quote">??????????? ?? ???? ???????, ? ??? ??? ?????? ??? ????????????? ??? ????,
+    ???? ? ???????????? ??????, ?? ??????? ??? ??????, ??? ? ?????? ?? ????? ???
+    ????????? (? ?????????). 'Elaborate' ?????????????? ??? ??? ???????????, ???????
+    ????????, ? ?????? ???? ??????? ? ??????? ???????? ?? ?????????? ?????????? ? ???????
+    ?? ???????????????? ???????????? ? ?????????. ? ?????? ? ?? ?????? ?????? ?????????????
+    ???? ?? ????, ?? ??? ???????? ? ???????????? ?????????? ????? ??????????, ???? ???-?? ?
+    ??????????????? ???????. ? ???????????????? ??? ??????????? 'Elaborate' ?????????? ?????????
+    ???????? (??? ?????? ????? ?? ??????? ???????? ????? ??????????), ? ???????? ??????????????
+    ???????????? ? ??????????????? ?????????? ??????????? ???????? ????????? ?????? ?
+    ????????? ????? ??????????? ??? ??????????? ??????.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>? ?? ??? ??? ?? ???? ????????, ??? Duffy ?????? ????? 150 ???????. ??? ????? ??????? ??????
+    ???????. ??? ?????? ?????????? ???? ?? ???????? ?????????? ???????, ??????? ??? ????????
+    ??????.<br/>
+    <br/>
+    ?????, ???????? ????? &hellip;<br/>
+    <br/>
+    &hellip; ????, ? ????????, ?? ????? ???? ????????, ?????????? ??????? ??? ????? ?????? ???????????????? ???????
+    ? ????????? ????<br/>
+    &hellip; Duffy ?????? ???? ??????! ?????? ??? ???????? ???????!<br/>
+    &hellip; ? ???? ?? ????? ????????! :-)<br/>
+    <br/>
+    ????? ?????????? ? ??????!</p>
+
+  <p>? ?????????,<br/>
+  <i>Joe ? Harry</i></p>
+
+</div>


Property changes on: homepage/input/lotm/lotm_200707_ru.html
___________________________________________________________________
Name: svn:eol-style
   + native

Added: homepage/input/lotm/lotm_200708_ru.html
===================================================================
--- homepage/input/lotm/lotm_200708_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_200708_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -0,0 +1,236 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">?????? 2007: </span>
+    &quot;Houdini&quot; ?? Ronald Lamprecht
+  </h3>
+
+  <p>???????? ???? ???????, ????? ???? ????????? ???????, ???? ????? ????? ?????????!
+  Ronald ?????? ???? ??????? ? ????? ???????? ????????? ??????? Harry Houdini ? ???
+  ????? ????????????? ?????? ?????????? ?????????: ??????????? ???????? ? ?????, ??????????
+  ??????, ?????????? ? ??????? ? ??????? ??????, ? ?????? ??? ?????? ?? ????? ? ???????,
+  ????? ? ??????? ????????? ? ?????? &hellip; ??????? ?? ?? ??????? ????? ? ??????? ? ????
+  ?????? ??? ??????????? ??? ???? ??????; ??????, ???????? ? ????????!</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200708_a.png" alt="Level of the month" border="0">
+    <div class="imagetitle">Enigma VI # 74</div>
+  </div>
+
+  <p>&quot;Houdini&quot; ??????? ??????? ?????? <b>8.67</b> ?? 9 ??????? (5
+  ?? ??? ?????????? ? ?????? ??????), ??? ???????? ??? ?????? ????? ? ???????
+  <a href="$$lotm$$">?????????? ??</a>. ????????, ? ???? ?????? ?? ?? ????? ????????????
+  ??????????, ?????? ??? ????????? ????? ?????? ??????????? ????????? ??????????? ??
+  ????????? ?????? :-/. ? ???????? ???????????, ?????? ?? ?????? ????????????? ????
+  ?????????? ?? ?? ????????, ?????? ? ??????????!
+  </p>
+
+  <h4>&quot;????????? ?????????? ????? ??????? ???????????&quot;</h4>
+
+  <div class="quote">
+  ?????? ??????-??????????? ?????????? ?????? ?????? ?? ??????? ????, ????? ?????? ???????????,
+  ??????? ??????? ??? ???????????? ??????. Houdini ?? ?????. Houdini ????????????? ??????
+  ????????? ???????????? ? ????????? ?????????????? ????? ?????????? ???????, ????????? ???????,
+  ???????? ? ????????. ???? ??? ????????? ????????? ????????? ?????, ?? ??? ?????? ????? ???
+  ????????????, ??????? ???????? &hellip; Tarim ?????? ?????????, ????? ???????? ? ??????? ????,
+  ? ??? ?? ??? ????? ?????, ???? ????? ???? ? ?????? ?????? ????????? ???????. ???????, ???
+  ?? ?????? ??? - ??????? ??? Tarim ????????? ????? ??? ?????????????????? ???????, ?????? ???
+  ????, ????? ????????? ? ?????? ? ??????, ??? ?? ?? ????? ?? ????? ? ????????? ???????. ? ??
+  ??????? ? ???????, ??? ???? ? ??????, ??? ?????-???? ?????? ????? F3, ????? ??? ???? ??????????????
+  ????? :( ??? ??????, ????? ?? ???????? ???????? ???? ???? ???-??? - ?? ??????? ????????? ?
+  ????????? ???????, ??????? ??????? ??? ??????? - ?????? ??? ????, ????? ?????????? (?????, ?? ? ????
+  ?????? ?? ????? ?????????? &hellip;) ??, ???? ??????? ?????????? ??????? Tarim'? ????????? ??????????
+  ????? ??????? ??????????? :)
+  </div>
+  <div class="author">Tarim</div>
+
+  <p>Ronald - ???? ???????? ??????? ? ??????? ??? ??????? - &quot;Houdini&quot; ???????? ???????????
+  ??? ??????????. ???? ?? ??? ???? ????? ?????, ?? ?????? ????? ??????????? ????? ? ????.
+  ?? ??????????? ? ?????????? ??????? ??? ??????? ??????!
+  Harry Houdini ??? ???? ??????????? ????????. ???????, ?? ??????? ???? ?????? ?? ?????????, ??
+  ?????? ??????, ??? ??? ?????????? ???????? ??????? ???????. ??? ?????? ? ??????? ????? ??????
+  ???? ???????, ????? ????? ???? ??????, ??? Houdini ?????????? ?????? ???? ? ???????? ??????
+  ??????????? Houdini. ????? Houdini ????? ??????????? ?????????? ? ????????, ??????? ?????
+  ?? ?????? ?????????????? ? ?????? ???? ???????? ??????????. ?? ???? ?????????? ????????
+  &quot;Scientific American&quot; ? ??????????? ?????????????? ?????????. ?, ??? ??? ? ?????
+  Houdini ?? ???? ?????? ??????????????, Ronald ??????????? ? Enigma ?????? ????????? ????????:
+  ??????? ??????-????????, ??????? ????????? ? ??????? ?????? ??? ??????, ??????? ??????????,
+  ??????? ?????? ??????, ??????? ????? ?????????????? - ?????? ??????? Enigma. ??????, ? ?????
+  ??????????? &hellip;</p>
+  
+  <div class="quote">
+  ????? ? ????? ?????? ? Houdini, ?? ? ?????? ?????? ???????, ??? ?? ?? ?????? ???????, ?? ? ??????,
+  ?????????. ?????? ? ??????????? ?????? ??? ??????????? ? ???????, ? ??????? ???????. ? Houdini
+  ??? ??????? ????????, ????????? ??????? ???? ?? ??????. ?????? ??????????? ?????? ???? ?????????
+  ????????? ? ??????. Ronald ???????? ???????????? ??????. ?? ?????? ????????? ???????? ????. ? ????????,
+  ???? ? ????????? ????????? ????? ? ?????? ????? ?? ???? ??????. ?????????? ?? ?? ?????? ???????, ??.
+  ??????, ? Houdini ?? ?????? ????????? ?? ? ????? ????????? ?? ??????. ?? ?????? ????? ?? ?????? ???????
+  ??, ??? ??? ? ??? ??????. ?? ?????? ?????????, ? ????????? ??????? ??? ??????, ???? ?????? ? ????
+  ??????????. ???? ????????? ?????, ????? ????????? ?? ????, ??? ?? ????????? ??????.
+  ???? ??? ???????? ?????? ????????? ? ?? ?? ??????? ??????? ??????, ?????????? Houdini. ??? ?? ?????
+  ??????????. ? ????? ???? ??????? &quot;???????????-????????&quot; ????, ??????????, ?????? ? ??????
+  ??????? &quot;??????-?????????-?????????&quot;. ?????? ??? ??????? ???????.</div>
+  <div class="author">Alejandro Lacava</div>
+
+  <p>???? ?? ?? ?????? ?? ??? ?????? ??????? Ale, ?????????? &quot;Knight's Journey&quot;. ???? ?????
+  ??????????, ??? ?? ??? ?????? ?????? ??? ?????????? &quot;Houdini&quot;, ??? ?? ???. ??????????
+  ??? ????? ?????? ? Enigma ???? ????????? ??? ???? ??????????? - ??????????, ??????? ? ???????? ???? -
+  ? ?? ????? ??? ?? ??????????????. ????, ? ???? ??????? ?????????? ?? ????; ??? ????? ??????? ???????????
+  ? ????????????? ??????? ???????. ?????? ?????? ? ????????? ??????? ? ?????? 1.00 ?????? ? ????????? ????????
+  ???? ???? action/target, ????? ?????????? ???????. ??? ??????? ?????????? ???????? ????????? ????????
+  ????????????: ?? ?????? ?????????, ??? ????? ???????? ??????? ????? ?????? ? ?????-?? ????? ??????,
+  ????????? ??? ?????????? ????? ??? ???????????? ?????-?? ????? ??????? ????????. ?????? ??????????? ????
+  ????????? ????? ???????, ????????? ????????? ? ???? ??? ????????? ?????? ? ?????????. ?????????? ?????,
+  ??? ?????????? ???????, ?? ???????, ??? ????? ????? ?????? ?????? ???? ????????? &hellip;</p>
+
+  <h4>&quot;? ?????? HOUDINI ? ???? ??????????? ?????? ???????, ??? ? ????????? ????&quot;</h4>
+
+  <p>??? ???????? ?????????? ?????????, ? ??????? ?????? ?? ???????????? ????? ???????? ? ????
+  ??????????? ??????? ??????. ??????, ? &quot;Houdini&quot; ?? ??????? ???? ???? ????????? ???????
+  ??? ???????? ????: ??, ? ???, ??? ????????? ?????????? ????????! ? ?????? ??? ???? ??????
+  ?????????? ?????? ? ??????????, ????????? ?????? ?? ??????? ??????? ??????????. ??, ??????????? ?????,
+  ? ?????, ??? ??? ??????? ?????? ????? ????? ??????, ???? ?? ??? ??? ????? ????? ?? ????? ?????????, ??????
+  ??? Harry Houdini &hellip; ??????, ??????? ?????????, ??? Harry ????? ?????????? ??? ?? ???? ??????:</p>
+
+  <div class="quote">
+  ??????? 31-? ???? ????, ???? ???????? ??????? ?????? ?????????? ?????????? ???? ??????, ????? ???????.
+  ??????? ????, ????? ???????? ?????? ? ?????? ?????????? ? ?????? Harry, ??????? HOUDINI, ????? ?????????
+  ?????????, ???????????? ? ??????? ?????? 20-?? ???? ??? - ?????? ?? ??? ??????? - ???? ??????.
+  </div>
+
+  <div class="quote">
+  ??? ?????? ? ????????? ???????? ??? ??????????? ?? ??????, ?????????? ????? ?? ??????????? Enigma,
+  ??????? Ronald Lamprecht, ??????? ???????? ??? ?????????? ?????????? HOUDINI ????????????? ?? ????? ?
+  ??? ????? ???????? ? ??? ????????: HOUDINI.
+  </div>
+
+  <div class="quote">
+  ????????? ???????? ??????? ?????? ?????? Enigma &quot;Island
+  Labyrinth&quot; ? HOUDINI, ? ??? ????? ????????, ?????? ?? ????????? ?????? ? ??????????. ????? ?? ?????
+  ????????? ?????? HOUDINI ???? ???????????? ?? ????????? ?????????? ??????, ????????, ?????????? ? ????? ?
+  ????? ?????????. </div>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200708_c.png" alt="Level of the month" border="0">
+    <div class="imagetitle"><p>??????? ????? ???? ????? ?? ????????? Houdini,
+    </p><p>?? ??? ???????????!</p></div>
+  </div>
+
+  <div class="quote">
+  ?? ? ???? ?????? ????? ?? ?????? ?????? ? ???????, ??? ??? ????????? ?????? ????????? ???????????? ?????
+  HOUDINI. ?????? ???????? - ??? ????? ??????? ???????, ? ??????? ? ???? ?????? ??? ??????. ???????? ?
+  ????????? ???????, &quot;??????? ?????&quot; HOUDINI ?????? ??????????? ???? ?????, ????? ????????? ?????
+  ????????????? ?????? ???? ???????? ???????????? ?? ?????. ? ????? ??? &quot;?????????&quot; ?????????
+  (???????? ????????) ?????????? ???????? ? ??? ????????? ?????. ? ???????????? ?????????? ??????? ???????
+  ?????????? ?????? &quot;?????????? ?????&quot;.</div>
+
+  <div class="quote">
+  ?? ????????? ???? ??????????? ???????? ? ?????. ???? ?????? ?????? - ???????????? ?? ???? ???? ? ???????
+  ????? ?? ?????? ???????. ?? ???-?? ? ????? ?????? ?? ??????? ??? ??????. ? ????? ?? ????? ?? ???????
+  ??????????? ??????? - ??? ????????.</div>
+
+  <div class="quote">??? ?? ????? ?? ????? ??????????? ???????????????, ????? ?????? ??? ?????????? ?
+  ???? ????????. ?????????? ????? ?????? ???????, ????? ?? ??????????? ??? ???? ????????, ? ?????
+  ??????????????????. ? ??? ??????????? ????? ????????, ?????? ??? ???????? ????????? ????????????
+  ???????? ????? ? ?????.</div>
+
+  <div class="quote">
+  ? ?????????, ?????? ????? ???????? ??????????? ? ???? ???????, ?? ?????? ??? ??????????? ??? ?????????????
+  ?????????. ???? ??? ??????? ? ?????? ????? ????? ?????????????. ? ?????? HOUDINI ? ???? ??????????? ??????
+  ???????, ??? ? ????????? (Trojan - ???? ?? ??????? Enigma ?????????? "Troy", ????. ?????.) ????. ???? ???-?? ?? ??? ?????-?????? ?????? ???????? ???? ??? ??????, ??????????,
+  ???????? ???.</div>
+
+  <div class="quote">
+  ???? ??? ????? ???? ????? ???????, ??? ?????? ????????? ??? ?????????? ???? ????? ????? ???????, ????????????
+  ??? ??????????? HOUDINI. ??? ??? ??? ???? ??? ??? ?????????? &hellip;</div>
+
+  <div class="quote">
+  ? HOUDINI ? ?????? ?????? ???????, ??? ? ????? ?????????? ???????. ?? ??? ???? ?????????? ??????????, ????? ?
+  ?????????? ? ??????? ???????? ?????????? ????????? ??????? ??????? ?? ??????????. ??????? ??? ????:
+  ????????? ????? ? ???????? ?????? ????????? ?????? ???? ?????????????? ????????. ??? ? ?????? ? ????
+  ??????????? ????, ???? ????? ???????? ?? ????????? ???????????????: ???? ?? Ronald ????? ??????? ???
+  &quot;Chess-Stone-Demo IV&quot;, ? ?? ????? ??????. ? ??? ?? ???????, ??????? ?? ????????, ??? ??????
+  ?????????? ?????? ?????. ??? ????????? ??? ???? ?? ???? ??????? ??????? ??????: &quot;??????????? ???????&quot;.
+  ???????? ??????? ??? ????? ??????, ??????? ?????? ???? ?????: ??? ?????? ???? ??????.</div>
+
+  <div class="quote">
+  ????????? ???? ? ??????????: &quot;Houdini&quot; ??????, ??? ????????????? ?????? ??????, ?? ? ???? ????? ??????,
+  ?? ?????????? ????????????, ????? ????????? ? ????? ?????? ????????! ????????? ??????, Ronald!</div>
+  <div class="author">Daydreamer-Harry</div>
+
+  <p>Harry ??? ???????? &quot;Troy&quot; - ???? ??????? ????????? ????????? ??? ????????? ?????? ???????? ????
+  ????? ???, ??? ?? ?????????? ?????????? ?????? ? &quot;Houdini&quot;. &quot;Random space&quot; ???? ?????
+  ???????????, ????? ?????????? ? ????????.</p>
+
+  <h4>&quot;??????? ????? ?????????? Houdini ??? ???? ? ??? ??????????????&quot;</h4>
+
+  <p>??? ??? ??? ????? ????? ?????????? ?? ??????? ??? ??????:</p>
+
+  <div class="quote">
+  ? ??????? 2006-??, ? ?????????? ?????????? ???????? ?????, ????? ??????? ???? ?????????? ????? ??????????
+  ????? ????????, ???????? &quot;st-chess&quot;. Andreas ????? ?????????? ????????? ?????? ???????? ? Raoul'?
+  ?????????? ?????? ?????????????? ?? 2 ?????? ??????, ????????? ??????????? ????? ?????? ??????. ??, ?????
+  ? ????????? ???????????? ?????? ???? ??? ?????????? ????, ??????? ??? ??????????? ???????????? ????? ???????,
+  ??? ?? ??????????????? ???????????. Andreas ?????? ??????????, ???????????????? ????????? ????? ? ???????
+  ?????-????? ???????. &quot;Checkmate I&quot;, &quot;The Stable&quot; ? &quot;Chessing Positions&quot; ????
+  ??????? ????????, ????????????? ????? ??????. ?????? ??? ??? ????? ???????? ???????????????? ???????, ???????
+  ?????????? ??? ??????????? &quot;st-chess&quot;, ???????? ??????, ??? ? ????? ??????? ??? ????????? ??????
+  ????????? ??????.</div>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200708_b.png" alt="Level of the month" border="0">
+    <div class="imagetitle">??????! ?? ???? ?? ??? ???? ?????????</div>
+  </div>
+  
+  <div class="quote">
+  ???????, ? ??????????? ???????????? ? ???????? &quot;st-chess&quot; ? ????????? ? ??????? ???????. ?
+  ??????????????????? ? ???, ??? ??????????? &quot;st-chess&quot; ? ????? ?????? ? ??? ?????, ?????
+  ?????????? &quot;st-chess&quot; ???????????? ????????. ????? ?? ????????? ????? ? ?????? ??? ?????
+  ?????????? ????????, ??? ??? ??????, ??? ????? ???????? ?????? ???????.</div>
+
+  <div class="quote">
+  ????????? ??????? ? ????? ? ?????????? &quot;Houdini&quot;. ??-?? ????????????? ??????? ???????????
+  &quot;st-chess&quot;, ? ????????? ?????? ?????? 2-?? ?????????. ??? ??? ??????? ???? ?????????? ????????,
+  ? ????? ??????? ??????? WYSIWYG (????. ??????. "What You See Is What You Get" - "??? ??????, ?? ? ????????",
+  ????. ?????.). ????? ???? ?????? ??? ?????????? ??? ??????? ? ??? ?????? ??????? ?? ?????????? ??????
+  ?????????? ?????. ???????? ????????? ?????? ???????? ? ?????? ???????? ?????????? ????????? ????? ? ???????
+  ?????????? ????????.</div>
+
+  <div class="quote">
+  ? ??????? ?? &quot;st-wood&quot;, ??????? ????????? ??????????? ????????, ????? ?? ??????????? ? ???? ???
+  ????????? ? ?????, &quot;st-chess&quot; ????? ??????? ?????? ????? ? ????? ?????????????? ????????
+  ? ?????????? ???????. ??????? ? ?????? ????? ???????, ????? ?????????? ??????????? ?????????? ?????????????
+  - ????????????? ?? &quot;st-chess&quot;, ? ????? ?????????????. ??? ????????, ??? ??? ???? ?? ???? ?????????.</div>
+
+  <div class="quote">
+  ?????? ?????, ??????? ? ??????? ??????????? ? &quot;Houdini&quot; ? ??????? ? ?????? ???????
+  &quot;??????? ?????&quot; - ??? ??????? ?????? ???????????? ????? ??????? ??? ???????? ??????, ??? ?? ????????.
+  ???????, ??????? ?? ?????? ??? ?????????? - ???????, ??? ??????? ?????? &quot;Houdini&quot;. ??? ??????? -
+  ??? ???? ?????????, ?????? ??? ??-?? ??? ????????? ??????????? ????, ????? ??????? ???????????? ? ??????
+  ?????????? ???????. ?????? ??????????? ???? ??????? - ????????? ??????? ??????? ? ????????? ?????? ??????. ??
+  ??? ????????? ??????????? ??????? ??????? ?????????? ? ?????????? ?????? ????? ??????? ????????. ??? ??????
+  ??????????? ??????? ? ??????? ????????????? ??????. &quot;??????? ?????&quot; ?????????? &quot;Houdini&quot;
+  ??? ???? ? ??? ??????????????. </div>
+
+  <div class="quote">
+  ? ????????, ??? &quot;Houdini&quot; ????? ??????? ???????, ????????? ??? ??????? ????? ??????????? - ??????????
+  ?????????. ? ??? ??????, ??? ????????? ????????????? ????? ??????? ???? ?????? ?????????. ??????? ???????
+  ?????????? ??? ??????? ?, ??????????, ?????? ?????? ????? ??????. ???????? &quot;Houdini&quot; ?????? ? ???? ?????
+  2 ?????? ? ????. ? ????? ? ?????, ? ?????? ?????? ???????? ? ???????? ? ??????? ???????. ?????, ? ??????
+  ???????? ????????? ????????? ???????? ????? ? ?????? ??? ???? ? ??????, ??? ??????? ??? ??? ????? ??????.</div>
+  
+  <div class="quote">
+  ???????? ??????? ? ???????????!</div>
+  
+  <div class="author">Ronald Lamprecht</div>
+
+  <p>&quot;Houdini&quot; ????????? ???? ?? ????? ?????????? ??????? ?????????? Enigma ? ?? ????? ???????? ??????????,
+  ????? ???????, ??? ?? ????????? ????? ?? ?????? ??????? ? Enigma ?? ?????? ???? ??????, ????????? ??????????
+  ????????? ? ??????? ??????? ? ????????????? ???????? ??????????. Ronald, ??????? ???? ??????? ??
+  ?????????? ?????? ??? ??????? ??????????!</p>
+
+  <p>? ?????????,<br/>
+  <i>Andreas ? Harry</i></p>
+
+</div>


Property changes on: homepage/input/lotm/lotm_200708_ru.html
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: homepage/input/lotm/lotm_200802_ru.html
===================================================================
--- homepage/input/lotm/lotm_200802_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_200802_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -9,7 +9,7 @@
 ?? ?????? ???? ???????, ??? ??????? ????????? ?????
 ????? ?????????? ? ?????? ????????? ?? ????????. ??, ????? ?? ??????? ??
 ????????, ? ????? ? ?????????? ??????, ??????? ????????????? ???
-Julia? ????? ??????? ?? ???????????? ? ??????? ??? ????? ?????????, ??????? ?????????????,
+Julia, ????? ??????? ?? ???????????? ? ??????? ??? ????? ?????????, ??????? ?????????????,
 ?????????? ??????, ??? ????? ???????. ????? ?????????? ? &quot;Puzzle
 Puzzles&quot;!</p>
 

Added: homepage/input/lotm/lotm_200803_ru.html
===================================================================
--- homepage/input/lotm/lotm_200803_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_200803_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -0,0 +1,360 @@
+<div class="lotm">
+$$lotm_header$$
+<h3 class="lotm">
+<span class="date">???? 2008: </span>
+&quot;Psycho Pushing&quot; ?? Sven Siggelkow
+</h3>
+
+<p>????????? ??????????, ??????????, ?? ??????, ?????? ??? ?????? ?? ?????? ?
+???????????? Enigma. ??? ?? ????????? ??????, ??????????? ??????? ???????? ??
+?????? ??????????? ????????, ?? ? ????????????? ???? ? ????????. ??? ??????????
+??????? ?????? ????????? ? ????? ???????? ????????. ??? ??????, ?????? ?? ?????
+??????? ?????? ? ???? ??????? ??????? ?? ??? ????????? ??????? ??? ??????. ??
+????????????, ??????????? ?? ??? ???????? ?????????, ???????????? ?????????
+?????? ?????????. ?????? ??????? ? ????????, ??? ?? ?? ?????????? ????? ?????
+?? ??????, ????? ??????????? ??????? ?? ? ???? ???????; ????? ?????????? ?
+&quot;Psycho Pushing&quot;!</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_a.png" alt="Level of the month" border="0">
+<div class="imagetitle">Enigma V # 45 - Psycho Pushing</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">????????? ???????? ?????? 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">2:59</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:09</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:28</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:53</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">4:04</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">4:27</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">4:36</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">4:50</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">5:29</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">7:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">7:24</td>
+        <td class="left">Alex</td></tr>
+    <tr><td class="num">9:08</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">11:03</td>
+        <td class="left">Gottseinsohn</td></tr>
+    <tr><td class="num">12:10</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">12:49</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">12:57</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">13:35</td>
+        <td class="left">Sim_Ed</td></tr>
+    <tr><td class="num">18:23</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">20:31</td>
+        <td class="left">Tarim</td></tr>
+</table>
+
+<p></p>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">?????????? ?????</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">1:52</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">2:05</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">3:20</td>
+        <td class="left">Malla</td></tr>
+    <tr><td class="num">3:26</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">3:36</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">3:51</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">3:55</td>
+        <td class="left">Safalra</td></tr>
+    <tr><td class="num">4:41</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">5:06</td>
+        <td class="left">Gloop</td></tr>
+    <tr><td class="num">5:35</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">7:21</td>
+        <td class="left">Tobias</td></tr>
+    <tr><td class="num">8:33</td>
+        <td class="left">WP319</td></tr>
+    <tr><td class="num">9:34</td>
+        <td class="left">alfred69</td></tr>
+    <tr><td class="num">9:59</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">10:08</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">13:38</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">14:18</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">15:58</td>
+        <td class="left">Andy</td></tr>
+    <tr><td class="num">32:54</td>
+        <td class="left">para_doks</td></tr>
+</table>
+
+<p>?? ????????? ????? ? ???????? ????????????? ?????????? ?? ??????; ?? ????? ????
+??? ?????? ???????? ???????????, ? &quot;Island Labyrinth&quot; ?
+&quot;Quadropolis&quot; ?????? ??????????? ? ??????. &quot;Psycho Pushing&quot;
+????? ?? 11 ?????, ????? ????? &quot;Big Adventures&quot;.</p>
+
+<h4>&quot;??? ????????? Tarim'? ??? ???????????? ?????&quot;</h4>
+
+<p>??, ??? ????? ?????? ? Enigma ??????? ?????????? ??????? ???????. ????????? ???????
+???????????? ????????, ????? ???????? ? ?????? ??????, ?????????? ???????, ???????
+???????? ???? ?????, ???????????? ?? ????? ??? ??????? ?????? ??? ????? ????????? ?
+???????? ???? &hellip; ? ?????? ???, ????? ???-?? ???? ?? ???, ???????? ?????? ???.
+? ???? ??????????? ?????? ????????? ?????? ????? ?????????, ? &quot;Psycho Pushing&quot;,
+Sven Siggelkow ??????? ???????? ?? ?? ?????, ??????? ?????? ?? ????? ????? ????????.
+</p>
+
+<div class="quote">
+&quot;Psycho Pushing&quot; - ??? ????????????? ??????? Sven Siggelkow, ????????? ?
+?????????? ??????????. ?????? ????????? ??????? ? ????? ????????, ? ?????? ??????????,
+?????????? ?? ???? ? ????? ??????? ?? ?? ???? ??????????&mdash;????, ???????, ??
+???????? ??? ????? ?????? ??????. ??? ????????? Tarim'? ??? ???????????? ?????. ???????
+?????????? ? ???? ???????????? ???? ?????? ? ?????? ???????, ? ?????, ??????????
+???????????, ???? ???????? ?????, ????? ???-?? ?????????. ?, ????? ?? ??????? ??????????,
+????? ???? ????? ?? ???? ? ????? ? ???.
+</div>
+
+<div class="quote">
+??? ?? ??????? ???-???????-?????, Tarim ???? ?? ??????? ?????????? ???????? ?? ?????????????
+?? ??????? ? ?????????????????? ???????. ?????? ???? ?????? ???? &hellip; ????????? ??????? ??
+?????????????????? ??????? ???? ? ???? ?????! ??, ?? ?????? ???? ???????? ?? ?????
+?????????????????? ??????? - ????? Tarim ?? ??? ?????????? ???? ?????????? ?????? ??
+??????????????????? ??????? ? ??????????? ????? ??????????? ?????? ??? ?? ??????????????????
+???????. ???? ????? ?????? ??? ??? ? ??????????? ? ???, ????? ????????? Tarim ????????, ???
+??????????? ????? ????? ?????????&mdash;??? ??? ??????, ??????? ?? ??????? ????? ??? &hellip;
+</div>
+
+<div class="author">Tarim</div>
+
+<p>???? ?? ?????????, ?? ??????? ??????? ?????????? ????????? ? ?????? ?????? ??????
+?????????. ???? ?????????? ??????, ??? ???????? ??? ??????. ??? ?????????? ???? ??????
+???????? ??????? ?????? ???????, ? ????????? ???????? ??? ?? ???????. ? ?????? ??????
+? ??? ??? ??????????, ??????? ?????? ??? ????? ???????? ? ?????? ?????????? ?????????
+??????. ?????????? ?????? ?????????, ?? ??????? ?? ?????? ????? ???????? ??? ???? ????????.
+? ????????? ??? ??? ?????????? ???????? ?????????, ??????? ??????????? ??????? &hellip;
+?????????, ?? ?????????????? ?? ?????? ????.
+</p>
+
+<h4>&quot;'Psycho Pushing' ???? ????? ?? ???? ??????? ???????&quot;</h4>
+
+<p>????????? ?????? ???????? ??????????? ????????????? ???????? ? ?????????. ??, ???
+????? ??????, ????????? ??????? ????? ??? ???????? ???????????. ????? ???????? ???????
+?? ???-?? ???????, ? ?????????. ? ???????????? ?? ????????? ? ??????? ??????????.
+??? ?? ????? ?????????? ????????? ??????, ???????????, ????????? ?????, ??????? ?????? ??????
+????? ?? ??????????? ??????. ????? ????????? ??? ?? ?????????? ????? ? ???? ?????????? &hellip;
+??? ?????? ???????? ??????? ????? ???????.
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_b.png" alt="Level of the month" border="0">
+<div class="imagetitle">??? &hellip;</div>
+</div>
+
+<div class="quote">
+??????? ?????? ??????? ?? ????? ??????? ? ???? ??????? ?????????????? ?????? ???
+&quot;Psycho Pushing&quot; ?? ?? ????, ??? ? ? ??? ??????.
+</div>
+
+<div class="quote">
+??????? ? ??? ????? ??????????? ???? ???????, ?????? ??? ?? ??? ????? ??????? ??????????
+?????? ?????????? ?? ????? ? ??????? ????? ???????????, ?? ???? ??? ?????? ??????? ??????.
+? ????? ??? ??? ?????????? ??????????? ???? ????????, ?? ??? ????? ???? ?????????, ?????
+???????? ???? ?????? ?? ?????? ?????? ???????, ??????? ??? ??? ???? ???? ??????.
+</div>
+
+<div class="quote">
+?????? ????????? ????? ? ???????? ? ????? ??????. ?????? ? ???? ?? ???? ??????? ??????? ?
+?????? ? ??????????? ? ? ??????? ??????????????? ??. &quot;Psycho Pushing&quot; ???? ?????
+?? ???? ??????? ???????.
+</div>
+
+<div class="quote">
+?? ????? ? ?????????, ??? ????????? ??????????? ????? ?????? ?????. ? ? ?????????????.
+??????? ????????????? ??????????? ? ?? ?????? ??????????? ????????? ?? ???, ?????
+?????????? ???????? ? ???????, ??? ??? ???????? ???? ?????? ???? ??????????.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_d.png" alt="Level of the month" border="0">
+<div class="imagetitle">???, ???, ???!</div>
+</div>
+
+<div class="quote">
+?? ?? ???????? ? ??????? ??? ?????? ???????? ?????. ? ????? ???????????, ??? ???
+???? ?????????????? ????????. ????????? ? ????????? ? ???, ??? ?????????? ???????? ????
+? ???? ????????? ??????? ???????????. ????? ?? ??? ??????? ?????? ? ?????????? ??????
+?? ?????? ??????????, ??? ? ?? ????? ??? 8 ????-????????? ??????????????. ????????
+???????? - ????? ???? ? ?????????! ????????? ??, ?????? ??? ??? ?? ????? ???? ???????????
+??? ????? ?? ?????????????, ??? ????? ???? ??????? ???????.
+</div>
+
+<div class="quote">
+? ????? ?????? Sven ???????? ???????? ????, ???????, ??? ??? ???????? ?????????.
+???????, ???? ?? ?????? ??????? ??? ????????????????? ????????????, ???????? ??? ????? ??.
+???????? ?? ?????? ??????? ???? ? ??????????? ? ?????? ?? ???????????! ??, ??? ?? ?????, ?
+??? ???????????? ??????. ??? ???????????? ? ????????????? Sven'? ?? ???? ??????? ???????.
+</div>
+
+<div class="author">Ronald Lamprecht</div>
+
+<p>?????????? ?????? ?????? ????? ??????? ????? ???????????? ?????? ???? ???????,
+?????? ??? ??? ???????? ??????????. ??????? ??? ???? ????????? ? ?????? ??????? ??
+????????????, ???? ????? ?? ??????????? ? ?? ????? ??? ?????????. ??????? ?? ???????, ???
+????? ??????? ?? ? ????? ???????, ????? ??? ?? ?????? ? ????????????. ??? ?????????? ??????,
+???? ?? ?????? - ????????? ??????????? ????????????. ?????-?? ??? ???????? ???????????????
+????????? ??????, ???? &hellip; ?????????? ?????? ?? ?????? &hellip; ?? ???????? ?? ?????????.
+??????????? ???????????, ????? ????????????? ???? ????????? ????? ????????????? (????????, ?
+??????? it-hammer), ??? ??? ????????? ?????? ? it-sword ? ?????. ??? ??? ??? ???????? ? ?????
+?????????????? ? ????????? ?? ???????? ????????? ????? ???. ???? ??? ????? ? ?????????? ????,
+?????? ????????? ????? ?? ??????????????.???? ???????? ?????????? ???????? ????? ??????????
+? ???????? ????? ???????? ????????????, ??????? ????????. ?????????? ?????? ?????? ?????????
+? ????????? ? ????, ???? ??? ? ???????? ??????????? ? ?? ???????????????? ?????? ? ????????
+????? ??? ?????????.
+</p>
+
+<h4>&quot;'Psycho Pushing' ????????? ?? ?????????? ???????? ?????? ??????? Oxyd&quot;</h4>
+
+<p>??????? ?????? ??? ??? ??????, ??????? ???????? ??????????????. ??? ????? ????????
+??? ????????? ? ???? ????????? ???????? ? ????? ??????????? ????. ?? ??????? ?????? ?? ??????,
+? ??????? ?????????? ?????????????, ? ??????? ??? ??????? ?????????. ?? ???? ???????? ????? ??
+????????? ????????????? ??????? ??????, ??????? ? ??? ??? ??????? ???????????.
+? ?? ??????? &hellip; ??????? ????? ????????????? ?????? ??????????????????. ??? ??????, ??? ???
+?????? ??? ?????? ? ????????? ??. ??? ??? ????? ????????? ? ???? ???????, ??? ?? ?????????????
+?????????? ?? ??????????, ????? ????????. ?????????? ?? ???????????, ?????? ??? ???? ???????????
+????? ????? ?????? ???????: ?????? ???? ?? ??? ??? ?????? ????????, ??? ?? ?? ????? ???
+????? &hellip;
+</p>
+
+<p>? ??????, ????????? ???? ????????? ? ?????????? ????? ?????????? ?????????:</p>
+
+<div class="quote">
+???, ?? ????? ???? ? ?????? ???? ??????? ????? ?????. ? ????? ??? ???? ?????, ?? ????? ????????:
+? ???????? &quot;Psycho Pushing&quot; ? ???? 2003-??. ? ??????? ?? ?????? ???? 16 ???????, ?? ???
+??????????? ? ???????? Enigma ?????? 0.81.
+</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200803_c.png" alt="Level of the month" border="0">
+<div class="imagetitle">??, ?????????????? ?????, ????? ??????; <br> ??? ????? ??? ?????? &hellip;</div>
+</div>
+
+<div class="quote">
+? ?????????? ? Enigma ????? ????????????? Oxyd ?? Meinolf Schneider. ????? 20 ??? ?????
+? ???????? ?? ???? ?????????? Atari ST ?????? ???? Oxyd. ????? ????????????? ?????? ?????????
+???? ? ?????, ?????????? ??????????????, ??????? ? ?????? ????? ? ????, ???? ?????????????
+?????? ?? ??????? ? ????????? ???????. ?????? ????? ?????????? ?????? ??????, ??? ???????????
+?????? ?? ?????????.
+</div>
+
+<div class="quote">
+??? ?????? ????????? ?????????? ????, ? ??????? ?? ?????? ?????? ?????? ???????.
+? ???? ??????? ????? ??????????? ? Enigma, ?????? ??? ????????????? ????? ?????????? ???????????.
+</div>
+
+<div class="quote">
+??????? ????????? ??? ? ?????? ????, ? ????????? ?? ????? ?????? ?????? Enigma, ? ????? ??????????
+?????? ?????????? ? Oxyd ? ?????????????? ? ????? ??????? ?? ???????. ??? ????? ???????? ???????
+?????? ??????, ?? ????
+</div>
+
+<div class="quote">
+&quot;Psycho Pushing&quot;, ? ?????? ?????? ???? ??? ?????? ???? ???????, ?????????? ?? ??????????
+???????? ?????? ??????? Oxyd. ??? ??? ???? ???????? ????? ? ???? ?????, ??? ???????? 6 ??????? ???
+?????????, ??? ???????, ? ?????, ?????? ????? ???????? ????? &quot;? ??? ????????&quot;. ? ?????? ?
+&quot;Psycho Pushing&quot;, ??????? ??? ????? ??????? ????????? ???? ???????, ? ????????? ???????????
+??????? &quot;? ????? ??? ????? ???????&quot; ? ??????????? ?????????? ??????, ?????????? ? ???????.
+????????, ?????? ??????? ? ????????? ????????? ???????? ????????? ??? ??????? ????? ???????.
+?? ?????? ???? ?? ???? ?????????, ????, ?????? ????????? ?????????? ???????????, ?????????? Ronald'??
+???? ??????. ?? ???????, ?????? ?????? ???? ????? ???? ???????????????.
+</div>
+
+<div class="quote">
+? ??????? ??????? Enigma, ?? ??????? ? ???? ??? ??????????? ???? ?????? ? Enigma. ? ??????? ?????????
+? ??? ??????? ??, ??? ????????? ?????? ??????? ????. ? ?? ??? ????? ????????? ?????????, ???????? ???
+?? ??? ??????? ????????? ???? ???????.
+</div>
+
+<div class="quote">
+???????? ??????? ??????? ?????????????: ??????????? ???? ????????????? ?????? ? ??????? ?????
+ ??????????!</div>
+
+<div class="author">Sven Siggelkow</div>
+
+<p>? ???? ???? ??????? ???????, Sven, ?? ???? ??????????? ???????, ? 8-? ??? ????????????
+?????????????! ? ?? ??? ?????? ???????: ?????? ??????????!</p>
+
+
+
+<p>???????, ????????? ???? ? ????. ?? ??? ? Harry, ? ???? ????????????? ???? ???, ??? ????
+????????? ????????, ?? ??, ??? ???? ? ???? ???? ????????? ???. ?????? ? Clifford, ? Yuriy ? Joe,
+?? ??????????? 12 ?????? ? ?????? ??????? Enigma. ??????, ? ? ?????????? ???????, ??? ??
+???????????? ????? ???? ?? ????? ?????????, ?????????? ????. ?????? ? &quot;??????? ?
+??????&quot; (????. ?????. "return to the source" ????? ????????? ? ??? "??????? ? ??????????",
+???? ????), ???? Enigma 1.1 ???????? ???????? ????? ? ????, ? ?????? Ronald'? ? Raoul'? ???????
+???. ? ????? ???????? ????????? ????? ????? ???????, ???? ? ??????? ??????? ???????? ??
+????????? ???. Harry ????? ??????? ?????? ?????? ??????? ????? ??-?????????? ??????
+????? ? ?????, ??? ?????????? ???????????? ? ??????? &quot;???????? ???? ??????? ???????&quot;
+??? ???????? &quot;???????????? ?? ??????? ??????? ??????????? ???????&quot; - ??? ??????
+? ????? ????????? ?????????. ?????? ?? ????? ??? ?????????? - ????? ???? ? &quot;Worse
+Nightmare&quot; - ??? ?????? ???????????? ??????? ?? ????? ??-?? ?????-?? ????????? ?
+???????????? ?????. ??, ??? ?????? ?? ????? ???????? ???? ???????, ??? ????? ????? ???????
+??????????? ????????????? ????????? ???????????? ????????. ? ????? ??????? ???????????? ?
+???????? ??????? ???????, ? ????? ?? ??????? ?????????????? ??? ?????????????? ?????? ??????.
+</p>
+
+<p>??? ???????? ??? ???: ?? ?????????? ???????????? ???????? ??? ?????????? ?????? ?
+???????????? ???????, ?? ???, ????? ?????????. ???? ?? ?????? Enigma ? ?????? ??????,
+??????????, ???????? ??? ?????? ?? ??????, ??????? ??? ?????? ???? ???????? ??? ? ???????
+??? ???-?? ?????????. ?? ?????? ????????? ??? ??? ?? ??????????, ???????? ??? ???????
+??????. ?, ???????, ?? ??? ?? ????????????? ????????? ??????? ???????????? ?? ??????????
+??????. ??????, ??????? ????????, ?????????? ???????: <i>???? ?? ?? ???????? ??? ??????,
+?? ??? ???</i>
+</p>
+
+<p>
+???? ?? ?? ?????? ??????, ????? ??????? ?? ?????? ???????, ??? ?????? ??????, ? ???????
+????? ??????? ?????? ? ??????? ????? ????? ?????????? ???????? ??????:
+<ul>
+<li>&quot;Turnstiles for Two&quot; ?? Ronald Lamprecht</li>
+<li>&quot;Pleasure Garden&quot; ?? Jacob Scott</li>
+<li>&quot;Gods of Enigma II&quot; ?? moonpearl</li>
+<li>&quot;Industrial Puzzles&quot; ?? Raoul Bourquin</li>
+</ul>
+?????????? ?????????? ??? ?????? ? ???????????, ??? ??????? ??? ? ???????, ????? ??????? ???????
+?? ???????? ?????:
+<pre>
+<a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
+</pre>
+??????? ?? ???? ???????????, ??????? ?? ??????? ?? ???!
+</p>
+
+<p>? ?????????? ???????????,<br>
+<i>Andreas ? Harry</i></p>
+
+</div>
+


Property changes on: homepage/input/lotm/lotm_200803_ru.html
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: homepage/input/lotm/lotm_header_ru.html
===================================================================
--- homepage/input/lotm/lotm_header_ru.html	2008-03-15 16:09:03 UTC (rev 1072)
+++ homepage/input/lotm/lotm_header_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
@@ -1,7 +1,7 @@
 <h2>$$lotm_expansion$$</h2>
 
-  <p>?? ????? ?????? ????? ????? ?????????? ??????????????? 
-  ? ???????????? ???????. ???????????? ?????? ??? ??, ? ??????? ??????? ?????? ????????????? ?????????
-  ? ?????? ????? ??????. ????????????? ??? ??? ?????. ??????? ?????????? ?????????? ??????,
-  ?? ??????? ?? ??????? ? ?? ????????? ????????? ???? ?????? ?????? ? ???????????? ? ????? ??????? ??????. ?? ?????? ????? ???
-  ?????????? ?????? ?????? ? ????? <a href="$$lotm$$">??????</a>.</p>
+  <p>?? ????? ?????? ????? ?????? ???????? ??????? ???????????? ???????.
+  ???????????? ?????? ??? ??, ? ??????? ??????? ?????? ????????????? ?????????
+  ? ? ????? ????? ??????. ????????????? ??? ??? ?????. ??????? ?????????? ?????????? ??????,
+  ?? ??????? ?? ??????? ? ?? ????????? ????????? ???? ?????? ?????? ? ???????????? ? ????? ??????? ??????.
+  ?? ?????? ????? ??? ?????????? ?????? ?????? ? ????? <a href="$$lotm$$">??????</a>.</p>



From ged at mail.berlios.de  Sat Mar 15 19:30:34 2008
From: ged at mail.berlios.de (ged at mail.berlios.de)
Date: Sat, 15 Mar 2008 19:30:34 +0100
Subject: [Enigma-game-svn] r1074 - homepage/input
Message-ID: <200803151830.m2FIUY9j003637@sheep.berlios.de>

Author: ged
Date: 2008-03-15 19:30:32 +0100 (Sat, 15 Mar 2008)
New Revision: 1074

Modified:
   homepage/input/infobox_ru.html
Log:
Homepage: forgot about infobox, sorry for double posting

Modified: homepage/input/infobox_ru.html
===================================================================
--- homepage/input/infobox_ru.html	2008-03-15 18:23:22 UTC (rev 1073)
+++ homepage/input/infobox_ru.html	2008-03-15 18:30:32 UTC (rev 1074)
@@ -1,9 +1,10 @@
     <div class="infobody">
        <div class="info">
-         <h3>100% ??????!</h3>
-         ??????????? ?????? ????????? ???????????? Ryujun, ??????? ?????? ??????? ?????
-	 ??? ?????? Enigma 1.01 ? ?????????? ? ??????? ???????.
-         <h3>Level of the Month</h3>
+         <h3>500,000 ????????!</h3>
+         ? 2 ?? 3 ?????????????? ???????, Enigma ???????? ??????? ? 500.000 ???????? ?
+         ??????? Berlios. ? ??? ?????? ???????? ? ?????? 0.92 ?? 1.01.
+         ??????? ???? ???????, ??????? ??????? ??? ?????????!
+         <h3>??????? ??????</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
          <div class="imagetitle">



From andreasl at mail.berlios.de  Sat Mar 15 20:54:21 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Sat, 15 Mar 2008 20:54:21 +0100
Subject: [Enigma-game-svn] r1075 - homepage/input/lotm
Message-ID: <200803151954.m2FJsL5F011202@sheep.berlios.de>

Author: andreasl
Date: 2008-03-15 20:54:20 +0100 (Sat, 15 Mar 2008)
New Revision: 1075

Modified:
   homepage/input/lotm/lotm_200803_de.html
Log:
LotM 3/08:
 - Completed German translation
 - Escaped umlauts of German translation


Modified: homepage/input/lotm/lotm_200803_de.html
===================================================================
--- homepage/input/lotm/lotm_200803_de.html	2008-03-15 18:30:32 UTC (rev 1074)
+++ homepage/input/lotm/lotm_200803_de.html	2008-03-15 19:54:20 UTC (rev 1075)
@@ -1,15 +1,15 @@
 <div class="lotm">
 $$lotm_header$$
 <h3 class="lotm">
-<span class="date">M?rz 2008: </span>
+<span class="date">M&auml;rz 2008: </span>
 &quot;Psycho Pushing&quot; von Sven Siggelkow
 </h3>
 
 <p>Lieber Besucher, bitte seien Sie leise, wenn wir jetzt Enigma's Irrenanstalt
-betreten. Wie Sie sicher wissen, tr?gt der Verr?ckte von heute nicht mehr nur
-eine gespaltene Pers?nlichkeit mit sich herum, sondern eine ganze Cantormenge
-von Identit?ten. Wie Sie sehen, ist jedes der vier Geb?ude selbst nochmal
-geteilt in zwei getrennte Zellen f?r unsere G?ste. Bitte machen Sie sich keine
+betreten. Wie Sie sicher wissen, tr&auml;gt der Verr&uuml;ckte von heute nicht mehr nur
+eine gespaltene Pers&ouml;nlichkeit mit sich herum, sondern eine ganze Cantormenge
+von Identit&auml;ten. Wie Sie sehen, ist jedes der vier Geb&auml;ude selbst nochmal
+geteilt in zwei getrennte Zellen f&uuml;r unsere G&auml;ste. Bitte machen Sie sich keine
 Sorgen, die meisten sind ziemlich harmlose, phlegmatische Insassen unseres
 Instituts. Passen Sie nur auf, dass Sie hier nicht ebenfalls als Psycho enden,
 wenn Sie versuchen, sie in ihre Betten zu geleiten; willkommen bei &quot;Psycho
@@ -114,73 +114,73 @@
         <td class="left">para_doks</td></tr>
 </table>
 
-<p>Nicht viel hat sich seit dem letzten Monat in den Spielerratings ver?ndert;
+<p>Nicht viel hat sich seit dem letzten Monat in den Spielerratings ver&auml;ndert;
 genau genommen, waren alle Bewertungen stabil, mit &quot;Island Labyrinth&quot;
 und &quot;Quadropolis&quot; gemeinsam an der Spitze der Tabelle. &quot;Psycho
 Pushing&quot; steigt auf Position 11 ein, knapp hinter &quot;Big
 Adventures&quot;.</p>
 
-<h4>&quot;Tarim hat sich in seine Studentenzeit zur?ckversetzt gef?hlt&quot;</h4>
+<h4>&quot;Tarim hat sich in seine Studentenzeit zur&uuml;ckversetzt gef&uuml;hlt&quot;</h4>
 
 <p>Ja, unsere Steine in Enigma hatten wirklich eine schwere Zeit.
-Von achtlosen Murmeln herumgeschubst zu werden, auf ewig in dunkle Abgr?nde zu
-st?rzen, Objekte unter sich verstecken zu m?ssen, die die Murmel verzweifelt
+Von achtlosen Murmeln herumgeschubst zu werden, auf ewig in dunkle Abgr&uuml;nde zu
+st&uuml;rzen, Objekte unter sich verstecken zu m&uuml;ssen, die die Murmel verzweifelt
 sucht, bereits als junger Samen per Post verschickt zu werden oder eine
-Ewigkeit in kaltem Wasser treiben zu m?ssen &hellip; und wann immer etwas
+Ewigkeit in kaltem Wasser treiben zu m&uuml;ssen &hellip; und wann immer etwas
 schief geht, ist es ihre Schuld. Und obwohl die meisten Steine diese Behandlung
-auf die ihnen eigene, stoische Art tolerieren, k?mmert sich Sven Siggelkow in
+auf die ihnen eigene, stoische Art tolerieren, k&uuml;mmert sich Sven Siggelkow in
 &quot;Psycho Pushing&quot; um diejenigen Steine, die es einfach nicht mehr
 aushalten konnten.
 </p>
 
 <div class="quote">
-&quot;Psycho Pushing&quot; ist Sven Siggelkows sehr sch?n gestaltete Studie in Sachen
-komprimierte Komplexit?t. Acht winzige sokobanartige Puzzles - und jedes
-Einzelne davon unm?glich zu verstehen, von welcher Seite man es auch immer
-betrachtet - bis dann schlu?endlich der Augenblick der Eingebung d?mmert.
+&quot;Psycho Pushing&quot; ist Sven Siggelkows sehr sch&ouml;n gestaltete Studie in Sachen
+komprimierte Komplexit&auml;t. Acht winzige sokobanartige Puzzles - und jedes
+Einzelne davon unm&ouml;glich zu verstehen, von welcher Seite man es auch immer
+betrachtet - bis dann schlu&szlig;endlich der Augenblick der Eingebung d&auml;mmert.
 </div>
 
 <div class="quote">
-Tarim hat sich in seine Studentenzeit zur?ckversetzt gef?hlt. Beim Einzug in
-seine neue Bude musste er damals alle seine M?belst?cke in ein r?umlich doch arg
-begrenztes Zimmer schieben, und dann das Kunstst?ck fertig bringen, die
-einzelnen Einrichtungsgegenst?nde auf ihren vorgesehenen Platz zu bef?rdern, und
-w?hrend dieses Man?vers auch noch jederzeit zu gew?hrleisten, dass f?r ihn
-selbst wenigstens gen?gend Platz zum Stehen vorhanden blieb. Und nicht zu
-vergessen, auch genug Raum frei zu lassen, um nach getaner Arbeit noch die T?r
-?ffnen zu k?nnen, und den Sieg ?ber die Enge des Raumes im n?chsten Pub zu
+Tarim hat sich in seine Studentenzeit zur&uuml;ckversetzt gef&uuml;hlt. Beim Einzug in
+seine neue Bude musste er damals alle seine M&ouml;belst&uuml;cke in ein r&auml;umlich doch arg
+begrenztes Zimmer schieben, und dann das Kunstst&uuml;ck fertig bringen, die
+einzelnen Einrichtungsgegenst&auml;nde auf ihren vorgesehenen Platz zu bef&ouml;rdern, und
+w&auml;hrend dieses Man&ouml;vers auch noch jederzeit zu gew&auml;hrleisten, dass f&uuml;r ihn
+selbst wenigstens gen&uuml;gend Platz zum Stehen vorhanden blieb. Und nicht zu
+vergessen, auch genug Raum frei zu lassen, um nach getaner Arbeit noch die T&uuml;r
+&ouml;ffnen zu k&ouml;nnen, und den Sieg &uuml;ber die Enge des Raumes im n&auml;chsten Pub zu
 feiern.
 </div>
 
 <div class="quote">
-Mit der Maus nicht gerade der Allerflinkeste, hat Tarim sich nicht erk?hnt, ein
-Wettrennen mit dem Felsblock zu wagen, um nach Bet?tigung des Schalters vor eben
+Mit der Maus nicht gerade der Allerflinkeste, hat Tarim sich nicht erk&uuml;hnt, ein
+Wettrennen mit dem Felsblock zu wagen, um nach Bet&auml;tigung des Schalters vor eben
 diesem in den Raum ObenLinksEins zu gelangen. Es musste einen anderen Weg
 geben... Es gab einen anderen Weg: Den Zauberstab in Raum ObenLinksZwei gleich
 nebenan! Doch um an diesen zu gelangen, musste man zuerst das Puzzle in Raum
-ObenLinksEins gel?st haben. Ein rekursives Paradoxon, dass sich nicht aufl?sen
-lie? - bis es Tarim schlie?lich gelang, ein paar Holzbl?cke aus Raum
-ObenRechtsZwei herauszubef?rdern, und mit deren Hilfe durch den unter Wasser
+ObenLinksEins gel&ouml;st haben. Ein rekursives Paradoxon, dass sich nicht aufl&ouml;sen
+lie&szlig; - bis es Tarim schlie&szlig;lich gelang, ein paar Holzbl&ouml;cke aus Raum
+ObenRechtsZwei herauszubef&ouml;rdern, und mit deren Hilfe durch den unter Wasser
 stehenden Hintereingang Zutritt zu Raum ObenLinksZwei zu erlangen.
 </div>
 
 <div class="quote">
 Derart war die Kraft dieses Levels, dass sie Tarim glauben machte, dass das
-Unm?gliche m?glich gemacht werden kann - und genau auf diese Weise hat er es
-auch endlich geschafft den Level zu l?sen.  
+Unm&ouml;gliche m&ouml;glich gemacht werden kann - und genau auf diese Weise hat er es
+auch endlich geschafft den Level zu l&ouml;sen.  
 </div>
 
 <div class="author">Tarim</div>
 
-<p>Wenn Sie sich beeilen, k?nnen Sie noch den W?rter sehen, wie er die erste
-Zelle unseres Komplexes betritt. Zwei W?chter sichern die Zelle, w?hrend der
-W?rter drin ist. Die drei Bewohner dieser Zelle leiden an Amnesie, durch zu
-viele, zu harte Schl?ge auf ihre Seiten. Und immer wieder vergessen sie, wo
+<p>Wenn Sie sich beeilen, k&ouml;nnen Sie noch den W&auml;rter sehen, wie er die erste
+Zelle unseres Komplexes betritt. Zwei W&auml;chter sichern die Zelle, w&auml;hrend der
+W&auml;rter drin ist. Die drei Bewohner dieser Zelle leiden an Amnesie, durch zu
+viele, zu harte Schl&auml;ge auf ihre Seiten. Und immer wieder vergessen sie, wo
 ihre Betten stehen. In der Zelle rechts haben wir drei Kleptomanen, die in
 einem namenlosen alptraumhaften Level Objekte unter sich verstecken mussten.
-Seien Sie bitte vorsichtig, man wei? nie, welche Dinge sie diesmal
+Seien Sie bitte vorsichtig, man wei&szlig; nie, welche Dinge sie diesmal
 hereingeschmuggelt haben. Letztes Mal haben sie es geschafft, einen Schneemann
-in ihrer Zelle zu verstecken, der dann aber nat?rlich geschmolzen ist &hellip;
+in ihrer Zelle zu verstecken, der dann aber nat&uuml;rlich geschmolzen ist &hellip;
 bitte rutschen Sie nicht auf dem nassen Boden aus.
 </p>
 
@@ -189,7 +189,7 @@
 <p>Die n&auml;chste Zelle beherbergt einige zwanghafte Spielernaturen
 auf Entzug. Nur keine Panik, es sind eigentlich ganz nette Kerle. Bevor sie vor
 einigen Monaten durchgedreht sind, waren sie als &quot;Turnstiles&quot;
-besch&auml;ftigt. Bringen Sie etwas Rundes f?r sie zum Spielen mit, und Sie
+besch&auml;ftigt. Bringen Sie etwas Rundes f&uuml;r sie zum Spielen mit, und Sie
 werden mit offenen Armen empfangen werden. Und sehen Sie sich vor, dass Sie
 nicht von dem hier zust&auml;ndigen W&auml;rter &uuml;berrannt werden. Die
 Insassen der n&auml;chsten Zelle sind Pyromanen, die zu lange als ehemalige
@@ -205,27 +205,27 @@
 
 <div class="quote">
 Kein anderer Level hat bei mir in all den Jahren, die ich dieses Level kenne,
-solch widerspr?chliche Gef?hlszust?nde verursacht, wie &quot;Psycho Pushing&quot;.
+solch widerspr&uuml;chliche Gef&uuml;hlszust&auml;nde verursacht, wie &quot;Psycho Pushing&quot;.
 </div>
 
 <div class="quote">
 Zuerst war ich einfach nur frustriert von diesem Level, da ich nicht schnell
 genug mit meiner Murmel war, das Puzzle oben links zu betreten, bevor die Samen
 den Zugang verschlossen hatten. Ich sah all die herausfordernden netten
-sokoban?hnlichen R?tsel, aber ich musste erst zu den vielen anderen Levels
-zur?ckkehren, die ich noch l?sen musste, um meine Fertigkeiten zu verbessern.
+sokoban&auml;hnlichen R&auml;tsel, aber ich musste erst zu den vielen anderen Levels
+zur&uuml;ckkehren, die ich noch l&ouml;sen musste, um meine Fertigkeiten zu verbessern.
 </div>
 
 <div class="quote">
-Nach einiger Zeit kehrte ich zu diesem Level zur?ck. Nun hatte ich kein
-gr??eres Problem mehr, die Puzzles zu betreten und konnte sie wirklich
-genie?en. &quot;Psycho Pushing&quot; wurde einer meiner liebsten Levels.
+Nach einiger Zeit kehrte ich zu diesem Level zur&uuml;ck. Nun hatte ich kein
+gr&ouml;&szlig;eres Problem mehr, die Puzzles zu betreten und konnte sie wirklich
+genie&szlig;en. &quot;Psycho Pushing&quot; wurde einer meiner liebsten Levels.
 </div>
 
 <div class="quote">
-Aber dann entdeckte ich, dass man einige der Puzzles abk?rzen kann. Ich war
-wirklich entt?uscht. All' diese sch?nen R?tsel und man muss einige von ihnen
-umgehen, um einen guten Score zu erreichen? Ich dachte, die Abk?rzungen m?ssten
+Aber dann entdeckte ich, dass man einige der Puzzles abk&uuml;rzen kann. Ich war
+wirklich entt&auml;uscht. All' diese sch&ouml;nen R&auml;tsel und man muss einige von ihnen
+umgehen, um einen guten Score zu erreichen? Ich dachte, die Abk&uuml;rzungen m&uuml;ssten
 repariert werden.
 </div>
 
@@ -262,10 +262,10 @@
 
 <p>
 In der ersten Zelle der s&uuml;dlichen H&auml;lfte unseres Asyls
-befindet sich die geschlossene Abteilung f?r demenzkranke Steine. Den
+befindet sich die geschlossene Abteilung f&uuml;r demenzkranke Steine. Den
 Gro&szlig;teil ihres langen Berufslebens in der Bolder-Branche t&auml;tig, haben
 sie auch jetzt noch die Neigung, sich spontan auf den Weg zu machen, bis sie
-sich pl?tzlich verirren, und dann orientierungs- und bewegungslos verharren, bis
+sich pl&ouml;tzlich verirren, und dann orientierungs- und bewegungslos verharren, bis
 unser Pflegepersonal sie wieder zu ihrem Refugium zur&uuml;ckgeleitet. Zu ihrem
 eigenen Schutz haben wir daher beschlossen, sie hier in der geschlossenen
 Abteilung zu verwahren.
@@ -284,10 +284,11 @@
 Dieser immense innere Konflikt zwischen Wahn und Wirklichkeit verursacht eine
 gigantische latente Agressionsbereitschaft. Bitte seien Sie sehr vorsichtig,
 wenn Sie mit diesen Steinen sprechen, ein Schritt in die falsche Richtung, und
-ihre impulsiven Emotionen und Aktionen k?nnten Sie verletzen.
+ihre impulsiven Emotionen und Aktionen k&ouml;nnten Sie verletzen.
 </p>
 
-<h4>&quot;'Psycho Pushing' resulted from studying the old Oxyd levels again&quot;</h4>
+<h4>&quot;'Psycho Pushing' resultierte wieder aus dem Studium der alten
+Oxydlevels&quot;</h4>
 
 <p>Die siebte unserer Zellen bietet denjenigen unserer
 G&auml;ste Unterkunft, die unter abnormer Klaustrophobie
@@ -316,57 +317,57 @@
 Es ist ja schon eine ganze Weile her, seitdem ich den Level zusammengebastelt
 habe. Ich musste eine Weile nachdenken, aber ich erinnere mich: Es war im Juli
 2003, als ich &quot;Psycho Pushing&quot; vollendete. Er wurde zusammen mit 16
-weiteren meiner Levels mit dem 0.81er Release von Enigma ver?ffentlicht.
+weiteren meiner Levels mit dem 0.81er Release von Enigma ver&ouml;ffentlicht.
 </div>
 
 <div class="lotmpic">
 <img src="$$imagedir$$/lotm/lotm_200803_c.png" alt="Level des Monats" border="0">
 <div class="imagetitle">Oh, ein Extraleben, sehr gut; <br> diese Mauern sind
-irgendwie angsteinfl??end &hellip;</div>
+irgendwie angsteinfl&ouml;&szlig;end &hellip;</div>
 </div>
 
 <div class="quote">
-Meine Beziehung zu Enigma f?hrt ?ber die Originalspielidee von Meinolf
+Meine Beziehung zu Enigma f&uuml;hrt &uuml;ber die Originalspielidee von Meinolf
 Schneider. Ich habe alle Oxydspiele bereits vor 20 Jahren auf meinem Atari ST
 verschlungen. Zu meinem Leidwesen konnte man dort die Level nur sukzessive
-spielen, also erst wenn man einen gel?st hat, durfte man den n?chsten versuchen.
-Das war manchmal sehr frustrierend. ?ber die Jahre hatte ich dann immer mal
+spielen, also erst wenn man einen gel&ouml;st hat, durfte man den n&auml;chsten versuchen.
+Das war manchmal sehr frustrierend. &Uuml;ber die Jahre hatte ich dann immer mal
 wieder ein Spiel am PC durchgespielt.
 </div>
 
 <div class="quote">
 Meine Favoriten waren immer die Linkspiel-Levels,
-bei denen man zusammen mit einem Partner gemeinsam den Level l?sen musste. Ich
+bei denen man zusammen mit einem Partner gemeinsam den Level l&ouml;sen musste. Ich
 hoffe sehr, dass das noch in Enigma umgesetzt wird, denn diese Spielfreude ist
 wirklich ein Erlebnis.
 </div>
 
 <div class="quote">
-Irgendwann bin ich dann mal auf Enigma gesto?en, und entschied mich, mein
+Irgendwann bin ich dann mal auf Enigma gesto&szlig;en, und entschied mich, mein
 Oxydwissen in Form von Fehlerberichten mit den Entwicklern zu teilen. Ich
-wollte das Projekt wirklich vorw?rts bringen, aber wie?
+wollte das Projekt wirklich vorw&auml;rts bringen, aber wie?
 </div>
 
 <div class="quote">
 &quot;Psycho Pushing&quot; und viele der Ideen meiner anderen Levels
 resultierten wieder aus dem Studium der alten Oxydlevels. Sie alle waren nur
-von der Gr??e eines Bildschirms, wie die sechs Meditationslandschaften, von
+von der Gr&ouml;&szlig;e eines Bildschirms, wie die sechs Meditationslandschaften, von
 denen ich &quot;What's the problem&quot; besonders bemerkenswert finde. Mit
-&quot;Psycho Pushing&quot;, meinem dritten Level ?berhaupt, wollte ich einen
-Mehrscreenlevel schaffen, wo diverse B?den, Elemente und Steine verwendet
-werden. Daher habe ich wahrscheinlich auch alle m?glichen Items versteckt, unter
+&quot;Psycho Pushing&quot;, meinem dritten Level &uuml;berhaupt, wollte ich einen
+Mehrscreenlevel schaffen, wo diverse B&ouml;den, Elemente und Steine verwendet
+werden. Daher habe ich wahrscheinlich auch alle m&ouml;glichen Items versteckt, unter
 den verschiebbaren Steinen am Rand, wovon die meisten irrelevant sind. Und
-gerade der Schirm ist es wohl, der f?r diverse Abk?rzungen sorgt, wie die von
-Ronald k?rzlich erw?hnte. Allerdings k?nnen wohl nur wahre F?chse davon
+gerade der Schirm ist es wohl, der f&uuml;r diverse Abk&uuml;rzungen sorgt, wie die von
+Ronald k&uuml;rzlich erw&auml;hnte. Allerdings k&ouml;nnen wohl nur wahre F&uuml;chse davon
 </div>
 
 <div class="quote">
 Ich habe Enigma dann etwas aus den Augen verloren, aber vor kurzem konnte ich
-meine sechsj?hrige Tochter von diesem Spiel begeistern und mit ein wenig Stolz
+meine sechsj&auml;hrige Tochter von diesem Spiel begeistern und mit ein wenig Stolz
 teile ich ihr dann mit, dass einige der Levels von mir sind. Vielleicht werden
 ja noch einige folgen, denn mittlerweile bin ich selbst wieder begeistert und es
 kommen ja immer einige neue Level dazu. Zudem ist es nicht so, dass ich schon
-alle gel?st h?tte ;-)
+alle gel&ouml;st h&auml;tte ;-)
 </div>
 
 <div class="quote">
@@ -382,42 +383,42 @@
 neuen Fan!</p>
 
 
-<p>Abschlie?end ein Wort in eigener Sache. Im Namen von Harry und mir, m?chte
-ich Ihnen allen, unseren treuen Lesern da drau?en, danken, dass Sie durch das
+<p>Abschlie&szlig;end ein Wort in eigener Sache. Im Namen von Harry und mir, m&ouml;chte
+ich Ihnen allen, unseren treuen Lesern da drau&szlig;en, danken, dass Sie durch das
 letzte Jahr hindurch bei uns gewesen sind. Zusammen mit Clifford, mit Yuriy und
-Joe konnten wir 12 Artikel ?ber die besten Levels in Enigma verfassen.
-Allerdings tut es mir leid, hiermit ank?ndigen m?ssen, dass dieser LdM f?r eine
+Joe konnten wir 12 Artikel &uuml;ber die besten Levels in Enigma verfassen.
+Allerdings tut es mir leid, hiermit ank&uuml;ndigen m&uuml;ssen, dass dieser LdM f&uuml;r eine
 lange Zeit der letzte LdM aus meiner Feder bleiben wird. Ich werde nun
-&quot;zur Quelle zur?ckkehren&quot;, da Enigma 1.1 verzweifelt zu schl?pfen
+&quot;zur Quelle zur&uuml;ckkehren&quot;, da Enigma 1.1 verzweifelt zu schl&uuml;pfen
 versucht, und Ronald und Raoul helfen, dies geschehen zu lassen. Und auch
-selbst einige neue Levels schreiben zu k?nnen, etwas, dass ich im Laufe des
+selbst einige neue Levels schreiben zu k&ouml;nnen, etwas, dass ich im Laufe des
 letzten Jahres aus den Augen verloren hatte. Harry hat sich dazu entschieden,
 mehr seiner Zeit auf die wirklich wichtigen Dinge im Leben zu verwenden, wie
-den &quot;Goldenen Pfad des Levell?sens&quot; weiter zu erforschen oder
+den &quot;Goldenen Pfad des Levell&ouml;sens&quot; weiter zu erforschen oder
 &quot;Per Anhalter durch das Levelpack&quot; zu studieren - oder sich mehr
-seiner Handtuchsammlung zu widmen. Nichts - au?er vielleicht &quot;Worse
+seiner Handtuchsammlung zu widmen. Nichts - au&szlig;er vielleicht &quot;Worse
 Nightmare&quot; zu spielen - kann frustrierender sein, als einen Tripp mit
 einem Raumschiff zu verpassen, nur weil das eigene Handtuch nicht in guter Form
-ist. Aber solange er auf der Oberfl?che dieses Planeten kriecht, hat er seine
+ist. Aber solange er auf der Oberfl&auml;che dieses Planeten kriecht, hat er seine
 Dienste der Enigmischen Gemeinschaft als Mitglied der Redaktion angeboten. Und
-dort zuk?nftige Autoren zu unterst?tzen und anzuleiten, und von Zeit zu Zeit
+dort zuk&uuml;nftige Autoren zu unterst&uuml;tzen und anzuleiten, und von Zeit zu Zeit
 einen Kommentar oder Artikel selbst beizusteuern.
 </p>
 
 <p>Was bedeutet: Wir werden eine Redaktion anbieten, um Artikel und
-Spielerkommentare von Ihnen, unseren Lesern, zu ver?ffentlichen. Wenn Sie
+Spielerkommentare von Ihnen, unseren Lesern, zu ver&ouml;ffentlichen. Wenn Sie
 Enigma lieben, und zu schreiben lieben, bitte, schicken Sie uns einen Artikel
-?ber den Level, den Sie am meisten bewundern, oder mit dem Sie sich am besten
-selbst identifizieren k?nnen. Sie k?nnen ihn uns in Englisch, Deutsch oder
-Russisch zuschicken. Und nat?rlich gibt es keine Verpflichtung f?r weitere
+&uuml;ber den Level, den Sie am meisten bewundern, oder mit dem Sie sich am besten
+selbst identifizieren k&ouml;nnen. Sie k&ouml;nnen ihn uns in Englisch, Deutsch oder
+Russisch zuschicken. Und nat&uuml;rlich gibt es keine Verpflichtung f&uuml;r weitere
 Artikel von Ihnen. Allerdings, lieber Leser, bitte denken Sie daran: <i>Wenn
 Sie diesen Artikel nicht schreiben, wird es niemand tun.</i>
 </p>
 
 <p>
-Wenn Sie sich nicht entscheiden k?nnen, welchen Level Sie beschreiben wollen,
-sind hier vier Levels, die hoch Bewertungen haben und die n?chsten Levels des
-Monats geworden w?ren:
+Wenn Sie sich nicht entscheiden k&ouml;nnen, welchen Level Sie beschreiben wollen,
+sind hier vier Levels, die hoch Bewertungen haben und die n&auml;chsten Levels des
+Monats geworden w&auml;ren:
 <ul>
 <li>&quot;Turnstiles for Two&quot; von Ronald Lamprecht</li>
 <li>&quot;Pleasure Garden&quot; von Jacob Scott</li>
@@ -425,14 +426,14 @@
 <li>&quot;Industrial Puzzles&quot; von Raoul Bourquin</li>
 </ul>
 Bitte, senden Sie uns Artikel und Kommentare, als Spieler ebenso wie als Autor
-eines solch gro?artigen Levels, an:
+eines solch gro&szlig;artigen Levels, an:
 <pre>
 <a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
 </pre>
-Vielen Dank f?r Ihren Einsatz, die Zukunft des LdM h?ngt von IHNEN ab!
+Vielen Dank f&uuml;r Ihren Einsatz, die Zukunft des LdM h&auml;ngt von IHNEN ab!
 </p>
 
-<p>Beste Gr??e,<br>
+<p>Beste Gr&uuml;&szlig;e,<br>
 <i>Andreas &amp; Harry</i></p>
 
 </div>



From raoul at mail.berlios.de  Sun Mar 16 10:40:30 2008
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 16 Mar 2008 10:40:30 +0100
Subject: [Enigma-game-svn] r1076 - homepage/input/lotm
Message-ID: <200803160940.m2G9eU61011126@sheep.berlios.de>

Author: raoul
Date: 2008-03-16 10:40:29 +0100 (Sun, 16 Mar 2008)
New Revision: 1076

Modified:
   homepage/input/lotm/lotm_200803.html
   homepage/input/lotm/lotm_200803_de.html
   homepage/input/lotm/lotm_200803_ru.html
Log:
-> Validated html for lotm 2008-03



Modified: homepage/input/lotm/lotm_200803.html
===================================================================
--- homepage/input/lotm/lotm_200803.html	2008-03-15 19:54:20 UTC (rev 1075)
+++ homepage/input/lotm/lotm_200803.html	2008-03-16 09:40:29 UTC (rev 1076)
@@ -354,18 +354,20 @@
 
 <p>
 If you can't decide which level you want to depict, here are four levels, which
-have very high ratings and would have become the next Levels of the Months:
+have very high ratings and would have become the next Levels of the Months:</p>
 <ul>
 <li>&quot;Turnstiles for Two&quot; by Ronald Lamprecht</li>
 <li>&quot;Pleasure Garden&quot; by Jacob Scott</li>
 <li>&quot;Gods of Enigma II&quot; by moonpearl</li>
 <li>&quot;Industrial Puzzles&quot; by Raoul Bourquin</li>
 </ul>
+<p>
 Please, send articles and comments to us, as a gamer as well as an author of
-such a great level, to:
+such a great level, to:</p>
 <pre>
 <a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
 </pre>
+<p>
 Thank you for your commitment, the future of the LotM depends on YOU!
 </p>
 

Modified: homepage/input/lotm/lotm_200803_de.html
===================================================================
--- homepage/input/lotm/lotm_200803_de.html	2008-03-15 19:54:20 UTC (rev 1075)
+++ homepage/input/lotm/lotm_200803_de.html	2008-03-16 09:40:29 UTC (rev 1076)
@@ -418,18 +418,20 @@
 <p>
 Wenn Sie sich nicht entscheiden k&ouml;nnen, welchen Level Sie beschreiben wollen,
 sind hier vier Levels, die hoch Bewertungen haben und die n&auml;chsten Levels des
-Monats geworden w&auml;ren:
+Monats geworden w&auml;ren:</p>
 <ul>
 <li>&quot;Turnstiles for Two&quot; von Ronald Lamprecht</li>
 <li>&quot;Pleasure Garden&quot; von Jacob Scott</li>
 <li>&quot;Gods of Enigma II&quot; von moonpearl</li>
 <li>&quot;Industrial Puzzles&quot; von Raoul Bourquin</li>
 </ul>
+<p>
 Bitte, senden Sie uns Artikel und Kommentare, als Spieler ebenso wie als Autor
-eines solch gro&szlig;artigen Levels, an:
+eines solch gro&szlig;artigen Levels, an:</p>
 <pre>
 <a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
 </pre>
+<p>
 Vielen Dank f&uuml;r Ihren Einsatz, die Zukunft des LdM h&auml;ngt von IHNEN ab!
 </p>
 

Modified: homepage/input/lotm/lotm_200803_ru.html
===================================================================
--- homepage/input/lotm/lotm_200803_ru.html	2008-03-15 19:54:20 UTC (rev 1075)
+++ homepage/input/lotm/lotm_200803_ru.html	2008-03-16 09:40:29 UTC (rev 1076)
@@ -338,18 +338,20 @@
 
 <p>
 ???? ?? ?? ?????? ??????, ????? ??????? ?? ?????? ???????, ??? ?????? ??????, ? ???????
-????? ??????? ?????? ? ??????? ????? ????? ?????????? ???????? ??????:
+????? ??????? ?????? ? ??????? ????? ????? ?????????? ???????? ??????:</p>
 <ul>
 <li>&quot;Turnstiles for Two&quot; ?? Ronald Lamprecht</li>
 <li>&quot;Pleasure Garden&quot; ?? Jacob Scott</li>
 <li>&quot;Gods of Enigma II&quot; ?? moonpearl</li>
 <li>&quot;Industrial Puzzles&quot; ?? Raoul Bourquin</li>
 </ul>
+<p>
 ?????????? ?????????? ??? ?????? ? ???????????, ??? ??????? ??? ? ???????, ????? ??????? ???????
-?? ???????? ?????:
+?? ???????? ?????:</p>
 <pre>
 <a href="mailto:enigma-devel at nongnu.org">enigma-devel at nongnu.org</a>
 </pre>
+<p>
 ??????? ?? ???? ???????????, ??????? ?? ??????? ?? ???!
 </p>
 



From ral at mail.berlios.de  Tue Mar 18 23:00:22 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 18 Mar 2008 23:00:22 +0100
Subject: [Enigma-game-svn] r1077 - in trunk: data data/schemas src src/stones
Message-ID: <200803182200.m2IM0MAJ005979@sheep.berlios.de>

Author: ral
Date: 2008-03-18 23:00:12 +0100 (Tue, 18 Mar 2008)
New Revision: 1077

Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/items.cc
   trunk/src/player.cc
   trunk/src/stones.cc
   trunk/src/stones/BoulderStone.cc
   trunk/src/stones/BoulderStone.hh
   trunk/src/stones/TimerStone.cc
   trunk/src/stones/TimerStone.hh
   trunk/src/util.cc
   trunk/src/util.hh
Log:
Trunk 1.1: new API
- BoulderStone: reenginieering from PhotoStone to GridObject/lightDirChanged(),
  Boulder now reacts on each additional light
- TimerStone: made swappable - 1.01 did produce hangups, last revision did
  switch off timers on swapping
- fix basic Timer class hangups - intervals < 0.01 seconds on periodic
  alarms now cause an ASSERT
- basic Timer class: return remaining time on alarm removal
- reengineering it-umbrella to it_umbrella with complete light handling
- reengineering it-extralife to it_extralife with complete light handling


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/data/api1init.lua	2008-03-18 22:00:12 UTC (rev 1077)
@@ -47,12 +47,14 @@
 RenamingObjectsNew2Old = {
     it_blocker = "it-blocker",
     it_blocker_new = "it-blocker-new",
+    it_extralife = "it_extralife",
     it_hammer = "it-hammer",
     it_magnet = "it-magnet",
     it_magnet_on = "it-magnet-on",
     it_magnet_off = "it-magnet-off",
     it_sword = "it-sword",
     it_trigger = "it-trigger",
+    it_umbrella = "it-umbrella",
     it_wormhole_on = "it-wormhole",
     it_wormhole_off = "it-wormhole-off",
     st_blocker = "st-blocker",

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/data/models-2d.lua	2008-03-18 22:00:12 UTC (rev 1077)
@@ -403,7 +403,6 @@
         "it-drop",
         "it-dummy",
         "it-dynamite",
-        "it-extralife",
         "it-flagblack",
         "it-flagwhite",
         "it-floppy",
@@ -428,7 +427,6 @@
         "it-surprise",
         "it-tinyhill",
         "it-tinyhollow",
-        "it-umbrella",
         "it-vstrip",
         "it-weight",
         "it-whitebomb",
@@ -438,8 +436,10 @@
     DefImages(itemlist)
 
     DefImage("it-brake", {filename="st-brake"})
+    DefImage("it_extralife", {filename="it-extralife"})
     DefImage("it_hammer", {filename="it-hammer"})
     DefImage("it_sword", {filename="it-sword"})
+    DefImage("it_umbrella", {filename="it-umbrella"})
 end
 
 -------------------------

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/data/schemas/objects.xml	2008-03-18 22:00:12 UTC (rev 1077)
@@ -16,6 +16,7 @@
     <attr name="range" type="double" default="1.0" rw="rw"/>
     <attr name="scissor" type="bool" default="true" rw="rw"/>
     <attr name="state" type="int" default="0" min="0" max="1" rw="rw"/>
+    <attr name="static" type="bool" default="false" rw="rw"/>
     <attr name="strength" type="double" default="1" rw="rw"/>
     <attr name="target" type="tokens" default="nil" rw="rw"/>
   </attributes>
@@ -64,6 +65,8 @@
     </object>
     <object name="it_blocker_new" init="true">
     </object>
+    <object name="it_extralife"/>
+    <object name="it_extralife_new" init="true"/>
     <object name="it_hammer"/>
     <object name="it_hammer_new" init="true"/>
     <object name="it_magnet">
@@ -91,6 +94,8 @@
       <msg name="off"/>
       <msg name="signal"/>
     </object>
+    <object name="it_umbrella"/>
+    <object name="it_umbrella_new" init="true"/>
     <object name="it_wormhole_off">
       <attr name="state" value="0"/>
     </object>

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/items.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -421,49 +421,133 @@
 
 
 /* -------------------- ExtraLife -------------------- */
-namespace
-{
-    class ExtraLife : public Item {
+
+    class ExtraLife : public Item, public TimeHandler {
         CLONEOBJ(ExtraLife);
         DECL_TRAITS;
-        std::string get_inventory_model() {
-            if (player::CurrentPlayer()==0)
-                return "inv-blackball";
-            else
-                return "inv-whiteball";
+        
+    public:
+        ExtraLife(bool isNew);
+
+        // GridObject interface
+        virtual void on_creation(GridPos p);
+        virtual void on_removal(GridPos p);
+        virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
+        
+        // Item interface
+        virtual string get_inventory_model();
+
+        // TimeHandler interface
+        virtual void alarm();
+    };
+
+    ExtraLife::ExtraLife(bool isNew) : Item() {
+        if (isNew) {
+            objFlags |= ALL_DIRECTIONS;
         }
+    }
+    
+    std::string ExtraLife::get_inventory_model() {
+        if (player::CurrentPlayer()==0)
+            return "inv-blackball";
+        else
+            return "inv-whiteball";
+    }
 
-        void processLight(Direction d) {
+    void ExtraLife::on_creation(GridPos p) {
+        if ((objFlags & ALL_DIRECTIONS) == ALL_DIRECTIONS) {
+            // a new transformed extralife
+            GameTimer.set_alarm(this, 0.2, false);
+        } else {
+            updateCurrentLightDirs();
+            activatePhoto();
+        }
+        Item::on_creation(p);
+    }
+    
+    void ExtraLife::on_removal(GridPos p) {
+        GameTimer.remove_alarm(this);
+        objFlags &= ~ALL_DIRECTIONS;
+        Item::on_removal(p);
+    }
+    
+    void ExtraLife::lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs) {
+        if (added_dirs(oldDirs, newDirs) != 0) {
             sound_event ("itemtransform");
-            replace (it_glasses);
+            replace(it_glasses);
         }
+    }
+    
+    void ExtraLife::alarm() {
+            DirectionBits db = updateCurrentLightDirs();
+            activatePhoto();        
+    }
 
-    public:
-        ExtraLife() {}
-    };
-    DEF_TRAITS(ExtraLife, "it-extralife", it_extralife);
-}
+    DEF_TRAITS(ExtraLife, "it_extralife", it_extralife);
 
 /* -------------------- Umbrella -------------------- */
-namespace
-{
-    class Umbrella : public Item {
+
+    class Umbrella : public Item, public TimeHandler {
         CLONEOBJ(Umbrella);
         DECL_TRAITS;
-        void processLight(Direction d) {
-            if (server::GameCompatibility != enigma::GAMET_PEROXYD)
-                replace(it_explosion1);
-        }
-        ItemAction activate(Actor *a, GridPos) {
-            SendMessage(a, "shield");
-            return ITEM_KILL;
-        }
+
     public:
-        Umbrella() {}
+        Umbrella(bool isNew);
+
+        // GridObject interface
+        virtual void on_creation(GridPos p);
+        virtual void on_removal(GridPos p);
+        virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
+
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+        
+        // TimeHandler interface
+        virtual void alarm();
     };
-    DEF_TRAITS (Umbrella, "it-umbrella", it_umbrella);
-}
 
+    Umbrella::Umbrella(bool isNew) : Item() {
+        if (isNew) {
+            objFlags |= ALL_DIRECTIONS;
+        }
+    }
+    
+    void Umbrella::on_creation(GridPos p) {
+        if ((objFlags & ALL_DIRECTIONS) == ALL_DIRECTIONS) {
+            // a new transformed umbrella
+            GameTimer.set_alarm(this, 0.2, false);
+        } else {
+            updateCurrentLightDirs();
+            activatePhoto();
+        }
+        Item::on_creation(p);
+    }
+    
+    void Umbrella::on_removal(GridPos p) {
+        GameTimer.remove_alarm(this);
+        objFlags &= ~ALL_DIRECTIONS;
+        Item::on_removal(p);
+    }
+    
+    void Umbrella::lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs) {
+        if (added_dirs(oldDirs, newDirs) != 0 && server::GameCompatibility != enigma::GAMET_PEROXYD) {
+            sound_event ("itemtransform");
+            replace(it_explosion1);
+        }
+    }
+    
+    ItemAction Umbrella::activate(Actor *a, GridPos) {
+        SendMessage(a, "shield");
+        return ITEM_KILL;
+    }
+    
+    void Umbrella::alarm() {
+            DirectionBits db = updateCurrentLightDirs();
+            activatePhoto();        
+    }
+
+    DEF_TRAITS (Umbrella, "it_umbrella", it_umbrella);
+
 /* -------------------- Spoon -------------------- */
 namespace
 {
@@ -591,7 +675,7 @@
 
         void processLight(Direction d) {
             sound_event ("itemtransform");
-            replace (it_umbrella);
+            transform("it_umbrella_new");
         }
 
         void on_stonehit(Stone *) {
@@ -631,7 +715,7 @@
 
         void processLight(Direction d) {
             sound_event ("itemtransform");
-            replace (it_extralife);
+            transform("it_extralife_new");
         }
     public:
         Coin4() {
@@ -3850,7 +3934,8 @@
     RegisterItem (new Explosion2);
     RegisterItem (new Explosion3);
     Extinguisher::setup();
-    RegisterItem (new ExtraLife);
+    RegisterItem (new ExtraLife(false));
+    Register ("it_extralife_new", new ExtraLife(true));
     RegisterItem (new FlagBlack);
     RegisterItem (new FlagWhite);
     RegisterItem (new Floppy);
@@ -3901,7 +3986,8 @@
     RegisterItem (new TinyHollow);
     RegisterItem (new Trigger);
     RegisterItem (new TwoPKillStone);
-    RegisterItem (new Umbrella);
+    RegisterItem (new Umbrella(false));
+    Register ("it_umbrella_new", new Umbrella(true));
     RegisterItem (new Vortex(false));
     RegisterItem (new Vortex(true));
     RegisterItem (new VStrip);

Modified: trunk/src/player.cc
===================================================================
--- trunk/src/player.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/player.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -122,7 +122,7 @@
 bool LevelLocalData::remove_extralife (Actor *a) 
 {
     Inventory *inv = player::GetInventory(a);
-    int        idx = inv->find("it-extralife");
+    int        idx = inv->find("it_extralife");
 
     if (idx == -1) // no extralife found
         return false;
@@ -166,7 +166,7 @@
             extralives[i] = -1;
             do {
                 ++extralives[i];
-                idxLife = players[i].inventory.find("it-extralife", ++idxLife);
+                idxLife = players[i].inventory.find("it_extralife", ++idxLife);
             } while (idxLife != -1);
         } else {
             // new game provides 2 extralives
@@ -376,7 +376,7 @@
 static bool has_extralive(unsigned pl, unsigned num) {
     size_t idx = 0;
     for (int i = 0; i < num; i++) {
-        int idxLife = players[pl].inventory.find("it-extralife", idx);
+        int idxLife = players[pl].inventory.find("it_extralife", idx);
         if (idxLife == -1)
             return false;
         else
@@ -491,7 +491,7 @@
             for (unsigned pl = 0; pl<players.size(); ++pl) {
                 Inventory *inv = player::GetInventory(pl);
                 for (int i=0; i<numDead[pl]; i++) {
-                    int idx = inv->find("it-extralife");
+                    int idx = inv->find("it_extralife");
                     ASSERT (idx != -1, XLevelRuntime, "Missing extralife for restart of level");
                     delete inv->yield_item(idx);
                 }

Modified: trunk/src/stones/BoulderStone.cc
===================================================================
--- trunk/src/stones/BoulderStone.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/stones/BoulderStone.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -38,7 +38,7 @@
                 Object::setAttr(key, val);
             return;
         }
-        PhotoStone::setAttr(key, val);
+        Stone::setAttr(key, val);
     }
 
     Value BoulderStone::message(const Message &m) {
@@ -51,7 +51,7 @@
                     ? rotate_cw(getDir()) : rotate_ccw(getDir()));
             return Value();
         }
-        return PhotoStone::message(m);
+        return Stone::message(m);
     }
 
     int BoulderStone::externalState() const {
@@ -63,13 +63,9 @@
     }
     
     void BoulderStone::on_creation(GridPos p) {
-        PhotoStone::on_creation(p);
-        photo_activate();
+        activatePhoto();
+        Stone::on_creation(p);
     }
-    void BoulderStone::on_removal(GridPos p) {
-        photo_deactivate();
-        PhotoStone::on_removal(p);
-    }
     
     void BoulderStone::init_model() {
         std::string mname  = "st-bolder" + to_suffix(getDir());
@@ -109,6 +105,12 @@
         }
     }
 
+    void BoulderStone::lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs) {
+        if (added_dirs(oldDirs, newDirs) != 0) {
+            setDir(reverse(getDir()));
+        }
+    }
+    
     void BoulderStone::actor_hit(const StoneContact &sc) {
         if (state == FALLING)
             return;
@@ -142,13 +144,6 @@
         move_stone(impulse.dir);  // due to rotator and impulsestone
     }
 
-    void BoulderStone::notify_laseron() {
-        setDir(reverse(getDir()));
-    }
-    
-    void BoulderStone::notify_laseroff() {
-    }
-
     Direction BoulderStone::getDir() const {
         return to_direction(getAttr("orientation"));
     }

Modified: trunk/src/stones/BoulderStone.hh
===================================================================
--- trunk/src/stones/BoulderStone.hh	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/stones/BoulderStone.hh	2008-03-18 22:00:12 UTC (rev 1077)
@@ -21,7 +21,7 @@
 #define BOULDERSTONE_HH
 
 #include "stones.hh"
-#include "laser.hh"
+//#include "laser.hh"
 
 #include "stones_internal.hh"
 
@@ -30,7 +30,7 @@
     /** 
      * 
      */
-    class BoulderStone : public PhotoStone {
+    class BoulderStone : public Stone {
         CLONEOBJ(BoulderStone);
         DECL_TRAITS;
     private:
@@ -53,8 +53,8 @@
 
         // GridObject interface
         virtual void on_creation(GridPos p);
-        virtual void on_removal(GridPos p);
         virtual void init_model();
+        virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
         
         // ModelCallback interface
         virtual void animcb();
@@ -66,10 +66,6 @@
         virtual void on_impulse(const Impulse& impulse);
 //        virtual const char *collision_sound();
 
-        // PhotoStone interface
-        virtual void notify_laseron();
-        virtual void notify_laseroff();
-        
     private:
         Direction getDir() const;
         void setDir(Direction d);

Modified: trunk/src/stones/TimerStone.cc
===================================================================
--- trunk/src/stones/TimerStone.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/stones/TimerStone.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -27,15 +27,27 @@
 namespace enigma {
     
     TimerStone::TimerStone() : Stone("st_timer") {
-        state = ON_TRUE;
+        state = ON;
     }
     
+    TimerStone::~TimerStone() {
+        GameTimer.remove_alarm(this);
+    }
+    
     std::string TimerStone::getClass() const {
         return "st_timer";
     }
     
+    Value TimerStone::message(const Message &m) {
+        if (m.message == "_model_reanimated") {
+            init_model();
+            return Value();
+        }
+        return Stone::message(m);
+    }
+    
     int TimerStone::externalState() const {
-        return state == 0 ? 0 : 1;
+        return state == OFF ? 0 : 1;
     }
     
     void TimerStone::setState(int extState) {
@@ -48,15 +60,16 @@
                     GameTimer.remove_alarm(this);
                 }
             }
-        } else
+        } else {
             state = extState;
+        }
     }
     
     void TimerStone::init_model() {
         if (getAttr("invisible").to_bool()) {
             set_model("invisible");
         } else {
-            set_model(state == 0 ? "st-timeroff" : "st-timer");
+            set_model(state == OFF ? "st-timeroff" : "st-timer");
         }
     }
     
@@ -64,28 +77,25 @@
         updateAlarm();
         Stone::on_creation(p);
     }
-    
-    void TimerStone::on_removal(GridPos p) {
-        GameTimer.remove_alarm(this);
-        state = OFF;
-        Stone::on_removal(p);
-    }
-    
+        
     void TimerStone::alarm() {
         bool actionValue = (state == ON_TRUE);
-        state = 3 - state;   // toggle between ON_TRUE and ON_FALSE
-        if(!getAttr("loop").to_bool())
+        state ^= 1;   // toggle between ON_TRUE and ON_FALSE
+        if(!getAttr("loop").to_bool()) {
             setState(OFF);
-            
+            if (isDisplayable())
+                init_model();
+        }
         performAction(actionValue);
     }
     
     void TimerStone::updateAlarm() {
-        if (state > 0)
+        if (state == ON) {
+            state = ON_TRUE;
             GameTimer.set_alarm(this, (double)getAttr("interval"), getAttr("loop").to_bool());
+        }
     }
 
-
     BOOT_REGISTER_START
         BootRegister(new TimerStone(), "st_timer");
     BOOT_REGISTER_END

Modified: trunk/src/stones/TimerStone.hh
===================================================================
--- trunk/src/stones/TimerStone.hh	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/stones/TimerStone.hh	2008-03-18 22:00:12 UTC (rev 1077)
@@ -26,22 +26,26 @@
     /** 
      * 
      * 
-     * 
+     * Note that a timer has to continue to run even if it is removed from the grid
+     * to support swapping. Thus the alarm has to removed on delete or destructor.
      */
     class TimerStone : public Stone, public TimeHandler {
         CLONEOBJ(TimerStone);
     private:
         enum iState {
-            OFF, 
+            OFF,          ///< timer is inactive, next action value is true (default)
+            ON,           ///< timer is yet inactive, but will start running on being
             ON_TRUE,      ///< timer is active, next action value is true
             ON_FALSE      ///< timer is active, next action value is false
         };
 
     public:
         TimerStone();
+        ~TimerStone();
 
         // Object interface
         virtual std::string getClass() const;
+        virtual Value message(const Message &m);
         
         // StateObject interface
         virtual int externalState() const;
@@ -50,7 +54,6 @@
         // GridObject interface
         virtual void init_model();
         virtual void on_creation(GridPos p);
-        virtual void on_removal(GridPos p);
         
         // TimeHandler interface
         virtual void alarm();

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/stones.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -435,7 +435,7 @@
         return;
 
     if (enigma::Inventory *inv = player::GetInventory(sc.actor)) {
-        int lifepos = inv->find("it-extralife");
+        int lifepos = inv->find("it_extralife");
         if (lifepos != -1) {
             delete inv->yield_item(lifepos);
             player::RedrawInventory (inv);

Modified: trunk/src/util.cc
===================================================================
--- trunk/src/util.cc	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/util.cc	2008-03-18 22:00:12 UTC (rev 1077)
@@ -20,9 +20,11 @@
 #include <algorithm>
 #include <functional>
 
+#include "util.hh"
+
 #include "ecl_util.hh"
+#include "errors.hh"
 
-#include "util.hh"
 
 using enigma::Timer;
 using enigma::TimeHandler;
@@ -42,7 +44,7 @@
         bool expired() const;
         void mark_removed();
         bool has_handler (enigma::TimeHandler *th) const;
-    private:
+
         // Variables
         enigma::TimeHandler *handler;
         double               interval;
@@ -133,17 +135,23 @@
 
 void Timer::set_alarm(TimeHandler *th, double interval, bool repeatp) 
 {
+    ASSERT(interval > 0, XLevelRuntime, "Timer error: timer with interval <= 0 seconds");
+    ASSERT(!repeatp || interval >= 0.01, XLevelRuntime, "Timer error: looping timer with interval < 0.01 seconds");
     if (interval > 0)
         self.alarms.push_back(Alarm(th, interval, repeatp));
 }
 
 
-void Timer::remove_alarm(TimeHandler *th) 
-{
+double Timer::remove_alarm(TimeHandler *th) {
+    double timeleft = 0;
     list<Alarm>::iterator e = self.alarms.end();
-    for (list<Alarm>::iterator it = self.alarms.begin(); it != e; ++it) 
-        if (it->has_handler (th))
+    for (list<Alarm>::iterator it = self.alarms.begin(); it != e; ++it) {
+        if (it->has_handler (th)) {
             it->mark_removed();
+            timeleft = it->timeleft;
+        }
+    }
+    return timeleft;
 }
 
 

Modified: trunk/src/util.hh
===================================================================
--- trunk/src/util.hh	2008-03-16 09:40:29 UTC (rev 1076)
+++ trunk/src/util.hh	2008-03-18 22:00:12 UTC (rev 1077)
@@ -38,7 +38,7 @@
         void activate (TimeHandler *th);
         void deactivate (TimeHandler* th);
         void set_alarm (TimeHandler* th, double interval, bool repeatp = false);
-        void remove_alarm (TimeHandler *th);
+        double remove_alarm(TimeHandler *th);
         void clear();
 
         void tick(double dtime);



From ral at mail.berlios.de  Thu Mar 20 00:18:57 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 20 Mar 2008 00:18:57 +0100
Subject: [Enigma-game-svn] r1078 - in trunk: data data/schemas src
Message-ID: <200803192318.m2JNIvQb025032@sheep.berlios.de>

Author: ral
Date: 2008-03-20 00:18:56 +0100 (Thu, 20 Mar 2008)
New Revision: 1078

Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/Object.cc
   trunk/src/items.cc
   trunk/src/lua.cc
   trunk/src/lua.hh
   trunk/src/stones_complex.cc
Log:
Trunk 1.1: new API
- fix r1077 old API mapping for "it-extralife"
- fix bug #9475 Laser and Turnstiles
- green turnstile: new feature - rotate backwards if actor wields wrench
- fix old API exception handling on SendMessage, Set and GetAttrib
- enable strict object validation on set of attributes
Note:
- the strict validation may reject some levels from loading due to 
  invalid attribute usage. Please fix the levels.


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/data/api1init.lua	2008-03-19 23:18:56 UTC (rev 1078)
@@ -47,7 +47,7 @@
 RenamingObjectsNew2Old = {
     it_blocker = "it-blocker",
     it_blocker_new = "it-blocker-new",
-    it_extralife = "it_extralife",
+    it_extralife = "it-extralife",
     it_hammer = "it-hammer",
     it_magnet = "it-magnet",
     it_magnet_on = "it-magnet-on",

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/data/schemas/objects.xml	2008-03-19 23:18:56 UTC (rev 1078)
@@ -94,6 +94,12 @@
       <msg name="off"/>
       <msg name="signal"/>
     </object>
+    <object name="it_trigger">
+      <attr name="invisible"/>
+      <attr name="state" rw="r"/>
+      <msg name="_init"/>
+      <msg name="_jumping"/>
+    </object>
     <object name="it_umbrella"/>
     <object name="it_umbrella_new" init="true"/>
     <object name="it_wormhole_off">

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/src/Object.cc	2008-03-19 23:18:56 UTC (rev 1078)
@@ -168,6 +168,9 @@
         // allow all user attributes and those system attributes with write allowance
         if (key.find('_') == 0 || ObjectValidator::instance()->validateAttributeWrite(this, key, val))
             setAttr(key, val);
+        else
+            ASSERT(false, XLevelRuntime, ecl::strf("Object: attribute '%s' write not allowed for kind '%s'",
+                    key.c_str(), getKind().c_str()).c_str());
     }
     
     Value Object::getAttrChecked(const std::string &key) const {

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/src/items.cc	2008-03-19 23:18:56 UTC (rev 1078)
@@ -1453,7 +1453,7 @@
      * reported if the trigger is pressed either by an actor or a stone, a value
      * 0 (OFF) otherwise.<p>
      * Note that due to the Enigma 1.10 standards no actions will be performed
-     * on initialisation or setting of a trigger, even if actors or a stone are
+     * on initialization or setting of a trigger, even if actors or a stone are
      * positioned on the grid. But state and model are set according to the other
      * objects.<p>
      * The internal state stores the current number of actors and the presence

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/src/lua.cc	2008-03-19 23:18:56 UTC (rev 1078)
@@ -437,9 +437,17 @@
 {
     Object *obj = to_object(L,1);
     const char *key = lua_tostring(L,2);
-    if (obj && key)
-        obj->setAttrChecked(key, to_value(L, 3));
-    else
+    if (obj && key) {
+        try {
+            obj->setAttrChecked(key, to_value(L, 3));
+        }  
+        catch (const XLevelRuntime &e) {
+            throwLuaError (L, e.what());
+        }
+        catch (...) {
+            throwLuaError (L, "uncaught exception");
+        }
+    } else
         throwLuaError(L, strf("SetAttrib: invalid object or attribute name '%s'", key).c_str());
     return 0;
 }
@@ -459,7 +467,15 @@
         return 0;        
     }
 
-    push_value(L, obj->getAttrChecked(key));
+    try {
+        push_value(L, obj->getAttrChecked(key));
+    }  
+    catch (const XLevelRuntime &e) {
+        throwLuaError (L, e.what());
+    }
+    catch (...) {
+        throwLuaError (L, "uncaught exception");
+    }
     return 1;
 }
 
@@ -473,7 +489,15 @@
         return 0;
     }
 
-    push_value(L, Value(obj->get_kind()));
+    try {
+        push_value(L, Value(obj->get_kind()));
+    }  
+    catch (const XLevelRuntime &e) {
+        throwLuaError (L, e.what());
+    }
+    catch (...) {
+        throwLuaError (L, "uncaught exception");
+    }
     return 1;
 }
 
@@ -575,8 +599,8 @@
     if (!msg)
         throwLuaError(L,"Illegal message");
     else if (obj) {
-        std::string new_msg = lua::NewMessageName(L, obj, msg);
         try {
+            std::string new_msg = lua::NewMessageName(L, obj, msg);
             result = SendMessage (obj, new_msg, v);
         }
         catch (const XLevelRuntime &e) {
@@ -2798,11 +2822,14 @@
     return _lua_err_code(retval);
 }
 
-string LastError (lua_State *L) {
+std::string LastError(lua_State *L) {
     lua_getglobal (L, "_LASTERROR");
     if (lua_isstring(L,-1)) {
-        return string (lua_tostring (L, -1));
+        std::string msg = lua_tostring (L, -1);
+        lua_pop(L, 1);
+        return msg;
     } else {
+        lua_pop(L, 1);
         return "Lua Error. No error message available.";
     }
 }

Modified: trunk/src/lua.hh
===================================================================
--- trunk/src/lua.hh	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/src/lua.hh	2008-03-19 23:18:56 UTC (rev 1078)
@@ -123,7 +123,7 @@
     void CheckedDoFile (lua_State *L, GameFS * fs, const string &filename);
 
     /*! Return the text of the last error message. */
-    std::string LastError (lua_State *L);
+    std::string LastError(lua_State *L);
 
 
     Error DoSubfolderfile(lua_State *L, 

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2008-03-18 22:00:12 UTC (rev 1077)
+++ trunk/src/stones_complex.cc	2008-03-19 23:18:56 UTC (rev 1078)
@@ -1926,7 +1926,7 @@
         bool          no_stone (int xoff, int yoff) const;
         void set_arm (Direction dir, RBI_vector &rubs);
         void remove_arms (DirectionBits arms);
-	void rotate_arms (DirectionBits arms, bool clockwise);
+        void rotate_arms (DirectionBits arms, bool clockwise);
         void handleActorsAndItems(bool clockwise, Object *impulse_sender);
 
         // Turnstile_Pivot_Base interface
@@ -2034,7 +2034,12 @@
     if (pivot) {
         Action a = actions[get_dir()][impulse.dir];
         if (a != stay) {
-            pivot->rotate(a == ROTR, impulse.sender); // ROTR is clockwise
+            bool clockwise = (a == ROTR);
+            Actor *a = dynamic_cast<Actor*>(impulse.sender);
+            if ((pivot->get_traits().id == st_turnstile_green) && a != NULL &&
+                    player::WieldedItemIs(a, "it-wrench"))
+                clockwise = !clockwise;
+            pivot->rotate(clockwise, impulse.sender); // ROTR is clockwise
         }
     }
     else {
@@ -2241,8 +2246,12 @@
     for (int i = 0; i<8; ++i) 
         if (arm_seen[i]) {
             GridPos item_pos(pv_pos.x+to_x[i], pv_pos.y+to_y[i]);
-            if (Item *it = GetItem(item_pos)) 
-                it->on_stonehit(this); // hit with pivot (shouldn't matter)
+            if (Item *it = GetItem(item_pos)) { 
+                if (it->get_traits().id == it_laserbeam)
+                    KillItem(item_pos); 
+                else
+                    it->on_stonehit(this); // hit with pivot (shouldn't matter)
+            }
         }
 
     // ---------- Handle actors in range ----------



From ral at mail.berlios.de  Thu Mar 20 00:31:56 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 20 Mar 2008 00:31:56 +0100
Subject: [Enigma-game-svn] r1079 - team_levelpacks/team_test_new_api
Message-ID: <200803192331.m2JNVuKX027870@sheep.berlios.de>

Author: ral
Date: 2008-03-20 00:31:54 +0100 (Thu, 20 Mar 2008)
New Revision: 1079

Added:
   team_levelpacks/team_test_new_api/ralT040_1.xml
Modified:
   team_levelpacks/team_test_new_api/ralT039_1.xml
Log:
Test Level new API:
- new level laser and turnstile


Modified: team_levelpacks/team_test_new_api/ralT039_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-19 23:18:56 UTC (rev 1078)
+++ team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-19 23:31:54 UTC (rev 1079)
@@ -2,7 +2,7 @@
 <el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
   <el:protected>
     <el:info el:type="level">
-      <el:identity el:title="Test Laserswitcy new API" el:subtitle="" el:id="20080309ral277"/>
+      <el:identity el:title="Test Laserswitch new API" el:subtitle="" el:id="20080309ral277"/>
       <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007 Ronald Lamprecht</el:copyright>

Added: team_levelpacks/team_test_new_api/ralT040_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT040_1.xml	2008-03-19 23:18:56 UTC (rev 1078)
+++ team_levelpacks/team_test_new_api/ralT040_1.xml	2008-03-19 23:31:54 UTC (rev 1079)
@@ -0,0 +1,63 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test Laser/Turnstile new API" el:subtitle="" el:id="20080318ral619"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2007 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl-sahara"}
+
+ti["A"] = {"#ac-blackball"}
+
+ti["L"] = {"st_laser_n", "Laser", state=ON}
+ti["F"] = {"st_fourswitch", target="Laser", action="orientate"}
+ti["t"] = {"st_switch", target="Laser", action="turn"}
+ti["b"] = {"st_switch", target="Laser", action="turnback"}
+
+ti["T"] = {"st-turnstile"}
+ti["e"] = {"st-turnstile-e"}
+
+ti["G"] = {"st-turnstile-green"}
+ti["w"] = {"it-wrench"}
+
+
+
+w, h = wo(ti, " ", {
+"                    ",
+"                    ",
+"     L              ",
+"               Te   ",
+"        F           ",
+"        t A         ",
+"        b           ",
+"                    ",
+"                    ",
+"    Ge  w           ",
+"                    ",
+"                    ",
+"                    "
+})
+
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>
+


Property changes on: team_levelpacks/team_test_new_api/ralT040_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native



From andreasl at mail.berlios.de  Fri Mar 21 18:54:06 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Fri, 21 Mar 2008 18:54:06 +0100
Subject: [Enigma-game-svn] r1080 - in trunk: data/levels/lib src
Message-ID: <200803211754.m2LHs6Pl024824@sheep.berlios.de>

Author: andreasl
Date: 2008-03-21 18:54:05 +0100 (Fri, 21 Mar 2008)
New Revision: 1080

Modified:
   trunk/data/levels/lib/libluatools.xml
   trunk/src/stones_complex.cc
Log:
Trunk:
 - Chess stone: Lower threshold from 3 to 1.5 as a test.
 - Chess stone: Allow multiple flips during jump.
 - Libluatools: Improve modulo function (libluatools.mod). 
Note:
 - Please comment on the change of chess-stone threshold.
   Does this improve the handling?


Modified: trunk/data/levels/lib/libluatools.xml
===================================================================
--- trunk/data/levels/lib/libluatools.xml	2008-03-19 23:31:54 UTC (rev 1079)
+++ trunk/data/levels/lib/libluatools.xml	2008-03-21 17:54:05 UTC (rev 1080)
@@ -113,7 +113,20 @@
 
 -- As Lua uses different names for the modulo-function in its
 -- versions, it's sometimes better to wrap them.
-luatools.mod = math.fmod or math.mod
+-- Even worse, lua's modulo function doesn't handle negative
+-- values as it should. The following function returns (given
+-- an integer) another integer between 0 and MODUL-1.
+function luatools.mod(value, modul)
+  if value < 0 then
+    -- No, the following call to luatools.mod is not a real
+    -- recursion, it's only for the case where VALUE is a
+    -- negative multiple of MODUL (otherwise we would get
+    -- MODUL as result, not zero).
+    return luatools.mod(modul + (math.fmod or math.mod)(value, modul), modul)
+  else
+    return (math.fmod or math.mod)(value, modul)
+  end
+end
 
 -- A wrapper of "if" to resemble the ternary ?:-function.
 -- Note that this function evaluates both IFTRUE as well as IFFALSE, e.g.

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2008-03-19 23:31:54 UTC (rev 1079)
+++ trunk/src/stones_complex.cc	2008-03-21 17:54:05 UTC (rev 1080)
@@ -2523,7 +2523,7 @@
     DEF_TRAITSM(ChessStone, "st-chess", st_chess, MOVABLE_IRREGULAR);
     
     double ChessStone::capture_interval = 0.1;
-    double ChessStone::hit_threshold = 3.0;
+    double ChessStone::hit_threshold = 1.5;
 
     string ChessStone::get_model_name() {
         string mname = get_kind();
@@ -2684,7 +2684,7 @@
             set_color(to_int(m.value));
             return Value();
         } else if(m.message == "flip") {
-            set_color(1 - (int)getAttr("color"));
+            set_color(1 - newcolor); //(int)getAttr("color"));
             return Value();
         }
         return Stone::message(m);



From ral at mail.berlios.de  Sat Mar 22 14:08:40 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 22 Mar 2008 14:08:40 +0100
Subject: [Enigma-game-svn] r1081 - in trunk: data/schemas src
Message-ID: <200803221308.m2MD8e11006120@sheep.berlios.de>

Author: ral
Date: 2008-03-22 14:08:39 +0100 (Sat, 22 Mar 2008)
New Revision: 1081

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Object.cc
   trunk/src/Object.hh
   trunk/src/items.cc
   trunk/src/oxyd.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API
- it_trigger consistency: no actions on triggers set to grid
- fix signal legacy convertion: crashes on not existing destinations
- fix wormholes, magnets global var strength and range handling,
  update if notified by broadcast message "_updateglobals".
- reengineering Object attribute "inverse" to an objFlags bit
- add Object attribute "nopaction" and objFlags bit OBJBIT_NOP:
  no default "toggle" but nop's


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/data/schemas/objects.xml	2008-03-22 13:08:39 UTC (rev 1081)
@@ -12,6 +12,7 @@
     <attr name="invisible" type="bool" default="false" rw="rw"/>
     <attr name="loop" type="bool" default="true" rw="rw"/>
     <attr name="name" type="string" default="nil" rw="rw"/>
+    <attr name="nopaction" type="bool" default="false" rw="rw"/>
     <attr name="orientation" type="int" default="0" min="0" max="3" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
     <attr name="scissor" type="bool" default="true" rw="rw"/>
@@ -43,12 +44,14 @@
     <msg name="_performaction" type="nil"/>
     <msg name="_start" type="nil"/>
     <msg name="_trigger" type="bool"/>
+    <msg name="_updateglobals" type="string"/>
   </messages>
   <zoo>
     <object name="" abstract="true" states="2">
       <attr name="action"/>
       <attr name="inverse"/>
       <attr name="name"/>
+      <attr name="nopaction"/>
       <attr name="state"/>
       <attr name="target"/>
       <action type="bool"/>
@@ -84,6 +87,14 @@
     </object>
     <object name="it_sword"/>
     <object name="it_sword_new" init="true"/>
+    <object name="it_trigger">
+      <attr name="invisible"/>
+      <attr name="state" rw="r"/>
+      <msg name="_init"/>
+      <msg name="_jumping"/>
+    </object>
+    <object name="it_umbrella"/>
+    <object name="it_umbrella_new" init="true"/>
     <object name="it_wormhole">
       <attr name="destination"/>
       <attr name="interval" default="0"/>
@@ -94,14 +105,6 @@
       <msg name="off"/>
       <msg name="signal"/>
     </object>
-    <object name="it_trigger">
-      <attr name="invisible"/>
-      <attr name="state" rw="r"/>
-      <msg name="_init"/>
-      <msg name="_jumping"/>
-    </object>
-    <object name="it_umbrella"/>
-    <object name="it_umbrella_new" init="true"/>
     <object name="it_wormhole_off">
       <attr name="state" value="0"/>
     </object>

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/src/Object.cc	2008-03-22 13:08:39 UTC (rev 1081)
@@ -154,7 +154,19 @@
     
     
     void Object::setAttr(const std::string& key, const Value& val) {
-        if (val) {        // only set non-default values
+        if (key == "inverse") {
+            if (val.to_bool())
+                objFlags |= OBJBIT_INVERSE;
+            else
+                objFlags &= ~OBJBIT_INVERSE;
+                
+        } else if (key == "nopaction") {
+            if (val.to_bool())
+                objFlags |= OBJBIT_NOP;
+            else
+                objFlags &= ~OBJBIT_NOP;
+        
+        } else if (val) {        // only set non-default values
             if (val.getType() == Value::NIL /*&& server::EnigmaCompatibility >= 1.10*/)
                 // delete attribute
                 attribs.remove_key(key);
@@ -184,12 +196,18 @@
     }
     
     Value Object::getAttr(const string& key) const {
-        AttribMap::const_iterator i = attribs.find(key);
-        if (i == attribs.end()) 
-//            return Value(Value::DEFAULT);
-            return ObjectValidator::instance()->getDefaultValue(this, key);
-        else
-            return i->second;
+        if (key == "inverse") {
+            return (objFlags & OBJBIT_INVERSE) != 0;            
+        } else if (key == "nopaction") {
+            return (objFlags & OBJBIT_NOP) != 0;
+        } else {
+            AttribMap::const_iterator i = attribs.find(key);
+            if (i == attribs.end()) 
+    //            return Value(Value::DEFAULT);
+                return ObjectValidator::instance()->getDefaultValue(this, key);
+            else
+                return i->second;
+        }
     }
     
     Value Object::getDefaultedAttr(const string& key, Value defaultValue) const {
@@ -233,7 +251,7 @@
     
     void Object::performAction(const Value& val) {
         Value messageValue = val;
-        if (getDefaultedAttr("inverse", false).to_bool())
+        if (objFlags & OBJBIT_INVERSE)
             messageValue = invertActionValue(val);
 
         TokenList targets = getAttr("target");
@@ -265,8 +283,8 @@
 //                Log << "PerformAction target not valid\n";
             } else {
                 // send message to all objects
-                if (action == "") 
-                    action = "toggle";
+                if (action == "" )
+                    action = (objFlags & OBJBIT_NOP) ? "nop" : "toggle";
                 for (ObjectList::iterator oit = ol.begin(); oit != ol.end(); ++oit) {
                     if (*oit != NULL) {
                         std::string obj_action = action;
@@ -277,7 +295,7 @@
 //                                Log << "PerformAction renamed '" << action << "' to '" << obj_action << "' for receiver '" << (*oit)->get_kind() << "'\n";
                         }
                         // check if message is valid, otherwise ignore message
-                        if ((*oit)->validateMessage(obj_action, messageValue))
+                        if (obj_action != "nop" && (*oit)->validateMessage(obj_action, messageValue))
                             SendMessage(*oit, Message(obj_action, messageValue, this));                    
                     }
                 }

Modified: trunk/src/Object.hh
===================================================================
--- trunk/src/Object.hh	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/src/Object.hh	2008-03-22 13:08:39 UTC (rev 1081)
@@ -34,10 +34,12 @@
     struct Message;
     
     enum ObjectFlagsBits {
-        OBJBIT_LIGHTNEWDIRS  =  15,   ///< GridObject 4 direction bits with current/new light
-        OBJBIT_LIGHTOLDDIRS  =  240,  ///< GridObject 4 direction bits with previous light
-        OBJBIT_LIGHTALLDIRS  =  255,  ///< GridObject all 8 direction bits with old an new light
-        OBJBIT_PHOTOACTIV    =  1<<8  ///< GridObject registered as photo activ
+        OBJBIT_LIGHTNEWDIRS  =  15,    ///< GridObject 4 direction bits with current/new light
+        OBJBIT_LIGHTOLDDIRS  =  240,   ///< GridObject 4 direction bits with previous light
+        OBJBIT_LIGHTALLDIRS  =  255,   ///< GridObject all 8 direction bits with old an new light
+        OBJBIT_PHOTOACTIV    =  1<<8,  ///< GridObject registered as photo activ
+        OBJBIT_INVERSE       =  1<<9,  ///< Object invert action value
+        OBJBIT_NOP           =  1<<10  ///< Object use nop instead toggle as default action
     };
     
     class Value;

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/src/items.cc	2008-03-22 13:08:39 UTC (rev 1081)
@@ -1528,7 +1528,7 @@
     
     void Trigger::on_creation(GridPos p) {
         state = 0;
-        updateIState(countActors(), !server::WorldInitialized);
+        updateIState(countActors(), true);
         init_model();
     }
         
@@ -1785,6 +1785,7 @@
         // Object interface
         virtual std::string getClass() const;
         virtual void setAttr(const std::string &key, const Value &val);
+        virtual Value message(const Message &m);
 
         // GridObject interface
         virtual void on_creation(GridPos p);
@@ -1817,15 +1818,27 @@
             Item::setAttr(key, val);
     }
     
+    Value Magnet::message(const Message &m) {
+        if (m.message == "_updateglobals" && m.value.to_string() == "it_magnet") {
+            if (getAttr("range").getType() == Value::DEFAULT) {
+                squareRange = server::MagnetRange * server::MagnetRange;
+            }
+            if (getAttr("strength").getType() == Value::DEFAULT) {
+                correctedStrength = 0.6 * server::MagnetForce;
+            }
+            return Value();
+        }
+        return Item::message(m);
+    }
     void Magnet::init_model() {
         set_model(ecl::strf("it-magnet%s", state == ON ? "-on" : "-off"));
     }
     
     void Magnet::on_creation(GridPos p) {
-        if (getAttr("range").getType() == Value::NIL) {
+        if (getAttr("range").getType() == Value::DEFAULT) {
             squareRange = server::MagnetRange * server::MagnetRange;
         }
-        if (getAttr("strength").getType() == Value::NIL) {
+        if (getAttr("strength").getType() == Value::DEFAULT) {
             correctedStrength = 0.6 * server::MagnetForce;
         }
 
@@ -1895,6 +1908,7 @@
         // Object interface
         virtual std::string getClass() const;
         virtual void setAttr(const std::string &key, const Value &val);
+        virtual Value message(const Message &m);
 
         // StateObject interface
         virtual int externalState() const;
@@ -1939,6 +1953,19 @@
         Item::setAttr(key, val);
     }
     
+    Value WormHole::message(const Message &m) {
+        if (m.message == "_updateglobals" && m.value.to_string() == "it_wormhole") {
+            if (getAttr("range").getType() == Value::DEFAULT) {
+                squareRange = server::WormholeRange * server::WormholeRange;
+            }
+            if (getAttr("strength").getType() == Value::DEFAULT) {
+                correctedStrength = 0.6 * server::WormholeForce;
+            }
+            return Value(); 
+        }
+        return Item::message(m);
+    }
+
     int WormHole::externalState() const {
         return state % 2;
     }
@@ -1958,10 +1985,10 @@
     
     void WormHole::on_creation (GridPos p) {
         Item::on_creation (p);
-        if (getAttr("range").getType() == Value::NIL) {
+        if (getAttr("range").getType() == Value::DEFAULT) {
             squareRange = server::WormholeRange * server::WormholeRange;
         }
-        if (getAttr("strength").getType() == Value::NIL) {
+        if (getAttr("strength").getType() == Value::DEFAULT) {
             correctedStrength = 0.6 * server::WormholeForce;
         }
         if (state % 2 == 1)

Modified: trunk/src/oxyd.cc
===================================================================
--- trunk/src/oxyd.cc	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/src/oxyd.cc	2008-03-22 13:08:39 UTC (rev 1081)
@@ -665,11 +665,14 @@
 
         case 'm':               // magnet force
             server::MagnetForce = cmd.get_int (0, 32000, 3000) / 1000.0;
+            BroadcastMessage("_updateglobals", "it_magnet", GRID_ITEMS_BIT);
             break;
 
         case 't':           // wormhole force and range
             server::WormholeForce = cmd.get_int(0,32000,3000) / 5000.0;
             server::WormholeRange = cmd.get_int(0,32000,100) / 32.0;
+            Log << "oxyd wormhole range " << server::WormholeRange << "\n";
+            BroadcastMessage("_updateglobals", "it_wormhole", GRID_ITEMS_BIT);
             break;
 
         case 'R':           // brittleness

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2008-03-21 17:54:05 UTC (rev 1080)
+++ trunk/src/world.cc	2008-03-22 13:08:39 UTC (rev 1081)
@@ -1826,7 +1826,7 @@
     if (dst == NULL && dstloc.layer == GRID_ITEMS) {
         GridLoc altloc(GRID_STONES, dstloc.pos);
         dst = GetObject(altloc);
-        if (!(dst->is_kind("st_blocker")))
+        if (dst && !(dst->is_kind("st_blocker")))
             // just use blocker stone instead of blocker item as substitution
             dst = NULL;
     }



From ral at mail.berlios.de  Sat Mar 22 14:31:15 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 22 Mar 2008 14:31:15 +0100
Subject: [Enigma-game-svn] r1082 - trunk/doc/reference
Message-ID: <200803221331.m2MDVFOP008052@sheep.berlios.de>

Author: ral
Date: 2008-03-22 14:31:14 +0100 (Sat, 22 Mar 2008)
New Revision: 1082

Modified:
   trunk/doc/reference/enigma-ref.texi
   trunk/doc/reference/enigma-t2h.init
Log:
Trunk 1.1: new API
- refman update
- refman formatting update

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2008-03-22 13:08:39 UTC (rev 1081)
+++ trunk/doc/reference/enigma-ref.texi	2008-03-22 13:31:14 UTC (rev 1082)
@@ -2797,25 +2797,25 @@
 @subsection Object Kind
 
 @cindex abstact kind
-Up to now we have spoken about object kinds of floor @code{"fl"}, item 
- at code{"it"}, stone @code{"st"} and actor @code{"ac"}. All these kinds are called
+Up to now we have spoken about object kinds of floor @samp{fl}, item 
+ at samp{it}, stone @samp{st} and actor @samp{ac}. All these kinds are called
 @dfn{abstract}. You can check if a given object is of such a kind, but you can
 not instantiate an abstract kind.
 
 To create an object you need to give a specific kind name like 
- at code{"st_switch"}. You will find all object kinds described in the chapters
+ at samp{st_switch}. You will find all object kinds described in the chapters
 starting with @ref{Floor Objects}. All these kind names with at least one 
 underscore can be instantiated.
 
-Most kinds provide subkinds like @code{"st_switch_black"} and 
- at code{"st_switch_white"}. In case of the switches you get a color independent
-switch if you do not append a suffix. In other cases like @code{"st_chess"}
-the super kind will result in a default @code{"st_chess_black"} as no colorless
+Most kinds provide subkinds like @samp{st_switch_black} and 
+ at samp{st_switch_white}. In case of the switches you get a color independent
+switch if you do not append a suffix. In other cases like @samp{st_chess}
+the super kind will result in a default @samp{st_chess_black} as no colorless
 chess stone exists.
 
 If you request an object for its kind it will always return the most specific
-kind. This means that a fresh generated @code{"st_chess"} returns the kind
- at code{"st_chess_black"}, whereas an @code{"st_switch"} reports its name
+kind. This means that a fresh generated @samp{st_chess} returns the kind
+ at samp{st_chess_black}, whereas an @samp{st_switch} reports its name
 unchanged.
 
 Objects can change their kind by level code statements or by user actions. You 
@@ -2823,13 +2823,13 @@
 stone by hitting it with a revealed wand. The object will report the new kind on 
 subsequent requests.
 
-A few special object kinds do exist only for setting a new object. The are
-usually named with a suffix "_new". These objects will never report their
+A few special object kinds do exist only for setting a new object. They are
+usually named with a suffix @samp{_new}. These objects will never report their
 initial kind name but change to a standard kind immediately.
 
 If you are not interested in the specific subkind you can check an object for
 conformity to any super kind. E.g. any switch stone of whatever color will 
-return true if checked for @code{"st_switch"}.
+return true if checked for @samp{st_switch}.
 
 @node Object Reference
 @subsection Object Reference
@@ -2839,7 +2839,7 @@
 sender objects. But the author can request any grid object anytime by its 
 position.
 
-With an object reference, that is of a special Lua type @code{object}, you can
+With an object reference, that is of a special Lua type @samp{object}, you can
 request the objects on its current state and attributes, modifiy the
 object, send messages or perform any supported methods of the object.
 
@@ -2871,40 +2871,40 @@
 
 For addressing objects on a longterm valid basis every object can individually 
 be tagged by a name. Assigning a name to an object is as simple as setting
-the attribute @code{"name"} with a unique string on this object. Of course you
-can request an objects name by reading the attribute @code{"name"}.
+the attribute @samp{name} with a unique string on this object. Of course you
+can request an objects name by reading the attribute @samp{name}.
 
-The name is a string that should be made up of characters @code{a..z}, 
- at code{A..Z}, numbers @code{0..9} and the underscore @code{_}. Other special
+The name is a string that should be made up of characters @samp{a..z}, 
+ at samp{A..Z}, numbers @samp{0..9} and the underscore @samp{_}. Other special
 charcters are only allowed as far as they are explained in the following text.
 
 It is up to you to ensure unique names. Reusage of an already assigned name
 will unname the prior object and assign the name to the new object. To simplify
 the naming of larger groups of similar objects you can add the hash sign 
- at code{#} as the last character to a name, e.g. "mydoor#". This causes Enigma
+ at samp{#} as the last character to a name, e.g. @samp{mydoor#}. This causes Enigma
 to add a unique number to the given string. The number will start with 1, the
-first unused number will be taken. Thus the first door will be named "mydoor#1"
-the second one "mydoor#2" and so on. If you delete the object named "mydoor#2"
-lateron and if you name another object "mydoor#" it will be assigned the unused
-name "mydoor#2".
+first unused number will be taken. Thus the first door will be named
+ at samp{mydoor#1} the second one @samp{mydoor#2} and so on. If you delete the
+object named @samp{mydoor#2} lateron and if you name another object 
+ at samp{mydoor#} it will be assigned the unused name @samp{mydoor#2}.
 
 All named objects are registered by the @dfn{named object} repository. The API
-provides a variable @code{no} that allows you to retrieve any named object, e.g.
- at code{no["mydoor#1"]}. You get an @ref{Object Reference} or @code{nil} if no
+provides a variable @samp{no} that allows you to retrieve any named object, e.g.
+ at samp{no["mydoor#1"]}. You get an @ref{Object Reference} or @samp{nil} if no
 object is registered by the given name.
 
 As you can auto name groups of objects you are allowed to use the wildcard
-characters @code{'?'} and @code{'*'}. The question mark replaces a single 
+characters @samp{?} and @samp{*}. The question mark replaces a single 
 arbitrary character, the asterix any number of arbitrary characters. E.g.
- at code{no["mydoor#*"]} retrieves all auto named "mydoor" objects in a single
+ at samp{no["mydoor#*"]} retrieves all auto named @samp{mydoor} objects in a single
 object group.
 
-Many object attributes like "target", "destination" need object references
-to other objects. Besides a volatile @ref{Object Reference} you and always
-give a name string as a longterm valid object reference. If the attribute
+Many object attributes like @samp{target}, @samp{destination} need object
+references to other objects. Besides a volatile @ref{Object Reference} you always
+can provide a name string as a longterm valid object reference. If the attribute
 allows several objects to be given you can either give a group of object
 references, a table of object names or a object name with wildcards. Thus
-the string @code{"mydoor#*"} is a valid target.
+the string @samp{"mydoor#*"} is a valid target.
 
 Another unique feature of object names is their late on access evaluation. This
 allows you to reference an object prior to its existence. E.g. if you want to
@@ -2940,8 +2940,8 @@
 set of preconfigured objects as given by the object kind.
 
 An attribute is a name, a string, with an assigned value. E.g. 
- at code{obj["inverse"]=true} sets a single object attribute to a boolean value
-and @code{@{"it_magnet", range=6.5@}} describes a magnet item with an initial set
+ at samp{obj["inverse"]=true} sets a single object attribute to a boolean value
+and @samp{@{"it_magnet", range=6.5@}} describes a magnet item with an initial set
 floating point attribute.
 
 The scope of values is manifold. Most Lua types and a bunch of Enigma specific
@@ -2959,27 +2959,27 @@
 @end itemize
 
 If we speak of a bool value we do it in the sense of Lua 5, that means with the
-possible values @code{true} and @code{false}. 
+possible values @samp{true} and @samp{false}. 
 
 Many enumerated values like directions and colors are covered by the integer
 numbers.
 
-Of special interest is the value @code{nil}. Just a few attributes make direct
-use of the value @code{nil}, e.g. "color" on some objects. If you set an 
-attribute to value @code{nil} you do actually reset its value to the default
+Of special interest is the value @samp{nil}. Just a few attributes make direct
+use of the value @samp{nil}, e.g. "color" on some objects. If you set an 
+attribute to value @samp{nil} you do actually reset its value to the default
 value. E.g. if you set the attribute "orientation" of @ref{st_boulder} to 
- at code{nil} it will be set to its default, which is actually @code{NORTH}, an
+ at samp{nil} it will be set to its default, which is actually @samp{NORTH}, an
 enumerated direction value. A subsequent read of the attribute will return this
-value. Just those attributes that allow a nil value will ever return @code{nil}
+value. Just those attributes that allow a nil value will ever return @samp{nil}
 on a read access. Aa a direct consequence these attributes always default to 
- at code{nil}.
+ at samp{nil}.
 
 The most complex attribute value type are the tokens. Their purpose is the
 specification of one or many objects. As Enigma provides several means to do
 that this value type combines and mix all possibilities. A tokens value may 
 be a string, representing an object name, an object reference, a group or a
 table with any of these basic types in any sequence and number. E.g. the 
-following right sides are all valid tokens for the attribute "target":
+following right sides are all valid tokens for the attribute @samp{target}:
 
 @example
 obj1["target"] = "mydoor"
@@ -2996,7 +2996,7 @@
 the existing object attributes in detail.
 
 Besides these predefined attributes the level author can store own information
-on objects for later retrieval. Any name starting with an underscore '_' is
+on objects for later retrieval. Any name starting with an underscore @samp{_}
 can be used for level specific purposes. This prefix has been chosen as the
 resulting names are still valid Lua names. Common usage patterns are switches
 or triggers with callback functions. These functions provide the sender, the
@@ -3004,13 +3004,13 @@
 senders you can store the necessary context information within the sender.
 
 The internal engine uses object attributes as well. Such unaccessable attributes
-are named with a leasing dollar sign '$'. They may appear in the documentation
+are named with a leading dollar sign @samp{$}. They may appear in the documentation
 for C++ developers information. Level authors should ignore these attributes.
 
 In some cases you may observe a different behaviour on setting an attribute
 within the object definition and setting the same attribute while the object
-is already on the grid. E.g. a door @code{@{"st_door_h", state = OPEN@}} is 
-opened from the very beginning. Whereas @code{mydoor["state"] = OPEN} on a
+is already on the grid. E.g. a door @samp{@{"st_door_h", state = OPEN@}} is 
+opened from the very beginning. Whereas @samp{mydoor["state"] = OPEN} on a
 closed door will start opening the door. This takes a short time until the
 door is really open. You find more details on these as aspects in the section
 @ref{The Lifecycle of a Level}.
@@ -3043,9 +3043,9 @@
 
 You can generate an initially open door by setting its attributes. But how
 can a switch stone open a door when it is hit by a marble? It simply sends
-a message @code{"open"} to the door. Another switch may send a message
- at code{"on"} to a laser or @code{"ignite"} to a @ref{it_dynamite}. On explosion
-the dynamite will in turn send automatically @code{"ignite"} messages to the
+a message @samp{open} to the door. Another switch may send a message
+ at samp{on} to a laser or @samp{ignite} to a @ref{it_dynamite}. On explosion
+the dynamite will in turn send automatically @samp{ignite} messages to the
 neighbour grid positions.
 
 Messages are a simple universal function or from the receiver object and the
@@ -3062,10 +3062,10 @@
 
 The last two examples are a common abbreviation of the first two ones.
 
-Messages may return a value. But most messages just return @code{nil}.
+Messages may return a value. But most messages just return @samp{nil}.
 
 You can send any message to any object. Not supported messages are silently
-ignored. This is the reason that an exploding dynamite can send @code{"ignite"}
+ignored. This is the reason that an exploding dynamite can send @samp{ignite}
 messages to its neighbours without knowing if the objects can be ignited at all.
 Furtheron the dynamite has not to bother with the recipients of the messages.
 Due to messages the sender and the receiver objects are totally decoupled
@@ -3073,7 +3073,7 @@
 allows sending arbitrary messages to arbitrary objects.
 
 You should not send a message during initialization of the level. You configure
-the switch to send an @code{"open"} message to the door by @ref{Target - Action}.
+the switch to send an @samp{open} message to the door by @ref{Target - Action}.
 Within a Lua @ref{Callback Function} you may send messages during runtime to
 any object.
 
@@ -3090,18 +3090,18 @@
 an action message. Everytime the first object is triggered it will send the 
 message to its target.
 
-You configure such a target action by setting the attributes @code{"target"}
-and @code{"action"} on the first object. E.g. a for a switch stone that should
-open a door named @code{"mydoor"} you can write:
+You configure such a target action by setting the attributes @samp{target}
+and @samp{action} on the first object. E.g. a for a switch stone that should
+open a door named @samp{mydoor} you can write:
 
 @example
 @{st_switch, target="mydoor", action="open"@}
 @end example
 
-Objects like the switch can be triggered "on" and "off". Each time they will
+Objects like the switch can be triggered on and off. Each time they will
 perform the action. If you would like the door to open and close in turn to
-the switch you another action than @code{"open"}. The universal message for
-changing targets in their alternate states is @code{"toggle"}.
+the switch you another action than @samp{open}. The universal message for
+changing targets in their alternate states is @samp{toggle}.
 
 @example
 @{st_switch, target="mydoor", action="toggle"@}
@@ -3109,7 +3109,7 @@
 @end example
 
 Now the door will toggle in sync with the switch between its open and closed
-state. The message @ref{"toggle"} can be used quite independent of the target 
+state. The message @ref{toggle} can be used quite independent of the target 
 object. In fact it is the default action message. As a default you may omit
 the action in this case as it is demonstrated by the second example.
 
@@ -3121,9 +3121,9 @@
 
 As you remember messages can take a value. Action messages are no exception.
 Every objects sends its actions with a value, usually a bool value. A switch
-sends a value @code{true} if it just switched on, and a value @code{false} if
+sends a value @samp{true} if it just switched on, and a value @samp{false} if
 it just switched off. The appropriate message for the door would be the 
-universal message @code{"signal"}:
+universal message @samp{signal}:
 
 @example
 @{st_switch, target="mydoor", action="signal"@}
@@ -3133,15 +3133,15 @@
 turned off.
 
 If you look at @ref{signal} you will notice that this messages takes an integer
-value of @code{0} or @code{1}. Indeed the action value does not match. But in
+value of @samp{0} or @samp{1}. Indeed the action value does not match. But in
 this as in many other cases the messages and values are designed in a way that
 they are autoconverted to the appropriated type. This compatibility is the basis
 for a seamless plugging of objects.
 
 In many cases authors face the task of triggering two or more objects by a
-single object. @code{"target"} and @code{"action"} are both able to take 
-multiple values.  @code{"target"} is of type tokens, as described in 
- at ref{Object Attributes}, whereas @code{"action"} can be a string or a table
+single object. @samp{target} and @samp{action} are both able to take 
+multiple values.  @samp{target} is of type tokens, as described in 
+ at ref{Object Attributes}, whereas @samp{action} can be a string or a table
 of strings.
 
 @example
@@ -3150,7 +3150,7 @@
 @end example
 
 All objects described by a token receive the related message in the action
-table. If not enough messages are listed the default action @code{"toggle"}
+table. If not enough messages are listed the default action @samp{toggle}
 will be sent.
 
 @node Callback Function
@@ -3161,8 +3161,87 @@
 @node Object State
 @subsection Object State
 
-state dependent target action
+A key concept for the ability to plug together objects like switches and doors
+are the very simple state machines of these objects. Most objects are described
+by simple machines with just 2 states like @samp{ON}, at samp{OFF} or @samp{OPEN},
+ at samp{CLOSED}. These objects can be plugged together by just few common messages.
+Furtheron these simple state machines are suited to the gamers who do not want
+to read manuals but want to explore the objects by playing with just a few tests.
 
+Even though states are usally named by appropriate uppercase names like above,
+the states are integer numbers starting with @samp{0} usually related to the
+default state. But some objects use another mapping due to historic reasons.
+E.g. states that are direction related use the state @samp{3} representing
+ at samp{NORTH} usually as the default and number the directions clockwise down to
+ at samp{0} representing @samp{WEST}.
+
+In most cases it is sufficient to perform a state independent common action
+like @ref{toggle}. But sometimes you may want to perform state specific actions.
+
+E.g. a @ref{st_fourswitch} that switches two @ref{st_laser} beaming in 3 states
+but one of them being switched off while in @samp{EAST} state and the other being
+switched off while in @samp{WEST} state. This can be done by usage of state
+dependent target and actions:
+
+ at example
+@{st_fourswitch, target_3="laser#2", action_3="on",
+                target_2="laser#1", action_2="off",
+                target_1="laser#1", action_1="on",
+                target_0="laser#2", action_0="off"@}
+ at end example
+
+Adding a number as suffix to @samp{target_} and @samp{action_} gives you 
+special target and action attributes that will take precedence over the general
+ at samp{target} and @samp{action} attributes if the state value equals the suffix
+number. An alternative declaration would be:
+
+ at example
+@{st_fourswitch, target=@{"laser#1", "laser#2"@},
+              action_3=@{"nop",     "on"@},
+              action_2=@{"off",     "nop"@},
+              action_1=@{"on",      "nop"@},
+              action_0=@{"nop",     "off"@}@}
+ at end example
+
+Here we do address both lasers in all states. But one of them receives a 
+ at ref{nop} message that stands for "no operation". In fact this message will
+never be send. It is just a dummy message that we have need of for syntax
+reasons in the case above.
+
+Another example are two @ref{it_trigger} that switch a laser. An object pressing
+the first trigger should switch the laser on, an object pressing the second
+trigger should switch it off. But a trigger is two stated and performs one
+action on being pressed and another on being released. Thus we want to block
+the actions an trigger release events:
+
+ at example
+@{it_trigger, name="on_trigger",  target="laser#1", action_1="on", action_0="nop"@}
+@{it_trigger, name="off_trigger", target="laser#1", action_1="off", action_0="nop"@}
+ at end example
+
+The blocking of @samp{action_0} is essential and can not be omitted, as 
+otherwise the default action would be performed. This would be a @samp{toggle}
+message that would switch the laser.
+
+As this useful default mechanism can sometimes be annoying you can switch off
+the default message by setting the @ref{nopaction} attribute to true.
+
+ at example
+@{it_trigger, name="on_trigger",  target="laser#1", action_1="on", nopaction=true@}
+@{it_trigger, name="off_trigger", target="laser#1", action_1="off", nopaction=true@}
+ at end example
+
+When an objects leaves a trigger the state @samp{0} action will be performed.
+As neither @samp{action_0} nor @samp{action} is specified the default action
+will be performed, which is now @samp{nop}.
+
+If you ever look into the C++ code you may note that many objects do have much
+more complex state machines than you expect from the level authors and gamers
+view. This is due to running animations, timers, etc.. The C++ objects map their
+complex internal state set to the much simpler external state set. This is the
+main reason that some features that level authors request can not be provided
+in the Lua API.
+
 @c ----------------- The Lifecycle of a Level -------------------- 
 
 @node The Lifecycle of a Level
@@ -3232,7 +3311,7 @@
 Some objects do process internal state transformations that cannot be configured
 by attributes. But some of these states may be of interest on describing a
 snapshot of a level. Where possible special object subkinds exists with a suffix
-of @code{_new}. These objects can be used in the initial level description to
+of @samp{_new}. These objects can be used in the initial level description to
 set objects in special initial states. E.g. @ref{it_blocker} provides such a
 special subkind. Note that these objects will never report their initial
 subkind on a kind request as they come into existance as a standard object.
@@ -3241,6 +3320,12 @@
 @node Level Initialization
 @subsection Level Initialization
 
+global variables
+tile declarations
+world init
+oxyd shuffle
+postinit()
+
 @node Runtime Ticks and Callbacks
 @subsection Runtime Ticks and Callbacks
 
@@ -3256,6 +3341,11 @@
 @node Common Attributes and Messages
 @chapter Common Attributes and Messages
 
+Some attributes and messages are common to many objects or even supported
+by all objects. We describe them here in detail. The following chapters will
+just reference them or even skip them when they are generally supported and
+used in the default manner.
+
 @menu
 * Common Attributes:: 
 * Common Messages::   
@@ -3269,6 +3359,7 @@
 * state:: 
 * target::
 * action::
+* nopaction::
 * inverse::
 * destination::
 @end menu
@@ -3276,6 +3367,28 @@
 @node name
 @subsection name
 
+The attribute of @ref{Object Naming} that allows you to name any object for 
+reference purposes. It is up to you to ensure the uniqueness of the names. But
+the engine supports you by autonumbering names ending on a @samp{#} sign 
+(@pxref{Object Naming}). If you reuse an already used name the first object will
+be unnamed and all name references will point to the new named object. If you
+have need of naming an object you should do it with the object creation as
+a few objects have need of names and will otherwise be named by the engine with
+unique names.
+
+Note that is attribute is not listed in the individual object descriptions.
+
+ at table @asis
+ at item @b{Type:} @ @ string
+ at item @b{Values:} @ @ @{a-zA-Z0-9_@}+
+A sequence of characters of the given characters plus special characters as
+mentioned in the text above.
+ at item @b{Default:} @ @ @code{nil}
+Some objects will be autonamed if no name is defined.
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ by all objects
+ at end table
+
 @node state
 @subsection state
 
@@ -3285,9 +3398,30 @@
 @node action
 @subsection action
 
+ at node nopaction
+ at subsection nopaction
+
 @node inverse
 @subsection inverse
 
+An attribute that requests an invertion of the action value. It is supported by
+all objects with boolean action values.
+
+Note that this attribute is not listed in the individual object description
+if the object has boolean action values.
+
+ at table @asis
+ at item @b{Type:} @ @ bool
+ at item @b{Values:} @ @ @code{true}, @code{false}
+ at item @b{Default:} @ @ @code{false}
+ at item @b{Access:} @ @ read/write
+ at item @b{Support:} @ @ by most objects
+All objects with boolean action values will support this attribute. Additionally
+some objects with other invertable action value types like directions will
+support the invertion of their attributes as stated in the individual object
+descriptions.
+ at end table
+
 @node destination
 @subsection destination
 
@@ -3297,6 +3431,7 @@
 
 @menu
 * toggle:: 
+* nop::
 * signal::
 * on::
 * off::
@@ -3307,6 +3442,9 @@
 @node toggle
 @subsection toggle
 
+ at node nop
+ at subsection nop
+
 @node signal
 @subsection signal
 
@@ -3340,6 +3478,13 @@
 
 @menu
 * it_blocker::         Shrinked Blocker Stone
+* it_extralife::
+* it_hammer::
+* it_magnet::
+* it_sword::
+* it_trigger::         Floor Switch for Actors and Stones
+* it_umbrella::
+* it_wormhole::
 @end menu
 
 
@@ -3362,7 +3507,7 @@
 will open and close a given blocker multiple times.
 
 Note that the blocker is the only door object that allows a stone to be pushed
-through. Just bloulders cause the growing. Any other stone keeps the open state.
+through. Just boulders cause the growing. Any other stone keeps the open state.
 
 Another unique door feature is the closing of an blocker item caused by a 
 passing actor if the autoclose attribute is set to true.
@@ -3423,8 +3568,194 @@
 
 @end table
 
+ at c ----------------- Extralife Item -------------------- 
+ at node it_extralife
+ at subsection it_extralife
+ at obindex it_extralife
 
+An extralife transforms into @ref{it_glasses} when hit by a laser beam and is
+itself a laser transformation result of an @samp{it_coin4} (@pxref{it_coin}).
 
+An extralife that comes into existence on an illuminated grid position will not
+be destroyed due to already existing laser beams. But it will be destroyed on
+the first additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into an extralife this new extralife will be immune to
+light destruction for a short latency period to avoid repeated item 
+transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_extralife}
+A standard extralife item.
+ at item @b{it_extralife_new}
+An extralife that is immune to light destruction for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Hammer Item -------------------- 
+ at node it_hammer
+ at subsection it_hammer
+ at obindex it_hammer
+
+The hammer is used to destroy some stones, see @ref{Breakable Stones} and 
+ at ref{st_lightpassenger}. 
+
+It transforms into @ref{it_sword} when hit by a laser beam and is itself a
+laser transformation result of an @ref{it_sword} and an @samp{it_coin2} 
+(@pxref{it_coin}).
+
+An hammer that comes into existence on an illuminated grid position will not
+transform due to already existing laser beams. But it will transform on the first
+additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into an hammer this new hammer will be immune to
+further light transformations for a short latency period to avoid unstable
+flickering of repeated item transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_hammer}
+A standard hammer item.
+ at item @b{it_hammer_new}
+A hammer that is immune to light transformations for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Magnet Item -------------------- 
+ at node it_magnet
+ at subsection it_magnet
+ at obindex it_magnet
+
+ at c ----------------- Sword Item -------------------- 
+ at node it_sword
+ at subsection it_sword
+ at obindex it_sword
+
+The sword is used to neutralize @ref{st_knight}. 
+
+It transforms into @ref{it_hammer} when hit by a laser beam and is itself a
+laser transformation result of an @ref{it_hammer}.
+
+A sword that comes into existence on an illuminated grid position will not
+transform due to already existing laser beams. But it will transform on the first
+additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into a sword this new sword will be immune to
+further light transformations for a short latency period to avoid unstable
+flickering of repeated item transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_sword}
+A standard sword item.
+ at item @b{it_sword_new}
+A sword that is immune to light transformations for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Trigger Item -------------------- 
+ at node it_trigger
+ at subsection it_trigger
+ at obindex it_trigger
+
+The trigger item is a switch on top of the floor that reacts on actors and
+stones on top of it that may press it. It performs actions when it is initially
+pressed and again when it releases after the last object left it. A pressed 
+trigger is in state @samp{ON} and will send an action value of @samp{true}, a 
+released trigger is in state @samp{OFF} and will send an action value of 
+ at samp{false}.
+
+Only actors moving on the floor will press triggers. An actor jumping over a
+trigger will not press it. An actor jumping on a trigger will release and press
+it again.
+
+Just solid stones will press the trigger when pushed onto it. Floating, hollow
+stones will generally not press the trigger with the exception of the hollow,
+central puzzle stone (@pxref st_puzzle).
+
+There is no way to set the state of a trigger manually. But the state can
+nevertheless be read. At initialization a trigger that is pressed by objects 
+will start in state @samp{ON} without sending actions due to the 
+ at ref{Snapshot Principle}.
+
+You can make the trigger invisible by setting its attribute. Be aware that it
+still produces its click-sounds and the user will notice that actors cannot drop
+items onto the same grid position.
+
+Alternative objects that reacts just on actors are @ref{it_sensor} and
+ at ref{it_cross}.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{access}: @code{read only} @ @ @xref{state}
+The current switch state - @samp{ON} for a pressed trigger, @samp{OFF} for a
+released trigger.
+
+ at item @b{invisible} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+An invisible trigger is totally transparent. But the user may notice it, as actors
+cannot drop items onto the same grid position.
+
+ at end table
+
+ at item @b{Messages:} none
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at end table
+
+
+ at c ----------------- Umbrella Item -------------------- 
+ at node it_umbrella
+ at subsection it_umbrella
+ at obindex it_umbrella
+
+An activated umbrella temporarily protects a marble from @ref{st_death},
+ at ref{st_knight}, @ref{st_thief}, @ref{fl_abyss}, @ref{fl_water},
+ at ref{fl_swamp}, @ref{fl_thief}, @ref{it_death}, @ref{it_abyss},
+ at ref{it_booze_broken}, explosions, moving stones and the @samp{shatter}
+and @samp{fall} messages; in other words, from all lethal situations and
+thieves.
+
+An umbrella gets destroyed when hit by a laser beam and is itself a
+laser transformation result of an @samp{it_coin1}(@pxref{it_coin}).
+
+An umbrella that comes into existence on an illuminated grid position will not
+be destroyed due to already existing laser beams. But it will be destroyed on
+the first additional beam and on laser beams that are switched off and on again.
+
+If another item transforms into an umbrella this new umbrella will be immune to
+light destruction for a short latency period to avoid repeated item 
+transformations.
+
+ at table @asis
+
+ at item @b{Variants:}
+ at table @asis
+ at item @b{it_umbrella}
+A standard umbrella item.
+ at item @b{it_umbrella_new}
+An umbrella that is immune to light destruction for a short latency period.
+ at end table
+
+ at end table
+
+ at c ----------------- Wormhole Item -------------------- 
+ at node it_wormhole
+ at subsection it_wormhole
+ at obindex it_wormhole
+
 @c ===================  Stones  =======================
 @node Stone Objects
 @chapter Stone Objects
@@ -3451,7 +3782,11 @@
 * st_blocker::         Shrinkable Blocker
 * st_boulder::         Moving Arrow Boulder
 * st_fourswitch::      Four Direction Switch
-* st_switch::          A classical on/off Switch
+* st_laser::           Lightemitting Laser
+* st_laserswitch::     Lightsensitive Switch
+* st_polarswitch::     Transparency Switch for Light Beams
+* st_switch::          Classical on/off Switch
+* st_timer::           Animated Timer
 @end menu
 
 
@@ -3470,7 +3805,7 @@
 stone and item during opening and closing you should name the blocker
 (@pxref{name}) and address the blocker by this name. The complete identity
 with all attributes including any user attributes will be transfered between
-stone and item. E.g. @code{@{st_switch, target="myblocker", action="toggle"@}}
+stone and item. E.g. @samp{@{st_switch, target="myblocker", action="toggle"@}}
 will open and close a given blocker multiple times.
 
 Note that the blocker is the only door object that allows a stone to be pushed
@@ -3482,11 +3817,10 @@
 @item @b{Attributes:}
 
 @table @asis
- at item @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{default}: @code{0} @ @ @xref{state}
-Use CLOSED and OPEN macros as values. The stone represents the closed state
-and will always return state 0. But you can set its state what is equivalent
-to sending an open message in case of value 1 and an close message in case of
-value 0..
+ at item @b{state}, @ @ @i{values}: @code{OPEN}, @code{CLOSED}; @ @ @i{default}: @code{CLOSED} @ @ @xref{state}
+The stone represents the closed state and will always return state @samp{CLOSED}.
+But you can set its state what is equivalent to sending an open message in case
+of value @samp{OPEN} and an close message in case of value @samp{CLOSED}..
 
 @atindex autoclose
 @item @b{autoclose} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
@@ -3517,7 +3851,7 @@
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
 Sends an action at the moment the blocker reaches the closing state. That means
 an @ref{it_blocker} did close and did generate this blocker stone as its
-successor. The value will be @code{false} to express the closing state.
+successor. The value will be @samp{false} to express the closing state.
 
 @item @b{Variants:}
 @table @asis
@@ -3565,6 +3899,9 @@
 @item @b{orientation}, @ @ @i{values}: @code{NORTH}, @code{EAST}, @code{SOUTH}, @code{WEST}; @ @ @i{default}: @code{NORTH}
 The orientation of the boulder that is shown by its arrow. It determines the
 direction that the boulder will take on its next move.
+ at item @b{counterclockwise} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+The standard turning direction is clockwise. Use this attribute to revert the
+direction.
 @end table
 
 @item @b{Messages:}
@@ -3575,6 +3912,12 @@
 Change the orientation to the given direction value. The @ref{st_fourswitch}
 provides a compatible action which allows you to set a boulder as
 target and this message as action.
+ at item @b{turn}
+Turn orientation in turning direction as defined by attribute 
+ at samp{counterclockwise}.
+ at item @b{turnback}
+Turn orientation in opposite turning direction as defined by attribute 
+ at samp{counterclockwise}.
 @end table
 
 @item @b{Action:}
@@ -3603,7 +3946,7 @@
 actions to make this switch turning.
 
 When turning its pointer on a switching event it performs the action given by
-the @code{action/target}-pair. This can be either a common pair or a 
+the @samp{action/target}-pair. This can be either a common pair or a 
 state/direction dependent pair allowing you to issue different messages
 dependent on the pointing direction.
 
@@ -3633,23 +3976,155 @@
 @end table
 
 @item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
-Performs an action on each turn. If just a pair of global @code{target/action}
+Performs an action on each turn. If just a pair of global @samp{target/action}
 attributes are given, the action message is sent to the target with a 
 direction value of the new orientation. This values suits any message of the
 target that expects a direction value, and the @ref{signal} message, that 
-translates the direction to a 1 for @code{NORTH, SOUTH} and a 0 for 
- at code{EAST, WEST}.
+translates the direction to a 1 for @samp{NORTH}, @samp{SOUTH} and a 0 for 
+ at samp{EAST}, @samp{WEST}.
 
 If state dependent target/action pairs are given instead, namely
- at code{target_0/action_0} for the state @code{WEST},... , @code{target_3/action_3} 
-for the state @code{NORTH}, two actions will be perfomed: first for the state 
+ at samp{target_0/action_0} for the state @samp{WEST},... , @samp{target_3/action_3} 
+for the state @samp{NORTH}, two actions will be perfomed: first for the state 
 representing the old orientation the given action messages will be sent with
 a value of 0, then for the state representing the new orientation the given
 action messages will be sent with a value of 1. This allows you to switch on
 and off alternative sources by a fourswitch.
 @end table
 
+ at c ----------------- Laser Stone -------------------- 
+ at node st_laser
+ at subsection st_laser
+ at obindex st_laser
 
+The laser stone is the only object that is capable of emitting light beams.
+Per default laser stones are switched off. The @samp{state} attribute represents
+the activity of the laser and can be set initially to @samp{ON}. A laser is
+orientated to one direction in which the light will be emitted.
+
+Lasers have a latency that protect them from infinit fast switching cycles. This
+allows you to toggle a laser with an @ref{st_laserswitch} that is illuminated
+by the laser itself. During the latency period pending switch requests will be
+registered but will be executed with a certain small delay. Note that several
+pending requests may even neutralize are revoke each other.
+
+An initially switched on laser will not cause actions with its light beam due
+to the @ref{Snapshot Principle}. If you have need of the actions you may switch
+on the laser by a message in the @samp{postinit} function 
+(@xref{Level Initialization}). E.g. a flickering laser caused by a laser that
+illuminates a @ref{st_laserswitch} which toggles the laser needs to be switched
+on by a message.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
+ at item @b{orientation}, @ @ @i{values}: @code{NORTH}, @code{EAST}, @code{SOUTH}, @code{WEST}; @ @ @i{default}: @code{NORTH}
+The orientation of the laser. It determines the direction that the laser will
+emit light if it is switched on.
+ at item @b{counterclockwise} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+The standard turning direction is clockwise. Use this attribute to revert the
+direction.
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Switch the laser on at value @samp{1} and off at value @samp{0}.
+ at item @b{on} @ @ @xref{on}
+ at item @b{off} @ @ @xref{off}
+ at item @b{turn}
+Turn orientation in turning direction as defined by attribute 
+ at samp{counterclockwise}.
+ at item @b{turnback}
+Turn orientation in opposite turning direction as defined by attribute 
+ at samp{counterclockwise}.
+ at end table
+
+ at item @b{Action:} none
+
+ at item @b{Variants:}
+
+ at table @asis
+ at item @b{st_laser}
+ at item @b{st_laser_w}: orientation = @code{WEST}
+ at item @b{st_laser_s}: orientation = @code{SOUTH}
+ at item @b{st_laser_e}: orientation = @code{EAST}
+ at item @b{st_laser_n}: orientation = @code{NORTH}
+ at end table
+
+ at end table
+
+ at c ----------------- Laserswitch Stone -------------------- 
+ at node st_laserswitch
+ at subsection st_laserswitch
+ at obindex st_laserswitch
+
+A switch that is exclusively triggered by laser light. It switches instantly to
+state @samp{ON} when a laser beam hits the stone from any direction. It switches
+instantly back to state @samp{OFF} when it is no longer illuminated.
+
+There is no way to set set the state of this stone manually. But the state
+can nevertheless be read. At initialization a laserswitch that is exposed to
+laser light will start in state @samp{ON} without sending actions due to the
+ at ref{Snapshot Principle}.
+
+A laserswitch that is moved or swapped in or out of a laser beam will act on
+the light change with proper actions.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF}; @i{access}: @code{read only} @ @ @xref{state}
+
+ at end table
+
+ at item @b{Messages:} none
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at end table
+
+ at c ----------------- Polarswitch Stone -------------------- 
+ at node st_polarswitch
+ at subsection st_polarswitch
+ at obindex st_polarswitch
+
+A special on/off switch that toggles its state on actors hitting the stone.
+Of course other objects can send messages on actions to make this switch turning.
+
+The main purpose of this switch is its ability to switch crossing laser beams.
+While the switch is not transparent in its default off state, it switches to
+a transparent on state.
+
+The switch looks like an @ref{st_glass2} in its intransparent off state and like
+an @ref{st_glass1} in its transparent on state. Like other @ref{Glasstones} it
+is passable for invisible actors.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
+An @samp{OFF} state is not transparent, an @samp{ON} state is transparent. 
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Switches on at value @samp{1}, and off at values @samp{0}.
+ at item @b{on} @ @ @xref{on}
+ at item @b{off} @ @ @xref{off}
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
+ at end table
+
 @c ----------------- Switch Stone -------------------- 
 @node st_switch
 @subsection st_switch
@@ -3664,7 +4139,7 @@
 
 If a switch turns on or off there will be a short delay until it reaches the
 new state and performs it actions. If you need a switch without delay you
-need to set the @code{instant} attribute.
+need to set the @samp{instant} attribute.
 
 @table @asis
 @item @b{Attributes:}
@@ -3673,20 +4148,19 @@
 @item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
 @item @b{color} @ @ @i{values}: @code{nil}, @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{nil}
 The color of the switch that needs to match the hitting actor to cause a toggle.
-The default @code{nil} color is a grey switch that matches all actors, marbles
+The default @samp{nil} color is a grey switch that matches all actors, marbles
 of any color as well as all other actors.
 @item @b{instant} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 A default switch requires a short time equivalent to the animation until the
 new state is reached and the actions are performed. An instant switch jumps
 directly into the new state.
- at item @b{inverse} @ @ @xref{inverse}
 @end table
 
 @item @b{Messages:}
 
 @table @asis
 @item @b{signal} @ @ @xref{signal}
-Switches on at value @code{1}, and off at values @code{0}.
+Switches on at value @samp{1}, and off at values @samp{0}.
 @item @b{on} @ @ @xref{on}
 @item @b{off} @ @ @xref{off}
 @end table
@@ -3703,6 +4177,64 @@
 
 @end table
 
+ at c ----------------- Timer Stone -------------------- 
+ at node st_timer
+ at subsection st_timer
+ at obindex st_timer
+
+This stone can be used to trigger a delayed single or periodic events. An
+active, switched on timer is usually visualized by an animation. An inactive,
+switched off timer shows a static image.
+
+Note that this is an exceptional object as its default state is @samp{ON} to
+support the most common case of immediatly runnning timers.
+
+A single shot, not looping timer will send an action value of @samp{true}. A
+looping timer will alternate the boolean action values starting with value 
+ at samp{true}. You can use @ref{inverse} to start with a value of @samp{false}.
+
+If you stop a timer by switching it off, no further events will be performed.
+Restarting the timer by switching it on again will restart the timer like
+a new timer.
+
+The time interval to the first event and between subsequent events can be relied
+on to an accuracy of 0.01 seconds. But due to performance reasons and visibility
+of the reactions timers should not be set to intervals below 0.1 seconds. An
+interval of less than 0.01 seconds is not valid for a looping timer.
+
+ at table @asis
+ at item @b{Attributes:}
+
+ at table @asis
+ at item @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{ON} @ @ @xref{state}
+An @samp{ON} state timer is running. A timer in state @samp{OFF} is reset and
+waiting for reactivation.
+ at item @b{invisible} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+An invisible timer is totally transparent. But the user may notice it, as actors
+cannot pass and other stones cannot be moved onto the same grid position.
+ at item @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{1.0}
+Number of seconds until the first and between subsequent events. The interval
+must be larger equal 0.01 seconds for looping timers.
+ at item @b{loop} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}
+A looping timer will send periodic events.
+ at end table
+
+ at item @b{Messages:}
+
+ at table @asis
+ at item @b{signal} @ @ @xref{signal}
+Switches on at value @samp{1}, and off at values @samp{0}.
+ at item @b{on} @ @ @xref{on}
+ at item @b{off} @ @ @xref{off}
+ at end table
+
+ at item @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+The action value starts with @samp{true} and alternates on every event between
+ at samp{false} and @samp{true}. A timer that is reset starts again with value 
+ at samp{true}
+ at end table
+
+
 @c ===================  Actors  =======================
 
 @node Actor Objects

Modified: trunk/doc/reference/enigma-t2h.init
===================================================================
--- trunk/doc/reference/enigma-t2h.init	2008-03-22 13:08:39 UTC (rev 1081)
+++ trunk/doc/reference/enigma-t2h.init	2008-03-22 13:31:14 UTC (rev 1082)
@@ -7,5 +7,6 @@
 $css_map{'h3'} = 'background-color:rgb(95%,95%,100%)';
 $css_map{'hr'} = 'height:0px;';
 $css_map{'code'} = 'color:rgb(0%,50%,0%)';
+$css_map{'samp'} = 'color:rgb(0%,50%,0%)';
 
 1;



From andreasl at mail.berlios.de  Mon Mar 24 03:01:57 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Mon, 24 Mar 2008 03:01:57 +0100
Subject: [Enigma-game-svn] r1083 - in trunk/data/levels: enigma_i enigma_ii
	enigma_iii enigma_iv enigma_v enigma_vi enigma_vii lib
Message-ID: <200803240201.m2O21vSV021860@sheep.berlios.de>

Author: andreasl
Date: 2008-03-24 03:01:53 +0100 (Mon, 24 Mar 2008)
New Revision: 1083

Modified:
   trunk/data/levels/enigma_i/andreas24_1.xml
   trunk/data/levels/enigma_i/jc01_1.xml
   trunk/data/levels/enigma_i/xerxes01_1.xml
   trunk/data/levels/enigma_ii/alain22_1.xml
   trunk/data/levels/enigma_ii/andreas15_1.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/ant33_1.xml
   trunk/data/levels/enigma_iii/duffy92_1.xml
   trunk/data/levels/enigma_iii/illmind11_1.xml
   trunk/data/levels/enigma_iv/andreas09_1.xml
   trunk/data/levels/enigma_iv/duffy130_1.xml
   trunk/data/levels/enigma_iv/mp03_1.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/andreas19_1.xml
   trunk/data/levels/enigma_v/just05_2.xml
   trunk/data/levels/enigma_v/just08_1.xml
   trunk/data/levels/enigma_v/mp01_1.xml
   trunk/data/levels/enigma_v/mp02_1.xml
   trunk/data/levels/enigma_v/nat21_1.xml
   trunk/data/levels/enigma_v/raoul23_1.xml
   trunk/data/levels/enigma_vi/duffy136_1.xml
   trunk/data/levels/enigma_vi/duffy143_1.xml
   trunk/data/levels/enigma_vi/just10_2.xml
   trunk/data/levels/enigma_vi/luc29_1.xml
   trunk/data/levels/enigma_vi/luc32_1.xml
   trunk/data/levels/enigma_vi/luc33_1.xml
   trunk/data/levels/enigma_vi/raoul20_1.xml
   trunk/data/levels/enigma_vii/duffy148_1.xml
   trunk/data/levels/enigma_vii/duffy153_1.xml
   trunk/data/levels/enigma_vii/duffy167_1.xml
   trunk/data/levels/enigma_vii/just19_1.xml
   trunk/data/levels/enigma_vii/just23_1.xml
   trunk/data/levels/enigma_vii/just30_1.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/lib/ralf_sokoban.xml
Log:
Trunk:
 - Corrected attributes in lots of levels and ralf_sokoban.
 - Small rewrite of duffy130, as triggers may now delete themselves.
Todo:
 - Check for correct type of attributes (e.g. strings instead of
   integers, integers instead of boolean, FALSE/TRUE instead of
   false/true)
 - Remove loop-attribute everywhere (it was defunc before).
Note:
 - Further development of API2 will need another level-repair round.


Modified: trunk/data/levels/enigma_i/andreas24_1.xml
===================================================================
--- trunk/data/levels/enigma_i/andreas24_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/andreas24_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floppy Floors" el:subtitle="" el:id="andreas24"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -64,7 +64,7 @@
 -- Switch and draw functions
 
 function switch(onoff, sender)
-  local j = trigger[enigma.GetAttrib(sender, "mynumber")]
+  local j = trigger[enigma.GetAttrib(sender, "_mynumber")]
   way[j] = 1 - way[j]
   drawstate(j)
   oxyd_closeall()
@@ -113,7 +113,7 @@
 for j = 1, 5 do
   cells[tostring(j)]=cell{parent={{set_myfloor, j}}}
   stones[tostring(j)]=cell{stone=
-       {"st-floppy", {action = "callback", target = "switch", mynumber = j}}}
+       {"st-floppy", {action = "callback", target = "switch", _mynumber = j}}}
 end
 stones["#"]=cell{parent={{file_oxyd, "b"}}}
 items["!"]=cell{item="it-floppy"}

Modified: trunk/data/levels/enigma_i/jc01_1.xml
===================================================================
--- trunk/data/levels/enigma_i/jc01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/jc01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hurry!" el:subtitle="" el:id="jc01"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jens-Christian Korth" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? year Jens-Christian Korth</el:copyright>
       <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
@@ -72,7 +72,7 @@
 set_item("it-trigger", 13, 6, {action="callback", target="sw2"})
 
 set_stone("st-timer", 12,5, 
-          {loop=0, action="callback", target="nextsec", interval=1})
+          {action="callback", target="nextsec", interval=1})
 set_stone("st-fart", 17,10, {name="fart"})
 
 oxyd(14,2)

Modified: trunk/data/levels/enigma_i/xerxes01_1.xml
===================================================================
--- trunk/data/levels/enigma_i/xerxes01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/xerxes01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Encased" el:subtitle="" el:id="xerxes01"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Xerxes M. Dynatos" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Xerxes M. Dynatos</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -78,7 +78,7 @@
             set_floor("fl-sand", i-1, line)
 
         elseif c == "T" then
-            set_stone("st-timer", i-1, line, {invisible=1,loop=9999, action="callback", target="funcTimer", interval=1})
+            set_stone("st-timer", i-1, line, {invisible=1, action="callback", target="funcTimer", interval=1})
             --set_stone( "st-blue-sand", i-1, line)
 
         elseif c == "S" then

Modified: trunk/data/levels/enigma_ii/alain22_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/alain22_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_ii/alain22_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Road to Eden" el:subtitle="" el:id="alain22"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Alain Busser" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Alain Busser</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -47,11 +47,11 @@
             set_item("it-trigger",i-1,line,{invisible=1,action="callback", target="pursuit"})
         elseif c=="x" then
             set_floor("fl-sand",i-1,line)
-            set_item("it-wormhole",i-1,line, {invisibble=1,targetx=" 12.5",targety="30.5",strength=0,range=0})
+            set_item("it-wormhole",i-1,line, {targetx=" 12.5",targety="30.5",strength=0,range=0})
             set_stone("st-chameleon",i-1,line)
         elseif c=="q" then
             set_floor("fl-sand",i-1,line)
-            set_item("it-wormhole",i-1,line, {invisibble=1,targetx=" 30.5",targety="11.5",strength=0,range=0})
+            set_item("it-wormhole",i-1,line, {targetx=" 30.5",targety="11.5",strength=0,range=0})
             set_stone("st-chameleon",i-1,line)
         elseif c=="y" then
             set_floor("fl-sand",i-1,line)

Modified: trunk/data/levels/enigma_ii/andreas15_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/andreas15_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_ii/andreas15_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Spaceleast" el:subtitle="" el:id="andreas15"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -117,8 +117,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetItem(8,6),"force",10)
-SetAttrib(enigma.GetItem(11,6),"force",10)
 oxyd_shuffle()
     ]]></el:luamain>
     <el:i18n>

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Castle" el:subtitle="" el:id="andreas04"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -350,11 +350,7 @@
 -- Signal ("it(8 47)","fl(8 14)")
 SetAttrib(enigma.GetItem(5,4),"invisible",FALSE)
 SetAttrib(enigma.GetItem(6,16),"invisible",FALSE)
-SetAttrib(enigma.GetStone(10,12),"init",FALSE)
 SetAttrib(enigma.GetItem(10,31),"text","text1")
-SetAttrib(enigma.GetStone(11,11),"init",FALSE)
-SetAttrib(enigma.GetStone(11,13),"init",FALSE)
-SetAttrib(enigma.GetStone(12,12),"init",FALSE)
 SetAttrib(enigma.GetItem(15,5),"invisible",FALSE)
 SetAttrib(enigma.GetItem(18,17),"invisible",FALSE)
 Signal ("st(13 8)","st(11 11)")

Modified: trunk/data/levels/enigma_iii/ant33_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/ant33_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/ant33_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Unfair!" el:subtitle="" el:id="ant33"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -52,7 +52,7 @@
 t1, t2, t3 = 0,0,0
 
 function test_C(onoff, sender)
-    local nr_tr = enigma.GetAttrib(sender, "door_nr")
+    local nr_tr = enigma.GetAttrib(sender, "_door_nr")
 
     if nr_tr == 1 then
         t1=1-t1
@@ -69,9 +69,9 @@
     end
 end
 
-cells["I"]=cell{item={"it-trigger", {action="callback", target="test_C", door_nr=1}}}
-cells["J"]=cell{item={"it-trigger", {action="callback", target="test_C", door_nr=2}}}
-cells["K"]=cell{item={"it-trigger", {action="callback", target="test_C", door_nr=3}}}
+cells["I"]=cell{item={"it-trigger", {action="callback", target="test_C", _door_nr=1}}}
+cells["J"]=cell{item={"it-trigger", {action="callback", target="test_C", _door_nr=2}}}
+cells["K"]=cell{item={"it-trigger", {action="callback", target="test_C", _door_nr=3}}}
 -- /Workaround
 
 cells["c"]=cell{{{doorh, {name="doorC"}}}}

Modified: trunk/data/levels/enigma_iii/duffy92_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy92_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/duffy92_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Map It Out" el:subtitle="" el:id="duffy92"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -68,15 +68,15 @@
         elseif c=="B" then
             set_wormhole(i-1, line, 10.5, 6.5)
         elseif c=="a" then
-            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",direc=0})
+            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",_direc=0})
         elseif c=="u" then
-            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",direc=1})
+            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",_direc=1})
         elseif c=="r" then
-            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",direc=2})
+            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",_direc=2})
         elseif c=="d" then
-            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",direc=3})
+            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",_direc=3})
         elseif c=="l" then
-            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",direc=4})
+            set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="set_direc",_direc=4})
         elseif c==" " then
             set_item("it-trigger",i-1,line,{invisible=1})
         end
@@ -185,7 +185,7 @@
 end
 
 function set_direc(onoff, sender)
-    direc = enigma.GetAttrib(sender, "direc")
+    direc = enigma.GetAttrib(sender, "_direc")
 end
 
 function calculate_position()

Modified: trunk/data/levels/enigma_iii/illmind11_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/illmind11_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/illmind11_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Waterworld" el:subtitle="" el:id="illmind11"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="illmind" el:email="support at mag-heut.net" el:homepage="http://www.mag-heut.net/"/>
       <el:copyright>Copyright ? 2003 illmind</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -74,7 +74,7 @@
 cells["*"]=cell{floor="fl-gradient1"}
 items["("]=cell{item="it-hill"}
 function workingmagnet(x,y)
-  set_item("it-magnet", x, y, {on=TRUE, force=50});
+  set_item("it-magnet", x, y, {on=TRUE});
 end
 if difficult then
   items[")"]=cell{parent={{workingmagnet}}}

Modified: trunk/data/levels/enigma_iv/andreas09_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/andreas09_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/andreas09_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Flagstone Reaper" el:subtitle="" el:id="andreas09"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -201,8 +201,6 @@
 set_item("it-document", 17, 1, {text="text1"})
 set_stone("st-timer", 0, 0, {action="callback", target="timercallback", interval=TIMERINT} )
 set_stone("st-fourswitch",posx,posy, {action="callback", target="hitclock"})
-SetAttrib(enigma.GetStone(17,0),"init",FALSE)
-SetAttrib(enigma.GetStone(18,0),"init",FALSE)
 Signal ("st(19 1)","st(18 0)")
 Signal ("st(19 1)","st(17 0)")
 oxyd_shuffle()

Modified: trunk/data/levels/enigma_iv/duffy130_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy130_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/duffy130_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Limited Supplies" el:subtitle="" el:id="duffy130"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -54,61 +54,41 @@
         elseif c=="~" then
             set_floor("fl-water",i-1,line)
             set_item("it-trigger",i-1,line,{invisible=1,action="callback",target="funcc1"})
-        elseif c=="M" then
-            set_stone("st-timer",i-1,line,{name="t1",loop=1,interval=.001,action="callback",target="funcctimer"})
         end
     end
 end
 
-renderLine(00,"&&&&&&&&&&&&&&&&&&&&M")
-renderLine(01,"&~o~~~~~~~~~~~~ ~~~& ")
-renderLine(02,"&~ ~~~ ~o~ ~ ~~~~o~& ")
-renderLine(03,"&~~~ ~~~~~~~~~ ~ ~~& ")
-renderLine(04,"&~~~~~~~~ ~~~~~~~~ & ")
-renderLine(05,"&~ o~ ~ ~~~~~~ ~~~~& ")
-renderLine(06,"&~~~~~~~~z~~o~~~~~~& ")
-renderLine(07,"&~ ~~~ ~~~~~~ ~~~~~& ")
-renderLine(08,"&~~~~~~~ ~~ ~~~~ ~~& ")
-renderLine(09,"&~ ~~~~o~~~~~~~~~~~& ")
-renderLine(10,"&~~~ ~ ~~~~~~ ~~ ~~& ")
-renderLine(11,"&o ~~~~~~~ ~~~~~~o~& ")
-renderLine(12,"&&&&&&&&&&&&&&&&&&&& ")
+renderLine(00,"&&&&&&&&&&&&&&&&&&&&")
+renderLine(01,"&~o~~~~~~~~~~~~ ~~~&")
+renderLine(02,"&~ ~~~ ~o~ ~ ~~~~o~&")
+renderLine(03,"&~~~ ~~~~~~~~~ ~ ~~&")
+renderLine(04,"&~~~~~~~~ ~~~~~~~~ &")
+renderLine(05,"&~ o~ ~ ~~~~~~ ~~~~&")
+renderLine(06,"&~~~~~~~~z~~o~~~~~~&")
+renderLine(07,"&~ ~~~ ~~~~~~ ~~~~~&")
+renderLine(08,"&~~~~~~~ ~~ ~~~~ ~~&")
+renderLine(09,"&~ ~~~~o~~~~~~~~~~~&")
+renderLine(10,"&~~~ ~ ~~~~~~ ~~ ~~&")
+renderLine(11,"&o ~~~~~~~ ~~~~~~o~&")
+renderLine(12,"&&&&&&&&&&&&&&&&&&&&")
 
 oxyd_shuffle()
 
 ac1=enigma.GetNamedObject("ac1")
-t1=enigma.GetNamedObject("t1")
 
-enigma.SendMessage(t1,"off",nil)
-
 num=1
-posx=0
-posy=0
-ff1=0
 
 bridges=24
 
 function funcc1()
     if (num<=bridges) then
-        if (ff1==0) then
-            x,y=enigma.GetPos(ac1)
-            set_floor("fl-hay",x,y)
-            num=num+1
-            posx=x
-            posy=y
-            enigma.SendMessage(t1,"on",nil)
-            ff1=1
-        else
-            ff1=0
-        end
+        x,y=enigma.GetPos(ac1)
+        set_floor("fl-hay",x,y)
+        num=num+1
+        enigma.KillItem(x,y)
     end
 end
 
-function funcctimer()
-    enigma.KillItem(posx,posy)
-    enigma.SendMessage(t1,"off",nil)
-    ff1=0
-end
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_iv/mp03_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/mp03_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/mp03_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Games" el:subtitle="" el:id="mp03"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="moonpearl" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -148,7 +148,6 @@
 SetAttrib(enigma.GetStone(13,10),"name","mirror11")
 SetAttrib(enigma.GetStone(15,10),"name","mirror12")
 SetAttrib(enigma.GetStone(17,10),"name","mirror13")
-SetAttrib(enigma.GetStone(17,12),"init",FALSE)
 Signal ("st(4 5)","st(13 4)")
 Signal ("st(4 5)","st(13 4)")
 Signal ("st(4 5)","st(13 4)")

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -132,11 +132,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetStone(0,4),"init",FALSE)
-SetAttrib(enigma.GetStone(2,1),"init",FALSE)
-SetAttrib(enigma.GetStone(18,0),"init",FALSE)
-SetAttrib(enigma.GetStone(19,1),"init",FALSE)
-SetAttrib(enigma.GetStone(19,7),"init",FALSE)
 Signal ("st(3 3)","st(2 1)")
 Signal ("st(19 1)","st(18 3)")
 Signal ("st(3 11)","st(3 10)")

Modified: trunk/data/levels/enigma_v/andreas19_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas19_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/andreas19_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Frozen Magnets" el:subtitle="" el:id="andreas19"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -128,8 +128,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetItem(2,6),"force",10)
-SetAttrib(enigma.GetItem(17,6),"force",10)
 oxyd_shuffle()
 itemfreeze_init(0,0,0.01)
 -- some performance-thingies

Modified: trunk/data/levels/enigma_v/just05_2.xml
===================================================================
--- trunk/data/levels/enigma_v/just05_2.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/just05_2.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Walking around" el:subtitle="" el:id="just05"/>
-      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
       <el:author  el:name="JuSt" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? JuSt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -125,7 +125,6 @@
 set_actor("ac-blackball",10.5,6.5,{player=0})
 
 SetAttrib(enigma.GetItem(1,4),"invisible",FALSE)
-SetAttrib(enigma.GetStone(6,5),"init",FALSE)
 
 Signal ("it(1 4)","st(6 5)")
 Signal ("it(3 8)","st(2 11)")

Modified: trunk/data/levels/enigma_v/just08_1.xml
===================================================================
--- trunk/data/levels/enigma_v/just08_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/just08_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="No way out?" el:subtitle="" el:id="just08"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="JuSt" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 JuSt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -318,12 +318,12 @@
 draw_stones("st-stone2", {77, 36}, {1, 0}, 18)
 draw_stones("st-stone2", {96, 36}, {1, 0}, 18)
 draw_stones("st-stone2", {115, 36}, {1, 0}, 8)
-set_stone("st-timer", 66, 18, {action="callback", target="licht", interval="1", name="timer3", loop="1"})
-set_stone("st-timer", 104, 18, {action="callback", target="switches", interval="0.1", name="timer2", loop="1"})
-set_stone("st-timer", 123, 18, {action="close", target="door36", interval="10", name="timer1", loop="0"})
-set_stone("st-laserswitch", 40, 23, {action="callback", target="killdoc", on="1", name="switch21"})
+set_stone("st-timer", 66, 18, {action="callback", target="licht", interval="1", name="timer3"})
+set_stone("st-timer", 104, 18, {action="callback", target="switches", interval="0.1", name="timer2"})
+set_stone("st-timer", 123, 18, {action="close", target="door36", interval="10", name="timer1"})
+set_stone("st-laserswitch", 40, 23, {action="callback", target="killdoc", name="switch21"})
 set_stone("st-3mirror", 41, 23, {movable=FALSE, transparent=FALSE, orientation="1"})
-set_stone("st-laserswitch", 51, 24, {action="callback", target="lsi1", on="1", name="switch16"})
+set_stone("st-laserswitch", 51, 24, {action="callback", target="lsi1", name="switch16"})
 set_stone("st-switch", 64, 24, {action="openclose", target="door33", on="0", name="switch21"})
 set_stones("st-stone2", {{22, 25}, {34, 27}, {34, 29}, {34, 32}, {129, 36}})
 set_stones("st-turnstile-n", {{26, 25}, {28, 25}, {23, 26}, {24, 28}, {25, 30}, {30, 31}}, {type=north})
@@ -373,9 +373,9 @@
 set_stone("st-stoneimpulse", 34, 34, {name="stoneimpulse3"})
 set_stone("st-stoneimpulse", 35, 34, {name="stoneimpulse4"})
 set_stone("st-laser", 41, 35, {name="laser1", dir=EAST, on="1"})
-set_stone("st-laserswitch", 42, 36, {action="callback", target="lsi2", on="1", name="switch2"})
+set_stone("st-laserswitch", 42, 36, {action="callback", target="lsi2", name="switch2"})
 set_stone("st-laser", 45, 36, {name="laser2", dir=NORTH, on="1"})
-set_stone("st-laserswitch", 53, 36, {action="callback", target="lsi3", on="1", name="switch4"})
+set_stone("st-laserswitch", 53, 36, {action="callback", target="lsi3", name="switch4"})
 
 -- Actor Layer
 set_actor("ac-horse", 106.5, 29.5)

Modified: trunk/data/levels/enigma_v/mp01_1.xml
===================================================================
--- trunk/data/levels/enigma_v/mp01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/mp01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Gods of Enigma" el:subtitle="" el:id="mp01"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="moonpearl" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -203,7 +203,7 @@
 set_actor("ac-blackball", 9.5,6.5, {player=0})
 set_actor("ac-rotor",48.5,6.5,{range=7,force=20,gohome=true})
 --MAGNET
-SetAttrib(enigma.GetItem(9,27),"force",10)
+--SetAttrib(enigma.GetItem(9,27),"force",10)
 --TEXTE
 SetAttrib(enigma.GetItem(10,6),"text","text1")
 SetAttrib(enigma.GetItem(41,6),"text","text2")

Modified: trunk/data/levels/enigma_v/mp02_1.xml
===================================================================
--- trunk/data/levels/enigma_v/mp02_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/mp02_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Gods of Enigma II" el:subtitle="" el:id="mp02"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="moonpearl" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -288,7 +288,6 @@
 SetAttrib(enigma.GetItem(41,26),"text","text5")
 SetAttrib(enigma.GetItem(41,51),"text","text6")
 --LASER
-SetAttrib(enigma.GetStone(39,53),"init",FALSE)
 SetAttrib(enigma.GetItem(41,55),"invisible",FALSE)
 Signal ("it(41 55)","st(39 53)")
 --TUNNELS

Modified: trunk/data/levels/enigma_v/nat21_1.xml
===================================================================
--- trunk/data/levels/enigma_v/nat21_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/nat21_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hail Storm" el:subtitle="" el:id="nat21"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Nat Pryce" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Nat Pryce</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -62,7 +62,7 @@
     set_item( "it-wormhole", x, level_height-1,
               {name=wormhole(x),
                targetx=x+0.5, targety=0.5, 
-               range=0.5,force=1} )
+               range=0.5} )
 end
 
 for y=level_height-8,level_height-4,2 do

Modified: trunk/data/levels/enigma_v/raoul23_1.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul23_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/raoul23_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Spacestation" el:subtitle="" el:id="raoul23"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -303,9 +303,9 @@
     enigma.KillStone(x+2,y+2)
 end
 function rotate(onoff, sender)
-    local j = enigma.GetAttrib(sender, "myattriby")
-    local i = enigma.GetAttrib(sender, "myattribx")
-    local r = enigma.GetAttrib(sender, "room")
+    local j = enigma.GetAttrib(sender, "_myattriby")
+    local i = enigma.GetAttrib(sender, "_myattribx")
+    local r = enigma.GetAttrib(sender, "_room")
     if rotation[r][i][j]==1 then
         position[r][i][j]=position[r][i][j]+1
     else
@@ -382,7 +382,7 @@
     local k=1
     local l=1
     for i = 1, 9 do  
-        set_stone("st-switch_white", 55, 2+i-1,{action = "callback", target = "rotate", myattribx = k, myattriby = l, room = 2 })
+        set_stone("st-switch_white", 55, 2+i-1,{action = "callback", target = "rotate", _myattribx = k, _myattriby = l, _room = 2 })
         k=k+1
         if k>3 then
             k=1
@@ -394,7 +394,7 @@
     local k=1
     local l=1
     for i = 1, 9 do  
-        set_stone("st-switch_black", 40, 26+i-1,{action = "callback", target = "rotate", myattribx = k, myattriby = l, room = 1 })
+        set_stone("st-switch_black", 40, 26+i-1,{action = "callback", target = "rotate", _myattribx = k, _myattriby = l, _room = 1 })
         k=k+1
         if k>3 then
             k=1

Modified: trunk/data/levels/enigma_vi/duffy136_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/duffy136_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/duffy136_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Group Trip to Meditation" el:subtitle="" el:id="duffy136"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -84,8 +84,8 @@
 
 oxyd_shuffle()
 
-set_stone("st-timer", 77,0, {loop=0, action="onoff", target="laser", interval=1})
-set_stone("st-timer", 78,0, {loop=0, action="trigger", target="s1", interval=2})
+set_stone("st-timer", 77,0, {action="onoff", target="laser", interval=1})
+set_stone("st-timer", 78,0, {action="trigger", target="s1", interval=2})
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vi/duffy143_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/duffy143_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/duffy143_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Parish Fair" el:subtitle="Perish Unfair" el:id="duffy143"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -262,7 +262,6 @@
 draw_map(0,0,acmap,actors)
 
 SetAttrib(enigma.GetItem(16,8),"invisible",FALSE)
-SetAttrib(enigma.GetStone(19,7),"init",FALSE)
 SetAttrib(enigma.GetItem(26,17),"invisible",FALSE)
 SetAttrib(enigma.GetItem(26,19),"invisible",FALSE)
 SetAttrib(enigma.GetItem(27,16),"invisible",FALSE)
@@ -275,8 +274,6 @@
 SetAttrib(enigma.GetItem(29,20),"invisible",FALSE)
 SetAttrib(enigma.GetItem(30,17),"invisible",FALSE)
 SetAttrib(enigma.GetItem(30,19),"invisible",FALSE)
-SetAttrib(enigma.GetStone(38,3),"init",FALSE)
-SetAttrib(enigma.GetStone(49,11),"init",FALSE)
 
 Signal ("it(26 17)","st(21 13)")
 Signal ("it(26 17)","st(21 23)")

Modified: trunk/data/levels/enigma_vi/just10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/just10_2.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/just10_2.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Check the light" el:subtitle="how to play chess with lasers" el:id="just10"/>
-      <el:version el:score="2" el:release="2" el:revision="5" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="6" el:status="released"/>
       <el:author  el:name="JuSt" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 JuSt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -93,7 +93,7 @@
 set_stone("st-pmirror", 11, 6, {movable=TRUE, transparent=FALSE, orientation="3"})
 set_stone("st-switch", 14, 10, {action="callback", target="change_floors", on="1"})
 set_stones("st-stone_break", {{17, 1}, {13, 10}, {10, 6}, {9, 7}})
-set_stone("st-timer", 20, 0, {action="callback", target="check_it", interval="0.01", loop="1"})
+set_stone("st-timer", 20, 0, {action="callback", target="check_it", interval="0.01"})
 
 -- Actor Layer
 set_actor("ac-blackball", 11.5, 1.5, {player="0", mouseforce="1"})

Modified: trunk/data/levels/enigma_vi/luc29_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc29_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc29_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Splitting" el:subtitle="" el:id="luc29"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Lukas Sch?ller" el:email="Lucky_Luc at web.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Lukas Sch?ller</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -59,8 +59,6 @@
 writeLine(10,"#x            /  #b#")
 writeLine(11,"#/xxxxxxxx x#    #b#")
 writeLine(12,"##################o#")
-SetAttrib(enigma.GetStone(3,9),"init",FALSE)
-SetAttrib(enigma.GetStone(9,3),"init",FALSE)
 Signal ("st(13 0)","st(3 9)")
 Signal ("st(13 0)","st(9 3)")
 Signal ("st(8 3)","st(17 1)")

Modified: trunk/data/levels/enigma_vi/luc32_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc32_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc32_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Blitz Chess" el:subtitle="Move fast!" el:id="luc322006"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Lukas Sch?ller" el:email="Lucky_Luc at web.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Lukas Sch?ller</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -69,9 +69,6 @@
 writeLine(11,".   .  o..........0.")
 writeLine(12,"....................")
 
-SetAttrib(enigma.GetStone(1,5),"init",FALSE)
-SetAttrib(enigma.GetStone(6,9),"init",FALSE)
-
 Signal ("st(7 11)","st(1 5)")
 Signal ("it(3 3)","st(6 9)")
 Signal ("it(6 1)","fl(8 2)")

Modified: trunk/data/levels/enigma_vi/luc33_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc33_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc33_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="River of Challenges" el:subtitle="At the Riverside" el:id="luc332006"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Lukas Sch?ller" el:email="Lucky_Luc at web.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Lukas Sch?ller</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -138,7 +138,7 @@
     elseif(c=="6") then
       set_stone("st-puzzle-w",i-1,line)
     elseif(c=="e") then
-      set_stone("st-laser-e",i-1,line,{init="false",name="thelaser"})
+      set_stone("st-laser-e",i-1,line,{name="thelaser"})
     elseif(c=="x") then
       set_stone("st-stone_break",i-1,line)
     elseif(c=="$") then

Modified: trunk/data/levels/enigma_vi/raoul20_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul20_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/raoul20_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laserpowered" el:subtitle="" el:id="raoul20"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -173,16 +173,15 @@
         --to only get the a ring with triggers and not a area:
         if ((i==1) or (i==5)) or ((j==1) or (j==5)) then
         set_item("it-trigger", 2+i-1, 4+j-1,
-           {action = "callback", target = "laserron", invisible=TRUE, myx =
-       2+i-1, myy = 4+j-1})
+           {action = "callback", target = "laserron", invisible=TRUE, _myx = 2+i-1, _myy = 4+j-1})
        end
     end
 end
 
 function laserron(onoff,sender)
   local x,y = enigma.GetPos(sender)
-  --local x = enigma.GetAttrib(sender, "myx")
-  --local y = enigma.GetAttrib(sender, "myy")
+  --local x = enigma.GetAttrib(sender, "_myx")
+  --local y = enigma.GetAttrib(sender, "_myy")
   local lx, ly
   if (x == 2) or (x == 6) then
    if x==2 and y==6 then

Modified: trunk/data/levels/enigma_vii/duffy148_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy148_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy148_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Speed Meditation" el:subtitle="Beware of Bumps and Radar Impulses" el:id="duffy148"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -64,7 +64,7 @@
 
 oxyd_shuffle()
 
-set_stone("st-timer", 20,0, {loop=0, action="trigger", target="s1", interval=3})
+set_stone("st-timer", 20,0, {action="trigger", target="s1", interval=3})
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vii/duffy153_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy153_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy153_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Squad" el:subtitle="Fight the Light" el:id="duffy153"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -88,7 +88,7 @@
 
 oxyd_shuffle()
 
-set_stone("st-timer", 20,2, {loop=0, action="onoff", target="laser", interval=1.25})
+set_stone("st-timer", 20,2, {action="onoff", target="laser", interval=1.25})
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vii/duffy167_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy167_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy167_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Slopes, Jumps &amp; Falls" el:subtitle="" el:id="duffy167"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -234,7 +234,7 @@
 
 oxyd_shuffle()
 
-set_stone("st-timer", 0,37, {loop=0, action="onoff", target="laser", interval=.9})
+set_stone("st-timer", 0,37, {action="onoff", target="laser", interval=.9})
 
 SetDefaultAttribs("it-wormhole",{range=2.0})
 

Modified: trunk/data/levels/enigma_vii/just19_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just19_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just19_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Triggered Triggers" el:subtitle="" el:id="just19"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="JuSt" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 JuSt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -127,7 +127,7 @@
 draw_stones("st-brick", {9, 12}, {1, 0}, 2)
 draw_stones("st-brick", {12, 12}, {1, 0}, 7)
 set_stone("st-laser", 1, 0, {dir=SOUTH, on="1"})
-set_stone("st-timer", 20, 0, {action="callback", target="where_is_it", interval="0.1", name="timer1", loop="1"})
+set_stone("st-timer", 20, 0, {action="callback", target="where_is_it", interval="0.1", name="timer1"})
 set_stone("st-laser", 19, 1, {dir=WEST, on="1"})
 set_stone("st-laser", 0, 2, {name="laser17", dir=EAST, on="1"})
 set_stone("st-laser", 0, 3, {name="laser18", dir=EAST, on="0"})

Modified: trunk/data/levels/enigma_vii/just23_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just23_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just23_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
      <el:identity el:title="Lost in Time and Space" el:subtitle="" el:id="just23"/>
-     <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+     <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
      <el:author  el:name="JuSt" el:email="" el:homepage=""/>
      <el:copyright>Copyright ? 2007 JuSt</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -1731,7 +1731,7 @@
 set_stone("st-key_c", 34, 74, {action="openclose", target="door5"})
 set_stone("st-door_b", 35, 74, {name="door5"})
 set_stone("st-laser", 18, 77, {name="laser50", dir=WEST, on="0"})
-set_stone("st-timer", 143, 78, {action="callback", target="start_timing", interval="2", name="timer1", loop="1"})
+set_stone("st-timer", 143, 78, {action="callback", target="start_timing", interval="2", name="timer1"})
 set_stone("st-laser", 18, 80, {name="laser51", dir=WEST, on="0"})
 set_stones("st-oxyd", {{149, 89}, {149, 91}})
 set_stone("st-actorimpulse_invisible", 32, 19)

Modified: trunk/data/levels/enigma_vii/just30_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just30_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just30_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Lady in Red" el:subtitle="" el:id="just30"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="Just" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 JuSt</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -83,24 +83,24 @@
 set_stone("st-oxyd", 19, 1, {flavor="b", color="1"})
 set_stone("st-rotator-right", 19, 11)
 if difficult then
-    set_stone("st-timer", 20, 0, {name="ST14-00", target="ST08-01", action="close", on="0", interval=1, loop="0", invisible="0"})
-    set_stone("st-timer", 20, 1, {name="ST15-00", target="ST10-06", action="close", on="0", interval=1, loop="0", invisible="0"})
-    set_stone("st-timer", 20, 2, {name="ST16-00", target="ST13-04", action="close", on="0", interval=1, loop="0", invisible="0"})
+    set_stone("st-timer", 20, 0, {name="ST14-00", target="ST08-01", action="close", on="0", interval=1, invisible="0"})
+    set_stone("st-timer", 20, 1, {name="ST15-00", target="ST10-06", action="close", on="0", interval=1, invisible="0"})
+    set_stone("st-timer", 20, 2, {name="ST16-00", target="ST13-04", action="close", on="0", interval=1, invisible="0"})
     set_stone("st-switch_black", 16, 1, {target="ST18-02", action="openclose"})
-    set_stone("st-timer", 20, 3, {name="ST17-00", target="ST15-03", action="close", on="0", interval=1, loop="0", invisible="0"})
+    set_stone("st-timer", 20, 3, {name="ST17-00", target="ST15-03", action="close", on="0", interval=1, invisible="0"})
 else
-    set_stone("st-timer", 20, 0, {name="ST14-00", target="ST08-01", action="close", on="0", interval=2, loop="0", invisible="0"})
-    set_stone("st-timer", 20, 1, {name="ST15-00", target="ST10-06", action="close", on="0", interval=2, loop="0", invisible="0"})
-    set_stone("st-timer", 20, 2, {name="ST16-00", target="ST13-04", action="close", on="0", interval=2, loop="0", invisible="0"})
+    set_stone("st-timer", 20, 0, {name="ST14-00", target="ST08-01", action="close", on="0", interval=2, invisible="0"})
+    set_stone("st-timer", 20, 1, {name="ST15-00", target="ST10-06", action="close", on="0", interval=2, invisible="0"})
+    set_stone("st-timer", 20, 2, {name="ST16-00", target="ST13-04", action="close", on="0", interval=2, invisible="0"})
     set_stone("st-switch", 16, 1, {target="ST18-02", action="openclose"})
-    set_stone("st-timer", 20, 3, {name="ST17-00", target="ST15-03", action="close", on="0", interval=2, loop="0", invisible="0"})
+    set_stone("st-timer", 20, 3, {name="ST17-00", target="ST15-03", action="close", on="0", interval=2, invisible="0"})
 end
 
 set_item("it-vortex-closed", 1, 5, {name="vortex", targetx="1.5", targety="1.5"})
 set_item("it-yinyang", 1, 11)
-set_item("it-trigger", 2, 4, {target="ST03-01", action="open", on="0", invisible="0"})
+set_item("it-trigger", 2, 4, {target="ST03-01", action="open", invisible="0"})
 set_item("it-yinyang", 2, 11)
-set_item("it-trigger", 6, 9, {target="ST05-11", action="open", on="0", invisible="0"})
+set_item("it-trigger", 6, 9, {target="ST05-11", action="open", invisible="0"})
 set_item("it-wrench", 9, 11)
 set_item("it-trigger", 11, 10, {target="func1", action="callback", invisible="0"})
 set_item("it-trigger", 11, 11, {target="func2", action="callback", invisible="0"})

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley01"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,15 +22,7 @@
 -- ANT --
 create_world(58,25)
 meditation_mode()
-set_actor("ac-whiteball-small",11.5,1.5,{player=0,name="Seymour"})
-set_actor("ac-whiteball-small",47.5,6.5,{name="Orin",controllers=0,essential=-1})
-set_actor("ac-whiteball-small",18.5,23.5,{name="Mushnik",controllers=0,essential=-1})
-set_actor("ac-whiteball-small",47.5,20.5,{name="Audrey",controllers=0,essential=-1})
 
-set_actor("ac-horse",26.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Chiffon
-set_actor("ac-horse",23.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Crystal
-set_actor("ac-horse",20.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Ronnette
-
 cells={}
 cells[" "]=cell{floor="fl-brick"}
 cells["1"]=cell{stone={face="st-scissors", attr={action="callback",target="Grow1"}}} -- Orin being eaten by Audrey II
@@ -134,6 +126,15 @@
 set_default_parent(cells[" "])
 draw_map(0,0,level,cells)
 
+set_actor("ac-whiteball-small",11.5,1.5,{player=0,name="Seymour"})
+set_actor("ac-whiteball-small",47.5,6.5,{name="Orin",controllers=0,essential=-1})
+set_actor("ac-whiteball-small",18.5,23.5,{name="Mushnik",controllers=0,essential=-1})
+set_actor("ac-whiteball-small",47.5,20.5,{name="Audrey",controllers=0,essential=-1})
+
+set_actor("ac-horse",26.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Chiffon
+set_actor("ac-horse",23.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Crystal
+set_actor("ac-horse",20.5,0.5,{force=3, target1="35 0", target2="35 23", target3="22 24", target4="22 1"}) -- Ronnette
+
 set_item("it-document",4,5,{text="feed"}) -- Feed Me
 set_item("it-document",38,6,{text="Orin"}) -- Orin Quote
 set_item("it-document",38,21,{text="Audrey"}) -- Audrey Quote

Modified: trunk/data/levels/lib/ralf_sokoban.xml
===================================================================
--- trunk/data/levels/lib/ralf_sokoban.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/lib/ralf_sokoban.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="library">
       <el:identity el:title="" el:id="lib/ralf_sokoban"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
       <el:copyright>Copyright ? Mar 2003 Ralf Westram</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -898,7 +898,11 @@
          local d = "v"
          if (xd==xo) then d = "h" end
          set_floor(floorface,xd,yd)
-         set_stone(doorface,xd,yd, {name="door"..doors, type=d})
+         if doorface == "st-blocker" then
+           set_stone(doorface,xd,yd, {name="door"..doors})
+         else
+           set_stone(doorface,xd,yd, {name="door"..doors, type=d})
+         end
       end
       oxyd(xo,yo)
       debug("- setting oxyd to "..xo.."/"..yo)



From andreasl at mail.berlios.de  Fri Mar 28 15:06:21 2008
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Fri, 28 Mar 2008 15:06:21 +0100
Subject: [Enigma-game-svn] r1084 - in feature_branches/hp_lotm: images/lotm
	input input/lotm
Message-ID: <200803281406.m2SE6LDQ017121@sheep.berlios.de>

Author: andreasl
Date: 2008-03-28 15:05:51 +0100 (Fri, 28 Mar 2008)
New Revision: 1084

Added:
   feature_branches/hp_lotm/images/lotm/lotm_200803.png
   feature_branches/hp_lotm/images/lotm/lotm_200803_a.png
   feature_branches/hp_lotm/images/lotm/lotm_200803_b.png
   feature_branches/hp_lotm/images/lotm/lotm_200803_c.png
   feature_branches/hp_lotm/images/lotm/lotm_200803_d.png
   feature_branches/hp_lotm/input/lotm/lotm_200706_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200803.html
   feature_branches/hp_lotm/input/lotm/lotm_200803_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200803_ru.html
Modified:
   feature_branches/hp_lotm/images/lotm/lotm-history.png
   feature_branches/hp_lotm/input/development.html
   feature_branches/hp_lotm/input/infobox.html
   feature_branches/hp_lotm/input/infobox_de.html
   feature_branches/hp_lotm/input/infobox_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200802.html
   feature_branches/hp_lotm/input/lotm/lotm_200802_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200802_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
   feature_branches/hp_lotm/input/lotm/lotm_header_ru.html
   feature_branches/hp_lotm/input/stat-other.html
   feature_branches/hp_lotm/input/table-hcp.html
   feature_branches/hp_lotm/input/table-rat.html
   feature_branches/hp_lotm/input/table-solved.html
   feature_branches/hp_lotm/input/table-wr.html
   feature_branches/hp_lotm/input/userlist.html
Log:
Merging current homepage back to LotM-feature
branch to prepare LotM April.


Modified: feature_branches/hp_lotm/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200803.png (from rev 1083, homepage/images/lotm/lotm_200803.png)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200803_a.png (from rev 1083, homepage/images/lotm/lotm_200803_a.png)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200803_b.png (from rev 1083, homepage/images/lotm/lotm_200803_b.png)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200803_c.png (from rev 1083, homepage/images/lotm/lotm_200803_c.png)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200803_d.png (from rev 1083, homepage/images/lotm/lotm_200803_d.png)

Modified: feature_branches/hp_lotm/input/development.html
===================================================================
--- feature_branches/hp_lotm/input/development.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/development.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -35,7 +35,7 @@
   helping us out.</p>
 
   <div class="tasks">
-  <h4>Non Programming Tasks</h4>
+  <h4>Non-Programming Tasks</h4>
   <ul>
   <li><b>Translation</b>.  Enigma has proper support for languages other than
       English. If you would like to localize Enigma to your native language

Modified: feature_branches/hp_lotm/input/infobox.html
===================================================================
--- feature_branches/hp_lotm/input/infobox.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/infobox.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,9 +1,9 @@
     <div class="infobody">
        <div class="info">
-         <h3>Happy IV/2!</h3>
-         The Enigma Team wishes everyone a Happy New Year!
-         Let's hope for many new levels in 2008&mdash;some are
-         already in the starting blocks &hellip;
+         <h3>500,000 Downloads!</h3>
+         In 2 out of 3 statistics, Enigma jumped the 500.000 downloads mark on
+         the Berlios server. This includes downloads from 0.92 up to 1.01.
+         Thanks to all players who made this possible!
          <h3>Level of the Month</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>

Modified: feature_branches/hp_lotm/input/infobox_de.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_de.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/infobox_de.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,9 +1,10 @@
     <div class="infobody">
        <div class="info">
-         <h3>Frohes IV/2!</h3>
-         Das Enigma-Team w&uuml;nscht allen ein frohes neues Jahr!
-         Lasst uns auf viele neue Levels in 2008 hoffen - einige
-         stehen bereits in den Startbl&ouml;cken &hellip;
+         <h3>500.000 Downloads!</h3>
+         In zwei von drei Statistiken hat Enigma die
+         500.000-Download-Marke auf dem Berlios-Server &uuml;bersprungen.
+         Dies umfasst Downloads von 0.92 bis 1.01. Vielen Dank an alle Spieler,
+         die dies m&ouml;glich gemacht haben!
          <h3>Level des Monats</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>

Modified: feature_branches/hp_lotm/input/infobox_ru.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_ru.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/infobox_ru.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,9 +1,10 @@
     <div class="infobody">
        <div class="info">
-         <h3>??????????? IV/2!</h3>
-         ??????? Enigma ?????? ??????? ??????????? ?????? ????!
-         ?? ???? ????? ????? ??????? ? 2008&mdash;????????? ??? ? ?????????? &hellip;
-         <h3>Level of the Month</h3>
+         <h3>500,000 ????????!</h3>
+         ? 2 ?? 3 ?????????????? ???????, Enigma ???????? ??????? ? 500.000 ???????? ?
+         ??????? Berlios. ? ??? ?????? ???????? ? ?????? 0.92 ?? 1.01.
+         ??????? ???? ???????, ??????? ??????? ??? ?????????!
+         <h3>??????? ??????</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
          <div class="imagetitle">

Copied: feature_branches/hp_lotm/input/lotm/lotm_200706_ru.html (from rev 1083, homepage/input/lotm/lotm_200706_ru.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html (from rev 1083, homepage/input/lotm/lotm_200707_ru.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html (from rev 1083, homepage/input/lotm/lotm_200708_ru.html)

Modified: feature_branches/hp_lotm/input/lotm/lotm_200802.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200802.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/lotm/lotm_200802.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -249,7 +249,7 @@
 
 <p>
 And another very typical element of Raoul's levels is highly prominent in
-&quot;Puzzle Puzzles&quot: puzzles. This started when Raoul rewrote an old Oxyd
+&quot;Puzzle Puzzles&quot; puzzles. This started when Raoul rewrote an old Oxyd
 level, and searched for some way to randomize the puzzle stones. Although such
 a function already existed in ant.lua, we came into discussing the mathematics behind
 puzzle stones and under which circumstances it is possible to solve a freely

Modified: feature_branches/hp_lotm/input/lotm/lotm_200802_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200802_de.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/lotm/lotm_200802_de.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -160,7 +160,7 @@
 Der Level beginnt vielversprechend. Dieser sich in Serpentinen durch das Meer
 windende Weg erinnert an den Beginn eines Fantasy-Adventure-Movies. Ob
 &quot;Puzzle Puzzles&quot; h&auml;lt, was es verspricht? - Ich wei&szlig; es nicht. Aber
-Tausende von Enigma-Fans k&ouml;nnen nicht irren: Willkommen LotM 2/2008. ;-) </p>
+Tausende von Enigma-Fans k&ouml;nnen nicht irren: Willkommen LotM 2/2008. ;-)
 </div>
 
 <div class="quote">
@@ -263,7 +263,7 @@
 
 <p>
 Und ein weiteres typisches Element aus Raouls Landschaften erscheint in
-prominenter Stellung in &quot;Puzzle Puzzles&quot: Puzzles. Dies fing an, als
+prominenter Stellung in &quot;Puzzle Puzzles&quot; Puzzles. Dies fing an, als
 Raoul einen alten Oxydlevel neu schreiben wollte, und nach einem Weg suchte,
 die Puzzlesteine zuf&auml;llig zu mischen. Obwohl so eine Funktion bereits in
 ant.lua existierte, gerieten wir in eine Diskussion &uuml;ber die Mathematik hinter

Modified: feature_branches/hp_lotm/input/lotm/lotm_200802_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200802_ru.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/lotm/lotm_200802_ru.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -9,7 +9,7 @@
 ?? ?????? ???? ???????, ??? ??????? ????????? ?????
 ????? ?????????? ? ?????? ????????? ?? ????????. ??, ????? ?? ??????? ??
 ????????, ? ????? ? ?????????? ??????, ??????? ????????????? ???
-Julia? ????? ??????? ?? ???????????? ? ??????? ??? ????? ?????????, ??????? ?????????????,
+Julia, ????? ??????? ?? ???????????? ? ??????? ??? ????? ?????????, ??????? ?????????????,
 ?????????? ??????, ??? ????? ???????. ????? ?????????? ? &quot;Puzzle
 Puzzles&quot;!</p>
 

Copied: feature_branches/hp_lotm/input/lotm/lotm_200803.html (from rev 1083, homepage/input/lotm/lotm_200803.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200803_de.html (from rev 1083, homepage/input/lotm/lotm_200803_de.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200803_ru.html (from rev 1083, homepage/input/lotm/lotm_200803_ru.html)

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2008-03-28 14:05:51 UTC (rev 1084)
@@ -103,6 +103,15 @@
   position_num   = "6055"
 }
 
+lotm_archive_data[12] = {
+  date           = { month = 3, year = 2008 },
+  chronological  = 12,
+  name           = "Psycho Pushing",
+  author         = "Sven Siggelkow",
+  position       = "V/45",
+  position_num   = "5045"
+}
+
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
@@ -113,10 +122,11 @@
 lotm_rating(           "Elaborate",  8.63,   8,  "")
 lotm_rating(             "Houdini",  9.18,  10,  "")
 lotm_rating(           "Tool Time",  8.52,  21,  "")
-lotm_rating(         "Quadropolis",  9.20,  10,  "(1 up)")
+lotm_rating(         "Quadropolis",  9.20,  10,  "")
 lotm_rating(      "Big Adventures",  8.39,  23,  "")
 lotm_rating(      "Temple of Gold",  9.17,   6,  "")
-lotm_rating(      "Puzzle Puzzles",  8.83,   6,  "<b>(newcomer)</b>")
+lotm_rating(      "Puzzle Puzzles",  8.83,   6,  "")
+lotm_rating(      "Psycho Pushing",  8.38,   8,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 

Modified: feature_branches/hp_lotm/input/lotm/lotm_header_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_header_ru.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/lotm/lotm_header_ru.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,7 +1,7 @@
 <h2>$$lotm_expansion$$</h2>
 
-  <p>?? ????? ?????? ????? ????? ?????????? ??????????????? 
-  ? ???????????? ???????. ???????????? ?????? ??? ??, ? ??????? ??????? ?????? ????????????? ?????????
-  ? ?????? ????? ??????. ????????????? ??? ??? ?????. ??????? ?????????? ?????????? ??????,
-  ?? ??????? ?? ??????? ? ?? ????????? ????????? ???? ?????? ?????? ? ???????????? ? ????? ??????? ??????. ?? ?????? ????? ???
-  ?????????? ?????? ?????? ? ????? <a href="$$lotm$$">??????</a>.</p>
+  <p>?? ????? ?????? ????? ?????? ???????? ??????? ???????????? ???????.
+  ???????????? ?????? ??? ??, ? ??????? ??????? ?????? ????????????? ?????????
+  ? ? ????? ????? ??????. ????????????? ??? ??? ?????. ??????? ?????????? ?????????? ??????,
+  ?? ??????? ?? ??????? ? ?? ????????? ????????? ???? ?????? ?????? ? ???????????? ? ????? ??????? ??????.
+  ?? ?????? ????? ??? ?????????? ?????? ?????? ? ????? <a href="$$lotm$$">??????</a>.</p>

Modified: feature_branches/hp_lotm/input/stat-other.html
===================================================================
--- feature_branches/hp_lotm/input/stat-other.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/stat-other.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,22 +1,22 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      67135 $$single_level_scores$$.
+      73526 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      12983 $$single_level_ratings$$ 4.86 $$and_distribution$$: 
+      13840 $$single_level_ratings$$ 4.89 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
-        <tr><td class="num">0</td><td class="num">47</td></tr>
-        <tr><td class="num">1</td><td class="num">247</td></tr>
-        <tr><td class="num">2</td><td class="num">690</td></tr>
-        <tr><td class="num">3</td><td class="num">1937</td></tr>
-        <tr><td class="num">4</td><td class="num">2547</td></tr>
-        <tr><td class="num">5</td><td class="num">3102</td></tr>
-        <tr><td class="num">6</td><td class="num">2139</td></tr>
-        <tr><td class="num">7</td><td class="num">1446</td></tr>
-        <tr><td class="num">8</td><td class="num">518</td></tr>
-        <tr><td class="num">9</td><td class="num">213</td></tr>
-        <tr><td class="num">10</td><td class="num">97</td></tr>
+        <tr><td class="num">0</td><td class="num">57</td></tr>
+        <tr><td class="num">1</td><td class="num">264</td></tr>
+        <tr><td class="num">2</td><td class="num">723</td></tr>
+        <tr><td class="num">3</td><td class="num">2008</td></tr>
+        <tr><td class="num">4</td><td class="num">2657</td></tr>
+        <tr><td class="num">5</td><td class="num">3325</td></tr>
+        <tr><td class="num">6</td><td class="num">2309</td></tr>
+        <tr><td class="num">7</td><td class="num">1580</td></tr>
+        <tr><td class="num">8</td><td class="num">583</td></tr>
+        <tr><td class="num">9</td><td class="num">231</td></tr>
+        <tr><td class="num">10</td><td class="num">103</td></tr>
       </table>
   </div>

Modified: feature_branches/hp_lotm/input/table-hcp.html
===================================================================
--- feature_branches/hp_lotm/input/table-hcp.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/table-hcp.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,129 +1,138 @@
   <table>
-    <caption>$$Handicap_Statistics$$ $$December$$ 2007</caption>
+    <caption>$$Handicap_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-136.2</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -85.4</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -85.4</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num"> -73.2</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -63.4</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -59.2</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -48.2</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -44.5</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -42.4</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -39.4</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -34.6</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -31.1</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -29.0</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -25.1</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -23.5</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -23.4</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -22.2</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -21.5</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -20.8</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -20.5</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -20.4</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -17.5</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -17.0</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -16.2</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -14.6</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -14.5</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num"> -13.1</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num">  -9.4</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">-140.7</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -83.8</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num"> -83.5</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num"> -72.0</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -61.6</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -60.7</td><td class="left">'Malla'</td></tr>
+     <tr><td class="num"> -57.6</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -50.2</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -47.5</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -44.8</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -43.6</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -41.8</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -38.2</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -34.3</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -29.8</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -29.0</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -28.1</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -28.0</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -24.3</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -22.6</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -21.7</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -20.2</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -19.9</td><td class="left">'Emmanuel'</td></tr>
+     <tr><td class="num"> -16.6</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -16.0</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -14.7</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -13.0</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num"> -12.2</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num">  -9.1</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">  -8.9</td><td class="left">'Daisy'</td></tr>
      <tr><td class="num">  -8.8</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -5.9</td><td class="left">'Daniel'</td></tr>
-     <tr><td class="num">  -4.6</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">  -3.6</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">  -3.1</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">  -2.4</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">  -0.2</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">  -0.0</td><td class="left">'Tobias'</td></tr>
-     <tr><td class="num">   1.4</td><td class="left">'Guglielmo'</td></tr>
-     <tr><td class="num">   2.4</td><td class="left">'Andy'</td></tr>
-     <tr><td class="num">   2.7</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   4.7</td><td class="left">'Austin'</td></tr>
-     <tr><td class="num">   6.8</td><td class="left">'mrduke'</td></tr>
-     <tr><td class="num">   9.6</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  11.0</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  11.7</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">  12.3</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  13.1</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  13.5</td><td class="left">'shoki'</td></tr>
-     <tr><td class="num">  13.5</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  14.1</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  15.8</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">  16.8</td><td class="left">'Tiza'</td></tr>
-     <tr><td class="num">  17.8</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  20.9</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  21.2</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  21.4</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  22.3</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  22.3</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  23.0</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  23.6</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  24.6</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">  26.0</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  26.1</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  27.0</td><td class="left">'biotopa'</td></tr>
-     <tr><td class="num">  28.4</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  28.8</td><td class="left">'geembo_90'</td></tr>
-     <tr><td class="num">  29.6</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  29.9</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  30.1</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  30.3</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  30.4</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  31.0</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  32.0</td><td class="left">'Vinksu'</td></tr>
-     <tr><td class="num">  32.2</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  33.7</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  33.8</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  33.9</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  35.7</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  37.5</td><td class="left">'Drotten'</td></tr>
-     <tr><td class="num">  38.1</td><td class="left">'Archcorenth'</td></tr>
-     <tr><td class="num">  38.2</td><td class="left">'B-man'</td></tr>
-     <tr><td class="num">  38.2</td><td class="left">'Harry Lim'</td></tr>
-     <tr><td class="num">  39.6</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  39.7</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  40.5</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  40.8</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  41.8</td><td class="left">'Momcat'</td></tr>
-     <tr><td class="num">  42.4</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  42.8</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  44.0</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  44.1</td><td class="left">'Liam Sheehan'</td></tr>
-     <tr><td class="num">  44.9</td><td class="left">'IntKecsk'</td></tr>
-     <tr><td class="num">  45.2</td><td class="left">'Antonio EE'</td></tr>
-     <tr><td class="num">  46.2</td><td class="left">'ntaeijr'</td></tr>
-     <tr><td class="num">  46.6</td><td class="left">'mhatta'</td></tr>
-     <tr><td class="num">  47.8</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  48.4</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  48.9</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  49.8</td><td class="left">'jdcampo'</td></tr>
-     <tr><td class="num">  50.2</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  51.0</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  51.1</td><td class="left">'Vaily'</td></tr>
-     <tr><td class="num">  52.3</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  52.4</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  52.6</td><td class="left">'Cyphase'</td></tr>
-     <tr><td class="num">  54.8</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  55.7</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  61.1</td><td class="left">'Asbel'</td></tr>
-     <tr><td class="num">  62.9</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  65.6</td><td class="left">'ael'</td></tr>
-     <tr><td class="num">  66.0</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  67.0</td><td class="left">'Alf'</td></tr>
-     <tr><td class="num">  68.5</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  68.6</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  69.7</td><td class="left">'xmouse'</td></tr>
-     <tr><td class="num">  71.3</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  71.6</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  73.6</td><td class="left">'Dvorhagen'</td></tr>
-     <tr><td class="num">  74.6</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  74.7</td><td class="left">'AsuCaga'</td></tr>
-     <tr><td class="num">  79.3</td><td class="left">'AkRa'</td></tr>
-     <tr><td class="num">  79.9</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  84.6</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  -5.0</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">  -3.7</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num">  -2.3</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">  -2.0</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">  -1.7</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   0.8</td><td class="left">'para_doks'</td></tr>
+     <tr><td class="num">   0.9</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   2.1</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   3.0</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   3.3</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   3.4</td><td class="left">'serpent'</td></tr>
+     <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
+     <tr><td class="num">   5.5</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">   7.7</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">  10.3</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  11.1</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">  12.0</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  12.3</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">  12.7</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">  13.8</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  14.1</td><td class="left">'Agnieszka'</td></tr>
+     <tr><td class="num">  14.2</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  14.6</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">  18.6</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  21.4</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  21.7</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  21.9</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  22.8</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  22.9</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  23.6</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  24.2</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  24.7</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  25.3</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  26.6</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  26.6</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  27.9</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  28.6</td><td class="left">'oblo'</td></tr>
+     <tr><td class="num">  28.8</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  29.1</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  30.0</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  30.4</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  30.7</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  31.0</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  31.0</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  31.3</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  31.4</td><td class="left">'Davacardo'</td></tr>
+     <tr><td class="num">  32.5</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  34.1</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  34.2</td><td class="left">'MicWa'</td></tr>
+     <tr><td class="num">  34.3</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  34.6</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  36.4</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  37.8</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  38.3</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  38.5</td><td class="left">'Harry Lim'</td></tr>
+     <tr><td class="num">  38.7</td><td class="left">'B-man'</td></tr>
+     <tr><td class="num">  38.9</td><td class="left">'Angolino'</td></tr>
+     <tr><td class="num">  39.4</td><td class="left">'mecke'</td></tr>
+     <tr><td class="num">  39.7</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  40.1</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  40.8</td><td class="left">'Snaily'</td></tr>
+     <tr><td class="num">  41.0</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  42.1</td><td class="left">'Momcat'</td></tr>
+     <tr><td class="num">  42.2</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  42.6</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  42.7</td><td class="left">'Uli'</td></tr>
+     <tr><td class="num">  44.5</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  45.1</td><td class="left">'IntKecsk'</td></tr>
+     <tr><td class="num">  46.5</td><td class="left">'ntaeijr'</td></tr>
+     <tr><td class="num">  46.8</td><td class="left">'mhatta'</td></tr>
+     <tr><td class="num">  48.3</td><td class="left">'Zak'</td></tr>
+     <tr><td class="num">  48.7</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  49.1</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  50.0</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  50.6</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'brynn'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'Vaily'</td></tr>
+     <tr><td class="num">  52.6</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  52.6</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  52.8</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  55.0</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  55.8</td><td class="left">'Adonica'</td></tr>
+     <tr><td class="num">  61.3</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  61.5</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  63.1</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  65.7</td><td class="left">'ael'</td></tr>
+     <tr><td class="num">  66.1</td><td class="left">'Samuel'</td></tr>
+     <tr><td class="num">  66.4</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  67.1</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  68.7</td><td class="left">'Magnus and Susi'</td></tr>
+     <tr><td class="num">  69.8</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  71.5</td><td class="left">'Joona'</td></tr>
+     <tr><td class="num">  71.7</td><td class="left">'AQZ'</td></tr>
+     <tr><td class="num">  73.7</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  74.7</td><td class="left">'jojo'</td></tr>
+     <tr><td class="num">  74.8</td><td class="left">'AsuCaga'</td></tr>
+     <tr><td class="num">  79.5</td><td class="left">'AkRa'</td></tr>
+     <tr><td class="num">  80.0</td><td class="left">'Agares'</td></tr>
+     <tr><td class="num">  84.7</td><td class="left">'Miel56'</td></tr>
      <tr><td class="num">  89.8</td><td class="left">'The red O'</td></tr>
      <tr><td class="num">  92.2</td><td class="left">'Michael'</td></tr>
   </table>

Modified: feature_branches/hp_lotm/input/table-rat.html
===================================================================
--- feature_branches/hp_lotm/input/table-rat.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/table-rat.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,45 +1,48 @@
   <table>
-    <caption>$$Rating_Statistics$$ $$December$$ 2007</caption>
+    <caption>$$Rating_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
-    <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1058</td><td class="num"> 5.05</td><td class="left">'ryujun'</td></tr>
+    <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1062</td><td class="num"> 5.06</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1056</td><td class="num"> 4.83</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num">853</td><td class="num"> 4.78</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num">713</td><td class="num"> 4.78</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">821</td><td class="num"> 4.94</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">653</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num">625</td><td class="num"> 4.98</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">627</td><td class="num"> 4.99</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">613</td><td class="num"> 4.20</td><td class="left">'shoki'</td></tr>
+    <tr><td class="num">596</td><td class="num"> 4.82</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num">518</td><td class="num"> 5.08</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num">517</td><td class="num"> 4.96</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num">511</td><td class="num"> 5.30</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">505</td><td class="num"> 5.07</td><td class="left">'dpl'</td></tr>
-    <tr><td class="num">464</td><td class="num"> 5.02</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num">461</td><td class="num"> 4.89</td><td class="left">'B-Huff'</td></tr>
+    <tr><td class="num">469</td><td class="num"> 5.03</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">448</td><td class="num"> 5.08</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num">432</td><td class="num"> 4.23</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num">433</td><td class="num"> 4.24</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num">424</td><td class="num"> 4.35</td><td class="left">'ged'</td></tr>
-    <tr><td class="num">379</td><td class="num"> 4.93</td><td class="left">'U-Punkt'</td></tr>
-    <tr><td class="num">348</td><td class="num"> 4.09</td><td class="left">'Vinksu'</td></tr>
+    <tr><td class="num">388</td><td class="num"> 4.86</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">369</td><td class="num"> 4.04</td><td class="left">'Vinksu'</td></tr>
     <tr><td class="num">307</td><td class="num"> 4.01</td><td class="left">'Sim_Ed'</td></tr>
-    <tr><td class="num">282</td><td class="num"> 4.59</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num">275</td><td class="num"> 4.68</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">285</td><td class="num"> 4.60</td><td class="left">'ABS'</td></tr>
     <tr><td class="num">254</td><td class="num"> 4.91</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num">208</td><td class="num"> 6.15</td><td class="left">'Momcat'</td></tr>
+    <tr><td class="num">200</td><td class="num"> 5.74</td><td class="left">'Malla'</td></tr>
     <tr><td class="num">187</td><td class="num"> 5.05</td><td class="left">'WP319'</td></tr>
+    <tr><td class="num">138</td><td class="num"> 5.00</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">135</td><td class="num"> 4.13</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">129</td><td class="num"> 5.64</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num"> 99</td><td class="num"> 5.01</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 97</td><td class="num"> 4.16</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 85</td><td class="num"> 4.76</td><td class="left">'para_doks'</td></tr>
     <tr><td class="num"> 72</td><td class="num"> 5.63</td><td class="left">'Wuzzy'</td></tr>
     <tr><td class="num"> 51</td><td class="num"> 6.39</td><td class="left">'Little_Mole'</td></tr>
     <tr><td class="num"> 50</td><td class="num"> 5.26</td><td class="left">'Daniel'</td></tr>
+    <tr><td class="num"> 49</td><td class="num"> 6.02</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 49</td><td class="num"> 4.90</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 43</td><td class="num"> 3.74</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 30</td><td class="num"> 4.40</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 6.04</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 4.88</td><td class="left">'Drotten'</td></tr>
-    <tr><td class="num"> 18</td><td class="num"> 7.44</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 22</td><td class="num"> 7.32</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 17</td><td class="num"> 5.53</td><td class="left">'Jeffrey S'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 7.63</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 3.88</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 13</td><td class="num"> 7.69</td><td class="left">'Ale'</td></tr>
     <tr><td class="num"> 13</td><td class="num"> 5.23</td><td class="left">'Samuel'</td></tr>
     <tr><td class="num"> 11</td><td class="num"> 6.36</td><td class="left">'ShadowPhrogg32642342'</td></tr>
@@ -49,7 +52,10 @@
     <tr><td class="num">  5</td><td class="num"> 6.80</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num">  5</td><td class="num"> 9.20</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 6.75</td><td class="left">'Agares'</td></tr>
+    <tr><td class="num">  4</td><td class="num">10.00</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 5.75</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 1.00</td><td class="left">'Hans-HD'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 8.75</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 6.50</td><td class="left">'serpent'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 7.00</td><td class="left">'redsantz'</td></tr>
     <tr><td class="num">  3</td><td class="num"> 0.67</td><td class="left">'Turbogurk'</td></tr>
@@ -57,14 +63,13 @@
     <tr><td class="num">  3</td><td class="num"> 7.67</td><td class="left">'Joona'</td></tr>
     <tr><td class="num">  3</td><td class="num"> 3.00</td><td class="left">'Rugby4ever'</td></tr>
     <tr><td class="num">  3</td><td class="num"> 4.33</td><td class="left">'krazy62'</td></tr>
-    <tr><td class="num">  2</td><td class="num"> 6.00</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num">  2</td><td class="num"> 0.00</td><td class="left">'mhatta'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'ael'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Uli'</td></tr>
     <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Cyphase'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Harry Lim'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 3.00</td><td class="left">'AkRa'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 6.00</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'jojo'</td></tr>
-    <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Antonio EE'</td></tr>
   </table>

Modified: feature_branches/hp_lotm/input/table-solved.html
===================================================================
--- feature_branches/hp_lotm/input/table-solved.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/table-solved.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,86 +1,93 @@
   <table>
-    <caption>$$Solved_Level_Statistics$$ $$December$$ 2007</caption>
+    <caption>$$Solved_Level_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>$$difficult$$</th><th>$$easy$$</th><th>$$total$$</th><th class="left">$$user$$</th></tr>
+    <tr><td class="num">1045/1045</td><td class="num">189/189</td><td class="num">100.00%</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1043/1045</td><td class="num">189/189</td><td class="num"> 99.84%</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">1041/1045</td><td class="num">189/189</td><td class="num"> 99.68%</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">183/189</td><td class="num"> 98.22%</td><td class="left">'Craven'</td></tr>
-    <tr><td class="num">1028/1045</td><td class="num">178/189</td><td class="num"> 97.73%</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">1030/1045</td><td class="num">178/189</td><td class="num"> 97.89%</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">1021/1045</td><td class="num">177/189</td><td class="num"> 97.08%</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num">1012/1045</td><td class="num">179/189</td><td class="num"> 96.52%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">1007/1045</td><td class="num">178/189</td><td class="num"> 96.03%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num"> 999/1045</td><td class="num">177/189</td><td class="num"> 95.30%</td><td class="left">'biotopa'</td></tr>
     <tr><td class="num"> 969/1045</td><td class="num">170/189</td><td class="num"> 92.30%</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num"> 970/1045</td><td class="num">166/189</td><td class="num"> 92.06%</td><td class="left">'Andy'</td></tr>
     <tr><td class="num"> 949/1045</td><td class="num">170/189</td><td class="num"> 90.68%</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 942/1045</td><td class="num">172/189</td><td class="num"> 90.28%</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 933/1045</td><td class="num">125/189</td><td class="num"> 85.74%</td><td class="left">'Alex'</td></tr>
     <tr><td class="num"> 914/1045</td><td class="num">135/189</td><td class="num"> 85.01%</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num"> 894/1045</td><td class="num">140/189</td><td class="num"> 83.79%</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num"> 887/1045</td><td class="num">143/189</td><td class="num"> 83.47%</td><td class="left">'mrduke'</td></tr>
+    <tr><td class="num"> 891/1045</td><td class="num">133/189</td><td class="num"> 82.98%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 863/1045</td><td class="num">161/189</td><td class="num"> 82.98%</td><td class="left">'Tobias'</td></tr>
-    <tr><td class="num"> 915/1045</td><td class="num">105/189</td><td class="num"> 82.66%</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 917/1045</td><td class="num">106/189</td><td class="num"> 82.90%</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 863/1045</td><td class="num">150/189</td><td class="num"> 82.09%</td><td class="left">'Gloop'</td></tr>
     <tr><td class="num"> 849/1045</td><td class="num">151/189</td><td class="num"> 81.04%</td><td class="left">'WP319'</td></tr>
     <tr><td class="num"> 867/1045</td><td class="num">124/189</td><td class="num"> 80.31%</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num"> 841/1045</td><td class="num">144/189</td><td class="num"> 79.82%</td><td class="left">'Gorn'</td></tr>
     <tr><td class="num"> 874/1045</td><td class="num">103/189</td><td class="num"> 79.17%</td><td class="left">'Melanie'</td></tr>
+    <tr><td class="num"> 815/1045</td><td class="num">149/189</td><td class="num"> 78.12%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num"> 841/1045</td><td class="num">123/189</td><td class="num"> 78.12%</td><td class="left">'shoki'</td></tr>
     <tr><td class="num"> 950/1045</td><td class="num">  0/189</td><td class="num"> 76.99%</td><td class="left">'Tarim'</td></tr>
     <tr><td class="num"> 804/1045</td><td class="num">142/189</td><td class="num"> 76.66%</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 938/1045</td><td class="num">  1/189</td><td class="num"> 76.09%</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num"> 747/1045</td><td class="num">137/189</td><td class="num"> 71.64%</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num"> 763/1045</td><td class="num">121/189</td><td class="num"> 71.64%</td><td class="left">'Gorn'</td></tr>
-    <tr><td class="num"> 738/1045</td><td class="num">131/189</td><td class="num"> 70.42%</td><td class="left">'ABS'</td></tr>
+    <tr><td class="num"> 772/1045</td><td class="num">113/189</td><td class="num"> 71.72%</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num"> 739/1045</td><td class="num">131/189</td><td class="num"> 70.50%</td><td class="left">'ABS'</td></tr>
+    <tr><td class="num"> 719/1045</td><td class="num">122/189</td><td class="num"> 68.15%</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 762/1045</td><td class="num"> 73/189</td><td class="num"> 67.67%</td><td class="left">'redsantz'</td></tr>
     <tr><td class="num"> 745/1045</td><td class="num"> 73/189</td><td class="num"> 66.29%</td><td class="left">'brynn'</td></tr>
-    <tr><td class="num"> 699/1045</td><td class="num">118/189</td><td class="num"> 66.21%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num"> 734/1045</td><td class="num"> 82/189</td><td class="num"> 66.13%</td><td class="left">'bojster'</td></tr>
     <tr><td class="num"> 782/1045</td><td class="num"> 33/189</td><td class="num"> 66.05%</td><td class="left">'Sim_Ed'</td></tr>
-    <tr><td class="num"> 716/1045</td><td class="num"> 90/189</td><td class="num"> 65.32%</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num"> 766/1045</td><td class="num"> 37/189</td><td class="num"> 65.07%</td><td class="left">'alfred69'</td></tr>
     <tr><td class="num"> 681/1045</td><td class="num"> 78/189</td><td class="num"> 61.51%</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num"> 659/1045</td><td class="num"> 95/189</td><td class="num"> 61.10%</td><td class="left">'Marc-Hendrik'</td></tr>
+    <tr><td class="num"> 649/1045</td><td class="num">101/189</td><td class="num"> 60.78%</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 633/1045</td><td class="num">110/189</td><td class="num"> 60.21%</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num"> 625/1045</td><td class="num">108/189</td><td class="num"> 59.40%</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 643/1045</td><td class="num"> 83/189</td><td class="num"> 58.83%</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 633/1045</td><td class="num"> 84/189</td><td class="num"> 58.10%</td><td class="left">'dpl'</td></tr>
     <tr><td class="num"> 714/1045</td><td class="num">  0/189</td><td class="num"> 57.86%</td><td class="left">'Gottseinsohn'</td></tr>
-    <tr><td class="num"> 625/1045</td><td class="num"> 82/189</td><td class="num"> 57.29%</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num"> 620/1045</td><td class="num"> 72/189</td><td class="num"> 56.08%</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num"> 636/1045</td><td class="num"> 55/189</td><td class="num"> 56.00%</td><td class="left">'fabian'</td></tr>
-    <tr><td class="num"> 612/1045</td><td class="num"> 70/189</td><td class="num"> 55.27%</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num"> 588/1045</td><td class="num"> 93/189</td><td class="num"> 55.19%</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 568/1045</td><td class="num">112/189</td><td class="num"> 55.11%</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 599/1045</td><td class="num"> 80/189</td><td class="num"> 55.02%</td><td class="left">'serpent'</td></tr>
     <tr><td class="num"> 634/1045</td><td class="num"> 43/189</td><td class="num"> 54.86%</td><td class="left">'Klaus'</td></tr>
-    <tr><td class="num"> 564/1045</td><td class="num">112/189</td><td class="num"> 54.78%</td><td class="left">'Mark P.'</td></tr>
-    <tr><td class="num"> 555/1045</td><td class="num">117/189</td><td class="num"> 54.46%</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num"> 557/1045</td><td class="num">117/189</td><td class="num"> 54.62%</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num"> 576/1045</td><td class="num"> 93/189</td><td class="num"> 54.21%</td><td class="left">'Guglielmo'</td></tr>
-    <tr><td class="num"> 570/1045</td><td class="num"> 83/189</td><td class="num"> 52.92%</td><td class="left">'Ludmian'</td></tr>
+    <tr><td class="num"> 565/1045</td><td class="num">100/189</td><td class="num"> 53.89%</td><td class="left">'Zekobah'</td></tr>
     <tr><td class="num"> 525/1045</td><td class="num"> 95/189</td><td class="num"> 50.24%</td><td class="left">'ShadowPhrogg32642342'</td></tr>
     <tr><td class="num"> 589/1045</td><td class="num"> 26/189</td><td class="num"> 49.84%</td><td class="left">'hdwow'</td></tr>
     <tr><td class="num"> 533/1045</td><td class="num"> 82/189</td><td class="num"> 49.84%</td><td class="left">'Wuzzy'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num">108/189</td><td class="num"> 49.76%</td><td class="left">'Agnieszka'</td></tr>
     <tr><td class="num"> 613/1045</td><td class="num">  0/189</td><td class="num"> 49.68%</td><td class="left">'Little_Mole'</td></tr>
+    <tr><td class="num"> 500/1045</td><td class="num"> 92/189</td><td class="num"> 47.97%</td><td class="left">'Kosby'</td></tr>
     <tr><td class="num"> 478/1045</td><td class="num">101/189</td><td class="num"> 46.92%</td><td class="left">'Austin'</td></tr>
-    <tr><td class="num"> 478/1045</td><td class="num"> 81/189</td><td class="num"> 45.30%</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 504/1045</td><td class="num"> 62/189</td><td class="num"> 45.87%</td><td class="left">'Hans-HD'</td></tr>
     <tr><td class="num"> 519/1045</td><td class="num"> 37/189</td><td class="num"> 45.06%</td><td class="left">'Valkyrie2'</td></tr>
     <tr><td class="num"> 516/1045</td><td class="num"> 24/189</td><td class="num"> 43.76%</td><td class="left">'niebie'</td></tr>
+    <tr><td class="num"> 467/1045</td><td class="num"> 63/189</td><td class="num"> 42.95%</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num"> 494/1045</td><td class="num"> 26/189</td><td class="num"> 42.14%</td><td class="left">'Daniel'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num"> 12/189</td><td class="num"> 41.98%</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num"> 503/1045</td><td class="num">  7/189</td><td class="num"> 41.33%</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num"> 419/1045</td><td class="num"> 59/189</td><td class="num"> 38.74%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 433/1045</td><td class="num"> 45/189</td><td class="num"> 38.74%</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 391/1045</td><td class="num"> 54/189</td><td class="num"> 36.06%</td><td class="left">'Tiza'</td></tr>
-    <tr><td class="num"> 439/1045</td><td class="num">  6/189</td><td class="num"> 36.06%</td><td class="left">'Vinksu'</td></tr>
+    <tr><td class="num"> 467/1045</td><td class="num">  6/189</td><td class="num"> 38.33%</td><td class="left">'Vinksu'</td></tr>
+    <tr><td class="num"> 438/1045</td><td class="num">  3/189</td><td class="num"> 35.74%</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 40/189</td><td class="num"> 35.01%</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 336/1045</td><td class="num"> 86/189</td><td class="num"> 34.20%</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num"> 397/1045</td><td class="num"> 24/189</td><td class="num"> 34.12%</td><td class="left">'Chocolate Zero'</td></tr>
-    <tr><td class="num"> 333/1045</td><td class="num"> 86/189</td><td class="num"> 33.95%</td><td class="left">'Emmanuel'</td></tr>
+    <tr><td class="num"> 368/1045</td><td class="num"> 44/189</td><td class="num"> 33.39%</td><td class="left">'Liam Sheehan'</td></tr>
     <tr><td class="num"> 376/1045</td><td class="num"> 35/189</td><td class="num"> 33.31%</td><td class="left">'Jeffrey S'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 12/189</td><td class="num"> 32.74%</td><td class="left">'NorthForty'</td></tr>
     <tr><td class="num"> 344/1045</td><td class="num"> 51/189</td><td class="num"> 32.01%</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num"> 382/1045</td><td class="num"> 10/189</td><td class="num"> 31.77%</td><td class="left">'J3FF'</td></tr>
     <tr><td class="num"> 335/1045</td><td class="num"> 50/189</td><td class="num"> 31.20%</td><td class="left">'Harry Lim'</td></tr>
-    <tr><td class="num"> 346/1045</td><td class="num"> 38/189</td><td class="num"> 31.12%</td><td class="left">'Liam Sheehan'</td></tr>
     <tr><td class="num"> 361/1045</td><td class="num"> 18/189</td><td class="num"> 30.71%</td><td class="left">'MicWa'</td></tr>
     <tr><td class="num"> 306/1045</td><td class="num"> 71/189</td><td class="num"> 30.55%</td><td class="left">'Davacardo'</td></tr>
-    <tr><td class="num"> 336/1045</td><td class="num"> 41/189</td><td class="num"> 30.55%</td><td class="left">'Antonio EE'</td></tr>
     <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
     <tr><td class="num"> 350/1045</td><td class="num"> 25/189</td><td class="num"> 30.39%</td><td class="left">'IntKecsk'</td></tr>
+    <tr><td class="num"> 323/1045</td><td class="num"> 52/189</td><td class="num"> 30.39%</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num"> 331/1045</td><td class="num"> 14/189</td><td class="num"> 27.96%</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 281/1045</td><td class="num"> 63/189</td><td class="num"> 27.88%</td><td class="left">'erich'</td></tr>
     <tr><td class="num"> 295/1045</td><td class="num"> 29/189</td><td class="num"> 26.26%</td><td class="left">'Tiger'</td></tr>
@@ -93,6 +100,7 @@
     <tr><td class="num"> 243/1045</td><td class="num"> 23/189</td><td class="num"> 21.56%</td><td class="left">'Snaily'</td></tr>
     <tr><td class="num"> 201/1045</td><td class="num"> 54/189</td><td class="num"> 20.66%</td><td class="left">'mhatta'</td></tr>
     <tr><td class="num"> 210/1045</td><td class="num"> 38/189</td><td class="num"> 20.10%</td><td class="left">'Sandra'</td></tr>
+    <tr><td class="num"> 220/1045</td><td class="num"> 25/189</td><td class="num"> 19.85%</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 208/1045</td><td class="num"> 33/189</td><td class="num"> 19.53%</td><td class="left">'Uli'</td></tr>
     <tr><td class="num"> 203/1045</td><td class="num"> 34/189</td><td class="num"> 19.21%</td><td class="left">'ntaeijr'</td></tr>
     <tr><td class="num"> 214/1045</td><td class="num"> 19/189</td><td class="num"> 18.88%</td><td class="left">'Adonica'</td></tr>
@@ -109,10 +117,11 @@
     <tr><td class="num"> 148/1045</td><td class="num">  5/189</td><td class="num"> 12.40%</td><td class="left">'Rugby4ever'</td></tr>
     <tr><td class="num"> 110/1045</td><td class="num"> 31/189</td><td class="num"> 11.43%</td><td class="left">'Cyphase'</td></tr>
     <tr><td class="num"> 124/1045</td><td class="num"> 15/189</td><td class="num"> 11.26%</td><td class="left">'Magnus and Susi'</td></tr>
-    <tr><td class="num"> 113/1045</td><td class="num"> 22/189</td><td class="num"> 10.94%</td><td class="left">'Mecki'</td></tr>
+    <tr><td class="num"> 114/1045</td><td class="num"> 23/189</td><td class="num"> 11.10%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 131/1045</td><td class="num">  1/189</td><td class="num"> 10.70%</td><td class="left">'Asbel'</td></tr>
     <tr><td class="num"> 105/1045</td><td class="num"> 22/189</td><td class="num"> 10.29%</td><td class="left">'Neophilus'</td></tr>
     <tr><td class="num"> 101/1045</td><td class="num">  0/189</td><td class="num">  8.18%</td><td class="left">'Alf'</td></tr>
+    <tr><td class="num">  75/1045</td><td class="num"> 12/189</td><td class="num">  7.05%</td><td class="left">'schmusi20'</td></tr>
     <tr><td class="num">  67/1045</td><td class="num"> 19/189</td><td class="num">  6.97%</td><td class="left">'Dvorhagen'</td></tr>
     <tr><td class="num">  57/1045</td><td class="num"> 26/189</td><td class="num">  6.73%</td><td class="left">'Meeve'</td></tr>
     <tr><td class="num">  64/1045</td><td class="num"> 16/189</td><td class="num">  6.48%</td><td class="left">'AQZ'</td></tr>

Modified: feature_branches/hp_lotm/input/table-wr.html
===================================================================
--- feature_branches/hp_lotm/input/table-wr.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/table-wr.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -1,52 +1,52 @@
   <table>
-    <caption>$$Worldrecord_Statistics$$ $$December$$ 2007</caption>
+    <caption>$$Worldrecord_Statistics$$ $$February$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">841</td><td class="num">264</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">238</td><td class="num">118</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">164</td><td class="num">132</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num"> 91</td><td class="num"> 53</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 77</td><td class="num"> 65</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 69</td><td class="num"> 58</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 40</td><td class="num"> 36</td><td class="left">'Django'</td></tr>
-    <tr><td class="num"> 37</td><td class="num"> 32</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num"> 36</td><td class="num"> 29</td><td class="left">'Alexandros'</td></tr>
-    <tr><td class="num"> 36</td><td class="num"> 33</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num"> 28</td><td class="num"> 26</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num"> 26</td><td class="num"> 18</td><td class="left">'Zekobah'</td></tr>
-    <tr><td class="num"> 23</td><td class="num"> 18</td><td class="left">'Ludmian'</td></tr>
+    <tr><td class="num">931</td><td class="num">260</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">202</td><td class="num">112</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">145</td><td class="num">128</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 77</td><td class="num"> 50</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 61</td><td class="num"> 55</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num"> 58</td><td class="num"> 55</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 57</td><td class="num"> 33</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num"> 41</td><td class="num"> 38</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 38</td><td class="num"> 31</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 36</td><td class="num"> 27</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 35</td><td class="num"> 29</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num"> 33</td><td class="num"> 31</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 27</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 23</td><td class="num"> 19</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 23</td><td class="num"> 20</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 23</td><td class="num"> 21</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num"> 22</td><td class="num">  9</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 22</td><td class="num"> 13</td><td class="left">'Emmanuel'</td></tr>
-    <tr><td class="num"> 20</td><td class="num">  4</td><td class="left">'ryujun'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 15</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 18</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num"> 18</td><td class="num"> 12</td><td class="left">'HuB34'</td></tr>
-    <tr><td class="num"> 13</td><td class="num">  5</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num"> 13</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
-    <tr><td class="num"> 13</td><td class="num">  9</td><td class="left">'B-Huff'</td></tr>
-    <tr><td class="num"> 10</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 15</td><td class="left">'Emmanuel'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 19</td><td class="left">'Safalra'</td></tr>
+    <tr><td class="num"> 18</td><td class="num">  8</td><td class="left">'ryujun'</td></tr>
+    <tr><td class="num"> 18</td><td class="num"> 16</td><td class="left">'B-Huff'</td></tr>
+    <tr><td class="num"> 17</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 17</td><td class="num"> 17</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 16</td><td class="left">'ABS'</td></tr>
+    <tr><td class="num"> 14</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 11</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
+    <tr><td class="num"> 11</td><td class="num">  9</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 10</td><td class="num">  6</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num"> 10</td><td class="num"> 10</td><td class="left">'fabian'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  3</td><td class="left">'Breezy'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  6</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  7</td><td class="left">'dpl' + 'Wuzzy'</td></tr>
-    <tr><td class="num">  7</td><td class="num">  5</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  6</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">  7</td><td class="num">  2</td><td class="left">'Breezy'</td></tr>
+    <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'dpl' + 'Edgar_Flesk'</td></tr>
     <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'para_doks'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  4</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Cyphase' + 'Thomas' + 'Chris' + 'Ralf'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo' + 'U-Punkt'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias' + 'Wuzzy'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Cyphase' + 'Thomas' + 'Chris' + 'Ralf'</td></tr>
     <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Bent' + 'Craven'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  3</td><td class="left">'Andy'</td></tr>
     <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Austin' + 'Stephanie'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Neophilus' + 'hendrik'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale' + 'Daniel'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'U-Punkt' + 'Vlad' + 'JuSt'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Drotten' + 'Sim_Ed' + 'Snaily' + 'Ingo' + 'serpent'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'ntaeijr' + 'dev0' + 'Alex' + 'shoki' + 'Gorn' + 'Ant' + 'Melanie' + 'IChrisI' + 'Nat'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'Tiger' + 'Zak' + 'Tiza' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'jdcampo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vaily' + 'Meeve' + 'krazy62'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'Mecki' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'Magnus and Susi' + 'WP319' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'mhatta' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Stephanie' + 'Daisy'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Neophilus' + 'Andy'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'mrduke' + 'Daniel' + 'oblo'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Drotten' + 'Sim_Ed' + 'hendrik' + 'Austin' + 'Snaily' + 'Ingo' + 'serpent'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Gorn' + 'Nat'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'ntaeijr' + 'Tiger' + 'Zak' + 'Tiza' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'jdcampo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Vaily' + 'Hans-HD' + 'krazy62' + 'JuSt'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'Miel56' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Little_Mole' + 'Harry Lim' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'shoki' + 'jojo' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'mecke' + 'Dvorhagen' + 'Antonio EE' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
   </table>

Modified: feature_branches/hp_lotm/input/userlist.html
===================================================================
--- feature_branches/hp_lotm/input/userlist.html	2008-03-24 02:01:53 UTC (rev 1083)
+++ feature_branches/hp_lotm/input/userlist.html	2008-03-28 14:05:51 UTC (rev 1084)
@@ -14,6 +14,7 @@
     <li>alfred69</li>
     <li>Andreas</li>
     <li>Andy</li>
+    <li>Angolino</li>
     <li>Ant</li>
     <li>Antonio EE</li>
     <li>AQZ</li>
@@ -32,6 +33,7 @@
     <li>Chris</li>
     <li>Craven</li>
     <li>Cyphase</li>
+    <li>Daisy</li>
     <li>Daniel</li>
     <li>Davacardo</li>
     <li>daydreamer</li>
@@ -53,6 +55,7 @@
     <li>Gottseinsohn</li>
     <li>Great Scott</li>
     <li>Guglielmo</li>
+    <li>Hans-HD</li>
     <li>Harry Lim</li>
     <li>hdwow</li>
     <li>hendrik</li>
@@ -71,16 +74,20 @@
     <li>Joona</li>
     <li>joseba</li>
     <li>JuSt</li>
+    <li>Kevin</li>
     <li>Klaus</li>
+    <li>Kosby</li>
     <li>krazy62</li>
     <li>Liam Sheehan</li>
     <li>Little_Mole</li>
     <li>Ludmian</li>
     <li>Lukas</li>
     <li>Magnus and Susi</li>
+    <li>Malla</li>
     <li>Marc-Hendrik</li>
     <li>Mark P.</li>
     <li>Markus</li>
+    <li>mecke</li>
     <li>Mecki</li>
     <li>Meeve</li>
     <li>Melanie</li>
@@ -97,6 +104,7 @@
     <li>niebie</li>
     <li>NorthForty</li>
     <li>ntaeijr</li>
+    <li>oblo</li>
     <li>para_doks</li>
     <li>Ralf</li>
     <li>Raoul</li>
@@ -107,6 +115,7 @@
     <li>Safalra</li>
     <li>Samuel</li>
     <li>Sandra</li>
+    <li>schmusi20</li>
     <li>serpent</li>
     <li>ShadowPhrogg32642342</li>
     <li>shoki</li>



From ral at mail.berlios.de  Sun Mar 30 14:20:37 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 30 Mar 2008 14:20:37 +0200
Subject: [Enigma-game-svn] r1085 - in trunk: data data/schemas src src/stones
Message-ID: <200803301220.m2UCKbQJ002147@sheep.berlios.de>

Author: ral
Date: 2008-03-30 14:20:35 +0200 (Sun, 30 Mar 2008)
New Revision: 1085

Added:
   trunk/src/stones/MonoFlopStone.cc
   trunk/src/stones/MonoFlopStone.hh
Removed:
   trunk/src/st_switches.cc
Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones/LaserSwitch.cc
   trunk/src/stones/LaserSwitch.hh
Log:
Trunk 1.1: new API reengineering st-(laser)timeswitch
- st-lasertimeswitch as st_laserflop
- st-timeswitch as st_monoflop
- adjusted logic: both flops continue activity for interval after the
  last activation by laser or actor hit
- both flops made swappable
- attribute "delay" renamed to "interval"
- both flops respect snapshot principle on initialization
- both flops as StateObjects (state, toggle, signal support)
  - due to monoflop basic principle the flops can just be activated
- st_switches.cc eliminated

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/data/api1init.lua	2008-03-30 12:20:35 UTC (rev 1085)
@@ -72,6 +72,8 @@
     st_laser_e = "st-laser-e",
     st_laser_n = "st-laser-n",
     st_laserswitch = "st-laserswitch",
+    st_lasertimeswitch = "st-laserflop",
+    st_monoflop = "st-timeswitch",
     st_polarswitch = "st-polarswitch",
     st_oxyd = "st-oxyd",
     st_switch = "st-switch",
@@ -177,17 +179,9 @@
              _key = "oxydcolor"
 	 end
      end
---     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
---             or (_obj_name == "st-switch_white") 
---             or (_obj_name == "st-floppy") 
---             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
---             or (_obj_name == "it-magnet-off") or (_obj_name == "it-wormhole")
---             or (_obj_name == "it-wormhole-off") or (_obj_name == "st-laser")
---             or (_obj_name == "st-polarswitch") or (_obj_name == "st-timer") then
---         if key == "on" then
---	     _key = "state"   -- new attr name
---	 end
---     end
+     if key == "delay" then
+         _key = "interval"
+     end
      if key == "dir" or key == "direction" then
          _key = "orientation"
      end
@@ -245,17 +239,9 @@
 function enigma.GetAttrib(obj, key)
      local _key = key
      local _obj_name = enigma.GetKind(obj)
---     if (_obj_name == "st-switch") or (_obj_name == "st-switch_black")
---             or (_obj_name == "st-switch_white") 
---             or (_obj_name == "st-floppy")
---             or (_obj_name == "it-magnet") or (_obj_name == "it-magnet-on")
---             or (_obj_name == "it-magnet-off")  or (_obj_name == "it-wormhole")
---             or (_obj_name == "it-wormhole-off")  or (_obj_name == "st-laser")
---             or (_obj_name == "st-polarswitch")  or (_obj_name == "st-timer") then
---         if key == "on" then
---	     _key = "state"
---	     end
---     end
+     if key == "delay" then
+         _key = "interval"
+     end
      if key == "blackball" or key == "whiteball" then
          _key = "color"
      end

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/data/schemas/objects.xml	2008-03-30 12:20:35 UTC (rev 1085)
@@ -174,11 +174,21 @@
     <object name="st_laser_n">
       <attr name="orientation" value="3"/>
     </object>
+    <object name="st_laserflop">
+      <attr name="interval" default="1.8"/>
+      <msg name="on"/>
+      <msg name="signal"/>
+    </object>
     <object name="st_laserswitch">
       <attr name="state" rw="r"/>
       <msg name="_init"/>
       <msg name="_model_reanimated"/>
     </object>
+    <object name="st_monoflop">
+      <attr name="interval" default="1.8"/>
+      <msg name="on"/>
+      <msg name="signal"/>
+    </object>
     <object name="st_polarswitch">
       <msg name="on"/>
       <msg name="off"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/Makefile.am	2008-03-30 12:20:35 UTC (rev 1085)
@@ -123,7 +123,6 @@
 	stones_internal.hh 	\
 	stones_simple.cc 	\
 	stones_complex.cc  	\
-	st_switches.cc		\
 	Utf8ToXML.cc		\
 	Utf8ToXML.hh		\
 	util.cc 		\
@@ -215,6 +214,8 @@
 	stones/LaserStone.hh	\
 	stones/LaserSwitch.cc	\
 	stones/LaserSwitch.hh	\
+	stones/MonoFlopStone.cc	\
+	stones/MonoFlopStone.hh	\
 	stones/OxydStone.cc	\
 	stones/OxydStone.hh	\
 	stones/PolarSwitchStone.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/ox_extra.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -286,7 +286,7 @@
     "st-turnstile-w",    // OxydExtra stone 0xa1
     "st-turnstile-e",    // OxydExtra stone 0xa2
     UNUSED,              // OxydExtra stone 0xa3
-    "st-fakeoxyd",       // OxydExtra stone 0xa4
+    "st_laserflop_on",   // OxydExtra stone 0xa4
     UNUSED,              // OxydExtra stone 0xa5
     UNUSED,              // OxydExtra stone 0xa6
     UNUSED,              // OxydExtra stone 0xa7
@@ -334,9 +334,9 @@
     ITEMSPEC(it_coin1),                   // OxydExtra item 0x11
     ITEMSPEC(it_coin2),                   // OxydExtra item 0x12
     ITEMSPEC(it_coin4),                   // OxydExtra item 0x13
-    ITEMSPEC(it_MISSING),                 // OxydExtra item 0x14
-    ITEMSPEC(it_MISSING),                 // OxydExtra item 0x15
-    ITEMSPEC(it_key_a),                   // OxydExtra item 0x16
+    ITEMSPEC(it_key_a),                   // OxydExtra item 0x14
+    ITEMSPEC(it_key_b),                   // OxydExtra item 0x15
+    ITEMSPEC(it_key_c),                   // OxydExtra item 0x16
     ITEMSPEC(it_floppy),                  // OxydExtra item 0x17
     ITEMSPEC(it_UNUSED),                  // OxydExtra item 0x18
     ITEMSPEC(it_UNUSED),                  // OxydExtra item 0x19
@@ -380,6 +380,6 @@
     ITEMSPEC(it_UNUSED),                  // OxydExtra item 0x3f
     ITEMSPEC(it_trigger),                 // OxydExtra item 0x40
     ITEMSPEC(it_brush),                   // OxydExtra item 0x41
-    ITEMSPEC(it_MISSING),                 // OxydExtra item 0x42
+    ITEMSPEC(it_banana),                  // OxydExtra item 0x42
     // codes >= 0x43 are unused
 };

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/ox_magnum.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -171,7 +171,7 @@
     UNUSED,                     // OxydMagnum stone 0x2e
     "st_fourswitch",            // OxydMagnum stone 0x2f (Level 89 and 92)
     "st_key",                   // OxydMagnum stone 0x30
-    "st-floppy",                // OxydMagnum stone 0x31
+    "st_floppy",                // OxydMagnum stone 0x31
     "st-knight",                // OxydMagnum stone 0x32
     "st_fourswitch",            // OxydMagnum stone 0x33 (Level 51 and 100)
     "st-death",                 // OxydMagnum stone 0x34
@@ -232,7 +232,7 @@
     "st-thief",                 // OxydMagnum stone 0x6b
     "st-shogun-s",              // OxydMagnum stone 0x6c
     "st-stoneimpulse",          // OxydMagnum stone 0x6d
-    "st-lasertimeswitch",       // OxydMagnum stone 0x6e
+    "st_laserflop",             // OxydMagnum stone 0x6e
     "st-mail-n",                // OxydMagnum stone 0x6f
     "st-mail-w",                // OxydMagnum stone 0x70
     "st-mail-e",                // OxydMagnum stone 0x71
@@ -244,7 +244,7 @@
     UNUSED,                     // OxydMagnum stone 0x77
     "st-door-v-open",           // OxydMagnum stone 0x78 (st-door-h-open was wrong, look at level #32)
     UNUSED,                     // OxydMagnum stone 0x79
-    "st-timeswitch",            // OxydMagnum stone 0x7a (Level 66, this is a solid stone)
+    "st_laserflop_on",          // OxydMagnum stone 0x7a (Level 66, this is a solid stone)
     UNUSED,                     // OxydMagnum stone 0x7b
     UNUSED,                     // OxydMagnum stone 0x7c
     UNUSED,                     // OxydMagnum stone 0x7d

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/ox_oxyd1.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -262,7 +262,7 @@
     "st-thief",                 // Oxyd1 stone 0x6b
     "st-shogun-s",              // Oxyd1 stone 0x6c
     "st-stoneimpulse",          // Oxyd1 stone 0x6d
-    "st-lasertimeswitch",       // Oxyd1 stone 0x6e
+    "st_laserflop",             // Oxyd1 stone 0x6e
     "st-mail-n",                // Oxyd1 stone 0x6f
     "st-mail-w",                // Oxyd1 stone 0x70
     "st-mail-e",                // Oxyd1 stone 0x71
@@ -274,7 +274,7 @@
     "st-door-h-open",           // Oxyd1 stone 0x77
     "st-door-v-open",           // Oxyd1 stone 0x78
     UNUSED,                     // Oxyd1 stone 0x79
-    "st-timeswitch",            // Oxyd1 stone 0x7a (only used in level #23)
+    "st_laserflop_on",          // Oxyd1 stone 0x7a (only used in level #23)
     UNUSED,                     // Oxyd1 stone 0x7b
     UNUSED,                     // Oxyd1 stone 0x7c
     UNUSED,                     // Oxyd1 stone 0x7d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/ox_peroxyd.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -304,7 +304,7 @@
     "st-shogun-sl",             // PerOxyd stone 0x6b
     "st-shogun-sm",             // PerOxyd stone 0x6c
     "st-stoneimpulse",          // PerOxyd stone 0x6d
-    "st-lasertimeswitch",       // PerOxyd stone 0x6e
+    "st_laserflop",             // PerOxyd stone 0x6e
     "st-mail-n",                // PerOxyd stone 0x6f
     "st-mail-w",                // PerOxyd stone 0x70
     "st-mail-e",                // PerOxyd stone 0x71
@@ -358,7 +358,7 @@
     "st-turnstile-w",           // PerOxyd stone 0xa1
     "st-turnstile-e",           // PerOxyd stone 0xa2
     UNUSED,                     // PerOxyd stone 0xa3
-    "st-likeoxydc",             // PerOxyd stone 0xa4 laserswitch on
+    "st_laserflop_on",        // PerOxyd stone 0xa4 laserswitch on
     UNUSED,                     // PerOxyd stone 0xa5
     UNUSED,                     // PerOxyd stone 0xa6
     UNUSED,                     // PerOxyd stone 0xa7

Deleted: trunk/src/st_switches.cc
===================================================================
--- trunk/src/st_switches.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/st_switches.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -1,210 +0,0 @@
-/*
- * Copyright (C) 2002,2003,2004 Daniel Heck
- * Copyright (C) 2007 Ronald Lamprecht
- *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License
- * as published by the Free Software Foundation; either version 2
- * of the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License along
- * with this program; if not, write to the Free Software Foundation, Inc.,
- * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
- *
- */
-
-#include "errors.hh"
-#include "laser.hh"
-#include "player.hh"
-#include "server.hh"
-#include "Inventory.hh"
-#include "stones_internal.hh"
-
-using namespace std;
-
-namespace enigma {
-
-
-/* -------------------- Laser / Time switches -------------------- */
-
-namespace
-{
-    class LaserTimeSwitchBase : public PhotoStone, public TimeHandler {
-    public:
-        LaserTimeSwitchBase(const char *kind);
-        virtual ~LaserTimeSwitchBase();
-
-    private:
-        // LaserTimeSwitchBase interface
-        virtual const char *get_active_model() const   = 0;
-        virtual const char *get_inactive_model() const = 0;
-        virtual double timer_delay() const;
-
-        // Stone interface
-        void on_creation (GridPos p);
-        void on_removal (GridPos p);
-        const char *collision_sound() { return "metal"; }
-
-        // PhotoStone interface.
-        void notify_laseron();
-        void notify_laseroff();
-
-        // TimeHandler interface
-        void alarm();
-
-    protected:
-        // variables :
-        enum State { IDLE, LIGHTED, TOUCHED };
-        State state;
-
-        void change_state(State newstate);
-    };
-
-    class LaserTimeSwitch : public LaserTimeSwitchBase {
-        CLONEOBJ(LaserTimeSwitch);
-    public:
-        LaserTimeSwitch(const char *kind = "st-lasertimeswitch");
-    private:
-        // LaserTimeSwitchBase interface
-        const char *get_active_model() const;
-        const char *get_inactive_model() const;
-        double timer_delay() const;
-
-        // Stone interface
-        void actor_hit(const StoneContact &sc);
-    };
-
-    class TimeSwitch : public LaserTimeSwitch {
-        CLONEOBJ(TimeSwitch);
-    public:
-        TimeSwitch();
-    private:
-        // ignore laser:
-        void notify_laseron();
-        void notify_laseroff();
-    };
-}
-
-
-LaserTimeSwitchBase::LaserTimeSwitchBase(const char *kind)
-: PhotoStone(kind) , state(IDLE) 
-{}
-
-LaserTimeSwitchBase::~LaserTimeSwitchBase() {
-    GameTimer.remove_alarm (this);
-}
-
-void LaserTimeSwitchBase::change_state(State newstate) {
-    if (state == newstate)
-        return;
-
-    if (state == IDLE) {
-//         sound_event ("st-switch");
-        set_model(get_active_model());
-        performAction(true);
-        if (newstate == TOUCHED) {
-            double delay = timer_delay();
-            ASSERT(delay>0.0, XLevelRuntime, "LaserTimeSwitchBase: delay non-positive");
-            GameTimer.set_alarm(this, delay, false);
-        }
-    }
-    else if (newstate == IDLE) {
-//         sound_event ("st-switch");
-        set_model(get_inactive_model());
-        performAction(false);
-    }
-    else {
-        // it's not allowed to switch from LIGHTED to TOUCHED
-       ASSERT(!(state == LIGHTED && newstate == TOUCHED), XLevelRuntime,
-           "LaserTimeSwitchBase: trying to switch from lighted to touched");
-    }
-    state = newstate;
-}
-
-void LaserTimeSwitchBase::on_creation(GridPos) 
-{
-    set_model(get_inactive_model());
-    photo_activate();
-}
-
-void LaserTimeSwitchBase::on_removal(GridPos)
-{
-    photo_deactivate();
-}
-
-void LaserTimeSwitchBase::notify_laseron()  {
-    if (state != LIGHTED)
-        change_state(LIGHTED);
-}
-
-void LaserTimeSwitchBase::notify_laseroff() {
-    if (state == LIGHTED)
-        change_state(IDLE);
-}
-
-void LaserTimeSwitchBase::alarm() {
-    if (state == TOUCHED)
-        change_state(IDLE);
-}
-
-double LaserTimeSwitchBase::timer_delay() const {
-    return -1; // we have no timer delay
-}
-
-/* ---------- LaserTimeSwitch ---------- */
-
-LaserTimeSwitch::LaserTimeSwitch(const char *kind)
-    : LaserTimeSwitchBase(kind)
-{
-    setAttr("delay", 1.8);
-}
-
-const char *LaserTimeSwitch::get_active_model() const { 
-    return "st-time1switch"; 
-}
-
-const char *LaserTimeSwitch::get_inactive_model() const { 
-    return "st-timeswitch"; 
-}
-
-double LaserTimeSwitch::timer_delay() const {
-    if (Value v = getAttr("delay"))
-        return v;
-    else
-        ASSERT(0, XLevelRuntime, "LaserTimeSwitch: delay not properly defined");
-}
-
-void LaserTimeSwitch::actor_hit(const StoneContact &sc) {
-    if (sc.actor && state == IDLE)
-        change_state(TOUCHED);
-}
-
-/* ---------- TimeSwitch ---------- */
-
-// Attributes:
-//
-// :on              1 or 0
-// :target,action   as usual
-
-TimeSwitch::TimeSwitch()
-: LaserTimeSwitch("st-timeswitch")
-{
-}
-
-void TimeSwitch::notify_laseron()  {} // ignore laser
-void TimeSwitch::notify_laseroff() {}
-
-/* -------------------- Functions -------------------- */
-
-void InitSwitches()
-{
-    Register (new LaserTimeSwitch);
-    Register (new TimeSwitch);
-}
-
-} // namespace enigma

Modified: trunk/src/stones/LaserSwitch.cc
===================================================================
--- trunk/src/stones/LaserSwitch.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/stones/LaserSwitch.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -85,6 +85,10 @@
         }
     }
 
+    const char *LaserSwitch::collision_sound() {
+        return "metal";
+    }
+
     BOOT_REGISTER_START
         BootRegister(new LaserSwitch(), "st_laserswitch");
     BOOT_REGISTER_END

Modified: trunk/src/stones/LaserSwitch.hh
===================================================================
--- trunk/src/stones/LaserSwitch.hh	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/stones/LaserSwitch.hh	2008-03-30 12:20:35 UTC (rev 1085)
@@ -52,6 +52,9 @@
         virtual void init_model();
         virtual void on_creation(GridPos p);
         virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
+
+        // Stone interface
+        const char *collision_sound();
     };
 
 } // namespace enigma

Added: trunk/src/stones/MonoFlopStone.cc
===================================================================
--- trunk/src/stones/MonoFlopStone.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/stones/MonoFlopStone.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -0,0 +1,159 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/MonoFlopStone.hh"
+
+#include "errors.hh"
+#include "main.hh"
+#include "util.hh"
+#include "world.hh"
+
+namespace enigma {
+    
+    MonoFlopStone::MonoFlopStone(bool lightsensitive, bool isOn) : Stone("st_monoflop") {
+        if (lightsensitive)
+            objFlags |= OBJBIT_LASER;
+        state = isOn ? ON_PENDING : OFF_NEW;
+    }
+    
+    MonoFlopStone::~MonoFlopStone() {
+        GameTimer.remove_alarm(this);
+    }
+    
+    std::string MonoFlopStone::getClass() const {
+        return objFlags & OBJBIT_LASER ? "st_laserflop" : "st_monoflop";
+    }
+    
+    Value MonoFlopStone::message(const Message &m) {
+        if (m.message == "_model_reanimated") {
+            init_model();
+            return Value();
+        }
+        return Stone::message(m);
+    }
+    
+    int MonoFlopStone::externalState() const {
+        return (state <= OFF_NEW) ? 0 : 1;
+    }
+    
+    void MonoFlopStone::setState(int extState) {
+        if (isDisplayable()) { 
+            if (extState == 1) {
+                if (state == ON_TIMER) {
+                    // renew timer by first removing it
+                    GameTimer.remove_alarm(this);
+                    GameTimer.set_alarm(this, (double)getAttr("interval"), false);
+                } else if (state == OFF) {
+                    state = ON_TIMER;
+                    GameTimer.set_alarm(this, (double)getAttr("interval"), false);
+                    init_model();
+                    performAction(true);
+                }
+            }
+            // ignore requests on switch OFF
+        } else {
+            state = (extState == 0) ? OFF_NEW : ON_PENDING;
+        }
+    }
+    
+    void MonoFlopStone::init_model() {
+        set_model(state <= OFF_NEW ? "st-timeswitch" : "st-time1switch");
+    }
+    
+    void MonoFlopStone::on_creation (GridPos p) {
+        if (state == ON_PENDING) {
+            GameTimer.set_alarm(this, (double)getAttr("interval"), false);
+            state = ON_TIMER;
+            // no action
+        }
+        if (objFlags & OBJBIT_LASER) {
+            activatePhoto();
+            if (updateCurrentLightDirs() != NODIRBIT) {
+                switch (state) {
+                    case OFF :
+                        performAction(true);
+                        break;
+                    case OFF_NEW :
+                        // no action
+                        break;
+                    case ON_TIMER :
+                        GameTimer.remove_alarm(this);
+                        break;
+                    default :
+                        ASSERT(false, XLevelRuntime, ecl::strf("Monoflop set onto grid in illegal state %d", state).c_str());
+                }
+                state = ON_LASER;
+            }
+        }
+        if (state == OFF_NEW)
+            state = OFF;
+        Stone::on_creation(p);    // init the model
+    }
+    
+    void MonoFlopStone::on_removal(GridPos p) {
+        if (state == ON_LASER) {
+            // start final timer
+            state = ON_TIMER;
+            GameTimer.set_alarm(this, (double)getAttr("interval"), false);
+        }
+        Stone::on_removal(p);
+    }
+    
+    void MonoFlopStone::lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs) {
+        if (oldDirs == 0 && state != ON_LASER) {
+            // new light
+            int oldState = state;
+            if (state == ON_TIMER)
+                 GameTimer.remove_alarm(this);
+            state = ON_LASER;
+            init_model();
+            if (oldState == OFF)
+                performAction(true);
+        } else if (newDirs == 0) {
+            // light off
+            GameTimer.set_alarm(this, (double)getAttr("interval"), false);
+            state = ON_TIMER;
+        }
+    }
+        
+    const char *MonoFlopStone::collision_sound() {
+        return "metal";
+    }
+    
+    void MonoFlopStone::actor_hit(const StoneContact &sc) {
+        if (sc.actor) {
+            setState(1);
+        }
+    }
+    
+    void MonoFlopStone::alarm() {
+        state = OFF;
+        if (isDisplayable()) { 
+            init_model();
+        }
+        performAction(false);
+    }
+
+    BOOT_REGISTER_START
+        BootRegister(new MonoFlopStone(false, false), "st_monoflop");
+        BootRegister(new MonoFlopStone(true, false), "st_laserflop");
+        BootRegister(new MonoFlopStone(true, true), "st_laserflop_on");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/MonoFlopStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/MonoFlopStone.hh
===================================================================
--- trunk/src/stones/MonoFlopStone.hh	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/stones/MonoFlopStone.hh	2008-03-30 12:20:35 UTC (rev 1085)
@@ -0,0 +1,77 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef MONOFLOPSTONE_HH
+#define MONOFLOPSTONE_HH
+
+#include "stones.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     * 
+     * Note that a monoflop has to continue to run even if it is removed from the grid
+     * to support swapping. Thus the alarm has to removed on delete or destructor.
+     */
+    class MonoFlopStone : public Stone, public TimeHandler {
+        CLONEOBJ(MonoFlopStone);
+    private:
+        enum iState {
+            OFF,          ///< monoflop is inactive
+            OFF_NEW,      ///< monoflop that is new and shoud start in off state (needed to handle swap/laser)
+            ON_LASER,     ///< monoflop is permanent active due to light
+            ON_TIMER,     ///< monoflop is touched or light just switched off and active until timer goes off
+            ON_PENDING    ///< monoflop that should start on grid set
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_LASER   =  1<<24  ///< Object is laser light sensitive 
+        };
+
+    public:
+        MonoFlopStone(bool lightsensitive, bool isOn);
+        ~MonoFlopStone();
+
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void on_creation(GridPos p);
+        virtual void on_removal(GridPos p);
+        virtual void lightDirChanged(DirectionBits oldDirs, DirectionBits newDirs);
+        
+        // Stone interface
+        const char *collision_sound();
+        void actor_hit(const StoneContact &sc);
+        
+        // TimeHandler interface
+        virtual void alarm();
+
+    private:
+        void updateAlarm();
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/MonoFlopStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2008-03-28 14:05:51 UTC (rev 1084)
+++ trunk/src/stones.cc	2008-03-30 12:20:35 UTC (rev 1085)
@@ -986,8 +986,6 @@
 
 // --------------------------------------------------------------------------------
 
-extern void InitSwitches();
-
 void InitStones() {
 
     // Register(new ...);
@@ -1019,6 +1017,5 @@
     // Init stones from stones_simple.cc and stones_complex.cc:
     Init_simple();
     Init_complex();
-    InitSwitches();
 }
 } // namespace enigma



From ral at mail.berlios.de  Sun Mar 30 20:37:13 2008
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 30 Mar 2008 20:37:13 +0200
Subject: [Enigma-game-svn] r1086 - team_levelpacks/team_test_new_api
Message-ID: <200803301837.m2UIbD2L031426@sheep.berlios.de>

Author: ral
Date: 2008-03-30 20:37:12 +0200 (Sun, 30 Mar 2008)
New Revision: 1086

Modified:
   team_levelpacks/team_test_new_api/ralT024_1.xml
   team_levelpacks/team_test_new_api/ralT039_1.xml
Log:
Test Level new API:
- added laserflop tests to laserswitch testlevel


Modified: team_levelpacks/team_test_new_api/ralT024_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT024_1.xml	2008-03-30 12:20:35 UTC (rev 1085)
+++ team_levelpacks/team_test_new_api/ralT024_1.xml	2008-03-30 18:37:12 UTC (rev 1086)
@@ -26,8 +26,8 @@
 ti["D"] = {"st-door-v", "door1"}
 ti["d"] = {"st-door-v", "door2"}
 
-ti["L"] = {"st-laserswitch", target="door1", action="signal"}
-ti["I"] = {"st-laserswitch", inverse=true, target="door2", action="signal"}
+ti["L"] = {"st_laserswitch", target="door1", action="signal"}
+ti["I"] = {"st_laserswitch", inverse=true, target="door2", action="signal"}
 ti["E"] = {"st_laser", "laser"}
 ti["M"] = {"st-mirror-p|"}
 ti["e"] = {"st_switch", target="laser", action="toggle"}

Modified: team_levelpacks/team_test_new_api/ralT039_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-30 12:20:35 UTC (rev 1085)
+++ team_levelpacks/team_test_new_api/ralT039_1.xml	2008-03-30 18:37:12 UTC (rev 1086)
@@ -31,6 +31,13 @@
 ti["w"] = {"st_switch", target="LaserL"}
 ti["K"] = {"st_laser_n", "LaserK"}
 
+ti["d"] = {"st_laserflop", target="LaserD"}
+ti["E"] = {"st_laser_n", "LaserE"}
+ti["e"] = {"st_switch", target="LaserE"}
+ti["D"] = {"st_laser_n", "LaserD"}
+
+ti["f"] = {"st_monoflop"}
+
 ti["m"] = {"st_laserswitch", target="LaserM"}
 ti["M"] = {"st_laser_w", "LaserM", state=ON}
 
@@ -46,16 +53,16 @@
 
 w, h = wo(ti, " ", {
 "                    ",
-"              sk   K",
+"             K   D  ",
 "     W              ",
-"  m     M     wL    ",
+"  m     M   sk  sd  ",
 "                    ",
-"          A         ",
+"          A wL  eE  ",
 "        o           ",
 "  n     N           ",
+"               sf   ",
 "                    ",
 "                    ",
-"                    ",
 "           Qq     R ",
 "           P        "
 })



From andreasl at mail.berlios.de  Sun Mar 30 21:59:39 2008
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Sun, 30 Mar 2008 21:59:39 +0200
Subject: [Enigma-game-svn] r1087 - in feature_branches/hp_lotm: .
	images/lotm input/lotm
Message-ID: <200803301959.m2UJxdEB005998@sheep.berlios.de>

Author: andreasl
Date: 2008-03-30 21:59:31 +0200 (Sun, 30 Mar 2008)
New Revision: 1087

Added:
   feature_branches/hp_lotm/images/lotm/lotm_200804.png
   feature_branches/hp_lotm/images/lotm/lotm_200804_a.png
   feature_branches/hp_lotm/images/lotm/lotm_200804_b.png
   feature_branches/hp_lotm/images/lotm/lotm_200804_c.png
   feature_branches/hp_lotm/input/lotm/lotm_200804.html
   feature_branches/hp_lotm/input/lotm/lotm_200804_de.html
Modified:
   feature_branches/hp_lotm/enigma.css
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
Log:
LotM April 2008:
 - English and German article, English partially proofread.
Todo:
 - Possibly more comments.
 - English Proofread of the gamer's and author's comments.
 - Russian translation.


Modified: feature_branches/hp_lotm/enigma.css
===================================================================
--- feature_branches/hp_lotm/enigma.css	2008-03-30 18:37:12 UTC (rev 1086)
+++ feature_branches/hp_lotm/enigma.css	2008-03-30 19:59:31 UTC (rev 1087)
@@ -455,6 +455,13 @@
     font-size: 90%;
 }
 
+.lotm .alter {
+    color: #eeeeee;
+    font-weight: bold;
+    font-style: italic;
+    background-color: #aaaaaa;
+}
+
 .credits table td {
     padding-right: 1em;
 }

Added: feature_branches/hp_lotm/images/lotm/lotm_200804.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200804.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200804_a.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200804_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200804_b.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200804_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/lotm/lotm_200804_c.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/lotm/lotm_200804_c.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/input/lotm/lotm_200804.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200804.html	2008-03-30 18:37:12 UTC (rev 1086)
+++ feature_branches/hp_lotm/input/lotm/lotm_200804.html	2008-03-30 19:59:31 UTC (rev 1087)
@@ -0,0 +1,303 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">April 2008: </span>
+    &quot;Turnstiles for Two - Rhapsody on Turnstiles in Blue and Green&quot; by Ronald Lamprecht
+  </h3>
+
+<p>
+The world of the &quot;black ball&quot; has lots of facets; races,
+meditating, visiting temples and mazes, deciphering, space adventures, alone or
+as a twosome, we're even blessed with nightmares, to name a few. But
+what's about the world of music? Not that much? Not at all. But even if no
+catchy tune reveals itself easily to us we can come up with a
+rhapsody.
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_a.png" alt="of the Month" border="0">
+<div class="imagetitle">Enigma VI # 77</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Some records of February 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+<tr><td class="num">9:30</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">10:04</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">10:43</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">16:03</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">16:36</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">16:47</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">21:19</td>
+        <td class="left">para_doks</td></tr>
+</table>
+
+<p></p>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Easy Mode</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">8:11</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">10:40</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">12:29</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">13:04</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">14:46</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">17:47</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">18:42</td>
+        <td class="left">Daisy</td></tr>
+</table>
+
+
+<p>
+<span class="alter">
+Pupil: &quot;A what?&quot;<br>
+Schoolmaster <i>(speaking demurely while raising his finger)</i>:
+&quot;Once again, not paying attention during music class?&quot;<br>
+Pupil </i>(sheepishly with lowered head, but rolliing his eyes)</i>: &quot;I'm
+afraid, I don't remember this.&quot;<br>
+Schoolmaster <i>(patronizingly (what else), pacing up and down)</i>:
+&quot;Very
+well then, again. A rhapsody is a piece of music, with themes that are not
+rigidly, but loosley associated. Furthermore, they need not, but
+rather can&mdash;a small, but subtle difference <i>(pupil rolls
+with eyes again, getting bored more and more)</i>&mdash;be composed of motifs
+which are not linked to each other, or even based on each other 
+&hellip;&quot;<br>
+Pupil <i>(finally switching off, muttering to himself)</i>: &quot;Blah, blah,
+blah&hellip;&quot;
+</span>
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_b.png" alt="Level des Monats 04/2008" border="0">
+<div class="imagetitle">A solo in a duet</div>
+</div>
+
+<p>
+<span class="alter">
+Oh no! Let's swiftly leave this horrible place and return to much more
+pleasant things.
+</span>
+Hey, that's my text. Get out.<br>
+<span class="alter">But, I&hellip;</span><br>
+No &quot;but&quot;.<br>
+&hellip;<br>
+Okay, he's gone.
+</p>
+
+<p>Well, turnstiles &hellip; it's a difficult story. You can not
+only transport yourself over water, but the other marble as well. However, it
+may happen that the other one can't return without some help. <br>
+Actually, maybe I'll bring
+him back later; after all, if you remove the blather, what he said is not
+incorrect. The subtitle is quite apt.
+</p>
+
+<p>
+So, let's see and listen to what our two musicians have to offer. The beginning
+is quite relaxed. In the initial chords, one sets the tune, and the other
+one follows. But now our two musicians approach the central motif. Each one
+chooses his own musical way, supported by the other. Two threads of suspension,
+individually enriched with smaller soli, reach toward the central motif. Our two
+marbles don't stay there for long, but introduce the remaining themes of their
+rhapsody: a short solo, an interesting and tasty intermezzo and last but not
+least the technically most ambitious part of their recital, a melody peppered
+with lots of sharps, which requires the most concentration and precision
+from both sides.
+</p>
+
+
+<div class="quote">I was glad to be asked to comment on &quot;Turnstiles for Two&quot; not only
+because of my life in music, but because it's actually my favorite
+&quot;Teamplay Level&quot; in Enigma. I know that Ronald intended it as a
+Rhapsody, and the description seems apt, but this level brings to
+my mind something quite a bit older. Lately, I've been rediscovering
+Bach's 2-part Inventions, and these make a fine analogy to what Ronald
+has created.</div>
+
+<div class="quote">In Bach, the two hands play interrelated, contrapuntal melodies - each
+hand is limited by its range, just as the white and black marble here
+have limits on what they can and can't do - where they can and can't go.
+Together the two melodic lines create a harmonic progression as they
+wend their way independently through the piece. And if you manage to
+make it through some technically treacherous, but gorgeous music,
+there's more often than not a very satisfying major chord awaiting you
+in the final bar.</div>
+
+<div class="quote">One thing I appreciate about Ronald's levels is his devotion to fully
+exploring new elements to the game or finding new uses for these. This
+level is a wonderful exploration of the attributes of the green
+turnstile. Almost every action requires both marbles to work together.
+Ronald has also made the level more challenging (and also more fun)
+by setting it up so that the maximum number of corresponding oxyds
+among the top four is one pair.</div>
+
+<div class="quote">No matter what, you're going to have to negotiate your way back to the
+top and then down again to finish up. The biggest challenge for me is
+the cluster of 4 oxyds in the middle of the water in the center of the
+bottom part of the level - it's really tricky to avoid knocking one or
+the other of the marbles in, and then, you have to start over again.</div>
+
+<div class="quote">One other very appealing aspect to &quot;Turnstiles for Two&quot; is that the
+level is gorgeous to look at. You might as well be vacationing in the
+Greek isles with all the aqua and white. Congratulations to Ronald for
+such an enjoyable Enigma experience!</div>
+
+<div class="author">Taztunes</div>
+
+<p>
+Now, after all motifs are presented, our two musicians will resolve them
+stylistically with confidence. They often return to the
+central motif, skillfully varying it. We approach the finale, in which one of
+them once again presents mastery of his instrument. The audience acknowledges
+our two musicians with well-earned applause as they leave the stage. What
+a fantastic show!
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_c.png" alt="Level des Monats 04/2008" border="0">
+<div class="imagetitle">
+Life in Concert: &quot;The Be Sharps&quot;
+</div>
+</div>
+
+<p>
+But to reach concert level, lots of practice is needed; because mistakes will be
+unforgivingly punished: One starts anew at the beginning. Carelessness
+(declining concentration or missing anticipation) at strategic positions like
+the central motif, has disastrous effects (Shift-F3).
+</p>
+
+<p>
+<span class="alter">As I always say,<br>practice makes
+perfect.</span><br>
+&quot;Hey you! Keep it down! Save your bathetic platitudes.&quot;</p>
+
+<p>Yet, he's right. How often
+did I involuntarily jump into the cold water at the 'sharp'? Be it from a lack
+in precision or from forgetting to switch to the other marble&mdash;who knows
+why. Hence: Relax, keep calm and don't act rashly. All caffeine junkies
+among us (like myself) should prepare by reducing their coffee consumption. And
+to get a steady hand, maybe have a glass vin rouge ;-).
+</p>
+
+<p>
+The central motif costs some more nerves as well (no picture here, as we don't
+want to spoil too much). Your 'orchestration' of the 'instruments' has to be planned well
+and with foresight, if you don't want to spoil your way back to the the upper
+and lower motifs. If an 'instrument' isn't 'tuned' right, the traditional
+consequences (Shift-F3) inevitably arise.
+</p>
+
+<p>
+The level is very appealing, thanks to the use of a white and a black
+marble. Each of them has areas, which are mutually inaccessible,
+but require the other marble's cooperation to reach them (like
+e.g. the 'sharp').
+</p>
+
+<p>
+Well now, gamers, tune your 'instruments' and get ready for the downbeat of
+your duet.
+</p>
+
+<p>
+As a tiny dissonance I mention the vortex; as it's not compulsory to use
+it. But maybe I didn't comprehend the composition in its complete entirety.
+So I'll simply reemerge back into the world of Enigma's sounds with greatest
+indulgence.
+</p>
+
+
+<div class="quote">It may sound crazy, but &quot;Turnstiles for Two&quot; is a commissioned work. In 
+the aftermath of release 1.00 we received reports about spurious crash 
+problems with turnstile levels. While debugging the turnstile code the 
+green turnstiles attracted my attention. There had just been one level 
+that made use of it - &quot;Zig Zag&quot;, and it made just indirect usage of it. 
+I questioned the existence of this variation with all the extracode that 
+it caused. But after a short time I found a first direct usage pattern 
+for a one marble level resulting in the level &quot;Revolver&quot; in mid February 
+2007.</div>
+ 
+<div class="quote">But I expected the real value of the green turnstile to show up in multi 
+marble levels. Thus I claimed on March 13th that we should write an 
+introductionary level for green turnstiles that should demo some useful 
+patterns. Two days later I tried to write this level. After three hours 
+of work I had finished two new levels, &quot;Cold Meditation&quot; and &quot;Polar 
+Bear's Paradise&quot;. Next day Andreas desperatly asked if &quot;Cold Meditation&quot; 
+should be the announced demo level.</div>
+
+<div class="quote">Of course not! I just had collected some patterns and got distracted by 
+other level ideas. But now I got the idea of a pattern arrangement and 
+with every pattern that I added to the level I found new green turnstile 
+patterns. Two funny evening sessions later &quot;Turnstiles for Two&quot; was ready 
+for a first shipment on the early hours of March 17th. The green 
+turnstile had prooven to be more valuable than I would ever had thought 
+it could be.</div>
+
+<div class="quote">On both evenings I interrupted my work looking for some inspiration. I 
+sat down at the piano and both times I started playing by heart one of 
+my favorite pieces - Gershwin's &quot;Rhapsody In Blue&quot;. It just did fit - 
+the various independent patterns to a common theme bound together by a 
+global frame, black and white, and additionally emotions like desire and indetermination. 
+In fact Gershwin did first name his piece &quot;Nocturne in Blue and Green&quot; 
+the colors standing for the emotions. With the green turnstiles being 
+the main subject I just had to subtitle my level &quot;Rhapsody on turnstiles 
+in blue and green&quot;.</div>
+
+<div class="quote">Several times users did express their astonishment about the time frame 
+in which I wrote some of my best levels. But that is the very nature of 
+creativity. You spend uncounted hours playing and developing Enigma and 
+suddenly you have the idea for a level. BTW Gershwin did wrote his 
+rhapsody in 24 days and nights! But he finished settling down his own 
+piano solo part months after the world premiere.</div>
+
+<div class="quote">&quot;Turnstiles for Two&quot; had not been finshed after two evenings, too. I 
+detected one subtle point, that I first did not know how to solve - a 
+fair, solvable oxyd distribution. Just shuffling all 16 oxyds does not 
+work. E.g. if all the upper oxyds build pairs there would be no reason 
+to return to the upper part later on. But it is a key point of the level 
+that you have to return to the upper part after investigation of the 
+lower part. Finally I wrote a small special Lua function that takes 
+appropriate influence on the oxyd distribution. But this problem of fair 
+oxyd distributions had now been set on Enigma's todo list. It has been a 
+month of work in October to find and code a general algorithm that
+solves this quite complex problem for all upcoming levels.</div>
+
+<div class="quote">Looking back after a year has gone I notice that the level became more 
+difficult than I planned it to be. Especially the easy mode should be 
+easier to solve, the vortex is unnecessary and the difficult mode should 
+force the player to use all different patterns instead of using the easy 
+mode ones. I increased the friction within the critical southern rosette 
+and simplified the central part for the easy mode. I hope that will give 
+more players a chance to enjoy the versatility of &quot;Turnstiles for Two&quot;.</div>
+
+<div class="quote">Thanks for the good ratings, and have fun!</div>
+
+<div class="author">Ronald Lamprecht</div>
+
+<p>
+Many thanks to Ronald Lamprecht for this musical masterpiece.
+</p>
+
+<p><i>NObby</i><p>
+

Added: feature_branches/hp_lotm/input/lotm/lotm_200804_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200804_de.html	2008-03-30 18:37:12 UTC (rev 1086)
+++ feature_branches/hp_lotm/input/lotm/lotm_200804_de.html	2008-03-30 19:59:31 UTC (rev 1087)
@@ -0,0 +1,311 @@
+<div class="lotm">
+$$lotm_header$$
+
+  <h3 class="lotm">
+    <span class="date">April 2008: </span>
+    &quot;Turnstiles for Two - Rhapsody on Turnstiles in Blue and Green&quot; by Ronald Lamprecht
+  </h3>
+
+<p>Die Welt der &quot;schwarzen Kugel&quot; kennt viele Facetten: Meditationen, 
+Besuche von Tempeln und Irrg&auml;rten, Dechiffrieren, Weltraumabenteuer, 
+allein oder zu zweit, sogar mit Albtr&auml;ume sind wir gesegnet, um nur 
+einiges zu nennen. Doch wie sieht es im Bereich der Musik aus? Nicht
+so toll? Mitnichten. Zwar gibt es keinen Ohrwurm, der sich einem einfach
+erschlie&szlig;t, daf&uuml;r k&ouml;nnen wir mit einer Rhapsodie aufwarten.</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_a.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Enigma VI # 77</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einige Rekorde vom Februar 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+<tr><td class="num">9:30</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">10:04</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">10:43</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">16:03</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">16:36</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">16:47</td>
+        <td class="left">Daisy</td></tr>
+    <tr><td class="num">21:19</td>
+        <td class="left">para_doks</td></tr>
+</table>
+
+<p></p>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einfacher Modus</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">8:11</td>
+        <td class="left">dev0</td></tr>
+    <tr><td class="num">10:40</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">12:29</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">13:04</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">14:46</td>
+        <td class="left">Craven</td></tr>
+    <tr><td class="num">17:47</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">18:42</td>
+        <td class="left">Daisy</td></tr>
+</table>
+
+<p>
+<span class="alter">
+Sch&uuml;ler: &quot;Einer was?&quot;<br>
+Oberlehrer (<i>mit erhobenem Zeigefinger und ernster Stimme</i>): 
+&quot;Mal wieder im Musikunterricht nicht aufgepasst?&quot;<br>
+Sch&uuml;ler (<i>kleinlaut mit geneigtem Kopf, aber Augen verdrehend</i>): 
+&quot;Muss ich wohl leider vergessen haben.&quot;<br>
+Oberlehrer (<i>g&ouml;nnerhaft (wie auch sonst?), auf- und abschreitend</i>): 
+&quot;Also nochmal. Eine Rhapsodie ist ein Musikst&uuml;ck, 
+dessen Themen zueinander in einem nicht festen - somit losen - 
+Zusammenhang stehen. Des Weiteren <i>m&uuml;ssen</i> diese nicht, sondern <i>k&ouml;nnen</i> 
+vielmehr - man beachte den kleinen, aber feinen Unterschied
+(<i>Sch&uuml;ler verdreht zunehmend gelangweilt erneut die Augen</i>) - 
+aus Motiven bestehen, die wiederum nicht zueinander in Verbindung stehen 
+bzw. aufeinander basieren oder gar &hellip; &quot;.<br>
+Sch&uuml;ler (<i>hat endg&uuml;ltig abgeschaltet und murmelt vor sich hin</i>): 
+&quot;Bla, bla, bla &hellip;&quot;
+</span>
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_b.png" alt="Level des Monats 04/2008" border="0">
+<div class="imagetitle">Ein Solo im Duett</div>
+</div>
+
+<p><span class="alter">&quot;Oh nein. Lasst uns geschwinden Schrittes diesen Ort des 
+Grauens verlassen und uns weit angenehmeren Dingen zuwenden.&quot;</span><br>
+&quot;He, das ist mein Text! Weg hier!&quot;<br>
+<span class="alter">Aber, mir &hellip;</span><br>
+&quot;Nix aber!&quot;<br>
+&hellip;<br>
+&quot;Geschafft! Der ist weg.&quot;</p> 
+
+<p>Tja, mit den Turnstiles ist das so eine Sache. Man 
+kann sich nicht nur selbst &uuml;bers Wasser transportieren sondern auch den 
+anderen. Allerdings kann es dann passieren, dass der andere ohne Hilfe 
+nicht mehr zur&uuml;ckkommen kann.<br> 
+&quot;Naja, vielleicht hole ich ihn sp&auml;ter wieder zur&uuml;ck; denn - streicht man
+das Ges&uuml;lze - hat der gar nicht so unrecht. Der Untertitel k&ouml;nnte kaum 
+besser gew&auml;hlt sein.&quot;</p>
+
+<p>Also schauen und h&ouml;ren wir uns an, was unsere zwei Musiker zu bieten haben. 
+Der Anfang ist noch ganz entspannt. In den ersten Akkorden gibt einer vor, 
+wo's lang geht und der andere folgt. Doch nun n&auml;hern sich unsere beiden 
+Musiker dem zentralen Motiv. Jeder w&auml;hlt dazu, mit Unterst&uuml;tzung des anderen, 
+seinen eigenen musikalischen Weg.</p> 
+
+<p>Zwei Spannungsb&ouml;gen, jeder individuell durch 
+kleinere Soli angereichert, ziehen sich hin zum zentralen Motiv. Unsere 
+beiden halten sich dort nicht lange auf, sondern stellen die anderen Motive 
+ihrer Rhapsodie vor: ein kleines Solo, ein interessantes, schmackhaftes 
+Intermezzo und nicht zuletzt der technisch schwierigste Teil ihres Vortrags, 
+eine mit Kreuzen gespickte Melodie, die von beiden Seiten h&ouml;chste Konzentration 
+und Pr&auml;zision erfordert.</p> 
+
+
+<div class="quote">Ich bin froh, dass man mich gefragt hat, einen Kommentar f&uuml;r 
+&quot;Turnstiles For Two&quot; zu schreiben, nicht nur weil ich in der Welt der 
+Musik zu Hause bin, sondern besonders weil dies unter den 
+&quot;Yin-Yang-Leveln&quot; in Enigma mein Lieblingslevel ist. Ich wei&szlig;, dass es
+Ronalds Absicht war, den Level als eine Rhapsodie anzulegen, und die
+Beschreibung hierf&uuml;r scheint passend zu sein, aber dieser Level l&auml;sst 
+etwas anderes vor meinem geistigen Auge auftauchen, das schon ein 
+gutes St&uuml;ck &auml;lter ist. Vor kurzem habe ich Bachs zweistimmige Inventionen
+wiederentdeckt, und diese stellen eine ausgezeichnete Analogie zu 
+Ronalds Sch&ouml;pfung dar.</div>
+
+<div class="quote">Bei Bach spielen beide H&auml;nde, in Wechselbeziehung zueinander stehend, 
+kontrapunktische Melodien. Jede Hand hat einen begrenzten Spielraum,
+genauso wie die wei&szlig;e und die schwarze Murmel hier strikte Beschr&auml;nkungen
+haben, was sie tun k&ouml;nnen und was nicht, und wohin sie gehen k&ouml;nnen und
+wohin nicht. Zusammen bilden die beiden Melodielinien eine harmonische
+Sequenz, w&auml;hrend sie sich unabh&auml;ngig voneinander ihren Weg durch das
+St&uuml;ck bahnen. Und wenn man es schafft, ein technisch ziemlich t&uuml;ckisches
+aber musikalisch wunderbares St&uuml;ck durchzuspielen, dann wird man im
+Schlusstakt sehr h&auml;ufig mit einem ausgesprochen zufriedenstellenden 
+Dur-Akkord belohnt.</div>
+
+<div class="quote">Ein Sache, die ich an Ronalds Leveln sehr sch&auml;tze, ist die Hingabe, mit
+der er neue Spielelemente in ihrem ganzen Funktionsumfang erschlie&szlig;t, 
+oder neue Anwendungsm&ouml;glichkeiten f&uuml;r bereits vorhandene aufzeigt.
+Dieser Level ist eine wundervolle Erkundundungsreise durch eine 
+Landschaft, in der man die verschiedenen Eigenarten der gr&uuml;nen 
+Turnstiles kennenlernt. Beinahe jede Aktion erfordert das Zusammenspiel
+der beiden Murmeln. Ronald hat au&szlig;erdem den Level dadurch schwieriger
+(aber auch unterhaltsamer) gemacht, dass er ihn so aufgebaut hat, dass
+die maximale Anzahl gleichfarbiger Oxyds bei den oberen vier ein Paar ist.</div>
+
+<div class="quote">Wie auch immer, der Spieler ist gezwungen, den R&uuml;ckweg nach oben zu
+meistern, und dann wieder nach unten zu gelangen, um das Spiel 
+erfolgreich zu beenden. Die gr&ouml;&szlig;te Schwierigkeit ist meiner Ansicht
+nach die Gruppierung von vier Oxyds mitten im Wasser im Zentrum des
+untersten Levelabschnitts - es ist hier wirklich schwierig zu vermeiden, 
+dass eine der beiden Murmeln ins Wasser f&auml;llt, und dann, kann man wieder
+ganz von vorne anfangen.</div>
+
+<div class="quote">Ein anderer, &auml;usserst reizvoller Aspekt an &quot;Turnstiles For Two&quot; ist, 
+dass der Level einfach einen prachtvollen Anblick bietet. Mit all dem 
+Wasser und den hellen T&ouml;nen hat man das Gef&uuml;hl, als sei man auf einer 
+Urlaubsreise auf den griechischen Inseln unterwegs. Gl&uuml;ckwunsch an 
+Ronald f&uuml;r solch eine erfreuliche Enigma Erfahrung!</div>
+
+<div class="author">Taztunes</div>
+
+<p>Nun da alle Motive vorgestellt sind, werden diese 
+von unseren beiden Musikern stilsicher und in bester Spiellaune aufgel&ouml;st, 
+wobei sie immer wieder zum zentralen Motiv, das sie gekonnt variieren, 
+zur&uuml;ckkehren. Wir n&auml;hern uns dem Finale, in dem einer der beiden noch einmal 
+sein K&ouml;nnen an einem seiner Instrumente zeigt. Unter dem geb&uuml;hrenden Applaus 
+des Publikums verlassen unsere beiden Musiker die B&uuml;hne. Was f&uuml;r eine tolle
+Darbietung!</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/lotm/lotm_200804_c.png" alt="Level des Monats 04/2008" border="0">
+<div class="imagetitle">
+Endlich, das Lifekonzert: <br>&quot;The Be Sharps&quot;
+</div>
+</div>
+
+<p>Doch um die Konzertreife zu erreichen, ist einiges an &Uuml;bung n&ouml;tig, denn 
+Fehler werden unnachsichtig bestraft: Man f&auml;ngt wieder am Anfang an. 
+Unachtsamkeiten (nachlassende Konzentration oder fehlende Antizipation) an 
+strategischen Stellen wie dem zentralen Motiv wirken sich dann sp&auml;ter 
+verheerend (Shift-F3) aus.</p>
+
+<p><span class="alter">Sage ich doch immerfort:<br> Nur &Uuml;bung macht
+den Meister.</span><br>
+&quot;Ruhe da dr&uuml;ben! Und spar' dir deine abgedroschenen
+Alltagsweisheiten!&quot;</p>
+
+<p>Aber recht hat er schon. Wie oft bin ich am &quot;Kreuz&quot; unabsichtlich ins kalte Wasser 
+gesprungen? Sei's wegen mangelnder Pr&auml;zision oder weil ich - warum auch 
+immer - vergessen hatte, auf die andere Murmel umzuschalten. Also durchatmen, 
+Ruhe bewahren und nicht zu hektisch vorgehen. Die Koffeins&uuml;chtigen (so wie 
+ich) sollten zur Vorbereitung ihren Kaffeekonsum reduzieren und, um eine 
+ruhige Hand zu haben, vielleicht besser ein Glas Vin Rouge zu sich nehmen ;-).</p>
+
+<p>Einiges an Nerven kostet auch das zentrale Motiv (hier gibt's kein Bild - 
+denn zu viel soll hier nicht verraten werden). Der Einsatz der &quot;Instrumente&quot; 
+muss gut und vorausschauend geplant sein, will man sich nicht den R&uuml;ckweg 
+zu den oberen und unteren Motiven versperren. Ist ein &quot;Instrument&quot; nicht 
+richtig &quot;gestimmt&quot;, stellen sich die &uuml;blichen Konsequenzen (Shift-F3) 
+unumg&auml;nglich ein.</p>
+
+<p>Besonderen Reiz bekommt dieser Level auch durch den Einsatz einer wei&szlig;en 
+und schwarzen Murmel. So hat jede Bereiche, die nur ihr zug&auml;nglich sind, 
+aber ohne die aktive Zusammenarbeit der beiden sind diese nicht 
+erreichbar (wie z.B. beim &quot;Kreuz&quot;).</p>
+
+<p>Also Leute, rafft euch auf, stimmt eure &quot;Instrumente&quot; und legt los zur &quot;Session 
+f&uuml;r zwei&quot;.</p>
+
+<p>Als einen ganz kleinen Misston empfinde ich den Vortex, denn dieser wird 
+eigentlich nicht zwingend ben&ouml;tigt. Aber vielleicht habe ich die Komposition 
+nur noch nicht in ihrer kompletten G&auml;nze erfasst. Also werde ich einfach nochmal 
+voller Genuss in die Welt der Enigma-Kl&auml;nge eintauchen.</p>
+
+
+<div class="quote">Es mag verr&uuml;ckt klingen, aber &quot;Turnstiles for Two&quot; ist eine &quot;Auftragsarbeit&quot;.
+Im Zuge der Ver&ouml;ffentlichung von v1.00 erhielten wir Berichte &uuml;ber 
+Absturzprobleme, die scheinbar mit den Turnstiles zusammenhingen. 
+Beim Debuggen des Turnstile Codes zogen die gr&uuml;nen Turnstiles meine 
+Aufmerksamkeit an sich. Es gab bis dahin nur einen einzigen Level, der 
+Gebrauch von ihnen machte: &quot;Zig Zag&quot; - und dort kamen sie nur 
+indirekt zum Einsatz. Ich begann, die Existenzberechtigung dieser Variante
+in Frage zu stellen - mit all dem Extra-Code, den sie verursachte. Aber
+nach kurzer Zeit entdeckte ich ein erstes direkt anwendbares Muster f&uuml;r
+einen Level mit nur einer Murmel, was schlie&szlig;lich Mitte Februar 2007 
+zum Level &quot;Revolver&quot; f&uuml;hrte.</div> 
+
+<div class="quote">Aber meiner Ansicht nach musste der wahre Wert der gr&uuml;nen Turnstiles 
+erst in Multi-Murmel-Leveln erkennbar werden. Also habe ich am 
+13. M&auml;rz dazu aufgerufen, einen Einf&uuml;hrungslevel f&uuml;r gr&uuml;ne Turnstiles
+zu schreiben, der einige brauchbare Muster demonstrieren sollte. 
+Zwei Tage sp&auml;ter habe ich selbst versucht, einen solchen Level zu 
+verfassen. Nach drei Arbeitsstunden hatte ich zwei neue Level 
+fertiggestellt: &quot;Cold Meditation&quot; und &quot;Polar 
+Bear's Paradise&quot;. Am n&auml;chsten Tag hat Andreas verzweifelt bei mir
+angefragt, ob denn wirklich &quot;Cold Meditation&quot; der von mir 
+angek&uuml;ndigte Level sein solle.</div> 
+
+<div class="quote">Nat&uuml;rlich nicht! Ich hatte nur ein paar Muster gesammelt und war dabei 
+von Ideen f&uuml;r andere Level abgelenkt worden. Aber nun hatte ich eine 
+Idee f&uuml;r ein Arrangement verschiedener Muster, und mit jedem Muster,
+das ich zum Level hinzuf&uuml;gte, ergaben sich wieder neue Muster mit den 
+gr&uuml;nen Turnstiles. Zwei unterhaltsame Abend-Sessions sp&auml;ter - in den 
+fr&uuml;hen Morgenstunden des 17. M&auml;rz - war &quot;Turnstiles for Two&quot; 
+dann so weit f&uuml;r den ersten Versand. Die gr&uuml;nen Turnstiles hatten sich 
+als weitaus wertvoller erwiesen, als ich es jemals zu hoffen gewagt hatte!</div> 
+
+<div class="quote">Auf der Suche nach Inspirationen unterbrach ich an beiden Abenden meine 
+Arbeit. Beide Male setzte ich mich ans Klavier und begann aus dem Kopf 
+eines meiner Lieblingsst&uuml;cke zu spielen: Gershwins &quot;Rhapsodie In Blue&quot;.
+Es hat einfacht gepasst - die verschiedenen voneinander unabh&auml;ngigen 
+Muster zu einem gemeinsamen Thema, miteinander verbunden in einem 
+umfassenden Rahmen, schwarz und wei&szlig;, und zus&auml;tzlich Gef&uuml;hle
+wie Sehnsucht und Unbestimmtheit. In der Tat hat Gershwin sein St&uuml;ck zuerst &quot;Nocturne in Blue and Green&quot;genannt, wobei die Farben f&uuml;r die Gef&uuml;hle stehen. Da die gr&uuml;nen 
+Turnstiles der haupts&auml;chliche Anlass f&uuml;r den Level gewesen waren, 
+brauchte ich nur noch den Untertitel &quot;Rhapsody On Turnstiles In Blue And Green&quot;.
+hinzuzuf&uuml;gen.</div> 
+
+
+<div class="quote">Bereits mehrere Male haben einige User ihre Verwunderung zum Ausdruck
+gebracht &uuml;ber den Zeitrahmen, in dem ich einige meiner besten Level
+verfasst habe. Aber so ist nun einmal die Natur der Kreativit&auml;t. Man 
+verbringt unz&auml;hlige Stunden damit, Enigma zu spielen und weiterzuentwickeln,
+und auf einmal hat man die Idee f&uuml;r einen Level. BTW hat Gershwin seine 
+Rhapsodie in nur 24 Tagen und N&auml;chten komponiert! Aber er hat die Niederschrift
+seiner eigenen Klavierpartitur erst Monate nach der Weltpremiere fertig gestellt.</div> 
+
+<div class="quote">Genauso war auch &quot;Turnstiles for Two&quot; nicht nach zwei Abenden
+vollendet. Ich entdeckte einen feinen Punkt, f&uuml;r den ich zun&auml;chst keine 
+Patentrezept parat hatte: eine faire und auch l&ouml;sbare Verteilung der 
+Oxydfarben. Die Farbverteilung einfach per Zufallsgenerator vorzunehmen
+funktioniert nicht. Wenn z.B. alle oberen Oxyds miteinander Paare bilden,
+gibt es keinen Grund nach der Untersuchung des unteren Teils sp&auml;ter noch
+einmal zum oberen Teil zur&uuml;ckzukehren. Aber es ist nun einmal ein
+wesentlicher Punkt an dem Level, dass man zum oberen Teil zur&uuml;ckkehren
+MUSS nach der Untersuchung des unteren Teils. Schlie&szlig;lich habe 
+ich eine kleine Spezialfunktion geschrieben, die in angemessener Weise 
+Einfluss auf die Farbverteilung an die Oxyds nimmt. Aber dieses Problem
+fairer Oxydverteilung wurde daraufhin auf Enigmas Todo Liste gesetzt. 
+Es hat den ganzen Monat Oktober in Anspruch genommen, einen generellen
+Algorithmus zu finden und zu programmieren, der dieses ziemlich komplexe
+Problem auch f&uuml;r alle zuk&uuml;nftigen Level l&ouml;st.</div> 
+
+<div class="quote">Wenn ich jetzt, nachdem ein Jahr vergangen ist, auf den Level zur&uuml;ckblicke,
+f&auml;llt mir auf, dass er doch etwas schwieriger geraten ist, als ich das 
+urspr&uuml;nglich geplant hatte. Besonders der Einfache Modus sollte einfacher
+zu l&ouml;sen sein, der Vortex ist nicht notwendig und im Schwierigen Modus sollte
+der Spieler gezwungen sein, ALLE verschiedenen Muster zu verwenden anstatt
+nur diejenigen auch im Einfachen Modus erforderlichen. Ich habe die Reibung 
+innerhalb des kritischen Bereichs der s&uuml;dlichen Rosette erh&ouml;ht, und den 
+mittleren Abschnitt f&uuml;r den Einfachen Modus vereinfacht. Ich hoffe, dass
+gibt mehr Spielern die Chance, an der Vielseitigkeit der &quot;Turnstiles for Two&quot; 
+Gefallen zu finden.</div> 
+
+<div class="quote">Vielen Dank f&uuml;r die guten Bewertungen, und viel Spass beim Spielen!</div> 
+
+<div class="author">Ronald Lamprecht</div> 
+
+<p>Vielen Dank an Ronald Lamprecht f&uuml;r dieses musikalische Meisterwerk.</p>
+
+<p><i>NObby</i></p>
+

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2008-03-30 18:37:12 UTC (rev 1086)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2008-03-30 19:59:31 UTC (rev 1087)
@@ -112,6 +112,15 @@
   position_num   = "5045"
 }
 
+lotm_archive_data[13] = {
+  date           = { month = 4, year = 2008 },
+  chronological  = 13,
+  name           = "Turnstiles for Two",
+  author         = "Ronald Lamprecht",
+  position       = "VI/77",
+  position_num   = "6077"
+}
+
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
@@ -126,11 +135,12 @@
 lotm_rating(      "Big Adventures",  8.39,  23,  "")
 lotm_rating(      "Temple of Gold",  9.17,   6,  "")
 lotm_rating(      "Puzzle Puzzles",  8.83,   6,  "")
-lotm_rating(      "Psycho Pushing",  8.38,   8,  "<b>(newcomer)</b>")
+lotm_rating(      "Psycho Pushing",  8.38,   8,  "")
+lotm_rating(  "Turnstiles for Two",  9.00,   5,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 
-lotm_archive_data_from = { month = 1, year = 2008 }
+lotm_archive_data_from = { month = 2, year = 2008 }
 
 lotm_current = lotm_archive_data[table.getn(lotm_archive_data)]
 



From andreasl at mail.berlios.de  Mon Mar 31 21:27:11 2008
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Mon, 31 Mar 2008 21:27:11 +0200
Subject: [Enigma-game-svn] r1088 - in homepage: images/articles input
	input/articles
Message-ID: <200803311927.m2VJRBwF031231@sheep.berlios.de>

Author: andreasl
Date: 2008-03-31 21:27:00 +0200 (Mon, 31 Mar 2008)
New Revision: 1088

Added:
   homepage/images/articles/april_2008.png
   homepage/images/articles/april_2008_a.png
   homepage/images/articles/april_2008_b.png
   homepage/images/articles/april_2008_c.png
   homepage/images/articles/april_2008_d.png
   homepage/input/articles/april_2008.html
   homepage/input/articles/april_2008_de.html
Modified:
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/infobox_ru.html
   homepage/input/output-files.lua
Log:
Homepage:
 - Some additions of minor importance,
   already validated.
Todo:
 - Upload to nongnu.


Added: homepage/images/articles/april_2008.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/articles/april_2008.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/articles/april_2008_a.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/articles/april_2008_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/articles/april_2008_b.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/articles/april_2008_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/articles/april_2008_c.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/articles/april_2008_c.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/articles/april_2008_d.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/articles/april_2008_d.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/input/articles/april_2008.html
===================================================================
--- homepage/input/articles/april_2008.html	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/articles/april_2008.html	2008-03-31 19:27:00 UTC (rev 1088)
@@ -0,0 +1,243 @@
+<div class="lotm">
+$$lotm_header$$
+<h3 class="lotm">
+<span class="date">April 2008: </span>
+&quot;The Three Clouds&quot; by Kate Lever
+</h3>
+
+<p>This month we want to honor one of the great levels in Enigma, which
+sets completely new frontiers in level design and puzzle patterns, giving an
+impact of similar magnitude as &quot;Island Labyrinth&quot; for game play,
+&quot;The Aztec Temple&quot; for design and &quot;Houdini&quot; for
+originality. Still, this heavy packed and atmospherically dense level is
+accompanied by a fresh and airy look-and-feel, transported by its unique color
+design and plot. Welcome with us the Level of the Month April 2008: &quot;The
+Three Clouds&quot;!
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_a.png" alt="Level of the month" border="0">
+<div class="imagetitle">Enigma VII # 25 - The Three Clouds</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Some records of February 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">16:59</td>
+        <td class="left">Daniel</td></tr>
+    <tr><td class="num">17:01</td>
+        <td class="left">Poonam</td></tr>
+    <tr><td class="num">17:02</td>
+        <td class="left">muhli</td></tr>
+    <tr><td class="num">20:31</td>
+        <td class="left">Sashi</td></tr>
+    <tr><td class="num">21:45</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">21:58</td>
+        <td class="left">Pria</td></tr>
+    <tr><td class="num">25:53</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">27:00</td>
+        <td class="left">Anoop</td></tr>
+    <tr><td class="num">33:59</td>
+        <td class="left">Uma</td></tr>
+    <tr><td class="num">34:04</td>
+        <td class="left">KatLev</td></tr>
+    <tr><td class="num">34:04</td>
+        <td class="left">Andreas</td></tr>
+    <tr><td class="num">35:45</td>
+        <td class="left">Sandeep</td></tr>
+    <tr><td class="num">36:00</td>
+        <td class="left">Raoul</td></tr>
+    <tr><td class="num">38:23</td>
+        <td class="left">Nabendu</td></tr>
+    <tr><td class="num">42:09</td>
+        <td class="left">GheetN</td></tr>
+
+</table>
+<p>&quot;The Three Clouds&quot; was initially placed at the end of pack Enigma
+VII, but was lost during the hasty preparations for Enigma 1.01 by an incorrect
+count of the total level number. Still, it has been manually extracted from the
+development version by so many gamers, that we just didn't notice that it was
+missing; we were even able to calculate a user rating for it. We were shocked
+when we noticed that it was missing. Ironically, this happened while we wrote
+this article and tried to gather some gamer's comments. This way, we want to
+apologize for all inconveniences, you can finally download this fabulous level
+<a href="http://download.berlios.de/enigma-game/enigma_vii_add.zip">here</a>.
+Simply save the zip-file to your &quot;USERPATH/levels&quot; directory (then
+you'll find it in pack &quot;Enigma VII++&quot;), or unzip and move it to your 
+&quot;USERPATH/levels/auto&quot; directory, directory as described <a
+href="$$faq$$#s1q6">here</a>.
+</p>
+
+
+<h4>&quot;I immersed more into its lofty own world each time I played&quot;</h4>
+
+<div class="quote">
+When I first saw &quot;The Three Clouds&quot;, I thought 'what a crap, is this
+maze all I get?', pressed 'F4' and noticed that this was the last level in the
+pack. I started to play some other levels of packs VI and VII, and about two
+months later came back to &quot;Three Clouds&quot;, and somehow thought 'there
+must be more'. I rolled through the level, along the coasts of the three
+islands, and got immersed more into its lofty own world and heavenly design
+each time I played.
+</div>
+
+<div class="quote">
+I overall admire the phantastic colour design of this
+level. This combination of light blue and delicate blueish is the second most
+beautiful thing in Enigma's world I've ever seen. I can look at this lovely sight
+for hours completely forgetting about the rest of the world, including the mouse
+and the marble.
+</div>
+
+<div class="quote">
+What I like most of this level is its tranquility, static tranquility. There's
+no need for a hurry, you can see everything at any time and plan your next step
+with care. It's like it's frozen in time, and draws you into this actionfree
+world of highly diverse puzzles.
+</div>
+
+<div class="author">GheetN</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_d.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Horsing around</div>
+</div>
+
+<p>After racing through the first maze of evilly grinning knight guards, you
+soon arrive at the first real puzzle of this immense level, giving you a new
+impression on the use of lasers to handle turnstiles and seeds. Time runs, while
+you push the growing blocks into the T-shaped abyss at the left, but although
+time is pressing, during the game you actually don't feel pressed at all, the
+puzzle solves itself in some wierd, not easily explainable way. Of course, you
+have to retry several times. Playing &quot;The Sargasso Sea&quot; might help
+you to prepare for this part of the level.</p>
+
+<p>After leaving this vividly greenish part of &quot;The Three Clouds&quot; you
+finally stand at the coast-line of the first 'layer' of this level, on
+sea-level and three vortices before you. The previously collected hints are now
+of deep importance, as two of these vortices are merely traps. Quite evil
+traps, as they simply remove a single stone in the latter five-star-puzzle,
+making it impossible to solve it.</p>
+
+<h4>&quot;I was even a little bit angry that this level was absolutely
+okay&quot;</h4>
+
+<p>The next you see is the ice-ocean of the second layer, the dexterity part of
+the level.</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_c.png" alt="Level des Monats" border="0">
+<div class="imagetitle">The ice field</div>
+</div>
+
+<div class="quote">
+I first saw &quot;The Three Clouds&quot; on a screenshot of a friend who plays
+Enigma as well. He said, he uses a development version, and gave me a copy this
+level. I was amazed to see it, but uncertain whether this was okay, since I
+thought it might have some cause when the programmers removed it from the
+distribution. However, I played it, got addicted to it, and was even a little
+bit angry when I noticed that this level was absolutely okay. I thought, the
+programmers were hiding it from me. Now I know better. :-)
+</div>
+
+<div class="quote">
+I like the idea of several floors in a level. This one makes use of it, and the
+second and forth floor are my favorites! Oh, it reminds so much of my first
+trials on ice, it makes me cry. I skated a few inches, I hit the ice, I got
+floored, I got back on my skates, I skated a few inches, &hellip; always standing
+up, never giving up. Oh, those were the days.
+</div>
+
+<p>Indeed, the white flag has been a latter addition to this level, as we
+noticed it would be too difficult without.</p>
+
+<div class="quote">
+And then the puzzle on the final, fourth floor: Arranging movable death stones
+with some it-umbrella, just in time to lead the white marble and the rotor
+savely through this newly created maze. I always have to think of another game
+I played as a youth, &quot;Praztor II&quot; for the C64. Thank you for waking
+up this memory again!
+</div>
+
+<div class="quote">
+All in all, I think &quot;The Three Clouds&quot; is one of the Top-Ten levels
+in Enigma. Many thanks to you, keep on the good work!
+</div>
+
+<div class="author">Frank Muhlberg</div>
+
+<p>Rolling through the second maze, along those ever-changing walls of
+rotator stones, the dynamics of this wonderfully active level become once again
+obvious. Reaching the next switch of the thirteen accurately placed switches in
+this level breaks this level down into single pieces, providing a short rest
+during the race, which its puzzles are asking for.</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_b.png" alt="Level des Monats" border="0">
+<div class="imagetitle">&quot;Let's get outta here &hellip;&quot;</div>
+</div>
+
+<p>The most original puzzle of all might be the absolutely unforeseen twist
+concerning the it-booze and st-oneway. Although we don't want to spoil too
+much, I just want to give a small hint: Watch out for the rubberband! ;-)
+</p>
+
+<h4>&quot;I'm very fond of the number nine&quot;</h4>
+
+<p>The final puzzle-maze on the narrow, fifth layer, finally resembles all the
+ideas hovering through the level at times, and demands all nine tools you were
+supposed to collect during the game (Make sure not to forget the key, it's of
+high importance once you leave the mirror area, and you can't get back easily
+through with the spring). Here are Kate's thoughts on her level and this very
+particular part of it:</p>
+
+<div class="quote">
+The original idea to &quot;The Three Clouds&quot; arised from a dream I had in
+November 2006. It was a relatively scary dream, wood- and death-stones
+everywhere, and me in the middle trying to push my way free. Indeed, this
+became the inspiration for the death-stone maze, which was the first part I
+wrote for this level. Unfortunately, no further dreams helped me to design the
+rest of the level, but I soon got inspired during a flight from Seattle to
+Miami and wrote most puzzles during the next two days.
+</div>
+
+<div class="quote">
+Still, I'm not totally satisfied with each aspect of the level.
+I struggled with myself for a long time whether I should make use of the key in
+the last puzzle. Finally, I decided to do so, particularly to hold the number
+of nine tools. I'm very fond of the number nine, as it's my lucky number, and
+hope to see my level at position VII/99 in Enigma 1.1.
+</div>
+
+<div class="quote">
+I was already busy with other things again, when Daydreamer (two months after
+transmitting the 'final' version of &quot;The Three Clouds&quot;) finally
+pointed out some shortcut in the 5-star-puzzle. He used a remaining it-umbrella
+to get through the fire to the four-switch, which was solely meant as a
+regulative element in the level, not to be manipulated in any way. This was on
+the one side the cause for the addition of the second four-switch on this
+layer, but also the core-element for the small sokoban which follows the
+5-star-puzzle, which was new.
+</div>
+
+<div class="quote">
+I'm glad I was able to help you people with some level, and glad to see it's
+accepted by the gamers as worthwile addition to this otherwise great game.
+Thank you for allowing me to be part of it.
+</div>
+
+<div class="author">Kate Lever</div>
+
+<p>And thanks to you, Kate, for this mostly inspiring piece in our puzzle of
+Enigma's greatest levels, and for the way you make us smile with it!</p>
+
+<p>Best greets,<br>
+<i>Your Enigma Team</i></p>
+
+</div>
+

Added: homepage/input/articles/april_2008_de.html
===================================================================
--- homepage/input/articles/april_2008_de.html	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/articles/april_2008_de.html	2008-03-31 19:27:00 UTC (rev 1088)
@@ -0,0 +1,257 @@
+<div class="lotm">
+$$lotm_header$$
+<h3 class="lotm">
+<span class="date">April 2008: </span>
+&quot;The Three Clouds&quot; von Kate Lever
+</h3>
+
+<p>Diesen Monat wollen wir einen jener gro&szlig;en Levels in Enigma ehren, der
+v&ouml;llig neue Grenzen in Leveldesign und R&auml;tselmustern gesetzt hat, der einen
+Einfluss &auml;hnlicher Gr&ouml;&szlig;enordnung besitzt wie &quot;Island Labyrinth&quot; f&uuml;rs
+Gameplay, &quot;The Aztec Temple&quot; f&uuml;rs Design oder &quot;Houdini&quot; f&uuml;r
+die Originalit&auml;t. Dennoch ist dieser vollgepackte und atmosph&auml;risch dichte
+Level begleitet von einem frischen und luftigen Look-and-Feel, der von seiner
+einzigartigen Farbkombination und seinem Handlungsfaden herr&uuml;hrt. Hei&szlig;en wir
+ihn willkommen, den Level des Monats April 2008: &quot;The Three Clouds&quot;!
+</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_a.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Enigma VII # 25 - The Three Clouds</div>
+</div>
+
+<table cellpadding="0" cellspacing="1" class="statistics">
+<caption class="normalcaption">Einige Rekorde vom Februar 2008</caption>
+<colgroup>
+   <col width="80">
+   <col width="160">
+</colgroup>
+    <tr><td class="num">16:59</td>
+        <td class="left">Daniel</td></tr>
+    <tr><td class="num">17:01</td>
+        <td class="left">Poonam</td></tr>
+    <tr><td class="num">17:02</td>
+        <td class="left">muhli</td></tr>
+    <tr><td class="num">20:31</td>
+        <td class="left">Sashi</td></tr>
+    <tr><td class="num">21:45</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">21:58</td>
+        <td class="left">Pria</td></tr>
+    <tr><td class="num">25:53</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">27:00</td>
+        <td class="left">Anoop</td></tr>
+    <tr><td class="num">33:59</td>
+        <td class="left">Uma</td></tr>
+    <tr><td class="num">34:04</td>
+        <td class="left">KatLev</td></tr>
+    <tr><td class="num">34:04</td>
+        <td class="left">Andreas</td></tr>
+    <tr><td class="num">35:45</td>
+        <td class="left">Sandeep</td></tr>
+    <tr><td class="num">36:00</td>
+        <td class="left">Raoul</td></tr>
+    <tr><td class="num">38:23</td>
+        <td class="left">Nabendu</td></tr>
+    <tr><td class="num">42:09</td>
+        <td class="left">GheetN</td></tr>
+</table>
+
+<p>&quot;The Three Clouds&quot; war urspr&uuml;nglich am Ende von Enigmapack VII
+platziert, wurde aber w&auml;hrend den hastigen Vorbereitungen f&uuml;r Enigma 1.01 durch
+eine falsche Z&auml;hlung der Gesamtlevelzahl vergessen. Dennoch wurde er von
+sovielen Spielern manuell aus der Entwicklerversion extrahiert, dass wir
+einfach nicht bemerkt haben, dass er fehlte; wir waren sogar in der Lage, eine
+Spielerwertung f&uuml;r ihn zu berechnen. Wir waren geschockt, als wir feststellen
+mussten, dass er fehlt. Ironischerweise geschah dies w&auml;hrend wir diesen Artikel
+schreiben wollten und einige Spieler nach Kommentaren gefragt hatten. Auf diese
+Weise wollen wir uns nun f&uuml;r alle Unannehmlichkeiten entschuldigen, Sie k&ouml;nnen
+diesen fantastischen Level nun <a
+href="http://download.berlios.de/enigma-game/enigma_vii_add.zip">hier</a>
+herunterladen. Speichern Sie einfach die zip-Datei in Ihrem
+&quot;USERPFAD/levels&quot; Verzeichnis (dann befindet er sich im Pack
+&quot;Enigma VII++&quot;), oder entpacken und bewegen Sie ihn in Ihr
+&quot;USERPFAD/levels/auto&quot; Verzeichnis, wie <a
+href="$$faq$$#s1q6">hier</a> beschrieben.
+</p>
+
+<h4>&quot;Ich tauchte immer tiefer in seine pathetische Welt ein, je &ouml;fter ich
+ihn spielte&quot;</h4>
+
+<div class="quote">
+Als ich &quot;The Three Clouds&quot; das erste Mal sah, dachte ich 'was f&uuml;r ein
+M&uuml;ll, ist dieses Labyrinth alles, was ich kriege?', dr&uuml;ckte 'F4' und bemerkte,
+dass dies der letzte Level im Pack war. Ich fing an, ein paar Levels aus Pack
+VI und VII zu spielen, und nach vielleicht zwei Monaten kam ich zur&uuml;ck zu
+&quot;Three Clouds&quot; und dachte irgendwie 'da muss mehr sein'. Ich rollte
+durch den Level, entlang der K&uuml;sten der drei Inseln, und tauchte immer tiefer
+in seine pathetische Welt und himmlische Design ein, je &ouml;fter ich ihn spielte.
+</div>
+
+<div class="quote">
+Ich bewundere besonders das fantastische Farbdesign dieses Levels. Diese
+Kombination von hellblau und feinf&uuml;hligem Blau ist die zweitsch&ouml;nste Sache, die
+ich je in Enigma's Welt gesehen habe. Ich kann stundenlang diesen
+herrlichen Anblick genie&szlig;en und den Rest der Welt vergessen, einschlie&szlig;lich
+Maus und Murmel.
+</div>
+
+<div class="quote">
+Was ich an diesem Level am meisten liebe ist seine Stille, seine statische
+Stille. Es gibt keinen Grund zur Hetze, man kann alles zu jeder Zeit sehen und
+den n&auml;chsten Schritt mit Bedacht planen. Es ist wie eingefroren in der Zeit,
+und zieht einen in seine actionfreie Welt hochverschiedener R&auml;tsel.
+</div>
+
+<div class="author">GheetN</div>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_d.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Ruhig mal einen Schuss<br>ins Blaue wagen &hellip;</div>
+</div>
+
+<p>Nachdem man durch den ersten Irrgarten &uuml;bel grinsender Ritter gehechtet ist,
+erreicht man bald das erste echte R&auml;tsel in diesem gewaltigen Level. Er schenkt
+einem einen v&ouml;llig neuen Eindruck &uuml;ber die Benutzung von Lasern, um Turnstiles
+und Samen zu bedienen. Die Zeit l&auml;uft, w&auml;hrend man die wachsenden Bl&ouml;cke in den
+T-f&ouml;rmigen Abgrund auf der linken Seite schieben muss, aber obwohl die Zeit
+dr&auml;ngt, f&uuml;hlt man sich w&auml;hrend des Spieles &uuml;berhaupt nicht unter Zeitnot, das
+R&auml;tsel l&ouml;st sich auf eine seltsame, nicht einfach zu beschreibende Weise von
+selbst. Nat&uuml;rlich muss man es ein paar Mal versuchen. Zuvor &quot;The Sargasso
+Sea&quot; zu spielen, kann Ihnen dabei helfen, sich auf diesen Teil des Levels
+vorzubereiten.</p>
+
+<p>Nachdem man den lebhaft gr&uuml;nen Abschnitt in &quot;The Three Clouds&quot;
+verl&auml;sst, steht man schlie&szlig;lich vor der K&uuml;stenlinie der ersten 'Ebene' in
+diesem Level, auf Meeresh&ouml;he und mit drei Wurml&ouml;chern vor sich. Die zuvor
+gesammelten Hinweise sind nun von besonderer Bedeutung, da zwei der Wurml&ouml;cher
+nichts weiter sind als Fallen. Ziemlich gemeine Fallen, da sie lediglich einen
+einzelnen Stein im sp&auml;teren F&uuml;nf-Stern-R&auml;tsel entfernen, und es dadurch
+unl&ouml;sbar machen.</p>
+
+<h4>&quot;Ich war sogar ein wenig b&ouml;se dar&uuml;ber, dass dieser Level v&ouml;llig okay
+war&quot;</h4>
+
+<p>Das n&auml;chste, was man sieht, ist der Eis-Ozean der zweiten Ebene, der
+Geschicklichkeitspart in dieser Landschaft.</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_c.png" alt="Level des Monats" border="0">
+<div class="imagetitle">Das Eisfeld</div>
+</div>
+
+<div class="quote">
+Ich sah &quot;The Three Clouds&quot; das erste Mal als Screenshot bei einem
+Freund, der ebenfalls Enigma spielt. Er sagte, er verwendet eine
+Entwicklerversion, und gab mir eine Kopie dieses Levels. Ich war erstaunt, als
+ich ihn sah, aber unsicher, ob es okay war, weil ich dachte, es h&auml;tte wohl
+einen Grund, warum die Programmierer ihn aus der Distribution entfernt hatten.
+Ich habe ihn dennoch gespielt, und bin ihm verfallen, und war sogar ein wenig
+b&ouml;se dar&uuml;ber, dass dieser Level v&ouml;llig okay war. Ich dachte, die Programmierer
+h&auml;tten ihn vor mir versteckt. Heute wei&szlig; ich's besser. :-)
+</div>
+
+<div class="quote">
+Ich mag die Idee mehrerer Ebenen in einem Level. Dieser hier nutzt das
+reichlich, und die zweite und vierte Ebene sind meine liebsten! Oh, sie
+erinnert mich so sehr an meine ersten Versuche auf Eis, ich m&ouml;chte heulen. Ich
+glitt ein paar Zoll, landete auf dem Eis, stellte mich zur&uuml;ck auf meine
+Schlittschuhe, glitt ein paar Zoll, &hellip; immer wieder aufstehen, niemals
+aufgeben. Mann, das waren Zeiten. 
+</div>
+
+<p>Tats&auml;chlich ist die wei&szlig;e Flagge sp&auml;ter erst zum Level hinzugef&uuml;gt worden,
+als wir bemerkten, dass es ohne zu schwierig w&uuml;rde.</p>
+
+<div class="quote">
+Und dann das R&auml;tsel im letzten, vierten Stock: Bewegliche Totenkopfsteine mit
+it-umbrella anordnen, gerade so in der Zeit, um die wei&szlig;e Murmel und den Rotor
+sicher durch den neu geschaffenen Irrgarten zu f&uuml;hren. Ich muss dabei immer an
+ein anderes Spiel aus meiner Jugend denken, &quot;Praztor II&quot; f&uuml;r den C64.
+Vielen Dank, dass Ihr diese Erinnerung wiedererweckt habt!
+</div>
+
+<div class="quote">
+Alles in allem denke ich, dass &quot;The Three Clouds&quot; einer der
+Top-Ten-Levels in Enigma ist. Vielen Dank an Euch, macht weiter so!
+</div>
+
+<div class="author">Frank Muhlberg</div>
+
+<p>W&auml;hrend man durch den zweiten Irrgarten rollt, entlang jener sich
+ewig-wandelnden Mauern aus Rotator-Steinen, wird die Dynamik dieses wundervoll
+aktiven Levels ein weiteres Mal offensichtlich. Den n&auml;chsten der dreizehn
+akkurat angeordneten Schalter zu erreichen, unterteilt den Level in kleinere
+Einheiten, und bietet stets eine kurze Pause in den Rennen, die seine R&auml;tsel
+verlangen.</p>
+
+<div class="lotmpic">
+<img src="$$imagedir$$/articles/april_2008_b.png" alt="Level des Monats" border="0">
+<div class="imagetitle">&quot;Lass uns hier verschwinden &hellip;&quot;</div>
+</div>
+
+<p>Das originellste R&auml;tsel &uuml;berhaupt ist sicherlich die absolut unerwartete
+Wendung in Bezug auf it-booze und st-oneway. Obwohl wir hier nicht zuviel
+verraten wollen, gebe ich dennoch einen kleinen Hinweis: Achten Sie auf das
+Gummiband! ;-)
+</p>
+
+<h4>&quot;Ich mag die Zahl neun sehr&quot;</h4>
+
+<p>Der letzte R&auml;tsel-Irrgarten auf der engen, f&uuml;nften Ebene greift schlie&szlig;lich
+all die Ideen wieder auf, die zu Zeiten im Level in der Luft lagen, und
+erfordert alle neun Werkzeuge, die man w&auml;hrend dem Spiel sammeln sollte
+(Stellen Sie sicher, dass Sie den Schl&uuml;ssel nicht vergessen, er ist von gro&szlig;er
+Bedeutung, nachdem man das Spiegelgebiet verl&auml;sst, und man kann nicht einfach
+mittels der Feder zur&uuml;ck). Hier sind Kates Gedanken &uuml;ber ihren Level und diesen
+sehr besonderen Teil von ihm:</p>
+
+<div class="quote">
+Die urspr&uuml;ngliche Idee zu &quot;The Three Clouds&quot; entstand aus einem
+Traum, den ich im November 2006 hatte. Es war ein ziemlich aufw&uuml;hlender Traum,
+Holz- und Totenkopfsteine &uuml;berall, und ich dazwischen, versuchte meinen Weg
+freizur&auml;umen. Tats&auml;chlich war das die Inspiration f&uuml;r den Totenkopf-Irrgarten,
+der erste Teil, den ich f&uuml;r diesen Level geschrieben hatte. Leider kamen mir
+keine weiteren Tr&auml;ume zu Hilfe, um den Rest des Levels zu entwerfen, aber ich
+wurde bald w&auml;hrend eines Fluges von Seattle nach Miami dazu inspiriert und
+schrieb die meisten verbleibenden R&auml;tsel im Laufe der n&auml;chsten zwei Tage.
+</div>
+
+<div class="quote">
+Ich bin jedoch noch immer nicht mit jedem Aspekt des Levels zufrieden. Ich hbe
+lange mit mir gek&auml;mpft, ob ich den Schl&uuml;ssel im letzten R&auml;tsel nutzen sollte.
+Letztlich habe ich mich dazu durchgerungen, insbesondere um die Gesamtzahl von
+neun Werkzeugen zu erhalten. Ich mag die Zahl neun sehr, es ist meine
+Gl&uuml;ckszahl, und ich hofe meinen Level in Enigma 1.1 auf Position VII/99 zu
+sehen.</div>
+
+<div class="quote">
+Ich war bereits wieder mit anderen Dingen besch&auml;ftigt, als Daydreamer (zwei
+Monate nachdem ich die 'letzte' Version von &quot;The Three Clouds&quot;
+&uuml;bermittelt hatte) schlie&szlig;lich auf eine Abk&uuml;rzung im F&uuml;nf-Stern-R&auml;tsel hinwies.
+Er benutzte einen &uuml;brig gebliebenen it-umbrella, um durch das Feuer zum
+Viererschalter zu kommen, der eigentlich nur als regulatives Element in dem
+Level gedacht war, nicht dazu, manipuliert zu werden. Dies war einerseits der
+Grund f&uuml;r den zweiten Viererschalter auf dieser Ebene, aber auch das
+Kernelement f&uuml;r das neue kleine Sokobanpuzzle, das dem F&uuml;nf-Stern-R&auml;tsel folgt.
+</div>
+
+<div class="quote">
+Ich bin froh, dass ich Euch mit einem Level helfen konnte, und freue mich, dass
+er von den Spielern als lohnende Erg&auml;nzung zu diesem ansonsten gro&szlig;artigen
+Spiel akzeptiert wurde. Vielen Dank, dass Ihr mir erlaubt habt, ein Teil davon
+zu sein.
+</div>
+
+<div class="author">Kate Lever</div>
+
+<p>Und vielen Dank an Dich, Kate, f&uuml;r dieses ausgesprochen inspiriende
+Puzzleteil in unserem Puzzle der gr&ouml;&szlig;ten Levels in Enigma, und f&uuml;r die Art, mit
+der Du uns durch ihn l&auml;cheln l&auml;sst!</p>
+
+<p>Beste Gr&uuml;&szlig;e,<br>
+<i>Euer Enigma-Team</i></p>
+
+</div>
+

Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/infobox.html	2008-03-31 19:27:00 UTC (rev 1088)
@@ -4,12 +4,21 @@
          In 2 out of 3 statistics, Enigma jumped the 500.000 downloads mark on
          the Berlios server. This includes downloads from 0.92 up to 1.01.
          Thanks to all players who made this possible!
+         
          <h3>Level of the Month</h3>
+         <!-- Temporarily redirected
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
          <div class="imagetitle">
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
+         -->
+         <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$april_2008$$">&quot;The Three Clouds&quot;</a>
+         </div>
+         
          <h3>End-of-Year Awards</h3>
          <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
          alt="Which might be the Level of the Year?" border="0"></a>
@@ -18,6 +27,7 @@
            has been determined - find out who got the awards
            <a href="$$eoya_2007$$">here</a>!
          </div>
+         
          <h3>PAR and Hcp Recalibration</h3>
 	 Due to the increasing number of score submitters we are now able to
 	 base the PAR value mainly on given scores. The effect of users who
@@ -25,6 +35,7 @@
 	 PAR values should be more realistic. As a sideeffect the HCP values
 	 did increase more or less for most users as you can see on the
 	 <a href="$$statistics$$">statistics</a> page.
+         
          <h3>Contribution</h3>
          Writing Levels, Translation, Bug Reports, Application Coding.<br>
 	 We need your help. See <a href="$$development$$">Development</a>.

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/infobox_de.html	2008-03-31 19:27:00 UTC (rev 1088)
@@ -5,12 +5,21 @@
          500.000-Download-Marke auf dem Berlios-Server &uuml;bersprungen.
          Dies umfasst Downloads von 0.92 bis 1.01. Vielen Dank an alle Spieler,
          die dies m&ouml;glich gemacht haben!
+
          <h3>Level des Monats</h3>
+         <!-- Temporarily redirected
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
          <div class="imagetitle">
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
+         -->
+         <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$april_2008$$">&quot;The Three Clouds&quot;</a>
+         </div>
+         
          <h3>Jahresend-<br>auszeichnungen</h3>
          <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
          alt="Welches mag der Level des Jahres sein?" border="0"></a>
@@ -19,6 +28,7 @@
            Jahres 2007 steht fest - finden Sie <a href="$$eoya_2007$$">hier</a>
            raus, wer die Preise gewonnen hat!
          </div>
+
          <h3>PAR und Hcp Recalibration</h3>
 	 Aufgrund der gestiegenen Anzahl an Einsendungen von Ergebnissen
 	 k&ouml;nnen die PAR Werte nun haups&auml;chlich auf den Spielresultaten
@@ -27,6 +37,7 @@
 	 daher realistischer sein. Als Seiteneffekt sind die HCP Werte f&uuml;r
 	 fast alle Spieler gestiegen wie man auf der <a href="$$statistics$$">
 	 Statistikseite</a> sehen kann.
+
          <h3>Unterst&uuml;tzung</h3>
          Level schreiben, &Uuml;bersetzen, Fehlermeldungen, Coden.<br>
 	 Wir brauchen Ihre Hilfe. Siehe <a href="$$development$$">Entwicklung</a>.

Modified: homepage/input/infobox_ru.html
===================================================================
--- homepage/input/infobox_ru.html	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/infobox_ru.html	2008-03-31 19:27:00 UTC (rev 1088)
@@ -4,18 +4,28 @@
          ? 2 ?? 3 ?????????????? ???????, Enigma ???????? ??????? ? 500.000 ???????? ?
          ??????? Berlios. ? ??? ?????? ???????? ? ?????? 0.92 ?? 1.01.
          ??????? ???? ???????, ??????? ??????? ??? ?????????!
+
          <h3>??????? ??????</h3>
+         <!-- Temporarily redirected
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
          <div class="imagetitle">
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
+         -->
+         <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"
+         alt="$$lotm_expansion$$" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$april_2008$$">&quot;The Three Clouds&quot;</a>
+         </div>
+         
          <h3>??????? ????? ????</h3>
          <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
          alt="????? ????? ???? ??????? ?????" border="0"></a>
          <div class="imagetitle">
            ?????? ?????? 2007 ???????, ? ??????? ???? 2007 ????????? - ??????? ??? ??????? ??????? <a href="$$eoya_2007$$">?????</a>!
          </div>
+
          <h3>???????????? PAR ? Hcp</h3>
 	 ?? ????????? ????????? ????? ??????????? ???????????, ?? ??????
 	 ????? ?????????? ???????? PAR ??????????????? ?? ?????????? ?????. ???????
@@ -24,6 +34,7 @@
 	 ??? ???????? ??????, ???????? HCP ?????????? ?? ????????? ???????? ??? 
 	 ??????????? ?????????????, ? ??? ?? ?????? ????????? ?? ????????
 	 <a href="$$statistics$$">??????????</a>.
+
          <h3>??????</h3>
          ???????? ???????, ???????, ????????? ?? ???????, ????????? ?????????.<br>
 	 ??? ????? ???? ??????. ???????????? ? <a href="$$development$$">???????????</a>.

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2008-03-30 19:59:31 UTC (rev 1087)
+++ homepage/input/output-files.lua	2008-03-31 19:27:00 UTC (rev 1088)
@@ -483,3 +483,15 @@
     body = {"articles/eoya_2007_statistics"}
 }
 
+----------------------------------------------------------------------
+-- April 2008 ("The Three Clouds")
+----------------------------------------------------------------------
+
+html.april_2008 = {
+    outfile = "april_2008.html",
+    title = "$$lotm_expansion$$: $$April$$ '08",
+    title_de = "$$lotm_expansion$$: $$April$$ '08",
+    title_ru = "$$lotm_expansion$$: $$April$$ '08",
+    rightcolumn = {},
+    body = {"articles/april_2008"},
+}    



