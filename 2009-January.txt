From ral at mail.berlios.de  Thu Jan  1 13:26:32 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 1 Jan 2009 13:26:32 +0100
Subject: [Enigma-game-svn] r1425 - in trunk: data/schemas src src/actors
	src/stones
Message-ID: <200901011226.n01CQWgV004167@sheep.berlios.de>

Author: ral
Date: 2009-01-01 13:26:31 +0100 (Thu, 01 Jan 2009)
New Revision: 1425

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/actors.cc
   trunk/src/actors/Rotors.cc
   trunk/src/stones/StoneImpulse.cc
Log:
Trunk 1.1:
- fix pearls stuck beneath stones
- fix missing fellows attribut declaration for actors
- fix rotor, top attributes attacknearest and gohome
- st_stoneimpulse:
  - send impulses per wire with correct direction
  - no more impulse per wire on slight, no push actor touches


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2008-12-31 21:41:32 UTC (rev 1424)
+++ trunk/data/schemas/objects.xml	2009-01-01 12:26:31 UTC (rev 1425)
@@ -6,7 +6,7 @@
     <attr name="algorithm" type="string" default="std" rw="rw"/>
     <attr name="anchor1" type="tokens" default="nil" rw="rw"/>
     <attr name="anchor2" type="tokens" default="nil" rw="rw"/>
-    <attr name="attacknearest" type="bool" default="true" rw="rw"/>
+    <attr name="attacknearest" type="bool" default="false" rw="rw"/>
     <attr name="autoclose" type="bool" default="false" rw="rw"/>
     <attr name="burnable" type="bool" default="nil" rw="rw"/>
     <attr name="charge" type="double" default="0" rw="rw"/>
@@ -171,6 +171,7 @@
       <attr name="adhesion" default="1.0"/>
       <attr name="controllers"/>
       <attr name="color"/>
+      <attr name="fellows"/>
       <attr name="player"/>
       <attr name="essential"/>
       <attr name="essential_id"/>

Modified: trunk/src/actors/Rotors.cc
===================================================================
--- trunk/src/actors/Rotors.cc	2008-12-31 21:41:32 UTC (rev 1424)
+++ trunk/src/actors/Rotors.cc	2009-01-01 12:26:31 UTC (rev 1425)
@@ -28,11 +28,12 @@
 
 /* -------------------- RotorBase  -------------------- */
 
-    RotorBase::RotorBase(const ActorTraits &tr) : Actor (tr),  attackCurrentOnly(false), timeKeepAttackStrategy(0) {
+    RotorBase::RotorBase(const ActorTraits &tr) : Actor (tr),  attacknearest (false), attackCurrentOnly (false),
+            timeKeepAttackStrategy (0) {
         setAttr("range", 5.0);
         setAttr("strength", 10.0);
         setAttr("gohome", true);
-        setAttr("attacknearest", true);
+        setAttr("attacknearest", false);
         setAttr("prefercurrent", 0.0);
     }
 
@@ -42,9 +43,9 @@
         else if (key == "strength") 
             force = val;
         else if (key == "gohome") 
-            gohome = val;
-        else if (key == "attacknearest") 
-            attacknearest = val;
+            gohome = val.to_bool();
+        else if (key == "attacknearest")
+            attacknearest = val.to_bool();
         else if (key == "prefercurrent") 
             prefercurrent = val;
         Actor::setAttr(key, val);

Modified: trunk/src/actors.cc
===================================================================
--- trunk/src/actors.cc	2008-12-31 21:41:32 UTC (rev 1424)
+++ trunk/src/actors.cc	2009-01-01 12:26:31 UTC (rev 1425)
@@ -294,7 +294,7 @@
 bool Actor::can_move() const { 
     if (Stone *st = GetStone (get_gridpos())) {
         if (!server::NoCollisions || !(get_traits().id_mask &
-                        (1<<ac_marble_white | 1<<ac_marble_black | 1<<ac_marble_white)))
+                        (1<<ac_marble_white | 1<<ac_marble_black | 1<<ac_pearl_white)))
             return !st->is_sticky(this);
     }
     return true;

Modified: trunk/src/stones/StoneImpulse.cc
===================================================================
--- trunk/src/stones/StoneImpulse.cc	2008-12-31 21:41:32 UTC (rev 1424)
+++ trunk/src/stones/StoneImpulse.cc	2009-01-01 12:26:31 UTC (rev 1425)
@@ -198,9 +198,10 @@
             if (hitman == NULL || !player::WieldedItemIs(hitman, "it_magicwand")) {
                 if (state == IDLE)
                     setIState(EXPANDING, impulse.dir);
-                else if (didMove && state != EXPANDING)
+                else if (didMove && state != EXPANDING) {
                     // ensure that an impulse to neighbors will be emitted when moved
-                    objFlags |= OBJBIT_REPULSE;
+                    objFlags = (objFlags & ~OBJBIT_INCOMINGDIR) | (impulse.dir << 29) | OBJBIT_REPULSE;
+                }
             } else if (((objFlags & OBJBIT_STEADY) && (objFlags & OBJBIT_LIGHTNEWDIRS) && state == IDLE)) {
                 setIState(EXPANDING, impulse.dir);
             }
@@ -209,7 +210,7 @@
         }
         
         // direct impulse propagation
-        if (objFlags & OBJBIT_MOVABLE) { 
+        if (objFlags & OBJBIT_MOVABLE && (impulse.dir != NODIR)) { 
             if (hitman != NULL) {
                 objFlags &= ~OBJBIT_PROPAGATE;
                 propagateImpulse(impulse);
@@ -230,7 +231,7 @@
                     state = newState;
                     if (objFlags & OBJBIT_REPULSE) {
                         objFlags &= ~OBJBIT_REPULSE;
-                        setIState(EXPANDING, NODIR);
+                        setIState(EXPANDING, (Direction)((objFlags & OBJBIT_INCOMINGDIR) >> 29));
                     } else
                         init_model();
                     break;
@@ -270,7 +271,7 @@
     }
     
     void StoneImpulse::propagateImpulse(const Impulse& impulse) {
-        if (!impulse.byWire) {
+        if (!impulse.byWire && impulse.dir != NODIR) {
             ObjectList olist = getAttr("fellows");
             int sourceId = getDefaultedAttr("$impulse_source", 0);
             for (ObjectList::iterator it = olist.begin(); it != olist.end(); ++it) {



From raoul at mail.berlios.de  Thu Jan  1 15:05:07 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 1 Jan 2009 15:05:07 +0100
Subject: [Enigma-game-svn] r1426 - team_levelpacks/team_test_new_api
Message-ID: <200901011405.n01E57Rs006223@sheep.berlios.de>

Author: raoul
Date: 2009-01-01 15:05:07 +0100 (Thu, 01 Jan 2009)
New Revision: 1426

Modified:
   team_levelpacks/team_test_new_api/andreasT01_1.xml
   team_levelpacks/team_test_new_api/ralT014_1.xml
   team_levelpacks/team_test_new_api/ralT026_1.xml
   team_levelpacks/team_test_new_api/ralT034_1.xml
   team_levelpacks/team_test_new_api/ralT053_1.xml
   team_levelpacks/team_test_new_api/ralT071_1.xml
Log:
-> New testpattern for stoneimpulse and wire
-> Updated actornames


Modified: team_levelpacks/team_test_new_api/andreasT01_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Test Trap new API" el:subtitle="" el:id="testtrap_andreas"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="experimental"/>
       <el:author  el:name="Andreas Lochmann" el:email=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -24,7 +24,7 @@
 ti["."] = {"it_trap"}
 
 ti["@"] = {"#ac_marble"}
-ti["0"] = {"#ac-bug"}
+ti["0"] = {"#ac_bug"}
 
 ti["l"] = {"st_laser", state = ON, orientation = SOUTH}
 ti["p"] = {"st_polarswitch", state = OFF}

Modified: team_levelpacks/team_test_new_api/ralT014_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -27,8 +27,8 @@
 ti["5"] = {"it_coin_m", name="money", target={"otto", "emil*"}}
 ti["S"] = {"st_coinslot"}
 ti["m"] = {"#ac_marble"}
-ti["x"] = {"fl-rough-blue"} .. {"it_banana"} .. ti({"ac-bug", 0.7})
-ti["y"] = (ti({"fl-rough-blue"}) .. {"it_banana"}) .. {"ac-bug", name="buggy"}
+ti["x"] = {"fl-rough-blue"} .. {"it_banana"} .. ti({"ac_bug", 0.7})
+ti["y"] = (ti({"fl-rough-blue"}) .. {"it_banana"}) .. {"ac_bug", name="buggy"}
 ti["s"] = {"st_switch", action="callback", target="doit"}
 ti["b"] = {"st_blocker", name="blocker"}
 ti["d"] = {"st_door_b", name="door#"}
@@ -61,7 +61,7 @@
 wo[{w-2, h-2}] = {"it_magicwand"}
 p1 = po(12.3, 3.2)
 p2 = p1:grid()
-wo[p2] = {"ac-bug"}
+wo[p2] = {"ac_bug"}
 
 --no["money"]:set({value=12})
 no["money"]["action"] = {"anna#*","x",no["cherry#*"],no["blocker"]}

Modified: team_levelpacks/team_test_new_api/ralT026_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -15,8 +15,6 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-
-
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl-sahara"}
@@ -32,8 +30,6 @@
 ti["k"] = {"fl_rock", name="i3"}
 ti["l"] = {"fl_rock", name="i4"}
 ti["s"] = ti[" "] .. {"st_switch", target="innercircle"}
-
-
 ti["a"] = ti[" "] .. {"#ac_marble"}
 
 w, h = wo(ti, " ", {

Modified: team_levelpacks/team_test_new_api/ralT034_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -31,7 +31,7 @@
 ti["i"] = {"st_switch", target="icefloor"}
 
 ti["1"] = ti["b"] .. {"#ac_marble"}
-ti["2"] = ti["b"] .. {"#ac-bug", "mybug"}
+ti["2"] = ti["b"] .. {"#ac_bug", "mybug"}
 
 function myresolver(key, x, y)
     if key == " " then

Modified: team_levelpacks/team_test_new_api/ralT053_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -40,7 +40,7 @@
 
 ti["1"] = ti["y"] .. {"#ac_marble_black", "a1"} 
 ti["2"] = ti["y"] .. {"#ac_marble_white", "a2"} 
-ti["3"] = {"#ac-horse", "a3"} 
+ti["3"] = {"#ac_horse", "a3"} 
 ti["*"] = {"#ac_pearl_white", "s#", player=DEFAULT, controllers=0} 
 
 w, h = wo(ti, " ", {

Modified: team_levelpacks/team_test_new_api/ralT071_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT071_1.xml	2009-01-01 12:26:31 UTC (rev 1425)
+++ team_levelpacks/team_test_new_api/ralT071_1.xml	2009-01-01 14:05:07 UTC (rev 1426)
@@ -48,8 +48,23 @@
 ti["1"] = {"st_stoneimpulse", "s3"}
 ti["2"] = {"st_stoneimpulse", "s4"}
 
+ti["+"] = {"st_stoneimpulse"}
+ti["G"] = {"st_stoneimpulse_hollow", "c1"}
+ti["H"] = {"st_stoneimpulse_hollow", "c2"}
+ti["I"] = {"st_stoneimpulse_hollow", "c3"}
+ti["J"] = {"st_stoneimpulse_hollow", "c4"}
+ti["K"] = {"st_stoneimpulse_hollow", "c5"}
+ti["L"] = {"st_stoneimpulse_hollow", "c6"}
+ti["M"] = {"st_stoneimpulse_hollow", "c7"}
+ti["N"] = {"st_stoneimpulse_hollow", "c8"}
+ti["<"] = {"st_stoneimpulse_new", orientation = NORTH, hollow=true}
+ti["!"] = {"st_stoneimpulse_new", orientation = SOUTH, hollow=true}
+ti["C"] = {"st_stoneimpulse_hollow", "t12"}
+ti["D"] = {"st_stoneimpulse_hollow", "t34"}
+ti["E"] = {"st_stoneimpulse_hollow", "t56"}
+ti["F"] = {"st_stoneimpulse_hollow", "t78"}
 
-ti["@"] = {"#ac_marble"} 
+ti["@"] = {"#ac_marble"}
 
 w, h = wo(ti, " ", {
 "                    ",
@@ -76,9 +91,30 @@
 "   b ^              ",
 " ^a A^ *           ;",
 " ^ B      p     pp  ",
-" ^^^   n  n     nn n"
+" ^^^   n  n     nn n",
+"                    ",
+"                    ",
+"                    ",
+"                    ",
+" !++ +++            ",
+" + G L +            ",
+" +N F M+            ",
+"   C E              ",
+" +I D J+            ",
+" + H K +            ",
+" +++ ++<            ",
+"                    "
 })
 
+wo:add({"ot_wire", anchor1="c1", anchor2="t12"})
+wo:add({"ot_wire", anchor1="t12", anchor2="c2"})
+wo:add({"ot_wire", anchor1="c3", anchor2="t34"})
+wo:add({"ot_wire", anchor1="t34", anchor2="c4"})
+wo:add({"ot_wire", anchor1="c5", anchor2="t56"})
+wo:add({"ot_wire", anchor1="t56", anchor2="c6"})
+wo:add({"ot_wire", anchor1="c7", anchor2="t78"})
+wo:add({"ot_wire", anchor1="t78", anchor2="c8"})
+
 wo:add({"ot_wire", anchor1="w1", anchor2="s1"})
 wo:add({"ot_wire", anchor1="w2", anchor2="s2"})
 wo:add({"ot_wire", anchor1="s3", anchor2="s4"})



From ral at mail.berlios.de  Thu Jan  1 15:16:36 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 1 Jan 2009 15:16:36 +0100
Subject: [Enigma-game-svn] r1427 - in trunk/src: . stones
Message-ID: <200901011416.n01EGaLg007152@sheep.berlios.de>

Author: ral
Date: 2009-01-01 15:16:36 +0100 (Thu, 01 Jan 2009)
New Revision: 1427

Modified:
   trunk/src/Value.cc
   trunk/src/stones/StoneImpulse.cc
   trunk/src/stones/StoneImpulse.hh
Log:
Trunk 1.1:
- st_stoneimpulse:
  - another fix on handling of incoming impulse direction: not movable SI
    will not propagate actor impulses per wire (like other unmovable stone)
  - internally switched incoming dir from bit flags to internal attribute, to
    be able to store NODIR values
- Value - to_direction(): allow NODIR values


Modified: trunk/src/Value.cc
===================================================================
--- trunk/src/Value.cc	2009-01-01 14:05:07 UTC (rev 1426)
+++ trunk/src/Value.cc	2009-01-01 14:16:36 UTC (rev 1427)
@@ -493,7 +493,7 @@
     }
     
     Direction to_direction (const Value &v) {
-        int val = Clamp(to_int(v), 0, 3);
+        int val = Clamp(to_int(v), -1, 3);
         return static_cast<Direction>(val);
     }
     

Modified: trunk/src/stones/StoneImpulse.cc
===================================================================
--- trunk/src/stones/StoneImpulse.cc	2009-01-01 14:05:07 UTC (rev 1426)
+++ trunk/src/stones/StoneImpulse.cc	2009-01-01 14:16:36 UTC (rev 1427)
@@ -61,11 +61,8 @@
                 objFlags &= ~OBJBIT_STEADY;
         } else if (key == "orientation") {
             if (!isDisplayable()) {
-                objFlags &= ~OBJBIT_INCOMINGDIR;
-                Direction incoming = reverse(to_direction(val)); 
-                if (incoming != NODIR ) {
-                    objFlags |= (incoming << 29) | OBJBIT_NOBACKFIRE;
-                }
+                Stone::setAttr("$incoming", reverse(to_direction(val)));
+                objFlags |= OBJBIT_NOBACKFIRE;
             }
         } else
             Stone::setAttr(key, val);
@@ -200,7 +197,8 @@
                     setIState(EXPANDING, impulse.dir);
                 else if (didMove && state != EXPANDING) {
                     // ensure that an impulse to neighbors will be emitted when moved
-                    objFlags = (objFlags & ~OBJBIT_INCOMINGDIR) | (impulse.dir << 29) | OBJBIT_REPULSE;
+                    Stone::setAttr("$incoming", impulse.dir); 
+                    objFlags |= OBJBIT_REPULSE;
                 }
             } else if (((objFlags & OBJBIT_STEADY) && (objFlags & OBJBIT_LIGHTNEWDIRS) && state == IDLE)) {
                 setIState(EXPANDING, impulse.dir);
@@ -231,7 +229,7 @@
                     state = newState;
                     if (objFlags & OBJBIT_REPULSE) {
                         objFlags &= ~OBJBIT_REPULSE;
-                        setIState(EXPANDING, (Direction)((objFlags & OBJBIT_INCOMINGDIR) >> 29));
+                        setIState(EXPANDING, to_direction(getAttr("$incoming")));
                     } else
                         init_model();
                     break;
@@ -240,9 +238,7 @@
                         return;         // do not set new state
                     }
                     objFlags &= ~OBJBIT_LASERIDLE;
-                    objFlags &= ~OBJBIT_INCOMINGDIR;
-                    if (incoming != NODIR)
-                        objFlags |= (incoming << 29);
+                    Stone::setAttr("$incoming", incoming);
                     state = newState;
                     init_model();
                     sound_event("impulse");
@@ -254,17 +250,16 @@
                     state = newState;
                     init_model();
                     GridPos p = get_pos();
-                    Direction origin = reverse((Direction)((objFlags & OBJBIT_INCOMINGDIR) >> 29));
+                    Direction origin = reverse(to_direction(getAttr("$incoming")));
                     for (Direction d = WEST; d != NODIR; d = next(d)) {
                         if (!(objFlags & OBJBIT_NOBACKFIRE) || d != origin)
                             send_impulse(move(p, d), d);
                     }
                     if (!(objFlags & OBJBIT_MOVABLE) || (objFlags & OBJBIT_PROPAGATE)) {
                         propagateImpulse(Impulse(this, GridPos(-1,-1), 
-                                (Direction)((objFlags & OBJBIT_INCOMINGDIR) >> 29)));
+                                to_direction(getAttr("$incoming"))));
                     }
-                    if (objFlags & OBJBIT_MOVABLE)
-                        objFlags &= ~OBJBIT_PROPAGATE;
+                    objFlags &= ~OBJBIT_PROPAGATE;
                     break;
             }
         }

Modified: trunk/src/stones/StoneImpulse.hh
===================================================================
--- trunk/src/stones/StoneImpulse.hh	2009-01-01 14:05:07 UTC (rev 1426)
+++ trunk/src/stones/StoneImpulse.hh	2009-01-01 14:16:36 UTC (rev 1427)
@@ -46,12 +46,11 @@
         
         enum ObjectPrivatFlagsBits {
             OBJBIT_MOVABLE     =  1<<24,   ///< Object is movable 
-            OBJBIT_HOLLOW      =  1<<25,   ///< hollow SI (exclusive usage with movalble feature!)
-            OBJBIT_PROPAGATE   =  1<<25,   ///< only for movable SI mark impulse propagation on shrinking 
+            OBJBIT_HOLLOW      =  1<<25,   ///< hollow stoneimpulse
             OBJBIT_STEADY      =  1<<26,   ///< continuous laser light causes repeating impulses 
             OBJBIT_REPULSE     =  1<<27,   ///< pending impulse
             OBJBIT_NOBACKFIRE  =  1<<28,   ///< avoid sending impulse back into incoming direction
-            OBJBIT_INCOMINGDIR =  3<<29,   ///< incoming direction
+            OBJBIT_PROPAGATE   =  1<<29,   ///< only for movable SI to  mark impulse propagation on shrinking 
             OBJBIT_LASERIDLE   =  1<<31,   ///< not steady stoneimpulse did run singleton pulse and is idle but still enlighted
         };
     public:



From ral at mail.berlios.de  Sat Jan  3 15:18:09 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sat, 3 Jan 2009 15:18:09 +0100
Subject: [Enigma-game-svn] r1428 - homepage/input
Message-ID: <200901031418.n03EI9PV005363@sheep.berlios.de>

Author: ral
Date: 2009-01-03 15:18:01 +0100 (Sat, 03 Jan 2009)
New Revision: 1428

Modified:
   homepage/input/stat-other.html
   homepage/input/table-hcp.html
   homepage/input/table-rat.html
   homepage/input/table-solved.html
   homepage/input/table-wr.html
   homepage/input/userlist.html
Log:
Homepage:
- statistics December 2008



Modified: homepage/input/stat-other.html
===================================================================
--- homepage/input/stat-other.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/stat-other.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -1,22 +1,22 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      85178 $$single_level_scores$$.
+      86349 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      16352 $$single_level_ratings$$ 4.92 $$and_distribution$$: 
+      16668 $$single_level_ratings$$ 4.93 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
-        <tr><td class="num">0</td><td class="num">103</td></tr>
-        <tr><td class="num">1</td><td class="num">296</td></tr>
-        <tr><td class="num">2</td><td class="num">858</td></tr>
-        <tr><td class="num">3</td><td class="num">2267</td></tr>
-        <tr><td class="num">4</td><td class="num">3104</td></tr>
-        <tr><td class="num">5</td><td class="num">3905</td></tr>
-        <tr><td class="num">6</td><td class="num">2775</td></tr>
-        <tr><td class="num">7</td><td class="num">1855</td></tr>
-        <tr><td class="num">8</td><td class="num">737</td></tr>
-        <tr><td class="num">9</td><td class="num">301</td></tr>
-        <tr><td class="num">10</td><td class="num">151</td></tr>
+        <tr><td class="num">0</td><td class="num">105</td></tr>
+        <tr><td class="num">1</td><td class="num">304</td></tr>
+        <tr><td class="num">2</td><td class="num">864</td></tr>
+        <tr><td class="num">3</td><td class="num">2299</td></tr>
+        <tr><td class="num">4</td><td class="num">3154</td></tr>
+        <tr><td class="num">5</td><td class="num">3989</td></tr>
+        <tr><td class="num">6</td><td class="num">2825</td></tr>
+        <tr><td class="num">7</td><td class="num">1900</td></tr>
+        <tr><td class="num">8</td><td class="num">762</td></tr>
+        <tr><td class="num">9</td><td class="num">307</td></tr>
+        <tr><td class="num">10</td><td class="num">159</td></tr>
       </table>
   </div>

Modified: homepage/input/table-hcp.html
===================================================================
--- homepage/input/table-hcp.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/table-hcp.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -1,170 +1,172 @@
   <table>
-    <caption>$$Handicap_Statistics$$ $$November$$ 2008</caption>
+    <caption>$$Handicap_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-142.8</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -88.1</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -79.3</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -79.2</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num"> -67.7</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -60.3</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -57.6</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -56.6</td><td class="left">'Malla'</td></tr>
-     <tr><td class="num"> -53.6</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -48.4</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -46.0</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -44.0</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -41.9</td><td class="left">'Crystalicum'</td></tr>
-     <tr><td class="num"> -37.0</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -35.7</td><td class="left">'Daisy'</td></tr>
-     <tr><td class="num"> -34.2</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -33.8</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -31.2</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -28.7</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -26.6</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -25.9</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -24.7</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -21.9</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -20.2</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -18.9</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -17.8</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -17.3</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -15.2</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -10.1</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num">  -9.3</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num">  -5.8</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -5.8</td><td class="left">'Timo'</td></tr>
-     <tr><td class="num">  -5.6</td><td class="left">'joseba'</td></tr>
-     <tr><td class="num">  -3.3</td><td class="left">'Angolino'</td></tr>
-     <tr><td class="num">  -2.1</td><td class="left">'Daniel'</td></tr>
-     <tr><td class="num">  -0.9</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">  -0.7</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">  -0.5</td><td class="left">'Hairball'</td></tr>
-     <tr><td class="num">   0.4</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">   0.4</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">   0.8</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">   1.2</td><td class="left">'Freshman'</td></tr>
-     <tr><td class="num">   2.0</td><td class="left">'mrduke'</td></tr>
-     <tr><td class="num">   3.0</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">   3.3</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">-142.1</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -89.8</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -78.4</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num"> -78.2</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num"> -66.8</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -61.2</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -56.9</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -55.7</td><td class="left">'Malla'</td></tr>
+     <tr><td class="num"> -52.8</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -47.4</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -46.1</td><td class="left">'Crystalicum'</td></tr>
+     <tr><td class="num"> -45.1</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -42.9</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -42.2</td><td class="left">'Mentist'</td></tr>
+     <tr><td class="num"> -37.8</td><td class="left">'Daisy'</td></tr>
+     <tr><td class="num"> -36.0</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -33.3</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -32.9</td><td class="left">'Emmanuel'</td></tr>
+     <tr><td class="num"> -30.4</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -27.8</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -25.8</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -25.0</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -24.0</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -21.1</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -19.3</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -18.1</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -17.0</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -16.6</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -14.6</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -13.2</td><td class="left">'Angolino'</td></tr>
+     <tr><td class="num">  -9.4</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num">  -8.7</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num">  -5.4</td><td class="left">'Iceshark7'</td></tr>
+     <tr><td class="num">  -5.1</td><td class="left">'Timo'</td></tr>
+     <tr><td class="num">  -4.9</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">  -1.6</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">  -0.4</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num">  -0.0</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   0.2</td><td class="left">'Hairball'</td></tr>
+     <tr><td class="num">   0.9</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">   1.0</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">   1.3</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   1.7</td><td class="left">'Freshman'</td></tr>
+     <tr><td class="num">   2.6</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">   3.6</td><td class="left">'para_doks'</td></tr>
      <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
-     <tr><td class="num">   4.7</td><td class="left">'Guglielmo'</td></tr>
-     <tr><td class="num">   4.8</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">   5.8</td><td class="left">'Andy'</td></tr>
-     <tr><td class="num">   5.8</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   8.3</td><td class="left">'Austin'</td></tr>
-     <tr><td class="num">   8.8</td><td class="left">'Tiza'</td></tr>
-     <tr><td class="num">   9.6</td><td class="left">'shoki'</td></tr>
-     <tr><td class="num">  10.5</td><td class="left">'mecke'</td></tr>
-     <tr><td class="num">  12.3</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  14.1</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  14.5</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  15.5</td><td class="left">'AlephD'</td></tr>
-     <tr><td class="num">  15.6</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  15.8</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  16.2</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  20.0</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">  20.4</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  22.7</td><td class="left">'Antonio EE'</td></tr>
-     <tr><td class="num">  23.0</td><td class="left">'Jinajon'</td></tr>
-     <tr><td class="num">  23.1</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  23.6</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  23.6</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  24.5</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  24.8</td><td class="left">'Feynman'</td></tr>
-     <tr><td class="num">  25.4</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  25.8</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  25.9</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  26.5</td><td class="left">'Hans-HD'</td></tr>
-     <tr><td class="num">  27.7</td><td class="left">'un_guru'</td></tr>
-     <tr><td class="num">  28.1</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  28.5</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  29.4</td><td class="left">'biotopa'</td></tr>
-     <tr><td class="num">  29.4</td><td class="left">'GiannuzzITA'</td></tr>
-     <tr><td class="num">  29.4</td><td class="left">'oxyd4ever'</td></tr>
-     <tr><td class="num">  29.5</td><td class="left">'Vinksu'</td></tr>
-     <tr><td class="num">  30.1</td><td class="left">'oblo'</td></tr>
-     <tr><td class="num">  30.3</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  31.1</td><td class="left">'geembo_90'</td></tr>
-     <tr><td class="num">  31.5</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  31.7</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  32.2</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  32.4</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  32.6</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  32.6</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  33.0</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  35.5</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  35.6</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  35.6</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  36.0</td><td class="left">'Kosby'</td></tr>
-     <tr><td class="num">  36.9</td><td class="left">'alain'</td></tr>
-     <tr><td class="num">  37.6</td><td class="left">'Liam Sheehan'</td></tr>
-     <tr><td class="num">  37.9</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  39.1</td><td class="left">'WesleyCrusher'</td></tr>
-     <tr><td class="num">  39.2</td><td class="left">'Drotten'</td></tr>
-     <tr><td class="num">  39.5</td><td class="left">'Archcorenth'</td></tr>
-     <tr><td class="num">  39.8</td><td class="left">'Harry Lim'</td></tr>
-     <tr><td class="num">  40.1</td><td class="left">'B-man'</td></tr>
-     <tr><td class="num">  40.4</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  41.4</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  41.5</td><td class="left">'gringer'</td></tr>
-     <tr><td class="num">  42.0</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  42.0</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  43.3</td><td class="left">'Momcat'</td></tr>
-     <tr><td class="num">  43.9</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  44.2</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  45.6</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  46.4</td><td class="left">'IntKecsk'</td></tr>
-     <tr><td class="num">  46.8</td><td class="left">'tjRaven'</td></tr>
-     <tr><td class="num">  47.5</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  47.7</td><td class="left">'mhatta'</td></tr>
-     <tr><td class="num">  47.8</td><td class="left">'ntaeijr'</td></tr>
-     <tr><td class="num">  49.4</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  49.9</td><td class="left">'rima'</td></tr>
-     <tr><td class="num">  50.3</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  50.8</td><td class="left">'ReasonAnce'</td></tr>
-     <tr><td class="num">  51.2</td><td class="left">'jdcampo'</td></tr>
-     <tr><td class="num">  51.5</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  51.8</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  52.2</td><td class="left">'AkRa'</td></tr>
-     <tr><td class="num">  52.3</td><td class="left">'Slav'</td></tr>
-     <tr><td class="num">  52.6</td><td class="left">'Vaily'</td></tr>
-     <tr><td class="num">  52.7</td><td class="left">'Pascal'</td></tr>
-     <tr><td class="num">  53.6</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  53.7</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  53.7</td><td class="left">'Cyphase'</td></tr>
-     <tr><td class="num">  56.0</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  57.0</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  57.3</td><td class="left">'Kadu'</td></tr>
-     <tr><td class="num">  59.4</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  60.0</td><td class="left">'Sopoforic'</td></tr>
-     <tr><td class="num">  60.7</td><td class="left">'jumbo'</td></tr>
-     <tr><td class="num">  61.3</td><td class="left">'jdrexler'</td></tr>
-     <tr><td class="num">  62.1</td><td class="left">'Asbel'</td></tr>
-     <tr><td class="num">  63.9</td><td class="left">'tasker'</td></tr>
-     <tr><td class="num">  64.2</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  66.3</td><td class="left">'ael'</td></tr>
-     <tr><td class="num">  66.9</td><td class="left">'Fred_the_wise'</td></tr>
+     <tr><td class="num">   3.9</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   5.2</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   5.4</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">   5.6</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">   6.4</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   6.4</td><td class="left">'serpent'</td></tr>
+     <tr><td class="num">   8.7</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">  10.1</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  11.1</td><td class="left">'mecke'</td></tr>
+     <tr><td class="num">  12.8</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  14.6</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  14.9</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">  15.9</td><td class="left">'AlephD'</td></tr>
+     <tr><td class="num">  16.1</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">  16.2</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  16.7</td><td class="left">'Agnieszka'</td></tr>
+     <tr><td class="num">  20.3</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  20.7</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  23.0</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  23.3</td><td class="left">'Jinajon'</td></tr>
+     <tr><td class="num">  23.5</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  23.9</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  24.0</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  24.9</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  25.2</td><td class="left">'Feynman'</td></tr>
+     <tr><td class="num">  25.7</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  26.1</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  26.2</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  26.9</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  28.2</td><td class="left">'un_guru'</td></tr>
+     <tr><td class="num">  28.5</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  28.8</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  29.6</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  29.7</td><td class="left">'oxyd4ever'</td></tr>
+     <tr><td class="num">  29.8</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  29.9</td><td class="left">'GiannuzzITA'</td></tr>
+     <tr><td class="num">  30.3</td><td class="left">'oblo'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'Sigma'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  31.4</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  31.9</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  32.0</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  32.5</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  32.7</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  32.9</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  32.9</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  35.8</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  35.8</td><td class="left">'MicWa'</td></tr>
+     <tr><td class="num">  36.0</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  36.3</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  37.2</td><td class="left">'alain'</td></tr>
+     <tr><td class="num">  38.0</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  38.1</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  39.3</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  39.4</td><td class="left">'WesleyCrusher'</td></tr>
+     <tr><td class="num">  39.8</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  40.1</td><td class="left">'Harry Lim'</td></tr>
+     <tr><td class="num">  40.5</td><td class="left">'B-man'</td></tr>
+     <tr><td class="num">  40.7</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  41.7</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  41.7</td><td class="left">'gringer'</td></tr>
+     <tr><td class="num">  42.2</td><td class="left">'Snaily'</td></tr>
+     <tr><td class="num">  42.3</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  43.5</td><td class="left">'Momcat'</td></tr>
+     <tr><td class="num">  44.2</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  44.4</td><td class="left">'Uli'</td></tr>
+     <tr><td class="num">  45.8</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  46.6</td><td class="left">'IntKecsk'</td></tr>
+     <tr><td class="num">  47.0</td><td class="left">'tjRaven'</td></tr>
+     <tr><td class="num">  47.7</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  47.9</td><td class="left">'ntaeijr'</td></tr>
+     <tr><td class="num">  47.9</td><td class="left">'mhatta'</td></tr>
+     <tr><td class="num">  49.6</td><td class="left">'Zak'</td></tr>
+     <tr><td class="num">  50.1</td><td class="left">'rima'</td></tr>
+     <tr><td class="num">  50.5</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  51.1</td><td class="left">'ReasonAnce'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  51.7</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  52.0</td><td class="left">'brynn'</td></tr>
+     <tr><td class="num">  52.4</td><td class="left">'Slav'</td></tr>
+     <tr><td class="num">  52.5</td><td class="left">'AkRa'</td></tr>
+     <tr><td class="num">  52.9</td><td class="left">'Pascal'</td></tr>
+     <tr><td class="num">  52.9</td><td class="left">'Vaily'</td></tr>
+     <tr><td class="num">  53.8</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  53.9</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  53.9</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  56.2</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  57.2</td><td class="left">'Adonica'</td></tr>
+     <tr><td class="num">  57.5</td><td class="left">'Kadu'</td></tr>
+     <tr><td class="num">  59.6</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  60.2</td><td class="left">'Sopoforic'</td></tr>
+     <tr><td class="num">  61.0</td><td class="left">'jumbo'</td></tr>
+     <tr><td class="num">  61.5</td><td class="left">'jdrexler'</td></tr>
+     <tr><td class="num">  62.3</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  64.1</td><td class="left">'tasker'</td></tr>
+     <tr><td class="num">  64.4</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  66.4</td><td class="left">'ael'</td></tr>
+     <tr><td class="num">  66.7</td><td class="left">'Tomson'</td></tr>
      <tr><td class="num">  67.0</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  67.1</td><td class="left">'schmusi20'</td></tr>
-     <tr><td class="num">  67.3</td><td class="left">'Sparkey'</td></tr>
-     <tr><td class="num">  67.7</td><td class="left">'Alf'</td></tr>
-     <tr><td class="num">  69.3</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  69.9</td><td class="left">'Zhura'</td></tr>
-     <tr><td class="num">  70.7</td><td class="left">'xmouse'</td></tr>
-     <tr><td class="num">  72.1</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  72.2</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  73.7</td><td class="left">'crypto_rsa'</td></tr>
-     <tr><td class="num">  74.0</td><td class="left">'Dvorhagen'</td></tr>
-     <tr><td class="num">  74.9</td><td class="left">'Eselchen'</td></tr>
+     <tr><td class="num">  67.2</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  67.2</td><td class="left">'Fred_the_wise'</td></tr>
+     <tr><td class="num">  67.4</td><td class="left">'Sparkey'</td></tr>
+     <tr><td class="num">  67.8</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  69.5</td><td class="left">'Magnus and Susi'</td></tr>
+     <tr><td class="num">  70.1</td><td class="left">'Zhura'</td></tr>
+     <tr><td class="num">  70.8</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  72.2</td><td class="left">'Joona'</td></tr>
+     <tr><td class="num">  72.3</td><td class="left">'AQZ'</td></tr>
+     <tr><td class="num">  73.9</td><td class="left">'crypto_rsa'</td></tr>
+     <tr><td class="num">  74.1</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  75.0</td><td class="left">'Eselchen'</td></tr>
      <tr><td class="num">  75.2</td><td class="left">'Nicol?s'</td></tr>
-     <tr><td class="num">  75.2</td><td class="left">'AsuCaga'</td></tr>
      <tr><td class="num">  75.3</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  78.7</td><td class="left">'colonel crayon'</td></tr>
-     <tr><td class="num">  79.4</td><td class="left">'Kroetchen'</td></tr>
+     <tr><td class="num">  75.3</td><td class="left">'AsuCaga'</td></tr>
+     <tr><td class="num">  78.8</td><td class="left">'colonel crayon'</td></tr>
+     <tr><td class="num">  79.5</td><td class="left">'Kroetchen'</td></tr>
      <tr><td class="num">  80.3</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  85.1</td><td class="left">'Miel56'</td></tr>
-     <tr><td class="num">  90.0</td><td class="left">'The red O'</td></tr>
+     <tr><td class="num">  85.2</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  90.1</td><td class="left">'The red O'</td></tr>
      <tr><td class="num">  90.3</td><td class="left">'Sequoyah'</td></tr>
      <tr><td class="num">  92.3</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-rat.html
===================================================================
--- homepage/input/table-rat.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/table-rat.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -1,10 +1,10 @@
   <table>
-    <caption>$$Rating_Statistics$$ $$November$$ 2008</caption>
+    <caption>$$Rating_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
     <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1062</td><td class="num"> 5.06</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1056</td><td class="num"> 4.83</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num">1045</td><td class="num"> 4.93</td><td class="left">'Crystalicum'</td></tr>
-    <tr><td class="num">1029</td><td class="num"> 5.06</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">1033</td><td class="num"> 5.05</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">896</td><td class="num"> 4.79</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num">653</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
@@ -15,26 +15,27 @@
     <tr><td class="num">562</td><td class="num"> 4.48</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num">534</td><td class="num"> 4.97</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num">511</td><td class="num"> 5.30</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">503</td><td class="num"> 5.05</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">504</td><td class="num"> 5.05</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">482</td><td class="num"> 4.04</td><td class="left">'Vinksu'</td></tr>
     <tr><td class="num">448</td><td class="num"> 5.08</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num">433</td><td class="num"> 4.36</td><td class="left">'ged'</td></tr>
     <tr><td class="num">388</td><td class="num"> 4.86</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num">379</td><td class="num"> 5.00</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">307</td><td class="num"> 4.01</td><td class="left">'Sim_Ed'</td></tr>
     <tr><td class="num">285</td><td class="num"> 4.60</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num">274</td><td class="num"> 5.12</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">254</td><td class="num"> 4.91</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num">208</td><td class="num"> 6.15</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num">200</td><td class="num"> 5.74</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num">195</td><td class="num"> 5.78</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num">187</td><td class="num"> 5.05</td><td class="left">'WP319'</td></tr>
     <tr><td class="num">135</td><td class="num"> 4.13</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">129</td><td class="num"> 5.64</td><td class="left">'Raoul'</td></tr>
     <tr><td class="num"> 97</td><td class="num"> 4.16</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 91</td><td class="num"> 4.41</td><td class="left">'Zhura'</td></tr>
     <tr><td class="num"> 85</td><td class="num"> 4.76</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 80</td><td class="num"> 5.34</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 75</td><td class="num"> 4.52</td><td class="left">'Kroetchen'</td></tr>
     <tr><td class="num"> 72</td><td class="num"> 5.63</td><td class="left">'Wuzzy'</td></tr>
-    <tr><td class="num"> 70</td><td class="num"> 5.46</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 64</td><td class="num"> 6.08</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 63</td><td class="num"> 4.84</td><td class="left">'Mark P.'</td></tr>
     <tr><td class="num"> 52</td><td class="num"> 6.56</td><td class="left">'Hairball'</td></tr>
@@ -82,6 +83,7 @@
     <tr><td class="num">  2</td><td class="num"> 0.00</td><td class="left">'mhatta'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'jumbo'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'ael'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 1.00</td><td class="left">'Sigma'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 6.00</td><td class="left">'Slav'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Uli'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 0.00</td><td class="left">'Fred_the_wise'</td></tr>

Modified: homepage/input/table-solved.html
===================================================================
--- homepage/input/table-solved.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/table-solved.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -1,20 +1,20 @@
   <table>
-    <caption>$$Solved_Level_Statistics$$ $$November$$ 2008</caption>
+    <caption>$$Solved_Level_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>$$difficult$$</th><th>$$easy$$</th><th>$$total$$</th><th class="left">$$user$$</th></tr>
     <tr><td class="num">1045/1045</td><td class="num">189/189</td><td class="num">100.00%</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1043/1045</td><td class="num">189/189</td><td class="num"> 99.84%</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">1030/1045</td><td class="num">187/189</td><td class="num"> 98.62%</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">1034/1045</td><td class="num">188/189</td><td class="num"> 99.03%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">185/189</td><td class="num"> 98.38%</td><td class="left">'Freshman'</td></tr>
+    <tr><td class="num">1024/1045</td><td class="num">188/189</td><td class="num"> 98.22%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">183/189</td><td class="num"> 98.22%</td><td class="left">'Craven'</td></tr>
-    <tr><td class="num">1023/1045</td><td class="num">187/189</td><td class="num"> 98.06%</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">1026/1045</td><td class="num">185/189</td><td class="num"> 98.14%</td><td class="left">'Ale'</td></tr>
     <tr><td class="num">1026/1045</td><td class="num">184/189</td><td class="num"> 98.06%</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">1031/1045</td><td class="num">179/189</td><td class="num"> 98.06%</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">1024/1045</td><td class="num">185/189</td><td class="num"> 97.97%</td><td class="left">'Ale'</td></tr>
     <tr><td class="num">1021/1045</td><td class="num">177/189</td><td class="num"> 97.08%</td><td class="left">'Malla'</td></tr>
     <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num"> 999/1045</td><td class="num">177/189</td><td class="num"> 95.30%</td><td class="left">'biotopa'</td></tr>
-    <tr><td class="num"> 964/1045</td><td class="num">175/189</td><td class="num"> 92.30%</td><td class="left">'Daisy'</td></tr>
+    <tr><td class="num"> 971/1045</td><td class="num">175/189</td><td class="num"> 92.87%</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 970/1045</td><td class="num">166/189</td><td class="num"> 92.06%</td><td class="left">'Andy'</td></tr>
     <tr><td class="num"> 960/1045</td><td class="num">173/189</td><td class="num"> 91.82%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 949/1045</td><td class="num">170/189</td><td class="num"> 90.68%</td><td class="left">'para_doks'</td></tr>
@@ -34,12 +34,13 @@
     <tr><td class="num"> 804/1045</td><td class="num">142/189</td><td class="num"> 76.66%</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 800/1045</td><td class="num">135/189</td><td class="num"> 75.77%</td><td class="left">'dpl'</td></tr>
     <tr><td class="num"> 782/1045</td><td class="num">132/189</td><td class="num"> 74.07%</td><td class="left">'AlephD'</td></tr>
-    <tr><td class="num"> 783/1045</td><td class="num">126/189</td><td class="num"> 73.66%</td><td class="left">'Ludmian'</td></tr>
+    <tr><td class="num"> 786/1045</td><td class="num">127/189</td><td class="num"> 73.99%</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 779/1045</td><td class="num">121/189</td><td class="num"> 72.93%</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num"> 739/1045</td><td class="num">131/189</td><td class="num"> 70.50%</td><td class="left">'ABS'</td></tr>
     <tr><td class="num"> 728/1045</td><td class="num">126/189</td><td class="num"> 69.21%</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 755/1045</td><td class="num"> 96/189</td><td class="num"> 68.96%</td><td class="left">'brynn'</td></tr>
     <tr><td class="num"> 762/1045</td><td class="num"> 73/189</td><td class="num"> 67.67%</td><td class="left">'redsantz'</td></tr>
+    <tr><td class="num"> 712/1045</td><td class="num">120/189</td><td class="num"> 67.42%</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num"> 791/1045</td><td class="num"> 38/189</td><td class="num"> 67.18%</td><td class="left">'alfred69'</td></tr>
     <tr><td class="num"> 734/1045</td><td class="num"> 82/189</td><td class="num"> 66.13%</td><td class="left">'bojster'</td></tr>
     <tr><td class="num"> 782/1045</td><td class="num"> 33/189</td><td class="num"> 66.05%</td><td class="left">'Sim_Ed'</td></tr>
@@ -59,6 +60,7 @@
     <tr><td class="num"> 577/1045</td><td class="num">100/189</td><td class="num"> 54.86%</td><td class="left">'Zekobah'</td></tr>
     <tr><td class="num"> 634/1045</td><td class="num"> 43/189</td><td class="num"> 54.86%</td><td class="left">'Klaus'</td></tr>
     <tr><td class="num"> 576/1045</td><td class="num"> 93/189</td><td class="num"> 54.21%</td><td class="left">'Guglielmo'</td></tr>
+    <tr><td class="num"> 555/1045</td><td class="num"> 82/189</td><td class="num"> 51.62%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 525/1045</td><td class="num"> 95/189</td><td class="num"> 50.24%</td><td class="left">'ShadowPhrogg32642342'</td></tr>
     <tr><td class="num"> 589/1045</td><td class="num"> 26/189</td><td class="num"> 49.84%</td><td class="left">'hdwow'</td></tr>
     <tr><td class="num"> 533/1045</td><td class="num"> 82/189</td><td class="num"> 49.84%</td><td class="left">'Wuzzy'</td></tr>
@@ -67,7 +69,6 @@
     <tr><td class="num"> 499/1045</td><td class="num">111/189</td><td class="num"> 49.43%</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num"> 500/1045</td><td class="num"> 92/189</td><td class="num"> 47.97%</td><td class="left">'Kosby'</td></tr>
     <tr><td class="num"> 522/1045</td><td class="num"> 66/189</td><td class="num"> 47.65%</td><td class="left">'Timo'</td></tr>
-    <tr><td class="num"> 503/1045</td><td class="num"> 77/189</td><td class="num"> 47.00%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 478/1045</td><td class="num">101/189</td><td class="num"> 46.92%</td><td class="left">'Austin'</td></tr>
     <tr><td class="num"> 504/1045</td><td class="num"> 62/189</td><td class="num"> 45.87%</td><td class="left">'Hans-HD'</td></tr>
     <tr><td class="num"> 492/1045</td><td class="num"> 63/189</td><td class="num"> 44.98%</td><td class="left">'Antonio EE'</td></tr>
@@ -84,21 +85,22 @@
     <tr><td class="num"> 438/1045</td><td class="num">  3/189</td><td class="num"> 35.74%</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 40/189</td><td class="num"> 35.01%</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 349/1045</td><td class="num"> 77/189</td><td class="num"> 34.52%</td><td class="left">'Sigma'</td></tr>
     <tr><td class="num"> 397/1045</td><td class="num"> 24/189</td><td class="num"> 34.12%</td><td class="left">'Chocolate Zero'</td></tr>
     <tr><td class="num"> 376/1045</td><td class="num"> 35/189</td><td class="num"> 33.31%</td><td class="left">'Jeffrey S'</td></tr>
-    <tr><td class="num"> 339/1045</td><td class="num"> 69/189</td><td class="num"> 33.06%</td><td class="left">'Crystalicum'</td></tr>
+    <tr><td class="num"> 341/1045</td><td class="num"> 69/189</td><td class="num"> 33.23%</td><td class="left">'Crystalicum'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 12/189</td><td class="num"> 32.74%</td><td class="left">'NorthForty'</td></tr>
     <tr><td class="num"> 344/1045</td><td class="num"> 51/189</td><td class="num"> 32.01%</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num"> 382/1045</td><td class="num"> 10/189</td><td class="num"> 31.77%</td><td class="left">'J3FF'</td></tr>
     <tr><td class="num"> 347/1045</td><td class="num"> 45/189</td><td class="num"> 31.77%</td><td class="left">'rima'</td></tr>
     <tr><td class="num"> 335/1045</td><td class="num"> 50/189</td><td class="num"> 31.20%</td><td class="left">'Harry Lim'</td></tr>
     <tr><td class="num"> 361/1045</td><td class="num"> 18/189</td><td class="num"> 30.71%</td><td class="left">'MicWa'</td></tr>
-    <tr><td class="num"> 306/1045</td><td class="num"> 71/189</td><td class="num"> 30.55%</td><td class="left">'Davacardo'</td></tr>
     <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
     <tr><td class="num"> 350/1045</td><td class="num"> 25/189</td><td class="num"> 30.39%</td><td class="left">'IntKecsk'</td></tr>
     <tr><td class="num"> 323/1045</td><td class="num"> 52/189</td><td class="num"> 30.39%</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num"> 277/1045</td><td class="num"> 90/189</td><td class="num"> 29.74%</td><td class="left">'gringer'</td></tr>
     <tr><td class="num"> 347/1045</td><td class="num"> 15/189</td><td class="num"> 29.34%</td><td class="left">'WesleyCrusher'</td></tr>
+    <tr><td class="num"> 303/1045</td><td class="num"> 50/189</td><td class="num"> 28.61%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 331/1045</td><td class="num"> 14/189</td><td class="num"> 27.96%</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 281/1045</td><td class="num"> 63/189</td><td class="num"> 27.88%</td><td class="left">'erich'</td></tr>
     <tr><td class="num"> 295/1045</td><td class="num"> 29/189</td><td class="num"> 26.26%</td><td class="left">'Tiger'</td></tr>
@@ -110,7 +112,6 @@
     <tr><td class="num"> 276/1045</td><td class="num"> 15/189</td><td class="num"> 23.58%</td><td class="left">'Thomas'</td></tr>
     <tr><td class="num"> 258/1045</td><td class="num"> 27/189</td><td class="num"> 23.10%</td><td class="left">'un_guru'</td></tr>
     <tr><td class="num"> 245/1045</td><td class="num"> 36/189</td><td class="num"> 22.77%</td><td class="left">'B-man'</td></tr>
-    <tr><td class="num"> 232/1045</td><td class="num"> 38/189</td><td class="num"> 21.88%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 259/1045</td><td class="num">  7/189</td><td class="num"> 21.56%</td><td class="left">'geembo_90'</td></tr>
     <tr><td class="num"> 243/1045</td><td class="num"> 23/189</td><td class="num"> 21.56%</td><td class="left">'Snaily'</td></tr>
     <tr><td class="num"> 201/1045</td><td class="num"> 54/189</td><td class="num"> 20.66%</td><td class="left">'mhatta'</td></tr>
@@ -139,6 +140,7 @@
     <tr><td class="num"> 124/1045</td><td class="num"> 15/189</td><td class="num"> 11.26%</td><td class="left">'Magnus and Susi'</td></tr>
     <tr><td class="num"> 123/1045</td><td class="num"> 13/189</td><td class="num"> 11.02%</td><td class="left">'tasker'</td></tr>
     <tr><td class="num"> 131/1045</td><td class="num">  1/189</td><td class="num"> 10.70%</td><td class="left">'Asbel'</td></tr>
+    <tr><td class="num"> 121/1045</td><td class="num"> 10/189</td><td class="num"> 10.62%</td><td class="left">'Tomson'</td></tr>
     <tr><td class="num"> 105/1045</td><td class="num"> 22/189</td><td class="num"> 10.29%</td><td class="left">'Neophilus'</td></tr>
     <tr><td class="num">  89/1045</td><td class="num"> 24/189</td><td class="num">  9.16%</td><td class="left">'Zhura'</td></tr>
     <tr><td class="num">  98/1045</td><td class="num"> 13/189</td><td class="num">  9.00%</td><td class="left">'ReasonAnce'</td></tr>

Modified: homepage/input/table-wr.html
===================================================================
--- homepage/input/table-wr.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/table-wr.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -1,34 +1,35 @@
   <table>
-    <caption>$$Worldrecord_Statistics$$ $$November$$ 2008</caption>
+    <caption>$$Worldrecord_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">911</td><td class="num">242</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">170</td><td class="num">124</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num">152</td><td class="num">129</td><td class="left">'Crystalicum'</td></tr>
-    <tr><td class="num">151</td><td class="num"> 89</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">107</td><td class="num">100</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num"> 79</td><td class="num"> 66</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">908</td><td class="num">243</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">177</td><td class="num">128</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">167</td><td class="num">142</td><td class="left">'Crystalicum'</td></tr>
+    <tr><td class="num">149</td><td class="num"> 89</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">105</td><td class="num"> 98</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 83</td><td class="num"> 70</td><td class="left">'dev0'</td></tr>
     <tr><td class="num"> 52</td><td class="num"> 39</td><td class="left">'Duffy'</td></tr>
     <tr><td class="num"> 42</td><td class="num"> 29</td><td class="left">'Malla'</td></tr>
-    <tr><td class="num"> 40</td><td class="num"> 31</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num"> 40</td><td class="num"> 39</td><td class="left">'Great Scott'</td></tr>
     <tr><td class="num"> 39</td><td class="num"> 27</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num"> 39</td><td class="num"> 35</td><td class="left">'Mentist'</td></tr>
+    <tr><td class="num"> 38</td><td class="num"> 31</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num"> 31</td><td class="num"> 27</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 31</td><td class="num"> 29</td><td class="left">'Django'</td></tr>
     <tr><td class="num"> 29</td><td class="num"> 26</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 17</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 28</td><td class="num"> 20</td><td class="left">'Emmanuel'</td></tr>
-    <tr><td class="num"> 27</td><td class="num"> 18</td><td class="left">'Daisy'</td></tr>
-    <tr><td class="num"> 27</td><td class="num"> 26</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 26</td><td class="num"> 25</td><td class="left">'joseba'</td></tr>
     <tr><td class="num"> 24</td><td class="num"> 23</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 21</td><td class="num"> 19</td><td class="left">'ged'</td></tr>
+    <tr><td class="num"> 19</td><td class="num"> 17</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 17</td><td class="num">  9</td><td class="left">'Gloop'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 14</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 15</td><td class="left">'Safalra' + 'Ludmian'</td></tr>
     <tr><td class="num"> 15</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num"> 14</td><td class="num"> 14</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num"> 13</td><td class="num">  6</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 12</td><td class="num"> 11</td><td class="left">'dpl'</td></tr>
-    <tr><td class="num"> 11</td><td class="num">  8</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 13</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 12</td><td class="num"> 12</td><td class="left">'dpl'</td></tr>
     <tr><td class="num"> 11</td><td class="num"> 11</td><td class="left">'ABS'</td></tr>
     <tr><td class="num">  9</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
     <tr><td class="num">  9</td><td class="num">  7</td><td class="left">'Chocolate Zero'</td></tr>
@@ -38,16 +39,15 @@
     <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'para_doks' + 'Breezy'</td></tr>
     <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo'</td></tr>
     <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  1</td><td class="left">'Timo'</td></tr>
     <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
     <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Thomas' + 'Chris' + 'Wuzzy' + 'Ralf'</td></tr>
     <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Hairball'</td></tr>
     <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'U-Punkt' + 'J3FF' + 'Cyphase' + 'GiannuzzITA'</td></tr>
     <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'mecke' + 'Stephanie'</td></tr>
     <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Tiza' + 'Neophilus' + 'Nicol?s' + 'Andy'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'Timo'</td></tr>
     <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'alfred69' + 'ReasonAnce' + 'mrduke' + 'Drotten' + 'tjRaven' + 'Sim_Ed' + 'hendrik' + 'Bent' + 'Austin' + 'Snaily' + 'Craven' + 'Sopoforic' + 'Ingo' + 'serpent'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Feynman' + 'alain' + 'colonel crayon' + 'Gorn' + 'Nat'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Ale' + 'Feynman' + 'alain' + 'colonel crayon' + 'Gorn' + 'Nat'</td></tr>
     <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'Agares' + 'Tiger' + 'Zak' + 'Daniel' + 'Slav' + 'niebie' + 'Andreas' + 'AlephD' + 'Samuel' + 'Mark P.' + 'oblo' + 'Pascal' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Jinajon' + 'Vaily' + 'Antonio EE' + 'JuSt'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'jumbo' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ntaeijr' + 'Eselchen' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'jdrexler' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Valkyrie2' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'jojo' + 'WesleyCrusher' + 'rima' + 'Klaus' + 'MicWa' + 'AsuCaga' + 'oxyd4ever' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'un_guru' + 'krazy62' + 'Dvorhagen' + 'Sparkey' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</!
 td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'jumbo' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ntaeijr' + 'Eselchen' + 'ael' + 'biotopa' + 'Sigma' + 'brynn' + 'IntKecsk' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'jdrexler' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Valkyrie2' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'Tomson' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'jojo' + 'WesleyCrusher' + 'rima' + 'Klaus' + 'MicWa' + 'AsuCaga' + 'oxyd4ever' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'un_guru' + 'krazy62' + 'Dvorhagen' + 'Sparkey' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Michael' + 'Liam Sheehan' + 'Tarim' + 'Agnie!
 szka'</td></tr>
   </table>

Modified: homepage/input/userlist.html
===================================================================
--- homepage/input/userlist.html	2009-01-01 14:16:36 UTC (rev 1427)
+++ homepage/input/userlist.html	2009-01-03 14:18:01 UTC (rev 1428)
@@ -40,7 +40,6 @@
     <li>Cyphase</li>
     <li>Daisy</li>
     <li>Daniel</li>
-    <li>Davacardo</li>
     <li>daydreamer</li>
     <li>dev0</li>
     <li>Django</li>
@@ -108,6 +107,7 @@
     <li>Mecki</li>
     <li>Meeve</li>
     <li>Melanie</li>
+    <li>Mentist</li>
     <li>mhatta</li>
     <li>Michael</li>
     <li>MicWa</li>
@@ -142,6 +142,7 @@
     <li>serpent</li>
     <li>ShadowPhrogg32642342</li>
     <li>shoki</li>
+    <li>Sigma</li>
     <li>Sim_Ed</li>
     <li>Slav</li>
     <li>Snaily</li>
@@ -159,6 +160,7 @@
     <li>Tiza</li>
     <li>tjRaven</li>
     <li>Tobias</li>
+    <li>Tomson</li>
     <li>Turbogurk</li>
     <li>Uli</li>
     <li>un_guru</li>



From raoul at mail.berlios.de  Sat Jan  3 15:54:19 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 3 Jan 2009 15:54:19 +0100
Subject: [Enigma-game-svn] r1429 - homepage/input
Message-ID: <200901031454.n03EsJiG009649@sheep.berlios.de>

Author: raoul
Date: 2009-01-03 15:54:18 +0100 (Sat, 03 Jan 2009)
New Revision: 1429

Modified:
   homepage/input/credits.html
   homepage/input/credits_de.html
Log:
-> Some minor typographical changes



Modified: homepage/input/credits.html
===================================================================
--- homepage/input/credits.html	2009-01-03 14:18:01 UTC (rev 1428)
+++ homepage/input/credits.html	2009-01-03 14:54:18 UTC (rev 1429)
@@ -62,7 +62,7 @@
         </tr>
         <tr>
             <td>Dustin&nbsp;Norlander</td>
-            <td>Designer of the ``Dustismo'' font</td>
+            <td>Designer of the &ldquo;Dustismo&rdquo; font</td>
         </tr>
         <tr>
             <td>Jennifer&nbsp;Robertson</td>

Modified: homepage/input/credits_de.html
===================================================================
--- homepage/input/credits_de.html	2009-01-03 14:18:01 UTC (rev 1428)
+++ homepage/input/credits_de.html	2009-01-03 14:54:18 UTC (rev 1429)
@@ -62,7 +62,7 @@
         </tr>
         <tr>
             <td>Dustin&nbsp;Norlander</td>
-            <td>Designer der Schriftart "Dustismo"</td>
+            <td>Designer der Schriftart &bdquo;Dustismo&ldquo;</td>
         </tr>
 
         <tr>



From ral at mail.berlios.de  Mon Jan  5 01:07:09 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 5 Jan 2009 01:07:09 +0100
Subject: [Enigma-game-svn] r1430 - in trunk: data data/schemas src src/items
Message-ID: <200901050007.n050791A018845@sheep.berlios.de>

Author: ral
Date: 2009-01-05 01:06:57 +0100 (Mon, 05 Jan 2009)
New Revision: 1430

Added:
   trunk/src/items/Crack.cc
   trunk/src/items/Crack.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/WorldProxy.cc
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/server.cc
   trunk/src/server.hh
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering
- fix drop item
- crack item reengineering:
  - renamed to it_crack_i, it_crack_s, it_crack_m, it_crack_l
  - state attribute with values INVISIBLE, SMALL, MEDIUM, LARGE
  - attribute "fragility" as probability to crack, floor attribute "fragility"
    as default, global attribute "Fragility" as backup which defaults itself
    to 0.5
  - message "crack" and and actor entering do crack with the given probability
    in case the floor is destructable (water, abyss are not)
  - message "toggle" cracks unconditional
  - attribute "spreading" with default of global attribute "CrackSpreading"
    (0.5) as probability that an actor entering a crack will cause direct
    neighboring floors to start cracking with an it_crack_i, too.
  - spreaded cracks do inherit fragility and spreading attributes


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/api1init.lua	2009-01-05 00:06:57 UTC (rev 1430)
@@ -76,6 +76,10 @@
     it_coin_s = "it-coin1",
     it_coin_m = "it-coin2",
     it_coin_l = "it-coin4",
+    it_crack_i = "it-crack0",
+    it_crack_s = "it-crack1",
+    it_crack_m = "it-crack2",
+    it_crack_l = "it-crack3",
     it_cross = "it-cross",
     it_extralife = "it-extralife",
     it_death = "it-death",
@@ -688,6 +692,16 @@
      if key == "gohome" then
          if val == 1 then _val = true else _val = false end
      end
+     if key == "fixed" then
+         if val == 1 then
+             enigma._SetAttrib(obj, "fragility", 0.0)
+             enigma._SetAttrib(obj, "spreading", 0.0)
+         else 
+             enigma._SetAttrib(obj, "fragility", nil)
+             enigma._SetAttrib(obj, "spreading", nil)
+         end
+         return
+     end
      enigma._SetAttrib(obj, _key, _val)
 end
 

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/api2init.lua	2009-01-05 00:06:57 UTC (rev 1430)
@@ -73,6 +73,9 @@
 MEDIUM   = 1
 DARK     = 2
 FLOODING = 1
+INVISIBLE = -1
+SMALL     = 0
+LARGE     = 2
 
 -- color
 BLACK  = 0

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/models-2d.lua	2009-01-05 00:06:57 UTC (rev 1430)
@@ -600,11 +600,8 @@
     local frames = BuildFrames(images,50)
     DefAnim("it-debris", frames)
 
-    local frames = BuildFrames({"it-crack4", "it-crack5"},120)
-    DefAnim("it-crack_anim1", frames)
-
-    local frames = BuildFrames({"it-crack6", "it-crack7", "it-crack8"},120)
-    DefAnim("it-crack_anim2", frames)
+    local frames = BuildFrames({"it-crack4", "it-crack5", "it-crack6", "it-crack7", "it-crack8"},120)
+    DefAnim("it-crack_anim", frames)
 end
 
 -- it-death --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/schemas/objects.xml	2009-01-05 00:06:57 UTC (rev 1430)
@@ -29,6 +29,7 @@
     <attr name="force_y" type="double" default="0" rw="rw"/>
     <attr name="flavor" type="string" default="b" rw="rw"/>
     <attr name="floodable" type="bool" default="false" rw="rw"/>
+    <attr name="fragility" type="double" default="nil" rw="rw"/>
     <attr name="freeze_check" type="bool" default="false" rw="rw"/>
     <attr name="friction" type="double" default="nil" rw="rw"/>
     <attr name="gohome" type="bool" default="true" rw="rw"/>
@@ -70,6 +71,7 @@
     <attr name="secure" type="bool" default="false" rw="rw"/>
     <attr name="scissor" type="bool" default="false" rw="rw"/>
     <attr name="scratches" type="string" default="" rw="rw"/>
+    <attr name="spreading" type="double" default="nil" rw="rw"/>
     <attr name="state" type="int" default="0" min="0" max="1" rw="rw"/>
     <attr name="static" type="bool" default="false" rw="rw"/>
     <attr name="steady" type="bool" default="false" rw="rw"/>
@@ -87,6 +89,7 @@
   <messages>
     <msg name="close" type="nil"/>
     <msg name="closeall" type="nil"/>
+    <msg name="crack" type="nil"/>
     <msg name="darken" type="nil"/>
     <msg name="disconnect" type="nil"/>
     <msg name="expl" type="nil"/>
@@ -256,6 +259,7 @@
       <attr name="floodable"/>
       <attr name="force_x"/>
       <attr name="force_y"/>
+      <attr name="fragility"/>
       <attr name="freeze_check"/>
       <attr name="friction"/>
       <attr name="ignitable"/>
@@ -375,7 +379,26 @@
     <object name="it_coin_l">
       <attr name="state" value="2"/>
     </object>
-    <object name="it_cross">
+     <object name="it_crack">
+      <attr name="state" min="-1" max="3"/>
+      <attr name="fragility"/>
+      <attr name="spreading"/>
+      <msg name="crack"/>
+      <msg name="heat"/>
+    </object>
+    <object name="it_crack_i">
+      <attr name="state" value="-1"/>
+    </object>
+    <object name="it_crack_s">
+      <attr name="state" value="0"/>
+    </object>
+    <object name="it_crack_m">
+      <attr name="state" value="1"/>
+    </object>
+    <object name="it_crack_l">
+      <attr name="state" value="2"/>
+    </object>
+   <object name="it_cross">
       <attr name="interval" default="10"/>
       <attr name="state" rw="r"/>
       <msg name="_brush"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/Makefile.am	2009-01-05 00:06:57 UTC (rev 1430)
@@ -206,6 +206,8 @@
 	items/BlockerItem.hh	\
 	items/Coin.cc		\
 	items/Coin.hh		\
+	items/Crack.cc		\
+	items/Crack.hh		\
 	items/ExtraLife.cc	\
 	items/ExtraLife.hh	\
 	items/GlassesItem.cc	\

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/WorldProxy.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -74,14 +74,16 @@
             return server::SurviveFinish;
         } else if (key == "Width") {
             return Width();
-        } else if (key == "Brittleness") {
-            return server::Brittleness;
         } else if (key == "ActorimpulseStrength") {
             return server::BumperForce;
+        } else if (key == "CrackSpreading") {
+            return server::CrackSpreading;
         } else if (key == "ElectricStrength") {
             return server::ElectricForce;
         } else if (key == "ExtralifeGlasses") {
             return server::ExtralifeGlasses;
+        } else if (key == "Fragility") {
+            return server::Fragility;
         } else if (key == "FrictionStrength") {
             return server::FrictionFactor;
         } else if (key == "MeditationStrength") {
@@ -158,14 +160,16 @@
             STATUSBAR->show_move_counter (server::ShowMoves);
         } else if (key == "SurviveFinish") {
             server::SurviveFinish = val.to_bool();
-        } else if (key == "Brittleness") {
-            server::Brittleness = val;
+        } else if (key == "CrackSpreading") {
+            server::CrackSpreading = val;
         } else if (key == "ActorimpulseStrength") {
             server::BumperForce = val;
         } else if (key == "ElectricStrength") {
             server::ElectricForce = val;
         } else if (key == "ExtralifeGlasses") {
             server::ExtralifeGlasses = val;
+        } else if (key == "Fragility") {
+            server::Fragility = val;
         } else if (key == "FrictionStrength") {
             server::FrictionFactor = val;
         } else if (key == "MeditationStrength") {

Added: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/items/Crack.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -0,0 +1,142 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/Crack.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    Crack::Crack(int type) {
+        state = type;
+    }
+    
+    std::string Crack::getClass() const {
+        return "it_crack";
+    }
+    
+    Value Crack::message(const Message &m) {
+        if (m.message == "crack") {
+            crack();
+            return Value();
+        } else if (m.message == "heat") {
+            sound_event("crack");
+            replace("it-debris");
+            return true;
+        }
+        return Item::message(m);
+    }
+    
+    int Crack::maxState() const {
+        return DISSOLVING;
+    }
+    
+    int Crack::minState() const {
+        return INVISIBLE;
+    }
+    
+    void Crack::toggleState() {
+        if (state < DISSOLVING)
+            setState(state + 1);
+    }
+    
+    void Crack::init_model() {
+        switch (state) {
+            case INVISIBLE :
+                set_model("invisible"); break;
+            case SMALL :
+            case MEDIUM :
+            case LARGE :
+                set_model(ecl::strf("it-crack%d", state + 1)); break;
+            case DISSOLVING :
+                sound_event ("floordestroy");
+                set_anim("it-crack_anim");
+        }
+    }
+    
+    void Crack::animcb() {
+        GridPos p= get_pos();
+        SetFloor(p, MakeFloor("fl_abyss"));
+        KillItem(p);
+    }
+    
+    void Crack::actor_enter(Actor *a) {
+        if (a->is_on_floor()) {
+            crack();
+            if (state < DISSOLVING)
+                spread();
+        }
+    }
+    
+    void Crack::crack() {
+        Floor *fl = GetFloor(get_pos());
+        if (fl != NULL && fl->is_destructible()) {
+            Value v = fl->getAttr("fragility");
+            double fragility = getDefaultedAttr("fragility", v ? v : Value(server::Fragility));
+            if (state < DISSOLVING && DoubleRand(0, 0.9999) < fragility) {
+                toggleState();
+                sound_event("crack");
+            }
+        }
+    }
+    
+    void Crack::spread() {
+        for (Direction d = NORTH; d != NODIR; d = previous(d)) {
+            GridPos p = move(get_pos(), d);
+            if (Floor *fl = GetFloor(p)) {
+                if (fl->is_destructible()) {
+                    if (Item *it = GetItem(p))
+                        SendMessage(it, "crack");
+                    else {
+                        double spreading = getDefaultedAttr("spreading", server::CrackSpreading); 
+                        if (DoubleRand(0, 0.9999) < spreading) {
+                            Item *it = MakeItem("it_crack_i");
+                            if (Value v = getAttr("fragility"))
+                                it->setAttr("fragility", v);
+                            if (Value v = getAttr("spreading"))
+                                it->setAttr("spreading", v);
+                            SetItem(p, it);
+                        }
+                    }
+                }
+            }
+        }
+    }
+    
+    int Crack::traitsIdx() const {
+        return state < DISSOLVING ? state + 1 : 3;
+    }
+    
+    ItemTraits Crack::traits[4] = {
+        {"it_crack_i",  it_crack_i,  itf_static | itf_indestructible | itf_fireproof, 0.0},
+        {"it_crack_s",  it_crack_s,  itf_static | itf_indestructible | itf_fireproof, 0.0},
+        {"it_crack_m",  it_crack_m,  itf_static | itf_indestructible | itf_fireproof, 0.0},
+        {"it_crack_l",  it_crack_l,  itf_static | itf_indestructible | itf_fireproof, 0.0},
+    };
+
+    BOOT_REGISTER_START
+        BootRegister(new Crack(-1), "it_crack_i");
+        BootRegister(new Crack(0),  "it_crack_s");
+        BootRegister(new Crack(1),  "it_crack_m");
+        BootRegister(new Crack(2),  "it_crack_l");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/Crack.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/Crack.hh
===================================================================
--- trunk/src/items/Crack.hh	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/items/Crack.hh	2009-01-05 00:06:57 UTC (rev 1430)
@@ -0,0 +1,73 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef CRACKITEM_HH
+#define CRACKITEM_HH
+
+#include "items.hh"
+
+//#include "enigma.hh"
+
+namespace enigma {
+    /**
+     */
+
+    class Crack : public Item {
+        CLONEOBJ(Crack);
+        DECL_ITEMTRAITS_ARRAY(4, traitsIdx());
+
+    private:
+        enum iState {
+            INVISIBLE  = -1,       ///< 
+            SMALL      =  0,       ///< 
+            MEDIUM     =  1,       ///< 
+            LARGE      =  2,       ///<
+            DISSOLVING =  3        ///<  
+        };
+
+    public:
+        Crack(int type);
+        
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message (const Message &m);
+
+        // StateObject interface
+        virtual int maxState() const;
+        virtual int minState() const;
+        virtual void toggleState();
+//        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Item interface
+        virtual void actor_enter(Actor *a);
+        
+    private:
+        void crack();
+        void spread();
+        int traitsIdx() const;
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/Crack.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/items.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -525,7 +525,7 @@
                 replace("it-hollow");
             } else if (model == "fl_ice") {
                 // In ice, an it-dynamite explodes to an it-crack2:
-                replace("it-crack2");
+                replace("it_crack_m");
             } else {
                 SetItem(p, MakeItem("it-explosion2"));
             }
@@ -812,127 +812,6 @@
     };
 }
 
-
-/* -------------------- Cracks -------------------- */
-namespace
-{
-    class Crack : public Item {
-        CLONEOBJ(Crack);
-        DECL_ITEMTRAITS_ARRAY(4, get_type());
-
-    public:
-        static void setup() {
-            RegisterItem (new Crack(0));
-            RegisterItem (new Crack(1));
-            RegisterItem (new Crack(2));
-            RegisterItem (new Crack(3));
-        }
-
-    private:
-        Crack(int type=0)
-        : state(IDLE), anim_end(false)
-            {
-                setAttr("type", type);
-                setAttr("fixed", 0.0);
-             }
-
-        enum State { IDLE, CRACKING1, CRACKING2 } state;
-        bool anim_end;
-
-        int get_type() const {
-            int t = getAttr("type");
-            return ecl::Clamp(t, 0, 4);
-        }
-	    bool is_fixed() const { return getAttr("fixed") != 0; }
-
-        void init_model() {
-            if (int t=get_type()) {
-                if (t > 3) {
-                    state = CRACKING1;
-                    sound_event ("floordestroy");
-                    set_anim("it-crack_anim1");
-                //SetItem(get_pos(), MakeItem("it-debris"));
-                }else {
-                    set_model(ecl::strf("it-crack%d", t));
-                }
-            }
-            else
-                set_model("invisible");
-        }
-        void animcb() {
-            if (state == CRACKING2) {
-                GridPos p= get_pos();
-                SetFloor(p, MakeFloor("fl_abyss"));
-                KillItem(p);
-            } else {
-                state = CRACKING2;
-                set_anim("it-crack_anim2");
-            }
-        }
-
-        void crack(const GridPos &p) {
-            if (Floor *fl = GetFloor(p)) {
-                if (fl->is_destructible()) {
-                    if (Item *it = GetItem(p))
-                        SendMessage (it, "crack");
-                    else if (do_crack())
-                        SetItem(p, MakeItem("it-crack0"));
-                }
-            }
-        }
-
-        void actor_enter(Actor *a) {
-            if (a->is_on_floor()) {
-                SendMessage(this, "crack");
-
-                if (get_type() <= 3) {
-                    GridPos p = get_pos();
-                    crack (move(p, NORTH));
-                    crack (move(p, EAST));
-                    crack (move(p, SOUTH));
-                    crack (move(p, WEST));
-                }
-            }
-        }
-        bool actor_hit(Actor *a) {
-            if (anim_end)
-                SendMessage(a, "_fall");
-            return false;
-        }
-        virtual Value message(const Message &m) {
-            if (m.message == "crack" && state==IDLE && !is_fixed()) {
-                int type = get_type();
-                if ((type == 0 && do_crack()) || (type > 0)) {
-                    setAttr("type", Value((int)getAttr("type") + 1));
-                    sound_event ("crack");
-                    init_model();
-                return Value();
-                }
-            } else if (m.message == "heat") {
-                sound_event ("crack");
-                replace("it-debris");
-                return true;
-            }
-            return Item::message(m);
-        }
-
-        bool do_crack() {
-            if (!is_fixed()) {
-                double brittleness = getDefaultedAttr("brittleness", server::Brittleness);
-                double rnd = DoubleRand(0, 1);
-                return rnd < brittleness;
-    	    } else
-                return false;
-        }
-    };
-    ItemTraits Crack::traits[4] = {
-        {"it-crack0", it_crack0, itf_static | itf_indestructible | itf_fireproof, 0.0},
-        {"it-crack1", it_crack1, itf_static | itf_indestructible | itf_fireproof, 0.0},
-        {"it-crack2", it_crack2, itf_static | itf_indestructible | itf_fireproof, 0.0},
-        {"it-crack3", it_crack3, itf_static | itf_indestructible | itf_fireproof, 0.0}
-    };
-}
-
 /* -------------------- Debris -------------------- */
 namespace
 {
@@ -1651,7 +1530,7 @@
                 if (model == "fl_abyss" || model == "fl_water" || model == "fl_swamp") {
                     return ITEM_KEEP;
                 } else  if (model == "fl_ice") {
-                    SetItem (p, MakeItem("it-crack1"));
+                    SetItem (p, MakeItem("it_crack_s"));
                 } else {
                     SetItem (p, MakeItem("it-cross"));
                 }
@@ -1781,11 +1660,11 @@
             if (id == ac_marble_black || id == ac_marble_white) {
                 // Kill ALL rubberbands connected with the actor:
                 SendMessage(a, "disconnect");
-                Actor *rotor = MakeActor("ac-rotor");
+                Actor *rotor = MakeActor("ac_rotor");
                 rotor->setAttr("adhesion", Value (1.0));
                 rotor->setAttr("controllers", Value (iplayer+1));
                 rotor->setAttr("player", Value (iplayer));
-                rotor->setAttr("gohome", Value (0.0));
+                rotor->setAttr("gohome", Value (false));
                 rotor->setAttr("essential", a->getAttr("essential"));
                 std::string essId;
                 if (Value v = a->getAttr("essential_id")) {
@@ -1822,7 +1701,6 @@
     Burnable::setup();
     RegisterItem (new ChangeFloorItem);
     RegisterItem (new Coffee);
-    Crack::setup();
     RegisterItem (new Cross);
     RegisterItem (new Debris);
     RegisterItem (new Document);

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/items.hh	2009-01-05 00:06:57 UTC (rev 1430)
@@ -53,10 +53,10 @@
         it_coin1,
         it_coin2, 
         it_coin4,
-        it_crack0,
-        it_crack1,
-        it_crack2,
-        it_crack3,
+        it_crack_i,
+        it_crack_s,
+        it_crack_m,
+        it_crack_l,
         it_cross,
         it_death,
         it_debris,

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/ox_extra.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -321,13 +321,13 @@
     "it-dynamite",                // OxydExtra item 0x0a
     UNUSED,                  // OxydExtra item 0x0b
     UNUSED,                  // OxydExtra item 0x0c
-    "it-crack0",                  // OxydExtra item 0x0d
-    "it-crack1",                  // OxydExtra item 0x0e
-    "it-crack2",                  // OxydExtra item 0x0f
-    "it-crack3",                  // OxydExtra item 0x10
-    "it_coin_s",                   // OxydExtra item 0x11
-    "it_coin_m",                   // OxydExtra item 0x12
-    "it_coin_l",                   // OxydExtra item 0x13
+    "it_crack_i",                 // OxydExtra item 0x0d
+    "it_crack_s",                 // OxydExtra item 0x0e
+    "it_crack_m",                 // OxydExtra item 0x0f
+    "it_crack_l",                 // OxydExtra item 0x10
+    "it_coin_s",                  // OxydExtra item 0x11
+    "it_coin_m",                  // OxydExtra item 0x12
+    "it_coin_l",                  // OxydExtra item 0x13
     "it_key_a",                   // OxydExtra item 0x14
     "it_key_b",                   // OxydExtra item 0x15
     "it_key_c",                   // OxydExtra item 0x16

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/ox_magnum.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -303,10 +303,10 @@
     "it-dynamite",      // OxydMagnum item 0x0a
     "it-blackbomb",     // OxydMagnum item 0x0b
     "it-whitebomb",     // OxydMagnum item 0x0c
-    "it-crack0",        // OxydMagnum item 0x0d
-    "it-crack1",        // OxydMagnum item 0x0e
-    "it-crack2",        // OxydMagnum item 0x0f
-    "it-crack3",        // OxydMagnum item 0x10
+    "it_crack_i",        // OxydMagnum item 0x0d
+    "it_crack_s",        // OxydMagnum item 0x0e
+    "it_crack_m",        // OxydMagnum item 0x0f
+    "it_crack_l",        // OxydMagnum item 0x10
     "it_coin_s",         // OxydMagnum item 0x11
     "it_coin_m",         // OxydMagnum item 0x12
     "it_coin_l",         // OxydMagnum item 0x13

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/ox_oxyd1.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -319,10 +319,10 @@
     "it-dynamite",                // 0x0a
     "it-blackbomb",               // 0x0b
     "it-whitebomb",               // 0x0c
-    "it-crack0",                  // 0x0d
-    "it-crack1",                  // 0x0e
-    "it-crack2",                  // 0x0f
-    "it-crack3",                  // 0x10
+    "it_crack_i",                 // 0x0d
+    "it_crack_s",                 // 0x0e
+    "it_crack_m",                 // 0x0f
+    "it_crack_l",                 // 0x10
     "it_coin_s",                  // 0x11
     "it_coin_m",                  // 0x12
     "it_coin_l",                  // 0x13

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/ox_peroxyd.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -392,10 +392,10 @@
     "it-dynamite",                // 0x0a
     "it-blackbomb",               // 0x0b
     "it-whitebomb",               // 0x0c
-    "it-crack0",                  // 0x0d
-    "it-crack1",                  // 0x0e
-    "it-crack2",                  // 0x0f
-    "it-crack3",                  // 0x10
+    "it_crack_i",                 // 0x0d
+    "it_crack_s",                 // 0x0e
+    "it_crack_m",                 // 0x0f
+    "it_crack_l",                 // 0x10
     "it_coin_s",                  // 0x11
     "it_coin_m",                  // 0x12
     "it_coin_l",                  // 0x13

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/server.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -100,6 +100,8 @@
 bool     server::WorldSized;                // no Lua access
 bool     server::WorldInitialized;          // no Lua access
 double   server::Brittleness;
+double   server::Fragility;
+double   server::CrackSpreading;
 double   server::BumperForce;
 double   server::ElectricForce;
 double   server::EnigmaCompatibility;       // no Lua access
@@ -260,6 +262,8 @@
     server::FollowThreshold   = 0.5;
     server::ShowMoves         = false;
     server::Brittleness       = 0.5;
+    server::Fragility         = 0.5;
+    server::CrackSpreading    = 0.5;
     server::SlopeForce        = 25.0;
     server::FlatForce         = 0.0;
     server::FrictionFactor    = 1.0;

Modified: trunk/src/server.hh
===================================================================
--- trunk/src/server.hh	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/server.hh	2009-01-05 00:06:57 UTC (rev 1430)
@@ -91,8 +91,11 @@
    
     // Default brittleness of the floor: 0 = stable..1=unstable.
     // Really: probability that a floor tile will crack when an actor
-    // enters or leaves it.
+    // enters or leaves it. - used up to 1.01
     extern double   Brittleness;
+    // 1.10 crack variables
+    extern double   Fragility;
+    extern double   CrackSpreading;
     
     extern int      MaxOxydColor;
 

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/src/world.cc	2009-01-05 00:06:57 UTC (rev 1430)
@@ -1647,8 +1647,12 @@
     LaserBeam::prepareLevel();   // clear lists of no longer existing objects
 }
 
-bool WorldInitLevel()
-{
+bool WorldInitLevel() {
+    if (server::EnigmaCompatibility < 1.10) {
+        server::Fragility = server::Brittleness;
+        server::CrackSpreading = server::Brittleness;
+    }
+    
     level->scramble_puzzles();
 
     RecalcLight();



From raoul at mail.berlios.de  Mon Jan  5 01:38:11 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 5 Jan 2009 01:38:11 +0100
Subject: [Enigma-game-svn] r1431 - in trunk/data/levels: enigma_cross
	enigma_esprit enigma_i enigma_iii enigma_oxyd
	enigma_oxydmagnum enigma_tutorial enigma_vi
Message-ID: <200901050038.n050cB5i002680@sheep.berlios.de>

Author: raoul
Date: 2009-01-05 01:38:08 +0100 (Mon, 05 Jan 2009)
New Revision: 1431

Added:
   trunk/data/levels/enigma_esprit/esprit67_2.xml
   trunk/data/levels/enigma_oxydmagnum/oxm37_2.xml
   trunk/data/levels/enigma_vi/ulf05_2.xml
Removed:
   trunk/data/levels/enigma_esprit/esprit67_1.xml
   trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml
   trunk/data/levels/enigma_vi/ulf05_1.xml
Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_esprit/esprit26_3.xml
   trunk/data/levels/enigma_esprit/index.xml
   trunk/data/levels/enigma_i/index.xml
   trunk/data/levels/enigma_i/siegfried36_1.xml
   trunk/data/levels/enigma_iii/duffy69_1.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_oxyd/index.xml
   trunk/data/levels/enigma_oxydmagnum/index.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/raoul26_1.xml
Log:
-> Preparations for removal of "fl-normal_x" and "fl-rough_{medium,slow}"
-> Fixed some broken indices and deja-vu levels



Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -124,7 +124,7 @@
     <level _seq="116" _title="Cannonball" _xpath="enigma_iv/ant11_1" author="Petr Machata" ctrl="force" easy="false" id="ant11" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="117" _title="Islands" _xpath="enigma_i/duffy10_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy10" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="118" _title="Space Walk" _xpath="enigma_iii/nat35_2" author="Nat Pryce" ctrl="force" easy="false" id="natmaze4" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="119" _title="- Meditation -" _xpath="enigma_i/siegfried36_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="119" _title="- Meditation -" _xpath="enigma_i/siegfried36_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="Jump!" _xpath="enigma_i/duffy07_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy7" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="121" _title="Checkerboard" _xpath="enigma_iii/duffy08_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy8" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="122" _title="Circularity" _xpath="enigma_iv/ant10_1" author="Petr Machata" ctrl="force" easy="false" id="ant10" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -149,7 +149,7 @@
     <level _seq="141" _title="Tilt Control" _xpath="enigma_iii/duffy66_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy66" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="142" _title="Anticipation" _xpath="enigma_v/duffy67_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy67" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="143" _title="What a Mess" _xpath="enigma_iv/duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="144" _title="Tilt Maze" _xpath="enigma_iii/duffy69_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy69" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="144" _title="Tilt Maze" _xpath="enigma_iii/duffy69_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy69" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -201,7 +201,7 @@
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="194" _title="Oiltrace" _xpath="enigma_vi/raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="195" _title="The Cube" _xpath="enigma_vi/malaire01_1" author="Markus Laire" ctrl="force" easy="true" id="20061120malaire901" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="198" _title="be quick or be dead" _xpath="enigma_vi/illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="199" _title="Tarzan" _xpath="enigma_vi/ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 1.01 new"/>
+  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 1.01 new"/>
 
   <attributes/>
 
@@ -14,7 +14,7 @@
     <level _seq="6" _title="Red Herrings" _xpath="enigma_vi/andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="7" _title="Playing with Lasers" _xpath="enigma_vi/just09_1" author="JuSt" ctrl="force" easy="false" id="just09_1" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Hot Hurdle Race" _xpath="enigma_vi/ulf04_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20070124ulf019" rel="1" rev="93" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="1" rev="93" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="95" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Check the light" _xpath="enigma_vi/just10_2" author="JuSt" ctrl="force" easy="false" id="just10" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="11" _title="Twokoban I" _xpath="enigma_vi/raoul28_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="The Passage" _xpath="enigma_vi/just11_1" author="JuSt" ctrl="force" easy="false" id="just11" rel="1" rev="7" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_esprit/esprit26_3.xml
===================================================================
--- trunk/data/levels/enigma_esprit/esprit26_3.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_esprit/esprit26_3.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bank-O-Mat" el:subtitle="esprit 26" el:id="ss4"/>
-      <el:version el:score="3" el:release="3" el:revision="2" el:status="released"/>
+      <el:version el:score="3" el:release="3" el:revision="3" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl-bumps"}
-ti["#"] = {"st-fakeoxyd"}
+ti["#"] = {"st_fake_quake"}
 ti["D"] = {"st_death"}
 ti["O"] = {"st_oxyd"}
 ti["."] = {"it_seed"}
@@ -29,7 +29,7 @@
 ti["6"] = {"st_coinslot", _id=6, interval_m=COIN_IGNORE, target="open_door"}
 ti["7"] = {"st_coinslot", _id=7, interval_m=COIN_IGNORE, target="open_door"}
 ti["8"] = {"st_coinslot", _id=8, interval_m=COIN_IGNORE, target="open_door"}
-ti["@"] = {"#ac-blackball"}
+ti["@"] = {"#ac_marble_black"}
 
 w, h = wo(ti, " ", {
 "#######################################",

Deleted: trunk/data/levels/enigma_esprit/esprit67_1.xml
===================================================================
--- trunk/data/levels/enigma_esprit/esprit67_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_esprit/esprit67_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,65 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="esprit 67" el:subtitle="esprit 67" el:id="martin54"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-create_world( 20, 13)
-enigma.ConserveLevel=FALSE
-
-oxyd_default_flavor = "a"
-
-fill_floor( "fl-abyss", 0, 0, level_width, 2)
-fill_floor( "fl-rough", 0, 2, level_width, level_height-2)
-fill_floor( "fl-rough_medium", 5, 7, 10, 1)
-
-draw_border("st-rock1", 0, 2, level_width, level_height-2)
-draw_border("st-rock1", 2, 4, level_width-4, level_height-6)
-draw_border("st-rock1", 4, 6, level_width-8, level_height-10)
-
-set_stone("st-death", 4, 7)
-set_stone("st-death",15, 7)
-
-oxyd( 0, 7)
-oxyd( 2, 4)
-oxyd( 2, 7)
-oxyd( 2,10)
-oxyd( 4, 6)
-oxyd( 4, 8)
-oxyd(19, 7)
-oxyd(17, 4)
-oxyd(17, 7)
-oxyd(17,10)
-oxyd(15, 6)
-oxyd(15, 8)
-oxyd_shuffle()
-
-set_actor("ac-blackball", 10, 7.5, {player=0, controllers=1, essential=-1})
-
-if not difficult then
-    set_actor("ac-killerball", 10, 5.5, {player=0, controllers=1, mouseforce=1})
-else
-    set_actor("ac-whiteball-small", 10, 5.5, {player=0, controllers=1, essential=-1})
-end
-
-set_actor("ac-whiteball-small", 10,11.5, {player=0, controllers=1})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_esprit/esprit67_2.xml (from rev 1429, trunk/data/levels/enigma_esprit/esprit67_1.xml)
===================================================================
--- trunk/data/levels/enigma_esprit/esprit67_1.xml	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/levels/enigma_esprit/esprit67_2.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="esprit 67" el:subtitle="esprit 67" el:id="martin54"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl-rough"}
+ti["-"] = {"fl-rough", friction=5.0, adhesion=1.2}
+ti["#"] = {"st-rock1"}
+ti["D"] = {"st_death"}
+ti["O"] = {"st_oxyd", flavor="a"}
+ti["@"] = ti["-"] .. {"ac_marble_black", 1.0, 0.5, essential=-1}
+if wo["IsDifficult"] then
+    ti["."] = {"ac_pearl", 1.0, 0.5, essential=-1}
+else
+    ti["."] = {"ac_killer", 1.0, 0.5}
+end
+
+w, h = wo(ti, " ", {
+"####################",
+"#                  #",
+"# O##############O #",
+"# #      .       # #",
+"# # O##########O # #",
+"O O D---- at -----D O O",
+"# # O##########O # #",
+"# #              # #",
+"# O##############O #",
+"#        .         #",
+"####################"})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_esprit/esprit67_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_esprit/index.xml
===================================================================
--- trunk/data/levels/enigma_esprit/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_esprit/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="D?j?-vu" location="20100" network="false" owner="Enigma Team" release="1" revision="4" title="Esprit"/>
+  <info enigma="1.00" group="D?j?-vu" location="20100" network="false" owner="Enigma Team" release="1" revision="5" title="Esprit"/>
 
   <attributes/>
 
@@ -31,7 +31,7 @@
     <level _seq="23" _title="esprit 23" _xpath="./esprit23_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="esprit 24" _xpath="./esprit24_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp24" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="esprit 25" _xpath="./esprit25_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp25" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="26" _title="Bank-O-Mat" _xpath="./esprit26_3" author="Sven Siggelkow" ctrl="force" easy="false" id="ss4" rel="3" rev="2" score="3" target="time" unit="duration"/>
+    <level _seq="26" _title="Bank-O-Mat" _xpath="./esprit26_3" author="Sven Siggelkow" ctrl="force" easy="false" id="ss4" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="27" _title="esprit 27" _xpath="./esprit27_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="esprit 28" _xpath="./esprit28_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="esprit 29" _xpath="./esprit29_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp29" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -65,7 +65,7 @@
     <level _seq="57" _title="esprit 63" _xpath="./esprit63_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp63" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="esprit 65" _xpath="./esprit65_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp65" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="esprit 66" _xpath="./esprit66_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp66" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="60" _title="esprit 67" _xpath="./esprit67_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin54" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="60" _title="esprit 67" _xpath="./esprit67_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin54" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="esprit 68" _xpath="./esprit68_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp68" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="esprit 69" _xpath="./esprit69_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp69" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="- Meditation -" _xpath="./esprit70_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp70" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_i/index.xml
===================================================================
--- trunk/data/levels/enigma_i/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_i/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma I"/>
+  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma I"/>
 
   <attributes/>
 
@@ -55,7 +55,7 @@
     <level _seq="47" _title="Mission Impossible" _xpath="./martin14_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Hurry!" _xpath="./jc01_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc01" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hall of Glass" _xpath="./martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="- Meditation -" _xpath="./siegfried36_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="- Meditation -" _xpath="./siegfried36_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Deadly Cross" _xpath="./martin84_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin84" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="The Enigmhanoi Towers" _xpath="./alain05_1" author="Alain Busser" ctrl="force" easy="true" id="alain05" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Mirror Room" _xpath="./luc12_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc12" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_i/siegfried36_1.xml
===================================================================
--- trunk/data/levels/enigma_i/siegfried36_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_i/siegfried36_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="meditation15"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Siegfried Fennig" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2002 Siegfried Fennig</el:copyright>
       <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
@@ -23,7 +23,10 @@
 fill_floor("fl-abyss", 0,0, levelw,levelh)
 fill_floor("fl-normal",20,6, 18,1)
 fill_floor("fl-normal",28,2, 2,2)
-fill_floor("fl-normal_x",28,9, 2,2)
+set_floor("fl-normal", 28,9,{friction=3.0})
+set_floor("fl-normal", 28,10,{friction=3.0})
+set_floor("fl-normal", 29,9,{friction=3.0})
+set_floor("fl-normal", 29,10,{friction=3.0})
 
 draw_floor("fl-gradient", {38,5}, {0,1}, 3, {type=4})
 draw_floor("fl-gradient", {19,5}, {0,1}, 3, {type=3})

Modified: trunk/data/levels/enigma_iii/duffy69_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy69_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_iii/duffy69_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Tilt Maze" el:subtitle="" el:id="duffy69"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,6 @@
 fill_floor("fl-normal", 0,0,levelw,levelh)
 
 enigma.SlopeForce=10
---enigma.FrictionFactor=.5
 
 function renderLine( line, pattern)
     for i=1, strlen(pattern) do
@@ -36,7 +35,6 @@
             set_stone( "st-greenbrown", i-1, line)
         elseif c =="%" then
             set_stone( "st-greenbrown", i-1, line)
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c =="X" then
             set_stone( "st-death", i-1, line)
         elseif c == "o" then
@@ -47,15 +45,12 @@
             abyss(i-1,line)
         elseif c=="z" then
             set_actor("ac-blackball", i-.5,line+.5)
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
             set_stone( "st-wood", i-1, line)
         elseif c=="=" then
             set_floor("fl-space",i-1,line)
-        elseif c=="x" then
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c=="i" then
             set_floor("fl-ice",i-1,line)
         elseif c=="1" then
@@ -115,19 +110,14 @@
             end
         elseif c=="a" then
             set_item("it-trigger", i-1,line, {action="callback", target="funccdir1"})
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c=="b" then
             set_item("it-trigger", i-1,line, {action="callback", target="funccdir2"})
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c=="c" then
             set_item("it-trigger", i-1,line, {action="callback", target="funccdir3"})
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c=="d" then
             set_item("it-trigger", i-1,line, {action="callback", target="funccdir4"})
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c=="e" then
             set_item("it-trigger", i-1,line, {action="callback", target="funccdir5"})
-            --            set_floor("fl-rough_slow",i-1,line)
         elseif c == "d" then --1-d
             set_floor("fl-gradient",  i-1,  line, {type=21})
         elseif c == "u" then --2-u
@@ -153,58 +143,6 @@
     end
 end
 
---renderLine(00,"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")
---renderLine(01,"%exxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxe%")
---renderLine(02,"%xzax#############################xaxx%")
---renderLine(03,"%xdxb#78#789A89A8978978A789A#A789#dxbx%")
---renderLine(04,"%xxcx#45#456A564564A6456456A#6456#xcxx%")
---renderLine(05,"%x####123123#A############3123#23####x%")
---renderLine(06,"%x#A8978A78A#897897A9789A#97A9#89789#x%")
---renderLine(07,"%x#45########A ###4#64564#A456#AA4AA#x%")
---renderLine(08,"%x#12#12A123#  Ly# #AA#31########1###x%")
---renderLine(09,"%x#78978#789##A###7#97#97A97897A#789#x%")
---renderLine(10,"%x#A56A564A64564564#64#64A64A645#4#6#x%")
---renderLine(11,"%x################A#3A#31231A312#A#3#x%")
---renderLine(12,"%x#78978#A897A97897#97########A89789#x%")
---renderLine(13,"%x#4A#A5645A4A64##4#A4#A45645########x%")
---renderLine(14,"%x#12#A23A2A1231#31#31#31A312312312A#x%")
---renderLine(15,"%x#A8############A7#97 97######8A789#x%")
---renderLine(16,"%x#4564564o#AA64#64#64564A6456#####6#x%")
---renderLine(17,"%x##2#######1231A31#A#####3A23123123#x%")
---renderLine(18,"%x#o8#A8978978A789A#A7897#9#######8A#x%")
---renderLine(19,"%x####45A4A#########64A64#645645A####x%")
---renderLine(20,"%xxax#12A1##A2312AA231#31#AAAAA23#xaxx%")
---renderLine(21,"%xdxb#A89789789A89789A#978978978A#dxbx%")
---renderLine(22,"%xxcx#############################xcxx%")
---renderLine(23,"%xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxe%")
---renderLine(24,"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")
-
---renderLine(00,"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")
---renderLine(01,"%exxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxe%")
---renderLine(02,"%xzax#############################xaxx%")
---renderLine(03,"%xdxb#  #      A       A   A#A   #dxbx%")
---renderLine(04,"%xxcx#  #   A      A       A#    #xcxx%")
---renderLine(05,"%x####      #A############    #  ####x%")
---renderLine(06,"%x#A    A  A#      A    A#  A #     #x%")
---renderLine(07,"%x#  ########A ### #     #A   #AA AA#x%")
---renderLine(08,"%x#  #  A   #  Ly# #A #  ######## ###x%")
---renderLine(09,"%x#     #   ##A### #  #  A     A#   #x%")
---renderLine(10,"%x#A  A   A        #  #  A  A   # # #x%")
---renderLine(11,"%x################A# A#     A   #A# #x%")
---renderLine(12,"%x#     #A   A     #  ########A     #x%")
---renderLine(13,"%x# A#A    A A  ## #  #A     ########x%")
---renderLine(14,"%x#  #A  A A    #  #A #  A         A#x%")
---renderLine(15,"%x#A ############A #  A  ###### A   #x%")
---renderLine(16,"%x#       o#AA  #  #     A    ##### #x%")
---renderLine(17,"%x## #######    A  #A##### A        #x%")
---renderLine(18,"%x#o #A       A   A#A    # ####### A#x%")
---renderLine(19,"%x####  A A#########  A  #      A####x%")
---renderLine(20,"%xxax#  A ##A    AA   #  #AAAAA  #xaxx%")
---renderLine(21,"%xdxb#A        A     A#         A#dxbx%")
---renderLine(22,"%xxcx#############################xcxx%")
---renderLine(23,"%xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxe%")
---renderLine(24,"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")
-
 renderLine(00,"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%")
 renderLine(01,"%xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx%")
 renderLine(02,"%xzax#############################xaxx%")

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="8" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma III"/>
 
   <attributes/>
 
@@ -92,7 +92,7 @@
     <level _seq="84" _title="Tilt Control" _xpath="./duffy66_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy66" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lost In Space" _xpath="./martin90_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin90" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Triple Threat" _xpath="./illmind10_1" author="illmind" ctrl="force" easy="false" id="illmind10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Tilt Maze" _xpath="./duffy69_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy69" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Tilt Maze" _xpath="./duffy69_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy69" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Think Fast" _xpath="./duffy85_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy85" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="89" _title="Overshoot" _xpath="./ss02_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss2" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="Fool the Watchdog" _xpath="./duffy57_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy57" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_oxyd/index.xml
===================================================================
--- trunk/data/levels/enigma_oxyd/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_oxyd/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="D?j?-vu" location="20200" network="false" owner="Enigma Team" release="1" revision="3" title="Oxyd"/>
+  <info enigma="1.00" group="D?j?-vu" location="20200" network="false" owner="Enigma Team" release="1" revision="4" title="Oxyd"/>
 
   <attributes/>
 
@@ -31,35 +31,34 @@
     <level _seq="23" _title="Tunnel System" _xpath="./oxyd33_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried98" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Oxyd 37" _xpath="./oxyd37_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060629ulf005" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="The Amazing Maze" _xpath="./oxyd38_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss_ox38" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="26" _title="Take a Break" _xpath="./oxyd39_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried72" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="27" _title="Jump Pads" _xpath="./oxyd51_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried88" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Moonwalking" _xpath="./oxyd52_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060629ulf006" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Scrooge" _xpath="./oxyd53_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried100" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Soaring High" _xpath="./oxyd54_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried101" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Oxyd 70" _xpath="./oxyd70_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd70" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Oxyd 77" _xpath="./oxyd77_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd77" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="33" _title="Oxyd 79" _xpath="./oxyd79_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20070103ulf015" rel="1" rev="68" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Oxyd 90" _xpath="./oxyd90_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd90" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="So Many Doors" _xpath="./oxyd93_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9b" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Oxyd 95" _xpath="./oxyd95_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20070103ulf014" rel="1" rev="68" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Oxyd Link 1" _xpath="./oxydlink01_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p1" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Land of the Doors" _xpath="./oxydlink02_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin65" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="39" _title="Oxyd Link 3" _xpath="./oxydlink03_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p3" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Black or White" _xpath="./oxydlink05_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin42" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title="Advance Planning" _xpath="./oxydlink14_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried76" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title="Airlock" _xpath="./oxydlink17_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8b" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="OxydLink 23" _xpath="./oxydlink23_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried104" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Preferences" _xpath="./oxydlink28_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Letter Bomb" _xpath="./oxydlink31_1" author="Siegfried Fennig" ctrl="force" easy="false" id="oxydlink31" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="46" _title="Oxyd Link 33" _xpath="./oxydlink33_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p33" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Mirror III" _xpath="./oxydlink41_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried80" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="My Way, Your Way" _xpath="./oxydlink46_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10e" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Center Court" _xpath="./oxydlink61_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11c" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Parcours" _xpath="./oxydlink65_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8a" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Oxyd Link 68" _xpath="./oxydlink68_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p68" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Slide Show" _xpath="./oxydlink72_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8c" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Oxyd Link 87" _xpath="./oxydlink87_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p87" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="OxydLink 95" _xpath="./oxydlink95_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried103" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="26" _title="Jump Pads" _xpath="./oxyd51_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried88" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="27" _title="Moonwalking" _xpath="./oxyd52_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060629ulf006" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Scrooge" _xpath="./oxyd53_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried100" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Soaring High" _xpath="./oxyd54_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried101" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Oxyd 70" _xpath="./oxyd70_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd70" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Oxyd 77" _xpath="./oxyd77_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd77" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Oxyd 79" _xpath="./oxyd79_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20070103ulf015" rel="1" rev="68" score="1" target="time" unit="duration"/>
+    <level _seq="33" _title="Oxyd 90" _xpath="./oxyd90_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd90" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="So Many Doors" _xpath="./oxyd93_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9b" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="Oxyd 95" _xpath="./oxyd95_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20070103ulf014" rel="1" rev="68" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Oxyd Link 1" _xpath="./oxydlink01_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p1" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Land of the Doors" _xpath="./oxydlink02_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin65" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Oxyd Link 3" _xpath="./oxydlink03_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p3" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="39" _title="Black or White" _xpath="./oxydlink05_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin42" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Advance Planning" _xpath="./oxydlink14_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried76" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title="Airlock" _xpath="./oxydlink17_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8b" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title="OxydLink 23" _xpath="./oxydlink23_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried104" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="Preferences" _xpath="./oxydlink28_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10d" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Letter Bomb" _xpath="./oxydlink31_1" author="Siegfried Fennig" ctrl="force" easy="false" id="oxydlink31" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="Oxyd Link 33" _xpath="./oxydlink33_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p33" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Mirror III" _xpath="./oxydlink41_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried80" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="My Way, Your Way" _xpath="./oxydlink46_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10e" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="Center Court" _xpath="./oxydlink61_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11c" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Parcours" _xpath="./oxydlink65_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8a" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Oxyd Link 68" _xpath="./oxydlink68_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p68" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Slide Show" _xpath="./oxydlink72_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8c" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Oxyd Link 87" _xpath="./oxydlink87_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxyd2p87" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="OxydLink 95" _xpath="./oxydlink95_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried103" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_oxydmagnum/index.xml
===================================================================
--- trunk/data/levels/enigma_oxydmagnum/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_oxydmagnum/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="D?j?-vu" location="20400" network="false" owner="Enigma Team" release="1" revision="2" title="Oxyd Magnum"/>
+  <info enigma="1.00" group="D?j?-vu" location="20400" network="false" owner="Enigma Team" release="1" revision="3" title="Oxyd Magnum"/>
 
   <attributes/>
 
@@ -23,11 +23,11 @@
     <level _seq="15" _title="Hover Doors" _xpath="./oxm27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried81" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Land of Impulses" _xpath="./oxm28_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried89" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Follow the Light" _xpath="./oxm33_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin49" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Tilt" _xpath="./oxm37_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin51" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="18" _title="Tilt" _xpath="./oxm37_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin51" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Oxyd Magnum 40" _xpath="./oxm40_1" author="Raoul Bourquin" ctrl="force" easy="false" id="oxydmagnum40" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Light and Doors" _xpath="./oxm58_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried91" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Sensor Fields" _xpath="./oxm78_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried84" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="22" _title="Puller Mailing" _xpath="./oxm82_1" author="anonymous" ctrl="force" easy="false" id="magnum82" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Puller Mailing" _xpath="./oxm82_1" author="anonymous" ctrl="force" easy="false" id="magnum82" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Turnstiles" _xpath="./oxm84_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried82" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Hall of Mirrors" _xpath="./oxm96_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried96" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Letter Bomb" _xpath="./oxm99_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried97" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml
===================================================================
--- trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,70 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Tilt" el:subtitle="Oxyd Magnum 37" el:id="martin51"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92" el:engine="oxyd.magnum">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-create_world( 20, 13)
-oxyd_default_flavor = "b"
-
-fill_floor("fl-rough")
-fill_floor("fl-rough_slow", 14, 5, 3, 3)
-
-stone = "st-metal"
-
-draw_border( stone)
-draw_stones( stone, { 1,5}, {1,0}, 4)
-draw_stones( stone, { 1,7}, {1,0}, 4)
-draw_stones( stone, { 5,1}, {0,1}, 5)
-draw_stones( stone, { 5,7}, {0,1}, 5)
-draw_stones( stone, { 7,1}, {0,1}, 5)
-draw_stones( stone, { 7,7}, {0,1}, 5)
-draw_stones( stone, { 8,5}, {1,0}, 7)
-draw_stones( stone, { 8,7}, {1,0}, 7)
-draw_stones( stone, {14,4}, {1,0}, 3)
-draw_stones( stone, {14,8}, {1,0}, 3)
-draw_stones( stone, {17,5}, {0,1}, 3)
-draw_stones( stone, {16,5}, {0,2}, 2)
-set_stone( stone, 13,6)
-
-doorv( 2, 6, {name="door1"})
-doorh( 6, 2, {name="door2"})
-doorh( 6,10, {name="door3"})
-doorv(10, 6, {name="door4"})
-set_floor( "fl-bridge", 6, 6, {name="bridge"})
-
-set_item( "it-trigger", 14,6, {action="openclose", target="door1"})
-set_item( "it-trigger", 15,5, {action="openclose", target="door2"})
-set_item( "it-trigger", 15,6, {action="openclose", target="bridge"})
-set_item( "it-trigger", 15,7, {action="openclose", target="door3"})
-set_item( "it-trigger", 16,6, {action="openclose", target="door4"})
-
-oxyd( 6, 0)
-oxyd( 6,12)
-oxyd( 0, 6)
-oxyd(12, 6)
-
-oxyd_shuffle()
-
-set_actor("ac-blackball", 9.2, 6.5, {essential=1})
-set_actor("ac-whiteball-small", 15.5, 6.5, {player=0})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_oxydmagnum/oxm37_2.xml (from rev 1429, trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml)
===================================================================
--- trunk/data/levels/enigma_oxydmagnum/oxm37_1.xml	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/levels/enigma_oxydmagnum/oxm37_2.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Tilt" el:subtitle="Oxyd Magnum 37" el:id="martin51"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10" el:engine="oxyd.magnum">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl-rough"}
+ti["-"] = {"fl-rough", friction=7.0, adhesion=0.5}
+ti["X"] = {"fl_bridge", name="bridge"}
+ti["#"] = {"st-metal"}
+ti["O"] = {"st_oxyd"}
+ti["6"] = {"st_door", name="dn", flavor="d", faces="ns"}
+ti["8"] = {"st_door", name="ds", flavor="d", faces="ns"}
+ti["7"] = {"st_door", name="de", flavor="d", faces="ew"}
+ti["9"] = {"st_door", name="dw", flavor="d", faces="ew"}
+ti["@"] = {"#ac_marble_black"}
+ti["."] = ti["-"] .. {"#ac_pearl"}
+ti["1"] = ti["-"] .. {"it_trigger", target="dn"}
+ti["2"] = ti["-"] .. {"it_trigger", target="de"}
+ti["3"] = ti["-"] .. {"it_trigger", target="ds"}
+ti["4"] = ti["-"] .. {"it_trigger", target="dw"}
+ti["5"] = ti["."] .. {"it_trigger", target="bridge", action=ONOFF, inverse=true}
+
+w, h = wo(ti, " ", {
+"######O#############",
+"#    # #           #",
+"#    #6#           #",
+"#    # #           #",
+"#    # #      ###  #",
+"###### ########1## #",
+"O 9   X @ 7 O#452# #",
+"###### ########3## #",
+"#    # #      ###  #",
+"#    # #           #",
+"#    #8#           #",
+"#    # #           #",
+"######O#############"
+})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_oxydmagnum/oxm37_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="7" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="8" title="Tutorial"/>
 
   <attributes/>
 
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Meditation 2" _xpath="./m_med2" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_med2" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="9" _title="Movement 4" _xpath="./m_tut7" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut7" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="10" _title="Movement 5" _xpath="./m_tut8" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut8" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Floors 2" _xpath="./m_tut10" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Floors 3" _xpath="./m_tut11" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Doors and Triggers" _xpath="./a_tut01" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -3,51 +3,48 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floors 1" el:subtitle="" el:id="m_tutor/m_tut9"/>
-      <el:version el:score="2" el:release="2" el:revision="0" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="1" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
+      <el:compatibility el:enigma="1.10"/>
       <el:modes el:easy="true" el:single="true" el:network="false"/>
       <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
       </el:comments>
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
 oxyd_default_flavor = "d"
 
-cells={}
-cells[" "]=cell{floor="fl-leavesb"}
-cells["1"]=cell{floor="fl-leaves"}
-cells["2"]=cell{floor="fl-leavesc1"}
-cells["3"]=cell{floor="fl-leavesc2"}
-cells["4"]=cell{floor="fl-leavesc3"}
-cells["5"]=cell{floor="fl-leavesc4"}
-cells["6"]=cell{floor="fl-leavesd1"}
-cells["7"]=cell{floor="fl-leavesd2"}
-cells["8"]=cell{floor="fl-leavesd3"}
-cells["9"]=cell{floor="fl-leavesd4"}
-cells["M"]=cell{floor="fl-metal"}
-cells["I"]=cell{floor="fl-ice"}
-cells["R"]=cell{floor="fl-rough_slow"}
-cells["D"]=cell{floor="fl-dunes"}
-cells["S"]=cell{floor="fl-space"}
-cells["S"]=cell{floor="fl-space"}
-cells["C"]=cell{floor="fl-sand"}
-cells["#"]=cell{stone="st-likeoxyda"}
-cells["d"]=cell{{{document, "text1"}}}
-cells["o"]=cell{parent=cells["C"],actor={"ac-blackball", {player=0}}}
+ti[" "] = {"fl-leavesb"}
+ti["1"] = {"fl-leaves"}
+ti["2"] = {"fl-leavesc1"}
+ti["3"] = {"fl-leavesc2"}
+ti["4"] = {"fl-leavesc3"}
+ti["5"] = {"fl-leavesc4"}
+ti["6"] = {"fl-leavesd1"}
+ti["7"] = {"fl-leavesd2"}
+ti["8"] = {"fl-leavesd3"}
+ti["9"] = {"fl-leavesd4"}
+ti["M"] = {"fl-metal"}
+ti["I"] = {"fl_ice"}
+ti["R"] = {"fl-rough", friction=7.0, adhesion=0.5}
+ti["D"] = {"fl-dunes"}
+ti["S"] = {"fl_space"}
+ti["C"] = {"fl-sand"}
+ti["#"] = {"st_fake_oxyda"}
+ti["d"] = ti["1"] .. {"it-document", text="text1"}
+ti["o"] = ti["C"] .. {"#ac_marble_black"}
+ti["0"] = {"st_oxyd", flavor="d"}
 
-if (not difficult) then 
-    cells["Q"]=cell{stone="st-likeoxydd"}
+if wo["IsDifficult"] then
+    ti["Q"] = {"st_oxyd", flavor="d"}
 else
-    cells["Q"]=cell{{{oxyd}}}
+    ti["Q"] = {"st_fake_oxydd"}
 end
 
-level = {
+w, h = wo(ti, " ", {
    "##########################################################",
    "#                  #                  #                  #",
    "# 2111111111111114 # 2111111111111114 # 2111111111111114 #",
@@ -72,21 +69,17 @@
    "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
    "# 3111111111111115 # 3111111111111115 # 3111111111111115 #",
    "#                  #                  #                  #",
-   "##########################################################"
-}
+   "##########################################################"})
 
-set_default_parent(cells["1"])
-create_world_by_map(level,cells)
-
-oxyd_shuffle()
-    ]]></el:luamain>
+wo:shuffleOxyd()
+ ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">
         <el:english el:translate="false"/>
       </el:string>
       <el:string el:key="text1">
         <el:english el:translate="true">Friction and acceleration depend on the floor type.</el:english>
-      </el:string> 
+      </el:string>
     </el:i18n>
   </el:protected>
 </el:level>

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma VI"/>
 
   <attributes/>
 
@@ -60,9 +60,9 @@
     <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="100" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="1" rev="93" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="95" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Chess and Boxes" _xpath="./johannes01_1" author="Johannes Laire" ctrl="force" easy="false" id="20061201johannes313" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Walk the line" _xpath="./erich02_1" author="Erich Schubert" ctrl="force" easy="true" id="erich02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Jump into Meditation" _xpath="./ral07_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060525ral009" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/raoul26_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul26_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_vi/raoul26_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puzzle Puzzles" el:subtitle="look forward!" el:id="raoul26"/>
-      <el:version el:score="1" el:release="1" el:revision="25" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="26" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -86,7 +86,7 @@
         elseif c=="-" then
             set_floor("fl-rough",i-1,line)
         elseif c=="+" then
-            set_floor("fl-rough_slow",i-1,line)
+            set_floor("fl-rough",i-1,line,{adhesion=0.5, friction=7.0})
         elseif c=="~" then
             set_floor("fl-water",i-1,line)
         elseif c=="l" then

Deleted: trunk/data/levels/enigma_vi/ulf05_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/ulf05_1.xml	2009-01-05 00:06:57 UTC (rev 1430)
+++ trunk/data/levels/enigma_vi/ulf05_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -1,83 +0,0 @@
-<?xml version="1.0" encoding="utf-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-  xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd"
-  xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected >
-    <el:info el:type="level">
-      <el:identity el:title="Counterclockwise"
-        el:id="20070126ulf020"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 93 $" el:status="released"/>
-      <el:author  el:name="Ulf Stegemann" el:email="ulf-enigma at zeitform.de"
-        el:homepage="http://ulf.zeitform.de"/>
-      <el:copyright>Copyright ? 2007 Ulf Stegemann</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-        <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force"
-        el:scoreunit="duration" el:scoretarget="time"/>
-      <el:score el:easy="00:59" el:difficult="01:08"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- DIFFICULTY --
-if difficult then
-  dstone = "st-likeoxydc"
-  dint = 0.20
-else
-  dstone = "st-bluegray"
-  dint = 0.30
-end
-
--- CELLS --
-lasers={}
-cells={}
-cells[" "]=cell{floor="fl-rough_medium"}
-cells["#"]=cell{stone=dstone}
-cells["X"]=cell{stone="st-glass2"}
-cells["1"]=cell{{{add_multistone,"st-laser-e",lasers,{on=FALSE}}}}
-cells["2"]=cell{{{add_multistone,"st-laser-n",lasers,{on=FALSE}}}}
-cells["3"]=cell{{{add_multistone,"st-laser-w",lasers,{on=FALSE}}}}
-cells["4"]=cell{{{add_multistone,"st-laser-s",lasers,{on=FALSE}}}}
-cells["T"]=cell{item={"it-sensor",{action="callback",target="light_on"}}}
-cells["M"]=cell{item={"it-magnet",{on=TRUE,strength=100}}}
-
--- LANDSCAPE MAP --
-level = {
-   "#######00######0####",
-   "#M      T  T      M#",
-   "# #4##0########### #",
-   "# #              3 #",
-   "# # XXXXXXXXXXXX 0 #",
-   "0 # XXXXXXXXXXXX # #",
-   "# # XXXXXXXXXXXX # 0",
-   "# 0 XXXXXXXXXXXX 0 #",
-   "# 0 XXXXXXXXXXXX 0 #",
-   "0 1              # #",
-   "# #####0########2# #", 
-   "#M                M#",
-   "#0###0###0##########"
-}
-
--- FUNCTIONS --
-function light_on()
-  send_group_message(lasers,"on")
-end
-
--- GENERAL --
-enigma.ConserveLevel=TRUE
-oxyd_default_flavor = "c"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-oxyd_shuffle()
-set_actor("ac-blackball",10,1.5,{player=0})
-mytop=set_actor("ac-top",9.5,11.5,{gohome=0})
-lightpass=set_stone("st-lightpassenger",9,9,{interval=dint})
-AddRubberBand(mytop,lightpass,50,0)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-     </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vi/ulf05_2.xml (from rev 1429, trunk/data/levels/enigma_vi/ulf05_1.xml)
===================================================================
--- trunk/data/levels/enigma_vi/ulf05_1.xml	2009-01-03 14:54:18 UTC (rev 1429)
+++ trunk/data/levels/enigma_vi/ulf05_2.xml	2009-01-05 00:38:08 UTC (rev 1431)
@@ -0,0 +1,61 @@
+<?xml version="1.0" encoding="utf-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Counterclockwise" el:id="20070126ulf020"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 95 $" el:status="released"/>
+      <el:author  el:name="Ulf Stegemann" el:email="ulf-enigma at zeitform.de" el:homepage="http://ulf.zeitform.de"/>
+      <el:copyright>Copyright ? 2007 Ulf Stegemann</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false" el:control="force" el:scoreunit="duration" el:scoretarget="time"/>
+      <el:score el:easy="00:59" el:difficult="01:08"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+if wo["IsDifficult"] then
+  ti["#"] = {"st_fake_oxydc"}
+  lint = 0.20
+else
+  ti["#"] = {"st-bluegray"}
+  lint = 0.30
+end
+ti[" "] = {"fl-rough", friction=5.0, adhesion=1.2}
+ti["X"] = {"st-glass2"}
+ti["1"] = {"st_laser", name="le", orientation=EAST, state=OFF}
+ti["2"] = {"st_laser", name="ln", orientation=NORTH, state=OFF}
+ti["3"] = {"st_laser", name="lw", orientation=WEST, state=OFF}
+ti["4"] = {"st_laser", name="ls", orientation=SOUTH, state=OFF}
+ti["T"] = {"it_sensor", target={"ln", "le", "ls", "lw"}, invisible=true}
+ti["M"] = {"it_magnet", state=ON, strength=100.0}
+ti["0"] = {"st_oxyd", flavor="c"}
+ti["@"] = {"ac_marble_black", 1.0, 0.5}
+ti["L"] = {"st_lightpassenger", name="lp", interval=lint}
+ti["t"] = {"#ac_top", {0.5,0.5}, name="top", gohome=false}
+
+w, h = wo(ti, " ", {
+   "#######00######0####",
+   "#M      T@ T      M#",
+   "# #4##0########### #",
+   "# #              3 #",
+   "# # XXXXXXXXXXXX 0 #",
+   "0 # XXXXXXXXXXXX # #",
+   "# # XXXXXXXXXXXX # 0",
+   "# 0 XXXXXXXXXXXX 0 #",
+   "# 0 XXXXXXXXXXXX 0 #",
+   "0 1      L       # #",
+   "# #####0########2# #",
+   "#M       t        M#",
+   "#0###0###0##########"})
+
+wo:add({"ot_rubberband", anchor1="top", anchor2="lp", strength=50.0})
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_vi/ulf05_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native



From raoul at mail.berlios.de  Mon Jan  5 21:13:55 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 5 Jan 2009 21:13:55 +0100
Subject: [Enigma-game-svn] r1432 - homepage/input
Message-ID: <200901052013.n05KDtVZ013102@sheep.berlios.de>

Author: raoul
Date: 2009-01-05 21:13:54 +0100 (Mon, 05 Jan 2009)
New Revision: 1432

Modified:
   homepage/input/credits.html
   homepage/input/credits_de.html
Log:
-> Just another "-fix



Modified: homepage/input/credits.html
===================================================================
--- homepage/input/credits.html	2009-01-05 00:38:08 UTC (rev 1431)
+++ homepage/input/credits.html	2009-01-05 20:13:54 UTC (rev 1432)
@@ -85,7 +85,7 @@
             <td>Level design</td>
         </tr>
         <tr>
-            <td>Andrew&nbsp;"Necros"&nbsp;Sega</td>
+            <td>Andrew&nbsp;&ldquo;Necros&rdquo;&nbsp;Sega</td>
             <td>Menu music (Pentagonal Dreams)</td>
         </tr>
         <tr>

Modified: homepage/input/credits_de.html
===================================================================
--- homepage/input/credits_de.html	2009-01-05 00:38:08 UTC (rev 1431)
+++ homepage/input/credits_de.html	2009-01-05 20:13:54 UTC (rev 1432)
@@ -86,7 +86,7 @@
             <td>Landschaftsdesign</td>
         </tr>
         <tr>
-            <td>Andrew&nbsp;``Necros''&nbsp;Sega</td>
+            <td>Andrew&nbsp;&bdquo;Necros&ldquo;&nbsp;Sega</td>
             <td>Men&uuml;-Musik (Pentagonal Dreams)</td>
         </tr>
         <tr>



From ral at mail.berlios.de  Tue Jan  6 00:43:23 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 6 Jan 2009 00:43:23 +0100
Subject: [Enigma-game-svn] r1433 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 src
Message-ID: <200901052343.n05NhNf1011669@sheep.berlios.de>

Author: ral
Date: 2009-01-06 00:43:20 +0100 (Tue, 06 Jan 2009)
New Revision: 1433

Added:
   trunk/data/gfx32/fl_aquamarine.png
   trunk/data/gfx32/fl_bast.png
   trunk/data/gfx32/fl_bluegray.png
   trunk/data/gfx32/fl_bluegreen.png
   trunk/data/gfx32/fl_brick.png
   trunk/data/gfx32/fl_concrete.png
   trunk/data/gfx32/fl_dunes.png
   trunk/data/gfx32/fl_gravel.png
   trunk/data/gfx32/fl_himalaya.png
   trunk/data/gfx32/fl_ivory.png
   trunk/data/gfx32/fl_plank.png
   trunk/data/gfx32/fl_platinum.png
   trunk/data/gfx32/fl_sahara.png
   trunk/data/gfx40/fl_aquamarine.png
   trunk/data/gfx40/fl_bast.png
   trunk/data/gfx40/fl_bluegray.png
   trunk/data/gfx40/fl_bluegreen.png
   trunk/data/gfx40/fl_brick.png
   trunk/data/gfx40/fl_concrete.png
   trunk/data/gfx40/fl_dunes.png
   trunk/data/gfx40/fl_gravel.png
   trunk/data/gfx40/fl_himalaya.png
   trunk/data/gfx40/fl_ivory.png
   trunk/data/gfx40/fl_plank.png
   trunk/data/gfx40/fl_platinum.png
   trunk/data/gfx40/fl_sahara.png
   trunk/data/gfx48/fl_aquamarine.png
   trunk/data/gfx48/fl_bast.png
   trunk/data/gfx48/fl_bluegray.png
   trunk/data/gfx48/fl_bluegreen.png
   trunk/data/gfx48/fl_brick.png
   trunk/data/gfx48/fl_concrete.png
   trunk/data/gfx48/fl_dunes.png
   trunk/data/gfx48/fl_gravel.png
   trunk/data/gfx48/fl_himalaya.png
   trunk/data/gfx48/fl_ivory.png
   trunk/data/gfx48/fl_plank.png
   trunk/data/gfx48/fl_platinum.png
   trunk/data/gfx48/fl_sahara.png
Removed:
   trunk/data/gfx32/fl-bluegray.png
   trunk/data/gfx32/fl-bluegreen.png
   trunk/data/gfx32/fl-bluegreenx.png
   trunk/data/gfx32/fl-brick.png
   trunk/data/gfx32/fl-concrete.png
   trunk/data/gfx32/fl-dunes.png
   trunk/data/gfx32/fl-floor_001.png
   trunk/data/gfx32/fl-gravel.png
   trunk/data/gfx32/fl-himalaya.png
   trunk/data/gfx32/fl-light.png
   trunk/data/gfx32/fl-lightgray.png
   trunk/data/gfx32/fl-plank.png
   trunk/data/gfx32/fl-sahara.png
   trunk/data/gfx40/fl-bluegray.png
   trunk/data/gfx40/fl-bluegreen.png
   trunk/data/gfx40/fl-bluegreenx.png
   trunk/data/gfx40/fl-brick.png
   trunk/data/gfx40/fl-concrete.png
   trunk/data/gfx40/fl-dunes.png
   trunk/data/gfx40/fl-floor_001.png
   trunk/data/gfx40/fl-gravel.png
   trunk/data/gfx40/fl-himalaya.png
   trunk/data/gfx40/fl-light.png
   trunk/data/gfx40/fl-lightgray.png
   trunk/data/gfx40/fl-plank.png
   trunk/data/gfx40/fl-sahara.png
   trunk/data/gfx48/fl-bluegray.png
   trunk/data/gfx48/fl-bluegreen.png
   trunk/data/gfx48/fl-bluegreenx.png
   trunk/data/gfx48/fl-brick.png
   trunk/data/gfx48/fl-concrete.png
   trunk/data/gfx48/fl-dunes.png
   trunk/data/gfx48/fl-floor_001.png
   trunk/data/gfx48/fl-gravel.png
   trunk/data/gfx48/fl-himalaya.png
   trunk/data/gfx48/fl-light.png
   trunk/data/gfx48/fl-lightgray.png
   trunk/data/gfx48/fl-plank.png
   trunk/data/gfx48/fl-sahara.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/startup.lua
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
Log:
Trunk 1.1: new API reengineering
- renaming of standard floors - part I:
  - fl-bluegray -> fl_bluegray
  - fl-bluegreen -> fl_bluegreen
  - fl-bluegreenx -> fl_aquamarine
  - fl-brick -> fl_brick
  - fl-concrete -> fl_concrete
  - fl-dunes -> fl_dunes
  - fl-floor_001 -> fl_bast
  - fl-gravel -> fl_gravel
  - fl-himalaya -> fl_himalaya
  - fl-light -> fl_ivory
  - fl-lightgray -> fl_platinum
  - fl-plank -> fl_plank
  - fl-sahara -> fl_sahara

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/data/api1init.lua	2009-01-05 23:43:20 UTC (rev 1433)
@@ -54,10 +54,23 @@
     ac_rotor = "ac-rotor",
     ac_top = "ac-top",
     fl_abyss = "fl-abyss",
+    fl_aquamarine = "fl-bluegreenx",
+    fl_bast = "fl-floor_001",
+    fl_bluegray = "fl-bluegray",
+    fl_bluegreen = "fl-bluegreen",
+    fl_brick = "fl-brick",
     fl_bridge = "fl-bridge",
+    fl_concrete = "fl-concrete",
+    fl_dunes = "fl-dunes",
+    fl_gravel = "fl-gravel",
     fl_hay = "fl-hay",
+    fl_himalaya = "fl-himalaya",
     fl_ice = "fl-ice",
+    fl_ivory = "fl-light",
+    fl_plank = "fl-plank",
+    fl_platinum = "fl-lightgray",
     fl_rock = "fl-rock",
+    fl_sahara = "fl-sahara", 
     fl_space = "fl-space",
     fl_swamp = "fl-swamp",
     fl_water = "fl-water",

Deleted: trunk/data/gfx32/fl-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-bluegreen.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-bluegreenx.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-brick.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-concrete.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-dunes.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-floor_001.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-gravel.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-himalaya.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-light.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-lightgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-plank.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-sahara.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/fl_aquamarine.png (from rev 1427, trunk/data/gfx32/fl-bluegreenx.png)

Copied: trunk/data/gfx32/fl_bast.png (from rev 1427, trunk/data/gfx32/fl-floor_001.png)

Copied: trunk/data/gfx32/fl_bluegray.png (from rev 1427, trunk/data/gfx32/fl-bluegray.png)

Copied: trunk/data/gfx32/fl_bluegreen.png (from rev 1427, trunk/data/gfx32/fl-bluegreen.png)

Copied: trunk/data/gfx32/fl_brick.png (from rev 1427, trunk/data/gfx32/fl-brick.png)

Copied: trunk/data/gfx32/fl_concrete.png (from rev 1427, trunk/data/gfx32/fl-concrete.png)

Copied: trunk/data/gfx32/fl_dunes.png (from rev 1427, trunk/data/gfx32/fl-dunes.png)

Copied: trunk/data/gfx32/fl_gravel.png (from rev 1427, trunk/data/gfx32/fl-gravel.png)

Copied: trunk/data/gfx32/fl_himalaya.png (from rev 1427, trunk/data/gfx32/fl-himalaya.png)

Copied: trunk/data/gfx32/fl_ivory.png (from rev 1427, trunk/data/gfx32/fl-light.png)

Copied: trunk/data/gfx32/fl_plank.png (from rev 1427, trunk/data/gfx32/fl-plank.png)

Copied: trunk/data/gfx32/fl_platinum.png (from rev 1427, trunk/data/gfx32/fl-lightgray.png)

Copied: trunk/data/gfx32/fl_sahara.png (from rev 1427, trunk/data/gfx32/fl-sahara.png)

Deleted: trunk/data/gfx40/fl-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-bluegreen.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-bluegreenx.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-brick.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-concrete.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-dunes.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-floor_001.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-gravel.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-himalaya.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-light.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-lightgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-plank.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-sahara.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/fl_aquamarine.png (from rev 1427, trunk/data/gfx40/fl-bluegreenx.png)

Copied: trunk/data/gfx40/fl_bast.png (from rev 1427, trunk/data/gfx40/fl-floor_001.png)

Copied: trunk/data/gfx40/fl_bluegray.png (from rev 1427, trunk/data/gfx40/fl-bluegray.png)

Copied: trunk/data/gfx40/fl_bluegreen.png (from rev 1427, trunk/data/gfx40/fl-bluegreen.png)

Copied: trunk/data/gfx40/fl_brick.png (from rev 1427, trunk/data/gfx40/fl-brick.png)

Copied: trunk/data/gfx40/fl_concrete.png (from rev 1427, trunk/data/gfx40/fl-concrete.png)

Copied: trunk/data/gfx40/fl_dunes.png (from rev 1427, trunk/data/gfx40/fl-dunes.png)

Copied: trunk/data/gfx40/fl_gravel.png (from rev 1427, trunk/data/gfx40/fl-gravel.png)

Copied: trunk/data/gfx40/fl_himalaya.png (from rev 1427, trunk/data/gfx40/fl-himalaya.png)

Copied: trunk/data/gfx40/fl_ivory.png (from rev 1427, trunk/data/gfx40/fl-light.png)

Copied: trunk/data/gfx40/fl_plank.png (from rev 1427, trunk/data/gfx40/fl-plank.png)

Copied: trunk/data/gfx40/fl_platinum.png (from rev 1427, trunk/data/gfx40/fl-lightgray.png)

Copied: trunk/data/gfx40/fl_sahara.png (from rev 1427, trunk/data/gfx40/fl-sahara.png)

Deleted: trunk/data/gfx48/fl-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-bluegreen.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-bluegreenx.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-brick.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-concrete.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-dunes.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-floor_001.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-gravel.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-himalaya.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-light.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-lightgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-plank.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-sahara.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/fl_aquamarine.png (from rev 1427, trunk/data/gfx48/fl-bluegreenx.png)

Copied: trunk/data/gfx48/fl_bast.png (from rev 1427, trunk/data/gfx48/fl-floor_001.png)

Copied: trunk/data/gfx48/fl_bluegray.png (from rev 1427, trunk/data/gfx48/fl-bluegray.png)

Copied: trunk/data/gfx48/fl_bluegreen.png (from rev 1427, trunk/data/gfx48/fl-bluegreen.png)

Copied: trunk/data/gfx48/fl_brick.png (from rev 1427, trunk/data/gfx48/fl-brick.png)

Copied: trunk/data/gfx48/fl_concrete.png (from rev 1427, trunk/data/gfx48/fl-concrete.png)

Copied: trunk/data/gfx48/fl_dunes.png (from rev 1427, trunk/data/gfx48/fl-dunes.png)

Copied: trunk/data/gfx48/fl_gravel.png (from rev 1427, trunk/data/gfx48/fl-gravel.png)

Copied: trunk/data/gfx48/fl_himalaya.png (from rev 1427, trunk/data/gfx48/fl-himalaya.png)

Copied: trunk/data/gfx48/fl_ivory.png (from rev 1427, trunk/data/gfx48/fl-light.png)

Copied: trunk/data/gfx48/fl_plank.png (from rev 1427, trunk/data/gfx48/fl-plank.png)

Copied: trunk/data/gfx48/fl_platinum.png (from rev 1427, trunk/data/gfx48/fl-lightgray.png)

Copied: trunk/data/gfx48/fl_sahara.png (from rev 1427, trunk/data/gfx48/fl-sahara.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/data/models-2d.lua	2009-01-05 23:43:20 UTC (rev 1433)
@@ -247,16 +247,16 @@
         {"fl-acblack", noframe = true},
         {"fl-acwhite", noframe = true},
         {"fl-black"},
-        {"fl-bluegreen"},
+        {"fl_bluegreen"},
         {"fl-darkgray"},
         {"fl-dummy", noframe = true},
-        {"fl-dunes"},
-        {"fl-floor_001"},
+        {"fl_dunes"},
+        {"fl_bast"},
         {"fl_ice", noframe = true},
         {"fl-inverse", noframe = true},
         {"fl-inverse2", noframe = true},
-        {"fl-light"},
-        {"fl-lightgray"},
+        {"fl_ivory"},
+        {"fl_platinum"},
         {"fl-nomouse", noframe = true},
         {"fl-normal"},
         {"fl-sand"},
@@ -265,25 +265,25 @@
         {"fl-trigger"},
         {"fl-white"},
         -- multiple, with height and width (or 1)
-        {"fl-bluegray", 4},
-        {"fl-bluegreenx", 2},
-        {"fl-brick", 3},
+        {"fl_bluegray", 4},
+        {"fl_aquamarine", 2},
+        {"fl_brick", 3},
         {"fl-bumps", 2, 2},
-        {"fl-concrete", 4},
-        {"fl-gravel", 4},
+        {"fl_concrete", 4},
+        {"fl_gravel", 4},
         {"fl-gray", 5},
         {"fl_hay", 4},
-        {"fl-himalaya", 4},
+        {"fl_himalaya", 4},
         {"fl-marble", 4},
         {"fl-metal", 6},
         {"fl-mortar", 2, 2},
-        {"fl-plank", 4},
+        {"fl_plank", 4},
         {"fl-red", 4},
         {"fl_rock", 2},
         {"fl-rough", 5},
         {"fl-rough-blue", 4},
         {"fl-rough-red", 4},
-        {"fl-sahara", 4},
+        {"fl_sahara", 4},
         {"fl-samba", 2},
         {"fl_space", 3, 2, noframe = true},
         {"fl-stwood", 2},
@@ -1616,7 +1616,7 @@
     -- Base images
 
     local stonebase = "st-bluegray"
-    local floorbase = "fl-bluegray"
+    local floorbase = "fl_bluegray"
     local thiefovl = DefSubimages("thief-template", {h = 7})
     local capturedovl = DefSubimages("thief-captured-template", {h = 12})
 

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/data/startup.lua	2009-01-05 23:43:20 UTC (rev 1433)
@@ -173,35 +173,35 @@
 end
 
 -- Floor(kind, friction, mousefactor, burnable, firetransform, frames)
-def_floor("fl-bluegray",     4.5,   1.5,    true,   "",         true)
-def_floor("fl-bluegreen",    6.0,   2.0,    true,   "",         true)
-def_floor("fl-bluegreenx",   0.4,   1.0,    true,   "",         true)
-def_floor("fl-brick",        3.5,   2.0,   false,   "",         true)
+def_floor("fl_bluegray",     4.5,   1.5,    true,   "",         true)
+def_floor("fl_bluegreen",    6.0,   2.0,    true,   "",         true)
+def_floor("fl_aquamarine",   0.4,   1.0,    true,   "",         true)
+def_floor("fl_brick",        3.5,   2.0,   false,   "",         true)
 def_floor("fl-bumps",        5.0,   1.2,   false,   "",         true)
-def_floor("fl-concrete",     4.5,   1.3,   false,   "",         true)
-def_floor("fl-dunes",        1.3,   1.0,   false,   "",         true)
-def_floor("fl-floor_001",    1.5,   2.5,    true,   "fl_abyss", true)
-def_floor("fl-gravel",       3.2,   1.5,   false,   "",         true)
+def_floor("fl_concrete",     4.5,   1.3,   false,   "",         true)
+def_floor("fl_dunes",        1.3,   1.0,   false,   "",         true)
+def_floor("fl_bast",         1.5,   2.5,    true,   "fl_abyss", true)
+def_floor("fl_gravel",       3.2,   1.5,   false,   "",         true)
 def_floor("fl-gray",         5.0,   3.0,   false,   "",         true)
-def_floor("fl-himalaya",     5.0,   2.0,   false,   "",         true)
+def_floor("fl_himalaya",     5.0,   2.0,   false,   "",         true)
 def_floor("fl-inverse",      3.0,  -2.0,   false,   "",         false)
 def_floor("fl-inverse2",     3.0,  -2.0,   false,   "",         false)
-def_floor("fl-leaves",       4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesb",      4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesc1",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesc2",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesc3",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesc4",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesd1",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesd2",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesd3",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavesd4",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavese1",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavese2",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavese3",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-leavese4",     4.0,   1.5,    true,   "fl-dunes", false)
-def_floor("fl-light",        2.2,   1.6,    true,   "",         true)
-def_floor("fl-lightgray",    3.0,   1.6,    true,   "",         true)
+def_floor("fl-leaves",       4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesb",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesc1",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesc2",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesc3",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesc4",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesd1",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesd2",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesd3",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavesd4",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavese1",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavese2",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavese3",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl-leavese4",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_ivory",        2.2,   1.6,    true,   "",         true)
+def_floor("fl_platinum",     3.0,   1.6,    true,   "",         true)
 def_floor("fl-darkgray",     3.0,   1.6,   false,   "",         true)
 def_floor("fl-marble",       6.4,   2.0,    true,   "",         true)
 def_floor("fl-metal",        3.0,   2.0,   false,   "",         true)
@@ -214,14 +214,14 @@
 def_floor("fl-mortar",       7.2,   1.8,   false,   "",         true)
 def_floor("fl-normal",       4.0,   2.0,   false,   "",         true)
 def_floor("fl-normal_x",     3.0,   2.0,   false,   "",         true)
-def_floor("fl-plank",        5.5,   2.0,    true,   "fl_abyss", true)
+def_floor("fl_plank",        5.5,   2.0,    true,   "fl_abyss", true)
 def_floor("fl-red",          0.9,   1.0,    true,   "",         true)
 def_floor("fl-rough",        7.0,   2.0,    true,   "",         true)
 def_floor("fl-rough_medium", 5.0,   1.2,    true,   "",         true)
 def_floor("fl-rough_slow",   7.0,   0.5,    true,   "",         true)
 def_floor("fl-rough-blue",   7.0,   2.0,    true,   "",         true)
 def_floor("fl-rough-red",    7.0,   2.0,    true,   "",         true)
-def_floor("fl-sahara",       6.4,   2.0,   false,   "",         true)
+def_floor("fl_sahara",       6.4,   2.0,   false,   "",         true)
 def_floor("fl-samba",        6.0,   2.0,    true,   "fl_abyss", true)
 def_floor("fl-samba1",       6.0,   2.0,    true,   "fl_abyss", true)
 def_floor("fl-samba2",       6.0,   2.0,    true,   "fl_abyss", true)

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/src/ox_extra.cc	2009-01-05 23:43:20 UTC (rev 1433)
@@ -41,7 +41,7 @@
     UNUSED,              // OxydExtra floor 0x04
     UNUSED,              // OxydExtra floor 0x05
     UNUSED,              // OxydExtra floor 0x06
-    "fl-light",          // OxydExtra floor 0x07
+    "fl_ivory",          // OxydExtra floor 0x07
     "fl-rough-red",      // OxydExtra floor 0x08
     "fl-rough-blue",     // OxydExtra floor 0x09
     "fl-rough-blue",     // OxydExtra floor 0x0a
@@ -119,13 +119,13 @@
     UNUSED,              // OxydExtra floor 0x52
     UNUSED,              // OxydExtra floor 0x53
     "fl-gray",           // OxydExtra floor 0x54
-    "fl-plank",          // OxydExtra floor 0x55
+    "fl_plank",          // OxydExtra floor 0x55
     UNUSED,              // OxydExtra floor 0x56
     UNUSED,              // OxydExtra floor 0x57
     UNUSED,              // OxydExtra floor 0x58
     "fl-trigger",        // OxydExtra floor 0x59
     UNUSED,              // OxydExtra floor 0x5a
-    "fl-gravel",         // OxydExtra floor 0x5b
+    "fl_gravel",         // OxydExtra floor 0x5b
     // codes >= 0x5c are unused
 };
 

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/src/ox_magnum.cc	2009-01-05 23:43:20 UTC (rev 1433)
@@ -85,12 +85,12 @@
     "fl-gradient14",            // OxydMagnum floor 0x30
     "fl-gradient15",            // OxydMagnum floor 0x31
     "fl-gradient16",            // OxydMagnum floor 0x32
-    "fl-brick",                 // OxydMagnum floor 0x33 (common was 'fl-rough')
-    "fl-brick",                 // OxydMagnum floor 0x34 (common was 'fl-rough')
+    "fl_brick",                 // OxydMagnum floor 0x33 (common was 'fl-rough')
+    "fl_brick",                 // OxydMagnum floor 0x34 (common was 'fl-rough')
     UNUSED,                     // OxydMagnum floor 0x35
     UNUSED,                     // OxydMagnum floor 0x36
-    "fl-brick",                 // OxydMagnum floor 0x37
-    "fl-brick",                 // OxydMagnum floor 0x38
+    "fl_brick",                 // OxydMagnum floor 0x37
+    "fl_brick",                 // OxydMagnum floor 0x38
     UNUSED,                     // OxydMagnum floor 0x39
     UNUSED,                     // OxydMagnum floor 0x3a
     UNUSED,                     // OxydMagnum floor 0x3b
@@ -104,8 +104,8 @@
     UNUSED,                     // OxydMagnum floor 0x43
     UNUSED,                     // OxydMagnum floor 0x44
     UNUSED,                     // OxydMagnum floor 0x45
-    "fl-gravel",                // OxydMagnum floor 0x46
-    "fl-gravel",                // OxydMagnum floor 0x47
+    "fl_gravel",                // OxydMagnum floor 0x46
+    "fl_gravel",                // OxydMagnum floor 0x47
     UNUSED,                     // OxydMagnum floor 0x48
     UNUSED,                     // OxydMagnum floor 0x49
     UNUSED,                     // OxydMagnum floor 0x4a
@@ -118,14 +118,14 @@
     UNUSED,                     // OxydMagnum floor 0x51
     "fl_bridge",                // OxydMagnum floor 0x52 (common was 'fl-bridge')
     "fl-springboard",           // OxydMagnum floor 0x53
-    "fl-light",                 // OxydMagnum floor 0x54
-    "fl-lightgray",             // OxydMagnum floor 0x55
+    "fl_ivory",                 // OxydMagnum floor 0x54
+    "fl_platinum",              // OxydMagnum floor 0x55
     "fl-darkgray",              // OxydMagnum floor 0x56
     UNUSED,                     // OxydMagnum floor 0x57
     "fl-darkgray",              // OxydMagnum floor 0x58
     "fl-leaves",                // OxydMagnum floor 0x59
     "fl-normal",                // OxydMagnum floor 0x5a (Only Oxyd Magnum Gold #119,120)
-    "fl-plank",                 // OxydMagnum floor 0x5b
+    "fl_plank",                 // OxydMagnum floor 0x5b
     // codes >= 0x5c are unused
 };
 

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/src/ox_oxyd1.cc	2009-01-05 23:43:20 UTC (rev 1433)
@@ -75,10 +75,10 @@
     UNUSED,                     // Oxyd1 floor 0x05
     UNUSED,                     // Oxyd1 floor 0x06
     "fl-normal",                // Oxyd1 floor 0x07
-    "fl-himalaya",              // Oxyd1 floor 0x08
-    "fl-himalaya",              // Oxyd1 floor 0x09
-    "fl-himalaya",              // Oxyd1 floor 0x0a
-    "fl-himalaya",              // Oxyd1 floor 0x0b
+    "fl_himalaya",              // Oxyd1 floor 0x08
+    "fl_himalaya",              // Oxyd1 floor 0x09
+    "fl_himalaya",              // Oxyd1 floor 0x0a
+    "fl_himalaya",              // Oxyd1 floor 0x0b
     "fl-inverse2",              // Oxyd1 floor 0x0c
     "fl-acblack",               // Oxyd1 floor 0x0d
     "fl-acwhite",               // Oxyd1 floor 0x0e
@@ -118,12 +118,12 @@
     "fl-gradient14",            // Oxyd1 floor 0x30
     "fl-gradient15",            // Oxyd1 floor 0x31
     "fl-gradient16",            // Oxyd1 floor 0x32
-    "fl-brick",                 // Oxyd1 floor 0x33
-    "fl-brick",                 // Oxyd1 floor 0x34 (common was 'fl-rough')
+    "fl_brick",                 // Oxyd1 floor 0x33
+    "fl_brick",                 // Oxyd1 floor 0x34 (common was 'fl-rough')
     UNUSED,                     // Oxyd1 floor 0x35
     UNUSED,                     // Oxyd1 floor 0x36
-    "fl-brick",                 // Oxyd1 floor 0x37
-    "fl-brick",                 // Oxyd1 floor 0x38
+    "fl_brick",                 // Oxyd1 floor 0x37
+    "fl_brick",                 // Oxyd1 floor 0x38
     UNUSED,                     // Oxyd1 floor 0x39
     UNUSED,                     // Oxyd1 floor 0x3a
     UNUSED,                     // Oxyd1 floor 0x3b
@@ -137,8 +137,8 @@
     UNUSED,                     // Oxyd1 floor 0x43
     UNUSED,                     // Oxyd1 floor 0x44
     UNUSED,                     // Oxyd1 floor 0x45
-    "fl-gravel",                // Oxyd1 floor 0x46
-    "fl-gravel",                // Oxyd1 floor 0x47
+    "fl_gravel",                // Oxyd1 floor 0x46
+    "fl_gravel",                // Oxyd1 floor 0x47
     UNUSED,                     // Oxyd1 floor 0x48
     UNUSED,                     // Oxyd1 floor 0x49
     UNUSED,                     // Oxyd1 floor 0x4a
@@ -153,12 +153,12 @@
     "fl-springboard",           // Oxyd1 floor 0x53
     UNUSED,                     // Oxyd1 floor 0x54
     "fl-gray",                  // Oxyd1 floor 0x55
-    "fl-light",                 // Oxyd1 floor 0x56
-    "fl-lightgray",             // Oxyd1 floor 0x57
+    "fl_ivory",                 // Oxyd1 floor 0x56
+    "fl_platinum",              // Oxyd1 floor 0x57
     "fl-darkgray",              // Oxyd1 floor 0x58
-    "fl-dunes",                 // Oxyd1 floor 0x59
+    "fl_dunes",                 // Oxyd1 floor 0x59
     "fl-normal",                // Oxyd1 floor 0x5a
-    "fl-plank",                 // Oxyd1 floor 0x5b
+    "fl_plank",                 // Oxyd1 floor 0x5b
     // codes >= 0x5c are unused
 };
 

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-05 20:13:54 UTC (rev 1432)
+++ trunk/src/ox_peroxyd.cc	2009-01-05 23:43:20 UTC (rev 1433)
@@ -159,8 +159,8 @@
     UNUSED,                     // PerOxyd floor 0x35
     UNUSED,                     // PerOxyd floor 0x36
     UNUSED,                     // PerOxyd floor 0x37
-    "fl-concrete",              // PerOxyd floor 0x38 (Tan/green horizontal Grain)
-    "fl-concrete",              // PerOxyd floor 0x39 (Tan/green horizontal Grain, same as 0x38)(only level 118)
+    "fl_concrete",              // PerOxyd floor 0x38 (Tan/green horizontal Grain)
+    "fl_concrete",              // PerOxyd floor 0x39 (Tan/green horizontal Grain, same as 0x38)(only level 118)
     UNUSED,                     // PerOxyd floor 0x3a
     UNUSED,                     // PerOxyd floor 0x3b
     "fl_wood_framed_h",         // PerOxyd floor 0x3c
@@ -175,7 +175,7 @@
     UNUSED,                     // PerOxyd floor 0x45
     UNUSED,                     // PerOxyd floor 0x46
     UNUSED,                     // PerOxyd floor 0x47
-    "fl-concrete",              // PerOxyd floor 0x48
+    "fl_concrete",              // PerOxyd floor 0x48
     UNUSED,                     // PerOxyd floor 0x49
     UNUSED,                     // PerOxyd floor 0x4a
     UNUSED,                     // PerOxyd floor 0x4b
@@ -186,18 +186,18 @@
     "fl-black",                 // PerOxyd floor 0x50 (flat force down, dark olive) (maybe gradient21?)
     "fl-white",                 // PerOxyd floor 0x51 (flat force left, beige)      (maybe gradient24?)
     "fl-black",                 // PerOxyd floor 0x52 (flat force right, dark olive)(maybe gradient23?)
-    "fl-floor_001",             // PerOxyd floor 0x53
+    "fl_bast",                  // PerOxyd floor 0x53
     UNUSED,                     // PerOxyd floor 0x54
-    "fl-plank",                 // PerOxyd floor 0x55
+    "fl_plank",                 // PerOxyd floor 0x55
     UNUSED,                     // PerOxyd floor 0x56
     "fl-nomouse",               // PerOxyd floor 0x57 (only used in Link-Level 91, friction (2.5) questionable!)
     UNUSED,                     // PerOxyd floor 0x58
     UNUSED,                     // PerOxyd floor 0x59
     UNUSED,                     // PerOxyd floor 0x5a
-    "fl-gravel",                // PerOxyd floor 0x5b
+    "fl_gravel",                // PerOxyd floor 0x5b
     UNUSED,                     // PerOxyd floor 0x5c
     UNUSED,                     // PerOxyd floor 0x5d
-    "fl-gravel",                // PerOxyd floor 0x5e (same as 0x5b)(only level 192)
+    "fl_gravel",                // PerOxyd floor 0x5e (same as 0x5b)(only level 192)
     // codes >= 0x5f are unused
 };
 



From ral at mail.berlios.de  Tue Jan  6 00:56:10 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Tue, 6 Jan 2009 00:56:10 +0100
Subject: [Enigma-game-svn] r1434 - team_levelpacks/team_test_new_api
Message-ID: <200901052356.n05NuArT028156@sheep.berlios.de>

Author: ral
Date: 2009-01-06 00:55:37 +0100 (Tue, 06 Jan 2009)
New Revision: 1434

Modified:
   team_levelpacks/team_test_new_api/andreasT01_1.xml
   team_levelpacks/team_test_new_api/andreasT02_1.xml
   team_levelpacks/team_test_new_api/ralD002_1.xml
   team_levelpacks/team_test_new_api/ralD003_1.xml
   team_levelpacks/team_test_new_api/ralD004_1.xml
   team_levelpacks/team_test_new_api/ralD005_1.xml
   team_levelpacks/team_test_new_api/ralD007_1.xml
   team_levelpacks/team_test_new_api/ralT014_1.xml
   team_levelpacks/team_test_new_api/ralT016_1.xml
   team_levelpacks/team_test_new_api/ralT017_1.xml
   team_levelpacks/team_test_new_api/ralT018_1.xml
   team_levelpacks/team_test_new_api/ralT019_1.xml
   team_levelpacks/team_test_new_api/ralT021_1.xml
   team_levelpacks/team_test_new_api/ralT024_1.xml
   team_levelpacks/team_test_new_api/ralT025_1.xml
   team_levelpacks/team_test_new_api/ralT026_1.xml
   team_levelpacks/team_test_new_api/ralT027_1.xml
   team_levelpacks/team_test_new_api/ralT028_1.xml
   team_levelpacks/team_test_new_api/ralT029_1.xml
   team_levelpacks/team_test_new_api/ralT030_1.xml
   team_levelpacks/team_test_new_api/ralT031_1.xml
   team_levelpacks/team_test_new_api/ralT032_1.xml
   team_levelpacks/team_test_new_api/ralT033_1.xml
   team_levelpacks/team_test_new_api/ralT034_1.xml
   team_levelpacks/team_test_new_api/ralT035_1.xml
   team_levelpacks/team_test_new_api/ralT036_1.xml
   team_levelpacks/team_test_new_api/ralT037_1.xml
   team_levelpacks/team_test_new_api/ralT038_1.xml
   team_levelpacks/team_test_new_api/ralT039_1.xml
   team_levelpacks/team_test_new_api/ralT040_1.xml
   team_levelpacks/team_test_new_api/ralT041_1.xml
   team_levelpacks/team_test_new_api/ralT042_1.xml
   team_levelpacks/team_test_new_api/ralT043_1.xml
   team_levelpacks/team_test_new_api/ralT044_1.xml
   team_levelpacks/team_test_new_api/ralT045_1.xml
   team_levelpacks/team_test_new_api/ralT046_1.xml
   team_levelpacks/team_test_new_api/ralT047_1.xml
   team_levelpacks/team_test_new_api/ralT049_1.xml
   team_levelpacks/team_test_new_api/ralT050_1.xml
   team_levelpacks/team_test_new_api/ralT051_1.xml
   team_levelpacks/team_test_new_api/ralT052_1.xml
   team_levelpacks/team_test_new_api/ralT053_1.xml
   team_levelpacks/team_test_new_api/ralT054_1.xml
   team_levelpacks/team_test_new_api/ralT055_1.xml
   team_levelpacks/team_test_new_api/ralT057_1.xml
   team_levelpacks/team_test_new_api/ralT058_1.xml
   team_levelpacks/team_test_new_api/ralT059_1.xml
   team_levelpacks/team_test_new_api/ralT060_1.xml
   team_levelpacks/team_test_new_api/ralT061_1.xml
   team_levelpacks/team_test_new_api/ralT062_1.xml
   team_levelpacks/team_test_new_api/ralT063_1.xml
   team_levelpacks/team_test_new_api/ralT064_1.xml
   team_levelpacks/team_test_new_api/ralT065_1.xml
   team_levelpacks/team_test_new_api/ralT067_1.xml
   team_levelpacks/team_test_new_api/ralT068_1.xml
   team_levelpacks/team_test_new_api/ralT069_1.xml
   team_levelpacks/team_test_new_api/ralT071_1.xml
   team_levelpacks/team_test_new_api/ralT073_1.xml
   team_levelpacks/team_test_new_api/raoulT01_1.xml
   team_levelpacks/team_test_new_api/raoulT02_1.xml
   team_levelpacks/team_test_new_api/raoulT03_1.xml
   team_levelpacks/team_test_new_api/raoulT04_1.xml
   team_levelpacks/team_test_new_api/raoulT07_1.xml
   team_levelpacks/team_test_new_api/raoulT08_1.xml
   team_levelpacks/team_test_new_api/raoulT09_1.xml
Log:
Test Level new API:
- updates for crack
- updates for floor renamings


Modified: team_levelpacks/team_test_new_api/andreasT01_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 wo["ConserveLevel"] = true
 wo["ExtralifeGlasses"] = SPOT_DEATH + SPOT_TRAP
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["."] = {"it_trap"}
 
@@ -48,7 +48,7 @@
 ti["E"] = ti["."] .. {"fl-inverse"}
 ti["F"] = ti["."] .. {"fl-rough-blue"}
 ti["G"] = ti["."] .. {"fl_abyss"}
-ti["H"] = ti["."] .. {"fl-floor_001"}
+ti["H"] = ti["."] .. {"fl_bast"}
 
 w, h = wo(ti, " ", {
 "@                   ",

Modified: team_levelpacks/team_test_new_api/andreasT02_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/andreasT02_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/andreasT02_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti["A "] = {"fl-leaves"}
 ti["B "] = {"fl_swamp"}
 ti["C "] = {"fl-metal"}
@@ -27,11 +27,11 @@
 ti["E "] = {"fl-inverse"}
 ti["F "] = {"fl-rough-blue"}
 ti["G "] = {"fl-rough"}
-ti["H "] = {"fl-floor_001"}
+ti["H "] = {"fl_bast"}
 ti["I "] = {"fl_abyss"}
 ti["J "] = {"fl_water"}
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["A"] = {"fl-leaves"}
 ti["B"] = {"fl_swamp"}
 ti["C"] = {"fl-metal"}
@@ -39,7 +39,7 @@
 ti["E"] = {"fl-inverse"}
 ti["F"] = {"fl-rough-blue"}
 ti["G"] = {"fl-rough"}
-ti["H"] = {"fl-floor_001"}
+ti["H"] = {"fl_bast"}
 ti["R"] = {"fl-red"}
 
 ti[" @"] = {"#ac_marble", "marble"}

Modified: team_levelpacks/team_test_new_api/ralD002_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD002_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralD002_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -16,7 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti["~"] = {"fl_water"}
-ti["s"] = {"fl-sahara"}
+ti["s"] = {"fl_sahara"}
 ti["t"] = {"fl-tigris"}
 ti["1"] = {"ac_marble", 0, 0.5}
 

Modified: team_levelpacks/team_test_new_api/ralD003_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD003_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralD003_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,8 +18,8 @@
 wo["ConserveLevel"] = false
 
 ti["~"] = {"fl_water"}
-ti[" "] = {"fl-plank"}
-ti["c"] = {"it-crack3", brittleness=0}
+ti[" "] = {"fl_plank"}
+ti["c"] = {"it_crack_l", spreading=0, fragility=1}
 ti["^"] = {"st_oneway_n"}
 ti["1"] = {"ac_marble", 0, 0.5}
 

Modified: team_levelpacks/team_test_new_api/ralD004_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -16,7 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti["~"] = {"fl_water"}
-ti["s"] = {"fl-sahara"}
+ti["s"] = {"fl_sahara"}
 ti["t"] = {"fl-tigris"}
 ti["i"] = {"fl-inverse2"}
 ti["b"] = {"fl-acblack"}

Modified: team_levelpacks/team_test_new_api/ralD005_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD005_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralD005_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -15,7 +15,7 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-plank"}
+ti[" "] = {"fl_plank"}
 ti["X"] = {"st_oxyd"}
 ti["B"] = {"st_passage_black", flavor="cross"}
 ti["W"] = {"st_passage_white", flavor="cross"}

Modified: team_levelpacks/team_test_new_api/ralD007_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD007_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralD007_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,10 +18,10 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti["##"] = {"st-rock1"}
 
-ti[".."] = {"fl-sahara", push_directions="nesw"}
+ti[".."] = {"fl_sahara", push_directions="nesw"}
 
 ti["B"] = {"st_puzzle_blue"}
 ti["Y"] = {"st_puzzle_yellow"}

Modified: team_levelpacks/team_test_new_api/ralT014_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -20,7 +20,7 @@
 wo["ShowMoves"] = false
 
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = ti({"fl-rough-blue", checkerboard=0}) .. {"fl-rough-red", checkerboard=1}
 ti["*"] = ti({"st_chess_black", checkerboard=0}) .. {"st_chess_white", checkerboard=1}
 ti["c"] = {"it_cherry", name="cherry#"}

Modified: team_levelpacks/team_test_new_api/ralT016_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -21,7 +21,7 @@
 wo["ShowMoves"] = false
 wo["SwampSinkSpeed"] = 2
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st-rock1"}
 ti["l"] = {"st_lightpassenger_off"}

Modified: team_levelpacks/team_test_new_api/ralT017_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT017_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT017_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
 
 ti["O"] = ti[" "] .. {"st_oxyd", name="o#", oxydcolor=1, noshuffle=false}

Modified: team_levelpacks/team_test_new_api/ralT018_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT018_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT018_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 wo["AllowSingleOxyds"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["O"] = {"st_oxyd", name="o#", flavor="d"}

Modified: team_levelpacks/team_test_new_api/ralT019_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT019_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT019_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["O"] = {"st_oxyd", name="o#"}

Modified: team_levelpacks/team_test_new_api/ralT021_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT021_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT021_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
 
 ti["A"] = {"it_vortex", name="v1", destination="v2", scissor=true}

Modified: team_levelpacks/team_test_new_api/ralT024_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT024_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT024_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 ti["y"] = {"it-yinyang"}
 

Modified: team_levelpacks/team_test_new_api/ralT025_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT025_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT025_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 ti["y"] = {"it_magicwand"}
 

Modified: team_levelpacks/team_test_new_api/ralT026_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["1"] = {"fl_rock", name="d1"}
 ti["2"] = {"fl_rock", name="d2"}
 ti["3"] = {"fl_rock", name="d3"}

Modified: team_levelpacks/team_test_new_api/ralT027_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT027_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT027_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["b"] = {"it_blocker"}
 ti["n"] = {"it_blocker_new"}                  
 ti["B"] = {"st_blocker"}

Modified: team_levelpacks/team_test_new_api/ralT028_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT028_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT028_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["z"] = {"st_oxyd"}

Modified: team_levelpacks/team_test_new_api/ralT029_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT029_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT029_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
 
 ti["1"] = ti[" "] .. {"st_panel", cluster=1}

Modified: team_levelpacks/team_test_new_api/ralT030_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
 ti["~"] = ti({"fl-rough-blue"}) .. {"st-chameleon"}
 

Modified: team_levelpacks/team_test_new_api/ralT031_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_water"}
 ti["~"] = {"fl_abyss"}
 ti["!"] = {"fl_wood", ignitable=true}

Modified: team_levelpacks/team_test_new_api/ralT032_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT032_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT032_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 wo["MaxOxydColor"] = OXYD_BROWN
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["1"] = {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/ralT033_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT033_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT033_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["T"] = {"st_switch", target="dotoggle"}

Modified: team_levelpacks/team_test_new_api/ralT034_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti["_"] = {"fl-sahara"}
+ti["_"] = {"fl_sahara"}
 ti["r"] = {"fl-rough-red"}
 ti["b"] = {"fl-rough-blue"}
 ti["."] = ti({"fl-rough-blue", checkerboard=0}) .. {"fl-rough-red", checkerboard=1}

Modified: team_levelpacks/team_test_new_api/ralT035_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT035_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT035_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti["~~"] = {"fl_water"}
 ti["##"] = {"st-rock1"}
 ti["++"] = {"st_box"}

Modified: team_levelpacks/team_test_new_api/ralT036_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT036_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT036_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["1"] = ti[" "] .. {"#ac_marble"}
 
 w, h = wo(ti, " ", {

Modified: team_levelpacks/team_test_new_api/ralT037_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT037_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT037_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["MagnetRange"] = 3
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
 ti["s"] = {"st_shogun", "him"}
 ti["w"] = {"st_box", "you"}

Modified: team_levelpacks/team_test_new_api/ralT038_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT038_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT038_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,8 +17,8 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
-ti["x"] = {"fl-sahara", "center"}
+ti[" "] = {"fl_sahara"}
+ti["x"] = {"fl_sahara", "center"}
 ti["L"] = {"st_laser_n", "laser"}
 ti["l"] = {"st_switch", target="laser"}
 ti["N"] = {"st_laser_n", "lasern"}

Modified: team_levelpacks/team_test_new_api/ralT039_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT039_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT039_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["s"] = {"st_swap"}
 ti["W"] = {"st_box"}

Modified: team_levelpacks/team_test_new_api/ralT040_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT040_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT040_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["A"] = {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/ralT041_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT041_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT041_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["y"] = {"it-yinyang"}
 ti["b"] = {"it_brush"}
 ti["w"] = {"it_wrench"}

Modified: team_levelpacks/team_test_new_api/ralT042_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT042_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT042_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_ice"}
 ti["c"] = {"it_cross"}
 ti["v"] = {"it_cherry"}

Modified: team_levelpacks/team_test_new_api/ralT043_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT043_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT043_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["f"] = {"it_floppy"}

Modified: team_levelpacks/team_test_new_api/ralT044_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT044_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT044_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["f"] = {"it_floppy"}
 ti["template_a"] = {"st_floppy", target={"door%%#*","laser%%"}}

Modified: team_levelpacks/team_test_new_api/ralT045_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT045_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT045_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 
 ti["ff"] = {"it_floppy"}
 ti["template_a"] = {"st_floppy", target={"door%%#*","laser%%"}}

Modified: team_levelpacks/team_test_new_api/ralT046_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti[" ="] = {"fl-tigris"}
 ti[" ."] = {"fl_abyss"}
 ti[" ~"] = {"fl_water"}

Modified: team_levelpacks/team_test_new_api/ralT047_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["   "] = {"fl-sahara"}
+ti["   "] = {"fl_sahara"}
 ti["  ="] = {"fl-tigris"}
 ti["  ."] = {"fl_abyss"}
 ti["  ~"] = {"fl_water"}

Modified: team_levelpacks/team_test_new_api/ralT049_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 wo["ExtralifeGlasses"] = SPOT_DEATH + SPOT_LIGHTPASSENGER
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["!"] = {"st_death_invisible"}
 ti["H"] = {"st-camouflage_hole"}
 ti["L"] = {"st_lightpassenger", state=OFF}

Modified: team_levelpacks/team_test_new_api/ralT050_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT050_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT050_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["ActorImpulseStrength"] = 150
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["A"] = {"st_actorimpulse"}
 ti["a"] = {"st_actorimpulse_invisible"}
 

Modified: team_levelpacks/team_test_new_api/ralT051_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT051_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT051_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["B"] = {"st-brownie"}
 ti["b"] = {"st_boulder_n"}
 ti["W"] = {"it_wrench"}

Modified: team_levelpacks/team_test_new_api/ralT052_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT052_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT052_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -51,7 +51,7 @@
 --wo["FollowThreshold"] = 1.5
 --wo["FollowThreshold"] = po(2.5, 1.5)
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-grate1"}
 
 ti["V"] = {"it_vortex_open", "vortex1", destination="vortex2"}

Modified: team_levelpacks/team_test_new_api/ralT053_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["RubberViolationStrength"] = 50
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
 ti["#"] = {"st-rock1"}
 ti["y"] = {"it-yinyang"}

Modified: team_levelpacks/team_test_new_api/ralT054_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 ti["+"] = {"st-rock1", "rock"}
 ti["~"] = {"fl_water"}

Modified: team_levelpacks/team_test_new_api/ralT055_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
 ti["."] = {"fl_abyss"}
 

Modified: team_levelpacks/team_test_new_api/ralT057_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT057_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT057_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["y"] = {"it-yinyang"}
 ti["m"] = {"it_wrench"}
 

Modified: team_levelpacks/team_test_new_api/ralT058_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT058_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT058_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti[">"] = {"st_oneway", orientation=EAST}
 ti["<"] = {"st_oneway_w"}
 ti["v"] = {"st_oneway_s"}

Modified: team_levelpacks/team_test_new_api/ralT059_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT059_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT059_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["="] = {"st_door_d", "door#", faces="ns"}
 ti["|"] = {"st_door_d", "door#", faces="ew"}

Modified: team_levelpacks/team_test_new_api/ralT060_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT060_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT060_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["ShowMoves"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["1"] = {"st_shogun_s"}
 ti["2"] = {"st_shogun_m", "medium"}

Modified: team_levelpacks/team_test_new_api/ralT061_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["ShowMoves"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["P"] = {"st_pull"}

Modified: team_levelpacks/team_test_new_api/ralT062_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock1"}
 
 ti["-"] = {"st-grate1"}

Modified: team_levelpacks/team_test_new_api/ralT063_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT063_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT063_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
 ti["_"] = {"fl_abyss"}
 ti["w"] = {"st_box"}

Modified: team_levelpacks/team_test_new_api/ralT064_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT064_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT064_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["p"] = {"it_pipe"}
 ti["-"] = {"it_pipe_ew"}

Modified: team_levelpacks/team_test_new_api/ralT065_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT065_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT065_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -19,7 +19,7 @@
 wo["MeditationStrength"] = 2.0
 --wo["MeditationStrength"] = -2.0
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["."] = {"it_meditation", essential=INDISPENSIBLE}
 ti[";"] = {"it_meditation", essential=DISPENSIBLE}

Modified: team_levelpacks/team_test_new_api/ralT067_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT067_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT067_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water", "water"}
 ti["_"] = {"fl_abyss", "ab#"}
 ti["."] = {"fl_water", "pw#"}

Modified: team_levelpacks/team_test_new_api/ralT068_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT068_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT068_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["-"] = {"fl_bridge_bw", "bridge#"}
 ti["|"] = {"fl_bridge_bn", "bridge#"}

Modified: team_levelpacks/team_test_new_api/ralT069_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT069_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT069_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -18,10 +18,10 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 
-ti[".."] = {"fl-sahara", push_directions="nesw"}
-ti["++"] = {"fl-sahara", push_directions="w"} .. ti{"st_window_s", secure=true}
+ti[".."] = {"fl_sahara", push_directions="nesw"}
+ti["++"] = {"fl_sahara", push_directions="w"} .. ti{"st_window_s", secure=true}
 ti["##"] = {"st-rock1"}
 ti["S#"] = {"st_switch", target="newpuz"}
 

Modified: team_levelpacks/team_test_new_api/ralT071_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT071_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT071_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti[";"] = {"st_stoneimpulse"}
 ti["*"] = {"st_stoneimpulse_steady"}

Modified: team_levelpacks/team_test_new_api/ralT073_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT073_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/ralT073_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_space"}
 
 

Modified: team_levelpacks/team_test_new_api/raoulT01_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT01_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT01_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["0"] = ti[" "] .. {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/raoulT02_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT02_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT02_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["0"] = ti[" "] .. {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/raoulT03_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_space"}
 
 ti["0"] = {"#ac_marble_black"}

Modified: team_levelpacks/team_test_new_api/raoulT04_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT04_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT04_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 
 ti["0"] = ti[" "] .. {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/raoulT07_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT07_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT07_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -15,7 +15,7 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-plank"}
+ti[" "] = {"fl_plank"}
 ti["#"] = {"st-glass"}
 
 ti["A"] = {"st_door", flavor="a"}

Modified: team_levelpacks/team_test_new_api/raoulT08_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT08_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT08_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 
 ti["B0"] = {"st_puzzle_blue"}
 ti["B1"] = {"st_puzzle_blue", connections="w"}

Modified: team_levelpacks/team_test_new_api/raoulT09_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT09_1.xml	2009-01-05 23:43:20 UTC (rev 1433)
+++ team_levelpacks/team_test_new_api/raoulT09_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
@@ -15,7 +15,7 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-glass"}
 ti["a"] = {"st-glass1"}
 ti["b"] = {"st-glass2"}



From raoul at mail.berlios.de  Tue Jan  6 02:44:56 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Tue, 6 Jan 2009 02:44:56 +0100
Subject: [Enigma-game-svn] r1435 - in trunk/data/levels: enigma_cross
	enigma_demolevels enigma_experimental enigma_iv
	enigma_tutorial enigma_v enigma_vi enigma_vii enigma_viii
Message-ID: <200901060144.n061iu7k002389@sheep.berlios.de>

Author: raoul
Date: 2009-01-06 02:44:53 +0100 (Tue, 06 Jan 2009)
New Revision: 1435

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_demolevels/index.xml
   trunk/data/levels/enigma_demolevels/ralD001_1.xml
   trunk/data/levels/enigma_demolevels/ralD002_1.xml
   trunk/data/levels/enigma_demolevels/ralD003_1.xml
   trunk/data/levels/enigma_demolevels/ralD004_1.xml
   trunk/data/levels/enigma_demolevels/ralD005_1.xml
   trunk/data/levels/enigma_demolevels/ralD006_1.xml
   trunk/data/levels/enigma_demolevels/ralD007_1.xml
   trunk/data/levels/enigma_experimental/level_template.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/andreas31_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ral10_2.xml
   trunk/data/levels/enigma_vii/duffy178_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley06_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/andreas49_1.xml
   trunk/data/levels/enigma_viii/andreas50_1.xml
   trunk/data/levels/enigma_viii/andreas51_1.xml
   trunk/data/levels/enigma_viii/andreas53_2.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke03_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke07_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral25_1.xml
   trunk/data/levels/enigma_viii/ral26_1.xml
   trunk/data/levels/enigma_viii/ral27_1.xml
   trunk/data/levels/enigma_viii/ral29_1.xml
   trunk/data/levels/enigma_viii/ral34_1.xml
   trunk/data/levels/enigma_viii/raoul31_1.xml
Log:
-> Simple floor renamings, part I
-> Crack renaming
-> Demolevels update



Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="7" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="8" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -169,7 +169,7 @@
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="162" _title="Checkmate I" _xpath="enigma_vi/andreas29_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="163" _title="The Stable" _xpath="enigma_vi/andreas30_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas30" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="165" _title="Chessing Positions" _xpath="enigma_vi/raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="166" _title="Twisting by the pool" _xpath="enigma_vi/alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="167" _title="Hot Meditation" _xpath="enigma_vi/ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
@@ -195,7 +195,7 @@
     <level _seq="187" _title="- Meditation -" _xpath="enigma_vi/andreas36_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas36" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="188" _title="Troy" _xpath="enigma_vi/andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="189" _title="Ben Hur" _xpath="enigma_vi/ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
-    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="100" score="1" target="time" unit="duration"/>
+    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="101" score="1" target="time" unit="duration"/>
     <level _seq="191" _title="Janus" _xpath="enigma_vi/andreas38_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="192" _title="Phaeton" _xpath="enigma_vi/andreas39_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -30,7 +30,7 @@
     <level _seq="22" _title="Double Oneways" _xpath="enigma_vii/duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Wood - Water - Wood" _xpath="enigma_vii/duffy173_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Transpositions" _xpath="enigma_vii/duffy174_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="4" score="1" target="time" unit="duration"/>
@@ -46,7 +46,7 @@
     <level _seq="38" _title="Double Sense" _xpath="enigma_vii/joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Double Sense II" _xpath="enigma_vii/joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Lightyears" _xpath="enigma_vii/duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="Armageddon" _xpath="enigma_vii/duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Mountain Climbing II" _xpath="enigma_vii/joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Minor Tangler" _xpath="enigma_vii/joe24_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -59,8 +59,8 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="5" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="6" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="3" score="1" target="time" unit="duration"/>
@@ -79,65 +79,65 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="35" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="23" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="70" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="71" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="6" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="136" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="137" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_demolevels/index.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,18 +1,18 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Development" location="69000" network="false" owner="Enigma Team" release="1" revision="2" title="Demolevels"/>
+  <info enigma="1.00" group="Development" location="69000" network="false" owner="Enigma Team" release="1" revision="3" title="Demolevels"/>
 
   <attributes/>
 
   <levels>
-    <level _seq="1" _title="Demo User Resolver" _xpath="./ralD001_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080516ral198" rel="1" rev="1151" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Demo Resolver Chain" _xpath="./ralD002_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080516ral274" rel="1" rev="1151" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Demo Oxyd Shuffling" _xpath="./ralD003_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080530ral108" rel="1" rev="1259" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="Demo Random Resolver" _xpath="./ralD004_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080608ral108" rel="1" rev="1170" score="1" target="time" unit="duration"/>
-    <level _seq="5" _title="Demo Draw Map" _xpath="./ralD005_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080610ral774" rel="1" rev="1170" score="1" target="time" unit="duration"/>
-    <level _seq="6" _title="Basic Level" _xpath="./ralD006_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral513" rel="1" rev="1267" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Demo Puzzle" _xpath="./ralD007_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080920ral228" rel="1" rev="1356" score="1" target="time" unit="duration"/>
+    <level _seq="1" _title="Demo User Resolver" _xpath="./ralD001_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080516ral198" rel="1" rev="1405" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Demo Resolver Chain" _xpath="./ralD002_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080516ral274" rel="1" rev="1434" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Demo Oxyd Shuffling" _xpath="./ralD003_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080530ral108" rel="1" rev="1434" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="Demo Random Resolver" _xpath="./ralD004_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080608ral108" rel="1" rev="1434" score="1" target="time" unit="duration"/>
+    <level _seq="5" _title="Demo Draw Map" _xpath="./ralD005_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080610ral774" rel="1" rev="1434" score="1" target="time" unit="duration"/>
+    <level _seq="6" _title="Basic Level" _xpath="./ralD006_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral513" rel="1" rev="1405" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Demo Puzzle" _xpath="./ralD007_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080920ral228" rel="1" rev="1434" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_demolevels/ralD001_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD001_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD001_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo User Resolver" el:subtitle="" el:id="20080516ral198"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1151 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1405 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 ti["r"] = {"fl-rough-red"}
 ti["b"] = {"fl-rough-blue"}
-ti["1"] = {"#ac-blackball"}
+ti["1"] = {"#ac_marble"}
 
 ti["x"] = {"it_cross"}
 

Modified: trunk/data/levels/enigma_demolevels/ralD002_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD002_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD002_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo Resolver Chain" el:subtitle="" el:id="20080516ral274"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1151 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1434 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,10 +15,10 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti["~"] = {"fl-water"}
-ti["s"] = {"fl-sahara"}
+ti["~"] = {"fl_water"}
+ti["s"] = {"fl_sahara"}
 ti["t"] = {"fl-tigris"}
-ti["1"] = {"ac-blackball", 0, 0.5}
+ti["1"] = {"ac_marble", 0, 0.5}
 
 ti["template_trigger"] = {"it_trigger", target="myoxyd%%", action="open"}
 ti["template_oxyd"]    = ti["~"] .. {"st_oxyd", "myoxyd%%"}

Modified: trunk/data/levels/enigma_demolevels/ralD003_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD003_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD003_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo Oxyd Shuffling" el:subtitle="" el:id="20080530ral108"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1259 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1434 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,11 +17,11 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti["~"] = {"fl-water"}
-ti[" "] = {"fl-plank"}
-ti["c"] = {"it-crack3", brittleness=0}
+ti["~"] = {"fl_water"}
+ti[" "] = {"fl_plank"}
+ti["c"] = {"it_crack_l", spreading=0, fragility=1}
 ti["^"] = {"st_oneway_n"}
-ti["1"] = {"ac-blackball", 0, 0.5}
+ti["1"] = {"ac_marble", 0, 0.5}
 
 ti["x"] = {"st_oxyd", "island#"}
 ti["y"] = {"st_oxyd", "left#"}

Modified: trunk/data/levels/enigma_demolevels/ralD004_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD004_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD004_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo Random Resolver" el:subtitle="" el:id="20080608ral108"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1170 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1434 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,8 +15,8 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti["~"] = {"fl-water"}
-ti["s"] = {"fl-sahara"}
+ti["~"] = {"fl_water"}
+ti["s"] = {"fl_sahara"}
 ti["t"] = {"fl-tigris"}
 ti["i"] = {"fl-inverse2"}
 ti["b"] = {"fl-acblack"}
@@ -25,7 +25,7 @@
 ti["c"] = {"it_coin_s"}
 ti["p"] = {"it_brush"}
 
-ti["1"] = {"ac-blackball", 0, 0.5}
+ti["1"] = {"ac_marble", 0, 0.5}
 
 simple_random = res.random(ti, " ", {"s", "t"})
 

Modified: trunk/data/levels/enigma_demolevels/ralD005_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD005_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD005_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo Draw Map" el:subtitle="" el:id="20080610ral774"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1170 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1434 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,14 +15,14 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-plank"}
+ti[" "] = {"fl_plank"}
 ti["X"] = {"st_oxyd"}
-ti["B"] = {"st-black3"}
-ti["W"] = {"st-white3"}
+ti["B"] = {"st_passage_black", flavor="cross"}
+ti["W"] = {"st_passage_white", flavor="cross"}
 
 ti["y"] = {"it-yinyang"}
-ti["1"] = ti["y"] .. {"#ac-blackball"}
-ti["2"] = ti["y"] .. {"#ac-whiteball"}
+ti["1"] = ti["y"] .. {"#ac_marble_black"}
+ti["2"] = ti["y"] .. {"#ac_marble_white"}
 
 function myresolver(key, x, y)
     if key == "w" then

Modified: trunk/data/levels/enigma_demolevels/ralD006_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD006_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD006_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Basic Level" el:subtitle="" el:id="20080721ral513"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1267 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1405 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,8 +16,8 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl-samba"}
-ti["."] = {"fl-abyss"}
-ti["~"] = {"fl-water"}
+ti["."] = {"fl_abyss"}
+ti["~"] = {"fl_water"}
 ti["#"] = {"st-rock1"}
 ti["X"] = {"st_oxyd"}
 
@@ -41,9 +41,9 @@
 ti["E"] = {"st_turnstilearm", orientation=EAST}
 ti["N"] = ti["."] .. {"st_turnstilearm_n"}
 
-ti["+"] = {"fl-samba", checkerboard=0} .. ti({"fl-wood", checkerboard=1})
+ti["+"] = {"fl-samba", checkerboard=0} .. ti({"fl_wood", checkerboard=1})
 
-ti["1"] = {"#ac-blackball"}
+ti["1"] = {"#ac_marble"}
 
 if wo["IsDifficult"] then
     ti["="] = ti["~"]

Modified: trunk/data/levels/enigma_demolevels/ralD007_1.xml
===================================================================
--- trunk/data/levels/enigma_demolevels/ralD007_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_demolevels/ralD007_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Demo Puzzle" el:subtitle="" el:id="20080920ral228"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 1356 $" el:status="experimental"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 1434 $" el:status="experimental"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,17 +18,17 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti["##"] = {"st-rock1"}
 
-ti[".."] = {"fl-sahara", push_directions="nesw"}
+ti[".."] = {"fl_sahara", push_directions="nesw"}
 
 ti["B"] = {"st_puzzle_blue"}
 ti["Y"] = {"st_puzzle_yellow"}
 ti["I"] = {"st_puzzle_blue", intensity=2/6} 
 ti["M"] = {"st_puzzle_blue", algorithm="marked", intensity=10} 
 
-ti["xx"] = {"#ac-blackball"} .. ti({"it_magicwand"})
+ti["xx"] = {"#ac_marble"} .. ti({"it_magicwand"})
 
 local resolver = res.puzzle(ti, "B", "Y", "I", "M")
 

Modified: trunk/data/levels/enigma_experimental/level_template.xml
===================================================================
--- trunk/data/levels/enigma_experimental/level_template.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_experimental/level_template.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -13,26 +13,25 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-glass"}
 ti["O"] = {"st_oxyd"}
-ti["@"] = {"#ac-blackball"}
+ti["@"] = {"#ac_marble_black"}
 
-w, h = wo(ti, " ", {
-"#O################O#",
-"O                  O",
-"#                  #",
-"#                  #",
-"#                  #",
-"#                  #",
-"#        @         #",
-"#                  #",
-"#                  #",
-"#                  #",
-"#                  #",
-"O                  O",
-"#O################O#"
-})
+wo(ti, " ", {
+    "#O################O#",
+    "O                  O",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "#        @         #",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "O                  O",
+    "#O################O#"})
 
 wo:shuffleOxyd()
 ]]></el:luamain>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="9" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,7 +28,7 @@
 ti[" "] = {"fl_abyss"}
 ti["l"] = {"fl-leaves"}
 ti["A"] = {"fl_hay"}
-ti["."] = {"fl-bluegreen"}
+ti["."] = {"fl_bluegreen"}
 ti["i"] = {"fl-inverse"}
 ti["j"] = {"fl_ice"}
 ti["s"] = {"fl_swamp"}

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="8" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="9" title="Tutorial"/>
 
   <attributes/>
 
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Meditation 2" _xpath="./m_med2" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_med2" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="9" _title="Movement 4" _xpath="./m_tut7" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut7" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="10" _title="Movement 5" _xpath="./m_tut8" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut8" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Floors 2" _xpath="./m_tut10" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Floors 3" _xpath="./m_tut11" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Doors and Triggers" _xpath="./a_tut01" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floors 1" el:subtitle="" el:id="m_tutor/m_tut9"/>
-      <el:version el:score="2" el:release="3" el:revision="1" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="2" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -30,7 +30,7 @@
 ti["M"] = {"fl-metal"}
 ti["I"] = {"fl_ice"}
 ti["R"] = {"fl-rough", friction=7.0, adhesion=0.5}
-ti["D"] = {"fl-dunes"}
+ti["D"] = {"fl_dunes"}
 ti["S"] = {"fl_space"}
 ti["C"] = {"fl-sand"}
 ti["#"] = {"st_fake_oxyda"}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma V"/>
 
   <attributes/>
 
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="7" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="8" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="7" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="8" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -51,7 +51,7 @@
 ti[" g"] = {"it-blackbomb"}
 ti[" b"] = {"it-blackbomb", "bomb4"}
 ti[" e"] = {"it_extralife"}
-ti[" c"] = {"it-crack3"}
+ti[" c"] = {"it_crack_l"}
 ti[" y"] = {"it-yinyang"}
 ti[" h"] = {"it_hammer"}
 ti[" _"] = {"it_shogun_l"}

Modified: trunk/data/levels/enigma_vi/andreas31_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chess, Bugs &amp; Rock'n'Roll" el:subtitle="" el:id="andreas31"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,12 +25,12 @@
 end
 
 myfloor = {}
-myfloor[1] = "fl-black"     -- "fl-lightgray"
+myfloor[1] = "fl-black"     -- "fl_platinum"
 myfloor[2] = "fl-darkgray"  -- "fl-darkgray"
-myfloor[3] = "fl-black"     -- "fl-light"
-myfloor[4] = "fl_wood"      -- "fl-lightgray"
-myfloor[5] = "fl-black"     -- "fl-lightgray"
-myfloor[6] = "fl-black"     -- "fl-lightgray"
+myfloor[3] = "fl-black"     -- "fl_ivory"
+myfloor[4] = "fl_wood"      -- "fl_platinum"
+myfloor[5] = "fl-black"     -- "fl_platinum"
+myfloor[6] = "fl-black"     -- "fl_platinum"
 chess_number = 0
 
 function myresolver(key, x, y)

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma VI"/>
 
   <attributes/>
 
@@ -52,13 +52,13 @@
     <level _seq="44" _title="Dancing on Light Beams" _xpath="./andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Wormhole Madness!" _xpath="./edward24_1" author="Edward" ctrl="force" easy="false" id="edward24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Alcatraz" _xpath="./ralf14_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Oiltrace" _xpath="./raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="100" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="101" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ral10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Bodyguard" el:subtitle="In the line of thieves" el:id="20060730ral012"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 100 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 101 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti[" "] = {"fl-bluegray"}
+ti[" "] = {"fl_bluegray"}
 ti["."] = {"fl-thief"}
 ti["#"] = {"st-glass"}
 ti["+"] = {"st-glass", "doorA#"}
@@ -45,7 +45,7 @@
     ti["template_P"] = {"st_key", code="%%", target={"@doorA#*", "@doorB#*"}, action={"kill","kill"}}
 else
     ti[","] = ti[" "]
-    ti["template_outer"] = {"fl-bluegray", "op%%"}
+    ti["template_outer"] = {"fl_bluegray", "op%%"}
     ti["template_K"] = {"st_key", code="%%", target={"@doorA#*", "@doorB#*"}, action={"kill","kill"}}
     ti["template_P"] = ti["#"]
 

Modified: trunk/data/levels/enigma_vii/duffy178_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy178_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/duffy178_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Zero Magnetism Lab" el:subtitle="" el:id="duffy178"/>
-      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl_space"}
-ti["="] = {"fl-floor_001"}
+ti["="] = {"fl_bast"}
 ti["~"] = {"fl-leaves"}
 ti["#"] = ti["~"] .. {"st-greenbrown"}
 ti["."] = ti["="] .. {"it_meditation_hollow"}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma VII"/>
 
   <attributes/>
 
@@ -54,7 +54,7 @@
     <level _seq="46" _title="Double Oneways" _xpath="./duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Wood - Water - Wood" _xpath="./duffy173_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Transpositions" _xpath="./duffy174_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="4" score="1" target="time" unit="duration"/>
@@ -70,7 +70,7 @@
     <level _seq="62" _title="Double Sense" _xpath="./joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Double Sense II" _xpath="./joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Lightyears" _xpath="./duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="65" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="65" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Armageddon" _xpath="./duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Mountain Climbing II" _xpath="./joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Minor Tangler" _xpath="./joe24_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -83,8 +83,8 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="5" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="6" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="3" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="36" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 25 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 wo["ConserveLevel"] = true
 
 ti[" #"] = {"fl-gradient1"}
-ti[" $"] = {"fl-dunes"}
+ti[" $"] = {"fl_dunes"}
 ti[" %"] = {"fl_water"}
 ti["! "] = {"st_death"}
 ti["# "] = {"st-rock1"}
@@ -30,20 +30,20 @@
 ti["* "] = {"st_brick"}
 ti["+ "] = {"st_mirror_triangle", movable=false, transparent=false, orientation=EAST}
 ti[", "] = {"st_mirror", movable=false, transparent=false, orientation=NORTH}
-ti[" '"] = {"fl-himalaya"}
+ti[" '"] = {"fl_himalaya"}
 ti[" ("] = {"fl-leavesc2"}
 ti["g "] = {"it_glasses"}
 ti[". "] = {"st_panel"}
 ti["? "] = {"st_brake"}
 ti["/ "] = {"st_mirror_triangle", movable=true, transparent=false, orientation=SOUTH}
 ti["0 "] = {"st_mirror", movable=true, transparent=true, orientation=WEST}
-ti[" !"] = {"fl-brick"}
+ti[" !"] = {"fl_brick"}
 ti[" )"] = {"fl-red"}
 ti["1 "] = {"st-brownie"}
 ti["2 "] = {"st-rock4"}
-ti[" *"] = {"fl-plank"}
+ti[" *"] = {"fl_plank"}
 ti["u "] = {"it_umbrella"}
-ti[" +"] = {"fl-bluegreenx"}
+ti[" +"] = {"fl_aquamarine"}
 ti["3 "] = {"st-yellow"}
 ti["4 "] = {"st_door", faces="ew"}
 ti["e "] = {"it_extralife"}
@@ -57,13 +57,13 @@
 ti[": "] = {"st_boulder_w"}
 ti["; "] = {"st_box_wood"}
 ti["< "] = {"st_mirror", movable=false, transparent=false, orientation=WEST}
-ti[" -"] = {"fl-sahara"}
+ti[" -"] = {"fl_sahara"}
 ti["f "] = {"it-flagblack"}
 ti["> "] = {"st_boulder_n"}
 ti["? "] = {"st_bluesand"}
 ti[" ."] = {"fl-samba"}
 ti["w "] = {"it_magicwand"}
-ti[" /"] = {"fl-gravel"}
+ti[" /"] = {"fl_gravel"}
 ti["@ "] = {"st_rubberband"}
 ti["A "] = {"st-rock3"}
 ti["b "] = {"it_banana"}
@@ -74,7 +74,7 @@
 ti["D "] = {"st-rock1_hole"}
 ti["E "] = {"st_stoneimpulse_hollow"}
 ti["F "] = {"st_stoneimpulse"}
-ti[" 2"] = {"fl-light"}
+ti[" 2"] = {"fl_ivory"}
 ti["s "] = {"it_sword"}
 ti[" 3"] = {"fl-leavesc4"}
 ti["i "] = {"it-coffee"}
@@ -88,7 +88,7 @@
 ti[" 6"] = {"fl-leaves"}
 ti["J "] = {"st_passage_white_cross"}
 ti["K "] = {"st_fake_oxydd"}
-ti["j "] = {"it-crack3"}
+ti["j "] = {"it_crack_l"}
 ti["L "] = {"st-coffee"}
 ti["M "] = {"st_shogun_sml"}
 ti["N "] = {"st_door_a"}
@@ -98,7 +98,7 @@
 ti["R "] = {"st-grate2"}
 ti[" 7"] = {"fl_space"}
 ti["S "] = {"st-break_invisible"}
-ti[" 8"] = {"fl-bluegray"}
+ti[" 8"] = {"fl_bluegray"}
 ti["T "] = {"st_boulder_s"}
 ti[" 9"] = {"fl_hay"}
 ti["U "] = {"st-rock3_break"}
@@ -168,13 +168,13 @@
     ti["la"] = ti[" %"]..{"fl_water"}
     ti["aa"] = ti[" %"]..{"fl_water"}
     ti["al"] = ti[" %"]..{"st-glass_move"}
-    ti["bp"] = ti[" !"]..{"fl-brick"}
+    ti["bp"] = ti[" !"]..{"fl_brick"}
     ti["QQ"] = ti[" /"]..{"st_chess_white"}
     ti["w1"] = ti["~m"]..{"it_wormhole", destination = po(44.5, 35.5),range=10, strength=10}
     ti["w2"] = ti[" )"]..{"it_wormhole", destination = po(42.5, 24.5),range=10, strength=10}
     ti["w3"] = ti[" )"]..{"it_wormhole", destination = po(11.5, 16.5),range=10, strength=10}
 else
-    ti["ll"] = ti[" %"]..{"fl-bluegray"}
+    ti["ll"] = ti[" %"]..{"fl_bluegray"}
     ti["la"] = ti[" %"]..{"fl_swamp"}
     ti["aa"] = ti[" %"]..{"st_passage_black_cross"}
     ti["al"] = ti[" %"]..{"fl_swamp"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:30$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:31$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -14,8 +14,7 @@
       </el:comments>
       <el:score el:easy="28:51" el:difficult="33:44" />
     </el:info>
-  <el:luamain>
-  <![CDATA[
+  <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
 ti[" !"] = {"fl_abyss"}
@@ -24,7 +23,7 @@
 ti[" #"] = {"fl-acblack"}
 ti["# "] = {"st_death"}
 ti[" $"] = {"fl-normal"}
-ti[" %"] = {"fl-bluegray"}
+ti[" %"] = {"fl_bluegray"}
 ti["% "] = {"st_boulder_w"}
 ti["& "] = {"st_quake"}
 ti["c7"] = ti[" #"] .. {"st-glass"}
@@ -45,7 +44,7 @@
 ti["; "] = {"st_key", code=2,  target="door4"}
 ti["' "] = {"st_door", faces="ns", name="dolli2"}
 ti["( "] = {"st_actorimpulse_invisible"}
-ti[" &"] = {"fl-bluegreenx"}
+ti[" &"] = {"fl_aquamarine"}
 ti[") "] = {"st-grate1"}
 ti["a1"] = ti[" !"] .. {"st-grate1"}
 ti["* "] = {"st_mirror", movable=true, transparent=false}
@@ -106,9 +105,9 @@
 ti["C "] = {"st_stoneimpulse"}
 ti["D "] = {"st-glass_move"}
 ti["E "] = {"st-rock3"}
-ti[" *"] = {"fl-light"}
+ti[" *"] = {"fl_ivory"}
 ti["F "] = {"st_oneway_s"}
-ti[" +"] = {"fl-sahara"}
+ti[" +"] = {"fl_sahara"}
 ti["G "] = {"st-rock6"}
 ti["H "] = {"st_oneway_e"}
 ti["I "] = {"st_oneway_n"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,17 +21,17 @@
 ti["! "] = {"st-yellow"}
 ti["# "] = {"st_death"}
 ti[" #"] = {"fl-rough-blue"}
-ti[" $"] = {"fl-light"}
+ti[" $"] = {"fl_ivory"}
 ti["$ "] = {"st_knight"}
 ti["% "] = {"st-grate1"}
 ti[" %"] = {"fl_abyss"}
 ti[" &"] = {"fl_water"}
-ti[" '"] = {"fl-sahara"}
-ti[" ("] = {"fl-bluegray"}
+ti[" '"] = {"fl_sahara"}
+ti[" ("] = {"fl_bluegray"}
 ti["& "] = {"st_oxyd_d"}
 ti[" )"] = {"fl-leavesc1"}
 ti[" *"] = {"fl-gradient9"}
-ti[" +"] = {"fl-himalaya"}
+ti[" +"] = {"fl_himalaya"}
 ti[" ,"] = {"fl-gradient10"}
 ti["' "] = {"st_actorimpulse_invisible"}
 ti[" i"] = {"fl_ice"}
@@ -42,7 +42,7 @@
 ti[" ."] = {"fl-gradient12"}
 ti["b "] = {"it_brush"}
 ti["* "] = {"st-break_bolder"}
-ti[" /"] = {"fl-bluegreenx"}
+ti[" /"] = {"fl_aquamarine"}
 ti["+ "] = {"st-glass_move"}
 ti[", "] = {"st_door", faces="ew"}
 ti[" 0"] = {"fl_space"}
@@ -50,7 +50,7 @@
 ti[". "] = {"st_oneway_black_w"}
 ti["/ "] = {"st_oneway_black_e"}
 ti["P "] = {"st_oneway_black_s"}
-ti["c "] = {"it-crack3"}
+ti["c "] = {"it_crack_l"}
 ti["0 "] = {"st-brick_magic"}
 ti["1 "] = {"st-rock1_hole"}
 ti["B "] = {"st_passage_black_frame"}
@@ -71,7 +71,7 @@
 ti["h "] = {"it_strip", connections="ew"}
 ti[" 3"] = {"fl_swamp"}
 ti["9 "] = {"st_actorimpulse"}
-ti[" 4"] = {"fl-bluegreen"}
+ti[" 4"] = {"fl_bluegreen"}
 ti[": "] = {"st_puzzle",hollow=true, connections="nesw"}
 ti["m "] = {"it_hammer"}
 ti[" 5"] = {"fl-gradient4"}
@@ -97,7 +97,7 @@
 ti["z7"] =  ti[" !"] ..{"st_box_wood"}
 ti["z8"] =  ti[" !"] ..{"st_oneway_black_w"}
 ti["z9"] =  ti[" !"] ..{"st-grate1"}
-ti["g5"] =  ti["z9"] .. {"it-crack3"}
+ti["g5"] =  ti["z9"] .. {"it_crack_l"}
 ti["l7"] =  ti["l5"] .. {"it_extralife"}
 ti["z1"] =  ti[" 4"] .. {"it_key", code=1}
 ti["z2"] =  ti[" !"] .. {"it_key", code=2}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="5" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="6" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["u"] = ti[" "] .. {"st_box_wood"}
 ti["w"] = ti[" "] .. {"st_passage_white_slash"}
 ti["x"] = ti[" "] .. {"it_death"} -- Corpse
-ti["y"] = {"fl-bluegreen"} -- SKY
+ti["y"] = {"fl_bluegreen"} -- SKY
 ti["z"] = ti[" "] .. {"st_chess_black", name="Scout"} -- Scout (Tonto's Horse)
 ti["A"] = ti[" "] .. {"st_oneway_black", state=NORTH}
 ti["B"] = ti[" "] .. {"st_oneway_black", state=SOUTH}
@@ -57,7 +57,7 @@
 ti["R"] = ti["r"] .. {"st-invisible"} --Invisible stone on red floor
 ti["S"] = ti[" "] .. {"st_door_a", name="Door2"} -- Silver's prison door
 ti["T"] = ti["y"] .. {"st-thief"} --Thief on blue floor
-ti["U"] = ti[" "] .. {"it-crack3"}
+ti["U"] = ti[" "] .. {"it_crack_l"}
 ti["V"] = ti[" "] .. {"#ac_rotor", name="RGuard1", gohome=0} -- Lone Ranger's Guard
 ti["W"] = ti[" "] .. {"#ac_rotor", name="RGuard2", gohome=0} -- Lone Ranger's Guard
 ti["X"] = ti[" "] .. {"#ac_rotor", name="RGuard3", gohome=0} -- Lone Ranger's Guard

Modified: trunk/data/levels/enigma_vii/pulley06_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley06_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/pulley06_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puppet" el:subtitle="" el:id="pulley06"/>
-      <el:version el:score="1" el:release="2" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
     ti["^"]= {"fl-normal"}
     ti["f"]= {"ac_horse", name="footL"} .. ti({"fl-normal"})
 end
-ti["b"] = {"fl-bluegreen"}
+ti["b"] = {"fl_bluegreen"}
 ti["g"] = {"st-grate3"}
 ti["0"] = {"st_oxyd_b"}
 ti["Y"] = {"st-glass", name="support1"}

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
       <el:score el:easy="-" el:difficult="2:58"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-brick"}
+ti[" "] = {"fl_brick"}
 ti["1"] = ti[" "] .. {"st_scissors", action="callback", target="Grow1"} -- Orin being eaten by Audrey II
 ti["2"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow2"} -- Orin swallowed by Audrey II
 ti["3"] = ti[" "] .. {"st_scissors", action="callback", target="Grow3"} -- Mushnik being eaten by Audrey II
@@ -29,18 +29,18 @@
 ti["9"] = ti[" "] .. {"st_door", name="Door1", flavor="a"} -- Mushnik's door
 ti["0"] = ti[" "] .. {"st_door", name="Door2", flavor="a"} -- Audrey's door
 ti["!"] = (ti({"fl-white"}) .. {"st-rock3_hole"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
-ti["@"] = (ti({"fl-plank"}) .. {"st_turnstilearm_w"}) .. {"it_rubberband", anchor2="Mushnik", length=1,strength=10}
+ti["@"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_rubberband", anchor2="Mushnik", length=1,strength=10}
 ti["#"] = {"fl-leaves"} .. ti({"it_rubberband", anchor2="Audrey", length=1,strength=10})
 ti["-"] = {"fl-white"} .. ti({"it_key", code="1"}) -- Mushnik's key
-ti["_"] = {"fl-plank"} .. ti({"it_key", code="2"}) -- Audrey's key
+ti["_"] = {"fl_plank"} .. ti({"it_key", code="2"}) -- Audrey's key
 ti["("] = ti[" "] .. {"st_key", code="1", action="toggle", target="Door1"} -- Mushnik's lock
 ti[")"] = ti[" "] .. {"st_key", code="2", action="toggle", target="Door2"} -- Audrey's lock
-ti[";"] = {"fl-plank"} .. ti({"st_turnstilearm_w"})
-ti[":"] = {"fl-plank"} .. ti({"st_turnstilearm_e"})
-ti["|"] = {"fl-plank"} .. ti({"st_turnstilearm_n"})
-ti[","] = {"fl-plank"} .. ti({"st_turnstilearm_s"})
+ti[";"] = {"fl_plank"} .. ti({"st_turnstilearm_w"})
+ti[":"] = {"fl_plank"} .. ti({"st_turnstilearm_e"})
+ti["|"] = {"fl_plank"} .. ti({"st_turnstilearm_n"})
+ti[","] = {"fl_plank"} .. ti({"st_turnstilearm_s"})
 ti["."] = ti[" "] .. {"st_turnstile_green"}
-ti["?"] = (ti({"fl-plank"}) .. {"st_turnstilearm_w"}) .. {"it_seed"}
+ti["?"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_seed"}
 ti["/"] = {"st_turnstilearm_n"} .. ti({"fl-white"})
 ti["+"] = {"st_turnstilearm_n"} .. ti({"fl-leaves"})
 ti["a"] = ti[" "] .. {"st-camouflage"}
@@ -54,7 +54,7 @@
 ti["i"] = {"fl-mortar"} .. ti({"st-beads"}) --Window
 ti["j"] = {"fl-white"} --Orin's floor
 ti["k"] = ti[" "] .. {"st-marble"} --Audrey's Walls
-ti["m"] = {"fl-plank"} .. ti({"it_coin_l"})
+ti["m"] = {"fl_plank"} .. ti({"it_coin_l"})
 ti["n"] = {"fl-gradient13"} .. ti({"st-grate1"})
 ti["o"] = (ti[" "] .. {"it_meditation_hollow", essential=1}) .. {"st-camouflage"}
 ti["p"] = ti[" "] .. {"st-plain"}
@@ -64,14 +64,14 @@
 ti["w"] = {"fl-gradient15"} .. ti({"st_nil"})
 ti["x"] = ti[" "] .. {"st_scissors"}
 ti["y"] = {"fl-woven"}
-ti["z"] = {"fl-plank"}
+ti["z"] = {"fl_plank"}
 ti["A"] = {"fl-leaves"} .. ti({"it_banana"})
-ti["B"] = {"fl-plank"} .. ti({"it-blackbomb"})
+ti["B"] = {"fl_plank"} .. ti({"it-blackbomb"})
 ti["D"] = {"fl-white"} .. ti({"st_death"})
 ti["E"] = {"fl-leaves"} .. ti({"it_cherry"})
-ti["F"] = {"fl-plank"} .. ti({"it_seed"})
-ti["G"] = {"fl-plank"} .. ti({"st-glass1_hole"})
-ti["H"] = {"fl-brick"} .. ti({"it_meditation_hollow"})
+ti["F"] = {"fl_plank"} .. ti({"it_seed"})
+ti["G"] = {"fl_plank"} .. ti({"st-glass1_hole"})
+ti["H"] = {"fl_brick"} .. ti({"it_meditation_hollow"})
 ti["I"] = ti["y"] .. {"#ac_pearl_white", player=0, name="Seymour"}
 ti["J"] = ti["b"] .. {"#ac_pearl_white", name="Orin", controllers=0,essential=-1}
 ti["K"] = ti["z"] .. {"#ac_pearl_white", name="Mushnik", controllers=0,essential=-1}
@@ -83,7 +83,7 @@
 ti["Q"] = ti[" "] .. {"st-rock3_hole"}
 ti["R"] = ti[" "] .. {"st-rock3"}
 ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}
-ti["T"] = {"fl-plank"} .. ti({"it-coffee"})
+ti["T"] = {"fl_plank"} .. ti({"it-coffee"})
 ti["W"] = (ti({"fl-gradient15"}) .. {"st_oneway", orientation=WEST}) .. {"it-burnable"}
 ti["X"] = ti[" "] .. {"st_brick"}
 ti["["] = ti[" "] .. {"st-grate3", name="d1"}

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -33,11 +33,11 @@
 designs =
   {{"fl-samba",     "fl_water", "st-bluegray",   "st-bluegray_hole",   OXYD_CYAN},
    {"fl_rock",      "fl_abyss", "st-camouflage", "st-camouflage_hole", OXYD_GREEN},
-   {"fl-sahara",    "fl_abyss", "st-greenbrown", "st-greenbrown_hole", OXYD_YELLOW},
+   {"fl_sahara",    "fl_abyss", "st-greenbrown", "st-greenbrown_hole", OXYD_YELLOW},
    {"fl-black",     "fl_water", "st-marble",     "st-marble_hole",     OXYD_PURPLE},
-   {"fl-bluegreen", "fl_abyss", "st-metal",      "st-metal_hole",      OXYD_BLUE},
-   {"fl-brick",     "fl_water", "st-rock1",      "st-rock1_hole",      OXYD_RED},
-   {"fl-gravel",    "fl_abyss", "st-rock2",      "st-rock2_hole",      OXYD_BLACK},
+   {"fl_bluegreen", "fl_abyss", "st-metal",      "st-metal_hole",      OXYD_BLUE},
+   {"fl_brick",     "fl_water", "st-rock1",      "st-rock1_hole",      OXYD_RED},
+   {"fl_gravel",    "fl_abyss", "st-rock2",      "st-rock2_hole",      OXYD_BLACK},
    {"fl-metal",     "fl_water", "st-rock3",      "st-rock3_hole",      OXYD_WHITE}}
 
 vortex_goals = {}

Modified: trunk/data/levels/enigma_viii/andreas49_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Wired" el:subtitle="" el:id="andreas49"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,10 +14,10 @@
       <el:score el:easy="0:37" el:difficult="8:49"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-sahara", friction = 3.5, mouseforce = 4.0}
-ti["a"] = {"fl-light", friction = 3.5, mouseforce = 4.0}
+ti[" "] = {"fl_sahara", friction = 3.5, mouseforce = 4.0}
+ti["a"] = {"fl_ivory", friction = 3.5, mouseforce = 4.0}
 ti["b"] = {"fl-white", friction = 3.5, mouseforce = 4.0}
-ti["c"] = {"fl-lightgray", friction = 3.5, mouseforce = 4.0}
+ti["c"] = {"fl_platinum", friction = 3.5, mouseforce = 4.0}
 ti["_"] = {"fl_water"}
 ti["@"] = {"#ac_marble_black"}
 ti["w"] = {"st-plain_move", "wood#"}

Modified: trunk/data/levels/enigma_viii/andreas50_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Oxyds" el:subtitle="" el:id="andreas50"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,12 +25,12 @@
 ti["F "] = {"st_oxyd", oxydcolor = OXYD_QUAKE, noshuffle = true}
 
 ti["d1"] = {"fl-red"}       .. ti({"it_blocker", "RED#"})
-ti["d2"] = {"fl-bluegray"}  .. ti({"it_blocker", "CYAN#"})
-ti["d3"] = {"fl-bluegreen"} .. ti({"it_blocker", "BLUE#"})
+ti["d2"] = {"fl_bluegray"}  .. ti({"it_blocker", "CYAN#"})
+ti["d3"] = {"fl_bluegreen"} .. ti({"it_blocker", "BLUE#"})
 ti["d4"] = {"fl-leavesb"}   .. ti({"it_blocker", "GREEN#"})
 ti["d5"] = {"fl-black"}     .. ti({"it_blocker", "BLACK#"})
 ti["d6"] = {"fl-white"}     .. ti({"it_blocker", "WHITE#"})
-ti["d7"] = {"fl-sahara"}    .. ti({"it_blocker", "YELLOW#"})
+ti["d7"] = {"fl_sahara"}    .. ti({"it_blocker", "YELLOW#"})
 ti["d8"] = {"fl-rough-red"} .. ti({"it_blocker", "PURPLE#"})
 
 ti["o1"] = {"st_oxyd", oxydcolor = OXYD_RED, target = "RED#*",

Modified: trunk/data/levels/enigma_viii/andreas51_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Turnstiles" el:subtitle="" el:id="andreas51"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sahara"}
+ti[" "] = {"fl_sahara"}
 ti["#"] = {"st-rock6"}
 ti["@"] = {"#ac_marble_black", "marble_black"}
 

Modified: trunk/data/levels/enigma_viii/andreas53_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas53_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/andreas53_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Vanity's Constrictions" el:subtitle="The Hand Mirror Cabinet" el:id="andreas53"/>
-      <el:version el:score="2" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-bluegray", checkerboard = 0, friction = 6.0, adhesion = 2.0}
+ti["  "] = {"fl_bluegray", checkerboard = 0, friction = 6.0, adhesion = 2.0}
            .. ti({"fl-darkgray", checkerboard = 1, friction = 6.0, adhesion = 2.0})
 ti["# "] = {"st-glass2"}
 ti["@ "] = {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="19" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="20" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -93,7 +93,7 @@
 ti["*"] = ti["."] .. {"#ac_marble_white", player = 1}
 
 if wo["IsDifficult"] ~= TRUE then
-    ti["~"] = {"fl-bluegray"}
+    ti["~"] = {"fl_bluegray"}
     ti["("] = {"fl_bridge_gc", state = CLOSED}
     ti[";"] = ti["("] .. {"it-yinyang"}
     ti["R"] = ti["~"] .. {"it-document", text = "doc2"}
@@ -192,8 +192,8 @@
 function createEasyPassage()
     wo[{47,18}] = {"st_nil"}
     wo[{48,18}] = {"st_nil"}
-    wo[{47,18}] = {"fl-bluegray"}
-    wo[{48,18}] = {"fl-bluegray"}
+    wo[{47,18}] = {"fl_bluegray"}
+    wo[{48,18}] = {"fl_bluegray"}
 end
 
 function bridge01()
@@ -206,8 +206,8 @@
         end
         wo[{44, 6}] = {"fl_bridge_gc", state = CLOSED}
     else
-        wo[{49,11}] = {"fl-bluegray"}
-        wo[{49,12}] = {"fl-bluegray"}
+        wo[{49,11}] = {"fl_bluegray"}
+        wo[{49,12}] = {"fl_bluegray"}
         createEasyPassage()
     end
 end
@@ -238,7 +238,7 @@
         end
     else
         for x = 41,44 do
-            wo[{ x, 6}] = {"fl-bluegray"}
+            wo[{ x, 6}] = {"fl_bluegray"}
         end
         createEasyPassage()
     end

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="14" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="15" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,17 +16,16 @@
     </el:info>
     <el:luamain><![CDATA[
 wo["FollowMethod"] = FOLLOW_SCROLL
-
 sFactor = 5.0
 
 ti["  "] = {"fl_water"}
-ti[" c"] = {"fl-concrete"}
+ti[" c"] = {"fl_concrete"}
 ti[" h"] = {"fl_hay"}
 ti[" l"] = {"fl-leaves"}
 ti[" r"] = {"fl_rock"}
 ti[" s"] = {"fl-sand"}
-ti[" v"] = {"fl-gravel", friction = sFactor}
-ti[" V"] = {"fl-gravel", friction = sFactor * 2.5}
+ti[" v"] = {"fl_gravel", friction = sFactor}
+ti[" V"] = {"fl_gravel", friction = sFactor * 2.5}
 ti[". "] = {"st_disco_light"}
 ti[": "] = {"st_disco_medium"}
 ti["p "] = {"st_box_rock"}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -1,66 +1,66 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="23" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="70" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="71" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="6" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="136" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="137" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 27 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,9 +20,9 @@
 ti["R"] = {"#ac_rotor", range=1, strength=1}
 ti["  "] = {"fl-normal"}
 ti[" r"] = {"fl-red"}
-ti[" h"] = {"fl-himalaya"}
-ti[" '"] = {"fl-sahara"}
-ti[" b"] = {"fl-bluegray"}
+ti[" h"] = {"fl_himalaya"}
+ti[" '"] = {"fl_sahara"}
+ti[" b"] = {"fl_bluegray"}
 ti[" +"] = {"fl-rough-red"}
 ti[" -"] = {"fl-rough-blue"}
 ti[" ~"] = {"fl_water"}

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,7 +28,7 @@
 ti["  "] = {"fl-normal"}
 ti[" ."] = {"fl_abyss"}
 ti["# "] = {"st-redrock"}
-ti[" l"] = {"fl-sahara"}
+ti[" l"] = {"fl_sahara"}
 ti["~ "] = {"fl_water"}
 ti["; "] = {"fl_swamp"}
 ti["' "] = {"it_seed"}

Modified: trunk/data/levels/enigma_viii/mecke03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Balance Beam" el:subtitle="Balance Beam" el:id="mecke03"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke"/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,12 +20,12 @@
 if wo ["IsDifficult"] then
     ti["b"] = {"fl_ice"}
   else
-    ti["b"] = {"fl-bluegray"}
+    ti["b"] = {"fl_bluegray"}
 end
 ti[" "] = {"fl_space"}
 ti["r"] = {"fl-red"}
 ti["z"] = {"fl-rough"}
-ti["l"] = {"fl-light"}
+ti["l"] = {"fl_ivory"}
 ti["~"] = {"fl_water"}
 ti["y"] = {"fl_swamp"}
 ti["n"] = {"st_window_n"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:30$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:32$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,15 +18,15 @@
 wo["ConserveLevel"] = true
 
 if wo ["IsDifficult"] then
-    ti["  "] = {"fl-gravel",burnable=true}
-    ti["H "] = {"fl-gravel",burnable=true,"hotspot"}
-    ti["n1"] = {"fl-gravel","knight1"}
-    ti["n2"] = {"fl-gravel","knight2"}
-    ti["n3"] = {"fl-gravel","break2"}
-    ti["m5"] = {"fl-gravel","swordm"}
-    ti["n5"] = {"fl-gravel","swordn"}
-    ti["o5"] = {"fl-gravel","swordo"}
-    ti["s5"] = {"fl-gravel","swords"}
+    ti["  "] = {"fl_gravel",burnable=true}
+    ti["H "] = {"fl_gravel",burnable=true,"hotspot"}
+    ti["n1"] = {"fl_gravel","knight1"}
+    ti["n2"] = {"fl_gravel","knight2"}
+    ti["n3"] = {"fl_gravel","break2"}
+    ti["m5"] = {"fl_gravel","swordm"}
+    ti["n5"] = {"fl_gravel","swordn"}
+    ti["o5"] = {"fl_gravel","swordo"}
+    ti["s5"] = {"fl_gravel","swords"}
     ti["y "] = {"fl_swamp"}
 else
     ti["  "] = {"fl-rough",burnable=true}
@@ -41,7 +41,7 @@
     ti["y "] = {"fl_swamp",{friction=0.6}}
 end
 
-ti["9 "] = {"fl-bluegreenx"}
+ti["9 "] = {"fl_aquamarine"}
 ti[" -"] = {"fl_ice"}
 ti["1 "] = {"fl-leavesd1"}
 ti["15"] = {"fl-leavesd1","sword1"}

Modified: trunk/data/levels/enigma_viii/mecke07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios I" el:subtitle="Use the Lightpassenger" el:id="mecke48"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,17 +14,17 @@
     <el:luamain><![CDATA[	
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-sahara"}
+ti["  "] = {"fl_sahara"}
 ti[" _"] = {"fl_swamp"}
 ti["# "] = {"st_lightpassenger"}
 ti[" i"] = {"st_lightpassenger"}
-ti[" l"] = {"fl-sahara"}
+ti[" l"] = {"fl_sahara"}
 ti["X "] = {"st-grate1"}
 ti["* "] = ti[" _"] ..  {"#ac_marble_black"}
 ti[" ,"] = {"fl-red"}
 ti[" ~"] = {"fl_water"}
 ti[" ."] = {"fl_space"}
-ti[" n"] = {"fl-light"}
+ti[" n"] = {"fl_ivory"}
 ti["K "] = {"st_laser_n", name="laser1", state=OFF}
 ti["E "] = {"st_lightpassenger_off"}
 ti["O "] = {"st_rotator_ccw", movable=false}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 19 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,20 +20,18 @@
 
 ti[" t"] = {"fl-thief"}
 ti["  "] = {"fl-rough"}
-ti[" q"] = {"fl-bluegreenx"}
-ti[" i"] = ti[" q"] ..{"it-crack3", brittleness=0}
+ti[" q"] = {"fl_aquamarine"}
+ti[" i"] = ti[" q"] ..{"it_crack_l", fragility=0}
 ti["# "] = ti[" i"] ..{"st_actorimpulse_invisible"}
 ti[" l"] = ti["  "] ..{"it_meditation_bump"}
-ti[" m"] = {"fl-sahara"}
+ti[" m"] = {"fl_sahara"}
 ti[" c"] = {"it_brush"}
 ti["X "] = ti[" m"] ..{"st-grate1"}
 ti[" _"] = {"fl_swamp"}
-
 ti[" ,"] = {"fl-red"}
 ti[" ~"] = {"fl_water"}
-ti[" ."] = {"fl-bluegreenx", friction=0.8}
-ti[" n"] = {"fl-light"}
-
+ti[" ."] = {"fl_aquamarine", friction=0.8}
+ti[" n"] = {"fl_ivory"}
 ti["E "] = {"st_lightpassenger_off"}
 ti["O "] = {"st_rotator_ccw", movable=false}
 ti["Q "] = {"st_rotator_ccw", movable=true}
@@ -75,7 +73,7 @@
 ti["V1"] = ti[" _"] ..{"it_vortex_closed", name="vortex1", destination="vortex2"}
 
 if wo["IsDifficult"] then
-  ti[" '"] = ti[" ."] .. {"it-crack2", brittleness=0}
+  ti[" '"] = ti[" ."] .. {"it_crack_m", fragility=0}
   ti["1f"] = ti["1 "] .. {"it_magicwand"}
   ti["* "] = ti["  "] .. {"#ac_marble_black"}
   ti["Dx"] = ti[" ."] .. {"st_door", "doora#", flavor="a"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 22 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 23 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -20,16 +20,16 @@
 ti[" ."] = {"fl-rough-red"}
 ti[" ,"] = {"fl_swamp"}
 ti[" +"] = {"fl-woven"}
-ti[" !"] = {"fl-brick"}
+ti[" !"] = {"fl_brick"}
 ti["! "] = {"st_death"}
 ti[" #"] = {"fl-normal"}
 ti["# "] = {"st-rock3"}
 ti[" $"] = {"fl_abyss"}
-ti[" %"] = {"fl-light"}
+ti[" %"] = {"fl_ivory"}
 ti["$ "] = {"st-stone_break"}
 ti["% "] = {"st-rock6"}
 ti[" &"] = {"fl_water"}
-ti[" '"] = {"fl-bluegray"}
+ti[" '"] = {"fl_bluegray"}
 ti[" ("] = {"fl_space"}
 ti["& "] = {"st-yellow"}
 ti["' "] = {"st_actorimpulse"}
@@ -57,11 +57,11 @@
 ti[". "] = {"st_stoneimpulse"}
 ti["/ "] = {"st_stoneimpulse_hollow"}
 ti["0 "] = {"st-rock3_hole"}
-ti[" -"] = {"fl-bluegreenx"}
+ti[" -"] = {"fl_aquamarine"}
 ti["1 "] = {"st-glass"}
 ti[" /"] = {"fl-rough-blue"}
 ti["2 "] = {"st_shogun_m"}
-ti[" 0"] = {"fl-himalaya"}
+ti[" 0"] = {"fl_himalaya"}
 ti["e1"] = ti["e2"]..{"it_brush"}
 ti["3 "] = {"st_shogun_s"}
 ti["5 "] = {"st-rock3_move"}
@@ -96,7 +96,7 @@
 ti["7 "] = {"st-break_bolder"}
 ti[": "] = {"st_oneway_black_n"}
 ti["Y "] = {"st_oneway_black_s"}
-ti[" 2"] = {"fl-gravel"}
+ti[" 2"] = {"fl_gravel"}
 ti[" 3"] = {"fl-acblack"}
 ti["; "] = {"st_knight"}
 ti["< "] = {"st_laser_e", name="lezy1"}
@@ -115,7 +115,7 @@
 ti["C "] = {"st-break_invisible"}
 ti["D "] = {"st-bluegray"}
 ti["X "] = {"st-bluegray_hole"}
-ti[" 8"] = {"fl-sahara"}
+ti[" 8"] = {"fl_sahara"}
 ti["E "] = {"st_boulder_s"}
 ti["F "] = {"st_passage_black_cross"}
 ti["G "] = {"st_boulder_n"}
@@ -131,7 +131,7 @@
     ti["wd"] = ti[" &"]..{"it_death"}
     ti["bd"] = ti[" #"]..{"it_death"}
     ti["wu"] = ti[" )"]..{"fl-red"}
-    ti["ww"] = ti[" -"]..{"fl-bluegreenx"}
+    ti["ww"] = ti[" -"]..{"fl_aquamarine"}
 else
     ti["wd"] = ti[" &"]..{"fl_water"}
     ti["bd"] = ti[" #"]..{"fl-normal"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 
 ti[" "] = {"fl-abyss_fake"}
 ti["r"] = {"fl-red"}
-ti["z"] = {"fl-sahara"}
+ti["z"] = {"fl_sahara"}
 ti["a"] = {"fl_abyss"}
 ti["~"] = {"fl_water"}
 ti["D"] = ti["a"] .. {"st_disco_light"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -100,7 +100,7 @@
 ti["q "] = {"st_turnstilearm", orientation=SOUTH}
 ti["k "] = {"st_turnstilearm", orientation=WEST}
 ti["l "] = {"st_turnstilearm", orientation=EAST}
-ti[" *"] = {"it-crack3"}
+ti[" *"] = {"it_crack_l"}
 ti["* "] = ti[" *"] ..  {"#ac_marble_black"}
 ti["J "] = {"#ac_top", range=1, strength=1}
 ti["= "] = {"#ac_horse"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 6 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 7 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,11 +23,11 @@
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
 ti[" i"] = {"fl-inverse"}
-ti[" b"] = {"fl-bluegreenx"}
+ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl-rough"}
-ti[" '"] = {"fl-gravel"}
+ti[" '"] = {"fl_gravel"}
 ti[" ,"] = {"fl-white"}
-ti[" +"] = {"fl-sahara"}
+ti[" +"] = {"fl_sahara"}
 ti["yi"] = ti[" +"] .. {"it-yinyang"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
 ti["X~"] = ti[" ~"] .. {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:6$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:7$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -21,7 +21,7 @@
 ti[" !"] = {"fl_water"}
 ti["! "] = {"st-rock6"}
 ti[" #"] = {"fl-normal"}
-ti[" $"] = {"fl-sahara"}
+ti[" $"] = {"fl_sahara"}
 ti["# "] = {"st_chess_white"}
 ti["s "] = {"it_squashed"}
 ti["hh"] = ti[" !"] .. {"st_pull"}
@@ -31,7 +31,7 @@
 ti["% "] = {"st_rotator_ccw"}
 ti["& "] = {"st_boulder_n"}
 ti["b "] = {"it_blocker"}
-ti[" '"] = {"fl-bluegray"}
+ti[" '"] = {"fl_bluegray"}
 ti["' "] = {"st_oneway_white_e"}
 ti["( "] = {"st-yellow"}
 ti[") "] = {"st_scissors", name="df3"}
@@ -45,7 +45,7 @@
 ti["- "] = {"st_boulder_w"}
 ti[". "] = {"st-grate1"}
 ti[" d"] = ti["hh"] .. {"it-dynamite"}
-ti["c "] = {"it-crack3"}
+ti["c "] = {"it_crack_l"}
 ti["? "] = {"it_seed_volcano"}
 ti[" +"] = {"fl-rough"}
 ti["l "] = {"it_landmine"}
@@ -55,7 +55,7 @@
 ti["0 "] = {"st_quake"}
 ti[" f"] = ti["hh"] .. {"it-coffee"}
 ti["q "] = {"it-coffee"}
-ti[" ,"] = {"fl-gravel"}
+ti[" ,"] = {"fl_gravel"}
 ti[" -"] = {"fl-rough-red"}
 ti["1 "] = {"st-glass"}
 ti["2 "] = {"st-block"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 25 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,13 +22,13 @@
 ti[" $"] = {"fl_space"}
 ti["% "] = {"st-glass"}
 ti[" %"] = {"fl-rough-blue"}
-ti[" ("] = {"fl-sahara"}
+ti[" ("] = {"fl_sahara"}
 ti["& "] = {"st_actorimpulse_invisible"}
 ti[" &"] = {"fl-rough-red"}
 ti["ee"] = ti[" ("]..{"it_extralife"}
 ti["ex"] = ti[" %"]..{"it_extralife"}
 ti["' "] = {"st-yellow"}
-ti[" '"] = {"fl-bluegray"}
+ti[" '"] = {"fl_bluegray"}
 ti["( "] = {"st-grate3"}
 ti["* "] = {"st-stone_break"}
 ti[" )"] = {"fl-acblack"}
@@ -82,7 +82,7 @@
 ti["G "] = {"st_laser_w", name="laserhi"}
 ti["oo"] = ti[" $"]..{"it-spoon"}
 ti["H "] = {"st_oneway_black_e"}
-ti["::"] = ti[" '"]..{"it-crack2"}
+ti["::"] = ti[" '"]..{"it_crack_m"}
 ti["d1"] = ti[" $"] .. {"it-document", text="beginning"}
 ti["gg"] = ti[" ("]..{"it-puller-e"}
 ti["JJ"] = ti[" %"]..{"#ac_top", range=1, strength=1}
@@ -111,10 +111,10 @@
     ti["w4"] = ti[" &"]..{"it_wormhole", destination = po(19.5, 13.5),range=10, strength=10}
     ti["w5"] = ti[" &"]..{"it_wormhole", destination = po(29.5, 30.5),range=10, strength=10}
     ti["w6"] = ti[" ("]..{"it_wormhole", destination = po(66.5, 31.5),range=10, strength=10}
-    ti["w7"] = ti[" ("]..{"fl-sahara"}
+    ti["w7"] = ti[" ("]..{"fl_sahara"}
     ti["aa"] = ti["< "]..{"fl_abyss"}
     ti["pe"] = ti[" '"]..{"it-puller-e"}
-    ti["ei"] = ti[" ("]..{"fl-sahara"}
+    ti["ei"] = ti[" ("]..{"fl_sahara"}
 else
     ti["w1"] = ti[" &"]..{"it_wormhole", destination = po(28.5, 31.5),range=3, strength=3}
     ti["w2"] = ti[" ("]..{"it_wormhole", destination = po(36.5, 38.5),range=3, strength=3}
@@ -123,9 +123,9 @@
     ti["w5"] = ti[" &"]..{"it_wormhole", destination = po(29.5, 30.5),range=3, strength=3}
     ti["w6"] = ti[" ("]..{"it_wormhole", destination = po(66.5, 31.5),range=3, strength=3}
     ti["w7"] = ti[" ("]..{"it_wormhole", destination = po(63.5, 6.5),range=3, strength=3}
-    ti["aa"] = ti["< "]..{"fl-sahara"}
+    ti["aa"] = ti["< "]..{"fl_sahara"}
     ti["ei"] = ti[" ("]..{"it_extralife"}
-    ti["pe"] = ti[" '"]..{"fl-bluegray"}
+    ti["pe"] = ti[" '"]..{"fl_bluegray"}
 end
 
 local resolver = res.composer(ti)

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -42,10 +42,10 @@
 ti["hh"] = ti[" &"] .. {"it_strip", connections="ew"}
 ti["vv"] = ti[" &"] .. {"it_strip", connections="ns"}
 ti[", "] = {"st-glass_move"}
-ti[" '"] = {"fl-bluegray"}
+ti[" '"] = {"fl_bluegray"}
 ti["- "] = {"st_knight"}
 ti[". "] = {"st_boulder_e"}
-ti[" ("] = {"fl-bluegreenx"}
+ti[" ("] = {"fl_aquamarine"}
 ti["A "] = {"st-break_bolder"}
 ti["jj"] = ti[" !"] .. {"st-break_bolder"}
 ti["t1"] = ti[" !"] .. {"it_trigger", target="olli1",action="toggle"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:70$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:71$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -30,7 +30,7 @@
 ti[" $"] = {"fl_water"}
 ti["# "] = {"st_oneway_black_n"}
 ti["$ "] = {"st_stoneimpulse_steady"}
-ti[" %"] = {"fl-bluegreenx"}
+ti[" %"] = {"fl_aquamarine"}
 ti[" ;"] = {"fl-leavesd4"}
 ti["% "] = {"st-rock1"}
 ti[" &"] = {"fl-samba"}
@@ -59,7 +59,7 @@
 ti["8 "] = {"st_puzzle_yellow_n"}
 ti["9 "] = {"st_puzzle_yellow_s"}
 ti[": "] = {"st_door",state=OPEN,faces="ns"}
-ti[" +"] = {"fl-bluegray"}
+ti[" +"] = {"fl_bluegray"}
 ti["< "] = {"st_passage_black_frame"}
 ti["= "] = {"st-glass_move"}
 ti["> "] = {"st_turnstilearm_e"}
@@ -67,7 +67,7 @@
 ti[" ,"] = {"fl_abyss"}
 ti["@ "] = {"st_oneway_black_w"}
 ti["A "] = {"st_puzzle_yellow_nesw"}
-ti[" -"] = {"fl-light"}
+ti[" -"] = {"fl_ivory"}
 ti["C "] = {"st_oneway_black_e"}
 ti["D "] = {"st_oneway_black_s"}
 ti["//"] = ti[" !"].. {"st_box_wood"}
@@ -85,14 +85,14 @@
 ti[" 0"] = {"fl-gradient9"}
 ti[" 1"] = {"fl-gradient3"}
 ti[" 2"] = {"fl-gradient10"}
-ti[" 3"] = {"fl-floor_001"}
+ti[" 3"] = {"fl_bast"}
 ti["M "] = {"st_swap"}
 ti["N "] = {"st_boulder_n"}
 ti[" 5"] = {"fl-gradient2"}
 ti[" 6"] = {"fl-gradient6"}
 ti[" 7"] = {"fl-gradient12"}
 ti["O "] = {"st_oneway_s"}
-ti[" 8"] = {"fl-bluegreen"}
+ti[" 8"] = {"fl_bluegreen"}
 ti[" 9"] = {"fl-leavesc2"}
 ti["c9"] = ti["c "] .. {"fl-leavesc2"}
 ti["q9"] = ti["c9"] .. {"it-booze"}
@@ -101,7 +101,7 @@
 ti["R "] = ti[" l"] .. {"st_mirror_slab",movable=false,transparent=false}
 ti["S "] = ti[" l"] .. {"st_mirror_slab",movable=true,transparent=false}
 ti["U "] = {"st-rock6"}
-ti[" >"] = {"fl-gravel"}
+ti[" >"] = {"fl_gravel"}
 ti[" ?"] = {"fl-abyss_fake"}
 ti["W "] = {"st-break_invisible"}
 ti["X "] = {"st_window_s"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 22 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,13 +19,13 @@
 
 ti[" #"] = {"fl-stone"}
 ti[" a"] = {"fl_rock"}
-ti[" ,"] = {"fl-concrete"}
+ti[" ,"] = {"fl_concrete"}
 ti[" &"] = {"fl_ice"}
-ti[" %"] = {"fl-gravel"}
+ti[" %"] = {"fl_gravel"}
 ti["  "] = {"fl_hay",{secure=TRUE}}
 ti[" o"] = {"fl-acblack"}
-ti[" *"] = {"fl-himalaya"}
-ti[" +"] = {"fl-sahara"}
+ti[" *"] = {"fl_himalaya"}
+ti[" +"] = {"fl_sahara"}
 ti[" '"] = {"fl-tigris"}
 ti[" ."] = {"fl-metal"}
 ti[" /"] = {"fl-woven"}
@@ -60,8 +60,8 @@
 ti["ZZ"] = ti[" ."] .. {"st-stone_break"}
 ti[" ;"] = {"fl_swamp"}
 ti["R "] = {"st-redrock"}
-ti[" j"] = {"it-crack2"}
-ti["&&"] = ti[" &"] .. {"it-crack2"}
+ti[" j"] = {"it_crack_m"}
+ti["&&"] = ti[" &"] .. {"it_crack_m"}
 ti[" z"] = ti[" ."] .. {"st_stoneimpulse_hollow"}
 ti[" y"] = ti[" O"] .. {"st_stoneimpulse_hollow"}
 ti["* "] = ti["u "] .. {"#ac_marble_black"}
@@ -175,10 +175,10 @@
 ti["v8"] = ti["E "] .. {"it_vortex_open", name="vortex8", destination="vortex7"}
 ti["w1"] = ti[" ."] .. {"it_vortex_open", name="wortex1", destination="wortex2"}
 ti["w2"] = ti[" ."] .. {"it_vortex_open", name="wortex2", destination="wortex1"}
-ti["&5"] = {"fl-bluegreenx", name="&5"}
-ti["&6"] = {"fl-bluegreenx", name="&6"}
-ti["&7"] = {"fl-bluegreenx", name="&7"}
-ti["&8"] = {"fl-bluegreenx", name="&8"}
+ti["&5"] = {"fl_aquamarine", name="&5"}
+ti["&6"] = {"fl_aquamarine", name="&6"}
+ti["&7"] = {"fl_aquamarine", name="&7"}
+ti["&8"] = {"fl_aquamarine", name="&8"}
 ti["&h"] = ti["&1"] .. {"ac_horse", name="horse", destination={"&5","&6","&7","&8"}}
 ti["&r"] = ti[" 1"] .. {"ac_rotor", 0.5, 0.5, range=5, strength=5}
 ti["t9"] = {"it_trigger", target="laser"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 5 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 6 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,12 +19,12 @@
 wo["ExtralifeGlasses"] = SPOT_DEATH + SPOT_TRAP
 
 if wo ["IsDifficult"] then
-    ti["  "] = {"fl-bluegreen"}
+    ti["  "] = {"fl_bluegreen"}
     ti[" v"] = {"fl_ice"}
     ti[" '"] = {"fl-rough"}
 else
     ti["  "] = {"fl-rough"}
-    ti[" v"] = {"fl-bluegreen"}
+    ti[" v"] = {"fl_bluegreen"}
 
 end
 

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 7 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,14 +21,14 @@
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
 ti[" i"] = {"fl-inverse"}
-ti[" b"] = {"fl-bluegreenx"}
+ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl-rough"}
-ti[" '"] = {"fl-gravel"}
+ti[" '"] = {"fl_gravel"}
 ti[" ,"] = {"fl-white"}
 ti[" ="] = {"fl_swamp"}
-ti[" +"] = {"fl-sahara"}
+ti[" +"] = {"fl_sahara"}
 ti[" x"] = {"fl-gradient3"}
-ti["jj"] = {"it-crack3"}
+ti["jj"] = {"it_crack_l"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
 ti["X~"] = ti[" ~"] .. {"st-grate1"}
 ti["Xw"] = ti[" w"] .. {"st-grate1"}
@@ -86,8 +86,8 @@
 ti["gi"] = ti[" r"] .. {"st-glass"}
 ti["yy"] = ti["yw"] .. {"st_death"}
 ti["*w"] = ti["yy"] .. {"#ac_marble_white"}
-ti["j&"] = ti[" &"] .. {"it-crack3"}
-ti["j'"] = ti[" '"] .. {"it-crack3"}
+ti["j&"] = ti[" &"] .. {"it_crack_l"}
+ti["j'"] = ti[" '"] .. {"it_crack_l"}
 ti["OO"] = ti["j&"] .. {"st_oneway_white_e"}
 ti["v1"] = ti["OO"] .. {"st_door",faces="ew", name="door1"}
 ti["EE"] = ti["j'"] .. {"st_oneway_black_w"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 136 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 137 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,15 +28,15 @@
 ti["~e"] = {"fl_water", "escape_close#"}
 ti["__"] = {"fl_abyss"}
 ti["_f"] = {"fl-abyss_fake"}
-ti[",,"] = {"fl-concrete"}
-ti[",e"] = {"fl-concrete", "escape_pos"}
-ti[",f"] = {"fl-concrete", "escape_close#"}
-ti[".."] = {"fl-gravel"}
-ti["LZ"] = {"fl-gravel", "sunlight1"}
-ti["LY"] = {"fl-gravel", "sunlight2"}
-ti["RZ"] = {"fl-gravel", "ringroom"}
-ti[";;"] = {"fl-dunes", friction=6, mousefactor=2}
-ti["''"] = {"fl-sahara"}
+ti[",,"] = {"fl_concrete"}
+ti[",e"] = {"fl_concrete", "escape_pos"}
+ti[",f"] = {"fl_concrete", "escape_close#"}
+ti[".."] = {"fl_gravel"}
+ti["LZ"] = {"fl_gravel", "sunlight1"}
+ti["LY"] = {"fl_gravel", "sunlight2"}
+ti["RZ"] = {"fl_gravel", "ringroom"}
+ti[";;"] = {"fl_dunes", friction=6, mousefactor=2}
+ti["''"] = {"fl_sahara"}
 ti["%%"] = {"fl-samba"}
 ti["%."] = {"fl-samba", "volcan#", secure=true}
 ti["_v"] = {"fl_abyss", "volcan#"}
@@ -343,7 +343,7 @@
 ti["W4"] = ti[" 4"] .. {"st_window_e"}
 ti["C1"] = ti["k1"] .. {"st-chameleon"}
 
-ti["'A"] = {"fl-sahara", "tutoxyd"}
+ti["'A"] = {"fl_sahara", "tutoxyd"}
 
 ti["k2"] = ti["##"] .. {"it_key", code=2}
 
@@ -564,7 +564,7 @@
 did_curse_brittle = false
 function curse_brittle(value, sender)
     if did_curse_brittle == false then
-        wo[sender + {-1, -3}] = {"it-crack2"}
+        wo[sender + {-1, -3}] = {"it_crack_m"}
         wo[sender] = {"it-document", text="curse_brittle"}
     end
     did_curse_brittle = true

Modified: trunk/data/levels/enigma_viii/ral25_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wired Five" el:subtitle="" el:id="20080721ral073"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti[" "] = {"fl_abyss"}
 ti["*"] = ti[" "] ..{"st-marble"}
 ti["."] = {"fl-marble", friction=7, adhesion=1.8, checkerboard=cb} 
-          .. ti({"fl-light", friction=7, adhesion=1.8, checkerboard=1-cb})
+          .. ti({"fl_ivory", friction=7, adhesion=1.8, checkerboard=1-cb})
 
 if wo["IsDifficult"] then
     ti["+"] = ti[" "]
@@ -35,7 +35,7 @@
 
 ti["trigger"] = {"it_trigger", target="hill%%", action="signal", inverse=true}
 ti["brownie"] = {"st-marble_move", "brownie%%"}
-ti["mini"] = {"fl-light", friction=7, adhesion=1.8} 
+ti["mini"] = {"fl_ivory", friction=7, adhesion=1.8} 
              .. ti({"#ac_pearl"})
              .. ti({"it_meditation_bump", "hill%%"})
 ti[","] = ti["."] .. {"it_meditation_bump", "hill%5"}

Modified: trunk/data/levels/enigma_viii/ral26_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wireban Premiere" el:subtitle="" el:id="20080715ral161"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 wo["ConserveLevel"] = false
 wo["ShowMoves"] = true
 
-ti[" "] = {"fl-lightgray", friction=7, adhesion=1.8}
+ti[" "] = {"fl_platinum", friction=7, adhesion=1.8}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st-rock8"}
 ti["+"] = {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/ral27_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral27_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral27_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Microwire" el:subtitle="" el:id="20080717ral427"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
 wo["ShowMoves"] = true
 
 ti[" "] = {"fl_abyss"}
-ti["-"] = {"fl-lightgray", friction=7, adhesion=1.8}
+ti["-"] = {"fl_platinum", friction=7, adhesion=1.8}
 ti["."] = {"st_polarswitch"}
 ti["1"] = {"st_mirror", "mirror1", orientation=EAST, movable=true}
 ti["2"] = {"st_mirror", "mirror2", orientation=EAST, movable=true}
@@ -28,7 +28,6 @@
 ti["O"] = {"st_oxyd_d"}
 ti["@"] = ti["x"] .. {"#ac_marble"}
 
-
 w, h = wo(ti, "-", {
 "                    ",
 "        OOO         ",

Modified: trunk/data/levels/enigma_viii/ral29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral29_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral29_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Freestyle Microwire" el:subtitle="" el:id="20080719ral530"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["MaxOxydColor"] = OXYD_BLUE
 
 ti[" "] = {"fl_abyss"}
-ti["."] = {"fl-light", friction=7, adhesion=1.8}
+ti["."] = {"fl_ivory", friction=7, adhesion=1.8}
 ti["*"] = {"st-glass1"}
 ti["g"] = {"st-glass1_hole"}
 ti["#"] = {"it_trigger", "trigger#", target="check"}
@@ -36,7 +36,6 @@
     ti["%"] = ti["g"]
 end
 
-
 w, h = wo(res.autotile(ti,{"1","4","mirror"}), ".", {
 "O        LSB       O",
 "                    ",

Modified: trunk/data/levels/enigma_viii/ral34_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral34_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/ral34_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wired Shogun" el:subtitle="" el:id="20080828ral417"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-light", checkerboard=1} .. ti({"fl-marble", checkerboard=0})
+ti[" "] = {"fl_ivory", checkerboard=1} .. ti({"fl-marble", checkerboard=0})
 ti["."] = {"fl_abyss"}
 
 ti["1"] = {"st_shogun_l", "l1"}

Modified: trunk/data/levels/enigma_viii/raoul31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-05 23:55:37 UTC (rev 1434)
+++ trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="raoul31"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,7 +22,7 @@
     wo["MeditationStrength"] = 2.0
 end
 
-ti[" "] = {"fl-light"}
+ti[" "] = {"fl_ivory"}
 ti["-"] = {"fl-black"}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st_panel", cluster = 1}



From ral at mail.berlios.de  Wed Jan  7 01:31:23 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 7 Jan 2009 01:31:23 +0100
Subject: [Enigma-game-svn] r1436 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 src
Message-ID: <200901070031.n070VNaA025931@sheep.berlios.de>

Author: ral
Date: 2009-01-07 01:31:15 +0100 (Wed, 07 Jan 2009)
New Revision: 1436

Added:
   trunk/data/gfx32/fl_blueslab.png
   trunk/data/gfx32/fl_marble.png
   trunk/data/gfx32/fl_mortar.png
   trunk/data/gfx32/fl_red.png
   trunk/data/gfx32/fl_redslab.png
   trunk/data/gfx32/fl_rough.png
   trunk/data/gfx32/fl_samba.png
   trunk/data/gfx32/fl_sand.png
   trunk/data/gfx32/fl_stone.png
   trunk/data/gfx32/fl_tigris.png
   trunk/data/gfx32/fl_trigger.png
   trunk/data/gfx32/fl_woven.png
   trunk/data/gfx40/fl_blueslab.png
   trunk/data/gfx40/fl_marble.png
   trunk/data/gfx40/fl_mortar.png
   trunk/data/gfx40/fl_red.png
   trunk/data/gfx40/fl_redslab.png
   trunk/data/gfx40/fl_rough.png
   trunk/data/gfx40/fl_samba.png
   trunk/data/gfx40/fl_sand.png
   trunk/data/gfx40/fl_stone.png
   trunk/data/gfx40/fl_tigris.png
   trunk/data/gfx40/fl_trigger.png
   trunk/data/gfx40/fl_woven.png
   trunk/data/gfx48/fl_blueslab.png
   trunk/data/gfx48/fl_marble.png
   trunk/data/gfx48/fl_mortar.png
   trunk/data/gfx48/fl_red.png
   trunk/data/gfx48/fl_redslab.png
   trunk/data/gfx48/fl_rough.png
   trunk/data/gfx48/fl_samba.png
   trunk/data/gfx48/fl_sand.png
   trunk/data/gfx48/fl_stone.png
   trunk/data/gfx48/fl_tigris.png
   trunk/data/gfx48/fl_trigger.png
   trunk/data/gfx48/fl_woven.png
Removed:
   trunk/data/gfx32/fl-marble.png
   trunk/data/gfx32/fl-mortar.png
   trunk/data/gfx32/fl-red.png
   trunk/data/gfx32/fl-rough-blue.png
   trunk/data/gfx32/fl-rough-red.png
   trunk/data/gfx32/fl-rough.png
   trunk/data/gfx32/fl-samba.png
   trunk/data/gfx32/fl-sand.png
   trunk/data/gfx32/fl-stone.png
   trunk/data/gfx32/fl-tigris.png
   trunk/data/gfx32/fl-trigger.png
   trunk/data/gfx32/fl-woven.png
   trunk/data/gfx40/fl-marble.png
   trunk/data/gfx40/fl-mortar.png
   trunk/data/gfx40/fl-red.png
   trunk/data/gfx40/fl-rough-blue.png
   trunk/data/gfx40/fl-rough-red.png
   trunk/data/gfx40/fl-rough.png
   trunk/data/gfx40/fl-samba.png
   trunk/data/gfx40/fl-sand.png
   trunk/data/gfx40/fl-stone.png
   trunk/data/gfx40/fl-tigris.png
   trunk/data/gfx40/fl-trigger.png
   trunk/data/gfx40/fl-woven.png
   trunk/data/gfx48/fl-marble.png
   trunk/data/gfx48/fl-mortar.png
   trunk/data/gfx48/fl-red.png
   trunk/data/gfx48/fl-rough-blue.png
   trunk/data/gfx48/fl-rough-red.png
   trunk/data/gfx48/fl-rough.png
   trunk/data/gfx48/fl-samba.png
   trunk/data/gfx48/fl-sand.png
   trunk/data/gfx48/fl-stone.png
   trunk/data/gfx48/fl-tigris.png
   trunk/data/gfx48/fl-trigger.png
   trunk/data/gfx48/fl-woven.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/startup.lua
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
Log:
Trunk 1.1: new API reengineering
- renaming of standard floors - part II:
  - fl-marble -> fl_marble
  - fl-mortar -> fl_mortar
  - fl-red -> fl_red
  - fl-rough -> fl_rough
  - fl-rough_medium -> use fl_rough with attributes
  - fl-rough_slow -> use fl_rough with attributes
  - fl-rough-blue -> fl_blueslab
  - fl-rough-blue -> fl_redslab
  - fl-sand -> fl_sand
  - fl-samba -> fl_samba
  - fl-samba1 -> fl_samba_h
  - fl-samba2 -> fl_samba_v
  - fl-stone -> fl_stone
  - fl-tigris -> fl_tigris
  - fl-trigger -> fl_trigger
  - fl-woven -> fl_woven


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/data/api1init.lua	2009-01-07 00:31:15 UTC (rev 1436)
@@ -58,6 +58,7 @@
     fl_bast = "fl-floor_001",
     fl_bluegray = "fl-bluegray",
     fl_bluegreen = "fl-bluegreen",
+    fl_blueslab = "fl-rough-blue",
     fl_brick = "fl-brick",
     fl_bridge = "fl-bridge",
     fl_concrete = "fl-concrete",
@@ -67,12 +68,24 @@
     fl_himalaya = "fl-himalaya",
     fl_ice = "fl-ice",
     fl_ivory = "fl-light",
+    fl_marble = "fl-marble",
+    fl_mortar = "fl-mortar",
     fl_plank = "fl-plank",
     fl_platinum = "fl-lightgray",
+    fl_red = "fl-red",
+    fl_redslab = "fl-rough-blue",
     fl_rock = "fl-rock",
+    fl_rough = "fl-rough",
     fl_sahara = "fl-sahara", 
+    fl_sand = "fl-sand",
+    fl_samba = "fl-samba",
+    fl_samba_h = "fl-samba1",
+    fl_samba_v = "fl-samba2",
     fl_space = "fl-space",
+    fl_stone = "fl-stone",
     fl_swamp = "fl-swamp",
+    fl_tigris = "fl-tigris",
+    fl_trigger = "fl-trigger",
     fl_water = "fl-water",
     fl_wood = "fl-wood",
     fl_wood_h = "fl-wood1",
@@ -80,6 +93,7 @@
     fl_wood_framed = "fl-stwood",
     fl_wood_framed_h = "fl-stwood1",
     fl_wood_framed_v = "fl-stwood2",
+    fl_woven = "fl-woven",
     it_banana = "it-banana",
     it_blocker = "it-blocker",
     it_blocker_new = "it-blocker-new",
@@ -370,6 +384,16 @@
         local obj = enigma._MakeObject("fl_bridge")
         enigma._SetAttrib(obj, "state", 0)
         return obj
+    elseif name == "fl-rough_medium" then
+        local obj = enigma._MakeObject("fl_rough")
+        enigma._SetAttrib(obj, "friction", 5.0)
+        enigma._SetAttrib(obj, "adhesion", 1.2)
+        return obj
+    elseif name == "fl-rough_slow" then
+        local obj = enigma._MakeObject("fl_rough")
+        enigma._SetAttrib(obj, "friction", 7.0)
+        enigma._SetAttrib(obj, "adhesion", 0.5)
+        return obj
     elseif name == "st-key" then
         local obj = enigma._MakeObject("st_key")
         -- Old API keycode default was 0 for st-key, but 1 for it-key!

Deleted: trunk/data/gfx32/fl-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-mortar.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-rough-blue.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-rough-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-rough.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-samba.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-sand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-stone.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-tigris.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-trigger.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-woven.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/fl_blueslab.png (from rev 1432, trunk/data/gfx32/fl-rough-blue.png)

Copied: trunk/data/gfx32/fl_marble.png (from rev 1432, trunk/data/gfx32/fl-marble.png)

Copied: trunk/data/gfx32/fl_mortar.png (from rev 1432, trunk/data/gfx32/fl-mortar.png)

Copied: trunk/data/gfx32/fl_red.png (from rev 1432, trunk/data/gfx32/fl-red.png)

Copied: trunk/data/gfx32/fl_redslab.png (from rev 1432, trunk/data/gfx32/fl-rough-red.png)

Copied: trunk/data/gfx32/fl_rough.png (from rev 1432, trunk/data/gfx32/fl-rough.png)

Copied: trunk/data/gfx32/fl_samba.png (from rev 1432, trunk/data/gfx32/fl-samba.png)

Copied: trunk/data/gfx32/fl_sand.png (from rev 1432, trunk/data/gfx32/fl-sand.png)

Copied: trunk/data/gfx32/fl_stone.png (from rev 1432, trunk/data/gfx32/fl-stone.png)

Copied: trunk/data/gfx32/fl_tigris.png (from rev 1432, trunk/data/gfx32/fl-tigris.png)

Copied: trunk/data/gfx32/fl_trigger.png (from rev 1432, trunk/data/gfx32/fl-trigger.png)

Copied: trunk/data/gfx32/fl_woven.png (from rev 1432, trunk/data/gfx32/fl-woven.png)

Deleted: trunk/data/gfx40/fl-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-mortar.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-rough-blue.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-rough-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-rough.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-samba.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-sand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-stone.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-tigris.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-trigger.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-woven.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/fl_blueslab.png (from rev 1432, trunk/data/gfx40/fl-rough-blue.png)

Copied: trunk/data/gfx40/fl_marble.png (from rev 1432, trunk/data/gfx40/fl-marble.png)

Copied: trunk/data/gfx40/fl_mortar.png (from rev 1432, trunk/data/gfx40/fl-mortar.png)

Copied: trunk/data/gfx40/fl_red.png (from rev 1432, trunk/data/gfx40/fl-red.png)

Copied: trunk/data/gfx40/fl_redslab.png (from rev 1432, trunk/data/gfx40/fl-rough-red.png)

Copied: trunk/data/gfx40/fl_rough.png (from rev 1432, trunk/data/gfx40/fl-rough.png)

Copied: trunk/data/gfx40/fl_samba.png (from rev 1432, trunk/data/gfx40/fl-samba.png)

Copied: trunk/data/gfx40/fl_sand.png (from rev 1432, trunk/data/gfx40/fl-sand.png)

Copied: trunk/data/gfx40/fl_stone.png (from rev 1432, trunk/data/gfx40/fl-stone.png)

Copied: trunk/data/gfx40/fl_tigris.png (from rev 1432, trunk/data/gfx40/fl-tigris.png)

Copied: trunk/data/gfx40/fl_trigger.png (from rev 1432, trunk/data/gfx40/fl-trigger.png)

Copied: trunk/data/gfx40/fl_woven.png (from rev 1432, trunk/data/gfx40/fl-woven.png)

Deleted: trunk/data/gfx48/fl-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-mortar.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-rough-blue.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-rough-red.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-rough.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-samba.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-sand.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-stone.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-tigris.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-trigger.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-woven.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/fl_blueslab.png (from rev 1432, trunk/data/gfx48/fl-rough-blue.png)

Copied: trunk/data/gfx48/fl_marble.png (from rev 1432, trunk/data/gfx48/fl-marble.png)

Copied: trunk/data/gfx48/fl_mortar.png (from rev 1432, trunk/data/gfx48/fl-mortar.png)

Copied: trunk/data/gfx48/fl_red.png (from rev 1432, trunk/data/gfx48/fl-red.png)

Copied: trunk/data/gfx48/fl_redslab.png (from rev 1432, trunk/data/gfx48/fl-rough-red.png)

Copied: trunk/data/gfx48/fl_rough.png (from rev 1432, trunk/data/gfx48/fl-rough.png)

Copied: trunk/data/gfx48/fl_samba.png (from rev 1432, trunk/data/gfx48/fl-samba.png)

Copied: trunk/data/gfx48/fl_sand.png (from rev 1432, trunk/data/gfx48/fl-sand.png)

Copied: trunk/data/gfx48/fl_stone.png (from rev 1432, trunk/data/gfx48/fl-stone.png)

Copied: trunk/data/gfx48/fl_tigris.png (from rev 1432, trunk/data/gfx48/fl-tigris.png)

Copied: trunk/data/gfx48/fl_trigger.png (from rev 1432, trunk/data/gfx48/fl-trigger.png)

Copied: trunk/data/gfx48/fl_woven.png (from rev 1432, trunk/data/gfx48/fl-woven.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/data/models-2d.lua	2009-01-07 00:31:15 UTC (rev 1436)
@@ -259,10 +259,10 @@
         {"fl_platinum"},
         {"fl-nomouse", noframe = true},
         {"fl-normal"},
-        {"fl-sand"},
-        {"fl-stone"},
+        {"fl_sand"},
+        {"fl_stone"},
         {"fl-springboard"},
-        {"fl-trigger"},
+        {"fl_trigger"},
         {"fl-white"},
         -- multiple, with height and width (or 1)
         {"fl_bluegray", 4},
@@ -274,23 +274,23 @@
         {"fl-gray", 5},
         {"fl_hay", 4},
         {"fl_himalaya", 4},
-        {"fl-marble", 4},
+        {"fl_marble", 4},
         {"fl-metal", 6},
-        {"fl-mortar", 2, 2},
+        {"fl_mortar", 2, 2},
         {"fl_plank", 4},
-        {"fl-red", 4},
+        {"fl_red", 4},
         {"fl_rock", 2},
         {"fl-rough", 5},
-        {"fl-rough-blue", 4},
-        {"fl-rough-red", 4},
+        {"fl_blueslab", 4},
+        {"fl_redslab", 4},
         {"fl_sahara", 4},
-        {"fl-samba", 2},
+        {"fl_samba", 2},
         {"fl_space", 3, 2, noframe = true},
         {"fl-stwood", 2},
         {"fl_swamp", 4, noframe = true},
-        {"fl-tigris", 4},
+        {"fl_tigris", 4},
         {"fl_water", 4, noframe = true},
-        {"fl-woven", 5},
+        {"fl_woven", 5},
     }
 
     for _, floor in pairs(floorlist) do
@@ -370,11 +370,9 @@
     DefAlias("fl-abyss_fake", "fl_abyss")
     DefAlias("fl-normal_x", "fl-normal")
     DefAlias("fl-normal_x_framed", "fl-normal_framed")
-    DefAlias("fl-rough_medium", "fl-rough")
-    DefAlias("fl-rough_medium_framed", "fl-rough_framed")
-    DefAlias("fl-rough_slow", "fl-rough")
-    DefAlias("fl-rough_slow_framed", "fl-rough_framed")
     DefAlias("fl-space-force", "fl_space")
+    DefAlias("fl_samba_h", "fl_samba1")
+    DefAlias("fl_samba_v", "fl_samba2")
 end
 
 ----------------------

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/data/startup.lua	2009-01-07 00:31:15 UTC (rev 1436)
@@ -203,7 +203,7 @@
 def_floor("fl_ivory",        2.2,   1.6,    true,   "",         true)
 def_floor("fl_platinum",     3.0,   1.6,    true,   "",         true)
 def_floor("fl-darkgray",     3.0,   1.6,   false,   "",         true)
-def_floor("fl-marble",       6.4,   2.0,    true,   "",         true)
+def_floor("fl_marble",       6.4,   2.0,    true,   "",         true)
 def_floor("fl-metal",        3.0,   2.0,   false,   "",         true)
 def_floor("fl-metal1",       3.0,   2.0,   false,   "",         true)
 def_floor("fl-metal2",       3.0,   2.0,   false,   "",         true)
@@ -211,28 +211,26 @@
 def_floor("fl-metal4",       3.0,   2.0,   false,   "",         true)
 def_floor("fl-metal5",       3.0,   2.0,   false,   "",         true)
 def_floor("fl-metal6",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-mortar",       7.2,   1.8,   false,   "",         true)
+def_floor("fl_mortar",       7.2,   1.8,   false,   "",         true)
 def_floor("fl-normal",       4.0,   2.0,   false,   "",         true)
 def_floor("fl-normal_x",     3.0,   2.0,   false,   "",         true)
 def_floor("fl_plank",        5.5,   2.0,    true,   "fl_abyss", true)
-def_floor("fl-red",          0.9,   1.0,    true,   "",         true)
-def_floor("fl-rough",        7.0,   2.0,    true,   "",         true)
-def_floor("fl-rough_medium", 5.0,   1.2,    true,   "",         true)
-def_floor("fl-rough_slow",   7.0,   0.5,    true,   "",         true)
-def_floor("fl-rough-blue",   7.0,   2.0,    true,   "",         true)
-def_floor("fl-rough-red",    7.0,   2.0,    true,   "",         true)
+def_floor("fl_red",          0.9,   1.0,    true,   "",         true)
+def_floor("fl_rough",        7.0,   2.0,    true,   "",         true)
+def_floor("fl_blueslab",     7.0,   2.0,    true,   "",         true)
+def_floor("fl_redslab",      7.0,   2.0,    true,   "",         true)
 def_floor("fl_sahara",       6.4,   2.0,   false,   "",         true)
-def_floor("fl-samba",        6.0,   2.0,    true,   "fl_abyss", true)
-def_floor("fl-samba1",       6.0,   2.0,    true,   "fl_abyss", true)
-def_floor("fl-samba2",       6.0,   2.0,    true,   "fl_abyss", true)
-def_floor("fl-sand",         6.0,   2.0,   false,   "",         true)
+def_floor("fl_samba",        6.0,   2.0,    true,   "fl_abyss", true)
+def_floor("fl_samba_h",      6.0,   2.0,    true,   "fl_abyss", true)
+def_floor("fl_samba_v",      6.0,   2.0,    true,   "fl_abyss", true)
+def_floor("fl_sand",         6.0,   2.0,   false,   "",         true)
 def_floor("fl-springboard",  4.0,   2.0,   false,   "",         true)
-def_floor("fl-stone",        1.4,   1.0,   false,   "",         true)
-def_floor("fl-tigris",       6.0,   2.0,    true,   "",         true)
-def_floor("fl-woven",        6.5,   3.0,    true,   "",         true)
+def_floor("fl_stone",        1.4,   1.0,   false,   "",         true)
+def_floor("fl_tigris",       6.0,   2.0,    true,   "",         true)
+def_floor("fl_woven",        6.5,   3.0,    true,   "",         true)
 def_floor("fl-nomouse",      2.5,   0.0,    true,   "",         false)
 def_floor("fl-black",        3.0,   1.5,   false,   "",         true)
 def_floor("fl-white",        3.0,   1.5,   false,   "",         true)
-def_floor("fl-trigger",      3.0,   1.5,    true,   "",         true)
+def_floor("fl_trigger",      3.0,   1.5,    true,   "",         true)
 def_floor("fl-abyss_fake",   3.0,   2.0,   false,   "",         false)
 

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/src/ox_extra.cc	2009-01-07 00:31:15 UTC (rev 1436)
@@ -42,10 +42,10 @@
     UNUSED,              // OxydExtra floor 0x05
     UNUSED,              // OxydExtra floor 0x06
     "fl_ivory",          // OxydExtra floor 0x07
-    "fl-rough-red",      // OxydExtra floor 0x08
-    "fl-rough-blue",     // OxydExtra floor 0x09
-    "fl-rough-blue",     // OxydExtra floor 0x0a
-    "fl-rough-red",      // OxydExtra floor 0x0b
+    "fl_redslab",        // OxydExtra floor 0x08
+    "fl_blueslab",       // OxydExtra floor 0x09
+    "fl_blueslab",       // OxydExtra floor 0x0a
+    "fl_redslab",        // OxydExtra floor 0x0b
     "fl-inverse",        // OxydExtra floor 0x0c
     "fl-black",          // OxydExtra floor 0x0d
     UNUSED,              // OxydExtra floor 0x0e
@@ -86,20 +86,20 @@
     "fl-gradient15",     // OxydExtra floor 0x31
     "fl-gradient16",     // OxydExtra floor 0x32
     UNUSED,              // OxydExtra floor 0x33
-    "fl-rough",          // OxydExtra floor 0x34
+    "fl_rough",          // OxydExtra floor 0x34
     UNUSED,              // OxydExtra floor 0x35
     UNUSED,              // OxydExtra floor 0x36
     UNUSED,              // OxydExtra floor 0x37
-    "fl-mortar",         // OxydExtra floor 0x38
+    "fl_mortar",         // OxydExtra floor 0x38
     UNUSED,              // OxydExtra floor 0x39
     UNUSED,              // OxydExtra floor 0x3a
     UNUSED,              // OxydExtra floor 0x3b
-    "fl-samba",          // OxydExtra floor 0x3c
+    "fl_samba",          // OxydExtra floor 0x3c
     UNUSED,              // OxydExtra floor 0x3d
     UNUSED,              // OxydExtra floor 0x3e
     UNUSED,              // OxydExtra floor 0x3f
     UNUSED,              // OxydExtra floor 0x40
-    "fl-samba",          // OxydExtra floor 0x41
+    "fl_samba",          // OxydExtra floor 0x41
     UNUSED,              // OxydExtra floor 0x42
     "fl-bumps",          // OxydExtra floor 0x43
     UNUSED,              // OxydExtra floor 0x44
@@ -123,7 +123,7 @@
     UNUSED,              // OxydExtra floor 0x56
     UNUSED,              // OxydExtra floor 0x57
     UNUSED,              // OxydExtra floor 0x58
-    "fl-trigger",        // OxydExtra floor 0x59
+    "fl_trigger",        // OxydExtra floor 0x59
     UNUSED,              // OxydExtra floor 0x5a
     "fl_gravel",         // OxydExtra floor 0x5b
     // codes >= 0x5c are unused

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/src/ox_magnum.cc	2009-01-07 00:31:15 UTC (rev 1436)
@@ -42,10 +42,10 @@
     0,                          // OxydMagnum floor 0x05 (common was 'fl-metal')(level 121 ?)
     "fl-metal5",                // OxydMagnum floor 0x06
     "fl-normal",                // OxydMagnum floor 0x07 (common was 'fl-metal')
-    "fl-tigris",                // OxydMagnum floor 0x08 (common was 'fl-rough')
-    "fl-tigris",                // OxydMagnum floor 0x09 (common was 'fl-normal')
-    "fl-tigris",                // OxydMagnum floor 0x0a (common was 'fl-normal')
-    "fl-tigris",                // OxydMagnum floor 0x0b (common was 'fl-stone')
+    "fl_tigris",                // OxydMagnum floor 0x08 (common was 'fl-rough')
+    "fl_tigris",                // OxydMagnum floor 0x09 (common was 'fl-normal')
+    "fl_tigris",                // OxydMagnum floor 0x0a (common was 'fl-normal')
+    "fl_tigris",                // OxydMagnum floor 0x0b (common was 'fl-stone')
     "fl-inverse",               // OxydMagnum floor 0x0c (common was 'fl-inverse')
     "fl-acblack",               // OxydMagnum floor 0x0d
     "fl-acwhite",               // OxydMagnum floor 0x0e
@@ -110,8 +110,8 @@
     UNUSED,                     // OxydMagnum floor 0x49
     UNUSED,                     // OxydMagnum floor 0x4a
     UNUSED,                     // OxydMagnum floor 0x4b
-    "fl-stone",                 // OxydMagnum floor 0x4c
-    "fl-stone",                 // OxydMagnum floor 0x4d
+    "fl_stone",                 // OxydMagnum floor 0x4c
+    "fl_stone",                 // OxydMagnum floor 0x4d
     UNUSED,                     // OxydMagnum floor 0x4e
     UNUSED,                     // OxydMagnum floor 0x4f
     UNUSED,                     // OxydMagnum floor 0x50

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/src/ox_oxyd1.cc	2009-01-07 00:31:15 UTC (rev 1436)
@@ -70,7 +70,7 @@
     "fl_abyss",                 // Oxyd1 floor 0x00
     "fl-gray",                  // Oxyd1 floor 0x01
     "fl-metal",                 // Oxyd1 floor 0x02
-    "fl-samba",                 // Oxyd1 floor 0x03 was: checkered floor
+    "fl_samba",                 // Oxyd1 floor 0x03 was: checkered floor
     UNUSED,                     // Oxyd1 floor 0x04
     UNUSED,                     // Oxyd1 floor 0x05
     UNUSED,                     // Oxyd1 floor 0x06
@@ -133,7 +133,7 @@
     UNUSED,                     // Oxyd1 floor 0x3f
     "fl_wood_framed_h",         // Oxyd1 floor 0x40
     "fl_wood",                  // Oxyd1 floor 0x41
-    "fl-samba1",                // Oxyd1 floor 0x42
+    "fl_samba_h",               // Oxyd1 floor 0x42
     UNUSED,                     // Oxyd1 floor 0x43
     UNUSED,                     // Oxyd1 floor 0x44
     UNUSED,                     // Oxyd1 floor 0x45
@@ -144,7 +144,7 @@
     UNUSED,                     // Oxyd1 floor 0x4a
     UNUSED,                     // Oxyd1 floor 0x4b
     UNUSED,                     // Oxyd1 floor 0x4c
-    "fl-tigris",                // Oxyd1 floor 0x4d
+    "fl_tigris",                // Oxyd1 floor 0x4d
     UNUSED,                     // Oxyd1 floor 0x4e
     UNUSED,                     // Oxyd1 floor 0x4f
     UNUSED,                     // Oxyd1 floor 0x50

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/src/ox_peroxyd.cc	2009-01-07 00:31:15 UTC (rev 1436)
@@ -111,10 +111,10 @@
     "fl-metal",                 // PerOxyd floor 0x05
     "fl-metal",                 // PerOxyd floor 0x06
     "fl-metal",                 // PerOxyd floor 0x07
-    "fl-rough-red",             // PerOxyd floor 0x08
-    "fl-rough-blue",            // PerOxyd floor 0x09
-    "fl-rough-blue",            // PerOxyd floor 0x0a
-    "fl-rough-red",             // PerOxyd floor 0x0b
+    "fl_redslab",               // PerOxyd floor 0x08
+    "fl_blueslab",              // PerOxyd floor 0x09
+    "fl_blueslab",              // PerOxyd floor 0x0a
+    "fl_redslab",               // PerOxyd floor 0x0b
     "fl-inverse",               // PerOxyd floor 0x0c
     "fl-acblack",               // PerOxyd floor 0x0d
     "fl-acwhite",               // PerOxyd floor 0x0e
@@ -154,8 +154,8 @@
     "fl-gradient14",            // PerOxyd floor 0x30 (flat force)
     "fl-gradient15",            // PerOxyd floor 0x31 (flat force)
     "fl-gradient16",            // PerOxyd floor 0x32 (flat force)
-    "fl-rough",                 // PerOxyd floor 0x33 (common was 'fl-rough', should be a 'fl-paper')(only level 75)
-    "fl-rough",                 // PerOxyd floor 0x34
+    "fl_rough",                 // PerOxyd floor 0x33 (common was 'fl-rough', should be a 'fl-paper')(only level 75)
+    "fl_rough",                 // PerOxyd floor 0x34
     UNUSED,                     // PerOxyd floor 0x35
     UNUSED,                     // PerOxyd floor 0x36
     UNUSED,                     // PerOxyd floor 0x37
@@ -164,9 +164,9 @@
     UNUSED,                     // PerOxyd floor 0x3a
     UNUSED,                     // PerOxyd floor 0x3b
     "fl_wood_framed_h",         // PerOxyd floor 0x3c
-    "fl-samba",                 // PerOxyd floor 0x3d (common was 'fl-wood', horizontal or vertical slats)(many)
-    "fl-samba1",                // PerOxyd floor 0x3e (common was 'fl-wood', horizontal slats)(only level 32)
-    "fl-samba2",                // PerOxyd floor 0x3f (common was 'fl-wood', vertical slats)(levels: 35, 152)
+    "fl_samba",                 // PerOxyd floor 0x3d (common was 'fl-wood', horizontal or vertical slats)(many)
+    "fl_samba_h",               // PerOxyd floor 0x3e (common was 'fl-wood', horizontal slats)(only level 32)
+    "fl_samba_v",               // PerOxyd floor 0x3f (common was 'fl-wood', vertical slats)(levels: 35, 152)
     UNUSED,                     // PerOxyd floor 0x40
     UNUSED,                     // PerOxyd floor 0x41
     "fl-bumps",                 // PerOxyd floor 0x42



From raoul at mail.berlios.de  Wed Jan  7 03:10:11 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Wed, 7 Jan 2009 03:10:11 +0100
Subject: [Enigma-game-svn] r1437 - in trunk/data: . levels/enigma_cross
	levels/enigma_ii levels/enigma_iv levels/enigma_tutorial
	levels/enigma_v levels/enigma_vi levels/enigma_vii
	levels/enigma_viii
Message-ID: <200901070210.n072ABtt024126@sheep.berlios.de>

Author: raoul
Date: 2009-01-07 03:10:05 +0100 (Wed, 07 Jan 2009)
New Revision: 1437

Modified:
   trunk/data/api1init.lua
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_ii/ant07_1.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_ii/martin75_2.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_iv/mp03_1.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/raoul19_1.xml
   trunk/data/levels/enigma_vi/ulf05_2.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley02_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/andreas50_1.xml
   trunk/data/levels/enigma_viii/andreas51_1.xml
   trunk/data/levels/enigma_viii/devnull06_1.xml
   trunk/data/levels/enigma_viii/devnull07_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke03_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke06_1.xml
   trunk/data/levels/enigma_viii/mecke07_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/pulley16_3.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral25_1.xml
   trunk/data/levels/enigma_viii/ral28_1.xml
   trunk/data/levels/enigma_viii/ral34_1.xml
   trunk/data/levels/enigma_viii/ral42_1.xml
   trunk/data/levels/enigma_viii/raywick05_1.xml
   trunk/data/levels/enigma_viii/welcometopack8_1.xml
   trunk/data/models-2d.lua
Log:
-> Simple floor renaming level updates, part II
-> Wrong color fixed in api1init
-> Typo in models-2d



Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/api1init.lua	2009-01-07 02:10:05 UTC (rev 1437)
@@ -73,10 +73,10 @@
     fl_plank = "fl-plank",
     fl_platinum = "fl-lightgray",
     fl_red = "fl-red",
-    fl_redslab = "fl-rough-blue",
+    fl_redslab = "fl-rough-red",
     fl_rock = "fl-rock",
     fl_rough = "fl-rough",
-    fl_sahara = "fl-sahara", 
+    fl_sahara = "fl-sahara",
     fl_sand = "fl-sand",
     fl_samba = "fl-samba",
     fl_samba_h = "fl-samba1",
@@ -237,7 +237,7 @@
     st_mail_s = "st-mail-s",
     st_mail_e = "st-mail-e",
     st_mail_n = "st-mail-n",
-    
+
     st_mirror_slab_n = "st-mirror-p|",
     st_mirror_slab_e = "st-mirror-p/",
     st_mirror_slab_s = "st-mirror-p-",
@@ -270,7 +270,7 @@
     st_mirror_triangle_etm = "st-mirror-3>tm",
     st_mirror_triangle_stm = "st-mirror-3vtm",
     st_mirror_triangle_wtm = "st-mirror-3<tm",
-    
+
     st_monoflop = "st-timeswitch",
     st_oxyd = "st-oxyd",
     st_oneway = "st-oneway",
@@ -503,13 +503,13 @@
         local obj = enigma._MakeObject("st_fake_oxydd")
         enigma._SetAttrib(obj, "state", 1)
         return obj
-    end    
+    end
     newname = RenamingObjectsOld2New[name]
-    
+
     if name == "st-laser" then
         newname = "st_laser_e"
     end
-    
+
     if newname ~= nil then
         return enigma._MakeObject(newname)
     else
@@ -733,7 +733,7 @@
          if val == 1 then
              enigma._SetAttrib(obj, "fragility", 0.0)
              enigma._SetAttrib(obj, "spreading", 0.0)
-         else 
+         else
              enigma._SetAttrib(obj, "fragility", nil)
              enigma._SetAttrib(obj, "spreading", nil)
          end
@@ -808,7 +808,7 @@
      end
 
      local val = enigma._GetAttrib(obj, _key)
-     
+
      if key == "blackball" then
         if val == 0 then val = 1 else val = 0 end
      end
@@ -1077,7 +1077,7 @@
     if h  == nil then h  = level_height end
     for y=y0,y0+h-1 do
 	for x=x0,x0+w-1 do
-            set_floor(name, x, y) 
+            set_floor(name, x, y)
         end
     end
 end
@@ -1163,8 +1163,8 @@
 ---------------------------------------------
 -- Creation of particular kinds of objects --
 ---------------------------------------------
-function fakeoxyd(x,y) 
-    return set_stone("st-fakeoxyd",x,y) 
+function fakeoxyd(x,y)
+    return set_stone("st-fakeoxyd",x,y)
 end
 
 

Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -88,7 +88,7 @@
     <level _seq="80" _title="Black Lava" _xpath="enigma_i/ant12_1" author="Petr Machata" ctrl="force" easy="false" id="ant12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Flood Gates" _xpath="enigma_iv/nat08_1" author="Nat Pryce" ctrl="force" easy="false" id="nat8" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Balancing Act" _xpath="enigma_i/nat09_1" author="Nat Pryce" ctrl="force" easy="false" id="nat9" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="83" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="83" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Sheet Of Ice" _xpath="enigma_v/martin58_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin58" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="No Trespassing" _xpath="enigma_peroxyd/peroxydlink65_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="86" _title=".J.U.M.P." _xpath="enigma_i/martin60_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin60" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -8,7 +8,7 @@
   <levels>
     <level _seq="1" _title="Do Not Dive" _xpath="enigma_i/martin74_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin74" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Three Plugs" _xpath="enigma_i/martin83_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin83" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="The Far Side" _xpath="enigma_ii/martin75_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin75" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="3" _title="The Far Side" _xpath="enigma_ii/martin75_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin75" rel="2" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="4" _title="Over the Ditch" _xpath="enigma_i/martin78_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin78" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Spidering Around Death" _xpath="enigma_iii/martin89_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin89" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Brittle Floor!" _xpath="enigma_iii/martin91_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin91" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -94,7 +94,7 @@
     <level _seq="86" _title="Bolder Run" _xpath="enigma_iv/just02_1" author="JuSt" ctrl="force" easy="false" id="just02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Laser Pushing" _xpath="enigma_iv/just04_1" author="JuSt" ctrl="force" easy="false" id="just04" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Friction Nightmare" _xpath="enigma_iv/luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="7" score="1" target="time" unit="duration"/>
@@ -158,7 +158,7 @@
     <level _seq="150" _title="Evil" _xpath="enigma_vi/spaceman04_1" author="Spaceman" ctrl="force" easy="false" id="spaceman4" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Meditation Disturbance" _xpath="enigma_vi/ral04_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="152" _title="Banana Republic" _xpath="enigma_v/alain26_2" author="Alain Busser" ctrl="force" easy="true" id="alain26" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="154" _title="Rhapsody on Cracks" _xpath="enigma_vi/ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="155" _title="Prepare Your Defense" _xpath="enigma_vi/duffy132_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy132" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Cold Way" _xpath="enigma_vi/raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -14,7 +14,7 @@
     <level _seq="6" _title="Red Herrings" _xpath="enigma_vi/andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="7" _title="Playing with Lasers" _xpath="enigma_vi/just09_1" author="JuSt" ctrl="force" easy="false" id="just09_1" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Hot Hurdle Race" _xpath="enigma_vi/ulf04_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20070124ulf019" rel="1" rev="93" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="95" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="96" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Check the light" _xpath="enigma_vi/just10_2" author="JuSt" ctrl="force" easy="false" id="just10" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="11" _title="Twokoban I" _xpath="enigma_vi/raoul28_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="The Passage" _xpath="enigma_vi/just11_1" author="JuSt" ctrl="force" easy="false" id="just11" rel="1" rev="7" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -59,11 +59,11 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="7" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Remote Meditation" _xpath="enigma_vii/dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -79,52 +79,52 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="36" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="27" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="24" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="71" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="72" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="6" score="3" target="time" unit="duration"/>
+    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="7" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
     <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="137" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="138" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
@@ -132,17 +132,17 @@
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="12" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="136" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="137" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="134" score="1" target="time" unit="duration"/>
+    <level _seq="137" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_ii/ant07_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Automaton Magic" el:subtitle="" el:id="ant07"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2002 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-sand"}
+ti[" "] = {"fl_sand"}
 ti["~"] = {"fl_water"}
 ti["#"] = ti["~"] .. {"st-greenbrown"}
 ti["O"] = ti["~"] .. {"st_oxyd", flavor="a", name="oxydstone#"}

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Rollercoaster" _xpath="./jc02_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="9" _title="Dancers" _xpath="./ant14_1" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="./wb10_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Enignimm" _xpath="./alain02_1" author="Alain Busser" ctrl="force" easy="false" id="alain02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="One Way Ticket" _xpath="./luc25_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -48,7 +48,7 @@
     <level _seq="40" _title="Space Meditation" _xpath="./duffy59_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy59" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Robin's Wood" _xpath="./andreas13_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas13" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="Puppet" _xpath="./duffy87_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy87" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="The Far Side" _xpath="./martin75_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin75" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="43" _title="The Far Side" _xpath="./martin75_2" author="Martin Hawlisch" ctrl="force" easy="true" id="martin75" rel="2" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Pharaoh's Tomb" _xpath="./siegfried13_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Oxyd Labyrinth" _xpath="./martin87_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin87" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Door Maze" _xpath="./immanuel02_1" author="Immanuel Herrmann" ctrl="force" easy="false" id="immanuel02" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/martin75_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin75_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_ii/martin75_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Far Side" el:subtitle="" el:id="martin75"/>
-      <el:version el:score="2" el:release="2" el:revision="4" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="5" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -14,7 +14,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl_space"}
-ti["-"] = {"fl-tigris"}
+ti["-"] = {"fl_tigris"}
 ti["#"] = {"st_death"}
 ti["W"] = ti["-"] .. ti["#"]
 ti["S"] = ti["-"] .. {"st_switch", target="the_magnet"}

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -91,7 +91,7 @@
     <level _seq="83" _title="Friction Nightmare" _xpath="./luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Prison Yard" _xpath="./nat20_1" author="Nat Pryce" ctrl="force" easy="true" id="nat20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Bad Nightmare" _xpath="./duffy117_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy117" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Worse Nightmare" _xpath="./duffy124_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy124" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="88" _title="Squaring the Circle" _xpath="./nat16_1" author="Nat Pryce" ctrl="force" easy="true" id="nat16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pain" _xpath="./ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/mp03_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Laser Games" el:subtitle="" el:id="mp03"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author el:name="moonpearl"/>
       <el:copyright>Copyright ? moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti["  "] = ti({"fl-rough-blue", checkerboard = 1}) .. {"fl-rough-red", checkerboard = 0}
+ti["  "] = ti({"fl_blueslab", checkerboard = 1}) .. {"fl_redslab", checkerboard = 0}
 ti["# "] = {"st-rock4"}
 ti["= "] = {"st-block"}
 ti["^ "] = {"st_laser", state = ON, orientation = NORTH}

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Meditation 2" _xpath="./m_med2" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_med2" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="9" _title="Movement 4" _xpath="./m_tut7" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut7" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="10" _title="Movement 5" _xpath="./m_tut8" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut8" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Floors 2" _xpath="./m_tut10" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Floors 3" _xpath="./m_tut11" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Doors and Triggers" _xpath="./a_tut01" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut01" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -56,12 +56,12 @@
     <level _seq="48" _title="Brittle Floor!" _xpath="enigma_iii/martin91_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin91" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Inverted Laser Spiral" _xpath="enigma_ii/duffy42_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy42" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="enigma_i/siegfried35_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Items" _xpath="./a_tut05" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Flying" _xpath="enigma_i/luc07_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc07" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="56" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="56" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Back And Forth" _xpath="enigma_ii/martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="58" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Formentera!" _xpath="enigma_i/luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floors 1" el:subtitle="" el:id="m_tutor/m_tut9"/>
-      <el:version el:score="2" el:release="3" el:revision="2" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="3" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -29,10 +29,10 @@
 ti["9"] = {"fl-leavesd4"}
 ti["M"] = {"fl-metal"}
 ti["I"] = {"fl_ice"}
-ti["R"] = {"fl-rough", friction=7.0, adhesion=0.5}
+ti["R"] = {"fl_rough", friction=7.0, adhesion=0.5}
 ti["D"] = {"fl_dunes"}
 ti["S"] = {"fl_space"}
-ti["C"] = {"fl-sand"}
+ti["C"] = {"fl_sand"}
 ti["#"] = {"st_fake_oxyda"}
 ti["d"] = ti["1"] .. {"it-document", text="text1"}
 ti["o"] = ti["C"] .. {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="9" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,9 +15,9 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti["  "] = {"fl-rough"}
-ti[". "] = {"fl-rough", "destination5"}
-ti["+ "] = {"fl-rough", "destination6"}
+ti["  "] = {"fl_rough"}
+ti[". "] = {"fl_rough", "destination5"}
+ti["+ "] = {"fl_rough", "destination6"}
 ti["~ "] = {"fl_water"}
 ti["# "] = {"st-rock1"}
 ti["F "] = {"st_quake", "blocker"}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -36,7 +36,7 @@
     <level _seq="28" _title="Holes!" _xpath="./edward14_1" author="Edward" ctrl="force" easy="false" id="edward14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Chessing Positions" _xpath="./raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="- Meditation -" _xpath="./raoul24_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul24" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Sisyphus" _xpath="./nat13_1" author="Nat Pryce" ctrl="force" easy="false" id="nat13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Ben Hur" _xpath="./ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Troy" _xpath="./andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -62,7 +62,7 @@
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="95" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="96" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Chess and Boxes" _xpath="./johannes01_1" author="Johannes Laire" ctrl="force" easy="false" id="20061201johannes313" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Walk the line" _xpath="./erich02_1" author="Erich Schubert" ctrl="force" easy="true" id="erich02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Jump into Meditation" _xpath="./ral07_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060525ral009" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/raoul19_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Zeus" el:subtitle="The master of flashes" el:id="raoul19"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="stable"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="stable"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 wo["ConserveLevel"] = true
 wo["FrictionFactor"] = 0.5
 
-ti[" "] = {"fl-rough"}
+ti[" "] = {"fl_rough"}
 ti["~"] = {"fl_water"}
 ti["A"] = {"st_bluesand", cluster = 1}
 ti["B"] = {"st_bluesand", cluster = 2}

Modified: trunk/data/levels/enigma_vi/ulf05_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ulf05_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vi/ulf05_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Counterclockwise" el:id="20070126ulf020"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 95 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 96 $" el:status="released"/>
       <el:author  el:name="Ulf Stegemann" el:email="ulf-enigma at zeitform.de" el:homepage="http://ulf.zeitform.de"/>
       <el:copyright>Copyright ? 2007 Ulf Stegemann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
   ti["#"] = {"st-bluegray"}
   lint = 0.30
 end
-ti[" "] = {"fl-rough", friction=5.0, adhesion=1.2}
+ti[" "] = {"fl_rough", friction=5.0, adhesion=1.2}
 ti["X"] = {"st-glass2"}
 ti["1"] = {"st_laser", name="le", orientation=EAST, state=OFF}
 ti["2"] = {"st_laser", name="ln", orientation=NORTH, state=OFF}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -83,11 +83,11 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="7" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Remote Meditation" _xpath="./dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="37" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 27 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -38,7 +38,7 @@
 ti["/ "] = {"st_mirror_triangle", movable=true, transparent=false, orientation=SOUTH}
 ti["0 "] = {"st_mirror", movable=true, transparent=true, orientation=WEST}
 ti[" !"] = {"fl_brick"}
-ti[" )"] = {"fl-red"}
+ti[" )"] = {"fl_red"}
 ti["1 "] = {"st-brownie"}
 ti["2 "] = {"st-rock4"}
 ti[" *"] = {"fl_plank"}
@@ -61,7 +61,7 @@
 ti["f "] = {"it-flagblack"}
 ti["> "] = {"st_boulder_n"}
 ti["? "] = {"st_bluesand"}
-ti[" ."] = {"fl-samba"}
+ti[" ."] = {"fl_samba"}
 ti["w "] = {"it_magicwand"}
 ti[" /"] = {"fl_gravel"}
 ti["@ "] = {"st_rubberband"}
@@ -69,8 +69,8 @@
 ti["b "] = {"it_banana"}
 ti["B "] = {"st_actorimpulse"}
 ti["C "] = {"st_rotator_ccw"}
-ti[" 0"] = {"fl-sand"}
-ti[" 1"] = {"fl-rough-blue"}
+ti[" 0"] = {"fl_sand"}
+ti[" 1"] = {"fl_blueslab"}
 ti["D "] = {"st-rock1_hole"}
 ti["E "] = {"st_stoneimpulse_hollow"}
 ti["F "] = {"st_stoneimpulse"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:31$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:32$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" !"] = {"fl_abyss"}
-ti[" ,"] = {"fl-red"}
+ti[" ,"] = {"fl_red"}
 ti["! "] = {"st-block"}
 ti[" #"] = {"fl-acblack"}
 ti["# "] = {"st_death"}
@@ -142,7 +142,7 @@
     ti["hx"] = ti[" #"] .. {"it_cherry"}
     ti["nn"] = ti[" #"] .. {"it_extralife"}
     ti["c1"] = ti[" ,"] .. {"it_key", code=1}
-    ti["c9"] = ti[" ,"] .. {"fl-red"}
+    ti["c9"] = ti[" ,"] .. {"fl_red"}
 end
 
 local resolver = res.composer(ti)

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti[" !"] = {"fl-normal"}
 ti["! "] = {"st-yellow"}
 ti["# "] = {"st_death"}
-ti[" #"] = {"fl-rough-blue"}
+ti[" #"] = {"fl_blueslab"}
 ti[" $"] = {"fl_ivory"}
 ti["$ "] = {"st_knight"}
 ti["% "] = {"st-grate1"}
@@ -61,11 +61,11 @@
 ti["g "] = {"it-blackbomb"}
 ti["5 "] = {"st_passage_black_cross"}
 ti["6 "] = {"st-rock1"}
-ti[" 1"] = {"fl-rough-red"}
+ti[" 1"] = {"fl_redslab"}
 ti["7 "] = {"st_boulder_e"}
 ti["Z "] = {"st_boulder_n"}
 ti["Y "] = {"st_boulder_s"}
-ti[" 2"] = {"fl-samba"}
+ti[" 2"] = {"fl_samba"}
 ti["8 "] = {"st-rock4"}
 ti["p "] = {"it_puller_n"}
 ti["h "] = {"it_strip", connections="ew"}

Modified: trunk/data/levels/enigma_vii/pulley02_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Action Potential" el:subtitle="" el:id="pulley02"/>
-      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,13 +16,13 @@
 -- http://en.wikipedia.org/wiki/Action_potential
 -- http://de.wikipedia.org/wiki/Aktionspotential
 ti[" "] = {"fl-abyss_fake"}
-ti["?"] = {"fl-sand"}
+ti["?"] = {"fl_sand"}
 ti["."] = ti[" "] .. {"st_stoneimpulse_hollow"}
 ti[","] = ti[" "] .. {"st_stoneimpulse"}
 ti[":"] = ti[" "] .. {"st-grate1"}
 ti["*"] = ti[" "] .. {"st-glass1"}
 ti["v"] = ti[" "] .. {"st_boulder_s"}
-ti["w"] = {"fl-red"} .. ti({"st_box_wood"})
+ti["w"] = {"fl_red"} .. ti({"st_box_wood"})
 ti["z"] = ti[" "] .. {"st_rotator_ccw"}
 ti["y"] = ti[" "] .. {"st_boulder_n"}
 ti["0"] = ti[" "] .. {"st_oxyd"}
@@ -178,11 +178,11 @@
 wo[{29, 42.5}] = {"ac_marble_black"}
 wo[{32, 43}] = {"it-document", text="text1"}
 
-SynapseOn = {"fl-rough-red"}
+SynapseOn = {"fl_redslab"}
 if wo ["IsDifficult"] then
   SynapseOff = {"fl-abyss_fake"}
 else
-  SynapseOff = {"fl-rough-blue"}
+  SynapseOff = {"fl_blueslab"}
 end
 
 function SynapseA()

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="6" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="7" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -12,7 +12,7 @@
       <el:score el:easy="-" el:difficult="20:00"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-sand"}
+ti[" "] = {"fl_sand"}
 ti["a"] = ti[" "] .. {"st_chess_white", name="Silver"} -- Silver (Lone Ranger's Horse)
 ti["b"] = ti[" "] .. {"st_passage_black_slash"}
 ti["c"] = ti[" "] .. {"st-marble"} -- MARBLE WALL
@@ -26,10 +26,10 @@
 ti["l"] = {"fl_water"}
 ti["m"] = ti[" "] .. {"it_hammer"}
 ti["n"] = (ti[" "] .. {"it-drop"}) .. ti({"st-chameleon"})
-ti["o"] = {"fl-sand", secure=true} .. ti({"it-burnable_oil"})
+ti["o"] = {"fl_sand", secure=true} .. ti({"it-burnable_oil"})
 ti["p"] = {"fl_swamp"}
 ti["q"] = ti[" "] .. {"st-redrock"} -- SUN RAY
-ti["r"] = {"fl-red"} -- SUN
+ti["r"] = {"fl_red"} -- SUN
 ti["s"] = ti[" "] .. {"st_scissors"}
 ti["t"] = ti[" "] .. {"st-thief"}
 ti["u"] = ti[" "] .. {"st_box_wood"}

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -51,7 +51,7 @@
 ti["f"] = {"fl-leaves"} --Audrey's floor
 ti["g"] = ti[" "] .. {"st-grate1"}
 ti["h"] = (ti({"fl-white"}) .. {"it_hammer"}) .. {"st-rock3_hole"}
-ti["i"] = {"fl-mortar"} .. ti({"st-beads"}) --Window
+ti["i"] = {"fl_mortar"} .. ti({"st-beads"}) --Window
 ti["j"] = {"fl-white"} --Orin's floor
 ti["k"] = ti[" "] .. {"st-marble"} --Audrey's Walls
 ti["m"] = {"fl_plank"} .. ti({"it_coin_l"})
@@ -63,7 +63,7 @@
 ti["t"] = (ti({"fl-gradient14"}) .. {"st-grate1"}) .. {"it-burnable"}
 ti["w"] = {"fl-gradient15"} .. ti({"st_nil"})
 ti["x"] = ti[" "] .. {"st_scissors"}
-ti["y"] = {"fl-woven"}
+ti["y"] = {"fl_woven"}
 ti["z"] = {"fl_plank"}
 ti["A"] = {"fl-leaves"} .. ti({"it_banana"})
 ti["B"] = {"fl_plank"} .. ti({"it-blackbomb"})

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,7 +31,7 @@
                   SPOT_HOLLOW}
 
 designs =
-  {{"fl-samba",     "fl_water", "st-bluegray",   "st-bluegray_hole",   OXYD_CYAN},
+  {{"fl_samba",     "fl_water", "st-bluegray",   "st-bluegray_hole",   OXYD_CYAN},
    {"fl_rock",      "fl_abyss", "st-camouflage", "st-camouflage_hole", OXYD_GREEN},
    {"fl_sahara",    "fl_abyss", "st-greenbrown", "st-greenbrown_hole", OXYD_YELLOW},
    {"fl-black",     "fl_water", "st-marble",     "st-marble_hole",     OXYD_PURPLE},
@@ -60,8 +60,8 @@
 --------------------------------------------
 
 ti["  "] = {"fl_water"}
-ti[" 0"] = {"fl-stone", friction = 3.0, adhesion = 3.0}
-ti["@0"] = {"#ac_marble_black"} .. ti({"fl-stone", "start_position"})
+ti[" 0"] = {"fl_stone", friction = 3.0, adhesion = 3.0}
+ti["@0"] = {"#ac_marble_black"} .. ti({"fl_stone", "start_position"})
 ti["L0"] = {"st_laser", orientation = EAST, state = ON} .. ti[" 0"]
 ti["P0"] = {"st_polarswitch"} .. ti[" 0"]
 ti["v0"] = {"it_vortex", "vortex#", autoclose = true, state = CLOSED} .. ti[" 0"]

Modified: trunk/data/levels/enigma_viii/andreas50_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Oxyds" el:subtitle="" el:id="andreas50"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti["  "] = {"fl-samba"}
+ti["  "] = {"fl_samba"}
 ti[". "] = {"fl_abyss"}
 ti["# "] = {"st-stone2"}
 ti["@ "] = {"#ac_marble_black"}
@@ -24,14 +24,14 @@
 ti["S "] = {"st_oxyd", oxydcolor = OXYD_BOLD, noshuffle = true}
 ti["F "] = {"st_oxyd", oxydcolor = OXYD_QUAKE, noshuffle = true}
 
-ti["d1"] = {"fl-red"}       .. ti({"it_blocker", "RED#"})
+ti["d1"] = {"fl_red"}       .. ti({"it_blocker", "RED#"})
 ti["d2"] = {"fl_bluegray"}  .. ti({"it_blocker", "CYAN#"})
 ti["d3"] = {"fl_bluegreen"} .. ti({"it_blocker", "BLUE#"})
 ti["d4"] = {"fl-leavesb"}   .. ti({"it_blocker", "GREEN#"})
 ti["d5"] = {"fl-black"}     .. ti({"it_blocker", "BLACK#"})
 ti["d6"] = {"fl-white"}     .. ti({"it_blocker", "WHITE#"})
 ti["d7"] = {"fl_sahara"}    .. ti({"it_blocker", "YELLOW#"})
-ti["d8"] = {"fl-rough-red"} .. ti({"it_blocker", "PURPLE#"})
+ti["d8"] = {"fl_redslab"} .. ti({"it_blocker", "PURPLE#"})
 
 ti["o1"] = {"st_oxyd", oxydcolor = OXYD_RED, target = "RED#*",
             action_0 = "open", action_1 = "open", action_2 = "close"}

Modified: trunk/data/levels/enigma_viii/andreas51_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Turnstiles" el:subtitle="" el:id="andreas51"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti["R"] = {"st_turnstile", action = {"open", "close"}, target = {"red#*", "green#*"}}
 ti["G"] = {"st_turnstile", action = {"close", "open"}, target = {"red#*", "green#*"},
                            flavor = "green"}
-ti["r"] = {"it_blocker", "red#"} .. ti({"fl-red"})
+ti["r"] = {"it_blocker", "red#"} .. ti({"fl_red"})
 ti["g"] = {"it_blocker", "green#"} .. ti({"fl-leaves"})
 
 ti["O"] = {"st_oxyd", flavor = "d", oxydcolor = OXYD_GREEN}

Modified: trunk/data/levels/enigma_viii/devnull06_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull06"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,11 +21,11 @@
     f = -1.0
 end
 
-ti[" "] = {"fl-rough-blue", friction = f}
-ti["."] = {"fl-rough-red"}
+ti[" "] = {"fl_blueslab", friction = f}
+ti["."] = {"fl_redslab"}
 ti["#"] = {"st-rock6"}
 ti["hollow"] =  {"it_meditation_hollow"}
-ti["o"] = ti["hollow"] .. {"fl-rough-red", friction = 2.0}
+ti["o"] = ti["hollow"] .. {"fl_redslab", friction = 2.0}
 ti["1"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
 ti["2"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
 ti["3"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}

Modified: trunk/data/levels/enigma_viii/devnull07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull07"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,10 +21,10 @@
     f = -1.0
 end
 
-ti[" "] = {"fl-rough-blue", friction = f}
-ti["."] = {"fl-rough-red"}
+ti[" "] = {"fl_blueslab", friction = f}
+ti["."] = {"fl_redslab"}
 ti["#"] = {"st-rock6"}
-ti[","] = {"fl-rough-red", friction = 1.0}
+ti[","] = {"fl_redslab", friction = 1.0}
 ti["o"] = ti[","] .. {"it_meditation_hollow"}
 ti["1"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
 ti["2"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="15" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="16" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti[" h"] = {"fl_hay"}
 ti[" l"] = {"fl-leaves"}
 ti[" r"] = {"fl_rock"}
-ti[" s"] = {"fl-sand"}
+ti[" s"] = {"fl_sand"}
 ti[" v"] = {"fl_gravel", friction = sFactor}
 ti[" V"] = {"fl_gravel", friction = sFactor * 2.5}
 ti[". "] = {"st_disco_light"}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -6,48 +6,48 @@
   <attributes/>
 
   <levels>
-    <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="27" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="24" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="71" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="72" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="6" score="3" target="time" unit="duration"/>
+    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="7" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
     <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="137" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="138" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
@@ -55,17 +55,17 @@
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="12" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Squared Microwire" _xpath="./ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="60" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="134" score="1" target="time" unit="duration"/>
+    <level _seq="60" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 27 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 28 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,12 +19,12 @@
 
 ti["R"] = {"#ac_rotor", range=1, strength=1}
 ti["  "] = {"fl-normal"}
-ti[" r"] = {"fl-red"}
+ti[" r"] = {"fl_red"}
 ti[" h"] = {"fl_himalaya"}
 ti[" '"] = {"fl_sahara"}
 ti[" b"] = {"fl_bluegray"}
-ti[" +"] = {"fl-rough-red"}
-ti[" -"] = {"fl-rough-blue"}
+ti[" +"] = {"fl_redslab"}
+ti[" -"] = {"fl_blueslab"}
 ti[" ~"] = {"fl_water"}
 ti[" ,"] = {"fl_space"}
 ti[" ."] = {"fl_abyss"}

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -33,7 +33,7 @@
 ti["; "] = {"fl_swamp"}
 ti["' "] = {"it_seed"}
 ti["& "] = ti["  "] .. {"st_disco_light"}
-ti[" ,"] = {"fl-red"}
+ti[" ,"] = {"fl_red"}
 ti[" n"] = {"it_death"}
 ti["K "] = ti[" ~"] .. {"st_knight"}
 ti["nn"] = ti[" ,"] .. {"it_magicwand"}

Modified: trunk/data/levels/enigma_viii/mecke03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Balance Beam" el:subtitle="Balance Beam" el:id="mecke03"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke"/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,8 +23,8 @@
     ti["b"] = {"fl_bluegray"}
 end
 ti[" "] = {"fl_space"}
-ti["r"] = {"fl-red"}
-ti["z"] = {"fl-rough"}
+ti["r"] = {"fl_red"}
+ti["z"] = {"fl_rough"}
 ti["l"] = {"fl_ivory"}
 ti["~"] = {"fl_water"}
 ti["y"] = {"fl_swamp"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:32$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:33$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -29,15 +29,15 @@
     ti["s5"] = {"fl_gravel","swords"}
     ti["y "] = {"fl_swamp"}
 else
-    ti["  "] = {"fl-rough",burnable=true}
-    ti["H "] = {"fl-rough",burnable=true,securefire=true,"hotspot"}
-    ti["n1"] = {"fl-rough","knight1"}
-    ti["n2"] = {"fl-rough","knight2"}
-    ti["n3"] = {"fl-rough","break2"}
-    ti["m5"] = {"fl-rough","swordm"}
-    ti["n5"] = {"fl-rough","swordn"}
-    ti["o5"] = {"fl-rough","swordo"}
-    ti["s5"] = {"fl-rough","swords"}
+    ti["  "] = {"fl_rough",burnable=true}
+    ti["H "] = {"fl_rough",burnable=true,securefire=true,"hotspot"}
+    ti["n1"] = {"fl_rough","knight1"}
+    ti["n2"] = {"fl_rough","knight2"}
+    ti["n3"] = {"fl_rough","break2"}
+    ti["m5"] = {"fl_rough","swordm"}
+    ti["n5"] = {"fl_rough","swordn"}
+    ti["o5"] = {"fl_rough","swordo"}
+    ti["s5"] = {"fl_rough","swords"}
     ti["y "] = {"fl_swamp",{friction=0.6}}
 end
 

Modified: trunk/data/levels/enigma_viii/mecke06_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke06_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke06_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Techno Voodoo" el:subtitle="Just a Dance ?" el:id="mecke06" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:15$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:16$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -14,12 +14,12 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti["  "] = {"fl-rough"}
-ti[" !"] = {"fl-red"}
-ti["1!"] = {"fl-red", name="1!"}
-ti["2!"] = {"fl-red", name="2!"}
-ti["3!"] = {"fl-red", name="3!"}
-ti["4!"] = {"fl-red", name="4!"}
+ti["  "] = {"fl_rough"}
+ti[" !"] = {"fl_red"}
+ti["1!"] = {"fl_red", name="1!"}
+ti["2!"] = {"fl_red", name="2!"}
+ti["3!"] = {"fl_red", name="3!"}
+ti["4!"] = {"fl_red", name="4!"}
 ti[" f"] = {"fl-abyss_fake"}
 ti["! "] = {"st_lightpassenger"}
 ti[" d"] = ti[" f"] .. {"it_death"}
@@ -28,7 +28,7 @@
 ti[" C"] = {"fl-gradient8"}
 ti[" E"] = {"fl-gradient11"}
 ti[" D"] = {"fl-gradient16"}
-ti[" F"] = {"fl-rough-red"}
+ti[" F"] = {"fl_redslab"}
 ti["F "] = {"st_black_slash"}
 ti[" s"] = {"fl_space"}
 ti["w "] = {"it_wormhole", range=10, strength=3}

Modified: trunk/data/levels/enigma_viii/mecke07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios I" el:subtitle="Use the Lightpassenger" el:id="mecke48"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti[" l"] = {"fl_sahara"}
 ti["X "] = {"st-grate1"}
 ti["* "] = ti[" _"] ..  {"#ac_marble_black"}
-ti[" ,"] = {"fl-red"}
+ti[" ,"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
 ti[" ."] = {"fl_space"}
 ti[" n"] = {"fl_ivory"}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 19 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 20 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 wo["ExtralifeGlasses"] = wo["ExtralifeGlasses"] + SPOT_ACTORIMPULSE
 
 ti[" t"] = {"fl-thief"}
-ti["  "] = {"fl-rough"}
+ti["  "] = {"fl_rough"}
 ti[" q"] = {"fl_aquamarine"}
 ti[" i"] = ti[" q"] ..{"it_crack_l", fragility=0}
 ti["# "] = ti[" i"] ..{"st_actorimpulse_invisible"}
@@ -28,7 +28,7 @@
 ti[" c"] = {"it_brush"}
 ti["X "] = ti[" m"] ..{"st-grate1"}
 ti[" _"] = {"fl_swamp"}
-ti[" ,"] = {"fl-red"}
+ti[" ,"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
 ti[" ."] = {"fl_aquamarine", friction=0.8}
 ti[" n"] = {"fl_ivory"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 23 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 24 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -17,9 +17,9 @@
     <el:luamain> <![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" ."] = {"fl-rough-red"}
+ti[" ."] = {"fl_redslab"}
 ti[" ,"] = {"fl_swamp"}
-ti[" +"] = {"fl-woven"}
+ti[" +"] = {"fl_woven"}
 ti[" !"] = {"fl_brick"}
 ti["! "] = {"st_death"}
 ti[" #"] = {"fl-normal"}
@@ -36,10 +36,10 @@
 ti["( "] = {"st-grate1"}
 ti["i1"] = ti[" ."] ..{"st-grate1"}
 ti["i2"] = ti[" ,"] ..{"st-grate1"}
-ti[" 1"] = {"fl-rough"}
+ti[" 1"] = {"fl_rough"}
 ti[") "] = {"st_bluesand"}
 ti["f "] = {"it-coffee"}
-ti[" )"] = {"fl-red"}
+ti[" )"] = {"fl_red"}
 ti["* "] = {"st_oxyd_d"}
 ti["+ "] = {"st-glass_move"}
 ti["e2"] = ti[" +"]..{"st-glass_move"}
@@ -59,7 +59,7 @@
 ti["0 "] = {"st-rock3_hole"}
 ti[" -"] = {"fl_aquamarine"}
 ti["1 "] = {"st-glass"}
-ti[" /"] = {"fl-rough-blue"}
+ti[" /"] = {"fl_blueslab"}
 ti["2 "] = {"st_shogun_m"}
 ti[" 0"] = {"fl_himalaya"}
 ti["e1"] = ti["e2"]..{"it_brush"}
@@ -102,7 +102,7 @@
 ti["< "] = {"st_laser_e", name="lezy1"}
 ti["= "] = {"st-thief"}
 ti["u "] = {"st_box_wood"}
-ti[" 4"] = {"fl-mortar"}
+ti[" 4"] = {"fl_mortar"}
 ti["> "] = {"st_quake"}
 ti[" 5"] = {"fl-gradient15"}
 ti[" 6"] = {"fl-gradient11"}
@@ -130,7 +130,7 @@
 if wo ["IsDifficult"] then
     ti["wd"] = ti[" &"]..{"it_death"}
     ti["bd"] = ti[" #"]..{"it_death"}
-    ti["wu"] = ti[" )"]..{"fl-red"}
+    ti["wu"] = ti[" )"]..{"fl_red"}
     ti["ww"] = ti[" -"]..{"fl_aquamarine"}
 else
     ti["wd"] = ti[" &"]..{"fl_water"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl-abyss_fake"}
-ti["r"] = {"fl-red"}
+ti["r"] = {"fl_red"}
 ti["z"] = {"fl_sahara"}
 ti["a"] = {"fl_abyss"}
 ti["~"] = {"fl_water"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 27 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,11 +21,11 @@
 if wo ["IsDifficult"] then
     ti["  "] = {"fl-abyss_fake"}
     ti[" v"] = {"fl_ice"}
-    ti[" '"] = {"fl-rough"}
+    ti[" '"] = {"fl_rough"}
     ti["+ "] = ti[" '"] ..{"ac_rotor", 0.5, 0.5,}
 else
-    ti["  "] = {"fl-rough"}
-    ti[" v"] = {"fl-rough"}
+    ti["  "] = {"fl_rough"}
+    ti[" v"] = {"fl_rough"}
     ti["+ "] = ti[" v"] ..{"ac_rotor", 0.5, 0.5}
 end
 ti[" ~"] = {"fl_water"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 7 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,13 +18,13 @@
 wo["ConserveLevel"] = true
 
 ti[" !"] = {"fl_rock"}
-ti[" r"] = {"fl-red"}
+ti[" r"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
 ti[" i"] = {"fl-inverse"}
 ti[" b"] = {"fl_aquamarine"}
-ti[" &"] = {"fl-rough"}
+ti[" &"] = {"fl_rough"}
 ti[" '"] = {"fl_gravel"}
 ti[" ,"] = {"fl-white"}
 ti[" +"] = {"fl_sahara"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:7$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:8$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" &"] = {"fl-red"}
+ti[" &"] = {"fl_red"}
 ti[" !"] = {"fl_water"}
 ti["! "] = {"st-rock6"}
 ti[" #"] = {"fl-normal"}
@@ -27,7 +27,7 @@
 ti["hh"] = ti[" !"] .. {"st_pull"}
 ti["ef"] = ti[" &"] .. {"it_squashed"}
 ti["$ "] = {"st-rock1"}
-ti[" %"] = {"fl-sand"}
+ti[" %"] = {"fl_sand"}
 ti["% "] = {"st_rotator_ccw"}
 ti["& "] = {"st_boulder_n"}
 ti["b "] = {"it_blocker"}
@@ -47,7 +47,7 @@
 ti[" d"] = ti["hh"] .. {"it-dynamite"}
 ti["c "] = {"it_crack_l"}
 ti["? "] = {"it_seed_volcano"}
-ti[" +"] = {"fl-rough"}
+ti[" +"] = {"fl_rough"}
 ti["l "] = {"it_landmine"}
 ti[" u"] = ti["hh"] .. {"it_umbrella"}
 ti["/ "] = {"st_death"}
@@ -56,11 +56,11 @@
 ti[" f"] = ti["hh"] .. {"it-coffee"}
 ti["q "] = {"it-coffee"}
 ti[" ,"] = {"fl_gravel"}
-ti[" -"] = {"fl-rough-red"}
+ti[" -"] = {"fl_redslab"}
 ti["1 "] = {"st-glass"}
 ti["2 "] = {"st-block"}
 ti[" ."] = {"fl_swamp"}
-ti[" /"] = {"fl-rough-blue"}
+ti[" /"] = {"fl_blueslab"}
 ti["z "] = {"it-document", text="text1"}
 ti["3 "] = {"st_actorimpulse"}
 ti["k "] = {"it_cherry"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 27 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,10 +21,10 @@
 ti["$ "] = {"st_oxyd_b"}
 ti[" $"] = {"fl_space"}
 ti["% "] = {"st-glass"}
-ti[" %"] = {"fl-rough-blue"}
+ti[" %"] = {"fl_blueslab"}
 ti[" ("] = {"fl_sahara"}
 ti["& "] = {"st_actorimpulse_invisible"}
-ti[" &"] = {"fl-rough-red"}
+ti[" &"] = {"fl_redslab"}
 ti["ee"] = ti[" ("]..{"it_extralife"}
 ti["ex"] = ti[" %"]..{"it_extralife"}
 ti["' "] = {"st-yellow"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -14,14 +14,13 @@
       </el:comments>
       <el:score el:easy="23:10" el:difficult="29:12" />
     </el:info>
-    <el:luamain>
-    <![CDATA[
+    <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
 if wo ["IsDifficult"] then
-    ti[" !"] = {"fl-red"}
+    ti[" !"] = {"fl_red"}
 else
-    ti[" !"] = {"fl-red", friction=3.6}
+    ti[" !"] = {"fl_red", friction=3.6}
 end
 
 ti["! "] = {"st-bumps"}
@@ -122,14 +121,14 @@
     ti["ph"] = ti[" %"] .. {"it_strip", connections="ew"}
     ti["pv"] = ti[" %"] .. {"it_strip", connections="ns"}
     ti["ei"] = ti[" !"] .. {"it_death"}
-    ti["ec"] = ti[" !"] .. {"fl-red"}
+    ti["ec"] = ti[" !"] .. {"fl_red"}
     ti["eq"] = ti["mn"] .. {"it-spoon"}
     ti["qq"] = ti["fg"] .. {"it-spring2"}
     ti["~~"] = {"fl_water"}
 else
-    ti["pd"] = {"fl-red"}
-    ti["ph"] = {"fl-red"}
-    ti["pv"] = {"fl-red"}
+    ti["pd"] = {"fl_red"}
+    ti["ph"] = {"fl_red"}
+    ti["pv"] = {"fl_red"}
     ti["ei"] = ti[" !"] .. {"it_extralife"}
     ti["eq"] = ti["mn"] .. {"it_glasses"}
     ti["ec"] = ti["mn"] .. {"it_coin_s"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:71$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:72$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -33,12 +33,12 @@
 ti[" %"] = {"fl_aquamarine"}
 ti[" ;"] = {"fl-leavesd4"}
 ti["% "] = {"st-rock1"}
-ti[" &"] = {"fl-samba"}
+ti[" &"] = {"fl_samba"}
 ti["& "] = {"st_stoneimpulse_hollow"}
-ti[" '"] = {"fl-red"}
+ti[" '"] = {"fl_red"}
 ti["' "] = {"st-rock1_hole"}
 ti[" e"] = {"fl_space"}
-ti[" *"] = {"fl-sand"}
+ti[" *"] = {"fl_sand"}
 ti[" l"] = {"fl-leaves"}
 ti["b "] = {"st_puzzle_yellow_ns"}
 ti["n "] = {"st_puzzle_yellow_ne"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 24 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" #"] = {"fl-stone"}
+ti[" #"] = {"fl_stone"}
 ti[" a"] = {"fl_rock"}
 ti[" ,"] = {"fl_concrete"}
 ti[" &"] = {"fl_ice"}
@@ -26,11 +26,11 @@
 ti[" o"] = {"fl-acblack"}
 ti[" *"] = {"fl_himalaya"}
 ti[" +"] = {"fl_sahara"}
-ti[" '"] = {"fl-tigris"}
+ti[" '"] = {"fl_tigris"}
 ti[" ."] = {"fl-metal"}
-ti[" /"] = {"fl-woven"}
+ti[" /"] = {"fl_woven"}
 ti[" O"] = {"fl_abyss"}
-ti[" 1"] = {"fl-red"}
+ti[" 1"] = {"fl_red"}
 ti["/ "] = {"st-puzzle-new"}
 ti["$ "] = {"st-grate3"}
 ti["% "] = {"st-glass3"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 6 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 7 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,9 +21,9 @@
 if wo ["IsDifficult"] then
     ti["  "] = {"fl_bluegreen"}
     ti[" v"] = {"fl_ice"}
-    ti[" '"] = {"fl-rough"}
+    ti[" '"] = {"fl_rough"}
 else
-    ti["  "] = {"fl-rough"}
+    ti["  "] = {"fl_rough"}
     ti[" v"] = {"fl_bluegreen"}
 
 end
@@ -31,7 +31,7 @@
 ti["' "] = {"it_trap"}
 ti["b "] = {"it-blackbomb"}
 ti[" ~"] = {"fl_water"}
-ti["r_"] = {"fl-red"}
+ti["r_"] = {"fl_red"}
 ti["b~"] = ti["b "] .. {"fl_water"}
 ti[" _"] = {"fl_swamp"}
 ti["'_"] = ti["' "] .. {"fl_swamp"}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,14 +15,14 @@
 wo["ConserveLevel"] = true
 
 ti[" !"] = {"fl_rock"}
-ti[" r"] = {"fl-red"}
+ti[" r"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
 ti[" n"] = {"fl-normal"}
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
 ti[" i"] = {"fl-inverse"}
 ti[" b"] = {"fl_aquamarine"}
-ti[" &"] = {"fl-rough"}
+ti[" &"] = {"fl_rough"}
 ti[" '"] = {"fl_gravel"}
 ti[" ,"] = {"fl-white"}
 ti[" ="] = {"fl_swamp"}

Modified: trunk/data/levels/enigma_viii/pulley16_3.xml
===================================================================
--- trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Color Maze" el:subtitle="" el:id="pulley16"/>
-      <el:version el:score="3" el:release="3" el:revision="6" el:status="released"/>
+      <el:version el:score="3" el:release="3" el:revision="7" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,9 +21,9 @@
 
 ti[" "] = {"fl-abyss_fake"} .. ti({"st-glass1"})
 
-ti["!"] = {"fl-rough-blue", "blue#", _color="blue"}
+ti["!"] = {"fl_blueslab", "blue#", _color="blue"}
 ti["@"] = {"fl-bumps", "orange#", _color="orange"}
-ti["#"] = {"fl-rough-red", "red#", _color="red"}
+ti["#"] = {"fl_redslab", "red#", _color="red"}
 ti["$"] = {"fl-leavesb", "green#", _color="green"}
 
 ti["b"] = ti["!"] .. {"st_door", flavor="d", faces="ns", state=OPEN}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 137 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 138 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 wo["ExtralifeGlasses"] = SPOT_DEATH
 wo["Brittleness"] = 1.0
 
-ti["  "] = {"fl-sand"}
+ti["  "] = {"fl_sand"}
 ti["~~"] = {"fl_water"}
 ti["~e"] = {"fl_water", "escape_close#"}
 ti["__"] = {"fl_abyss"}
@@ -37,10 +37,10 @@
 ti["RZ"] = {"fl_gravel", "ringroom"}
 ti[";;"] = {"fl_dunes", friction=6, mousefactor=2}
 ti["''"] = {"fl_sahara"}
-ti["%%"] = {"fl-samba"}
-ti["%."] = {"fl-samba", "volcan#", secure=true}
+ti["%%"] = {"fl_samba"}
+ti["%."] = {"fl_samba", "volcan#", secure=true}
 ti["_v"] = {"fl_abyss", "volcan#"}
-ti["::"] = {"fl-rough-red"}
+ti["::"] = {"fl_redslab"}
 ti["O0"] = ti["::"] .. {"st_oxyd_d", oxydcolor=OXYD_BLUE}
 ti["O1"] = ti["::"] .. {"st_oxyd_d", oxydcolor=OXYD_RED}
 ti["O2"] = ti["::"] .. {"st_oxyd_d", oxydcolor=OXYD_GREEN}
@@ -50,7 +50,7 @@
 ti["O6"] = ti["::"] .. {"st_oxyd_d", oxydcolor=OXYD_WHITE}
 ti["O7"] = ti["::"] .. {"st_oxyd_d", oxydcolor=OXYD_BLACK}
 ti["OE"] = {"st_oxyd_d"}
-ti[":;"] = {"fl-rough-blue"}
+ti[":;"] = {"fl_blueslab"}
 ti["=="] = {"fl_wood"}
 ti["tt"] = {"fl-thief"}
 ti["$$"] = {"fl-acwhite"}
@@ -67,12 +67,12 @@
 ti["gb"] = {"fl-gradient", type=11}
 ti["gc"] = {"fl-gradient", type=12}
 ti["^^"] = {"fl-gray"}
-ti["%f"] = {"fl-samba", eternal=true, initfire=true}
-ti[" f"] = {"fl-sand", eternal=true, initfire=true}
-ti["FT"] = {"fl-sand", eternal=true, initfire=true, name="fire_target"}
+ti["%f"] = {"fl_samba", eternal=true, initfire=true}
+ti[" f"] = {"fl_sand", eternal=true, initfire=true}
+ti["FT"] = {"fl_sand", eternal=true, initfire=true, name="fire_target"}
 ti["%:"] = {"fl_hay", secure=true}
-ti[" v"] = {"fl-sand", force_y=10}
-ti[" h"] = {"fl-sand", force_x=-10}
+ti[" v"] = {"fl_sand", force_y=10}
+ti[" h"] = {"fl_sand", force_x=-10}
 ti["XX"] = ti["  "] .. {st_oxyd_d}
 ti[" ."] = ti["  "] .. {"it_seed"}
 ti["'."] = ti["''"] .. {"it_seed"}

Modified: trunk/data/levels/enigma_viii/ral25_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wired Five" el:subtitle="" el:id="20080721ral073"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -24,7 +24,7 @@
 
 ti[" "] = {"fl_abyss"}
 ti["*"] = ti[" "] ..{"st-marble"}
-ti["."] = {"fl-marble", friction=7, adhesion=1.8, checkerboard=cb} 
+ti["."] = {"fl_marble", friction=7, adhesion=1.8, checkerboard=cb} 
           .. ti({"fl_ivory", friction=7, adhesion=1.8, checkerboard=1-cb})
 
 if wo["IsDifficult"] then

Modified: trunk/data/levels/enigma_viii/ral28_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral28_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/ral28_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="More Microwire" el:subtitle="" el:id="20080717ral282"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,9 @@
 wo["ShowMoves"] = true
 
 ti[" "] = {"fl_abyss"}
-ti["."] = {"fl-samba", friction=7, adhesion=1.8}
+ti["."] = {"fl_samba", friction=7, adhesion=1.8}
 ti["*"] = ti[" "] ..{"st-beads"}
-ti["#"] = {"fl-samba"}
+ti["#"] = {"fl_samba"}
 ti["1"] = {"it_trigger", target="bridgeA"} .. ti{"st-brownie", "brownie1"}
 ti["2"] = {"it_trigger", target="bridgeB"} .. ti{"st-brownie", "brownie2"}
 ti["3"] = {"it_trigger", target="bridgeC"} .. ti{"st-brownie", "brownie3"}

Modified: trunk/data/levels/enigma_viii/ral34_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral34_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/ral34_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wired Shogun" el:subtitle="" el:id="20080828ral417"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl_ivory", checkerboard=1} .. ti({"fl-marble", checkerboard=0})
+ti[" "] = {"fl_ivory", checkerboard=1} .. ti({"fl_marble", checkerboard=0})
 ti["."] = {"fl_abyss"}
 
 ti["1"] = {"st_shogun_l", "l1"}

Modified: trunk/data/levels/enigma_viii/ral42_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral42_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/ral42_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="More or Less Wired" el:subtitle="The Gods must be wired" el:id="20081229ral"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 134 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 135 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-rough"}
+ti[" "] = {"fl_rough"}
 ti["~"] = {"fl_water"}
 ti["O"] = {"st_oxyd_a"} .. ti["~"]
 ti["#"] = {"st_door_a", "d#"}

Modified: trunk/data/levels/enigma_viii/raywick05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Impulsive Order" el:subtitle="" el:id="raywick5"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Ray Wick" el:email=""/>
       <el:copyright>Copyright ? 2008 Ray Wick</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti["@"] = {"st_oxyd"}
 ti["~"] = {"fl_water"}
 ti["."] = {"fl_swamp"}
-ti[" "] = {"fl-marble"}
+ti[" "] = {"fl_marble"}
 ti["K"] = {"fl_abyss"}
 ti["#"] = {"st-marble"}
 ti["g"] = {"st-glass"}
@@ -48,7 +48,7 @@
   ti[";"] = ti["."]
 else
   ti["!"] = {"it_extralife"}
-  ti[";"] = {"fl-marble"}
+  ti[";"] = {"fl_marble"}
 end
 
 w, h = wo(ti, " ", {

Modified: trunk/data/levels/enigma_viii/welcometopack8_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/welcometopack8_1.xml	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/levels/enigma_viii/welcometopack8_1.xml	2009-01-07 02:10:05 UTC (rev 1437)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Welcome" el:subtitle="" el:id="welcometopack8"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti[" "] = {"fl-red"}
+ti[" "] = {"fl_red"}
 ti["#"] = {"st-glass3"}
 ti["t"] = {"st_oxyd", name="group1#"}
 ti["u"] = {"st_oxyd", name="group2#"}

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-07 00:31:15 UTC (rev 1436)
+++ trunk/data/models-2d.lua	2009-01-07 02:10:05 UTC (rev 1437)
@@ -280,7 +280,7 @@
         {"fl_plank", 4},
         {"fl_red", 4},
         {"fl_rock", 2},
-        {"fl-rough", 5},
+        {"fl_rough", 5},
         {"fl_blueslab", 4},
         {"fl_redslab", 4},
         {"fl_sahara", 4},
@@ -354,7 +354,7 @@
     DefRandFloor("fl-wood", {"fl-woodx1", "fl-woodx2", "fl-woodx3", "fl-woodx4"})
     DefRandFloor("fl-wood1", {"fl-woodx3", "fl-woodx4"})
     DefRandFloor("fl-wood2", {"fl-woodx1", "fl-woodx2"})
-    
+
     DefAlias("fl_wood", "fl-wood")
     DefAlias("fl_wood1", "fl-wood1")
     DefAlias("fl_wood2", "fl-wood2")
@@ -1499,7 +1499,7 @@
     mkoxyd("c")
     mkoxyd("d")
 
-    -- flavors 'e' 
+    -- flavors 'e'
     for color = 0, num_colors - 1 do
         DefOverlay("st-oxyde"..color.."-peep", {"st-oxydb-open", colorspots[color+1], "st-oxyde"})
         DefShModel("st-oxyde"..color, "st-oxyde"..color.."-peep", "sh-round")



From ral at mail.berlios.de  Thu Jan  8 01:04:13 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 8 Jan 2009 01:04:13 +0100
Subject: [Enigma-game-svn] r1438 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 src
Message-ID: <200901080004.n0804Dgw029351@sheep.berlios.de>

Author: ral
Date: 2009-01-08 01:04:10 +0100 (Thu, 08 Jan 2009)
New Revision: 1438

Added:
   trunk/data/gfx32/fl_adhesionless.png
   trunk/data/gfx32/fl_bright.png
   trunk/data/gfx32/fl_dark.png
   trunk/data/gfx32/fl_darkgray.png
   trunk/data/gfx32/fl_gray.png
   trunk/data/gfx32/fl_inverse_gray.png
   trunk/data/gfx32/fl_inverse_white.png
   trunk/data/gfx32/fl_lawn.png
   trunk/data/gfx32/fl_metal.png
   trunk/data/gfx32/fl_pinkbumps.png
   trunk/data/gfx32/fl_white.png
   trunk/data/gfx40/fl_adhesionless.png
   trunk/data/gfx40/fl_bright.png
   trunk/data/gfx40/fl_dark.png
   trunk/data/gfx40/fl_darkgray.png
   trunk/data/gfx40/fl_gray.png
   trunk/data/gfx40/fl_inverse_gray.png
   trunk/data/gfx40/fl_inverse_white.png
   trunk/data/gfx40/fl_lawn.png
   trunk/data/gfx40/fl_metal.png
   trunk/data/gfx40/fl_pinkbumps.png
   trunk/data/gfx40/fl_white.png
   trunk/data/gfx48/fl_adhesionless.png
   trunk/data/gfx48/fl_bright.png
   trunk/data/gfx48/fl_dark.png
   trunk/data/gfx48/fl_darkgray.png
   trunk/data/gfx48/fl_gray.png
   trunk/data/gfx48/fl_inverse_gray.png
   trunk/data/gfx48/fl_inverse_white.png
   trunk/data/gfx48/fl_lawn.png
   trunk/data/gfx48/fl_metal.png
   trunk/data/gfx48/fl_pinkbumps.png
   trunk/data/gfx48/fl_white.png
Removed:
   trunk/data/gfx32/fl-black.png
   trunk/data/gfx32/fl-bumps.png
   trunk/data/gfx32/fl-darkgray.png
   trunk/data/gfx32/fl-gray.png
   trunk/data/gfx32/fl-inverse.png
   trunk/data/gfx32/fl-inverse2.png
   trunk/data/gfx32/fl-leaves.png
   trunk/data/gfx32/fl-metal.png
   trunk/data/gfx32/fl-nomouse.png
   trunk/data/gfx32/fl-springboard.png
   trunk/data/gfx32/fl-white.png
   trunk/data/gfx40/fl-black.png
   trunk/data/gfx40/fl-bumps.png
   trunk/data/gfx40/fl-darkgray.png
   trunk/data/gfx40/fl-gray.png
   trunk/data/gfx40/fl-inverse.png
   trunk/data/gfx40/fl-inverse2.png
   trunk/data/gfx40/fl-leaves.png
   trunk/data/gfx40/fl-metal.png
   trunk/data/gfx40/fl-nomouse.png
   trunk/data/gfx40/fl-springboard.png
   trunk/data/gfx40/fl-white.png
   trunk/data/gfx48/fl-black.png
   trunk/data/gfx48/fl-bumps.png
   trunk/data/gfx48/fl-darkgray.png
   trunk/data/gfx48/fl-gray.png
   trunk/data/gfx48/fl-inverse.png
   trunk/data/gfx48/fl-inverse2.png
   trunk/data/gfx48/fl-leaves.png
   trunk/data/gfx48/fl-metal.png
   trunk/data/gfx48/fl-nomouse.png
   trunk/data/gfx48/fl-springboard.png
   trunk/data/gfx48/fl-white.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/startup.lua
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
Log:
Trunk 1.1: new API reengineering
- renaming of standard floors - part III:
  - fl-abyss_fake -> fl_fake_abyss
  - fl-black -> fl_dark
  - fl-bumps -> fl_pinkbumps
  - fl-gray -> fl_gray
  - fl-darkgray -> fl_darkgray
  - fl-inverse -> fl_inverse or fl_inverse_white
  - fl-inverse2 -> fl_inverse_gray
  - fl-leaves -> fl_lawn or fl_lawn_a
  - fl-leavesb -> fl_lawn_b
  - fl-leavesc1 ->  fl_lawn_c1
  - fl-leavesc2 ->  fl_lawn_c2
  - fl-leavesc3 ->  fl_lawn_c3
  - fl-leavesc4 ->  fl_lawn_c4
  - fl-leavesd1 ->  fl_lawn_d1
  - fl-leavesd2 ->  fl_lawn_d2
  - fl-leavesd3 ->  fl_lawn_d3
  - fl-leavesd4 ->  fl_lawn_d4
  - fl-leavese1 ->  fl_lawn_e1
  - fl-leavese2 ->  fl_lawn_e2
  - fl-leavese3 ->  fl_lawn_e3
  - fl-leavese4 ->  fl_lawn_e4
  - fl-metal* -> fl_metal*
  - fl-nomouse -> fl_adhesionless
  - fl-normal_x -> fl_metal_7
  - fl-normal -> fl_metal_7 + attributes
  - fl-springboard -> fl_white
  - fl-white -> fl_bright


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/data/api1init.lua	2009-01-08 00:04:10 UTC (rev 1438)
@@ -54,6 +54,7 @@
     ac_rotor = "ac-rotor",
     ac_top = "ac-top",
     fl_abyss = "fl-abyss",
+    fl_adhesionless = "fl-nomouse",
     fl_aquamarine = "fl-bluegreenx",
     fl_bast = "fl-floor_001",
     fl_bluegray = "fl-bluegray",
@@ -61,15 +62,46 @@
     fl_blueslab = "fl-rough-blue",
     fl_brick = "fl-brick",
     fl_bridge = "fl-bridge",
+    fl_bright = "fl-white",
     fl_concrete = "fl-concrete",
+    fl_dark = "fl-black",
+    fl_darkgray = "fl-darkgray",
     fl_dunes = "fl-dunes",
+    fl_fake_abyss = "fl-abyss_fake",
     fl_gravel = "fl-gravel",
+    fl_gray = "fl-gray",
     fl_hay = "fl-hay",
     fl_himalaya = "fl-himalaya",
     fl_ice = "fl-ice",
+    fl_inverse_white = "fl-inverse",
+    fl_inverse_gray = "fl-inverse2",
     fl_ivory = "fl-light",
+    fl_lawn_a = "fl-leaves",
+    fl_lawn_b = "fl-leavesb",
+    fl_lawn_c1 = "fl-leavesc1",
+    fl_lawn_c2 = "fl-leavesc2",
+    fl_lawn_c3 = "fl-leavesc3",
+    fl_lawn_c4 = "fl-leavesc4",
+    fl_lawn_d1 = "fl-leavesd1",
+    fl_lawn_d2 = "fl-leavesd2",
+    fl_lawn_d3 = "fl-leavesd3",
+    fl_lawn_d4 = "fl-leavesd4",
+    fl_lawn_e1 = "fl-leavese1",
+    fl_lawn_e2 = "fl-leavese2",
+    fl_lawn_e3 = "fl-leavese3",
+    fl_lawn_e4 = "fl-leavese4",
     fl_marble = "fl-marble",
+    fl_metal = "fl-metal",
+    fl_metal_1 = "fl-metal1",
+    fl_metal_2 = "fl-metal2",
+    fl_metal_3 = "fl-metal3",
+    fl_metal_4 = "fl-metal4",
+    fl_metal_5 = "fl-metal5",
+    fl_metal_6 = "fl-metal6",
+    fl_metal_7 = "fl-normal_x",
+    fl_metal_7n = "fl-normal",
     fl_mortar = "fl-mortar",
+    fl_pinkbumps = "fl-bumps",
     fl_plank = "fl-plank",
     fl_platinum = "fl-lightgray",
     fl_red = "fl-red",
@@ -87,6 +119,7 @@
     fl_tigris = "fl-tigris",
     fl_trigger = "fl-trigger",
     fl_water = "fl-water",
+    fl_white = "fl-springboard",
     fl_wood = "fl-wood",
     fl_wood_h = "fl-wood1",
     fl_wood_v = "fl-wood2",

Deleted: trunk/data/gfx32/fl-black.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-darkgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-inverse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-inverse2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-leaves.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-nomouse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-springboard.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/fl-white.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/fl_adhesionless.png (from rev 1437, trunk/data/gfx32/fl-nomouse.png)

Copied: trunk/data/gfx32/fl_bright.png (from rev 1437, trunk/data/gfx32/fl-white.png)

Copied: trunk/data/gfx32/fl_dark.png (from rev 1437, trunk/data/gfx32/fl-black.png)

Copied: trunk/data/gfx32/fl_darkgray.png (from rev 1437, trunk/data/gfx32/fl-darkgray.png)

Copied: trunk/data/gfx32/fl_gray.png (from rev 1437, trunk/data/gfx32/fl-gray.png)

Copied: trunk/data/gfx32/fl_inverse_gray.png (from rev 1437, trunk/data/gfx32/fl-inverse2.png)

Copied: trunk/data/gfx32/fl_inverse_white.png (from rev 1437, trunk/data/gfx32/fl-inverse.png)

Added: trunk/data/gfx32/fl_lawn.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/fl_lawn.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx32/fl_metal.png (from rev 1432, trunk/data/gfx32/fl-metal.png)

Copied: trunk/data/gfx32/fl_pinkbumps.png (from rev 1432, trunk/data/gfx32/fl-bumps.png)

Copied: trunk/data/gfx32/fl_white.png (from rev 1437, trunk/data/gfx32/fl-springboard.png)

Deleted: trunk/data/gfx40/fl-black.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-darkgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-inverse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-inverse2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-leaves.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-nomouse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-springboard.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/fl-white.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/fl_adhesionless.png (from rev 1437, trunk/data/gfx40/fl-nomouse.png)

Copied: trunk/data/gfx40/fl_bright.png (from rev 1437, trunk/data/gfx40/fl-white.png)

Copied: trunk/data/gfx40/fl_dark.png (from rev 1437, trunk/data/gfx40/fl-black.png)

Copied: trunk/data/gfx40/fl_darkgray.png (from rev 1437, trunk/data/gfx40/fl-darkgray.png)

Copied: trunk/data/gfx40/fl_gray.png (from rev 1437, trunk/data/gfx40/fl-gray.png)

Copied: trunk/data/gfx40/fl_inverse_gray.png (from rev 1437, trunk/data/gfx40/fl-inverse2.png)

Copied: trunk/data/gfx40/fl_inverse_white.png (from rev 1437, trunk/data/gfx40/fl-inverse.png)

Copied: trunk/data/gfx40/fl_lawn.png (from rev 1437, trunk/data/gfx40/fl-leaves.png)

Copied: trunk/data/gfx40/fl_metal.png (from rev 1432, trunk/data/gfx40/fl-metal.png)

Copied: trunk/data/gfx40/fl_pinkbumps.png (from rev 1432, trunk/data/gfx40/fl-bumps.png)

Copied: trunk/data/gfx40/fl_white.png (from rev 1437, trunk/data/gfx40/fl-springboard.png)

Deleted: trunk/data/gfx48/fl-black.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-darkgray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-inverse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-inverse2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-leaves.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-nomouse.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-springboard.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-white.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/fl_adhesionless.png (from rev 1437, trunk/data/gfx48/fl-nomouse.png)

Copied: trunk/data/gfx48/fl_bright.png (from rev 1437, trunk/data/gfx48/fl-white.png)

Copied: trunk/data/gfx48/fl_dark.png (from rev 1437, trunk/data/gfx48/fl-black.png)

Copied: trunk/data/gfx48/fl_darkgray.png (from rev 1437, trunk/data/gfx48/fl-darkgray.png)

Copied: trunk/data/gfx48/fl_gray.png (from rev 1437, trunk/data/gfx48/fl-gray.png)

Copied: trunk/data/gfx48/fl_inverse_gray.png (from rev 1437, trunk/data/gfx48/fl-inverse2.png)

Copied: trunk/data/gfx48/fl_inverse_white.png (from rev 1437, trunk/data/gfx48/fl-inverse.png)

Copied: trunk/data/gfx48/fl_lawn.png (from rev 1437, trunk/data/gfx48/fl-leaves.png)

Copied: trunk/data/gfx48/fl_metal.png (from rev 1432, trunk/data/gfx48/fl-metal.png)

Copied: trunk/data/gfx48/fl_pinkbumps.png (from rev 1432, trunk/data/gfx48/fl-bumps.png)

Copied: trunk/data/gfx48/fl_white.png (from rev 1437, trunk/data/gfx48/fl-springboard.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/data/models-2d.lua	2009-01-08 00:04:10 UTC (rev 1438)
@@ -246,36 +246,36 @@
         {"fl_abyss", noframe = true},
         {"fl-acblack", noframe = true},
         {"fl-acwhite", noframe = true},
-        {"fl-black"},
+        {"fl_dark"},
         {"fl_bluegreen"},
-        {"fl-darkgray"},
+        {"fl_darkgray"},
         {"fl-dummy", noframe = true},
         {"fl_dunes"},
         {"fl_bast"},
         {"fl_ice", noframe = true},
-        {"fl-inverse", noframe = true},
-        {"fl-inverse2", noframe = true},
+        {"fl_inverse_white", noframe = true},
+        {"fl_inverse_gray", noframe = true},
         {"fl_ivory"},
         {"fl_platinum"},
-        {"fl-nomouse", noframe = true},
+        {"fl_adhesionless", noframe = true},
         {"fl-normal"},
         {"fl_sand"},
         {"fl_stone"},
-        {"fl-springboard"},
+        {"fl_white"},
         {"fl_trigger"},
-        {"fl-white"},
+        {"fl_bright"},
         -- multiple, with height and width (or 1)
         {"fl_bluegray", 4},
         {"fl_aquamarine", 2},
         {"fl_brick", 3},
-        {"fl-bumps", 2, 2},
+        {"fl_pinkbumps", 2, 2},
         {"fl_concrete", 4},
         {"fl_gravel", 4},
-        {"fl-gray", 5},
+        {"fl_gray", 5},
         {"fl_hay", 4},
         {"fl_himalaya", 4},
         {"fl_marble", 4},
-        {"fl-metal", 6},
+        {"fl_metal", 6},
         {"fl_mortar", 2, 2},
         {"fl_plank", 4},
         {"fl_red", 4},
@@ -331,21 +331,22 @@
 
 -- leaves --
 do
-    DefSubimages("fl-leaves", {w=10, h=2, modelname="fl-leavesx"})
-    DefRandFloor("fl-leaves", {"fl-leavesx1", "fl-leavesx2", "fl-leavesx3", "fl-leavesx4"})
-    DefRandFloor("fl-leavesb", {"fl-leavesx5", "fl-leavesx6", "fl-leavesx7", "fl-leavesx8"})
-    DefAlias("fl-leavesc1", "fl-leavesx9")
-    DefAlias("fl-leavesc2", "fl-leavesx10")
-    DefAlias("fl-leavesc3", "fl-leavesx11")
-    DefAlias("fl-leavesc4", "fl-leavesx12")
-    DefAlias("fl-leavesd1", "fl-leavesx13")
-    DefAlias("fl-leavesd2", "fl-leavesx14")
-    DefAlias("fl-leavesd3", "fl-leavesx15")
-    DefAlias("fl-leavesd4", "fl-leavesx16")
-    DefAlias("fl-leavese1", "fl-leavesx17")
-    DefAlias("fl-leavese2", "fl-leavesx18")
-    DefAlias("fl-leavese3", "fl-leavesx19")
-    DefAlias("fl-leavese4", "fl-leavesx20")
+    DefSubimages("fl_lawn", {w=10, h=2, modelname="fl_lawnx"})
+    DefRandFloor("fl_lawn", {"fl_lawnx1", "fl_lawnx2", "fl_lawnx3", "fl_lawnx4"})
+    DefAlias("fl_lawn_a", "fl_lawn")
+    DefRandFloor("fl_lawn_b", {"fl_lawnx5", "fl_lawnx6", "fl_lawnx7", "fl_lawnx8"})
+    DefAlias("fl_lawn_c1", "fl_lawnx9")
+    DefAlias("fl_lawn_c2", "fl_lawnx10")
+    DefAlias("fl_lawn_c3", "fl_lawnx11")
+    DefAlias("fl_lawn_c4", "fl_lawnx12")
+    DefAlias("fl_lawn_d1", "fl_lawnx13")
+    DefAlias("fl_lawn_d2", "fl_lawnx14")
+    DefAlias("fl_lawn_d3", "fl_lawnx15")
+    DefAlias("fl_lawn_d4", "fl_lawnx16")
+    DefAlias("fl_lawn_e1", "fl_lawnx17")
+    DefAlias("fl_lawn_e2", "fl_lawnx18")
+    DefAlias("fl_lawn_e3", "fl_lawnx19")
+    DefAlias("fl_lawn_e4", "fl_lawnx20")
 end
 
 -- wooden floor --
@@ -367,9 +368,22 @@
 -- Simple floor aliases --
 --------------------------
 do
-    DefAlias("fl-abyss_fake", "fl_abyss")
-    DefAlias("fl-normal_x", "fl-normal")
-    DefAlias("fl-normal_x_framed", "fl-normal_framed")
+    DefAlias("fl_fake_abyss", "fl_abyss")
+    DefAlias("fl_inverse", "fl_inverse_white")
+    DefAlias("fl_metal_1", "fl_metal1")
+    DefAlias("fl_metal_2", "fl_metal2")
+    DefAlias("fl_metal_3", "fl_metal3")
+    DefAlias("fl_metal_4", "fl_metal4")
+    DefAlias("fl_metal_5", "fl_metal5")
+    DefAlias("fl_metal_6", "fl_metal6")
+    DefAlias("fl_metal_7", "fl-normal")
+    DefAlias("fl_metal_1_framed", "fl_metal1_framed")
+    DefAlias("fl_metal_2_framed", "fl_metal2_framed")
+    DefAlias("fl_metal_3_framed", "fl_metal3_framed")
+    DefAlias("fl_metal_4_framed", "fl_metal4_framed")
+    DefAlias("fl_metal_5_framed", "fl_metal5_framed")
+    DefAlias("fl_metal_6_framed", "fl_metal6_framed")
+    DefAlias("fl_metal_7_framed", "fl-normal_framed")
     DefAlias("fl-space-force", "fl_space")
     DefAlias("fl_samba_h", "fl_samba1")
     DefAlias("fl_samba_v", "fl_samba2")

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/data/startup.lua	2009-01-08 00:04:10 UTC (rev 1438)
@@ -177,43 +177,45 @@
 def_floor("fl_bluegreen",    6.0,   2.0,    true,   "",         true)
 def_floor("fl_aquamarine",   0.4,   1.0,    true,   "",         true)
 def_floor("fl_brick",        3.5,   2.0,   false,   "",         true)
-def_floor("fl-bumps",        5.0,   1.2,   false,   "",         true)
+def_floor("fl_bumps",        5.0,   1.2,   false,   "",         true)
 def_floor("fl_concrete",     4.5,   1.3,   false,   "",         true)
 def_floor("fl_dunes",        1.3,   1.0,   false,   "",         true)
 def_floor("fl_bast",         1.5,   2.5,    true,   "fl_abyss", true)
 def_floor("fl_gravel",       3.2,   1.5,   false,   "",         true)
-def_floor("fl-gray",         5.0,   3.0,   false,   "",         true)
+def_floor("fl_gray",         5.0,   3.0,   false,   "",         true)
 def_floor("fl_himalaya",     5.0,   2.0,   false,   "",         true)
-def_floor("fl-inverse",      3.0,  -2.0,   false,   "",         false)
-def_floor("fl-inverse2",     3.0,  -2.0,   false,   "",         false)
-def_floor("fl-leaves",       4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesb",      4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesc1",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesc2",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesc3",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesc4",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesd1",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesd2",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesd3",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavesd4",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavese1",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavese2",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavese3",     4.0,   1.5,    true,   "fl_dunes", false)
-def_floor("fl-leavese4",     4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_inverse",      3.0,  -2.0,   false,   "",         false)
+def_floor("fl_inverse_white",3.0,  -2.0,   false,   "",         false)
+def_floor("fl_inverse_gray", 3.0,  -2.0,   false,   "",         false)
+def_floor("fl_lawn",         4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_a",       4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_b",       4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_c1",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_c2",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_c3",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_c4",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_d1",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_d2",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_d3",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_d4",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_e1",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_e2",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_e3",      4.0,   1.5,    true,   "fl_dunes", false)
+def_floor("fl_lawn_e4",      4.0,   1.5,    true,   "fl_dunes", false)
 def_floor("fl_ivory",        2.2,   1.6,    true,   "",         true)
 def_floor("fl_platinum",     3.0,   1.6,    true,   "",         true)
-def_floor("fl-darkgray",     3.0,   1.6,   false,   "",         true)
+def_floor("fl_darkgray",     3.0,   1.6,   false,   "",         true)
 def_floor("fl_marble",       6.4,   2.0,    true,   "",         true)
-def_floor("fl-metal",        3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal1",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal2",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal3",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal4",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal5",       3.0,   2.0,   false,   "",         true)
-def_floor("fl-metal6",       3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal",        3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_1",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_2",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_3",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_4",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_5",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_6",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_7",      3.0,   2.0,   false,   "",         true)
+def_floor("fl_metal_7n",     4.0,   2.0,   false,   "",         true)
 def_floor("fl_mortar",       7.2,   1.8,   false,   "",         true)
-def_floor("fl-normal",       4.0,   2.0,   false,   "",         true)
-def_floor("fl-normal_x",     3.0,   2.0,   false,   "",         true)
 def_floor("fl_plank",        5.5,   2.0,    true,   "fl_abyss", true)
 def_floor("fl_red",          0.9,   1.0,    true,   "",         true)
 def_floor("fl_rough",        7.0,   2.0,    true,   "",         true)
@@ -224,13 +226,13 @@
 def_floor("fl_samba_h",      6.0,   2.0,    true,   "fl_abyss", true)
 def_floor("fl_samba_v",      6.0,   2.0,    true,   "fl_abyss", true)
 def_floor("fl_sand",         6.0,   2.0,   false,   "",         true)
-def_floor("fl-springboard",  4.0,   2.0,   false,   "",         true)
+def_floor("fl_white",        4.0,   2.0,   false,   "",         true)
 def_floor("fl_stone",        1.4,   1.0,   false,   "",         true)
 def_floor("fl_tigris",       6.0,   2.0,    true,   "",         true)
 def_floor("fl_woven",        6.5,   3.0,    true,   "",         true)
-def_floor("fl-nomouse",      2.5,   0.0,    true,   "",         false)
-def_floor("fl-black",        3.0,   1.5,   false,   "",         true)
-def_floor("fl-white",        3.0,   1.5,   false,   "",         true)
+def_floor("fl_adhesionless", 2.5,   0.0,    true,   "",         false)
+def_floor("fl_dark",         3.0,   1.5,   false,   "",         true)
+def_floor("fl_bright",       3.0,   1.5,   false,   "",         true)
 def_floor("fl_trigger",      3.0,   1.5,    true,   "",         true)
-def_floor("fl-abyss_fake",   3.0,   2.0,   false,   "",         false)
+def_floor("fl_fake_abyss",   3.0,   2.0,   false,   "",         false)
 

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/src/ox_extra.cc	2009-01-08 00:04:10 UTC (rev 1438)
@@ -35,8 +35,8 @@
 
 const char *oxyd::oxydextra_floor_map[256] = {
     "fl_abyss",          // OxydExtra floor 0x00
-    "fl-gray",           // OxydExtra floor 0x01
-    "fl-metal",          // OxydExtra floor 0x02
+    "fl_gray",           // OxydExtra floor 0x01
+    "fl_metal",          // OxydExtra floor 0x02
     UNUSED,              // OxydExtra floor 0x03
     UNUSED,              // OxydExtra floor 0x04
     UNUSED,              // OxydExtra floor 0x05
@@ -46,8 +46,8 @@
     "fl_blueslab",       // OxydExtra floor 0x09
     "fl_blueslab",       // OxydExtra floor 0x0a
     "fl_redslab",        // OxydExtra floor 0x0b
-    "fl-inverse",        // OxydExtra floor 0x0c
-    "fl-black",          // OxydExtra floor 0x0d
+    "fl_inverse",        // OxydExtra floor 0x0c
+    "fl_dark",           // OxydExtra floor 0x0d
     UNUSED,              // OxydExtra floor 0x0e
     UNUSED,              // OxydExtra floor 0x0f
     UNUSED,              // OxydExtra floor 0x10
@@ -101,11 +101,11 @@
     UNUSED,              // OxydExtra floor 0x40
     "fl_samba",          // OxydExtra floor 0x41
     UNUSED,              // OxydExtra floor 0x42
-    "fl-bumps",          // OxydExtra floor 0x43
+    "fl_pinkbumps",      // OxydExtra floor 0x43
     UNUSED,              // OxydExtra floor 0x44
     UNUSED,              // OxydExtra floor 0x45
     UNUSED,              // OxydExtra floor 0x46
-    "fl-bumps",          // OxydExtra floor 0x47
+    "fl_pinkbumps",      // OxydExtra floor 0x47
     "fl_rock",           // OxydExtra floor 0x48
     UNUSED,              // OxydExtra floor 0x49
     UNUSED,              // OxydExtra floor 0x4a
@@ -118,7 +118,7 @@
     UNUSED,              // OxydExtra floor 0x51
     UNUSED,              // OxydExtra floor 0x52
     UNUSED,              // OxydExtra floor 0x53
-    "fl-gray",           // OxydExtra floor 0x54
+    "fl_gray",           // OxydExtra floor 0x54
     "fl_plank",          // OxydExtra floor 0x55
     UNUSED,              // OxydExtra floor 0x56
     UNUSED,              // OxydExtra floor 0x57

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/src/ox_magnum.cc	2009-01-08 00:04:10 UTC (rev 1438)
@@ -35,18 +35,18 @@
 
 const char *oxyd::oxydmag_floor_map[256] = {
     "fl_abyss",                 // OxydMagnum floor 0x00
-    "fl-gray",                  // OxydMagnum floor 0x01 (common was 'fl-gray')
-    "fl-metal",                 // OxydMagnum floor 0x02 (This should be "fl-stwood" for #112)
-    "fl-metal3",                // OxydMagnum floor 0x03
-    "fl-metal4",                // OxydMagnum floor 0x04
+    "fl_gray",                  // OxydMagnum floor 0x01 (common was 'fl_gray')
+    "fl_metal",                 // OxydMagnum floor 0x02 (This should be "fl-stwood" for #112)
+    "fl_metal_3",               // OxydMagnum floor 0x03
+    "fl_metal_4",               // OxydMagnum floor 0x04
     0,                          // OxydMagnum floor 0x05 (common was 'fl-metal')(level 121 ?)
-    "fl-metal5",                // OxydMagnum floor 0x06
-    "fl-normal",                // OxydMagnum floor 0x07 (common was 'fl-metal')
+    "fl_metal_5",               // OxydMagnum floor 0x06
+    "fl_metal_7n",              // OxydMagnum floor 0x07 (common was 'fl-metal')
     "fl_tigris",                // OxydMagnum floor 0x08 (common was 'fl-rough')
     "fl_tigris",                // OxydMagnum floor 0x09 (common was 'fl-normal')
     "fl_tigris",                // OxydMagnum floor 0x0a (common was 'fl-normal')
     "fl_tigris",                // OxydMagnum floor 0x0b (common was 'fl-stone')
-    "fl-inverse",               // OxydMagnum floor 0x0c (common was 'fl-inverse')
+    "fl_inverse",               // OxydMagnum floor 0x0c (common was 'fl_inverse')
     "fl-acblack",               // OxydMagnum floor 0x0d
     "fl-acwhite",               // OxydMagnum floor 0x0e
     "fl_swamp",                 // OxydMagnum floor 0x0f
@@ -117,14 +117,14 @@
     UNUSED,                     // OxydMagnum floor 0x50
     UNUSED,                     // OxydMagnum floor 0x51
     "fl_bridge",                // OxydMagnum floor 0x52 (common was 'fl-bridge')
-    "fl-springboard",           // OxydMagnum floor 0x53
+    "fl_white",                 // OxydMagnum floor 0x53
     "fl_ivory",                 // OxydMagnum floor 0x54
     "fl_platinum",              // OxydMagnum floor 0x55
-    "fl-darkgray",              // OxydMagnum floor 0x56
+    "fl_darkgray",              // OxydMagnum floor 0x56
     UNUSED,                     // OxydMagnum floor 0x57
-    "fl-darkgray",              // OxydMagnum floor 0x58
-    "fl-leaves",                // OxydMagnum floor 0x59
-    "fl-normal",                // OxydMagnum floor 0x5a (Only Oxyd Magnum Gold #119,120)
+    "fl_darkgray",              // OxydMagnum floor 0x58
+    "fl_lawn",                  // OxydMagnum floor 0x59
+    "fl_metal_7n",              // OxydMagnum floor 0x5a (Only Oxyd Magnum Gold #119,120)
     "fl_plank",                 // OxydMagnum floor 0x5b
     // codes >= 0x5c are unused
 };

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/src/ox_oxyd1.cc	2009-01-08 00:04:10 UTC (rev 1438)
@@ -68,18 +68,18 @@
 
 const char *oxyd::oxyd1_floor_map[256] = {
     "fl_abyss",                 // Oxyd1 floor 0x00
-    "fl-gray",                  // Oxyd1 floor 0x01
-    "fl-metal",                 // Oxyd1 floor 0x02
+    "fl_gray",                  // Oxyd1 floor 0x01
+    "fl_metal",                 // Oxyd1 floor 0x02
     "fl_samba",                 // Oxyd1 floor 0x03 was: checkered floor
     UNUSED,                     // Oxyd1 floor 0x04
     UNUSED,                     // Oxyd1 floor 0x05
     UNUSED,                     // Oxyd1 floor 0x06
-    "fl-normal",                // Oxyd1 floor 0x07
+    "fl_metal_7n",              // Oxyd1 floor 0x07
     "fl_himalaya",              // Oxyd1 floor 0x08
     "fl_himalaya",              // Oxyd1 floor 0x09
     "fl_himalaya",              // Oxyd1 floor 0x0a
     "fl_himalaya",              // Oxyd1 floor 0x0b
-    "fl-inverse2",              // Oxyd1 floor 0x0c
+    "fl_inverse_gray",          // Oxyd1 floor 0x0c
     "fl-acblack",               // Oxyd1 floor 0x0d
     "fl-acwhite",               // Oxyd1 floor 0x0e
     "fl_swamp",                 // Oxyd1 floor 0x0f
@@ -150,14 +150,14 @@
     UNUSED,                     // Oxyd1 floor 0x50
     UNUSED,                     // Oxyd1 floor 0x51
     "fl_bridge",                // Oxyd1 floor 0x52
-    "fl-springboard",           // Oxyd1 floor 0x53
+    "fl_white",                 // Oxyd1 floor 0x53
     UNUSED,                     // Oxyd1 floor 0x54
-    "fl-gray",                  // Oxyd1 floor 0x55
+    "fl_gray",                  // Oxyd1 floor 0x55
     "fl_ivory",                 // Oxyd1 floor 0x56
     "fl_platinum",              // Oxyd1 floor 0x57
-    "fl-darkgray",              // Oxyd1 floor 0x58
+    "fl_darkgray",              // Oxyd1 floor 0x58
     "fl_dunes",                 // Oxyd1 floor 0x59
-    "fl-normal",                // Oxyd1 floor 0x5a
+    "fl_metal_7n",              // Oxyd1 floor 0x5a
     "fl_plank",                 // Oxyd1 floor 0x5b
     // codes >= 0x5c are unused
 };

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-07 02:10:05 UTC (rev 1437)
+++ trunk/src/ox_peroxyd.cc	2009-01-08 00:04:10 UTC (rev 1438)
@@ -104,18 +104,18 @@
 
 const char *oxyd::peroxyd_floor_map[256] = {
     "fl_abyss",                 // PerOxyd floor 0x00
-    "fl-gray",                  // PerOxyd floor 0x01
-    "fl-metal",                 // PerOxyd floor 0x02
-    "fl-metal",                 // PerOxyd floor 0x03
-    "fl-metal",                 // PerOxyd floor 0x04
-    "fl-metal",                 // PerOxyd floor 0x05
-    "fl-metal",                 // PerOxyd floor 0x06
-    "fl-metal",                 // PerOxyd floor 0x07
+    "fl_gray",                  // PerOxyd floor 0x01
+    "fl_metal",                 // PerOxyd floor 0x02
+    "fl_metal",                 // PerOxyd floor 0x03
+    "fl_metal",                 // PerOxyd floor 0x04
+    "fl_metal",                 // PerOxyd floor 0x05
+    "fl_metal",                 // PerOxyd floor 0x06
+    "fl_metal",                 // PerOxyd floor 0x07
     "fl_redslab",               // PerOxyd floor 0x08
     "fl_blueslab",              // PerOxyd floor 0x09
     "fl_blueslab",              // PerOxyd floor 0x0a
     "fl_redslab",               // PerOxyd floor 0x0b
-    "fl-inverse",               // PerOxyd floor 0x0c
+    "fl_inverse",               // PerOxyd floor 0x0c
     "fl-acblack",               // PerOxyd floor 0x0d
     "fl-acwhite",               // PerOxyd floor 0x0e
     "fl_swamp",                 // PerOxyd floor 0x0f
@@ -169,8 +169,8 @@
     "fl_samba_v",               // PerOxyd floor 0x3f (common was 'fl-wood', vertical slats)(levels: 35, 152)
     UNUSED,                     // PerOxyd floor 0x40
     UNUSED,                     // PerOxyd floor 0x41
-    "fl-bumps",                 // PerOxyd floor 0x42
-    "fl-bumps",                 // PerOxyd floor 0x43
+    "fl_pinkbumps",             // PerOxyd floor 0x42
+    "fl_pinkbumps",             // PerOxyd floor 0x43
     UNUSED,                     // PerOxyd floor 0x44
     UNUSED,                     // PerOxyd floor 0x45
     UNUSED,                     // PerOxyd floor 0x46
@@ -181,11 +181,11 @@
     UNUSED,                     // PerOxyd floor 0x4b
     "fl_bridge",                // PerOxyd floor 0x4c
     UNUSED,                     // PerOxyd floor 0x4d
-    "fl-gray",                  // PerOxyd floor 0x4e
+    "fl_gray",                  // PerOxyd floor 0x4e
     "fl-gradient13",            // PerOxyd floor 0x4f (flat force up, beige)        (maybe gradient22?)
-    "fl-black",                 // PerOxyd floor 0x50 (flat force down, dark olive) (maybe gradient21?)
-    "fl-white",                 // PerOxyd floor 0x51 (flat force left, beige)      (maybe gradient24?)
-    "fl-black",                 // PerOxyd floor 0x52 (flat force right, dark olive)(maybe gradient23?)
+    "fl_dark",                  // PerOxyd floor 0x50 (flat force down, dark olive) (maybe gradient21?)
+    "fl_bright",                // PerOxyd floor 0x51 (flat force left, beige)      (maybe gradient24?)
+    "fl_dark",                  // PerOxyd floor 0x52 (flat force right, dark olive)(maybe gradient23?)
     "fl_bast",                  // PerOxyd floor 0x53
     UNUSED,                     // PerOxyd floor 0x54
     "fl_plank",                 // PerOxyd floor 0x55



From raoul at mail.berlios.de  Thu Jan  8 03:16:18 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 8 Jan 2009 03:16:18 +0100
Subject: [Enigma-game-svn] r1439 - in trunk/data: . levels/enigma_cross
	levels/enigma_iii levels/enigma_iv levels/enigma_tutorial
	levels/enigma_v levels/enigma_vi levels/enigma_vii
	levels/enigma_viii
Message-ID: <200901080216.n082GIln002911@sheep.berlios.de>

Author: raoul
Date: 2009-01-08 03:16:13 +0100 (Thu, 08 Jan 2009)
New Revision: 1439

Modified:
   trunk/data/api1init.lua
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_tutorial/a_tut07.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/raoul05_2.xml
   trunk/data/levels/enigma_v/raoul12_2.xml
   trunk/data/levels/enigma_vi/andreas31_1.xml
   trunk/data/levels/enigma_vi/andreas35_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/raoul29_1.xml
   trunk/data/levels/enigma_vii/andreas46_3.xml
   trunk/data/levels/enigma_vii/duffy178_1.xml
   trunk/data/levels/enigma_vii/huesing01_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley02_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley05_2.xml
   trunk/data/levels/enigma_vii/pulley06_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas47_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/andreas49_1.xml
   trunk/data/levels/enigma_viii/andreas50_1.xml
   trunk/data/levels/enigma_viii/andreas51_1.xml
   trunk/data/levels/enigma_viii/andreas53_2.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull04_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/devnull09_1.xml
   trunk/data/levels/enigma_viii/devnull12_1.xml
   trunk/data/levels/enigma_viii/devnull15_1.xml
   trunk/data/levels/enigma_viii/devnull16_1.xml
   trunk/data/levels/enigma_viii/duffy180_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/johann03_1.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke06_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/pulley16_3.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral24_1.xml
   trunk/data/levels/enigma_viii/ral30_1.xml
   trunk/data/levels/enigma_viii/ral39_1.xml
   trunk/data/levels/enigma_viii/raoul31_1.xml
   trunk/data/startup.lua
Log:
-> New api floor renaming level update, part III
-> Fixed 2 small errors startup / api1init

Todo: friction attributes for floor normal(_x),
      waiting for author opinions.



Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/api1init.lua	2009-01-08 02:16:13 UTC (rev 1439)
@@ -99,7 +99,7 @@
     fl_metal_5 = "fl-metal5",
     fl_metal_6 = "fl-metal6",
     fl_metal_7 = "fl-normal_x",
-    fl_metal_7n = "fl-normal",
+    fl_metal_7 = "fl-normal",
     fl_mortar = "fl-mortar",
     fl_pinkbumps = "fl-bumps",
     fl_plank = "fl-plank",

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -67,7 +67,7 @@
     <level _seq="59" _title="Manamana" _xpath="enigma_iii/just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="enigma_iii/nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Don't Touch" _xpath="enigma_iii/raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bump Ahead" _xpath="enigma_iii/illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Killer Hills" _xpath="enigma_iii/luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Fox in the Henhouse" _xpath="enigma_iii/nat26_1" author="Nat Pryce" ctrl="force" easy="false" id="nat26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -97,7 +97,7 @@
     <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Hobbyte" _xpath="enigma_v/alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Water Castle" _xpath="enigma_v/luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Moving Puzzles" _xpath="enigma_v/luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -106,8 +106,8 @@
     <level _seq="98" _title="Sentry Duty" _xpath="enigma_v/nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Thievish Alleys" _xpath="enigma_v/andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Double play" _xpath="enigma_v/just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="101" _title="Oxyd-Puzzle" _xpath="enigma_v/raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="102" _title="Keystone" _xpath="enigma_v/raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="101" _title="Oxyd-Puzzle" _xpath="enigma_v/raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="102" _title="Keystone" _xpath="enigma_v/raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Print 23" _xpath="enigma_v/richi07_1" author="Richi B?tzer" ctrl="force" easy="false" id="richi07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Laser Crossing" _xpath="enigma_v/luc24_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc24" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="105" _title="The Carousel" _xpath="enigma_v/luc30_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -169,7 +169,7 @@
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="162" _title="Checkmate I" _xpath="enigma_vi/andreas29_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="163" _title="The Stable" _xpath="enigma_vi/andreas30_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas30" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="165" _title="Chessing Positions" _xpath="enigma_vi/raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="166" _title="Twisting by the pool" _xpath="enigma_vi/alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="167" _title="Hot Meditation" _xpath="enigma_vi/ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
@@ -202,7 +202,7 @@
     <level _seq="194" _title="Oiltrace" _xpath="enigma_vi/raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="195" _title="The Cube" _xpath="enigma_vi/malaire01_1" author="Markus Laire" ctrl="force" easy="true" id="20061120malaire901" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="198" _title="be quick or be dead" _xpath="enigma_vi/illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="199" _title="Tarzan" _xpath="enigma_vi/ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="200" _title="Simple Space" _xpath="enigma_vi/ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 1.01 new"/>
+  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 1.01 new"/>
 
   <attributes/>
 
@@ -26,7 +26,7 @@
     <level _seq="18" _title="Your Friend, the Light" _xpath="enigma_vi/just15_1" author="JuSt" ctrl="force" easy="true" id="just15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="jumping ball flash" _xpath="enigma_vi/illmind13_1" author="illmind" ctrl="force" easy="false" id="2007ill001" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Cold Meditation" _xpath="enigma_vii/ral18_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070314ral728" rel="1" rev="67" score="1" target="time" unit="duration"/>
-    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Industrial Puzzles" _xpath="enigma_vi/raoul30_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul30" rel="2" rev="7" score="2" target="time" unit="duration"/>
     <level _seq="23" _title="Odyssey" _xpath="enigma_vi/ant39_1" author="Petr Machata" ctrl="force" easy="false" id="ant39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Tandem Chess" _xpath="enigma_vi/luc34_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc342007" rel="1" rev="2" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -30,10 +30,10 @@
     <level _seq="22" _title="Double Oneways" _xpath="enigma_vii/duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Wood - Water - Wood" _xpath="enigma_vii/duffy173_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Transpositions" _xpath="enigma_vii/duffy174_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="30" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -46,7 +46,7 @@
     <level _seq="38" _title="Double Sense" _xpath="enigma_vii/joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Double Sense II" _xpath="enigma_vii/joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Lightyears" _xpath="enigma_vii/duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title="Zero Magnetism Lab" _xpath="enigma_vii/duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="Armageddon" _xpath="enigma_vii/duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Mountain Climbing II" _xpath="enigma_vii/joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Minor Tangler" _xpath="enigma_vii/joe24_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -59,19 +59,19 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Remote Meditation" _xpath="enigma_vii/dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="65" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Underground Temple" _xpath="enigma_vii/joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="Mountain Climbing III" _xpath="enigma_vii/joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,69 +79,69 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="38" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="25" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="72" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="7" score="3" target="time" unit="duration"/>
+    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="138" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="139" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="16" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
-    <level _seq="136" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="136" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="137" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
   </levels>
 

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Castle" el:subtitle="" el:id="andreas04"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,9 +22,9 @@
 
 ti["    "]={"fl_water"}
 ti["!   "]={"fl_water"}
-ti["#   "]={"fl-leaves"}
+ti["#   "]={"fl_lawn"}
 ti["$   "]={"fl_abyss"}
-ti["%   "]={"fl-normal"}
+ti["%   "]={"fl_metal_7"}
 ti["&   "]={"fl-gradient12"}
 ti["'   "]={"fl-gradient4"}
 ti["(   "]={"fl-gradient11"}

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma III"/>
 
   <attributes/>
 
@@ -69,7 +69,7 @@
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Emergency Exit" _xpath="./ss05_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="The Safe" _xpath="./siegfried77_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried77" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Block its way!" _xpath="./wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="67" _title="Bump Ahead" _xpath="./illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="9" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="10" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,15 +26,15 @@
 end
 
 ti[" "] = {"fl_abyss"}
-ti["l"] = {"fl-leaves"}
+ti["l"] = {"fl_lawn"}
 ti["A"] = {"fl_hay"}
 ti["."] = {"fl_bluegreen"}
-ti["i"] = {"fl-inverse"}
+ti["i"] = {"fl_inverse"}
 ti["j"] = {"fl_ice"}
 ti["s"] = {"fl_swamp"}
 ti["~"] = {"fl_water"}
 ti["="] = {"fl_space"}
-ti["@"] = {"fl-abyss_fake"}
+ti["@"] = {"fl_fake_abyss"}
 ti["d"] = {"fl-gradient", type=1}
 ti["u"] = {"fl-gradient", type=2}
 ti["r"] = {"fl-gradient", type=3}
@@ -77,7 +77,7 @@
 ti["q"] = {"st_passage_black_frame"} .. ti["l"]
 ti["w"] = {"st_passage_white_frame"} .. ti["l"]
 ti["V"] = {"fl_bridge_bw", "trapwest", state=CLOSED} .. ti{"it_trap", state=OPEN}
-ti["W"] = {"fl-abyss_fake", "trapeast"}
+ti["W"] = {"fl_fake_abyss", "trapeast"}
 ti["C"] = {"st_monoflop", interval=1.5, target="toggletraps"} .. ti["l"]
 ti["?"] = {"st_charge_plus"} .. ti["l"]
 ti["/"] = {"st_charge_minus"} .. ti["l"]
@@ -202,10 +202,10 @@
         end
     else
         if trap == WEST then
-            wo[no["trapwest"]] = {"fl-abyss_fake", "trapwest"} .. ti{"it_nil"}
+            wo[no["trapwest"]] = {"fl_fake_abyss", "trapwest"} .. ti{"it_nil"}
             trap = EAST
         else
-            wo[no["trapeast"]] = {"fl-abyss_fake", "trapeast"} .. ti{"it_nil"}
+            wo[no["trapeast"]] = {"fl_fake_abyss", "trapeast"} .. ti{"it_nil"}
             trap = WEST
         end
     end

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_tutorial/a_tut07.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -18,12 +18,12 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-leavesb"}
-ti["1"] = {"fl-leavesc1"}
-ti["2"] = {"fl-leavesc2"}
-ti["3"] = {"fl-leavesc3"}
-ti["4"] = {"fl-leavesc4"}
-ti["."] = {"fl-leaves"}
+ti[" "] = {"fl_lawn_b"}
+ti["1"] = {"fl_lawn_c1"}
+ti["2"] = {"fl_lawn_c2"}
+ti["3"] = {"fl_lawn_c3"}
+ti["4"] = {"fl_lawn_c4"}
+ti["."] = {"fl_lawn"}
 ti["~"] = {"fl_water"}
 ti["#"] = ti[" "] .. {"st_fake_oxyda"}
 ti["@"] = ti["."] .. {"#ac_marble_black"}
@@ -87,10 +87,10 @@
       </el:string>
       <el:string el:key="text1">
         <el:english el:translate="true">The stone with the horse's head is called ''chess stone''. Watch how the other marble hits one of them to move it. The angle is important.</el:english>
-      </el:string> 
+      </el:string>
       <el:string el:key="text2">
         <el:english el:translate="true">Now try to move these chess stones onto the triggers. They always move two steps plus one step.</el:english>
-      </el:string> 
+      </el:string>
     </el:i18n>
   </el:protected>
 </el:level>

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="9" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="10" title="Tutorial"/>
 
   <attributes/>
 
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Meditation 2" _xpath="./m_med2" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_med2" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="9" _title="Movement 4" _xpath="./m_tut7" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut7" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="10" _title="Movement 5" _xpath="./m_tut8" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut8" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="3" score="2" target="time" unit="duration"/>
+    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="4" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Floors 2" _xpath="./m_tut10" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Floors 3" _xpath="./m_tut11" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Doors and Triggers" _xpath="./a_tut01" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floors 1" el:subtitle="" el:id="m_tutor/m_tut9"/>
-      <el:version el:score="2" el:release="3" el:revision="3" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="4" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -17,17 +17,17 @@
     <el:luamain><![CDATA[
 oxyd_default_flavor = "d"
 
-ti[" "] = {"fl-leavesb"}
-ti["1"] = {"fl-leaves"}
-ti["2"] = {"fl-leavesc1"}
-ti["3"] = {"fl-leavesc2"}
-ti["4"] = {"fl-leavesc3"}
-ti["5"] = {"fl-leavesc4"}
-ti["6"] = {"fl-leavesd1"}
-ti["7"] = {"fl-leavesd2"}
-ti["8"] = {"fl-leavesd3"}
-ti["9"] = {"fl-leavesd4"}
-ti["M"] = {"fl-metal"}
+ti[" "] = {"fl_lawn_b"}
+ti["1"] = {"fl_lawn"}
+ti["2"] = {"fl_lawn_c1"}
+ti["3"] = {"fl_lawn_c2"}
+ti["4"] = {"fl_lawn_c3"}
+ti["5"] = {"fl_lawn_c4"}
+ti["6"] = {"fl_lawn_d1"}
+ti["7"] = {"fl_lawn_d2"}
+ti["8"] = {"fl_lawn_d3"}
+ti["9"] = {"fl_lawn_d4"}
+ti["M"] = {"fl_metal"}
 ti["I"] = {"fl_ice"}
 ti["R"] = {"fl_rough", friction=7.0, adhesion=0.5}
 ti["D"] = {"fl_dunes"}

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
     <el:luamain><![CDATA[
 -- Originally created with the help of BBE 1.05
 
-ti[" "]={"fl-normal"}
+ti[" "]={"fl_metal_7"}
 ti["!"]={"st-metal"}
 ti["$"]={"st_oxyd", flavor = "a"}
 ti["1"]={"st_laserswitch", target = "door1"}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma V"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack5_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="April 1st" _xpath="./alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Send me the keys !" _xpath="./alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Hobbyte" _xpath="./alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Water Castle" _xpath="./luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Moving Puzzles" _xpath="./luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -24,10 +24,10 @@
     <level _seq="16" _title="Draggers" _xpath="./ant21_1" author="Petr Machata" ctrl="force" easy="false" id="ant21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="./ralf12_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Plan Ahead" _xpath="./duffy114_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy114" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="22" _title="Keystone" _xpath="./raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Keystone" _xpath="./raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Print 23" _xpath="./richi07_1" author="Richi B?tzer" ctrl="force" easy="false" id="richi07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Space Pirates" _xpath="./siegfried19_2" author="Siegfried Fennig" ctrl="force" easy="false" id="level6a" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="25" _title="Laser Crossing" _xpath="./luc24_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc24" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/raoul05_2.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul05_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_v/raoul05_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Oxyd-Puzzle" el:subtitle="" el:id="raoul05"/>
-      <el:version el:score="1" el:release="2" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2005,2006,2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
       <el:score el:easy="-" el:difficult="1:13"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-metal"}
+ti[" "] = {"fl_metal"}
 ti["x"] = {"st-glass1_hole"}
 ti["#"] = {"st-glass2"}
 ti["O"] = {"st-glass2_hole"}

Modified: trunk/data/levels/enigma_v/raoul12_2.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul12_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_v/raoul12_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Keystone" el:subtitle="" el:id="raoul12"/>
-      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006,2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-black"}
+ti[" "] = {"fl_dark"}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st-glass"}
 ti["O"] = {"st_oxyd"}

Modified: trunk/data/levels/enigma_vi/andreas31_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chess, Bugs &amp; Rock'n'Roll" el:subtitle="" el:id="andreas31"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,12 +25,12 @@
 end
 
 myfloor = {}
-myfloor[1] = "fl-black"     -- "fl_platinum"
-myfloor[2] = "fl-darkgray"  -- "fl-darkgray"
-myfloor[3] = "fl-black"     -- "fl_ivory"
+myfloor[1] = "fl_dark"     -- "fl_platinum"
+myfloor[2] = "fl_darkgray"  -- "fl_darkgray"
+myfloor[3] = "fl_dark"     -- "fl_ivory"
 myfloor[4] = "fl_wood"      -- "fl_platinum"
-myfloor[5] = "fl-black"     -- "fl_platinum"
-myfloor[6] = "fl-black"     -- "fl_platinum"
+myfloor[5] = "fl_dark"     -- "fl_platinum"
+myfloor[6] = "fl_dark"     -- "fl_platinum"
 chess_number = 0
 
 function myresolver(key, x, y)

Modified: trunk/data/levels/enigma_vi/andreas35_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Checkmate II" el:subtitle="" el:id="andreas35"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
       <el:score el:easy="-" el:difficult="01:06"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = ti({"fl-white", checkerboard = 0}) .. {"fl-black", checkerboard = 1}
+ti[" "] = ti({"fl_bright", checkerboard = 0}) .. {"fl_dark", checkerboard = 1}
 ti["#"] = {"st-rock3"}
 ti["c"] = ti({"st_chess_white", checkerboard = 0}) .. {"st_chess_black", checkerboard = 1}
 ti["x"] = ti({"st_passage_black_frame", checkerboard = 0}) .. {"st_passage_white_frame", checkerboard = 1}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma VI"/>
 
   <attributes/>
 
@@ -52,12 +52,12 @@
     <level _seq="44" _title="Dancing on Light Beams" _xpath="./andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Wormhole Madness!" _xpath="./edward24_1" author="Edward" ctrl="force" easy="false" id="edward24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Alcatraz" _xpath="./ralf14_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Oiltrace" _xpath="./raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="101" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
@@ -77,7 +77,7 @@
     <level _seq="69" _title="Devil's Bolder" _xpath="./just14_1" author="JuSt" ctrl="force" easy="true" id="just14" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Twisting by the pool" _xpath="./alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Revolver" _xpath="./ral16_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070214ral703" rel="1" rev="59" score="1" target="time" unit="duration"/>
-    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="ZigZag" _xpath="./ralf06_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="Houdini" _xpath="./ral11_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060816ral719" rel="2" rev="58" score="2" target="time" unit="duration"/>
     <level _seq="75" _title="The wrong Place?" _xpath="./just17_1" author="JuSt" ctrl="force" easy="false" id="just17" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/raoul29_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Same task ..." el:subtitle="... different Mirrors" el:id="raoul29"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,12 +15,12 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-metal"}
+ti[" "] = {"fl_metal"}
 ti["-"] = {"fl_abyss"}
 if wo["IsDifficult"] then
-  ti["~"] = {"fl_abyss", friction=0.25}
+    ti["~"] = {"fl_abyss", friction=0.25}
 else
-  ti["~"] = {"fl_abyss", friction=0.1}
+    ti["~"] = {"fl_abyss", friction=0.1}
 end
 ti["G"] = {"st-glass2"}
 ti["F"] = {"st-glass1"}

Modified: trunk/data/levels/enigma_vii/andreas46_3.xml
===================================================================
--- trunk/data/levels/enigma_vii/andreas46_3.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/andreas46_3.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Tinker, Tailor" el:subtitle="" el:id="andreas46"/>
-      <el:version el:score="2" el:release="4" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="4" el:revision="9" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,14 +15,13 @@
       <el:score el:easy="2:18" el:difficult="5:10"/>
     </el:info>
     <el:luamain><![CDATA[
-
 wo["ConserveLevel"] = true
 
 -- Names starting with "para" relate to objects on the
 -- right side of the screen, i.e., the side indicating
 -- the next pattern.
 
-ti["  "] = {"fl-leavesb"}
+ti["  "] = {"fl_lawn_b"}
 ti["# "] = {"st-glass2"}
 ti["@ "] = {"#ac_marble_black", name = "marble"}
 ti["o "] = {"st_oxyd", flavor = "b"}
@@ -34,7 +33,7 @@
 ti["x*"] = {"st-glass1_hole", name = "paraplace%%"}
 ti["u "] = {"st_switch", target = "next_pattern"}
 ti["v "] = {"st_switch", target = "solve"}
-ti["r*"] = {"fl-leavesb", "parafloor%%"}
+ti["r*"] = {"fl_lawn_b", "parafloor%%"}
 ti["t "] = {"st_timer", interval = 2.0, name = "timer", loop = false,
                         invisible = true}
 
@@ -45,7 +44,7 @@
 
 function myresolver(key, x, y)
   if key == ". " then
-    return {"fl-leavesb", force_x = myrandom(), force_y = myrandom()}
+    return {"fl_lawn_b", force_x = myrandom(), force_y = myrandom()}
   else
     return ti[key]
   end
@@ -187,7 +186,6 @@
   connect(no["parahorse%"..j], no["parascissors%"..j])
   connect(no["horse%"..j], no["scissors%"..j])
 end
-
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vii/duffy178_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy178_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/duffy178_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Zero Magnetism Lab" el:subtitle="" el:id="duffy178"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_space"}
 ti["="] = {"fl_bast"}
-ti["~"] = {"fl-leaves"}
+ti["~"] = {"fl_lawn"}
 ti["#"] = ti["~"] .. {"st-greenbrown"}
 ti["."] = ti["="] .. {"it_meditation_hollow"}
 ti["o"] = {"#ac_pearl"}

Modified: trunk/data/levels/enigma_vii/huesing01_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
      <el:info el:type="level">
        <el:identity el:title="Watchmaker" el:subtitle="Mend the clockwork" el:id="huesing01"/>
-       <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+       <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
        <el:author el:name="Johannes H?sing" el:email="hannes at ruhrau.de" el:homepage="http://derwisch.wikidot.com"/>
        <el:copyright>Copyright ? 2008 Johannes H?sing </el:copyright>
        <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,10 +14,10 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-metal4"}
-ti["-"] = {"fl-metal2"}
-ti["+"] = {"fl-metal3"}
-ti["|"] = {"fl-metal6"}
+ti[" "] = {"fl_metal_4"}
+ti["-"] = {"fl_metal_2"}
+ti["+"] = {"fl_metal_3"}
+ti["|"] = {"fl_metal_6"}
 ti["~"] = {"fl_water"}
 ti["#"] = {"st-metal"}
 ti["W"] = ti["+"] .. {"st_box_wood"}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma VII"/>
 
   <attributes/>
 
@@ -54,10 +54,10 @@
     <level _seq="46" _title="Double Oneways" _xpath="./duffy172_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy172" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Wood - Water - Wood" _xpath="./duffy173_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy173" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Transpositions" _xpath="./duffy174_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy174" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="54" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -70,7 +70,7 @@
     <level _seq="62" _title="Double Sense" _xpath="./joe14_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Double Sense II" _xpath="./joe15_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe15" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Lightyears" _xpath="./duffy177_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy177" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="65" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="65" _title="Zero Magnetism Lab" _xpath="./duffy178_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy178" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Armageddon" _xpath="./duffy179_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy179" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Mountain Climbing II" _xpath="./joe25_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Minor Tangler" _xpath="./joe24_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe24" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -83,19 +83,19 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="7" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Remote Meditation" _xpath="./dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Crawling the Abyss" _xpath="./sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="89" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Underground Temple" _xpath="./joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="93" _title="Mountain Climbing III" _xpath="./joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="38" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 27 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 28 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti[" %"] = {"fl_water"}
 ti["! "] = {"st_death"}
 ti["# "] = {"st-rock1"}
-ti[" &"] = {"fl-normal"}
+ti[" &"] = {"fl_metal_7"}
 ti["$ "] = {"st-thief"}
 ti["% "] = {"st_passage_black_cross"}
 ti["& "] = {"st-stone_break"}
@@ -31,7 +31,7 @@
 ti["+ "] = {"st_mirror_triangle", movable=false, transparent=false, orientation=EAST}
 ti[", "] = {"st_mirror", movable=false, transparent=false, orientation=NORTH}
 ti[" '"] = {"fl_himalaya"}
-ti[" ("] = {"fl-leavesc2"}
+ti[" ("] = {"fl_lawn_c2"}
 ti["g "] = {"it_glasses"}
 ti[". "] = {"st_panel"}
 ti["? "] = {"st_brake"}
@@ -76,16 +76,16 @@
 ti["F "] = {"st_stoneimpulse"}
 ti[" 2"] = {"fl_ivory"}
 ti["s "] = {"it_sword"}
-ti[" 3"] = {"fl-leavesc4"}
+ti[" 3"] = {"fl_lawn_c4"}
 ti["i "] = {"it-coffee"}
 ti["G "] = {"st_actorimpulse_invisible"}
 ti["y "] = {"it_cherry"}
-ti[" 4"] = {"fl-leavesc1"}
+ti[" 4"] = {"fl_lawn_c1"}
 ti["H "] = {"st-marble"}
-ti[" 5"] = {"fl-leavese2"}
+ti[" 5"] = {"fl_lawn_e2"}
 ti["I "] = {"st_swap"}
 ti["z "] = {"it-flagwhite"}
-ti[" 6"] = {"fl-leaves"}
+ti[" 6"] = {"fl_lawn"}
 ti["J "] = {"st_passage_white_cross"}
 ti["K "] = {"st_fake_oxydd"}
 ti["j "] = {"it_crack_l"}
@@ -108,7 +108,7 @@
 ti["X "] = {"st_oneway_black_n"}
 ti["o "] = {"it_squashed"}
 ti["Y "] = {"st_oneway_black_w"}
-ti[" :"] = {"fl-leavesd1"}
+ti[" :"] = {"fl_lawn_d1"}
 ti["Z "] = {"st_lightpassenger_off"}
 ti["^ "] = {"st_brake"}
 ti["~m"] =  ti[" :"] ..{"st-glass_move"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:32$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:33$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -22,7 +22,7 @@
 ti["! "] = {"st-block"}
 ti[" #"] = {"fl-acblack"}
 ti["# "] = {"st_death"}
-ti[" $"] = {"fl-normal"}
+ti[" $"] = {"fl_metal_7"}
 ti[" %"] = {"fl_bluegray"}
 ti["% "] = {"st_boulder_w"}
 ti["& "] = {"st_quake"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 38 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" !"] = {"fl-normal"}
+ti[" !"] = {"fl_metal_7"}
 ti["! "] = {"st-yellow"}
 ti["# "] = {"st_death"}
 ti[" #"] = {"fl_blueslab"}
@@ -29,7 +29,7 @@
 ti[" '"] = {"fl_sahara"}
 ti[" ("] = {"fl_bluegray"}
 ti["& "] = {"st_oxyd_d"}
-ti[" )"] = {"fl-leavesc1"}
+ti[" )"] = {"fl_lawn_c1"}
 ti[" *"] = {"fl-gradient9"}
 ti[" +"] = {"fl_himalaya"}
 ti[" ,"] = {"fl-gradient10"}
@@ -141,16 +141,16 @@
 
 if wo ["IsDifficult"] then
     ti["l9"] = ti[" &"]..{"fl_water"}
-    ti["a3"] = ti[" !"]..{"fl-normal"}
-    ti["a4"] = ti[" !"]..{"fl-normal"}
-    ti["a5"] = ti[" !"]..{"fl-normal"}
+    ti["a3"] = ti[" !"]..{"fl_metal_7"}
+    ti["a4"] = ti[" !"]..{"fl_metal_7"}
+    ti["a5"] = ti[" !"]..{"fl_metal_7"}
     ti["a6"] = ti[" !"]..{"it_death"}
 else
     ti["l9"] = ti[" &"]..{"fl_ice"}
     ti["a3"] = ti[" !"]..{"it-flagblack"}
     ti["a4"] = ti[" !"]..{"it_extralife"}
     ti["a5"] = ti[" !"]..{"it-pin"}
-    ti["a6"] = ti[" !"]..{"fl-normal"}
+    ti["a6"] = ti[" !"]..{"fl_metal_7"}
 end
 local resolver = res.composer(ti)
 

Modified: trunk/data/levels/enigma_vii/pulley02_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Action Potential" el:subtitle="" el:id="pulley02"/>
-      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="5" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 -- For more information about action potentials, see:
 -- http://en.wikipedia.org/wiki/Action_potential
 -- http://de.wikipedia.org/wiki/Aktionspotential
-ti[" "] = {"fl-abyss_fake"}
+ti[" "] = {"fl_fake_abyss"}
 ti["?"] = {"fl_sand"}
 ti["."] = ti[" "] .. {"st_stoneimpulse_hollow"}
 ti[","] = ti[" "] .. {"st_stoneimpulse"}
@@ -180,7 +180,7 @@
 
 SynapseOn = {"fl_redslab"}
 if wo ["IsDifficult"] then
-  SynapseOff = {"fl-abyss_fake"}
+  SynapseOff = {"fl_fake_abyss"}
 else
   SynapseOff = {"fl_blueslab"}
 end

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 ti["c"] = ti[" "] .. {"st-marble"} -- MARBLE WALL
 ti["d"] = ti[" "] .. {"st_actorimpulse"}
 ti["e"] = ti[" "] .. {"st-marble_hole"} -- MARBLE WALL (HOLLOW)
-ti["f"] = {"fl-abyss_fake"} -- TOMB FLOOR
+ti["f"] = {"fl_fake_abyss"} -- TOMB FLOOR
 ti["h"] = ti[" "] .. {"it_trigger", action="callback", target="Band1"} -- attaches rubber band from Lone Ranger to Silver
 ti["i"] = ti[" "] .. {"st-invisible"}
 ti["j"] = ti[" "] .. {"it_glasses", state=SPOT_HOLLOW + SPOT_DEATH + SPOT_ACTORIMPULSE} .. ti({"st-marble_hole"})

Modified: trunk/data/levels/enigma_vii/pulley05_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Re-entry Circuit" el:subtitle="" el:id="pulley05"/>
-      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="5" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -12,7 +12,7 @@
       <el:score el:easy="-" el:difficult="2:35"/>
     </el:info>
     <el:luamain><![CDATA[
-ti[" "] = {"fl-bumps"}
+ti[" "] = {"fl_pinkbumps"}
 ti["O"] = ti[" "] .. {"st_stoneimpulse"}
 ti["b"] = ti[" "] .. {"st-bumps"}
 ti["l"] = ti[" "] .. {"st_stoneimpulse_new", orientation = SOUTH, hollow = true}

Modified: trunk/data/levels/enigma_vii/pulley06_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley06_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/pulley06_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puppet" el:subtitle="" el:id="pulley06"/>
-      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,16 +17,15 @@
     ti["^"]= {"fl-gradient13"} -- Up
     ti["f"]= {"ac_horse", name="footL"} .. ti({"fl-gradient13"})
 else
-    ti[" "]= {"fl-normal"}
-    ti["^"]= {"fl-normal"}
-    ti["f"]= {"ac_horse", name="footL"} .. ti({"fl-normal"})
+    ti[" "]= {"fl_metal_7"}
+    ti["^"]= {"fl_metal_7"}
+    ti["f"]= {"ac_horse", name="footL"} .. ti({"fl_metal_7"})
 end
 ti["b"] = {"fl_bluegreen"}
 ti["g"] = {"st-grate3"}
 ti["0"] = {"st_oxyd_b"}
 ti["Y"] = {"st-glass", name="support1"}
 ti["Z"] = {"st-glass", name="support2"}
---ti["z"] = {"st-glass1_move"}
 ti["O"] = {"#ac_horse", name="head"}
 ti["S"] = {"#ac_horse", name="shoulder"}
 ti["e"] = {"#ac_horse", name="elbowL"}

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,10 +28,10 @@
 ti["8"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow8"} -- Seymour swallowed by Audrey II
 ti["9"] = ti[" "] .. {"st_door", name="Door1", flavor="a"} -- Mushnik's door
 ti["0"] = ti[" "] .. {"st_door", name="Door2", flavor="a"} -- Audrey's door
-ti["!"] = (ti({"fl-white"}) .. {"st-rock3_hole"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
+ti["!"] = (ti({"fl_bright"}) .. {"st-rock3_hole"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
 ti["@"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_rubberband", anchor2="Mushnik", length=1,strength=10}
-ti["#"] = {"fl-leaves"} .. ti({"it_rubberband", anchor2="Audrey", length=1,strength=10})
-ti["-"] = {"fl-white"} .. ti({"it_key", code="1"}) -- Mushnik's key
+ti["#"] = {"fl_lawn"} .. ti({"it_rubberband", anchor2="Audrey", length=1,strength=10})
+ti["-"] = {"fl_bright"} .. ti({"it_key", code="1"}) -- Mushnik's key
 ti["_"] = {"fl_plank"} .. ti({"it_key", code="2"}) -- Audrey's key
 ti["("] = ti[" "] .. {"st_key", code="1", action="toggle", target="Door1"} -- Mushnik's lock
 ti[")"] = ti[" "] .. {"st_key", code="2", action="toggle", target="Door2"} -- Audrey's lock
@@ -41,18 +41,18 @@
 ti[","] = {"fl_plank"} .. ti({"st_turnstilearm_s"})
 ti["."] = ti[" "] .. {"st_turnstile_green"}
 ti["?"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_seed"}
-ti["/"] = {"st_turnstilearm_n"} .. ti({"fl-white"})
-ti["+"] = {"st_turnstilearm_n"} .. ti({"fl-leaves"})
+ti["/"] = {"st_turnstilearm_n"} .. ti({"fl_bright"})
+ti["+"] = {"st_turnstilearm_n"} .. ti({"fl_lawn"})
 ti["a"] = ti[" "] .. {"st-camouflage"}
-ti["b"] = {"fl-white"} .. ti({"it-booze"})
-ti["c"] = {"fl-leaves"} .. ti({"st_nil"}) .. ti({"it_nil"})
+ti["b"] = {"fl_bright"} .. ti({"it-booze"})
+ti["c"] = {"fl_lawn"} .. ti({"st_nil"}) .. ti({"it_nil"})
 ti["d"] = ti[" "] .. {"st-redrock"} --Walls
 ti["e"] = {"fl-gradient16"} .. ti({"st_nil"})
-ti["f"] = {"fl-leaves"} --Audrey's floor
+ti["f"] = {"fl_lawn"} --Audrey's floor
 ti["g"] = ti[" "] .. {"st-grate1"}
-ti["h"] = (ti({"fl-white"}) .. {"it_hammer"}) .. {"st-rock3_hole"}
+ti["h"] = (ti({"fl_bright"}) .. {"it_hammer"}) .. {"st-rock3_hole"}
 ti["i"] = {"fl_mortar"} .. ti({"st-beads"}) --Window
-ti["j"] = {"fl-white"} --Orin's floor
+ti["j"] = {"fl_bright"} --Orin's floor
 ti["k"] = ti[" "] .. {"st-marble"} --Audrey's Walls
 ti["m"] = {"fl_plank"} .. ti({"it_coin_l"})
 ti["n"] = {"fl-gradient13"} .. ti({"st-grate1"})
@@ -65,10 +65,10 @@
 ti["x"] = ti[" "] .. {"st_scissors"}
 ti["y"] = {"fl_woven"}
 ti["z"] = {"fl_plank"}
-ti["A"] = {"fl-leaves"} .. ti({"it_banana"})
+ti["A"] = {"fl_lawn"} .. ti({"it_banana"})
 ti["B"] = {"fl_plank"} .. ti({"it-blackbomb"})
-ti["D"] = {"fl-white"} .. ti({"st_death"})
-ti["E"] = {"fl-leaves"} .. ti({"it_cherry"})
+ti["D"] = {"fl_bright"} .. ti({"st_death"})
+ti["E"] = {"fl_lawn"} .. ti({"it_cherry"})
 ti["F"] = {"fl_plank"} .. ti({"it_seed"})
 ti["G"] = {"fl_plank"} .. ti({"st-glass1_hole"})
 ti["H"] = {"fl_brick"} .. ti({"it_meditation_hollow"})
@@ -79,7 +79,7 @@
 ti["Y"] = ti[" "] .. {"st-grate3"}
 ti["M"] = ti["Y"] .. {"#ac_horse", strength=3, name="horse", destination={"d1","d2","d3","d4"}} -- Chiffon, Crystal, Ronnette
 ti["O"] = ti[" "] .. {"st_panel", cluster=1}
-ti["P"] = {"fl-white"} .. ti({"st-plain_break"})
+ti["P"] = {"fl_bright"} .. ti({"st-plain_break"})
 ti["Q"] = ti[" "] .. {"st-rock3_hole"}
 ti["R"] = ti[" "] .. {"st-rock3"}
 ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}

Modified: trunk/data/levels/enigma_viii/andreas47_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Show Jumper" el:subtitle="" el:id="andreas47"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,9 +20,9 @@
 wo["ConserveLevel"] = false
 wo["ShowMoves"] = true
 
-ti[" "] = {"fl-leavesb"}
+ti[" "] = {"fl_lawn_b"}
 ti["_"] = ti[" "]
-ti["&"] = {"fl-leaves"}
+ti["&"] = {"fl_lawn"}
 ti["+"] = ti["&"] --.. {"st-yellow"}
 ti["*"] = ti["&"]
 ti["%"] = ti["+"]

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="10" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,11 +34,11 @@
   {{"fl_samba",     "fl_water", "st-bluegray",   "st-bluegray_hole",   OXYD_CYAN},
    {"fl_rock",      "fl_abyss", "st-camouflage", "st-camouflage_hole", OXYD_GREEN},
    {"fl_sahara",    "fl_abyss", "st-greenbrown", "st-greenbrown_hole", OXYD_YELLOW},
-   {"fl-black",     "fl_water", "st-marble",     "st-marble_hole",     OXYD_PURPLE},
+   {"fl_dark",     "fl_water", "st-marble",     "st-marble_hole",     OXYD_PURPLE},
    {"fl_bluegreen", "fl_abyss", "st-metal",      "st-metal_hole",      OXYD_BLUE},
    {"fl_brick",     "fl_water", "st-rock1",      "st-rock1_hole",      OXYD_RED},
    {"fl_gravel",    "fl_abyss", "st-rock2",      "st-rock2_hole",      OXYD_BLACK},
-   {"fl-metal",     "fl_water", "st-rock3",      "st-rock3_hole",      OXYD_WHITE}}
+   {"fl_metal",     "fl_water", "st-rock3",      "st-rock3_hole",      OXYD_WHITE}}
 
 vortex_goals = {}
 maze_maps = {}

Modified: trunk/data/levels/enigma_viii/andreas49_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Wired" el:subtitle="" el:id="andreas49"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_sahara", friction = 3.5, mouseforce = 4.0}
 ti["a"] = {"fl_ivory", friction = 3.5, mouseforce = 4.0}
-ti["b"] = {"fl-white", friction = 3.5, mouseforce = 4.0}
+ti["b"] = {"fl_bright", friction = 3.5, mouseforce = 4.0}
 ti["c"] = {"fl_platinum", friction = 3.5, mouseforce = 4.0}
 ti["_"] = {"fl_water"}
 ti["@"] = {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_viii/andreas50_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Oxyds" el:subtitle="" el:id="andreas50"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,13 +23,12 @@
 ti["U "] = {"st_oneway", orientation = NORTH}
 ti["S "] = {"st_oxyd", oxydcolor = OXYD_BOLD, noshuffle = true}
 ti["F "] = {"st_oxyd", oxydcolor = OXYD_QUAKE, noshuffle = true}
-
 ti["d1"] = {"fl_red"}       .. ti({"it_blocker", "RED#"})
 ti["d2"] = {"fl_bluegray"}  .. ti({"it_blocker", "CYAN#"})
 ti["d3"] = {"fl_bluegreen"} .. ti({"it_blocker", "BLUE#"})
-ti["d4"] = {"fl-leavesb"}   .. ti({"it_blocker", "GREEN#"})
-ti["d5"] = {"fl-black"}     .. ti({"it_blocker", "BLACK#"})
-ti["d6"] = {"fl-white"}     .. ti({"it_blocker", "WHITE#"})
+ti["d4"] = {"fl_lawn_b"}   .. ti({"it_blocker", "GREEN#"})
+ti["d5"] = {"fl_dark"}     .. ti({"it_blocker", "BLACK#"})
+ti["d6"] = {"fl_bright"}     .. ti({"it_blocker", "WHITE#"})
 ti["d7"] = {"fl_sahara"}    .. ti({"it_blocker", "YELLOW#"})
 ti["d8"] = {"fl_redslab"} .. ti({"it_blocker", "PURPLE#"})
 

Modified: trunk/data/levels/enigma_viii/andreas51_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Turnstiles" el:subtitle="" el:id="andreas51"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -13,7 +13,6 @@
       <el:score el:easy="-" el:difficult="2:07"/>
     </el:info>
     <el:luamain><![CDATA[
-
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
@@ -28,7 +27,7 @@
 ti["G"] = {"st_turnstile", action = {"close", "open"}, target = {"red#*", "green#*"},
                            flavor = "green"}
 ti["r"] = {"it_blocker", "red#"} .. ti({"fl_red"})
-ti["g"] = {"it_blocker", "green#"} .. ti({"fl-leaves"})
+ti["g"] = {"it_blocker", "green#"} .. ti({"fl_lawn"})
 
 ti["O"] = {"st_oxyd", flavor = "d", oxydcolor = OXYD_GREEN}
 ti["o"] = {"st_oxyd", flavor = "d", oxydcolor = OXYD_RED}

Modified: trunk/data/levels/enigma_viii/andreas53_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas53_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/andreas53_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Vanity's Constrictions" el:subtitle="The Hand Mirror Cabinet" el:id="andreas53"/>
-      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
 wo["ConserveLevel"] = true
 
 ti["  "] = {"fl_bluegray", checkerboard = 0, friction = 6.0, adhesion = 2.0}
-           .. ti({"fl-darkgray", checkerboard = 1, friction = 6.0, adhesion = 2.0})
+           .. ti({"fl_darkgray", checkerboard = 1, friction = 6.0, adhesion = 2.0})
 ti["# "] = {"st-glass2"}
 ti["@ "] = {"#ac_marble_black"}
 ti["O "] = {"st_oxyd", oxydcolor = OXYD_PURPLE, flavor = "a"}

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="20" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="21" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 end
 
 ti[" "] = {"fl_abyss"}
-ti["."] = {"fl-black"}
+ti["."] = {"fl_dark"}
 ti["#"] = {"st-rock1"}
 ti["W"] = {"st_box_wood_v"}
 ti["w"] = ti["."] .. ti["W"]
@@ -57,7 +57,7 @@
 ti["8"] = {"fl_bridge_bw", name = "bridge02#", state = CLOSED}
 ti["7"] = {"fl_bridge_bw", state = CLOSED}
 ti["5"] = {"fl_bridge_bw", name = "bridge00#"}
-ti["J"] = {"fl-abyss_fake"}
+ti["J"] = {"fl_fake_abyss"}
 ti[">"] = {"it_pipe_ne"}
 ti["<"] = {"it_pipe_nw"}
 ti["_"] = {"it_pipe_ew"}

Modified: trunk/data/levels/enigma_viii/devnull04_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="devnull04"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,7 +22,7 @@
 end
 
 ti[" "] = {"fl_abyss"}
-ti["."] = {"fl-gray"}
+ti["."] = {"fl_gray"}
 ti["d"] = {"fl-gradient1"}
 ti["u"] = {"fl-gradient2"}
 ti["r"] = {"fl-gradient3"}

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="16" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="17" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti["  "] = {"fl_water"}
 ti[" c"] = {"fl_concrete"}
 ti[" h"] = {"fl_hay"}
-ti[" l"] = {"fl-leaves"}
+ti[" l"] = {"fl_lawn"}
 ti[" r"] = {"fl_rock"}
 ti[" s"] = {"fl_sand"}
 ti[" v"] = {"fl_gravel", friction = sFactor}

Modified: trunk/data/levels/enigma_viii/devnull09_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull09_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull09_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Under control?" el:subtitle="" el:id="devnull09"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
     end
 end
 
-ti["."] = {"fl-black"}
+ti["."] = {"fl_dark"}
 ti[" "] = ti["."] .. {"it_sensor", invisible = true}
 ti["w"] = ti["."] .. {"it_wrench"}
 ti["O"] = ti[" "] .. {"st_oxyd", name = "left#"}

Modified: trunk/data/levels/enigma_viii/devnull12_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull12_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull12_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:id="devnull12"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -29,7 +29,7 @@
 end
 
 -- tiles
-ti["."] = {"fl-black"}
+ti["."] = {"fl_dark"}
 ti[" "] = ti["."] .. {"it_sensor", invisible = true}
 ti[":"] = ti["."] .. {"it_sensor", invisible = true, action = "callback", target = "np"}
 

Modified: trunk/data/levels/enigma_viii/devnull15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="On belay?" el:subtitle="" el:id="devnull15"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
     ti["O"] = ti[" "]
     ti["@"] = ti["."] .. {"#ac_marble_black", player = 0}
 else
-    ti["."] = {"fl-black"}
+    ti["."] = {"fl_dark"}
     ti["a"] = ti["."] .. {"it-pin"}
     ti["A"] = ti["."] .. {"st_swap", name = "anchR01"}
     ti["H"] = ti[" "] .. {"st_pull"}

Modified: trunk/data/levels/enigma_viii/devnull16_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hang-dogging?" el:subtitle="" el:id="devnull16"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,7 +34,7 @@
     ti["g"] = ti[" "] .. {"st-grate1"}
     ti["@"] = ti[":"] .. {"#ac_marble_black", player = 0}
 else
-    ti[":"] = {"fl-black"}
+    ti[":"] = {"fl_dark"}
     ti["X"] = ti["."]
     ti["Y"] = ti[":"] .. {"st-grate1"}
     ti["!"] = ti[":"] .. {"it-pin"}

Modified: trunk/data/levels/enigma_viii/duffy180_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="See Saw Meditation" el:subtitle="" el:id="duffy180"/>
-      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = false
 
-ti[" "] = {"fl-leaves"}
+ti[" "] = {"fl_lawn"}
 ti["~"] = {"fl_water"}
 ti["#"] = {"st-rock5"}
 ti["g"] = {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -1,70 +1,70 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="27" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="38" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="25" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="72" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="7" score="3" target="time" unit="duration"/>
+    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="127" score="1" target="time" unit="duration"/>
+    <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="138" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="139" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="16" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="Squared Microwire" _xpath="./ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="Squared Microwire" _xpath="./ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
   </levels>
 

Modified: trunk/data/levels/enigma_viii/johann03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Cross Mail" el:subtitle="The level goes on" el:id="johann03"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="Johann Freymuth" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Johann Freymuth</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-white"}
+ti[" "] = {"fl_bright"}
 ti["x"] = {"it_cross"}
 ti["|"] = {"it_pipe_ns"}
 ti["9"] = {"it_pipe_ne"}

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 28 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 29 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti["R"] = {"#ac_rotor", range=1, strength=1}
-ti["  "] = {"fl-normal"}
+ti["  "] = {"fl_metal_7"}
 ti[" r"] = {"fl_red"}
 ti[" h"] = {"fl_himalaya"}
 ti[" '"] = {"fl_sahara"}

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti["F "] = {"st_quake"}
 ti["D "] = ti[" ~"] .. {"st-grate1"}
 ti["E "] = ti[" ~"] .. {"st-glass_move"}
-ti["  "] = {"fl-normal"}
+ti["  "] = {"fl_metal_7"}
 ti[" ."] = {"fl_abyss"}
 ti["# "] = {"st-redrock"}
 ti[" l"] = {"fl_sahara"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:33$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:34$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,16 +43,16 @@
 
 ti["9 "] = {"fl_aquamarine"}
 ti[" -"] = {"fl_ice"}
-ti["1 "] = {"fl-leavesd1"}
-ti["15"] = {"fl-leavesd1","sword1"}
-ti["2 "] = {"fl-leavesd2"}
-ti["25"] = {"fl-leavesd2","sword2"}
-ti["3 "] = {"fl-leavesd3"}
-ti["35"] = {"fl-leavesd3","sword3"}
+ti["1 "] = {"fl_lawn_d1"}
+ti["15"] = {"fl_lawn_d1","sword1"}
+ti["2 "] = {"fl_lawn_d2"}
+ti["25"] = {"fl_lawn_d2","sword2"}
+ti["3 "] = {"fl_lawn_d3"}
+ti["35"] = {"fl_lawn_d3","sword3"}
 ti["3/"] = ti["3 "] ..{"st_box_wood","woody1"}
 ti["1/"] = ti["1 "] ..{"st_box_wood","woody2"}
-ti["4 "] = {"fl-leavesd4"}
-ti["45"] = {"fl-leavesd4","sword4"}
+ti["4 "] = {"fl_lawn_d4"}
+ti["45"] = {"fl_lawn_d4","sword4"}
 ti["z "] = {"it_cherry"}
 ti["Z "] = {"fl_abyss"}
 ti["- "] = {"fl_space"}

Modified: trunk/data/levels/enigma_viii/mecke06_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke06_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke06_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Techno Voodoo" el:subtitle="Just a Dance ?" el:id="mecke06" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:16$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:17$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -20,7 +20,7 @@
 ti["2!"] = {"fl_red", name="2!"}
 ti["3!"] = {"fl_red", name="3!"}
 ti["4!"] = {"fl_red", name="4!"}
-ti[" f"] = {"fl-abyss_fake"}
+ti[" f"] = {"fl_fake_abyss"}
 ti["! "] = {"st_lightpassenger"}
 ti[" d"] = ti[" f"] .. {"it_death"}
 ti["B "] = ti[" d"] .. {"st_polarswitch"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 24 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 25 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -22,7 +22,7 @@
 ti[" +"] = {"fl_woven"}
 ti[" !"] = {"fl_brick"}
 ti["! "] = {"st_death"}
-ti[" #"] = {"fl-normal"}
+ti[" #"] = {"fl_metal_7"}
 ti["# "] = {"st-rock3"}
 ti[" $"] = {"fl_abyss"}
 ti[" %"] = {"fl_ivory"}
@@ -134,7 +134,7 @@
     ti["ww"] = ti[" -"]..{"fl_aquamarine"}
 else
     ti["wd"] = ti[" &"]..{"fl_water"}
-    ti["bd"] = ti[" #"]..{"fl-normal"}
+    ti["bd"] = ti[" #"]..{"fl_metal_7"}
     ti["wu"] = ti[" )"]..{"it_umbrella"}
     ti["ww"] = ti[" -"]..{"it_extralife"}
 end

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-abyss_fake"}
+ti[" "] = {"fl_fake_abyss"}
 ti["r"] = {"fl_red"}
 ti["z"] = {"fl_sahara"}
 ti["a"] = {"fl_abyss"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 27 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 28 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 wo["ConserveLevel"] = true
 
 if wo ["IsDifficult"] then
-    ti["  "] = {"fl-abyss_fake"}
+    ti["  "] = {"fl_fake_abyss"}
     ti[" v"] = {"fl_ice"}
     ti[" '"] = {"fl_rough"}
     ti["+ "] = ti[" '"] ..{"ac_rotor", 0.5, 0.5,}
@@ -43,7 +43,7 @@
 ti["r "] = {"st-brownie"}
 ti["U1"] = {"st_passage_black_frame"}
 ti["U2"] = ti["U1"] .. {"it_extralife"}
-ti[" i"] = ti["U1"] .. {"fl-inverse"}
+ti[" i"] = ti["U1"] .. {"fl_inverse"}
 ti[" w"] = ti["U1"] .. {"fl_water"}
 ti[" e"] = ti[" i"] .. {"it_hammer"}
 ti["u "] = ti[" _"] .. {"st-grate2"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,11 +22,11 @@
 ti[" ~"] = {"fl_water"}
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
-ti[" i"] = {"fl-inverse"}
+ti[" i"] = {"fl_inverse"}
 ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl_rough"}
 ti[" '"] = {"fl_gravel"}
-ti[" ,"] = {"fl-white"}
+ti[" ,"] = {"fl_bright"}
 ti[" +"] = {"fl_sahara"}
 ti["yi"] = ti[" +"] .. {"it-yinyang"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:8$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:9$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -20,7 +20,7 @@
 ti[" &"] = {"fl_red"}
 ti[" !"] = {"fl_water"}
 ti["! "] = {"st-rock6"}
-ti[" #"] = {"fl-normal"}
+ti[" #"] = {"fl_metal_7"}
 ti[" $"] = {"fl_sahara"}
 ti["# "] = {"st_chess_white"}
 ti["s "] = {"it_squashed"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 27 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 28 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
 ti[" !"] = {"fl_abyss"}
 ti["! "] = {"st_puzzle", connections="nesw"}
 ti["# "] = {"st_death"}
-ti[" #"] = {"fl-normal"}
+ti[" #"] = {"fl_metal_7"}
 ti["$ "] = {"st_oxyd_b"}
 ti[" $"] = {"fl_space"}
 ti["% "] = {"st-glass"}
@@ -60,7 +60,7 @@
 ti["= "] = {"st_puzzle", connections="ne"}
 ti["~~"] = ti[" )"]..{"it-springboard"}
 ti["> "] = {"st_puzzle", connections="ew"}
-ti[" *"] = {"fl-abyss_fake"}
+ti[" *"] = {"fl_fake_abyss"}
 ti["tt"] = ti[" )"]..{"it_trigger", target="laserhi"}
 ti[" +"] = {"fl_water"}
 ti["? "] = {"st_puzzle", connections="sw"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 38 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -24,7 +24,7 @@
 end
 
 ti["! "] = {"st-bumps"}
-ti[" #"] = {"fl-normal"}
+ti[" #"] = {"fl_metal_7"}
 ti["# "] = {"st_oneway_black_s"}
 ti["$ "] = {"st-grate1"}
 ti["% "] = {"st_oneway_black_n"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:72$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:73$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,12 +26,12 @@
 ti[" !"] = {"fl_swamp"}
 ti["! "] = {"st_death"}
 ti["c "] = {"st-block"}
-ti[" #"] = {"fl-normal"}
+ti[" #"] = {"fl_metal_7"}
 ti[" $"] = {"fl_water"}
 ti["# "] = {"st_oneway_black_n"}
 ti["$ "] = {"st_stoneimpulse_steady"}
 ti[" %"] = {"fl_aquamarine"}
-ti[" ;"] = {"fl-leavesd4"}
+ti[" ;"] = {"fl_lawn_d4"}
 ti["% "] = {"st-rock1"}
 ti[" &"] = {"fl_samba"}
 ti["& "] = {"st_stoneimpulse_hollow"}
@@ -39,7 +39,7 @@
 ti["' "] = {"st-rock1_hole"}
 ti[" e"] = {"fl_space"}
 ti[" *"] = {"fl_sand"}
-ti[" l"] = {"fl-leaves"}
+ti[" l"] = {"fl_lawn"}
 ti["b "] = {"st_puzzle_yellow_ns"}
 ti["n "] = {"st_puzzle_yellow_ne"}
 ti["* "] = {"st_puzzle_yellow_new"}
@@ -76,7 +76,7 @@
 ti["f "] = {"st-camouflage_move"}
 ti["G "] = {"st_boulder_s"}
 ti["BN"] = ti[" ;"].. {"st_boulder_n"}
-ti[" /"] = {"fl-inverse"}
+ti[" /"] = {"fl_inverse"}
 ti["H "] = {"st_door",state=OPEN,faces="ew"}
 ti["XX"] = ti[" ;"].. {"#ac_marble_black"}
 ti["I "] = {"st_fake_oxyda"}
@@ -93,8 +93,8 @@
 ti[" 7"] = {"fl-gradient12"}
 ti["O "] = {"st_oneway_s"}
 ti[" 8"] = {"fl_bluegreen"}
-ti[" 9"] = {"fl-leavesc2"}
-ti["c9"] = ti["c "] .. {"fl-leavesc2"}
+ti[" 9"] = {"fl_lawn_c2"}
+ti["c9"] = ti["c "] .. {"fl_lawn_c2"}
 ti["q9"] = ti["c9"] .. {"it-booze"}
 ti["P "] = ti[" l"] .. {"st_mirror_slab",movable=true,transparent=false}
 ti["Q "] = ti[" l"] .. {"st_mirror_triangle",movable=true,transparent=true}
@@ -102,7 +102,7 @@
 ti["S "] = ti[" l"] .. {"st_mirror_slab",movable=true,transparent=false}
 ti["U "] = {"st-rock6"}
 ti[" >"] = {"fl_gravel"}
-ti[" ?"] = {"fl-abyss_fake"}
+ti[" ?"] = {"fl_fake_abyss"}
 ti["W "] = {"st-break_invisible"}
 ti["X "] = {"st_window_s"}
 ti["Y "] = {"st_floppy",target="door4#*"}
@@ -236,10 +236,10 @@
    ti["ww"] = {"fl_swamp"}
    ti["))"] = ti[" l"] .. {"it-burnable_oil"}
    ti[")$"] = ti[" $"] .. {"fl_water"}
-   ti[" 4"] = {"fl-leavesd4"}
-   ti[" :"] = {"fl-leavesd4"}
-   ti[" <"] = {"fl-leavesd4"}
-   ti[" ="] = {"fl-leavesd4"}
+   ti[" 4"] = {"fl_lawn_d4"}
+   ti[" :"] = {"fl_lawn_d4"}
+   ti[" <"] = {"fl_lawn_d4"}
+   ti[" ="] = {"fl_lawn_d4"}
    ti["r5"] = ti[" ;"] .. {"it_trigger", target={"olle5","liz1#*"}}
    ti["h5"] = ti[" ,"] .. {"fl_bridge",name="olle5"}
    ti["LL"] = ti[" +"] .. {"st_laser_n",name="liz1#",state=OFF}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 24 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti[" *"] = {"fl_himalaya"}
 ti[" +"] = {"fl_sahara"}
 ti[" '"] = {"fl_tigris"}
-ti[" ."] = {"fl-metal"}
+ti[" ."] = {"fl_metal"}
 ti[" /"] = {"fl_woven"}
 ti[" O"] = {"fl_abyss"}
 ti[" 1"] = {"fl_red"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 7 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -54,8 +54,8 @@
 ti["U1"] = {"st_passage_white_frame"}
 ti["U2"] = {"st_passage_black_frame"}
 ti["U5"] = {"st-yinyang1"}
-ti[" i"] = ti["U1"] .. {"fl-inverse"}
-ti["ii"] = ti["U2"] .. {"fl-inverse"}
+ti[" i"] = ti["U1"] .. {"fl_inverse"}
+ti["ii"] = ti["U2"] .. {"fl_inverse"}
 ti[" w"] = ti["U1"] .. {"fl_water"}
 ti[" e"] = ti[" i"] .. {"it_hammer"}
 ti["u "] = ti[" _"] .. {"st-grate2"}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,14 +17,14 @@
 ti[" !"] = {"fl_rock"}
 ti[" r"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
-ti[" n"] = {"fl-normal"}
+ti[" n"] = {"fl_metal_7"}
 ti[" w"] = {"fl-acwhite"}
 ti[" *"] = {"fl-acblack"}
-ti[" i"] = {"fl-inverse"}
+ti[" i"] = {"fl_inverse"}
 ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl_rough"}
 ti[" '"] = {"fl_gravel"}
-ti[" ,"] = {"fl-white"}
+ti[" ,"] = {"fl_bright"}
 ti[" ="] = {"fl_swamp"}
 ti[" +"] = {"fl_sahara"}
 ti[" x"] = {"fl-gradient3"}

Modified: trunk/data/levels/enigma_viii/pulley16_3.xml
===================================================================
--- trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Color Maze" el:subtitle="" el:id="pulley16"/>
-      <el:version el:score="3" el:release="3" el:revision="7" el:status="released"/>
+      <el:version el:score="3" el:release="3" el:revision="8" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,12 +19,12 @@
 wo["FollowGrid"] = false
 wo["FollowMethod"] = FOLLOW_SCROLL
 
-ti[" "] = {"fl-abyss_fake"} .. ti({"st-glass1"})
+ti[" "] = {"fl_fake_abyss"} .. ti({"st-glass1"})
 
 ti["!"] = {"fl_blueslab", "blue#", _color="blue"}
-ti["@"] = {"fl-bumps", "orange#", _color="orange"}
+ti["@"] = {"fl_pinkbumps", "orange#", _color="orange"}
 ti["#"] = {"fl_redslab", "red#", _color="red"}
-ti["$"] = {"fl-leavesb", "green#", _color="green"}
+ti["$"] = {"fl_lawn_b", "green#", _color="green"}
 
 ti["b"] = ti["!"] .. {"st_door", flavor="d", faces="ns", state=OPEN}
 ti["B"] = ti["!"] .. {"st_door", flavor="d", faces="ew", state=OPEN}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 138 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 139 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti["~~"] = {"fl_water"}
 ti["~e"] = {"fl_water", "escape_close#"}
 ti["__"] = {"fl_abyss"}
-ti["_f"] = {"fl-abyss_fake"}
+ti["_f"] = {"fl_fake_abyss"}
 ti[",,"] = {"fl_concrete"}
 ti[",e"] = {"fl_concrete", "escape_pos"}
 ti[",f"] = {"fl_concrete", "escape_close#"}
@@ -66,7 +66,7 @@
 ti["ga"] = {"fl-gradient", type=10}
 ti["gb"] = {"fl-gradient", type=11}
 ti["gc"] = {"fl-gradient", type=12}
-ti["^^"] = {"fl-gray"}
+ti["^^"] = {"fl_gray"}
 ti["%f"] = {"fl_samba", eternal=true, initfire=true}
 ti[" f"] = {"fl_sand", eternal=true, initfire=true}
 ti["FT"] = {"fl_sand", eternal=true, initfire=true, name="fire_target"}

Modified: trunk/data/levels/enigma_viii/ral24_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral24_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/ral24_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Push Wires" el:subtitle="" el:id="20080708ral196"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-black", friction=5.5, adhesion=1.7}
+ti[" "] = {"fl_dark", friction=5.5, adhesion=1.7}
 ti["~"] = {"fl_abyss"}
 ti["x"] = {"st_oxyd", flavor="d"}
 ti["#"] = {"st-glass3"} .. ti["~"]

Modified: trunk/data/levels/enigma_viii/ral30_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Scarlet's Necklace" el:subtitle="Who did broke the pearl necklace?" el:id="20080814ral422"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 127 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-black"}
+ti[" "] = {"fl_dark"}
 ti["="] = {"fl_bridge_bw", "bridge#"}
 ti["x"] = {"it_shogun_s", "x%%"}
 

Modified: trunk/data/levels/enigma_viii/ral39_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral39_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/ral39_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Squared Microwire" el:subtitle="" el:id="20081227ral230"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 130 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 131 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 
 ti[" "] = {"fl_water"}
 ti["."] = {"fl_swamp", friction=6.0, adhesion=2.0}
-ti["_"] = {"fl-black", friction=6.0, adhesion=2.0}
+ti["_"] = {"fl_dark", friction=6.0, adhesion=2.0}
 
 ti["o"] = {"st_oxyd_a"}
 

Modified: trunk/data/levels/enigma_viii/raoul31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="raoul31"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 end
 
 ti[" "] = {"fl_ivory"}
-ti["-"] = {"fl-black"}
+ti["-"] = {"fl_dark"}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st_panel", cluster = 1}
 ti["="] = {"st_panel", cluster = 2}

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-08 00:04:10 UTC (rev 1438)
+++ trunk/data/startup.lua	2009-01-08 02:16:13 UTC (rev 1439)
@@ -177,7 +177,7 @@
 def_floor("fl_bluegreen",    6.0,   2.0,    true,   "",         true)
 def_floor("fl_aquamarine",   0.4,   1.0,    true,   "",         true)
 def_floor("fl_brick",        3.5,   2.0,   false,   "",         true)
-def_floor("fl_bumps",        5.0,   1.2,   false,   "",         true)
+def_floor("fl_pinkbumps",    5.0,   1.2,   false,   "",         true)
 def_floor("fl_concrete",     4.5,   1.3,   false,   "",         true)
 def_floor("fl_dunes",        1.3,   1.0,   false,   "",         true)
 def_floor("fl_bast",         1.5,   2.5,    true,   "fl_abyss", true)



From raoul at mail.berlios.de  Thu Jan  8 16:31:27 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 8 Jan 2009 16:31:27 +0100
Subject: [Enigma-game-svn] r1440 - in trunk/data: . levels/enigma_iii
	levels/enigma_v levels/enigma_vii levels/enigma_viii
Message-ID: <200901081531.n08FVRVf007016@sheep.berlios.de>

Author: raoul
Date: 2009-01-08 16:31:26 +0100 (Thu, 08 Jan 2009)
New Revision: 1440

Modified:
   trunk/data/api1init.lua
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
Log:
-> Friction attributes for fl_metal_7
-> "fl_metal_7n" wasn't a typo ...



Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/api1init.lua	2009-01-08 15:31:26 UTC (rev 1440)
@@ -99,7 +99,7 @@
     fl_metal_5 = "fl-metal5",
     fl_metal_6 = "fl-metal6",
     fl_metal_7 = "fl-normal_x",
-    fl_metal_7 = "fl-normal",
+    fl_metal_7n = "fl-normal",
     fl_mortar = "fl-mortar",
     fl_pinkbumps = "fl-bumps",
     fl_plank = "fl-plank",

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -24,7 +24,6 @@
 ti["!   "]={"fl_water"}
 ti["#   "]={"fl_lawn"}
 ti["$   "]={"fl_abyss"}
-ti["%   "]={"fl_metal_7"}
 ti["&   "]={"fl-gradient12"}
 ti["'   "]={"fl-gradient4"}
 ti["(   "]={"fl-gradient11"}

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -18,7 +18,7 @@
     <el:luamain><![CDATA[
 -- Originally created with the help of BBE 1.05
 
-ti[" "]={"fl_metal_7"}
+ti[" "]={"fl_metal_7", friction=4.0}
 ti["!"]={"st-metal"}
 ti["$"]={"st_oxyd", flavor = "a"}
 ti["1"]={"st_laserswitch", target = "door1"}

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -19,7 +19,7 @@
 ti[" %"] = {"fl_water"}
 ti["! "] = {"st_death"}
 ti["# "] = {"st-rock1"}
-ti[" &"] = {"fl_metal_7"}
+ti[" &"] = {"fl_metal_7", friction=4.0}
 ti["$ "] = {"st-thief"}
 ti["% "] = {"st_passage_black_cross"}
 ti["& "] = {"st-stone_break"}
@@ -111,14 +111,14 @@
 ti[" :"] = {"fl_lawn_d1"}
 ti["Z "] = {"st_lightpassenger_off"}
 ti["^ "] = {"st_brake"}
-ti["~m"] =  ti[" :"] ..{"st-glass_move"}
-ti["=m"] =  ti[" ,"] ..{"st-glass_move"}
-ti["mm"] =  ti[" %"] ..{"st-glass"}
-ti["~g"] =  ti[" %"] ..{"st-grate1"}
-ti["h-"] =  ti["~g"] ..{"it_strip", connections="ew"}
-ti["nn"] =  ti[" 3"] ..{"st_actorimpulse_invisible"}
-ti["n-"] =  ti[" 5"] ..{"st_actorimpulse_invisible"}
-ti["ni"] = ti[" )"] ..{"it-coffee"}
+ti["~m"] = ti[" :"] .. {"st-glass_move"}
+ti["=m"] = ti[" ,"] .. {"st-glass_move"}
+ti["mm"] = ti[" %"] .. {"st-glass"}
+ti["~g"] = ti[" %"] .. {"st-grate1"}
+ti["h-"] = ti["~g"] .. {"it_strip", connections="ew"}
+ti["nn"] = ti[" 3"] .. {"st_actorimpulse_invisible"}
+ti["n-"] = ti[" 5"] .. {"st_actorimpulse_invisible"}
+ti["ni"] = ti[" )"] .. {"it-coffee"}
 ti["x "] = {"#ac_marble_black"}
 ti["r "] = {"#ac_top", range=1, strength=1}
 ti["p1"] = ti[" $"] .. {"it-document", text="text1"}
@@ -135,54 +135,53 @@
 ti["q5"] = ti[" ."] .. {"it-document", text="text12"}
 ti["q6"] = ti[" /"] .. {"it-document", text="text13"}
 ti["q7"] = ti[" :"] .. {"it-document", text="text14"}
-ti["k1"] = ti[" 4"]..{"it_key", code=1}
-ti["k2"] = ti[" !"]..{"it_key", code=2}
-ti["k3"] = ti["=m"]..{"it_coin_m"}
-ti["k4"] = ti["mm"]..{"it_coin_l"}
-ti["k5"] = ti["mm"]..{"it_sword"}
-ti["k6"] = ti["nn"]..{"it_cherry"}
-ti["k7"] = ti["n-"]..{"it_cherry"}
+ti["k1"] = ti[" 4"] .. {"it_key", code=1}
+ti["k2"] = ti[" !"] .. {"it_key", code=2}
+ti["k3"] = ti["=m"] .. {"it_coin_m"}
+ti["k4"] = ti["mm"] .. {"it_coin_l"}
+ti["k5"] = ti["mm"] .. {"it_sword"}
+ti["k6"] = ti["nn"] .. {"it_cherry"}
+ti["k7"] = ti["n-"] .. {"it_cherry"}
 ti["= "] = {"st_key",code=1, name= "oklli1", target= "lezy2", action="toggle"}
-ti["t1"] = ti[" %"] ..{"it_trigger", target="olli1",action="toggle"}
-ti["t2"] = ti[" 1"] ..{"it_trigger", target="olli2",action="toggle"}
-ti["t3"] = ti[" /"] ..{"it_trigger", target="olli3",action="toggle"}
-ti["t4"] = ti[" ,"] ..{"it_trigger", target="olli4",action="toggle"}
-ti["t5"] = ti[" %"] ..{"it_trigger", target="olli5",action="toggle"}
-ti["t6"] = ti[" %"] ..{"it_trigger", target="olli6",action="toggle"}
-ti["t7"] = ti[" %"] ..{"it_trigger", target="olli7",action="toggle"}
-ti["t8"] = ti[" !"] ..{"it_trigger", target="lezy1",action="toggle"}
-ti["t9"] = ti[" %"] ..{"it_trigger", target="olli9",action="toggle"}
+ti["t1"] = ti[" %"] .. {"it_trigger", target="olli1",action="toggle"}
+ti["t2"] = ti[" 1"] .. {"it_trigger", target="olli2",action="toggle"}
+ti["t3"] = ti[" /"] .. {"it_trigger", target="olli3",action="toggle"}
+ti["t4"] = ti[" ,"] .. {"it_trigger", target="olli4",action="toggle"}
+ti["t5"] = ti[" %"] .. {"it_trigger", target="olli5",action="toggle"}
+ti["t6"] = ti[" %"] .. {"it_trigger", target="olli6",action="toggle"}
+ti["t7"] = ti[" %"] .. {"it_trigger", target="olli7",action="toggle"}
+ti["t8"] = ti[" !"] .. {"it_trigger", target="lezy1",action="toggle"}
+ti["t9"] = ti[" %"] .. {"it_trigger", target="olli9",action="toggle"}
 ti["~ "] = {"st_laser_e", name="lezy1"}
 ti["- "] = {"st_laser_n", name="lezy2"}
-ti["d1"] = ti[" /"] ..{"st_door", faces="ew", name= "olli1"}
-ti["d2"] = ti[" ."] ..{"st_door", faces="ns", name= "olli2"}
-ti["d3"] = ti["ni"] ..{"st_door", faces="ew", name= "olli3"}
-ti["d4"] = ti[" 2"] ..{"st_door", faces="ew", name= "olli4"}
-ti["d5"] = ti[" +"] ..{"st_door", faces="ew", name= "olli5"}
-ti["d6"] = ti[" +"] ..{"st_door", faces="ns", name= "olli6"}
-ti["d7"] = ti[" +"] ..{"st_door", faces="ns", name= "olli7"}
-ti["d9"] = ti[" )"] ..{"st_door", faces="ew", name= "olli9"}
-
+ti["d1"] = ti[" /"] .. {"st_door", faces="ew", name= "olli1"}
+ti["d2"] = ti[" ."] .. {"st_door", faces="ns", name= "olli2"}
+ti["d3"] = ti["ni"] .. {"st_door", faces="ew", name= "olli3"}
+ti["d4"] = ti[" 2"] .. {"st_door", faces="ew", name= "olli4"}
+ti["d5"] = ti[" +"] .. {"st_door", faces="ew", name= "olli5"}
+ti["d6"] = ti[" +"] .. {"st_door", faces="ns", name= "olli6"}
+ti["d7"] = ti[" +"] .. {"st_door", faces="ns", name= "olli7"}
+ti["d9"] = ti[" )"] .. {"st_door", faces="ew", name= "olli9"}
 if wo ["IsDifficult"] then
-    ti["ll"] = ti[" %"]..{"fl_water"}
-    ti["la"] = ti[" %"]..{"fl_water"}
-    ti["aa"] = ti[" %"]..{"fl_water"}
-    ti["al"] = ti[" %"]..{"st-glass_move"}
-    ti["bp"] = ti[" !"]..{"fl_brick"}
-    ti["QQ"] = ti[" /"]..{"st_chess_white"}
-    ti["w1"] = ti["~m"]..{"it_wormhole", destination = po(44.5, 35.5),range=10, strength=10}
-    ti["w2"] = ti[" )"]..{"it_wormhole", destination = po(42.5, 24.5),range=10, strength=10}
-    ti["w3"] = ti[" )"]..{"it_wormhole", destination = po(11.5, 16.5),range=10, strength=10}
+    ti["ll"] = ti[" %"] .. {"fl_water"}
+    ti["la"] = ti[" %"] .. {"fl_water"}
+    ti["aa"] = ti[" %"] .. {"fl_water"}
+    ti["al"] = ti[" %"] .. {"st-glass_move"}
+    ti["bp"] = ti[" !"] .. {"fl_brick"}
+    ti["QQ"] = ti[" /"] .. {"st_chess_white"}
+    ti["w1"] = ti["~m"] .. {"it_wormhole", destination = po(44.5, 35.5),range=10, strength=10}
+    ti["w2"] = ti[" )"] .. {"it_wormhole", destination = po(42.5, 24.5),range=10, strength=10}
+    ti["w3"] = ti[" )"] .. {"it_wormhole", destination = po(11.5, 16.5),range=10, strength=10}
 else
-    ti["ll"] = ti[" %"]..{"fl_bluegray"}
-    ti["la"] = ti[" %"]..{"fl_swamp"}
-    ti["aa"] = ti[" %"]..{"st_passage_black_cross"}
-    ti["al"] = ti[" %"]..{"fl_swamp"}
-    ti["bp"] = ti[" !"]..{"it_umbrella"}
-    ti["QQ"] = ti[" /"]..{"st_brake"}
-    ti["w1"] = ti["~m"]..{"it_wormhole", destination = po(44.5, 35.5),range=3, strength=3}
-    ti["w2"] = ti[" )"]..{"it_wormhole", destination = po(42.5, 24.5),range=3, strength=3}
-    ti["w3"] = ti[" )"]..{"it_wormhole", destination = po(11.5, 16.5),range=3, strength=3}
+    ti["ll"] = ti[" %"] .. {"fl_bluegray"}
+    ti["la"] = ti[" %"] .. {"fl_swamp"}
+    ti["aa"] = ti[" %"] .. {"st_passage_black_cross"}
+    ti["al"] = ti[" %"] .. {"fl_swamp"}
+    ti["bp"] = ti[" !"] .. {"it_umbrella"}
+    ti["QQ"] = ti[" /"] .. {"st_brake"}
+    ti["w1"] = ti["~m"] .. {"it_wormhole", destination = po(44.5, 35.5),range=3, strength=3}
+    ti["w2"] = ti[" )"] .. {"it_wormhole", destination = po(42.5, 24.5),range=3, strength=3}
+    ti["w3"] = ti[" )"] .. {"it_wormhole", destination = po(11.5, 16.5),range=3, strength=3}
 end
 
 local resolver = res.composer(ti)
@@ -228,7 +227,6 @@
        " % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %(4w2(4q1A434A4 4 % % % % % % % % % % % % % % % % % % % % % % % % % % 0"})
 
 wo:shuffleOxyd()
-
  ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 wo["ConserveLevel"] = true
 
-ti[" !"] = {"fl_metal_7"}
+ti[" !"] = {"fl_metal_7", friction=4.0}
 ti["! "] = {"st-yellow"}
 ti["# "] = {"st_death"}
 ti[" #"] = {"fl_blueslab"}
@@ -85,77 +85,76 @@
 ti["@ "] = {"st-glass"}
 ti["A "] = {"st_door", state=OPEN, faces="ns"}
 ti["W "] = {"st-stone_break"}
-ti["gg"] =  ti[" %"] ..{"it_strip", connections="ns"}
-ti["l3"] =  ti[" !"] ..{"st-brick_magic"}
-ti["l4"] =  ti[" i"] ..{"st_passage_black_frame"}
-ti["l5"] =  ti[" $"] ..{"st-glass_move"}
-ti["l6"] =  ti[" $"] ..{"st-glass"}
-ti["z3"] =  ti["l3"] ..{"it_cherry"}
-ti["z4"] =  ti["l4"] ..{"it_cherry"}
-ti["z5"] =  ti["l5"] ..{"it_cherry"}
-ti["z6"] =  ti["l6"] ..{"it_cherry"}
-ti["z7"] =  ti[" !"] ..{"st_box_wood"}
-ti["z8"] =  ti[" !"] ..{"st_oneway_black_w"}
-ti["z9"] =  ti[" !"] ..{"st-grate1"}
-ti["g5"] =  ti["z9"] .. {"it_crack_l"}
-ti["l7"] =  ti["l5"] .. {"it_extralife"}
-ti["z1"] =  ti[" 4"] .. {"it_key", code=1}
-ti["z2"] =  ti[" !"] .. {"it_key", code=2}
-ti["t1"] = ti[" !"] ..{"it_trigger", target="lez1",action="toggle"}
-ti["t2"] = ti[" !"] ..{"it_trigger", target="lez2",action="toggle"}
-ti["t3"] = ti[" !"] ..{"it_trigger", target="lez3",action="toggle"}
-ti["t4"] = ti[" !"] ..{"it_trigger", target="lez4",action="toggle"}
-ti["t5"] = ti[" !"] ..{"it_trigger", target="olli5",action="toggle"}
-ti["t6"] = ti[" !"] ..{"it_trigger", target="olli6",action="toggle"}
-ti["t7"] = ti[" !"] ..{"it_trigger", target="olli7",action="toggle"}
-ti["t8"] = ti[" !"] ..{"it_trigger", target="olli8",action="toggle"}
-ti["l1"] = ti[" 4"] ..{"st_laser_e", name="lez1"}
-ti["l2"] = ti[" 4"] ..{"st_laser_e", name="lez2"}
+ti["gg"] = ti[" %"] .. {"it_strip", connections="ns"}
+ti["l3"] = ti[" !"] .. {"st-brick_magic"}
+ti["l4"] = ti[" i"] .. {"st_passage_black_frame"}
+ti["l5"] = ti[" $"] .. {"st-glass_move"}
+ti["l6"] = ti[" $"] .. {"st-glass"}
+ti["z3"] = ti["l3"] .. {"it_cherry"}
+ti["z4"] = ti["l4"] .. {"it_cherry"}
+ti["z5"] = ti["l5"] .. {"it_cherry"}
+ti["z6"] = ti["l6"] .. {"it_cherry"}
+ti["z7"] = ti[" !"] .. {"st_box_wood"}
+ti["z8"] = ti[" !"] .. {"st_oneway_black_w"}
+ti["z9"] = ti[" !"] .. {"st-grate1"}
+ti["g5"] = ti["z9"] .. {"it_crack_l"}
+ti["l7"] = ti["l5"] .. {"it_extralife"}
+ti["z1"] = ti[" 4"] .. {"it_key", code=1}
+ti["z2"] = ti[" !"] .. {"it_key", code=2}
+ti["t1"] = ti[" !"] .. {"it_trigger", target="lez1",action="toggle"}
+ti["t2"] = ti[" !"] .. {"it_trigger", target="lez2",action="toggle"}
+ti["t3"] = ti[" !"] .. {"it_trigger", target="lez3",action="toggle"}
+ti["t4"] = ti[" !"] .. {"it_trigger", target="lez4",action="toggle"}
+ti["t5"] = ti[" !"] .. {"it_trigger", target="olli5",action="toggle"}
+ti["t6"] = ti[" !"] .. {"it_trigger", target="olli6",action="toggle"}
+ti["t7"] = ti[" !"] .. {"it_trigger", target="olli7",action="toggle"}
+ti["t8"] = ti[" !"] .. {"it_trigger", target="olli8",action="toggle"}
+ti["l1"] = ti[" 4"] .. {"st_laser_e", name="lez1"}
+ti["l2"] = ti[" 4"] .. {"st_laser_e", name="lez2"}
 ti["< "] = {"st_laser_s", name="lez3"}
 ti["= "] = {"st_laser_n", name="lez4"}
-ti["( "] = {"st_key", code=1, target="olli1",action="toggle"}--a
-ti[") "] = {"st_key", code=2, target="olli2",action="toggle"}--b
+ti["( "] = {"st_key", code=1, target="olli1",action="toggle"} --a
+ti[") "] = {"st_key", code=2, target="olli2",action="toggle"} --b
 ti["V "] = {"st_floppy", target={"olli3", "olli4"},action="toggle"}
-ti["d1"] =  ti[" !"] ..{"st_door", faces="ns", name= "olli1"}
-ti["d2"] =  ti[" !"] ..{"st_door", faces="ew", name= "olli2"}
-ti["d3"] =  ti[" i"] ..{"st_door", faces="ns", name= "olli3"}--floppy
-ti["d4"] =  ti[" i"] ..{"st_door", faces="ns", name= "olli4"}--floppy
-ti["d5"] =  ti[" !"] ..{"st_door", faces="ns", name= "olli5"}
-ti["d6"] =  ti[" !"] ..{"st_door", faces="ns", name= "olli6"}
-ti["d7"] =  ti[" !"] ..{"st_door", faces="ns", name= "olli7"}
-ti["d8"] =  ti[" !"] ..{"st_door", faces="ns", name= "olli8"}
+ti["d1"] = ti[" !"] .. {"st_door", faces="ns", name= "olli1"}
+ti["d2"] = ti[" !"] .. {"st_door", faces="ew", name= "olli2"}
+ti["d3"] = ti[" i"] .. {"st_door", faces="ns", name= "olli3"} --floppy
+ti["d4"] = ti[" i"] .. {"st_door", faces="ns", name= "olli4"} --floppy
+ti["d5"] = ti[" !"] .. {"st_door", faces="ns", name= "olli5"}
+ti["d6"] = ti[" !"] .. {"st_door", faces="ns", name= "olli6"}
+ti["d7"] = ti[" !"] .. {"st_door", faces="ns", name= "olli7"}
+ti["d8"] = ti[" !"] .. {"st_door", faces="ns", name= "olli8"}
 ti["x "] = {"#ac_marble_black"}
 ti["r "] = {"#ac_rotor", range=7, strength=7}
 ti["q "] = {"#ac_top", range=10, strength=10}
-ti["v1"] =  ti[" !"] ..{"it_vortex_open", name="vortex1", destination="vortex2"}
-ti["v2"] =  ti[" $"] ..{"it_vortex_open", name="vortex2", destination={"vortex3","vortex1"}}
-ti["v3"] =  ti["z7"] ..{"it_vortex_open", name="vortex3", destination="vortex1"}
-ti["v4"] =  ti["z8"] ..{"it_vortex_open", name="vortex4", destination="vortex5"}
-ti["v5"] =  ti[" 2"] ..{"it_vortex_open", name="vortex5", destination="vortex4"}
-ti["v6"] =  ti[" 2"] ..{"it_vortex_open", name="vortex6", destination="vortex7"}
-ti["v7"] =  ti[" 2"] ..{"it_vortex_open", name="vortex7", destination="vortex6"}
-ti["g3"] =  ti[" !"] ..{"st_switch_black", target="dolli1"}
-ti["g4"] =  ti[" !"] ..{"st_switch_black", target="dolli2"}
-ti["g1"] =  ti["gg"] ..{"st_door", faces="ns", name= "dolli1"}
-ti["g2"] =  ti["gg"] ..{"st_door", faces="ns", name= "dolli2"}
-
+ti["v1"] = ti[" !"] .. {"it_vortex_open", name="vortex1", destination="vortex2"}
+ti["v2"] = ti[" $"] .. {"it_vortex_open", name="vortex2", destination={"vortex3","vortex1"}}
+ti["v3"] = ti["z7"] .. {"it_vortex_open", name="vortex3", destination="vortex1"}
+ti["v4"] = ti["z8"] .. {"it_vortex_open", name="vortex4", destination="vortex5"}
+ti["v5"] = ti[" 2"] .. {"it_vortex_open", name="vortex5", destination="vortex4"}
+ti["v6"] = ti[" 2"] .. {"it_vortex_open", name="vortex6", destination="vortex7"}
+ti["v7"] = ti[" 2"] .. {"it_vortex_open", name="vortex7", destination="vortex6"}
+ti["g3"] = ti[" !"] .. {"st_switch_black", target="dolli1"}
+ti["g4"] = ti[" !"] .. {"st_switch_black", target="dolli2"}
+ti["g1"] = ti["gg"] .. {"st_door", faces="ns", name="dolli1"}
+ti["g2"] = ti["gg"] .. {"st_door", faces="ns", name="dolli2"}
 if wo ["IsDifficult"] then
-    ti["l9"] = ti[" &"]..{"fl_water"}
-    ti["a3"] = ti[" !"]..{"fl_metal_7"}
-    ti["a4"] = ti[" !"]..{"fl_metal_7"}
-    ti["a5"] = ti[" !"]..{"fl_metal_7"}
-    ti["a6"] = ti[" !"]..{"it_death"}
+    ti["l9"] = ti[" &"] .. {"fl_water"}
+    ti["a3"] = ti[" !"] .. {"fl_metal_7", friction=4.0}
+    ti["a4"] = ti[" !"] .. {"fl_metal_7", friction=4.0}
+    ti["a5"] = ti[" !"] .. {"fl_metal_7", friction=4.0}
+    ti["a6"] = ti[" !"] .. {"it_death"}
 else
-    ti["l9"] = ti[" &"]..{"fl_ice"}
-    ti["a3"] = ti[" !"]..{"it-flagblack"}
-    ti["a4"] = ti[" !"]..{"it_extralife"}
-    ti["a5"] = ti[" !"]..{"it-pin"}
-    ti["a6"] = ti[" !"]..{"fl_metal_7"}
+    ti["l9"] = ti[" &"] .. {"fl_ice"}
+    ti["a3"] = ti[" !"] .. {"it-flagblack"}
+    ti["a4"] = ti[" !"] .. {"it_extralife"}
+    ti["a5"] = ti[" !"] .. {"it-pin"}
+    ti["a6"] = ti[" !"] .. {"fl_metal_7", friction=4.0}
 end
+
 local resolver = res.composer(ti)
 
 w, h = wo(resolver, "  ", {
-
        "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!$!-!-!-!-!-!-0-!-0-!-0-!-!-!-!-!$!6!6!6!6!6!6!6!g36!6!6!6!6!6!8!8!#!8!8!8!8!8!8!",
        "!! % # % # # # # # # #W#W#W#*#W#*#W#W#W#$!-!-! !-! !-! !-! !-! !-! !-!-!$! % % % %6$ 4 4m$ 4 46$ 2h% !;! ! ! ! ! ! ! !8!",
        "!! #%%%!%!%!%!%!%&%!%&%!%&%!%!%!%!%!%!W#$!.! ! !t5 0t6 0 ! 0t7 0t8 ! !.!$!.2 2 % %+%63 3 3 363 2 26% %#! % 6 %#% % % (8!",

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti["R"] = {"#ac_rotor", range=1, strength=1}
-ti["  "] = {"fl_metal_7"}
+ti["  "] = {"fl_metal_7", friction=4.0}
 ti[" r"] = {"fl_red"}
 ti[" h"] = {"fl_himalaya"}
 ti[" '"] = {"fl_sahara"}
@@ -66,7 +66,7 @@
 ti["q "] = {"it-puller-s"}
 ti["t "] = {"it-document",text="text1"}
 ti["M "] = ti["m "] .. {"it-spring2"}
-ti["* "] = ti[" +"] ..{"#ac_marble_black"}
+ti["* "] = ti[" +"] .. {"#ac_marble_black"}
 ti["L1"] = {"st_laser_s",name="laser1", state=OFF}
 ti["L2"] = {"st_laser_s",name="laser2", state=OFF}
 ti["L5"] = {"st_laser_s", state=ON}
@@ -77,7 +77,6 @@
 ti["S2"] = {"it_trigger", target="laser2"}
 ti["S3"] = {"it_trigger", target="laser3"}
 ti["S4"] = {"it_trigger", target="laser4"}
-
 if wo ["IsDifficult"] then
     ti["x1"] = ti["! "] .. ti[" h"]
     ti["x2"] = ti["X "] .. ti[" h"]

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -19,13 +19,13 @@
 
 ti[" -"] = {"fl-gradient3"}
 ti[" ~"] = {"fl_swamp"}
-ti["A "] = ti[" -"] ..{"it_sword"}
+ti["A "] = ti[" -"] .. {"it_sword"}
 ti["B "] = {"st_swap"}
 ti["C "] = {"st_box_wood"}
 ti["F "] = {"st_quake"}
 ti["D "] = ti[" ~"] .. {"st-grate1"}
 ti["E "] = ti[" ~"] .. {"st-glass_move"}
-ti["  "] = {"fl_metal_7"}
+ti["  "] = {"fl_metal_7", friction=4.0}
 ti[" ."] = {"fl_abyss"}
 ti["# "] = {"st-redrock"}
 ti[" l"] = {"fl_sahara"}
@@ -90,9 +90,9 @@
 ti["< "] = {"st_boulder_w"}
 ti["O "] = {"st_rotator_ccw", movable=false}
 ti["Z "] = {"st_timer",action="callback",target="hux",interval=11.9,invisible=0}
-ti["l "] = ti[" n"] ..{"st_polarswitch"}
-ti["mm"] = ti[" ~"] ..{"st-grate1"}
-ti["* "] = ti["mm"] ..{"#ac_marble_black"}
+ti["l "] = ti[" n"] .. {"st_polarswitch"}
+ti["mm"] = ti[" ~"] .. {"st-grate1"}
+ti["* "] = ti["mm"] .. {"#ac_marble_black"}
 ti["+ "] = {"#ac_rotor", range=2, strength=2, gohome=false}
 
 local resolver = res.composer(ti)

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-08 15:31:26 UTC (rev 1440)
@@ -22,7 +22,7 @@
 ti[" +"] = {"fl_woven"}
 ti[" !"] = {"fl_brick"}
 ti["! "] = {"st_death"}
-ti[" #"] = {"fl_metal_7"}
+ti[" #"] = {"fl_metal_7", friction=4.0}
 ti["# "] = {"st-rock3"}
 ti[" $"] = {"fl_abyss"}
 ti[" %"] = {"fl_ivory"}
@@ -34,26 +34,26 @@
 ti["& "] = {"st-yellow"}
 ti["' "] = {"st_actorimpulse"}
 ti["( "] = {"st-grate1"}
-ti["i1"] = ti[" ."] ..{"st-grate1"}
-ti["i2"] = ti[" ,"] ..{"st-grate1"}
+ti["i1"] = ti[" ."] .. {"st-grate1"}
+ti["i2"] = ti[" ,"] .. {"st-grate1"}
 ti[" 1"] = {"fl_rough"}
 ti[") "] = {"st_bluesand"}
 ti["f "] = {"it-coffee"}
 ti[" )"] = {"fl_red"}
 ti["* "] = {"st_oxyd_d"}
 ti["+ "] = {"st-glass_move"}
-ti["e2"] = ti[" +"]..{"st-glass_move"}
-ti["e4"] = ti[" ("]..{"st-glass_move"}
-ti["e5"] = ti[" &"]..{"st-glass_move"}
-ti["w4"] = ti[" 1"]..{"st-glass_move"}
-ti["w5"] = ti[" )"]..{"st-glass"}
-ti["w6"] = ti[" )"]..{"st-glass_move"}
+ti["e2"] = ti[" +"] .. {"st-glass_move"}
+ti["e4"] = ti[" ("] .. {"st-glass_move"}
+ti["e5"] = ti[" &"] .. {"st-glass_move"}
+ti["w4"] = ti[" 1"] .. {"st-glass_move"}
+ti["w5"] = ti[" )"] .. {"st-glass"}
+ti["w6"] = ti[" )"] .. {"st-glass_move"}
 ti[", "] = {"st_door", faces="ew"}
 ti[" *"] = {"fl-gradient4"}
 ti["- "] = {"st_door", faces="ns"}
 ti["g "] = {"it_extralife"}
-ti["i3"] = ti["i1"] ..{"it_extralife"}
-ti["i4"] = ti["i2"] ..{"it_extralife"}
+ti["i3"] = ti["i1"] .. {"it_extralife"}
+ti["i4"] = ti["i2"] .. {"it_extralife"}
 ti[". "] = {"st_stoneimpulse"}
 ti["/ "] = {"st_stoneimpulse_hollow"}
 ti["0 "] = {"st-rock3_hole"}
@@ -62,37 +62,37 @@
 ti[" /"] = {"fl_blueslab"}
 ti["2 "] = {"st_shogun_m"}
 ti[" 0"] = {"fl_himalaya"}
-ti["e1"] = ti["e2"]..{"it_brush"}
+ti["e1"] = ti["e2"] .. {"it_brush"}
 ti["3 "] = {"st_shogun_s"}
 ti["5 "] = {"st-rock3_move"}
 ti["6 "] = {"st_shogun_l"}
-ti["c8"] = ti["e4"]..{"it_banana"}
+ti["c8"] = ti["e4"] .. {"it_banana"}
 ti["o "] = {"it_meditation_dent"}
 ti["c "] = {"it_cherry"}
-ti["c5"] = ti["w5"]..{"it_cherry"}
-ti["c6"] = ti["w6"]..{"it_cherry"}
-ti["c7"] = ti["e5"]..{"it_cherry"}
+ti["c5"] = ti["w5"] .. {"it_cherry"}
+ti["c6"] = ti["w6"] .. {"it_cherry"}
+ti["c7"] = ti["e5"] .. {"it_cherry"}
 ti["q "] = {"it_coin_s"}
-ti["t1"] = ti[" #"] ..{"it_trigger", target="lezy1",action="toggle"}
-ti["t2"] = ti[" #"] ..{"it_trigger", target="lezy1",action="toggle"}
-ti["t8"] = ti[" '"] ..{"it_shogun_l", target="olli1",action="toggle"}
-ti["t9"] = ti[" '"] ..{"it_shogun_l", target={"olli2", "olli3"} ,action="toggle"}
-ti["k1"] = ti[" ("]..{"it_key", code=1}
-ti["k2"] = ti[" %"]..{"it_key", code=2}
-ti["k3"] = ti[" #"]..{"it_key", code=3}
+ti["t1"] = ti[" #"] .. {"it_trigger", target="lezy1",action="toggle"}
+ti["t2"] = ti[" #"] .. {"it_trigger", target="lezy1",action="toggle"}
+ti["t8"] = ti[" '"] .. {"it_shogun_l", target="olli1",action="toggle"}
+ti["t9"] = ti[" '"] .. {"it_shogun_l", target={"olli2", "olli3"} ,action="toggle"}
+ti["k1"] = ti[" ("] .. {"it_key", code=1}
+ti["k2"] = ti[" %"] .. {"it_key", code=2}
+ti["k3"] = ti[" #"] .. {"it_key", code=3}
 ti["4 "] = {"st_key",code=1, name= "oklli1", target= "olli4", action="toggle"}
 ti["9 "] = {"st_key",code=2, name= "oklli2", target= "olli5", action="toggle"}
 ti["8 "] = {"st_key",code=3, name= "oklli3", target={"olli6","olli7"}, action="toggle"}
-ti["d1"] = ti[" %"] ..{"st_door", faces="ew", name= "olli1"}
-ti["d2"] = ti[" %"] ..{"st_door", faces="ns", name= "olli2"}
-ti["d3"] = ti[" %"] ..{"st_door", faces="ns", name= "olli3"}
-ti["d4"] = ti[" #"] ..{"st_door", faces="ew", name= "olli4"}
-ti["d5"] = ti[" #"] ..{"st_door", faces="ew", name= "olli5"}
-ti["d6"] = ti[" %"] ..{"st_door", faces="ew", name= "olli6"}
-ti["d7"] = ti[" %"] ..{"st_door", faces="ew", name= "olli7"}
-ti["w1"] = ti["w4"]..{"it_wormhole", destination = po(48.5, 39.5),range=10, strength=10}
-ti["w2"] = ti[" 1"]..{"it_wormhole", destination = po(40.5, 18.5),range=10, strength=10}
-ti["w3"] = ti[" #"]..{"it_wormhole", destination = po(20.5, 25.5),range=10, strength=10}
+ti["d1"] = ti[" %"] .. {"st_door", faces="ew", name= "olli1"}
+ti["d2"] = ti[" %"] .. {"st_door", faces="ns", name= "olli2"}
+ti["d3"] = ti[" %"] .. {"st_door", faces="ns", name= "olli3"}
+ti["d4"] = ti[" #"] .. {"st_door", faces="ew", name= "olli4"}
+ti["d5"] = ti[" #"] .. {"st_door", faces="ew", name= "olli5"}
+ti["d6"] = ti[" %"] .. {"st_door", faces="ew", name= "olli6"}
+ti["d7"] = ti[" %"] .. {"st_door", faces="ew", name= "olli7"}
+ti["w1"] = ti["w4"] .. {"it_wormhole", destination = po(48.5, 39.5),range=10, strength=10}
+ti["w2"] = ti[" 1"] .. {"it_wormhole", destination = po(40.5, 18.5),range=10, strength=10}
+ti["w3"] = ti[" #"] .. {"it_wormhole", destination = po(20.5, 25.5),range=10, strength=10}
 ti["7 "] = {"st-break_bolder"}
 ti[": "] = {"st_oneway_black_n"}
 ti["Y "] = {"st_oneway_black_s"}
@@ -126,17 +126,16 @@
 ti["r "] = {"#ac_rotor", range=6, strength=10}
 ti["y "] = {"#ac_top", range=1, strength=1}
 ti["z "] = {"#ac_top", range=3, strength=3}
-
 if wo ["IsDifficult"] then
-    ti["wd"] = ti[" &"]..{"it_death"}
-    ti["bd"] = ti[" #"]..{"it_death"}
-    ti["wu"] = ti[" )"]..{"fl_red"}
-    ti["ww"] = ti[" -"]..{"fl_aquamarine"}
+    ti["wd"] = ti[" &"] .. {"it_death"}
+    ti["bd"] = ti[" #"] .. {"it_death"}
+    ti["wu"] = ti[" )"] .. {"fl_red"}
+    ti["ww"] = ti[" -"] .. {"fl_aquamarine"}
 else
-    ti["wd"] = ti[" &"]..{"fl_water"}
-    ti["bd"] = ti[" #"]..{"fl_metal_7"}
-    ti["wu"] = ti[" )"]..{"it_umbrella"}
-    ti["ww"] = ti[" -"]..{"it_extralife"}
+    ti["wd"] = ti[" &"] .. {"fl_water"}
+    ti["bd"] = ti[" #"] .. {"fl_metal_7", friction=4.0}
+    ti["wu"] = ti[" )"] .. {"it_umbrella"}
+    ti["ww"] = ti[" -"] .. {"it_extralife"}
 end
 
 local resolver = res.composer(ti)



From ral at mail.berlios.de  Fri Jan  9 00:12:35 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Fri, 9 Jan 2009 00:12:35 +0100
Subject: [Enigma-game-svn] r1441 - team_levelpacks/team_test_new_api
Message-ID: <200901082312.n08NCZJ9002466@sheep.berlios.de>

Author: ral
Date: 2009-01-09 00:12:25 +0100 (Fri, 09 Jan 2009)
New Revision: 1441

Modified:
   team_levelpacks/team_test_new_api/andreasT01_1.xml
   team_levelpacks/team_test_new_api/andreasT02_1.xml
   team_levelpacks/team_test_new_api/ralD001_1.xml
   team_levelpacks/team_test_new_api/ralD002_1.xml
   team_levelpacks/team_test_new_api/ralD004_1.xml
   team_levelpacks/team_test_new_api/ralD006_1.xml
   team_levelpacks/team_test_new_api/ralT014_1.xml
   team_levelpacks/team_test_new_api/ralT030_1.xml
   team_levelpacks/team_test_new_api/ralT034_1.xml
   team_levelpacks/team_test_new_api/ralT046_1.xml
   team_levelpacks/team_test_new_api/ralT047_1.xml
   team_levelpacks/team_test_new_api/ralT072_1.xml
Log:
Test Level new API:
- updates for floor renamings part II and III


Modified: team_levelpacks/team_test_new_api/andreasT01_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/andreasT01_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -41,12 +41,12 @@
 ti["m"] = {"it_landmine"}
 ti["s"] = {"it_sensor", invisible = true} --{"it-spring2"}
 
-ti["A"] = ti["."] .. {"fl-leaves"}
+ti["A"] = ti["."] .. {"fl_lawn"}
 ti["B"] = ti["."] .. {"fl_water"}
-ti["C"] = ti["."] .. {"fl-metal"}
-ti["D"] = ti["."] .. {"fl-black"}
-ti["E"] = ti["."] .. {"fl-inverse"}
-ti["F"] = ti["."] .. {"fl-rough-blue"}
+ti["C"] = ti["."] .. {"fl_metal"}
+ti["D"] = ti["."] .. {"fl_dark"}
+ti["E"] = ti["."] .. {"fl_inverse"}
+ti["F"] = ti["."] .. {"fl_blueslab"}
 ti["G"] = ti["."] .. {"fl_abyss"}
 ti["H"] = ti["."] .. {"fl_bast"}
 

Modified: team_levelpacks/team_test_new_api/andreasT02_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/andreasT02_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/andreasT02_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -20,27 +20,27 @@
 wo["ConserveLevel"] = true
 
 ti["  "] = {"fl_sahara"}
-ti["A "] = {"fl-leaves"}
+ti["A "] = {"fl_lawn"}
 ti["B "] = {"fl_swamp"}
-ti["C "] = {"fl-metal"}
-ti["D "] = {"fl-black"}
-ti["E "] = {"fl-inverse"}
-ti["F "] = {"fl-rough-blue"}
-ti["G "] = {"fl-rough"}
+ti["C "] = {"fl_metal"}
+ti["D "] = {"fl_dark"}
+ti["E "] = {"fl_inverse"}
+ti["F "] = {"fl_blueslab"}
+ti["G "] = {"fl_rough"}
 ti["H "] = {"fl_bast"}
 ti["I "] = {"fl_abyss"}
 ti["J "] = {"fl_water"}
 
 ti[" "] = {"fl_sahara"}
-ti["A"] = {"fl-leaves"}
+ti["A"] = {"fl_lawn"}
 ti["B"] = {"fl_swamp"}
-ti["C"] = {"fl-metal"}
-ti["D"] = {"fl-black"}
-ti["E"] = {"fl-inverse"}
-ti["F"] = {"fl-rough-blue"}
-ti["G"] = {"fl-rough"}
+ti["C"] = {"fl_metal"}
+ti["D"] = {"fl_dark"}
+ti["E"] = {"fl_inverse"}
+ti["F"] = {"fl_blueslab"}
+ti["G"] = {"fl_rough"}
 ti["H"] = {"fl_bast"}
-ti["R"] = {"fl-red"}
+ti["R"] = {"fl_red"}
 
 ti[" @"] = {"#ac_marble", "marble"}
 ti[" d"] = {"st_death", "death#"}

Modified: team_levelpacks/team_test_new_api/ralD001_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD001_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralD001_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -15,8 +15,8 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-ti["r"] = {"fl-rough-red"}
-ti["b"] = {"fl-rough-blue"}
+ti["r"] = {"fl_redslab"}
+ti["b"] = {"fl_blueslab"}
 ti["1"] = {"#ac_marble"}
 
 ti["x"] = {"it_cross"}

Modified: team_levelpacks/team_test_new_api/ralD002_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD002_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralD002_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 ti["~"] = {"fl_water"}
 ti["s"] = {"fl_sahara"}
-ti["t"] = {"fl-tigris"}
+ti["t"] = {"fl_tigris"}
 ti["1"] = {"ac_marble", 0, 0.5}
 
 ti["template_trigger"] = {"it_trigger", target="myoxyd%%", action="open"}

Modified: team_levelpacks/team_test_new_api/ralD004_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -17,8 +17,8 @@
     <el:luamain><![CDATA[
 ti["~"] = {"fl_water"}
 ti["s"] = {"fl_sahara"}
-ti["t"] = {"fl-tigris"}
-ti["i"] = {"fl-inverse2"}
+ti["t"] = {"fl_tigris"}
+ti["i"] = {"fl_inverse_gray"}
 ti["b"] = {"fl-acblack"}
 ti["w"] = {"fl-acwhite"}
 

Modified: team_levelpacks/team_test_new_api/ralD006_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD006_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralD006_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -15,7 +15,7 @@
 
 wo["ConserveLevel"] = true
 
-ti[" "] = {"fl-samba"}
+ti[" "] = {"fl_samba"}
 ti["."] = {"fl_abyss"}
 ti["~"] = {"fl_water"}
 ti["#"] = {"st-rock1"}
@@ -41,7 +41,7 @@
 ti["E"] = {"st_turnstilearm", orientation=EAST}
 ti["N"] = ti["."] .. {"st_turnstilearm_n"}
 
-ti["+"] = {"fl-samba", checkerboard=0} .. ti({"fl_wood", checkerboard=1})
+ti["+"] = {"fl_samba", checkerboard=0} .. ti({"fl_wood", checkerboard=1})
 
 ti["1"] = {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/ralT014_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -21,14 +21,14 @@
 
 
 ti[" "] = {"fl_sahara"}
-ti["."] = ti({"fl-rough-blue", checkerboard=0}) .. {"fl-rough-red", checkerboard=1}
+ti["."] = ti({"fl_blueslab", checkerboard=0}) .. {"fl_redslab", checkerboard=1}
 ti["*"] = ti({"st_chess_black", checkerboard=0}) .. {"st_chess_white", checkerboard=1}
 ti["c"] = {"it_cherry", name="cherry#"}
 ti["5"] = {"it_coin_m", name="money", target={"otto", "emil*"}}
 ti["S"] = {"st_coinslot"}
 ti["m"] = {"#ac_marble"}
-ti["x"] = {"fl-rough-blue"} .. {"it_banana"} .. ti({"ac_bug", 0.7})
-ti["y"] = (ti({"fl-rough-blue"}) .. {"it_banana"}) .. {"ac_bug", name="buggy"}
+ti["x"] = {"fl_blueslab"} .. {"it_banana"} .. ti({"ac_bug", 0.7})
+ti["y"] = (ti({"fl_blueslab"}) .. {"it_banana"}) .. {"ac_bug", name="buggy"}
 ti["s"] = {"st_switch", action="callback", target="doit"}
 ti["b"] = {"st_blocker", name="blocker"}
 ti["d"] = {"st_door_b", name="door#"}
@@ -72,7 +72,7 @@
     wo[{1, 1}] = {"it_magicwand"}
 end
 --tokens[3]:kill()
-wo[tokens[3]] = {"fl-rough-blue"}
+wo[tokens[3]] = {"fl_blueslab"}
 
 blocker_pos = po(no["blocker"])
 

Modified: team_levelpacks/team_test_new_api/ralT030_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -21,7 +21,7 @@
 
 ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
-ti["~"] = ti({"fl-rough-blue"}) .. {"st-chameleon"}
+ti["~"] = ti({"fl_blueslab"}) .. {"st-chameleon"}
 
 ti["s"] = ti[" "] .. {"st_swap"}
 

Modified: team_levelpacks/team_test_new_api/ralT034_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT034_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -20,9 +20,9 @@
 wo["ConserveLevel"] = true
 
 ti["_"] = {"fl_sahara"}
-ti["r"] = {"fl-rough-red"}
-ti["b"] = {"fl-rough-blue"}
-ti["."] = ti({"fl-rough-blue", checkerboard=0}) .. {"fl-rough-red", checkerboard=1}
+ti["r"] = {"fl_redslab"}
+ti["b"] = {"fl_blueslab"}
+ti["."] = ti({"fl_blueslab", checkerboard=0}) .. {"fl_redslab", checkerboard=1}
 
 ti[" "] = ti["."] .. {"it_blocker"}
 ti["n"] = {}       -- just nothing

Modified: team_levelpacks/team_test_new_api/ralT046_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -18,10 +18,10 @@
 wo["ConserveLevel"] = true
 
 ti["  "] = {"fl_sahara"}
-ti[" ="] = {"fl-tigris"}
+ti[" ="] = {"fl_tigris"}
 ti[" ."] = {"fl_abyss"}
 ti[" ~"] = {"fl_water"}
-ti[" ;"] = {"fl-leaves"}
+ti[" ;"] = {"fl_lawn"}
 
 ti["# "] = {"st-rock1"}
 ti["W "] = {"st_box"}

Modified: team_levelpacks/team_test_new_api/ralT047_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -18,10 +18,10 @@
 wo["ConserveLevel"] = true
 
 ti["   "] = {"fl_sahara"}
-ti["  ="] = {"fl-tigris"}
+ti["  ="] = {"fl_tigris"}
 ti["  ."] = {"fl_abyss"}
 ti["  ~"] = {"fl_water"}
-ti["  ;"] = {"fl-leaves"}
+ti["  ;"] = {"fl_lawn"}
 
 ti["#  "] = {"st-rock1"}
 ti["W  "] = {"st_box"}
@@ -37,7 +37,7 @@
 
 ti["#2 "] = {"it_sword"}
 ti["# ~"] = {"fl_hay"}
-ti[" 2~"] = {"fl-gray"}
+ti[" 2~"] = {"fl_gray"}
 
 ti["xxx"] = {"#ac_marble"} 
 

Modified: team_levelpacks/team_test_new_api/ralT072_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-08 23:12:25 UTC (rev 1441)
@@ -20,7 +20,7 @@
 ti[" "] = {"fl_hay"}
 ti["~"] = {"fl_water"}
 ti["*"] = {"fl_water_source"}
-ti["."] = {"fl-sand", floodable=true}
+ti["."] = {"fl_sand", floodable=true}
 ti["-"] = {"fl_hay_framed"}
 ti["o"] = {"st_box_hay"}
 ti["w"] = {"st_box"}



From andreasl at mail.berlios.de  Fri Jan  9 17:17:25 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Fri, 9 Jan 2009 17:17:25 +0100
Subject: [Enigma-game-svn] r1442 - in feature_branches/hp_lotm:
	images/articles images/lotm input input/articles input/lotm
	input/news
Message-ID: <200901091617.n09GHP1n020499@sheep.berlios.de>

Author: andreasl
Date: 2009-01-09 17:16:37 +0100 (Fri, 09 Jan 2009)
New Revision: 1442

Added:
   feature_branches/hp_lotm/images/articles/level_andreas11_a.png
   feature_branches/hp_lotm/images/articles/level_andreas11_b.png
   feature_branches/hp_lotm/images/lotm/lotm_200812.png
   feature_branches/hp_lotm/images/lotm/lotm_200812_b.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_c.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_e.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_g.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_h.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_i.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_k.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_l.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_m.jpg
   feature_branches/hp_lotm/images/lotm/lotm_200812_n.jpg
   feature_branches/hp_lotm/input/articles/infobox_marbleous.html
   feature_branches/hp_lotm/input/articles/infobox_marbleous_de.html
   feature_branches/hp_lotm/input/articles/infobox_marbleous_ru.html
   feature_branches/hp_lotm/input/articles/level_andreas11.html
   feature_branches/hp_lotm/input/articles/level_andreas11_de.html
   feature_branches/hp_lotm/input/articles/level_andreas11_ru.html
   feature_branches/hp_lotm/input/articles/marbleous_1.html
   feature_branches/hp_lotm/input/articles/marbleous_1_de.html
   feature_branches/hp_lotm/input/articles/marbleous_1_ru.html
   feature_branches/hp_lotm/input/articles/marbleous_2.html
   feature_branches/hp_lotm/input/articles/marbleous_2_de.html
   feature_branches/hp_lotm/input/articles/marbleous_2_ru.html
   feature_branches/hp_lotm/input/articles/marbleous_3.html
   feature_branches/hp_lotm/input/articles/marbleous_3_de.html
   feature_branches/hp_lotm/input/articles/marbleous_3_ru.html
   feature_branches/hp_lotm/input/level_archive.html
   feature_branches/hp_lotm/input/level_archive_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200812.html
   feature_branches/hp_lotm/input/lotm/lotm_200812_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200812_ru.html
   feature_branches/hp_lotm/input/news/news_issue26_de.html
   feature_branches/hp_lotm/input/news/news_issue26_en.html
   feature_branches/hp_lotm/input/news/news_issue26_ru.html
Removed:
   feature_branches/hp_lotm/images/lotm/lotm_200810_h.jpg
Modified:
   feature_branches/hp_lotm/images/lotm/lotm-history.png
   feature_branches/hp_lotm/input/articles/eoya_2007.html
   feature_branches/hp_lotm/input/articles/eoya_2007_de.html
   feature_branches/hp_lotm/input/articles/eoya_2007_ru.html
   feature_branches/hp_lotm/input/credits.html
   feature_branches/hp_lotm/input/credits_de.html
   feature_branches/hp_lotm/input/faq_core.html
   feature_branches/hp_lotm/input/faq_core_de.html
   feature_branches/hp_lotm/input/faq_core_ru.html
   feature_branches/hp_lotm/input/hp_archive.html
   feature_branches/hp_lotm/input/hp_archive_de.html
   feature_branches/hp_lotm/input/hp_archive_ru.html
   feature_branches/hp_lotm/input/infobox.html
   feature_branches/hp_lotm/input/infobox_de.html
   feature_branches/hp_lotm/input/infobox_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_200810.html
   feature_branches/hp_lotm/input/lotm/lotm_200810_de.html
   feature_branches/hp_lotm/input/lotm/lotm_200810_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
   feature_branches/hp_lotm/input/lotm/read_lotm.lua
   feature_branches/hp_lotm/input/output-files.lua
   feature_branches/hp_lotm/input/schema.html
   feature_branches/hp_lotm/input/stat-other.html
   feature_branches/hp_lotm/input/table-hcp.html
   feature_branches/hp_lotm/input/table-rat.html
   feature_branches/hp_lotm/input/table-solved.html
   feature_branches/hp_lotm/input/table-wr.html
   feature_branches/hp_lotm/input/top_news.html
   feature_branches/hp_lotm/input/top_news_de.html
   feature_branches/hp_lotm/input/top_news_ru.html
   feature_branches/hp_lotm/input/userlist.html
Log:
LotM Feature branch:
 - Merged homepage back to LotM-feature branch,
   to prepare for EoYA'08-article.
   They should now be synchronous.


Copied: feature_branches/hp_lotm/images/articles/level_andreas11_a.png (from rev 1441, homepage/images/articles/level_andreas11_a.png)

Copied: feature_branches/hp_lotm/images/articles/level_andreas11_b.png (from rev 1441, homepage/images/articles/level_andreas11_b.png)

Modified: feature_branches/hp_lotm/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Deleted: feature_branches/hp_lotm/images/lotm/lotm_200810_h.jpg
===================================================================
(Binary files differ)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812.png (from rev 1441, homepage/images/lotm/lotm_200812.png)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_b.jpg (from rev 1441, homepage/images/lotm/lotm_200812_b.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_c.jpg (from rev 1441, homepage/images/lotm/lotm_200812_c.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_e.jpg (from rev 1441, homepage/images/lotm/lotm_200812_e.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_g.jpg (from rev 1441, homepage/images/lotm/lotm_200812_g.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_h.jpg (from rev 1441, homepage/images/lotm/lotm_200812_h.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_i.jpg (from rev 1441, homepage/images/lotm/lotm_200812_i.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_k.jpg (from rev 1441, homepage/images/lotm/lotm_200812_k.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_l.jpg (from rev 1441, homepage/images/lotm/lotm_200812_l.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_m.jpg (from rev 1441, homepage/images/lotm/lotm_200812_m.jpg)

Copied: feature_branches/hp_lotm/images/lotm/lotm_200812_n.jpg (from rev 1441, homepage/images/lotm/lotm_200812_n.jpg)

Modified: feature_branches/hp_lotm/input/articles/eoya_2007.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2007.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/articles/eoya_2007.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -205,7 +205,9 @@
 
 <p>And here they are:</p>
 
+<a name="best_onescreener">
 <h3>Best Onescreener 2007: &quot;Doors Galore&quot; by Ray Wick</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -218,7 +220,9 @@
 winning margin over &quot;Plan Ahead&quot; (3.59) and &quot;Industrial
 Puzzles&quot; (3.50).</p>
 
+<a name="best_levelseries">
 <h3>Best Levelseries 2007: &quot;Gods of Enigma&quot; by moonpearl</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -242,8 +246,10 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_design">
 <h3>Best Design 2007: &quot;The Aztec Temple&quot; by Dominik
 Lehmann</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -257,8 +263,10 @@
 caverns, from now on the jungle will be a new possible setting for our level
 authors.</p>
 
+<a name="funniest_level">
 <h3>Funniest Levels 2007: &quot;Advancing&quot; and &quot;Mountain
 Climbing&quot; by Joseph Dunne</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -282,7 +290,9 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_yinyang">
 <h3>Best Yin-Yang Level 2007: &quot;Teamwork&quot; by Jacob Scott</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -297,7 +307,9 @@
 
 <p>And now, to the most important category:</p>
 
+<a name="loty">
 <h3>Level of the Year 2007: &quot;Island Labyrinth&quot; by Jacob Scott!</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">

Modified: feature_branches/hp_lotm/input/articles/eoya_2007_de.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2007_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/articles/eoya_2007_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -214,7 +214,9 @@
 
 <p>Und hier sind sie:</p>
 
+<a name="best_onescreener">
 <h3>Bester Onescreener 2007: &quot;Doors Galore&quot; von Ray Wick</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -227,7 +229,9 @@
 Wick einen bemerkenswerten Vorsprung vor &quot;Plan Ahead&quot; (3,59) und
 &quot;Industrial Puzzles&quot; (3,50).</p>
 
+<a name="best_levelseries">
 <h3>Beste Levelserie 2007: &quot;Gods of Enigma&quot; von moonpearl</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -253,8 +257,10 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_design">
 <h3>Bestes Design 2007: &quot;The Aztec Temple&quot; von Dominik
 Lehmann</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -269,8 +275,10 @@
 wird von nun an der Dschungel ein neues m&ouml;gliches Setting f&uuml;r unsere
 Levelautoren sein.</p>
 
+<a name="funniest_level">
 <h3>Lustigste Levels 2007: &quot;Advancing&quot; und &quot;Mountain
 Climbing&quot; von Joseph Dunne</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -295,8 +303,10 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_yinyang">
 <h3>Bester Yin-Yang-Level 2007: &quot;Teamwork&quot; von Jacob
 Scott</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -311,7 +321,9 @@
 
 <p>Und nun, die wichtigste Kategorie:</p>
 
+<a name="loty">
 <h3>Level des Jahres 2007: &quot;Island Labyrinth&quot; von Jacob Scott!</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">

Modified: feature_branches/hp_lotm/input/articles/eoya_2007_ru.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2007_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/articles/eoya_2007_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -144,7 +144,9 @@
 
 <p>? ??? ? ???:</p>
 
+<a name="best_onescreener">
 <h3>?????? ???????????? ??????? 2007: &quot;Doors Galore&quot; ?? Ray Wick</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -153,7 +155,9 @@
 
 <p>&quot;Doors Galore&quot; - ???? ?? ????? ???????????? ? &quot;????????&quot; ??????? ? Enigma, ???????????? ??????? ??????? ?????? ? ?????????????? ?????????. ? 3.89 ?? 5 ????????? ?????, Ray Wick ?????????? ?????????? ??????, ??????????? ?? &quot;Plan Ahead&quot; (3.59) ? &quot;Industrial Puzzles&quot; (3.50).</p>
 
+<a name="best_levelseries">
 <h3>?????? ????? ??????? 2007: &quot;Gods of Enigma&quot; ?? moonpearl</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -173,7 +177,9 @@
 <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_design">
 <h3>?????? ?????????? 2007: &quot;The Aztec Temple&quot; ?? Dominik Lehmann</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -184,7 +190,9 @@
 ??????? ?????? ??? 2007, ? 4.19 ??????, &quot;The Aztec Temple&quot; ???????????? &quot;Mountain Climbing&quot; (3.80) ? &quot;Solar System&quot; (3.68), ? ?????????? ? ?????? Enigma ????? ?????????: ????? ??????????? ????????, ?????, ??????? ? ?????? ?????, ? ????? ??????? ??????? ??????
 ????? ????????? ?????????? ??? ????? ??????? ???????.</p>
 
+<a name="funniest_level">
 <h3>????? ???????? ?????? 2007: &quot;Advancing&quot; ? &quot;Mountain Climbing&quot; ?? Joseph Dunne</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -203,7 +211,9 @@
 <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
+<a name="best_yinyang">
 <h3>?????? ???-??? ??????? 2007: &quot;Teamwork&quot; ?? Jacob Scott</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -214,7 +224,9 @@
 
 <p>? ??????, ????? ?????? ?????????:</p>
 
+<a name="loty">
 <h3>??????? ???? 2007: &quot;Island Labyrinth&quot; ?? Jacob Scott!</h3>
+</a>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">

Copied: feature_branches/hp_lotm/input/articles/infobox_marbleous.html (from rev 1441, homepage/input/articles/infobox_marbleous.html)

Copied: feature_branches/hp_lotm/input/articles/infobox_marbleous_de.html (from rev 1441, homepage/input/articles/infobox_marbleous_de.html)

Copied: feature_branches/hp_lotm/input/articles/infobox_marbleous_ru.html (from rev 1441, homepage/input/articles/infobox_marbleous_ru.html)

Copied: feature_branches/hp_lotm/input/articles/level_andreas11.html (from rev 1441, homepage/input/articles/level_andreas11.html)

Copied: feature_branches/hp_lotm/input/articles/level_andreas11_de.html (from rev 1441, homepage/input/articles/level_andreas11_de.html)

Copied: feature_branches/hp_lotm/input/articles/level_andreas11_ru.html (from rev 1441, homepage/input/articles/level_andreas11_ru.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_1.html (from rev 1441, homepage/input/articles/marbleous_1.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_1_de.html (from rev 1441, homepage/input/articles/marbleous_1_de.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_1_ru.html (from rev 1441, homepage/input/articles/marbleous_1_ru.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_2.html (from rev 1441, homepage/input/articles/marbleous_2.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_2_de.html (from rev 1441, homepage/input/articles/marbleous_2_de.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_2_ru.html (from rev 1441, homepage/input/articles/marbleous_2_ru.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_3.html (from rev 1441, homepage/input/articles/marbleous_3.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_3_de.html (from rev 1441, homepage/input/articles/marbleous_3_de.html)

Copied: feature_branches/hp_lotm/input/articles/marbleous_3_ru.html (from rev 1441, homepage/input/articles/marbleous_3_ru.html)

Modified: feature_branches/hp_lotm/input/credits.html
===================================================================
--- feature_branches/hp_lotm/input/credits.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/credits.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -62,7 +62,7 @@
         </tr>
         <tr>
             <td>Dustin&nbsp;Norlander</td>
-            <td>Designer of the ``Dustismo'' font</td>
+            <td>Designer of the &ldquo;Dustismo&rdquo; font</td>
         </tr>
         <tr>
             <td>Jennifer&nbsp;Robertson</td>
@@ -85,7 +85,7 @@
             <td>Level design</td>
         </tr>
         <tr>
-            <td>Andrew&nbsp;"Necros"&nbsp;Sega</td>
+            <td>Andrew&nbsp;&ldquo;Necros&rdquo;&nbsp;Sega</td>
             <td>Menu music (Pentagonal Dreams)</td>
         </tr>
         <tr>
@@ -103,23 +103,28 @@
     <p>For various smaller contributions, thanks go to:</p>
     <ul>
         <li>Roberto Bardin&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Thomas Bernhardt&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Nathan Bronecke&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Harry Bruder&nbsp;&nbsp;&nbsp;(LotM articles)</li>
         <li>Alain Busser&nbsp;&nbsp;&nbsp;(Level design, French translation, manual)</li>
         <li>Guy Busser&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Richi B&uuml;tzer&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>capkoh&nbsp;&nbsp;&nbsp;(Level design)</li>
-        <li>Christoph & Anita&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Christoph &amp; Anita&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Serge Dremuk&nbsp;&nbsp;&nbsp;(Russian translation)</li>
         <li>Joseph Dunne&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Xerxes M. Dynatos&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Edward&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Manuel Eisentraut&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Stephanie Fabian&nbsp;&nbsp;&nbsp;(Invaluable bug reports)</li>
+        <li>Johann Freymuth&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Roberto Garc&iacute;a&nbsp;&nbsp;&nbsp;(Spanish translation)</li>
         <li>Andy Geldmacher&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Edwin Groothuis&nbsp;&nbsp;&nbsp;(FreeBSD port)</li>
         <li>Immanuel Herrmann&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>M&aacute;t&eacute; Lehel Juh&aacute;sz&nbsp;&nbsp;&nbsp;(Hungarian translation)</li>
+        <li>Johannes H&uuml;sing&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Brian Huffman&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Samuele Kaplun&nbsp;&nbsp;&nbsp;(Italian translation)</li>
         <li>Jens-Christian Korth&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Manuel K&ouml;nig&nbsp;&nbsp;&nbsp;(Level design, bug reports)</li>
@@ -127,20 +132,23 @@
         <li>Joona Laire&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Markus Laire&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Dominik Lehmann&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Dominik Leipold&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Edward Leuf&nbsp;&nbsp;&nbsp;(Feedback, bug reports)</li>
         <li>Ingo van Lil&nbsp;&nbsp;&nbsp;(Feedback, bug reports)</li>
         <li>Frank van der Loo&nbsp;&nbsp;&nbsp;(Dutch translation)</li>
         <li>Sidney Markowitz&nbsp;&nbsp;&nbsp;(Mac OS X port)</li>
-        <li>Barry & Lori Mead&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Barry &amp; Lori Mead&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Linda Mihalic&nbsp;&nbsp;&nbsp;(English proof reading)</li>
         <li>moonpearl&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Krishnamurti Lelis Lima Vieira Nunes&nbsp;&nbsp;&nbsp;(Portuguese translation)</li>
         <li>Daniel Nylander&nbsp;&nbsp;&nbsp;(Swedish translation)</li>
         <li>Andreas Persenius&nbsp;&nbsp;&nbsp;(Level design)</li>
-	<li>Mark Pulley&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Mark Pulley&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Stephen Morley (Safalra)&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Peter Santo&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Tobias Schmidbauer&nbsp;&nbsp;&nbsp;(Windows installer and icon)</li>
         <li>Achim Settelmeier&nbsp;&nbsp;&nbsp;(RPM specfile)</li>
+        <li>ShadowPhrogg32642342 (D&aacute;niel Borb&eacute;ly)&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Jon Sneyers&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Spaceman&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Ulf Stegemann&nbsp;&nbsp;&nbsp;(Level design)</li>
@@ -148,10 +156,11 @@
         <li>Mikke Surakka (Finnish Translation)</li>
         <li>Andrzej Szombierski&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Tacvek&nbsp;&nbsp;&nbsp;(Lua 5.1 upgrade)</li>
-	<li>James Taylor&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>James Taylor&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Michael Terry&nbsp;&nbsp;&nbsp;(.desktop file)</li>
         <li>Ray Wick&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Joe Wreschnig&nbsp;&nbsp;&nbsp;(Manual page)</li>
         <li>Yuriy Zhyromskiy&nbsp;&nbsp;&nbsp;(Russian Manual and Homepage Translation, Slackware Package)</li>
+        <li>/dev/null&nbsp;&nbsp;&nbsp;(Level design)</li>
     </ul>
 </div>

Modified: feature_branches/hp_lotm/input/credits_de.html
===================================================================
--- feature_branches/hp_lotm/input/credits_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/credits_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -62,7 +62,7 @@
         </tr>
         <tr>
             <td>Dustin&nbsp;Norlander</td>
-            <td>Designer der Schriftart "Dustismo"</td>
+            <td>Designer der Schriftart &bdquo;Dustismo&ldquo;</td>
         </tr>
 
         <tr>
@@ -86,7 +86,7 @@
             <td>Landschaftsdesign</td>
         </tr>
         <tr>
-            <td>Andrew&nbsp;``Necros''&nbsp;Sega</td>
+            <td>Andrew&nbsp;&bdquo;Necros&ldquo;&nbsp;Sega</td>
             <td>Men&uuml;-Musik (Pentagonal Dreams)</td>
         </tr>
         <tr>
@@ -104,9 +104,10 @@
     <p>F&uuml;r verschiedene kleinere Beitr&auml;ge danken wir:</p>
     <ul>
         <li>Roberto Bardin&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Thomas Bernhardt&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Nathan Bronecke&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Harry Bruder&nbsp;&nbsp;&nbsp;(LdM-Artikel)</li>
-        <li>Alain Busser&nbsp;&nbsp;&nbsp;(Landschaftsdesign, franz&ouml;sische &Uuml;bersetzung und Handbuch)</li>
+        <li>Alain Busser&nbsp;&nbsp;&nbsp;(Landschaftsdesign), franz&ouml;sische &Uuml;bersetzung und Handbuch)</li>
         <li>Guy Busser&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Richi B&uuml;tzer&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>capkoh&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
@@ -115,19 +116,24 @@
         <li>Joseph Dunne&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Xerxes M. Dynatos&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Edward&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Manuel Eisentraut&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Stephanie Fabian&nbsp;&nbsp;&nbsp;(Wertvolle Fehlerberichte)</li>
+        <li>Johann Freymuth&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Roberto Garc&iacute;a&nbsp;&nbsp;&nbsp;(Spanische &Uuml;bersetzung)</li>
         <li>Andy Geldmacher&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Edwin Groothuis&nbsp;&nbsp;&nbsp;(FreeBSD Portierung)</li>
         <li>Immanuel Herrmann&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>M&aacute;t&eacute; Lehel Juh&aacute;sz&nbsp;&nbsp;&nbsp;(Ungarische &Uuml;bersetzung)</li>
+        <li>Johannes H&uuml;sing&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Brian Huffman&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Samuele Kaplun&nbsp;&nbsp;&nbsp;(Italienische &Uuml;bersetzung)</li>
         <li>Jens-Christian Korth&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
-        <li>Manuel K&ouml;nig&nbsp;&nbsp;&nbsp;(Landschaftsdesign, Fehlerberichte)</li>
+        <li>Manuel K&ouml;nig&nbsp;&nbsp;&nbsp;(Landschaftsdesign), Fehlerberichte)</li>
         <li>Johannes Laire&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Joona Laire&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Markus Laire&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Dominik Lehmann&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Dominik Leipold&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Edward Leuf&nbsp;&nbsp;&nbsp;(Feedback, Fehlerberichte)</li>
         <li>Ingo van Lil&nbsp;&nbsp;&nbsp;(Feedback, Fehlerberichte)</li>
         <li>Frank van der Loo&nbsp;&nbsp;&nbsp;(Niederl&auml;ndische &Uuml;bersetzung)</li>
@@ -138,10 +144,12 @@
         <li>Krishnamurti Lelis Lima Vieira Nunes&nbsp;&nbsp;&nbsp;(Portugiesische &Uuml;bersetzung)</li>
         <li>Daniel Nylander&nbsp;&nbsp;&nbsp;(Schwedische &Uuml;bersetzung)</li>
         <li>Andreas Persenius&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
-	<li>Mark Pulley&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Mark Pulley&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Stephen Morley (Safalra)&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Peter Santo&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Tobias Schmidbauer&nbsp;&nbsp;&nbsp;(Windows Installer und Icon)</li>
         <li>Achim Settelmeier&nbsp;&nbsp;&nbsp;(RPM specfile)</li>
+        <li>ShadowPhrogg32642342 (D&aacute;niel Borb&eacute;ly)&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Jon Sneyers&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Spaceman&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Ulf Stegemann&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
@@ -149,10 +157,11 @@
         <li>Mikke Surakka (Finnische &Uuml;bersetzung)</li>
         <li>Andrzej Szombierski&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Tacvek&nbsp;&nbsp;&nbsp;(Lua 5.1 Upgrade)</li>
-	<li>James Taylor&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>James Taylor&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Michael Terry&nbsp;&nbsp;&nbsp;(.desktop file)</li>
         <li>Ray Wick&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Joe Wreschnig&nbsp;&nbsp;&nbsp;(Manual page f&uuml;r Unix)
         <li>Yuriy Zhyromskiy&nbsp;&nbsp;&nbsp;(Russisches Handbuch und Homepage, Slackware Paket)</li>
+        <li>/dev/null&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
     </ul>
 </div>

Modified: feature_branches/hp_lotm/input/faq_core.html
===================================================================
--- feature_branches/hp_lotm/input/faq_core.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/faq_core.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -109,7 +109,16 @@
 not noticed by the screen saver, and so it thinks you're not using
 your computer. You can either deactivate your screen saver, or try
 to toggle from window-mode to fullscreen-mode (see &quot;options
-menu&quot;).</p>
+menu&quot;).</p><p>
+If you are using GNOME, you can run this in a terminal window:
+<pre>
+gnome-screensaver-command --inhibit
+</pre>
+(it will not quit&mdash;just leave it running!) Then run Enigma. When you're done
+with Enigma, press Ctrl+C on the &quot;inhibit&quot; command, and your screen
+saver should be working again. Closing the terminal window should also stop the
+&quot;inhibit&quot; command.
+</p>
 
 
 <h4><a name="s2q2">Enigma doesn't start, it gives an error message of the kind

Modified: feature_branches/hp_lotm/input/faq_core_de.html
===================================================================
--- feature_branches/hp_lotm/input/faq_core_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/faq_core_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -120,6 +120,17 @@
 Sie h&auml;tten Ihren Computer seit einiger Zeit nicht verwendet. Sie k&ouml;nnen
 entweder den Bildschirmschoner abschalten, oder versuchen vom Fenster- in den
 Vollbildmodus zu wechseln (siehe &quot;Options Men&uuml;&quot;).</p>
+<p>Falls Sie GNOME benutzen, k&ouml;nnen Sie folgenden Befehl in einem
+Terminalfenster starten:
+<pre>
+gnome-screensaver-command --inhibit
+</pre>
+(der Befehl wird nicht beendet - lassen Sie ihn einfach laufen!) Dann starten
+Sie Enigma. Wenn Sie Enigma wieder beendet haben, dr&uuml;cken Sie Ctrl+C im
+Fenster mit dem &quot;inhibit&quot;-Befehl, und Ihr Bildschirmschoner sollte
+wieder normal arbeiten. Auch einfaches Schlie&szlig;en des Terminalfensters
+sollte den &quot;inhibit&quot;-Befehl abbrechen.
+</p>
 
 
 <h4><a name="s2q2">Enigma startet nicht, es wird eine Fehlermeldung der Form

Modified: feature_branches/hp_lotm/input/faq_core_ru.html
===================================================================
--- feature_branches/hp_lotm/input/faq_core_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/faq_core_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -101,6 +101,16 @@
 ?? ?????????????? ?????????? ??????, ? ??????? ?? ???????, ??? ?? ?? ??????????? ???????????.
 ?? ?????? ??? ????????? ??? ?????????? ??????, ??? ? ??????????
 ????????????? ?? ???????? ?????? ? ????????????? (??????? &quot;???? ????????&quot;).</p>
+<p>
+If you are using GNOME, you can run this in a terminal window:
+<pre>
+gnome-screensaver-command --inhibit
+</pre>
+(it will not quit&mdash;just leave it running!) Then run Enigma. When you're done
+with Enigma, press Ctrl+C on the &quot;inhibit&quot; command, and your screen
+saver should be working again. Closing the terminal window should also stop the
+&quot;inhibit&quot; command.
+</p>
 
 
 <h4><a name="s2q2">Enigma ?? ???????????, ??? ?????? ????????? ?????????

Modified: feature_branches/hp_lotm/input/hp_archive.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/hp_archive.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -7,6 +7,11 @@
 </p>
 
 <p>
+Articles sorted by level number can be found <a
+href="$$level_archive$$">here</a>.
+</p>
+
+<p>
 All news articles can be viewed <a href="$$news$$">here</a>.
 </p>
 
@@ -19,4 +24,12 @@
   </li>
   <li><a href="$$april_2008$$">April Fool's Day Joke 2008 - &quot;The Three Clouds&quot;</a>
   </li>
+  <li><a href="$$marbleous_1$$">Marbleous! &mdash; The Novice, Part 1</a>
+  </li>
+  <li><a href="$$marbleous_2$$">Marbleous! &mdash; The Novice, Part 2</a>
+  </li>
+  <li><a href="$$marbleous_3$$">Marbleous! &mdash; The Novice, Part 3</a>
+  </li>
 </ul>
+
+

Modified: feature_branches/hp_lotm/input/hp_archive_de.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/hp_archive_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -7,6 +7,11 @@
 </p>
 
 <p>
+Artikel sortiert nach Levelnummer finden Sie <a
+href="$$level_archive$$">hier</a>.
+</p>
+
+<p>
 Alle News-Artikel k&ouml;nnen Sie <a href="$$news$$">hier</a> einsehen.
 </p>
 
@@ -19,5 +24,11 @@
   </li>
   <li><a href="$$april_2008$$">Aprilscherz 2008 - &quot;The Three Clouds&quot;</a>
   </li>
+  <li><a href="$$marbleous_1$$">Gemurmel! &mdash; Der Neuling, Teil 1</a>
+  </li>
+  <li><a href="$$marbleous_2$$">Gemurmel! &mdash; Der Neuling, Teil 2</a>
+  </li>
+  <li><a href="$$marbleous_3$$">Gemurmel! &mdash; Der Neuling, Teil 3</a>
+  </li>
 </ul>
 

Modified: feature_branches/hp_lotm/input/hp_archive_ru.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/hp_archive_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -2,10 +2,15 @@
 <h2>????? ???????? ????????</h2>
 
 <p>
-<a href="$$lotm$$">?????</a> ?? ?????? ????? ????????? ???? ?????? ?? ??????? ??????.
+<a href="$$lotm$$">?????</a> ?? ?????? ????? ??? ?????? ?? ??????? ??????.
 </p>
 
 <p>
+??????????????? ?? ?????? ?????? ?????? ????? ?????
+<a href="$$level_archive$$">?????</a>.
+</p>
+
+<p>
 ??? ??????? ????? ???????? <a href="$$news$$">?????</a>.
 </p>
 
@@ -18,4 +23,10 @@
   </li>
   <li><a href="$$april_2008$$">??????????????? ????? 2008 - &quot;The Three Clouds&quot;</a>
   </li>
+  <li><a href="$$marbleous_1$$">???????????! &mdash; ???????? ?? ???????, ????? 1</a>
+  </li>
+  <li><a href="$$marbleous_2$$">???????????! &mdash; ???????? ?? ???????, ????? 2</a>
+  </li>
+  <li><a href="$$marbleous_3$$">???????????! &mdash; ???????? ?? ???????, ????? 3</a>
+  </li>
 </ul>

Modified: feature_branches/hp_lotm/input/infobox.html
===================================================================
--- feature_branches/hp_lotm/input/infobox.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/infobox.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,11 +1,8 @@
     <div class="infobody">
        <div class="info">
-         <h3>Two addenda</h3>
-         We now have a comment from Jacob to his last LotM, you can read
-         it <a href="$$lotm_200805$$#jacob">here</a>. AND, we got a great map
-         of the Level of the Year 2007, <a href="$$lotm_200703$$">&quot;Island
-         Labyrinth&quot;</a>, from Shoki. You can download it
-         <a href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">here</a>.
+         <h3>Marbleous!</h3>
+         Read <a href="$$marbleous_3$$">here</a> about the newest adventure of
+         our &quot;novice&quot;, his experiences and thoughts!
 
          <h3>Level of the Month</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
@@ -14,6 +11,13 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <h3>Independent Article</h3>
+         <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
+         alt="Patterns of Impulse" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
+         </div>
+         
          <!--
          <h3>April Fool's Day '08</h3>
          <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"

Modified: feature_branches/hp_lotm/input/infobox_de.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/infobox_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,13 +1,9 @@
     <div class="infobody">
        <div class="info">
-         <h3>Zwei Nachtr&auml;ge</h3>
-         Wir haben nun einen Kommentar von Jacob zu seinem letzten LotM,
-         Sie k&ouml;nnen ihn <a href="$$lotm_200805$$#jacob">hier</a> lesen.
-         UND, wir haben eine gro&szlig;artige Karte vom Level des Jahres 2007,
-         <a href="$$lotm_200703$$">&quot;Island Labyrinth&quot;</a>, von Shoki
-         bekommen. Sie k&ouml;nnen sie <a
-         href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">hier</a> herunterladen.
-
+         <h3>Gemurmel!</h3>
+         Lesen Sie <a href="$$marbleous_3$$">hier</a> &uuml;ber das neueste
+         Abenteuer unseres &quot;Neulings&quot;, seine Erfahrungen und Gedanken!
+         
          <h3>Level des Monats</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
@@ -15,6 +11,13 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <h3>Unabh&auml;ngiger Artikel</h3>
+         <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
+         alt="Patterns of Impulse" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
+         </div>
+         
          <!--
          <h3>Aprilscherz '08</h3>
          <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"

Modified: feature_branches/hp_lotm/input/infobox_ru.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/infobox_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,10 +1,8 @@
     <div class="infobody">
        <div class="info">
-         <h3>??? ??????????</h3>
-         ?????? ? ??? ???? ??????????? ?? Jacob ? ??? ?????????? ??, ??????? ?? ?????? ????????
-         <a href="$$lotm_200805$$#jacob">?????</a>. ? ???, ?? ???????? ?? Shoki, ???????? ?????
-         ?????? ???? 2007, <a href="$$lotm_200703$$">&quot;Island
-         Labyrinth&quot;</a>. ?? ?????? ??????? ?? <a href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">?????</a>.
+         <h3>???????????!</h3>
+         <a href="$$marbleous_3$$">?????</a> ????? ???????? ? ????????? ????????????
+	  ?????? &quot;???????&quot;, ? ??? ????? ? ????????????!
 
          <h3>??????? ??????</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
@@ -13,6 +11,13 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <h3>????????? ??????</h3>
+         <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
+         alt="Patterns of Impulse" border="0"></a>
+         <div class="imagetitle">
+           <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
+         </div>
+         
          <!--
          <h3>?????? ?????? '08</h3>
          <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"

Copied: feature_branches/hp_lotm/input/level_archive.html (from rev 1441, homepage/input/level_archive.html)

Copied: feature_branches/hp_lotm/input/level_archive_de.html (from rev 1441, homepage/input/level_archive_de.html)

Modified: feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_200707_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -161,18 +161,18 @@
 
   <p>? ?? ??? ??? ?? ???? ????????, ??? Duffy ?????? ????? 150 ???????. ??? ????? ??????? ??????
     ???????. ??? ?????? ?????????? ???? ?? ???????? ?????????? ???????, ??????? ??? ????????
-    ??????.<br/>
-    <br/>
-    ?????, ???????? ????? &hellip;<br/>
-    <br/>
+    ??????.<br>
+    <br>
+    ?????, ???????? ????? &hellip;<br>
+    <br>
     &hellip; ????, ? ????????, ?? ????? ???? ????????, ?????????? ??????? ??? ????? ?????? ???????????????? ???????
-    ? ????????? ????<br/>
-    &hellip; Duffy ?????? ???? ??????! ?????? ??? ???????? ???????!<br/>
-    &hellip; ? ???? ?? ????? ????????! :-)<br/>
-    <br/>
+    ? ????????? ????<br>
+    &hellip; Duffy ?????? ???? ??????! ?????? ??? ???????? ???????!<br>
+    &hellip; ? ???? ?? ????? ????????! :-)<br>
+    <br>
     ????? ?????????? ? ??????!</p>
 
-  <p>? ?????????,<br/>
+  <p>? ?????????,<br>
   <i>Joe ? Harry</i></p>
 
 </div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_200708_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -230,7 +230,7 @@
   ????????? ? ??????? ??????? ? ????????????? ???????? ??????????. Ronald, ??????? ???? ??????? ??
   ?????????? ?????? ??? ??????? ??????????!</p>
 
-  <p>? ?????????,<br/>
+  <p>? ?????????,<br>
   <i>Andreas ? Harry</i></p>
 
 </div>

Modified: feature_branches/hp_lotm/input/lotm/lotm_200810.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200810.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_200810.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -71,6 +71,7 @@
 boss: &quot;<i>I'm sure you're very well-rested from your vacation. You can do
 it!</i>&quot; Well, if only he knew how much our marble had hoped for a restful
 first working day.
+</p>
 
 <p>
 Plant VI/98 is well-known among the employees. The building, made
@@ -446,10 +447,6 @@
 
 <div class="author">Raoul</div>
 
-<div class="lotmpic">
-<img src="$$imagedir$$/lotm/lotm_200810_h.jpg" alt="Level of the Month" border="0">
-</div>
-
 <p>
 &quot;Industrial Puzzles&quot; provides enough challenges. For his achievement,
 the author Raoul Bourquin earned more than one&mdash;like the Frenchman

Modified: feature_branches/hp_lotm/input/lotm/lotm_200810_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200810_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_200810_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -490,10 +490,6 @@
 
 <div class="author">Raoul</div>
 
-<div class="lotmpic">
-<img src="$$imagedir$$/lotm/lotm_200810_h.jpg" alt="Level of the Month" border="0">
-</div>
-
 <p>
 &quot;Industrial Puzzles&quot; stellt gen&uuml;gend Herausforderungen bereit.
 F&uuml;r seine Leistung verdient  der Autor Raoul Bourquin mehr als einen

Modified: feature_branches/hp_lotm/input/lotm/lotm_200810_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_200810_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_200810_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -461,10 +461,6 @@
 
 <div class="author">Raoul</div>
 
-<div class="lotmpic">
-<img src="$$imagedir$$/lotm/lotm_200810_h.jpg" alt="Level of the Month" border="0">
-</div>
-
 <p>
 &quot;Industrial Puzzles&quot; ?????????? ?????????? ??????????. ??
 ???? ?????????? ????? Raoul Bourquin ??????? ?? ???? &mdash; ??? ???????

Copied: feature_branches/hp_lotm/input/lotm/lotm_200812.html (from rev 1441, homepage/input/lotm/lotm_200812.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200812_de.html (from rev 1441, homepage/input/lotm/lotm_200812_de.html)

Copied: feature_branches/hp_lotm/input/lotm/lotm_200812_ru.html (from rev 1441, homepage/input/lotm/lotm_200812_ru.html)

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-01-09 16:16:37 UTC (rev 1442)
@@ -166,6 +166,15 @@
   position_num   = "6098"
 }
 
+lotm_archive_data[19] = {
+  date           = { month = 12, year = 2008 },
+  chronological  = 19,
+  name           = "Procrustes",
+  author         = "Andreas Lochmann",
+  position       = "VI/36",
+  position_num   = "6036"
+}
+
 -- Further levels standing data
 -- (no need to change these)
 
@@ -264,28 +273,29 @@
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
-lotm_rating(    "Island Labyrinth",  9.29,  14,  "")
-lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "(1 up)")
+lotm_rating(    "Island Labyrinth",  9.29,  14,  "(1 down)")
+lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "")
 lotm_rating(    "The Aztec Temple",  9.08,  13,  "")
-lotm_rating("Labyrinth of Puzzles",  8.78,  18,  "(1 up)")
-lotm_rating(           "Elaborate",  8.62,  13,  "(1 up)")
-lotm_rating(             "Houdini",  9.24,   9,  "")
-lotm_rating(           "Tool Time",  8.21,  24,  "(1 down)")
+lotm_rating("Labyrinth of Puzzles",  8.78,  18,  "")
+lotm_rating(           "Elaborate",  8.62,  13,  "")
+lotm_rating(             "Houdini",  9.36,  11,  "(2 up)")
+lotm_rating(           "Tool Time",  8.21,  24,  "")
 lotm_rating(         "Quadropolis",  9.17,  12,  "")
-lotm_rating(      "Big Adventures",  8.40,  25,  "(1 up)")
-lotm_rating(      "Temple of Gold",  9.30,  10,  "")
-lotm_rating(      "Puzzle Puzzles",  8.56,   9,  "(1 up)")
+lotm_rating(      "Big Adventures",  8.40,  25,  "(1 down)")
+lotm_rating(      "Temple of Gold",  9.30,  10,  "(1 down)")
+lotm_rating(      "Puzzle Puzzles",  8.56,   9,  "")
 lotm_rating(      "Psycho Pushing",  8.17,  12,  "")
-lotm_rating(  "Turnstiles for Two",  8.29,   7,  "(7 down)")
-lotm_rating(     "Pleasure Garden",  8.38,  16,  "(1 up)")
+lotm_rating(  "Turnstiles for Two",  8.29,   7,  "")
+lotm_rating(     "Pleasure Garden",  8.38,  16,  "")
 lotm_rating(      "Block its way!",  8.00,  19,  "")
-lotm_rating(   "Gods of Enigma II",  8.39,  18,  "(1 up)")
-lotm_rating( "River of Challenges",  8.36,  11,  "(1 up)")
-lotm_rating(  "Industrial Puzzles",  8.55,  11,  "<b>(newcomer)</b>")
+lotm_rating(   "Gods of Enigma II",  8.42,  19,  "(1 up)")
+lotm_rating( "River of Challenges",  8.36,  11,  "")
+lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
+lotm_rating(          "Procrustes",  7.75,  16,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 
-lotm_archive_data_from = { month = 9, year = 2008 }
+lotm_archive_data_from = { month = 10, year = 2008 }
 
 lotm_current = lotm_archive_data[table.getn(lotm_archive_data)]
 

Modified: feature_branches/hp_lotm/input/lotm/read_lotm.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/read_lotm.lua	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/lotm/read_lotm.lua	2009-01-09 16:16:37 UTC (rev 1442)
@@ -94,3 +94,71 @@
   end
 end
 
+-- Returns a string representing NUMBER in Roman numerals.
+-- It works only for small numbers.
+function roman_numeral(number)
+  local rn = {"I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI",
+              "XII", "XIII", "XIV", "XV", "XVI", "XVII", "XVIII", "XIX", "XX"} 
+  if rn[number] then
+    return rn[number]
+  else
+    error("roman_numeral: Number not defined. Please increase my 'rn'-table.")
+  end
+end
+
+-- Create the level article archive page.
+function parse_level_archive(lang)
+  -- Collect all data.
+  local ordered_data = {}
+  local function insert_by_occasion(entry)
+    local found = false
+    for _, first in ipairs(ordered_data) do
+      if first.position_num == entry.position_num then
+        found = true
+        first.full_link = first.full_link 
+          ..", <a href=\""..entry.link.."\">"..entry.occasion.."</a>"
+      end
+    end
+    if not found then
+      entry.full_link = "<a href=\""..entry.link.."\">"..entry.occasion.."</a>"
+      table.insert(ordered_data, entry)
+    end
+  end
+  for _, entry in pairs(lotm_archive_data) do
+    entry.occasion = "LotM "..entry.date.month.."/"..entry.date.year
+    entry.link = "$$"..lotm_macro_name(entry).."$$"
+    insert_by_occasion(entry)
+  end
+  for _, entry in pairs(level_archive_data) do
+    insert_by_occasion(entry)
+  end
+  -- Sort data.
+  table.sort(ordered_data, function (a, b)
+                             if a.position_num == b.position_num then
+                               return (a.occasion < b.occasion)
+                             else
+                               return (a.position_num < b.position_num)
+                             end
+                           end)
+  -- Create html.
+  local html_text = ""
+  local current_pack = -1
+  for _, entry in ipairs(ordered_data) do
+    local pack = math.floor(entry.position_num / 1000)
+    if pack ~= current_pack then
+      if current_pack ~= -1 then
+        html_text = html_text.."</ul>\n\n"
+      end
+      html_text = html_text.."<h4>Enigma "..roman_numeral(pack).."</h4>\n\n<ul>"
+      current_pack = pack
+    end
+    html_text = html_text.."<li>"..entry.position.."&nbsp;&nbsp;&nbsp;<i>"
+                  ..entry.name.."</i>&nbsp;&nbsp;&nbsp;"..entry.full_link.."</li>\n"
+  end
+  if current_pack ~= -1 then
+    html_text = html_text.."</ul>\n\n"
+  end
+  return html_text
+end
+
+

Copied: feature_branches/hp_lotm/input/news/news_issue26_de.html (from rev 1441, homepage/input/news/news_issue26_de.html)

Copied: feature_branches/hp_lotm/input/news/news_issue26_en.html (from rev 1441, homepage/input/news/news_issue26_en.html)

Copied: feature_branches/hp_lotm/input/news/news_issue26_ru.html (from rev 1441, homepage/input/news/news_issue26_ru.html)

Modified: feature_branches/hp_lotm/input/output-files.lua
===================================================================
--- feature_branches/hp_lotm/input/output-files.lua	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/output-files.lua	2009-01-09 16:16:37 UTC (rev 1442)
@@ -10,7 +10,7 @@
 
 -- The newsfield declares the news (by number) to be shown on the main page.
 
-newsfield = {21, 22, 23, 24, 25}
+newsfield = {21, 22, 23, 24, 26}
 
 -- General $$mystring$$-macros. Strings are taken as-is, tables are
 -- constellations of html input files, functions are executed, with the
@@ -38,7 +38,7 @@
     manual = "manual/enigma.html",
     manual_de = "manual/enigma_de.html",
     manual_fr = "manual/enigma_fr.html",
-    manual_ru = "manual/enigma_ru.html", -- existing?
+    manual_ru = "manual/enigma_ru.html", -- existing? - yes, existing (03.11.08)
     wiki = "http://enigma.mal2.ch/index.php?title=Main_Page",
     wiki_de = "http://enigma.mal2.ch/index.php?title=Hauptseite",
     disclaimer = "http://www.disclaimer.de/disclaimer.htm#2",
@@ -60,6 +60,9 @@
     parse_news_2 = function(v,s,l0)
         return parse_text(v, parse_news(newsdir,l0), l0, "news2")
       end,
+    parse_level_archive = function(v,s,l0)
+        return parse_text(v, parse_level_archive(l0), l0, "level_archive")
+      end,
     parse_lotm_by_rating = function(v,s,l0)
         return parse_text(v, parse_lotm("current_rating", true, l0), l0,
           add_lang_to_filename(v.outfile, l0))
@@ -108,7 +111,7 @@
     
     lotm_history = "History of LotM",
     lotm_history_de = "Geschichte des LdM",
-    --ru-- lotm_history_ru = "History of LotM",
+    lotm_history_ru = "?????????? ??",
     lotm_history_es = "Historia de LotM",
 
     lotm_current = function(v,s,l0)
@@ -409,7 +412,7 @@
     body = {"lotm/lotm_core"},
     kind_of_order = "by <b>rating</b>",
     kind_of_order_de = "geordnet nach <b>Bewertung</b>",
-    kind_of_order_ru = "<b>????????</b>",
+    kind_of_order_ru = "?? <b>????????</b>",
     kind_of_order_es = "por clasificaci&oacute;n:",
     parse_lotm = "$$parse_lotm_by_rating$$",
     lotm_anchor_rating = "<b>Rating</b>",
@@ -427,7 +430,7 @@
     body = {"lotm/lotm_core"},
     kind_of_order = "<b>chronologically</b>",
     kind_of_order_de = "<b>chronologisch</b> geordnet",
-    kind_of_order_ru = "<b>??????????</b>",
+    kind_of_order_ru = "?? <b>??????????</b>",
     kind_of_order_es = "<b>cronologicamente</b>",
     parse_lotm = "$$parse_lotm_chronological$$",
     lotm_anchor_month = "<b>Month</b>",
@@ -440,12 +443,12 @@
     outfile = "lotm_by_position.html",
     title = "$$lotm_expansion$$ (by position)",
     title_de = "$$lotm_expansion$$ (nach Position)",
-    title_ru = "$$lotm_expansion$$ (?? ?????????)",
+    title_ru = "$$lotm_expansion$$ (?? ??????????)",
     rightcolumn = {},
     body = {"lotm/lotm_core"},
     kind_of_order = "by <b>position</b>",
     kind_of_order_de = "geordnet nach <b>Position</b>",
-    kind_of_order_ru = "<b>??????????</b>",
+    kind_of_order_ru = "?? <b>??????????</b>",
     kind_of_order_es = "<b>por posici&oacute;n</b>",
     parse_lotm = "$$parse_lotm_by_position$$",
     lotm_anchor_position = "<b>Position (1.01)</b>",
@@ -468,6 +471,15 @@
     body = {"hp_archive", "top_news"}
 }
 
+html.level_archive = {
+    outfile = "level_archive.html",
+    title = "Level Archive",
+    title_de = "Level-Archiv",
+    title_ru = "????? ?????? ?? ???????",
+    --es-- title_es = "Level Archive",
+    body = {"level_archive"}
+}
+
 ----------------------------------------------------------------------
 -- Special Articles
 ----------------------------------------------------------------------
@@ -489,7 +501,7 @@
     outfile = "eoya_2007_statistics.html",
     title = "End of Year Awards 2007 - Pure Statistics",
     title_de = "Jahresendauszeichnungen 2007 - Pure Statistiken",
-    title_ru = "??????? ????? ???? 2007",
+    title_ru = "??????? ????? ???? 2007 - ?????? ??????????",
     --es-- title_es = "End of Year Awards 2007",
     rightcolumn = {},
     body = {"articles/eoya_2007_statistics"}
@@ -507,3 +519,48 @@
     rightcolumn = {},
     body = {"articles/april_2008"},
 }    
+
+----------------------------------------------------------------------
+-- Marbleous!
+----------------------------------------------------------------------
+
+html.marbleous_1 = {
+    outfile = "marbleous_1.html",
+    title = "Marbleous! &mdash; The Novice, Part 1",
+    title_de = "Gemurmel! &mdash; Der Neuling, Teil 1",
+    title_ru = "???????????! &mdash; ???????? ?? ???????, ????? 1",
+    rightcolumn = {"articles/infobox_marbleous"},
+    body = {"articles/marbleous_1"},
+}
+
+html.marbleous_2 = {
+    outfile = "marbleous_2.html",
+    title = "Marbleous! &mdash; The Novice, Part 2",
+    title_de = "Gemurmel! &mdash; Der Neuling, Teil 2",
+    title_ru = "???????????! &mdash; ???????? ?? ???????, ????? 2",
+    rightcolumn = {"articles/infobox_marbleous"},
+    body = {"articles/marbleous_2"},
+}
+
+html.marbleous_3 = {
+    outfile = "marbleous_3.html",
+    title = "Marbleous! &mdash; The Novice, Part 3",
+    title_de = "Gemurmel! &mdash; Der Neuling, Teil 3",
+    title_ru = "???????????! &mdash; ???????? ?? ???????, ????? 3",
+    rightcolumn = {"articles/infobox_marbleous"},
+    body = {"articles/marbleous_3"},
+}
+
+----------------------------------------------------------------------
+-- Independent Level Articles
+----------------------------------------------------------------------
+
+html.level_andreas11 = {
+    outfile = "level_andreas11.html",
+    title = "Patterns of Impulse",
+    title_de = "Patterns of Impulse",
+    title_ru = "Patterns of Impulse",
+    rightcolumn = {},
+    body = {"articles/level_andreas11"},
+}
+

Modified: feature_branches/hp_lotm/input/schema.html
===================================================================
--- feature_branches/hp_lotm/input/schema.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/schema.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,5 +1,5 @@
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
-   "http://www.w3.org/TR/REC-html40/loose.dtd">
+   "http://www.w3.org/TR/html4/loose.dtd">
 <html lang="en">
 
 <head>

Modified: feature_branches/hp_lotm/input/stat-other.html
===================================================================
--- feature_branches/hp_lotm/input/stat-other.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/stat-other.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,22 +1,22 @@
   <div class="stat-help">
     <h3>$$Other_Statistics$$</h3>
     <h4>$$Scores$$</h4>
-      77764 $$single_level_scores$$.
+      86349 $$single_level_scores$$.
     <h4>$$Ratings$$</h4>
-      14496 $$single_level_ratings$$ 4.90 $$and_distribution$$: 
+      16668 $$single_level_ratings$$ 4.93 $$and_distribution$$: 
       <table>
         <colgroup><col width="80"><col width="80"></colgroup>
         <tr><th>$$rating$$</th><th>$$count$$</th></tr>
-        <tr><td class="num">0</td><td class="num">84</td></tr>
-        <tr><td class="num">1</td><td class="num">283</td></tr>
-        <tr><td class="num">2</td><td class="num">780</td></tr>
-        <tr><td class="num">3</td><td class="num">2059</td></tr>
-        <tr><td class="num">4</td><td class="num">2736</td></tr>
-        <tr><td class="num">5</td><td class="num">3445</td></tr>
-        <tr><td class="num">6</td><td class="num">2408</td></tr>
-        <tr><td class="num">7</td><td class="num">1667</td></tr>
-        <tr><td class="num">8</td><td class="num">654</td></tr>
-        <tr><td class="num">9</td><td class="num">261</td></tr>
-        <tr><td class="num">10</td><td class="num">119</td></tr>
+        <tr><td class="num">0</td><td class="num">105</td></tr>
+        <tr><td class="num">1</td><td class="num">304</td></tr>
+        <tr><td class="num">2</td><td class="num">864</td></tr>
+        <tr><td class="num">3</td><td class="num">2299</td></tr>
+        <tr><td class="num">4</td><td class="num">3154</td></tr>
+        <tr><td class="num">5</td><td class="num">3989</td></tr>
+        <tr><td class="num">6</td><td class="num">2825</td></tr>
+        <tr><td class="num">7</td><td class="num">1900</td></tr>
+        <tr><td class="num">8</td><td class="num">762</td></tr>
+        <tr><td class="num">9</td><td class="num">307</td></tr>
+        <tr><td class="num">10</td><td class="num">159</td></tr>
       </table>
   </div>

Modified: feature_branches/hp_lotm/input/table-hcp.html
===================================================================
--- feature_branches/hp_lotm/input/table-hcp.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/table-hcp.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,155 +1,172 @@
   <table>
-    <caption>$$Handicap_Statistics$$ $$May$$ 2008</caption>
+    <caption>$$Handicap_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>$$solved_hcp$$</th><th class="left">$$user$$</th></tr>
-     <tr><td class="num">-143.8</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num"> -81.8</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num"> -81.6</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num"> -75.4</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -70.3</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -60.1</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -58.7</td><td class="left">'Malla'</td></tr>
-     <tr><td class="num"> -54.0</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -51.1</td><td class="left">'dev0'</td></tr>
-     <tr><td class="num"> -48.2</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -42.8</td><td class="left">'Gloop'</td></tr>
-     <tr><td class="num"> -42.0</td><td class="left">'Alexandros'</td></tr>
-     <tr><td class="num"> -39.6</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -36.4</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num"> -31.1</td><td class="left">'B-Huff'</td></tr>
-     <tr><td class="num"> -30.9</td><td class="left">'Ludmian'</td></tr>
-     <tr><td class="num"> -28.6</td><td class="left">'Zekobah'</td></tr>
-     <tr><td class="num"> -26.3</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -24.1</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -22.5</td><td class="left">'hendrik'</td></tr>
-     <tr><td class="num"> -22.4</td><td class="left">'Emmanuel'</td></tr>
-     <tr><td class="num"> -21.0</td><td class="left">'ABS'</td></tr>
-     <tr><td class="num"> -20.9</td><td class="left">'dpl'</td></tr>
-     <tr><td class="num"> -18.9</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -15.6</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -15.2</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -11.8</td><td class="left">'Daisy'</td></tr>
-     <tr><td class="num"> -11.8</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num"> -11.0</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num">  -7.9</td><td class="left">'joseba'</td></tr>
-     <tr><td class="num">  -7.7</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num">  -3.7</td><td class="left">'Daniel'</td></tr>
-     <tr><td class="num">  -2.4</td><td class="left">'fabian'</td></tr>
-     <tr><td class="num">  -1.0</td><td class="left">'Craven'</td></tr>
-     <tr><td class="num">  -0.8</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num">  -0.7</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num">   0.0</td><td class="left">'Freshman'</td></tr>
-     <tr><td class="num">   0.7</td><td class="left">'mrduke'</td></tr>
-     <tr><td class="num">   1.9</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num">   2.2</td><td class="left">'Tobias'</td></tr>
-     <tr><td class="num">   3.0</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">-142.1</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num"> -89.8</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -78.4</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num"> -78.2</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num"> -66.8</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -61.2</td><td class="left">'dev0'</td></tr>
+     <tr><td class="num"> -56.9</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -55.7</td><td class="left">'Malla'</td></tr>
+     <tr><td class="num"> -52.8</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num"> -47.4</td><td class="left">'Alexandros'</td></tr>
+     <tr><td class="num"> -46.1</td><td class="left">'Crystalicum'</td></tr>
+     <tr><td class="num"> -45.1</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -42.9</td><td class="left">'Gloop'</td></tr>
+     <tr><td class="num"> -42.2</td><td class="left">'Mentist'</td></tr>
+     <tr><td class="num"> -37.8</td><td class="left">'Daisy'</td></tr>
+     <tr><td class="num"> -36.0</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -33.3</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -32.9</td><td class="left">'Emmanuel'</td></tr>
+     <tr><td class="num"> -30.4</td><td class="left">'Ludmian'</td></tr>
+     <tr><td class="num"> -27.8</td><td class="left">'B-Huff'</td></tr>
+     <tr><td class="num"> -25.8</td><td class="left">'dpl'</td></tr>
+     <tr><td class="num"> -25.0</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num"> -24.0</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -21.1</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -19.3</td><td class="left">'hendrik'</td></tr>
+     <tr><td class="num"> -18.1</td><td class="left">'ABS'</td></tr>
+     <tr><td class="num"> -17.0</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -16.6</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -14.6</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -13.2</td><td class="left">'Angolino'</td></tr>
+     <tr><td class="num">  -9.4</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num">  -8.7</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num">  -5.4</td><td class="left">'Iceshark7'</td></tr>
+     <tr><td class="num">  -5.1</td><td class="left">'Timo'</td></tr>
+     <tr><td class="num">  -4.9</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">  -1.6</td><td class="left">'Daniel'</td></tr>
+     <tr><td class="num">  -0.4</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num">  -0.0</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">   0.2</td><td class="left">'Hairball'</td></tr>
+     <tr><td class="num">   0.9</td><td class="left">'Craven'</td></tr>
+     <tr><td class="num">   1.0</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num">   1.3</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num">   1.7</td><td class="left">'Freshman'</td></tr>
+     <tr><td class="num">   2.6</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">   3.6</td><td class="left">'para_doks'</td></tr>
      <tr><td class="num">   3.7</td><td class="left">'Kevin'</td></tr>
-     <tr><td class="num">   4.0</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">   4.4</td><td class="left">'Andy'</td></tr>
-     <tr><td class="num">   4.5</td><td class="left">'serpent'</td></tr>
-     <tr><td class="num">   6.6</td><td class="left">'Austin'</td></tr>
-     <tr><td class="num">   8.5</td><td class="left">'shoki'</td></tr>
-     <tr><td class="num">  10.0</td><td class="left">'Tiza'</td></tr>
-     <tr><td class="num">  11.1</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  12.7</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num">  13.5</td><td class="left">'alfred69'</td></tr>
-     <tr><td class="num">  13.8</td><td class="left">'Chocolate Zero'</td></tr>
-     <tr><td class="num">  14.6</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">  14.7</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  14.9</td><td class="left">'Agnieszka'</td></tr>
-     <tr><td class="num">  19.5</td><td class="left">'Alex'</td></tr>
-     <tr><td class="num">  21.4</td><td class="left">'Antonio EE'</td></tr>
-     <tr><td class="num">  22.3</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">  22.4</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">  22.7</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">  23.1</td><td class="left">'Angolino'</td></tr>
-     <tr><td class="num">  23.6</td><td class="left">'Bent'</td></tr>
-     <tr><td class="num">  23.6</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">  24.4</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">  25.1</td><td class="left">'Gottseinsohn'</td></tr>
-     <tr><td class="num">  25.5</td><td class="left">'Hans-HD'</td></tr>
-     <tr><td class="num">  26.1</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">  27.3</td><td class="left">'Little_Mole'</td></tr>
-     <tr><td class="num">  27.4</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  28.6</td><td class="left">'biotopa'</td></tr>
-     <tr><td class="num">  29.3</td><td class="left">'oblo'</td></tr>
-     <tr><td class="num">  29.6</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  29.9</td><td class="left">'geembo_90'</td></tr>
-     <tr><td class="num">  30.6</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  31.1</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  31.3</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  31.5</td><td class="left">'Vinksu'</td></tr>
-     <tr><td class="num">  31.7</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  31.7</td><td class="left">'NorthForty'</td></tr>
-     <tr><td class="num">  31.9</td><td class="left">'Gorn'</td></tr>
-     <tr><td class="num">  32.1</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  34.8</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  34.8</td><td class="left">'MicWa'</td></tr>
-     <tr><td class="num">  35.0</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  35.3</td><td class="left">'Kosby'</td></tr>
-     <tr><td class="num">  37.2</td><td class="left">'Rugby4ever'</td></tr>
-     <tr><td class="num">  38.2</td><td class="left">'mecke'</td></tr>
-     <tr><td class="num">  38.5</td><td class="left">'Drotten'</td></tr>
-     <tr><td class="num">  38.8</td><td class="left">'Archcorenth'</td></tr>
-     <tr><td class="num">  39.1</td><td class="left">'Harry Lim'</td></tr>
-     <tr><td class="num">  39.2</td><td class="left">'B-man'</td></tr>
-     <tr><td class="num">  39.6</td><td class="left">'Nfol'</td></tr>
-     <tr><td class="num">  40.7</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  41.0</td><td class="left">'gringer'</td></tr>
-     <tr><td class="num">  41.3</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  41.3</td><td class="left">'Snaily'</td></tr>
-     <tr><td class="num">  42.6</td><td class="left">'Momcat'</td></tr>
-     <tr><td class="num">  42.7</td><td class="left">'Liam Sheehan'</td></tr>
-     <tr><td class="num">  43.1</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  43.3</td><td class="left">'Uli'</td></tr>
-     <tr><td class="num">  45.1</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  45.6</td><td class="left">'IntKecsk'</td></tr>
-     <tr><td class="num">  45.8</td><td class="left">'tjRaven'</td></tr>
-     <tr><td class="num">  47.0</td><td class="left">'ntaeijr'</td></tr>
-     <tr><td class="num">  47.1</td><td class="left">'mhatta'</td></tr>
-     <tr><td class="num">  48.7</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  49.2</td><td class="left">'rima'</td></tr>
-     <tr><td class="num">  49.3</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  49.6</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  50.5</td><td class="left">'jdcampo'</td></tr>
-     <tr><td class="num">  51.0</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  51.4</td><td class="left">'brynn'</td></tr>
-     <tr><td class="num">  51.5</td><td class="left">'AkRa'</td></tr>
-     <tr><td class="num">  51.8</td><td class="left">'Slav'</td></tr>
-     <tr><td class="num">  51.9</td><td class="left">'Vaily'</td></tr>
-     <tr><td class="num">  53.1</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  53.1</td><td class="left">'Cyphase'</td></tr>
-     <tr><td class="num">  53.2</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  55.5</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  56.3</td><td class="left">'Adonica'</td></tr>
-     <tr><td class="num">  56.7</td><td class="left">'Kadu'</td></tr>
-     <tr><td class="num">  58.9</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  59.7</td><td class="left">'Sopoforic'</td></tr>
-     <tr><td class="num">  61.7</td><td class="left">'Asbel'</td></tr>
-     <tr><td class="num">  63.5</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  66.0</td><td class="left">'ael'</td></tr>
-     <tr><td class="num">  66.3</td><td class="left">'Fred_the_wise'</td></tr>
-     <tr><td class="num">  66.4</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  66.8</td><td class="left">'schmusi20'</td></tr>
-     <tr><td class="num">  67.1</td><td class="left">'Sparkey'</td></tr>
-     <tr><td class="num">  67.4</td><td class="left">'Alf'</td></tr>
-     <tr><td class="num">  69.0</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  69.7</td><td class="left">'Zhura'</td></tr>
-     <tr><td class="num">  70.1</td><td class="left">'xmouse'</td></tr>
-     <tr><td class="num">  70.7</td><td class="left">'tasker'</td></tr>
-     <tr><td class="num">  71.7</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  72.0</td><td class="left">'AQZ'</td></tr>
-     <tr><td class="num">  73.4</td><td class="left">'crypto_rsa'</td></tr>
-     <tr><td class="num">  73.9</td><td class="left">'Dvorhagen'</td></tr>
-     <tr><td class="num">  74.7</td><td class="left">'Eselchen'</td></tr>
-     <tr><td class="num">  74.9</td><td class="left">'Nicol?s'</td></tr>
-     <tr><td class="num">  74.9</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  75.1</td><td class="left">'AsuCaga'</td></tr>
-     <tr><td class="num">  78.3</td><td class="left">'colonel crayon'</td></tr>
-     <tr><td class="num">  79.2</td><td class="left">'Kroetchen'</td></tr>
-     <tr><td class="num">  80.2</td><td class="left">'Agares'</td></tr>
-     <tr><td class="num">  84.8</td><td class="left">'Miel56'</td></tr>
-     <tr><td class="num">  90.0</td><td class="left">'The red O'</td></tr>
-     <tr><td class="num">  90.1</td><td class="left">'Sequoyah'</td></tr>
+     <tr><td class="num">   3.9</td><td class="left">'Tobias'</td></tr>
+     <tr><td class="num">   5.2</td><td class="left">'Guglielmo'</td></tr>
+     <tr><td class="num">   5.4</td><td class="left">'alfred69'</td></tr>
+     <tr><td class="num">   5.6</td><td class="left">'Tiza'</td></tr>
+     <tr><td class="num">   6.4</td><td class="left">'Andy'</td></tr>
+     <tr><td class="num">   6.4</td><td class="left">'serpent'</td></tr>
+     <tr><td class="num">   8.7</td><td class="left">'Austin'</td></tr>
+     <tr><td class="num">  10.1</td><td class="left">'shoki'</td></tr>
+     <tr><td class="num">  11.1</td><td class="left">'mecke'</td></tr>
+     <tr><td class="num">  12.8</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">  14.6</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  14.9</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">  15.9</td><td class="left">'AlephD'</td></tr>
+     <tr><td class="num">  16.1</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">  16.2</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  16.7</td><td class="left">'Agnieszka'</td></tr>
+     <tr><td class="num">  20.3</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">  20.7</td><td class="left">'Alex'</td></tr>
+     <tr><td class="num">  23.0</td><td class="left">'Antonio EE'</td></tr>
+     <tr><td class="num">  23.3</td><td class="left">'Jinajon'</td></tr>
+     <tr><td class="num">  23.5</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">  23.9</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">  24.0</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  24.9</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  25.2</td><td class="left">'Feynman'</td></tr>
+     <tr><td class="num">  25.7</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">  26.1</td><td class="left">'Gottseinsohn'</td></tr>
+     <tr><td class="num">  26.2</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  26.9</td><td class="left">'Hans-HD'</td></tr>
+     <tr><td class="num">  28.2</td><td class="left">'un_guru'</td></tr>
+     <tr><td class="num">  28.5</td><td class="left">'Little_Mole'</td></tr>
+     <tr><td class="num">  28.8</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  29.6</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">  29.7</td><td class="left">'oxyd4ever'</td></tr>
+     <tr><td class="num">  29.8</td><td class="left">'Vinksu'</td></tr>
+     <tr><td class="num">  29.9</td><td class="left">'GiannuzzITA'</td></tr>
+     <tr><td class="num">  30.3</td><td class="left">'oblo'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'Sigma'</td></tr>
+     <tr><td class="num">  30.6</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  31.4</td><td class="left">'geembo_90'</td></tr>
+     <tr><td class="num">  31.9</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  32.0</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  32.5</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  32.7</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  32.9</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  32.9</td><td class="left">'Gorn'</td></tr>
+     <tr><td class="num">  35.8</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  35.8</td><td class="left">'MicWa'</td></tr>
+     <tr><td class="num">  36.0</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  36.3</td><td class="left">'Kosby'</td></tr>
+     <tr><td class="num">  37.2</td><td class="left">'alain'</td></tr>
+     <tr><td class="num">  38.0</td><td class="left">'Liam Sheehan'</td></tr>
+     <tr><td class="num">  38.1</td><td class="left">'Rugby4ever'</td></tr>
+     <tr><td class="num">  39.3</td><td class="left">'Drotten'</td></tr>
+     <tr><td class="num">  39.4</td><td class="left">'WesleyCrusher'</td></tr>
+     <tr><td class="num">  39.8</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  40.1</td><td class="left">'Harry Lim'</td></tr>
+     <tr><td class="num">  40.5</td><td class="left">'B-man'</td></tr>
+     <tr><td class="num">  40.7</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  41.7</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  41.7</td><td class="left">'gringer'</td></tr>
+     <tr><td class="num">  42.2</td><td class="left">'Snaily'</td></tr>
+     <tr><td class="num">  42.3</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  43.5</td><td class="left">'Momcat'</td></tr>
+     <tr><td class="num">  44.2</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  44.4</td><td class="left">'Uli'</td></tr>
+     <tr><td class="num">  45.8</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  46.6</td><td class="left">'IntKecsk'</td></tr>
+     <tr><td class="num">  47.0</td><td class="left">'tjRaven'</td></tr>
+     <tr><td class="num">  47.7</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  47.9</td><td class="left">'ntaeijr'</td></tr>
+     <tr><td class="num">  47.9</td><td class="left">'mhatta'</td></tr>
+     <tr><td class="num">  49.6</td><td class="left">'Zak'</td></tr>
+     <tr><td class="num">  50.1</td><td class="left">'rima'</td></tr>
+     <tr><td class="num">  50.5</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  51.1</td><td class="left">'ReasonAnce'</td></tr>
+     <tr><td class="num">  51.4</td><td class="left">'jdcampo'</td></tr>
+     <tr><td class="num">  51.7</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  52.0</td><td class="left">'brynn'</td></tr>
+     <tr><td class="num">  52.4</td><td class="left">'Slav'</td></tr>
+     <tr><td class="num">  52.5</td><td class="left">'AkRa'</td></tr>
+     <tr><td class="num">  52.9</td><td class="left">'Pascal'</td></tr>
+     <tr><td class="num">  52.9</td><td class="left">'Vaily'</td></tr>
+     <tr><td class="num">  53.8</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  53.9</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  53.9</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  56.2</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  57.2</td><td class="left">'Adonica'</td></tr>
+     <tr><td class="num">  57.5</td><td class="left">'Kadu'</td></tr>
+     <tr><td class="num">  59.6</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  60.2</td><td class="left">'Sopoforic'</td></tr>
+     <tr><td class="num">  61.0</td><td class="left">'jumbo'</td></tr>
+     <tr><td class="num">  61.5</td><td class="left">'jdrexler'</td></tr>
+     <tr><td class="num">  62.3</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  64.1</td><td class="left">'tasker'</td></tr>
+     <tr><td class="num">  64.4</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  66.4</td><td class="left">'ael'</td></tr>
+     <tr><td class="num">  66.7</td><td class="left">'Tomson'</td></tr>
+     <tr><td class="num">  67.0</td><td class="left">'Samuel'</td></tr>
+     <tr><td class="num">  67.2</td><td class="left">'schmusi20'</td></tr>
+     <tr><td class="num">  67.2</td><td class="left">'Fred_the_wise'</td></tr>
+     <tr><td class="num">  67.4</td><td class="left">'Sparkey'</td></tr>
+     <tr><td class="num">  67.8</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  69.5</td><td class="left">'Magnus and Susi'</td></tr>
+     <tr><td class="num">  70.1</td><td class="left">'Zhura'</td></tr>
+     <tr><td class="num">  70.8</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  72.2</td><td class="left">'Joona'</td></tr>
+     <tr><td class="num">  72.3</td><td class="left">'AQZ'</td></tr>
+     <tr><td class="num">  73.9</td><td class="left">'crypto_rsa'</td></tr>
+     <tr><td class="num">  74.1</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  75.0</td><td class="left">'Eselchen'</td></tr>
+     <tr><td class="num">  75.2</td><td class="left">'Nicol?s'</td></tr>
+     <tr><td class="num">  75.3</td><td class="left">'jojo'</td></tr>
+     <tr><td class="num">  75.3</td><td class="left">'AsuCaga'</td></tr>
+     <tr><td class="num">  78.8</td><td class="left">'colonel crayon'</td></tr>
+     <tr><td class="num">  79.5</td><td class="left">'Kroetchen'</td></tr>
+     <tr><td class="num">  80.3</td><td class="left">'Agares'</td></tr>
+     <tr><td class="num">  85.2</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  90.1</td><td class="left">'The red O'</td></tr>
+     <tr><td class="num">  90.3</td><td class="left">'Sequoyah'</td></tr>
      <tr><td class="num">  92.3</td><td class="left">'Michael'</td></tr>
   </table>

Modified: feature_branches/hp_lotm/input/table-rat.html
===================================================================
--- feature_branches/hp_lotm/input/table-rat.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/table-rat.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,57 +1,65 @@
   <table>
-    <caption>$$Rating_Statistics$$ $$May$$ 2008</caption>
+    <caption>$$Rating_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
     <tr><th>$$count$$</th><th>$$average$$</th><th class="left">$$user$$</th></tr>    <tr><td class="num">1062</td><td class="num"> 5.06</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1056</td><td class="num"> 4.83</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">974</td><td class="num"> 5.03</td><td class="left">'dev0'</td></tr>
-    <tr><td class="num">873</td><td class="num"> 4.79</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">1045</td><td class="num"> 4.93</td><td class="left">'Crystalicum'</td></tr>
+    <tr><td class="num">1033</td><td class="num"> 5.05</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num">896</td><td class="num"> 4.79</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num">653</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num">643</td><td class="num"> 4.79</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num">628</td><td class="num"> 5.00</td><td class="left">'Moneymaker'</td></tr>
     <tr><td class="num">622</td><td class="num"> 4.22</td><td class="left">'shoki'</td></tr>
-    <tr><td class="num">596</td><td class="num"> 4.82</td><td class="left">'U-Punkt'</td></tr>
-    <tr><td class="num">552</td><td class="num"> 5.14</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num">573</td><td class="num"> 5.16</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num">562</td><td class="num"> 4.48</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num">534</td><td class="num"> 4.97</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num">511</td><td class="num"> 5.30</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">487</td><td class="num"> 5.02</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">504</td><td class="num"> 5.05</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">482</td><td class="num"> 4.04</td><td class="left">'Vinksu'</td></tr>
     <tr><td class="num">448</td><td class="num"> 5.08</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num">438</td><td class="num"> 4.23</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num">433</td><td class="num"> 4.36</td><td class="left">'ged'</td></tr>
     <tr><td class="num">388</td><td class="num"> 4.86</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num">369</td><td class="num"> 4.04</td><td class="left">'Vinksu'</td></tr>
+    <tr><td class="num">379</td><td class="num"> 5.00</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">307</td><td class="num"> 4.01</td><td class="left">'Sim_Ed'</td></tr>
     <tr><td class="num">285</td><td class="num"> 4.60</td><td class="left">'ABS'</td></tr>
     <tr><td class="num">254</td><td class="num"> 4.91</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num">208</td><td class="num"> 6.15</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num">200</td><td class="num"> 5.74</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num">195</td><td class="num"> 5.78</td><td class="left">'Mentist'</td></tr>
     <tr><td class="num">187</td><td class="num"> 5.05</td><td class="left">'WP319'</td></tr>
-    <tr><td class="num">158</td><td class="num"> 5.05</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num">135</td><td class="num"> 4.13</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">129</td><td class="num"> 5.64</td><td class="left">'Raoul'</td></tr>
     <tr><td class="num"> 97</td><td class="num"> 4.16</td><td class="left">'Safalra'</td></tr>
     <tr><td class="num"> 91</td><td class="num"> 4.41</td><td class="left">'Zhura'</td></tr>
     <tr><td class="num"> 85</td><td class="num"> 4.76</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 80</td><td class="num"> 5.34</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 75</td><td class="num"> 4.52</td><td class="left">'Kroetchen'</td></tr>
     <tr><td class="num"> 72</td><td class="num"> 5.63</td><td class="left">'Wuzzy'</td></tr>
-    <tr><td class="num"> 62</td><td class="num"> 6.03</td><td class="left">'mecke'</td></tr>
+    <tr><td class="num"> 64</td><td class="num"> 6.08</td><td class="left">'mecke'</td></tr>
+    <tr><td class="num"> 63</td><td class="num"> 4.84</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 52</td><td class="num"> 6.56</td><td class="left">'Hairball'</td></tr>
     <tr><td class="num"> 51</td><td class="num"> 6.39</td><td class="left">'Little_Mole'</td></tr>
     <tr><td class="num"> 50</td><td class="num"> 5.26</td><td class="left">'Daniel'</td></tr>
     <tr><td class="num"> 49</td><td class="num"> 6.02</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 49</td><td class="num"> 4.90</td><td class="left">'hendrik'</td></tr>
+    <tr><td class="num"> 47</td><td class="num"> 6.62</td><td class="left">'Ale'</td></tr>
     <tr><td class="num"> 43</td><td class="num"> 3.74</td><td class="left">'Iceshark7'</td></tr>
     <tr><td class="num"> 39</td><td class="num"> 6.08</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 33</td><td class="num"> 3.39</td><td class="left">'Freshman'</td></tr>
     <tr><td class="num"> 33</td><td class="num"> 5.27</td><td class="left">'gringer'</td></tr>
+    <tr><td class="num"> 32</td><td class="num"> 5.97</td><td class="left">'ReasonAnce'</td></tr>
     <tr><td class="num"> 31</td><td class="num"> 7.61</td><td class="left">'AkRa'</td></tr>
     <tr><td class="num"> 30</td><td class="num"> 4.40</td><td class="left">'Archcorenth'</td></tr>
+    <tr><td class="num"> 30</td><td class="num"> 6.93</td><td class="left">'un_guru'</td></tr>
     <tr><td class="num"> 25</td><td class="num"> 4.88</td><td class="left">'Drotten'</td></tr>
-    <tr><td class="num"> 24</td><td class="num"> 7.13</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 22</td><td class="num"> 7.45</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 19</td><td class="num"> 3.74</td><td class="left">'Eselchen'</td></tr>
     <tr><td class="num"> 17</td><td class="num"> 5.53</td><td class="left">'Jeffrey S'</td></tr>
-    <tr><td class="num"> 16</td><td class="num"> 7.63</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 3.25</td><td class="left">'tasker'</td></tr>
     <tr><td class="num"> 16</td><td class="num"> 3.88</td><td class="left">'Mecki'</td></tr>
-    <tr><td class="num"> 13</td><td class="num"> 7.69</td><td class="left">'Ale'</td></tr>
     <tr><td class="num"> 13</td><td class="num"> 5.23</td><td class="left">'Samuel'</td></tr>
+    <tr><td class="num"> 13</td><td class="num"> 8.15</td><td class="left">'Ludmian'</td></tr>
     <tr><td class="num"> 11</td><td class="num"> 6.36</td><td class="left">'ShadowPhrogg32642342'</td></tr>
     <tr><td class="num"> 10</td><td class="num"> 7.80</td><td class="left">'hdwow'</td></tr>
     <tr><td class="num">  8</td><td class="num"> 3.25</td><td class="left">'Vlad'</td></tr>
@@ -62,6 +70,7 @@
     <tr><td class="num">  4</td><td class="num"> 6.75</td><td class="left">'Agares'</td></tr>
     <tr><td class="num">  4</td><td class="num">10.00</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 5.75</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 5.75</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 1.00</td><td class="left">'Hans-HD'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 6.50</td><td class="left">'serpent'</td></tr>
     <tr><td class="num">  4</td><td class="num"> 7.00</td><td class="left">'redsantz'</td></tr>
@@ -71,11 +80,11 @@
     <tr><td class="num">  3</td><td class="num"> 3.00</td><td class="left">'Rugby4ever'</td></tr>
     <tr><td class="num">  3</td><td class="num"> 4.33</td><td class="left">'krazy62'</td></tr>
     <tr><td class="num">  2</td><td class="num"> 6.50</td><td class="left">'tjRaven'</td></tr>
-    <tr><td class="num">  2</td><td class="num"> 6.00</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num">  2</td><td class="num"> 0.00</td><td class="left">'mhatta'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'jumbo'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'ael'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 1.00</td><td class="left">'Sigma'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 6.00</td><td class="left">'Slav'</td></tr>
-    <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 5.00</td><td class="left">'Uli'</td></tr>
     <tr><td class="num">  1</td><td class="num"> 0.00</td><td class="left">'Fred_the_wise'</td></tr>
     <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Cyphase'</td></tr>

Modified: feature_branches/hp_lotm/input/table-solved.html
===================================================================
--- feature_branches/hp_lotm/input/table-solved.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/table-solved.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,29 +1,30 @@
   <table>
-    <caption>$$Solved_Level_Statistics$$ $$May$$ 2008</caption>
+    <caption>$$Solved_Level_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>$$difficult$$</th><th>$$easy$$</th><th>$$total$$</th><th class="left">$$user$$</th></tr>
     <tr><td class="num">1045/1045</td><td class="num">189/189</td><td class="num">100.00%</td><td class="left">'ryujun'</td></tr>
     <tr><td class="num">1043/1045</td><td class="num">189/189</td><td class="num"> 99.84%</td><td class="left">'Taztunes'</td></tr>
+    <tr><td class="num">1034/1045</td><td class="num">188/189</td><td class="num"> 99.03%</td><td class="left">'dev0'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">185/189</td><td class="num"> 98.38%</td><td class="left">'Freshman'</td></tr>
+    <tr><td class="num">1024/1045</td><td class="num">188/189</td><td class="num"> 98.22%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">1029/1045</td><td class="num">183/189</td><td class="num"> 98.22%</td><td class="left">'Craven'</td></tr>
+    <tr><td class="num">1026/1045</td><td class="num">185/189</td><td class="num"> 98.14%</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num">1026/1045</td><td class="num">184/189</td><td class="num"> 98.06%</td><td class="left">'daydreamer'</td></tr>
     <tr><td class="num">1031/1045</td><td class="num">179/189</td><td class="num"> 98.06%</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">1016/1045</td><td class="num">182/189</td><td class="num"> 97.08%</td><td class="left">'Ronald'</td></tr>
     <tr><td class="num">1021/1045</td><td class="num">177/189</td><td class="num"> 97.08%</td><td class="left">'Malla'</td></tr>
     <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
     <tr><td class="num"> 999/1045</td><td class="num">177/189</td><td class="num"> 95.30%</td><td class="left">'biotopa'</td></tr>
-    <tr><td class="num"> 995/1045</td><td class="num">175/189</td><td class="num"> 94.81%</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 977/1045</td><td class="num">173/189</td><td class="num"> 93.19%</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 971/1045</td><td class="num">175/189</td><td class="num"> 92.87%</td><td class="left">'Daisy'</td></tr>
     <tr><td class="num"> 970/1045</td><td class="num">166/189</td><td class="num"> 92.06%</td><td class="left">'Andy'</td></tr>
+    <tr><td class="num"> 960/1045</td><td class="num">173/189</td><td class="num"> 91.82%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 949/1045</td><td class="num">170/189</td><td class="num"> 90.68%</td><td class="left">'para_doks'</td></tr>
-    <tr><td class="num"> 945/1045</td><td class="num">172/189</td><td class="num"> 90.52%</td><td class="left">'Daisy'</td></tr>
-    <tr><td class="num"> 947/1045</td><td class="num">169/189</td><td class="num"> 90.44%</td><td class="left">'mecke'</td></tr>
     <tr><td class="num"> 922/1045</td><td class="num">154/189</td><td class="num"> 87.20%</td><td class="left">'mrduke'</td></tr>
     <tr><td class="num"> 933/1045</td><td class="num">125/189</td><td class="num"> 85.74%</td><td class="left">'Alex'</td></tr>
     <tr><td class="num"> 914/1045</td><td class="num">135/189</td><td class="num"> 85.01%</td><td class="left">'JuSt'</td></tr>
     <tr><td class="num"> 894/1045</td><td class="num">140/189</td><td class="num"> 83.79%</td><td class="left">'Johannes'</td></tr>
     <tr><td class="num"> 863/1045</td><td class="num">161/189</td><td class="num"> 82.98%</td><td class="left">'Tobias'</td></tr>
     <tr><td class="num"> 917/1045</td><td class="num">106/189</td><td class="num"> 82.90%</td><td class="left">'Django'</td></tr>
-    <tr><td class="num"> 863/1045</td><td class="num">150/189</td><td class="num"> 82.09%</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num"> 866/1045</td><td class="num">151/189</td><td class="num"> 82.41%</td><td class="left">'Gloop'</td></tr>
     <tr><td class="num"> 849/1045</td><td class="num">151/189</td><td class="num"> 81.04%</td><td class="left">'WP319'</td></tr>
     <tr><td class="num"> 867/1045</td><td class="num">124/189</td><td class="num"> 80.31%</td><td class="left">'Lukas'</td></tr>
     <tr><td class="num"> 846/1045</td><td class="num">144/189</td><td class="num"> 80.23%</td><td class="left">'Gorn'</td></tr>
@@ -31,74 +32,85 @@
     <tr><td class="num"> 874/1045</td><td class="num">103/189</td><td class="num"> 79.17%</td><td class="left">'Melanie'</td></tr>
     <tr><td class="num"> 950/1045</td><td class="num">  0/189</td><td class="num"> 76.99%</td><td class="left">'Tarim'</td></tr>
     <tr><td class="num"> 804/1045</td><td class="num">142/189</td><td class="num"> 76.66%</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num"> 938/1045</td><td class="num">  1/189</td><td class="num"> 76.09%</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num"> 772/1045</td><td class="num">113/189</td><td class="num"> 71.72%</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num"> 800/1045</td><td class="num">135/189</td><td class="num"> 75.77%</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num"> 782/1045</td><td class="num">132/189</td><td class="num"> 74.07%</td><td class="left">'AlephD'</td></tr>
+    <tr><td class="num"> 786/1045</td><td class="num">127/189</td><td class="num"> 73.99%</td><td class="left">'Ludmian'</td></tr>
+    <tr><td class="num"> 779/1045</td><td class="num">121/189</td><td class="num"> 72.93%</td><td class="left">'U-Punkt'</td></tr>
     <tr><td class="num"> 739/1045</td><td class="num">131/189</td><td class="num"> 70.50%</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num"> 740/1045</td><td class="num">123/189</td><td class="num"> 69.94%</td><td class="left">'dpl'</td></tr>
     <tr><td class="num"> 728/1045</td><td class="num">126/189</td><td class="num"> 69.21%</td><td class="left">'B-Huff'</td></tr>
     <tr><td class="num"> 755/1045</td><td class="num"> 96/189</td><td class="num"> 68.96%</td><td class="left">'brynn'</td></tr>
     <tr><td class="num"> 762/1045</td><td class="num"> 73/189</td><td class="num"> 67.67%</td><td class="left">'redsantz'</td></tr>
-    <tr><td class="num"> 710/1045</td><td class="num">116/189</td><td class="num"> 66.94%</td><td class="left">'Ludmian'</td></tr>
+    <tr><td class="num"> 712/1045</td><td class="num">120/189</td><td class="num"> 67.42%</td><td class="left">'Mentist'</td></tr>
+    <tr><td class="num"> 791/1045</td><td class="num"> 38/189</td><td class="num"> 67.18%</td><td class="left">'alfred69'</td></tr>
     <tr><td class="num"> 734/1045</td><td class="num"> 82/189</td><td class="num"> 66.13%</td><td class="left">'bojster'</td></tr>
     <tr><td class="num"> 782/1045</td><td class="num"> 33/189</td><td class="num"> 66.05%</td><td class="left">'Sim_Ed'</td></tr>
-    <tr><td class="num"> 766/1045</td><td class="num"> 37/189</td><td class="num"> 65.07%</td><td class="left">'alfred69'</td></tr>
+    <tr><td class="num"> 680/1045</td><td class="num">130/189</td><td class="num"> 65.64%</td><td class="left">'Alexandros'</td></tr>
     <tr><td class="num"> 681/1045</td><td class="num"> 78/189</td><td class="num"> 61.51%</td><td class="left">'HuB34'</td></tr>
     <tr><td class="num"> 659/1045</td><td class="num"> 95/189</td><td class="num"> 61.10%</td><td class="left">'Marc-Hendrik'</td></tr>
-    <tr><td class="num"> 633/1045</td><td class="num">110/189</td><td class="num"> 60.21%</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num"> 631/1045</td><td class="num">110/189</td><td class="num"> 60.05%</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num"> 665/1045</td><td class="num"> 64/189</td><td class="num"> 59.08%</td><td class="left">'alain'</td></tr>
     <tr><td class="num"> 643/1045</td><td class="num"> 83/189</td><td class="num"> 58.83%</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 617/1045</td><td class="num">107/189</td><td class="num"> 58.67%</td><td class="left">'Ghatotkacha'</td></tr>
     <tr><td class="num"> 714/1045</td><td class="num">  0/189</td><td class="num"> 57.86%</td><td class="left">'Gottseinsohn'</td></tr>
     <tr><td class="num"> 620/1045</td><td class="num"> 72/189</td><td class="num"> 56.08%</td><td class="left">'Breezy'</td></tr>
     <tr><td class="num"> 636/1045</td><td class="num"> 55/189</td><td class="num"> 56.00%</td><td class="left">'fabian'</td></tr>
-    <tr><td class="num"> 566/1045</td><td class="num">117/189</td><td class="num"> 55.35%</td><td class="left">'Alexandros'</td></tr>
-    <tr><td class="num"> 569/1045</td><td class="num">113/189</td><td class="num"> 55.27%</td><td class="left">'Mark P.'</td></tr>
-    <tr><td class="num"> 588/1045</td><td class="num"> 93/189</td><td class="num"> 55.19%</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 575/1045</td><td class="num">115/189</td><td class="num"> 55.92%</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 647/1045</td><td class="num"> 38/189</td><td class="num"> 55.51%</td><td class="left">'Valkyrie2'</td></tr>
     <tr><td class="num"> 599/1045</td><td class="num"> 80/189</td><td class="num"> 55.02%</td><td class="left">'serpent'</td></tr>
     <tr><td class="num"> 577/1045</td><td class="num">100/189</td><td class="num"> 54.86%</td><td class="left">'Zekobah'</td></tr>
     <tr><td class="num"> 634/1045</td><td class="num"> 43/189</td><td class="num"> 54.86%</td><td class="left">'Klaus'</td></tr>
     <tr><td class="num"> 576/1045</td><td class="num"> 93/189</td><td class="num"> 54.21%</td><td class="left">'Guglielmo'</td></tr>
+    <tr><td class="num"> 555/1045</td><td class="num"> 82/189</td><td class="num"> 51.62%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 525/1045</td><td class="num"> 95/189</td><td class="num"> 50.24%</td><td class="left">'ShadowPhrogg32642342'</td></tr>
     <tr><td class="num"> 589/1045</td><td class="num"> 26/189</td><td class="num"> 49.84%</td><td class="left">'hdwow'</td></tr>
     <tr><td class="num"> 533/1045</td><td class="num"> 82/189</td><td class="num"> 49.84%</td><td class="left">'Wuzzy'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num">108/189</td><td class="num"> 49.76%</td><td class="left">'Agnieszka'</td></tr>
     <tr><td class="num"> 613/1045</td><td class="num">  0/189</td><td class="num"> 49.68%</td><td class="left">'Little_Mole'</td></tr>
+    <tr><td class="num"> 499/1045</td><td class="num">111/189</td><td class="num"> 49.43%</td><td class="left">'Emmanuel'</td></tr>
     <tr><td class="num"> 500/1045</td><td class="num"> 92/189</td><td class="num"> 47.97%</td><td class="left">'Kosby'</td></tr>
+    <tr><td class="num"> 522/1045</td><td class="num"> 66/189</td><td class="num"> 47.65%</td><td class="left">'Timo'</td></tr>
     <tr><td class="num"> 478/1045</td><td class="num">101/189</td><td class="num"> 46.92%</td><td class="left">'Austin'</td></tr>
     <tr><td class="num"> 504/1045</td><td class="num"> 62/189</td><td class="num"> 45.87%</td><td class="left">'Hans-HD'</td></tr>
-    <tr><td class="num"> 519/1045</td><td class="num"> 37/189</td><td class="num"> 45.06%</td><td class="left">'Valkyrie2'</td></tr>
     <tr><td class="num"> 492/1045</td><td class="num"> 63/189</td><td class="num"> 44.98%</td><td class="left">'Antonio EE'</td></tr>
+    <tr><td class="num"> 541/1045</td><td class="num">  6/189</td><td class="num"> 44.33%</td><td class="left">'Vinksu'</td></tr>
     <tr><td class="num"> 516/1045</td><td class="num"> 24/189</td><td class="num"> 43.76%</td><td class="left">'niebie'</td></tr>
+    <tr><td class="num"> 508/1045</td><td class="num"> 26/189</td><td class="num"> 43.27%</td><td class="left">'Feynman'</td></tr>
+    <tr><td class="num"> 462/1045</td><td class="num"> 63/189</td><td class="num"> 42.54%</td><td class="left">'Liam Sheehan'</td></tr>
     <tr><td class="num"> 494/1045</td><td class="num"> 26/189</td><td class="num"> 42.14%</td><td class="left">'Daniel'</td></tr>
     <tr><td class="num"> 506/1045</td><td class="num"> 12/189</td><td class="num"> 41.98%</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 446/1045</td><td class="num"> 65/189</td><td class="num"> 41.41%</td><td class="left">'Tiza'</td></tr>
     <tr><td class="num"> 503/1045</td><td class="num">  7/189</td><td class="num"> 41.33%</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num"> 397/1045</td><td class="num"> 93/189</td><td class="num"> 39.71%</td><td class="left">'Hairball'</td></tr>
     <tr><td class="num"> 440/1045</td><td class="num"> 50/189</td><td class="num"> 39.71%</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 390/1045</td><td class="num"> 93/189</td><td class="num"> 39.14%</td><td class="left">'Emmanuel'</td></tr>
-    <tr><td class="num"> 467/1045</td><td class="num">  6/189</td><td class="num"> 38.33%</td><td class="left">'Vinksu'</td></tr>
+    <tr><td class="num"> 369/1045</td><td class="num">112/189</td><td class="num"> 38.98%</td><td class="left">'Jinajon'</td></tr>
     <tr><td class="num"> 438/1045</td><td class="num">  3/189</td><td class="num"> 35.74%</td><td class="left">'oblo'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 40/189</td><td class="num"> 35.01%</td><td class="left">'hendrik'</td></tr>
     <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 349/1045</td><td class="num"> 77/189</td><td class="num"> 34.52%</td><td class="left">'Sigma'</td></tr>
     <tr><td class="num"> 397/1045</td><td class="num"> 24/189</td><td class="num"> 34.12%</td><td class="left">'Chocolate Zero'</td></tr>
-    <tr><td class="num"> 368/1045</td><td class="num"> 44/189</td><td class="num"> 33.39%</td><td class="left">'Liam Sheehan'</td></tr>
     <tr><td class="num"> 376/1045</td><td class="num"> 35/189</td><td class="num"> 33.31%</td><td class="left">'Jeffrey S'</td></tr>
+    <tr><td class="num"> 341/1045</td><td class="num"> 69/189</td><td class="num"> 33.23%</td><td class="left">'Crystalicum'</td></tr>
     <tr><td class="num"> 392/1045</td><td class="num"> 12/189</td><td class="num"> 32.74%</td><td class="left">'NorthForty'</td></tr>
     <tr><td class="num"> 344/1045</td><td class="num"> 51/189</td><td class="num"> 32.01%</td><td class="left">'Momcat'</td></tr>
     <tr><td class="num"> 382/1045</td><td class="num"> 10/189</td><td class="num"> 31.77%</td><td class="left">'J3FF'</td></tr>
     <tr><td class="num"> 347/1045</td><td class="num"> 45/189</td><td class="num"> 31.77%</td><td class="left">'rima'</td></tr>
     <tr><td class="num"> 335/1045</td><td class="num"> 50/189</td><td class="num"> 31.20%</td><td class="left">'Harry Lim'</td></tr>
     <tr><td class="num"> 361/1045</td><td class="num"> 18/189</td><td class="num"> 30.71%</td><td class="left">'MicWa'</td></tr>
-    <tr><td class="num"> 306/1045</td><td class="num"> 71/189</td><td class="num"> 30.55%</td><td class="left">'Davacardo'</td></tr>
     <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
     <tr><td class="num"> 350/1045</td><td class="num"> 25/189</td><td class="num"> 30.39%</td><td class="left">'IntKecsk'</td></tr>
     <tr><td class="num"> 323/1045</td><td class="num"> 52/189</td><td class="num"> 30.39%</td><td class="left">'Kevin'</td></tr>
     <tr><td class="num"> 277/1045</td><td class="num"> 90/189</td><td class="num"> 29.74%</td><td class="left">'gringer'</td></tr>
+    <tr><td class="num"> 347/1045</td><td class="num"> 15/189</td><td class="num"> 29.34%</td><td class="left">'WesleyCrusher'</td></tr>
+    <tr><td class="num"> 303/1045</td><td class="num"> 50/189</td><td class="num"> 28.61%</td><td class="left">'Angolino'</td></tr>
     <tr><td class="num"> 331/1045</td><td class="num"> 14/189</td><td class="num"> 27.96%</td><td class="left">'Archcorenth'</td></tr>
     <tr><td class="num"> 281/1045</td><td class="num"> 63/189</td><td class="num"> 27.88%</td><td class="left">'erich'</td></tr>
     <tr><td class="num"> 295/1045</td><td class="num"> 29/189</td><td class="num"> 26.26%</td><td class="left">'Tiger'</td></tr>
     <tr><td class="num"> 288/1045</td><td class="num"> 36/189</td><td class="num"> 26.26%</td><td class="left">'Drotten'</td></tr>
     <tr><td class="num"> 300/1045</td><td class="num"> 19/189</td><td class="num"> 25.85%</td><td class="left">'Nfol'</td></tr>
     <tr><td class="num"> 261/1045</td><td class="num"> 53/189</td><td class="num"> 25.45%</td><td class="left">'Andreas'</td></tr>
+    <tr><td class="num"> 266/1045</td><td class="num"> 39/189</td><td class="num"> 24.72%</td><td class="left">'oxyd4ever'</td></tr>
     <tr><td class="num"> 269/1045</td><td class="num"> 26/189</td><td class="num"> 23.91%</td><td class="left">'Mecki'</td></tr>
     <tr><td class="num"> 276/1045</td><td class="num"> 15/189</td><td class="num"> 23.58%</td><td class="left">'Thomas'</td></tr>
+    <tr><td class="num"> 258/1045</td><td class="num"> 27/189</td><td class="num"> 23.10%</td><td class="left">'un_guru'</td></tr>
     <tr><td class="num"> 245/1045</td><td class="num"> 36/189</td><td class="num"> 22.77%</td><td class="left">'B-man'</td></tr>
     <tr><td class="num"> 259/1045</td><td class="num">  7/189</td><td class="num"> 21.56%</td><td class="left">'geembo_90'</td></tr>
     <tr><td class="num"> 243/1045</td><td class="num"> 23/189</td><td class="num"> 21.56%</td><td class="left">'Snaily'</td></tr>
@@ -107,9 +119,11 @@
     <tr><td class="num"> 208/1045</td><td class="num"> 33/189</td><td class="num"> 19.53%</td><td class="left">'Uli'</td></tr>
     <tr><td class="num"> 203/1045</td><td class="num"> 34/189</td><td class="num"> 19.21%</td><td class="left">'ntaeijr'</td></tr>
     <tr><td class="num"> 214/1045</td><td class="num"> 19/189</td><td class="num"> 18.88%</td><td class="left">'Adonica'</td></tr>
+    <tr><td class="num"> 188/1045</td><td class="num"> 33/189</td><td class="num"> 17.91%</td><td class="left">'Pascal'</td></tr>
+    <tr><td class="num"> 209/1045</td><td class="num"> 11/189</td><td class="num"> 17.83%</td><td class="left">'GiannuzzITA'</td></tr>
     <tr><td class="num"> 206/1045</td><td class="num">  4/189</td><td class="num"> 17.02%</td><td class="left">'krazy62'</td></tr>
     <tr><td class="num"> 181/1045</td><td class="num"> 20/189</td><td class="num"> 16.29%</td><td class="left">'Vaily'</td></tr>
-    <tr><td class="num"> 152/1045</td><td class="num"> 32/189</td><td class="num"> 14.91%</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 170/1045</td><td class="num"> 26/189</td><td class="num"> 15.88%</td><td class="left">'jumbo'</td></tr>
     <tr><td class="num"> 156/1045</td><td class="num"> 24/189</td><td class="num"> 14.59%</td><td class="left">'jdcampo'</td></tr>
     <tr><td class="num"> 125/1045</td><td class="num"> 55/189</td><td class="num"> 14.59%</td><td class="left">'Vlad'</td></tr>
     <tr><td class="num"> 149/1045</td><td class="num"> 30/189</td><td class="num"> 14.51%</td><td class="left">'Chris'</td></tr>
@@ -124,16 +138,19 @@
     <tr><td class="num"> 148/1045</td><td class="num">  5/189</td><td class="num"> 12.40%</td><td class="left">'Rugby4ever'</td></tr>
     <tr><td class="num"> 110/1045</td><td class="num"> 31/189</td><td class="num"> 11.43%</td><td class="left">'Cyphase'</td></tr>
     <tr><td class="num"> 124/1045</td><td class="num"> 15/189</td><td class="num"> 11.26%</td><td class="left">'Magnus and Susi'</td></tr>
+    <tr><td class="num"> 123/1045</td><td class="num"> 13/189</td><td class="num"> 11.02%</td><td class="left">'tasker'</td></tr>
     <tr><td class="num"> 131/1045</td><td class="num">  1/189</td><td class="num"> 10.70%</td><td class="left">'Asbel'</td></tr>
+    <tr><td class="num"> 121/1045</td><td class="num"> 10/189</td><td class="num"> 10.62%</td><td class="left">'Tomson'</td></tr>
     <tr><td class="num"> 105/1045</td><td class="num"> 22/189</td><td class="num"> 10.29%</td><td class="left">'Neophilus'</td></tr>
     <tr><td class="num">  89/1045</td><td class="num"> 24/189</td><td class="num">  9.16%</td><td class="left">'Zhura'</td></tr>
+    <tr><td class="num">  98/1045</td><td class="num"> 13/189</td><td class="num">  9.00%</td><td class="left">'ReasonAnce'</td></tr>
     <tr><td class="num"> 101/1045</td><td class="num">  0/189</td><td class="num">  8.18%</td><td class="left">'Alf'</td></tr>
     <tr><td class="num">  84/1045</td><td class="num"> 15/189</td><td class="num">  8.02%</td><td class="left">'Eselchen'</td></tr>
+    <tr><td class="num">  69/1045</td><td class="num"> 22/189</td><td class="num">  7.37%</td><td class="left">'jdrexler'</td></tr>
     <tr><td class="num">  79/1045</td><td class="num"> 10/189</td><td class="num">  7.21%</td><td class="left">'Kroetchen'</td></tr>
     <tr><td class="num">  78/1045</td><td class="num"> 10/189</td><td class="num">  7.13%</td><td class="left">'Fred_the_wise'</td></tr>
     <tr><td class="num">  75/1045</td><td class="num"> 12/189</td><td class="num">  7.05%</td><td class="left">'schmusi20'</td></tr>
     <tr><td class="num">  67/1045</td><td class="num"> 19/189</td><td class="num">  6.97%</td><td class="left">'Dvorhagen'</td></tr>
-    <tr><td class="num">  83/1045</td><td class="num">  1/189</td><td class="num">  6.81%</td><td class="left">'tasker'</td></tr>
     <tr><td class="num">  57/1045</td><td class="num"> 26/189</td><td class="num">  6.73%</td><td class="left">'Meeve'</td></tr>
     <tr><td class="num">  65/1045</td><td class="num"> 16/189</td><td class="num">  6.56%</td><td class="left">'Slav'</td></tr>
     <tr><td class="num">  64/1045</td><td class="num"> 16/189</td><td class="num">  6.48%</td><td class="left">'AQZ'</td></tr>

Modified: feature_branches/hp_lotm/input/table-wr.html
===================================================================
--- feature_branches/hp_lotm/input/table-wr.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/table-wr.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -1,50 +1,53 @@
   <table>
-    <caption>$$Worldrecord_Statistics$$ $$May$$ 2008</caption>
+    <caption>$$Worldrecord_Statistics$$ $$December$$ 2008</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>$$total$$</th><th>$$shared$$</th><th class="left">$$user$$</th></tr>
-    <tr><td class="num">987</td><td class="num">236</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">160</td><td class="num"> 92</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">116</td><td class="num">108</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num"> 83</td><td class="num"> 69</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 59</td><td class="num"> 41</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num"> 51</td><td class="num"> 42</td><td class="left">'dev0'</td></tr>
-    <tr><td class="num"> 47</td><td class="num"> 46</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 45</td><td class="num"> 31</td><td class="left">'Malla'</td></tr>
-    <tr><td class="num"> 37</td><td class="num"> 24</td><td class="left">'ryujun'</td></tr>
-    <tr><td class="num"> 35</td><td class="num"> 27</td><td class="left">'Zekobah'</td></tr>
-    <tr><td class="num"> 35</td><td class="num"> 33</td><td class="left">'Django'</td></tr>
-    <tr><td class="num"> 32</td><td class="num"> 26</td><td class="left">'Alexandros'</td></tr>
-    <tr><td class="num"> 32</td><td class="num"> 28</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num"> 30</td><td class="num"> 29</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num"> 27</td><td class="num"> 26</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num"> 23</td><td class="num"> 18</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 20</td><td class="num"> 15</td><td class="left">'Emmanuel'</td></tr>
-    <tr><td class="num"> 20</td><td class="num"> 19</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 16</td><td class="left">'Ludmian'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 17</td><td class="left">'B-Huff'</td></tr>
-    <tr><td class="num"> 17</td><td class="num"> 17</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num"> 16</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
-    <tr><td class="num"> 15</td><td class="num"> 15</td><td class="left">'ABS'</td></tr>
-    <tr><td class="num"> 14</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 11</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
+    <tr><td class="num">908</td><td class="num">243</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">177</td><td class="num">128</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">167</td><td class="num">142</td><td class="left">'Crystalicum'</td></tr>
+    <tr><td class="num">149</td><td class="num"> 89</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">105</td><td class="num"> 98</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 83</td><td class="num"> 70</td><td class="left">'dev0'</td></tr>
+    <tr><td class="num"> 52</td><td class="num"> 39</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 42</td><td class="num"> 29</td><td class="left">'Malla'</td></tr>
+    <tr><td class="num"> 40</td><td class="num"> 39</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 39</td><td class="num"> 27</td><td class="left">'Alexandros'</td></tr>
+    <tr><td class="num"> 39</td><td class="num"> 35</td><td class="left">'Mentist'</td></tr>
+    <tr><td class="num"> 38</td><td class="num"> 31</td><td class="left">'ryujun'</td></tr>
+    <tr><td class="num"> 31</td><td class="num"> 27</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 31</td><td class="num"> 29</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 29</td><td class="num"> 26</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 17</td><td class="left">'Daisy'</td></tr>
+    <tr><td class="num"> 28</td><td class="num"> 20</td><td class="left">'Emmanuel'</td></tr>
+    <tr><td class="num"> 26</td><td class="num"> 25</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 24</td><td class="num"> 23</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 19</td><td class="left">'ged'</td></tr>
+    <tr><td class="num"> 19</td><td class="num"> 17</td><td class="left">'Angolino'</td></tr>
+    <tr><td class="num"> 17</td><td class="num">  9</td><td class="left">'Gloop'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 14</td><td class="left">'B-Huff'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 15</td><td class="left">'Safalra' + 'Ludmian'</td></tr>
+    <tr><td class="num"> 15</td><td class="num"> 14</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 14</td><td class="num"> 14</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 13</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 12</td><td class="num"> 12</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num"> 11</td><td class="num"> 11</td><td class="left">'ABS'</td></tr>
     <tr><td class="num">  9</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  7</td><td class="left">'Chocolate Zero'</td></tr>
     <tr><td class="num">  9</td><td class="num">  9</td><td class="left">'fabian'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  5</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  6</td><td class="left">'Gloop'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  8</td><td class="left">'dpl'</td></tr>
+    <tr><td class="num">  7</td><td class="num">  5</td><td class="left">'Taztunes'</td></tr>
     <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'Edgar_Flesk'</td></tr>
     <tr><td class="num">  6</td><td class="num">  3</td><td class="left">'para_doks' + 'Breezy'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo' + 'Angolino'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias' + 'Wuzzy'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Cyphase' + 'Thomas' + 'Chris' + 'Ralf'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Bent'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'U-Punkt' + 'J3FF'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'mrduke' + 'Craven' + 'colonel crayon' + 'Stephanie'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Tiza' + 'Neophilus' + 'Nicol?s' + 'Andy' + 'Sopoforic'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'Daniel'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Drotten' + 'tjRaven' + 'Sim_Ed' + 'hendrik' + 'Austin' + 'Snaily' + 'Antonio EE' + 'Ingo' + 'serpent'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Ale' + 'Sparkey' + 'Gorn' + 'Nat' + 'Daisy'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'alfred69' + 'Agares' + 'ntaeijr' + 'Tiger' + 'Zak' + 'Slav' + 'niebie' + 'Andreas' + 'Samuel' + 'Mark P.' + 'oblo' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Vaily' + 'krazy62' + 'JuSt'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'Eselchen' + 'ael' + 'biotopa' + 'brynn' + 'IntKecsk' + 'Davacardo' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'jojo' + 'rima' + 'Klaus' + 'Valkyrie2' + 'MicWa' + 'AsuCaga' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'mecke' + 'Dvorhagen' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Liam Sheehan' + 'Michael' + 'Tarim' + 'Agnieszka'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'Guglielmo'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Tobias'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Raoul' + 'Thomas' + 'Chris' + 'Wuzzy' + 'Ralf'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Hairball'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'U-Punkt' + 'J3FF' + 'Cyphase' + 'GiannuzzITA'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'mecke' + 'Stephanie'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'geembo_90' + 'Tiza' + 'Neophilus' + 'Nicol?s' + 'Andy'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'Timo'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'alfred69' + 'ReasonAnce' + 'mrduke' + 'Drotten' + 'tjRaven' + 'Sim_Ed' + 'hendrik' + 'Bent' + 'Austin' + 'Snaily' + 'Craven' + 'Sopoforic' + 'Ingo' + 'serpent'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Ale' + 'Feynman' + 'alain' + 'colonel crayon' + 'Gorn' + 'Nat'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'Agares' + 'Tiger' + 'Zak' + 'Daniel' + 'Slav' + 'niebie' + 'Andreas' + 'AlephD' + 'Samuel' + 'Mark P.' + 'oblo' + 'Pascal' + 'hdwow' + 'B-man' + 'Asbel' + 'Vlad' + 'Jinajon' + 'Vaily' + 'Antonio EE' + 'JuSt'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'AQZ' + 'tasker' + 'jumbo' + 'Miel56' + 'Zhura' + 'Alf' + 'Turbogurk' + 'Gottseinsohn' + 'ntaeijr' + 'Eselchen' + 'ael' + 'biotopa' + 'Sigma' + 'brynn' + 'IntKecsk' + 'Adonica' + 'Joona' + 'Sandra' + 'schmusi20' + 'Kosby' + 'Magnus and Susi' + 'WP319' + 'Kevin' + 'jdrexler' + 'xmouse' + 'erich' + 'Vinksu' + 'Uli' + 'Alex' + 'Valkyrie2' + 'Fred_the_wise' + 'jdcampo' + 'Freshman' + 'Little_Mole' + 'Kroetchen' + 'crypto_rsa' + 'Harry Lim' + 'Sequoyah' + 'AkRa' + 'Momcat' + 'Tomson' + 'NorthForty' + 'Mecki' + 'The red O' + 'gringer' + 'Jeffrey S' + 'Nfol' + 'Marc-Hendrik' + 'Kadu' + 'shoki' + 'jojo' + 'WesleyCrusher' + 'rima' + 'Klaus' + 'MicWa' + 'AsuCaga' + 'oxyd4ever' + 'Rugby4ever' + 'Archcorenth' + 'Meeve' + 'mhatta' + 'Hans-HD' + 'un_guru' + 'krazy62' + 'Dvorhagen' + 'Sparkey' + 'Holger' + 'Ingo_K' + 'Ant' + 'Melanie' + 'IChrisI' + 'redsantz' + 'Markus' + 'Michael' + 'Liam Sheehan' + 'Tarim' + 'Agnie!
 szka'</td></tr>
   </table>

Modified: feature_branches/hp_lotm/input/top_news.html
===================================================================
--- feature_branches/hp_lotm/input/top_news.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/top_news.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -41,4 +41,17 @@
          the Berlios server. This includes downloads from 0.92 up to 1.01.
          Thanks to all players who made this possible!
          
+         <h4><span class="date">2008-06-17:</span> Two addenda</h4>
+         We now have a comment from Jacob to his last LotM, you can read
+         it <a href="$$lotm_200805$$#jacob">here</a>. AND, we got a great map
+         of the Level of the Year 2007, <a href="$$lotm_200703$$">&quot;Island
+         Labyrinth&quot;</a>, from Shoki. You can download it
+         <a href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">here</a>.
          
+         <h4><span class="date">2008-08-29:</span> Marbleous!</h4>
+         With this we present a new column on our homepage, starting with
+         Mecke's series &quot;The Novice&quot;! Read <a
+         href="$$marbleous_1$$">here</a> about his first adventures,
+         his experiences and thoughts as &quot;novice&quot;.
+         
+

Modified: feature_branches/hp_lotm/input/top_news_de.html
===================================================================
--- feature_branches/hp_lotm/input/top_news_de.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/top_news_de.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -44,4 +44,17 @@
          Dies umfasst Downloads von 0.92 bis 1.01. Vielen Dank an alle Spieler,
          die dies m&ouml;glich gemacht haben!
          
+         <h4><span class="date">17.6.2008:</span> Zwei Nachtr&auml;ge</h4>
+         Wir haben nun einen Kommentar von Jacob zu seinem letzten LotM,
+         Sie k&ouml;nnen ihn <a href="$$lotm_200805$$#jacob">hier</a> lesen.
+         UND, wir haben eine gro&szlig;artige Karte vom Level des Jahres 2007,
+         <a href="$$lotm_200703$$">&quot;Island Labyrinth&quot;</a>, von Shoki
+         bekommen. Sie k&ouml;nnen sie <a
+         href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">hier</a> herunterladen.
          
+         <h4><span class="date">2008-08-30:</span> Gemurmel!</h4>
+         Eine neue Kolumne er&ouml;ffnen wir hiermit auf unserer Homepage,
+         beginnend mit Mecke's Reihe &quot;Der Neuling&quot;! Lesen Sie <a
+         href="$$marbleous_1$$">hier</a> &uuml;ber sein erstes Abenteuer,
+         seine Erfahrungen und Gedanken als &quot;Neuling&quot;.
+         
\ No newline at end of file

Modified: feature_branches/hp_lotm/input/top_news_ru.html
===================================================================
--- feature_branches/hp_lotm/input/top_news_ru.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/top_news_ru.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -34,3 +34,12 @@
          ? 2 ?? 3 ?????????????? ???????, Enigma ???????? ??????? ? 500.000 ???????? ? ??????? Berlios. ? ??? ?????? ???????? ? ?????? 0.92 ?? 1.01. ??????? ???? ???????, ????????? ??????? ??? ????? ?????????!
          
          
+         <h4><span class="date">2008-06-17:</span> ??? ??????????</h4>
+         ?????? ? ??? ???? ??????????? ?? Jacob ? ??? ?????????? ??, ??????? ?? ?????? ????????
+         <a href="$$lotm_200805$$#jacob">?????</a>. ? ???, ?? ???????? ?? Shoki, ???????? ?????
+         ?????? ???? 2007, <a href="$$lotm_200703$$">&quot;Island
+         Labyrinth&quot;</a>. ?? ?????? ??????? ?? <a href="$$imagedir$$/lotm/lotm_200703_shoki.jpg">?????</a>.
+
+         <h4><span class="date">2008-08-17:</span> ???????????!</h4>
+         Mecke ??????? ?????? ??? ????? ??????????? ??????? ??? ????? ???????? ???????? &mdash; &quot;???????? ?? ???????&quot;! ? ?????? ??? ???????????, ????? ? ???????????? ??????? <a href="$$marbleous_1$$">?????</a>.
+

Modified: feature_branches/hp_lotm/input/userlist.html
===================================================================
--- feature_branches/hp_lotm/input/userlist.html	2009-01-08 23:12:25 UTC (rev 1441)
+++ feature_branches/hp_lotm/input/userlist.html	2009-01-09 16:16:37 UTC (rev 1442)
@@ -7,7 +7,9 @@
     <li>Agares</li>
     <li>Agnieszka</li>
     <li>AkRa</li>
+    <li>alain</li>
     <li>Ale</li>
+    <li>AlephD</li>
     <li>Alex</li>
     <li>Alexandros</li>
     <li>Alf</li>
@@ -34,10 +36,10 @@
     <li>colonel crayon</li>
     <li>Craven</li>
     <li>crypto_rsa</li>
+    <li>Crystalicum</li>
     <li>Cyphase</li>
     <li>Daisy</li>
     <li>Daniel</li>
-    <li>Davacardo</li>
     <li>daydreamer</li>
     <li>dev0</li>
     <li>Django</li>
@@ -50,17 +52,20 @@
     <li>erich</li>
     <li>Eselchen</li>
     <li>fabian</li>
+    <li>Feynman</li>
     <li>Fred_the_wise</li>
     <li>Freshman</li>
     <li>ged</li>
     <li>geembo_90</li>
     <li>Ghatotkacha</li>
+    <li>GiannuzzITA</li>
     <li>Gloop</li>
     <li>Gorn</li>
     <li>Gottseinsohn</li>
     <li>Great Scott</li>
     <li>gringer</li>
     <li>Guglielmo</li>
+    <li>Hairball</li>
     <li>Hans-HD</li>
     <li>Harry Lim</li>
     <li>hdwow</li>
@@ -74,11 +79,14 @@
     <li>IntKecsk</li>
     <li>J3FF</li>
     <li>jdcampo</li>
+    <li>jdrexler</li>
     <li>Jeffrey S</li>
+    <li>Jinajon</li>
     <li>Johannes</li>
     <li>jojo</li>
     <li>Joona</li>
     <li>joseba</li>
+    <li>jumbo</li>
     <li>JuSt</li>
     <li>Kadu</li>
     <li>Kevin</li>
@@ -99,6 +107,7 @@
     <li>Mecki</li>
     <li>Meeve</li>
     <li>Melanie</li>
+    <li>Mentist</li>
     <li>mhatta</li>
     <li>Michael</li>
     <li>MicWa</li>
@@ -114,9 +123,12 @@
     <li>NorthForty</li>
     <li>ntaeijr</li>
     <li>oblo</li>
+    <li>oxyd4ever</li>
     <li>para_doks</li>
+    <li>Pascal</li>
     <li>Ralf</li>
     <li>Raoul</li>
+    <li>ReasonAnce</li>
     <li>redsantz</li>
     <li>rima</li>
     <li>Ronald</li>
@@ -130,6 +142,7 @@
     <li>serpent</li>
     <li>ShadowPhrogg32642342</li>
     <li>shoki</li>
+    <li>Sigma</li>
     <li>Sim_Ed</li>
     <li>Slav</li>
     <li>Snaily</li>
@@ -143,16 +156,20 @@
     <li>The red O</li>
     <li>Thomas</li>
     <li>Tiger</li>
+    <li>Timo</li>
     <li>Tiza</li>
     <li>tjRaven</li>
     <li>Tobias</li>
+    <li>Tomson</li>
     <li>Turbogurk</li>
     <li>Uli</li>
+    <li>un_guru</li>
     <li>U-Punkt</li>
     <li>Vaily</li>
     <li>Valkyrie2</li>
     <li>Vinksu</li>
     <li>Vlad</li>
+    <li>WesleyCrusher</li>
     <li>WP319</li>
     <li>Wuzzy</li>
     <li>xmouse</li>



From ral at mail.berlios.de  Sat Jan 10 02:10:13 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 10 Jan 2009 02:10:13 +0100
Subject: [Enigma-game-svn] r1443 - in trunk: data src
Message-ID: <200901100110.n0A1ADfG007318@sheep.berlios.de>

Author: ral
Date: 2009-01-10 02:10:10 +0100 (Sat, 10 Jan 2009)
New Revision: 1443

Modified:
   trunk/data/models-2d.lua
   trunk/src/lua.cc
Log:
Trunk 1.1: new API reengineering
- fix missing backward compatibility fl_metal_7n model alias 
- add group method sort():
  - group:sort() without argument returns a new group sorted lexical by object
      names
  - group:sort("circular") returns a new group with objects sorted around their
      geometrical center. This allows authors to simply add circular oxyd
      shuffle rules like:
      wo:shuffleOxyd({no["o#*"]:sort("circular"), circular = true})
      Note: 
        - just Grid based objects like stones, items, floors are supported,
        - no two objects should be at the same angle from the common center
	- concave aligned objects can always be sorted circular
	- in case of violations to these rules the resulting group may miss
	  objects


Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-09 16:16:37 UTC (rev 1442)
+++ trunk/data/models-2d.lua	2009-01-10 01:10:10 UTC (rev 1443)
@@ -377,6 +377,7 @@
     DefAlias("fl_metal_5", "fl_metal5")
     DefAlias("fl_metal_6", "fl_metal6")
     DefAlias("fl_metal_7", "fl-normal")
+    DefAlias("fl_metal_7n", "fl-normal")
     DefAlias("fl_metal_1_framed", "fl_metal1_framed")
     DefAlias("fl_metal_2_framed", "fl_metal2_framed")
     DefAlias("fl_metal_3_framed", "fl_metal3_framed")

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-09 16:16:37 UTC (rev 1442)
+++ trunk/src/lua.cc	2009-01-10 01:10:10 UTC (rev 1443)
@@ -2984,6 +2984,58 @@
     return pushNewGroup(L, newSort);
 }
 
+static int sortGroup(lua_State *L) {
+    // group
+    if (lua_gettop(L) < 1 || !is_group(L, 1)) {
+        throwLuaError(L, "Syntax error - usage of '.' instead of ':'");
+        return 0;        
+    }
+    std::string command;
+    if (lua_gettop(L) == 2 && lua_isstring(L, 2)) {
+        command = lua_tostring(L, 2);
+    }
+    ObjectList oldSort = toObjectList(L, 1);
+    ObjectList newSort;
+    if (command == "circular") {
+        std::map<double, Object *> sortMap;
+        double cx = 0;
+        double cy = 0;  // center
+        int num = 0;
+        for (ObjectList::iterator itr = oldSort.begin(); itr != oldSort.end(); ++itr) {
+            GridObject *go = dynamic_cast<GridObject *>(*itr);
+            if (go != NULL) {
+                GridPos p = go->get_pos();
+                cx += p.x;
+                cy += p.y;
+                num++;
+            } 
+        }
+        if (num > 0) {
+            cx = cx/num;
+            cy = cy/num;
+            for (ObjectList::iterator itr = oldSort.begin(); itr != oldSort.end(); ++itr) {
+                GridObject *go = dynamic_cast<GridObject *>(*itr);
+                if (go != NULL) {
+                    GridPos p = go->get_pos();
+                    double alpha = std::atan2(p.y - cy, p.x - cx); 
+                    sortMap[alpha] = *itr;
+                }
+            }
+            for (std::map<double, Object *>::iterator itr = sortMap.begin(); itr != sortMap.end(); ++itr) {
+                newSort.push_back(itr->second);
+            }
+        }
+    } else {
+        // default sort lexical by name
+        std::map<std::string, Object *> sortMap;
+        for (ObjectList::iterator itr = oldSort.begin(); itr != oldSort.end(); ++itr)
+            sortMap[((*itr)->getAttr("name")).to_string()] = *itr;
+        for (std::map<std::string, Object *>::iterator itr = sortMap.begin(); itr != sortMap.end(); ++itr)
+            newSort.push_back(itr->second);
+    }
+    return pushNewGroup(L, newSort);
+}
+
 MethodMap polistMethodeMap;
 
 static int dispatchPolistWriteAccess(lua_State *L) {
@@ -3237,6 +3289,7 @@
     {groupMessage,                  "message"},
     {killObject,                    "kill"},
     {shuffleGroup,                  "shuffle"},
+    {sortGroup,                     "sort"},
     {0,0}
 };
 



From ral at mail.berlios.de  Sun Jan 11 00:25:58 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 11 Jan 2009 00:25:58 +0100
Subject: [Enigma-game-svn] r1444 - in trunk: data data/schemas src
	src/floors src/items
Message-ID: <200901102325.n0ANPwd0025525@sheep.berlios.de>

Author: ral
Date: 2009-01-11 00:25:56 +0100 (Sun, 11 Jan 2009)
New Revision: 1444

Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/floors.cc
   trunk/src/floors/SimpleFloors.cc
   trunk/src/floors/SimpleFloors.hh
   trunk/src/items.cc
   trunk/src/items/Crack.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- fix crack: fragility just on first crack form INVISIBLE to SMALL,
    all further cracks do happen for sure
- temp. fix on st-chameleon: throw exception on missing floor
- add lua constants:
    YIN and YANG for actor attribute "player" - values 0, 1
    CTRL_NONE, CTRL_YIN, CTRL_YANG, CTRL_YINYANG for actor "controllers" attr.
- reengineering floors fl-acblack and fl-acwhite:
  - new name fl_yinyang, fl_yinyang_yin, fl_yinyang_yang
  - floor as Stateobject: state with values YIN and YANG, can be toggled, etc.


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/data/api1init.lua	2009-01-10 23:25:56 UTC (rev 1444)
@@ -127,6 +127,8 @@
     fl_wood_framed_h = "fl-stwood1",
     fl_wood_framed_v = "fl-stwood2",
     fl_woven = "fl-woven",
+    fl_yinyang_yin = "fl-acblack",
+    fl_yinyang_yang = "fl-acwhite",    
     it_banana = "it-banana",
     it_blocker = "it-blocker",
     it_blocker_new = "it-blocker-new",

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/data/api2init.lua	2009-01-10 23:25:56 UTC (rev 1444)
@@ -62,20 +62,22 @@
 ----------------
 
 -- state
-OFF      = 0
-ON       = 1
-CLOSED   = 0
-OPEN     = 1
-IDLE     = 0
-ACTIVE   = 1
-OXYDPAIR = 2
-LIGHT    = 0
-MEDIUM   = 1
-DARK     = 2
-FLOODING = 1
+OFF       = 0
+ON        = 1
+CLOSED    = 0
+OPEN      = 1
+IDLE      = 0
+ACTIVE    = 1
+OXYDPAIR  = 2
+LIGHT     = 0
+MEDIUM    = 1
+DARK      = 2
+FLOODING  = 1
 INVISIBLE = -1
 SMALL     = 0
 LARGE     = 2
+YIN       = 0
+YANG      = 1
 
 -- color
 BLACK  = 0
@@ -84,6 +86,12 @@
 YELLOW = 3
 NOCOLOR = nil
 
+-- controllers
+CTRL_NONE    = 0
+CTRL_YIN     = 1
+CTRL_YANG    = 2
+CTRL_YINYANG = 3
+
 -- rotation direction
 CW  = 0
 CCW = 1

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/data/models-2d.lua	2009-01-10 23:25:56 UTC (rev 1444)
@@ -388,6 +388,9 @@
     DefAlias("fl-space-force", "fl_space")
     DefAlias("fl_samba_h", "fl_samba1")
     DefAlias("fl_samba_v", "fl_samba2")
+    DefAlias("fl_yinyang", "fl-acblack")
+    DefAlias("fl_yinyang_yin", "fl-acblack")
+    DefAlias("fl_yinyang_yang", "fl-acwhite")
 end
 
 ----------------------

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/data/schemas/objects.xml	2009-01-10 23:25:56 UTC (rev 1444)
@@ -361,6 +361,16 @@
       <msg name="_init"/>
       <msg name="_performaction"/>
     </object>
+    <object name="fl_yinyang">
+      <attr name="friction" default="5.2"/>
+      <attr name="adhesion" default="2.0"/>
+    </object>
+    <object name="fl_yinyang_yin">
+      <attr name="state" value="0"/>
+    </object>
+    <object name="fl_yinyang_yang">
+      <attr name="state" value="1"/>
+    </object>
     <object name="it_blocker_new" init="true">
     </object>
     <object name="it_brake"/>

Modified: trunk/src/floors/SimpleFloors.cc
===================================================================
--- trunk/src/floors/SimpleFloors.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/floors/SimpleFloors.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -22,6 +22,7 @@
 
 //#include "errors.hh"
 //#include "main.hh"
+#include "player.hh"
 #include "world.hh"
 
 namespace enigma {
@@ -88,13 +89,37 @@
         sink_speed = server::SwampSinkSpeed;
         raise_speed = 6.0;
     }
+
+/* -------------------- Yinyang -------------------- */
+
+    YinyangFloor::YinyangFloor(int initState) : Floor("fl_yinyang", 5.2, 2.0) {
+        state = initState;
+    }
     
+    std::string YinyangFloor::getClass() const {
+        return "fl_yinyang";
+    }
+        
+    void YinyangFloor::init_model()  {
+        set_model(std::string("fl_yinyang_") + ((state == YIN) ? "yin" : "yang"));
+    }
+    
+    ecl::V2 YinyangFloor::process_mouseforce (Actor *a, ecl::V2 force) {
+        if (player::CurrentPlayer() == state)
+            return getAdhesion() * force;
+        else
+            return ecl::V2();
+    }
+    
     BOOT_REGISTER_START
-        BootRegister(new Abyss(), "fl_abyss");
-        BootRegister(new IceFloor(), "fl_ice");
-        BootRegister(new Space(), "fl_space");
+        BootRegister(new Abyss(),     "fl_abyss");
+        BootRegister(new IceFloor(),  "fl_ice");
+        BootRegister(new Space(),     "fl_space");
         BootRegister(new Space(true), "fl_space_force");
-        BootRegister(new Swamp(), "fl_swamp");
+        BootRegister(new Swamp(),     "fl_swamp");
+        BootRegister(new YinyangFloor(0), "fl_yinyang");
+        BootRegister(new YinyangFloor(0), "fl_yinyang_yin");
+        BootRegister(new YinyangFloor(1), "fl_yinyang_yang");
     BOOT_REGISTER_END
 
 } // namespace enigma

Modified: trunk/src/floors/SimpleFloors.hh
===================================================================
--- trunk/src/floors/SimpleFloors.hh	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/floors/SimpleFloors.hh	2009-01-10 23:25:56 UTC (rev 1444)
@@ -91,6 +91,31 @@
         virtual bool is_destructible() const;
         virtual void get_sink_speed (double &sinkspeed, double &raisespeed) const;        
     };
+
+    /** 
+     * Yinyang
+     */
+    class YinyangFloor : public Floor {
+        CLONEOBJ(YinyangFloor);
+        
+    private:
+        enum iState {
+            YIN,       ///< player 0 - black image
+            YANG       ///< player 1 - white image
+        };
+
+    public:
+        YinyangFloor(int initState);
+
+        // Object interface
+        virtual std::string getClass() const;
+        
+        // GridObject interface
+        virtual void init_model();
+                
+        // Floor interface
+        virtual ecl::V2 process_mouseforce (Actor *a, ecl::V2 force);
+    };
 } // namespace enigma
 
 #endif

Modified: trunk/src/floors.cc
===================================================================
--- trunk/src/floors.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/floors.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -741,46 +741,12 @@
     return Floor::message(m);
 }
 
-//----------------------------------------
-// Black and white tiles
-//----------------------------------------
-namespace
-{
-    class BlackTile : public Floor {
-        CLONEOBJ(BlackTile);
-    public:
-        BlackTile() : Floor ("fl-acblack", 5.2, 2.0) {}
 
-        ecl::V2 process_mouseforce (Actor *, ecl::V2 force) {
-            if (player::CurrentPlayer() == 0)
-                return getAdhesion() * force;
-            else
-                return ecl::V2();
-        }
-    };
-
-    class WhiteTile : public Floor {
-        CLONEOBJ(WhiteTile);
-    public:
-        WhiteTile() : Floor ("fl-acwhite", 5.2, 2.0) {}
-
-        ecl::V2 process_mouseforce (Actor *, ecl::V2 force) {
-            if (player::CurrentPlayer() == 1)
-                return getAdhesion() * force;
-            else
-                return ecl::V2();
-        }
-    };
-}
-
-
 void InitFloors()
 {
     // Floors (most floors are defined in init.lua)
     Register(new DummyFloor);
     Register(new Thief);
-    Register(new WhiteTile);
-    Register(new BlackTile);
 
     Register(new Gradient);
     Register("fl-gradient1", new Gradient(1));

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/items/Crack.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -91,7 +91,7 @@
         if (fl != NULL && fl->is_destructible()) {
             Value v = fl->getAttr("fragility");
             double fragility = getDefaultedAttr("fragility", v ? v : Value(server::Fragility));
-            if (state < DISSOLVING && DoubleRand(0, 0.9999) < fragility) {
+            if (state < DISSOLVING && (state > INVISIBLE || DoubleRand(0, 0.9999) < fragility)) {
                 toggleState();
                 sound_event("crack");
             }

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/items.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -1590,7 +1590,7 @@
         void actor_leave (Actor *) {
             if (server::TwoPlayerGame) {
                 // two players: black / white tile
-                exchange_floor ("fl-acwhite", "fl-acblack");
+                exchange_floor("fl_yinyang_yang", "fl_yinyang_yin");
             } else {
                 // one player: left / right accel
 //                exchange_floor ("fl-

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/ox_magnum.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -47,8 +47,8 @@
     "fl_tigris",                // OxydMagnum floor 0x0a (common was 'fl-normal')
     "fl_tigris",                // OxydMagnum floor 0x0b (common was 'fl-stone')
     "fl_inverse",               // OxydMagnum floor 0x0c (common was 'fl_inverse')
-    "fl-acblack",               // OxydMagnum floor 0x0d
-    "fl-acwhite",               // OxydMagnum floor 0x0e
+    "fl_yinyang_yin",           // OxydMagnum floor 0x0d
+    "fl_yinyang_yang",          // OxydMagnum floor 0x0e
     "fl_swamp",                 // OxydMagnum floor 0x0f
     UNUSED,                     // OxydMagnum floor 0x10
     UNUSED,                     // OxydMagnum floor 0x11

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/ox_oxyd1.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -80,8 +80,8 @@
     "fl_himalaya",              // Oxyd1 floor 0x0a
     "fl_himalaya",              // Oxyd1 floor 0x0b
     "fl_inverse_gray",          // Oxyd1 floor 0x0c
-    "fl-acblack",               // Oxyd1 floor 0x0d
-    "fl-acwhite",               // Oxyd1 floor 0x0e
+    "fl_yinyang_yin",           // Oxyd1 floor 0x0d
+    "fl_yinyang_yang",          // Oxyd1 floor 0x0e
     "fl_swamp",                 // Oxyd1 floor 0x0f
     UNUSED,                     // Oxyd1 floor 0x10
     UNUSED,                     // Oxyd1 floor 0x11

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/ox_peroxyd.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -116,8 +116,8 @@
     "fl_blueslab",              // PerOxyd floor 0x0a
     "fl_redslab",               // PerOxyd floor 0x0b
     "fl_inverse",               // PerOxyd floor 0x0c
-    "fl-acblack",               // PerOxyd floor 0x0d
-    "fl-acwhite",               // PerOxyd floor 0x0e
+    "fl_yinyang_yin",           // PerOxyd floor 0x0d
+    "fl_yinyang_yang",          // PerOxyd floor 0x0e
     "fl_swamp",                 // PerOxyd floor 0x0f
     UNUSED,                     // PerOxyd floor 0x10
     UNUSED,                     // PerOxyd floor 0x11

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-10 01:10:10 UTC (rev 1443)
+++ trunk/src/stones_simple.cc	2009-01-10 23:25:56 UTC (rev 1444)
@@ -355,10 +355,10 @@
         }
         
         void init_model() {
-            string modelname = "fl-gray";
-            if (Floor *fl = GetFloor(get_pos()))
-                modelname = fl->get_kind();
-            set_model(modelname);
+            if (Floor *fl = GetFloor(get_pos())) {
+                set_model(fl->get_kind());
+            } else
+                ASSERT(false, XLevelRuntime, "Chameleon Stone: Floor must be set before stone");
         }
 
         bool is_floating() const 



From ral at mail.berlios.de  Sun Jan 11 01:21:50 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sun, 11 Jan 2009 01:21:50 +0100
Subject: [Enigma-game-svn] r1445 - team_levelpacks/team_test_new_api
Message-ID: <200901110021.n0B0Lof9023509@sheep.berlios.de>

Author: ral
Date: 2009-01-11 01:21:43 +0100 (Sun, 11 Jan 2009)
New Revision: 1445

Modified:
   team_levelpacks/team_test_new_api/ralD004_1.xml
   team_levelpacks/team_test_new_api/ralT017_1.xml
Log:
Test Level new API:
- updates for yinyang floor and group sort


Modified: team_levelpacks/team_test_new_api/ralD004_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-10 23:25:56 UTC (rev 1444)
+++ team_levelpacks/team_test_new_api/ralD004_1.xml	2009-01-11 00:21:43 UTC (rev 1445)
@@ -19,8 +19,8 @@
 ti["s"] = {"fl_sahara"}
 ti["t"] = {"fl_tigris"}
 ti["i"] = {"fl_inverse_gray"}
-ti["b"] = {"fl-acblack"}
-ti["w"] = {"fl-acwhite"}
+ti["b"] = {"fl_yinyang_yin"}
+ti["w"] = {"fl_yinyang_yang"}
 
 ti["c"] = {"it_coin_s"}
 ti["p"] = {"it_brush"}

Modified: team_levelpacks/team_test_new_api/ralT017_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT017_1.xml	2009-01-10 23:25:56 UTC (rev 1444)
+++ team_levelpacks/team_test_new_api/ralT017_1.xml	2009-01-11 00:21:43 UTC (rev 1445)
@@ -22,41 +22,37 @@
 ti[" "] = {"fl_sahara"}
 ti["#"] = ti[" "] .. {"st-rock1"}
 
-ti["O"] = ti[" "] .. {"st_oxyd", name="o#", oxydcolor=1, noshuffle=false}
-ti["P"] = ti[" "] .. {"st_oxyd", name="p#"}
-ti["Q"] = ti[" "] .. {"st_oxyd", name="q1", oxydcolor=5, noshuffle=false}
-ti["q"] = ti[" "] .. {"st_oxyd", name="q2", oxydcolor=7, noshuffle=true}
+ti["O"] = ti[" "] .. {"st_oxyd", name="o#"}
 ti["1"] = ti[" "] .. {"#ac_marble"}
 
 w, h = wo(ti, " ", {
 "   O          O     ",
 "                    ",
-"P                  P",
+"O                  O",
 "                    ",
 "                    ",
-"Q                  q",
+"O                  O",
 "                    ",
 "      1             ",
 "                    ",
 "                    ",
+"   O           O    ",
 "                    ",
-"                    ",
 "                    "
 })
 
---wo:shuffleOxyd({no["o#*"], max=0}, {no["o#*"], no["p#*"], max=0})
---wo:shuffleOxyd({no["o#*"], max=0}, {no["o#*"], no["p#*"] + no["o#2"], max=0})
+--wo:shuffleOxyd({no["o#*"] + no["p#*"] + no["q*"], circular = true, log="all"})
 
---wo:shuffleOxyd({no["o#*"], max=0}, {no["o#*"], no["o#1"], max=0})
---wo:shuffleOxyd({no["o#*"], max=0}, {grp(no["o#2"]), grp(no["p#1"]), max=0}, {no["p#*"], max=0}, {grp(no["p#2"]), grp(no["q1"]), max=0}, {grp(no["q2"]), grp(no["q1"]), max=0})
---wo:shuffleOxyd({no["o#*"], max=0}, {"o#2", "p#1", max=0}, {no["p#*"], max=0}, {grp(no["p#2"]), grp(no["q1"]), max=0}, {grp(no["q2"]), grp(no["q1"]), max=0})
---wo:shuffleOxyd({no["o#*"] + no["p#*"] + no["q*"], linear = true, log="solution"})
-wo:shuffleOxyd({no["o#*"] + no["p#*"] + no["q*"], circular = true, log="all"})
---wo:shuffleOxyd({"q1", "q2", max=2, log="count"})
 
---wo:shuffleOxyd({"o#1", grp(no["q1"], no["q2"]), max=0, log="solution"}, {"o#2", grp(no["p#2"],no["q1"],no["q2"]), max=0}, {"p#1", grp(no["p#2"],no["q1"],no["q2"]), max=0})
--- function door(value, sender)
+for obj in no["o#*"]:sort() do
+     print("sorted object by name: ".. obj["name"])
+end
+for obj in no["o#*"]:sort("circular") do
+     print("sorted object by pos: ".. obj.x .."/"..obj.y .." - ".. obj["name"])
+end
 
+wo:shuffleOxyd({no["o#*"]:sort("circular"), circular = true})
+
   ]]></el:luamain>
     <el:i18n>
 	 <el:string el:key="title">



From ral at mail.berlios.de  Mon Jan 12 00:49:09 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 12 Jan 2009 00:49:09 +0100
Subject: [Enigma-game-svn] r1446 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 src src/items
Message-ID: <200901112349.n0BNn9hT024532@sheep.berlios.de>

Author: ral
Date: 2009-01-12 00:49:02 +0100 (Mon, 12 Jan 2009)
New Revision: 1446

Added:
   trunk/data/gfx32/it_coffee.png
   trunk/data/gfx32/it_ring.png
   trunk/data/gfx32/it_spade.png
   trunk/data/gfx32/it_spoon.png
   trunk/data/gfx32/it_yinyang.png
   trunk/data/gfx40/it_coffee.png
   trunk/data/gfx40/it_ring.png
   trunk/data/gfx40/it_spade.png
   trunk/data/gfx40/it_spoon.png
   trunk/data/gfx40/it_yinyang.png
   trunk/data/gfx48/it_coffee.png
   trunk/data/gfx48/it_ring.png
   trunk/data/gfx48/it_spade.png
   trunk/data/gfx48/it_spoon.png
   trunk/data/gfx48/it_yinyang.png
Removed:
   trunk/data/gfx32/it-coffee.png
   trunk/data/gfx32/it-ring.png
   trunk/data/gfx32/it-spade.png
   trunk/data/gfx32/it-spoon.png
   trunk/data/gfx32/it-yinyang.png
   trunk/data/gfx40/it-coffee.png
   trunk/data/gfx40/it-ring.png
   trunk/data/gfx40/it-spade.png
   trunk/data/gfx40/it-spoon.png
   trunk/data/gfx40/it-yinyang.png
   trunk/data/gfx48/it-coffee.png
   trunk/data/gfx48/it-ring.png
   trunk/data/gfx48/it-spade.png
   trunk/data/gfx48/it-spoon.png
   trunk/data/gfx48/it-yinyang.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/src/items.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/player.cc
Log:
Trunk 1.1: new API reengineering
- rename items:
  - it-coffee -> it_coffee
  - it-ring -> it_ring
  - it-spade -> it_spade
  - it-spoon -> it_spoon
  - it-yinyang -> it_yinyang

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/data/api1init.lua	2009-01-11 23:49:02 UTC (rev 1446)
@@ -135,6 +135,7 @@
     it_brake = "it-brake",
     it_brush = "it-brush",
     it_cherry = "it-cherry",
+    it_coffee = "it-coffee",
     it_coin_s = "it-coin1",
     it_coin_m = "it-coin2",
     it_coin_l = "it-coin4",
@@ -168,10 +169,13 @@
     it_pipe_nw = "it-pipe-wn",
     it_pipe_ns = "it-pipe-v",
     it_pipe_ne = "it-pipe-ne",
+    it_ring = "it-ring",
     it_rubberband = "it-rubberband",
     it_seed = "it-seed",
     it_seed_fake = "it-seed_nowood",
     it_seed_volcano = "it-seed_volcano",
+    it_spade = "it-spade",
+    it_spoon = "it-spoon",
     it_squashed = "it-squashed",
     it_shogun_s = "it-shogun-s",
     it_shogun_m = "it-shogun-m",
@@ -188,6 +192,7 @@
     it_wormhole_on = "it-wormhole",
     it_wormhole_off = "it-wormhole-off",
     it_wrench = "it-wrench",
+    it_yinyang = "it-yinyang",
     st_actorimpulse = "st-actorimpulse",
     st_actorimpulse_invisible = "st-actorimpulse_invisible",
     st_blocker = "st-blocker",

Deleted: trunk/data/gfx32/it-coffee.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-ring.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-spade.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-spoon.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-yinyang.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_coffee.png (from rev 1443, trunk/data/gfx32/it-coffee.png)

Copied: trunk/data/gfx32/it_ring.png (from rev 1443, trunk/data/gfx32/it-ring.png)

Copied: trunk/data/gfx32/it_spade.png (from rev 1443, trunk/data/gfx32/it-spade.png)

Copied: trunk/data/gfx32/it_spoon.png (from rev 1443, trunk/data/gfx32/it-spoon.png)

Copied: trunk/data/gfx32/it_yinyang.png (from rev 1443, trunk/data/gfx32/it-yinyang.png)

Deleted: trunk/data/gfx40/it-coffee.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-ring.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-spade.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-spoon.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-yinyang.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_coffee.png (from rev 1443, trunk/data/gfx40/it-coffee.png)

Copied: trunk/data/gfx40/it_ring.png (from rev 1443, trunk/data/gfx40/it-ring.png)

Copied: trunk/data/gfx40/it_spade.png (from rev 1443, trunk/data/gfx40/it-spade.png)

Copied: trunk/data/gfx40/it_spoon.png (from rev 1443, trunk/data/gfx40/it-spoon.png)

Copied: trunk/data/gfx40/it_yinyang.png (from rev 1443, trunk/data/gfx40/it-yinyang.png)

Deleted: trunk/data/gfx48/it-coffee.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-ring.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-spade.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-spoon.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-yinyang.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_coffee.png (from rev 1443, trunk/data/gfx48/it-coffee.png)

Copied: trunk/data/gfx48/it_ring.png (from rev 1443, trunk/data/gfx48/it-ring.png)

Copied: trunk/data/gfx48/it_spade.png (from rev 1443, trunk/data/gfx48/it-spade.png)

Copied: trunk/data/gfx48/it_spoon.png (from rev 1443, trunk/data/gfx48/it-spoon.png)

Copied: trunk/data/gfx48/it_yinyang.png (from rev 1443, trunk/data/gfx48/it-yinyang.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/data/models-2d.lua	2009-01-11 23:49:02 UTC (rev 1446)
@@ -463,9 +463,9 @@
         "it-odometer",
         "it-pencil",
         "it-pin",
-        "it-ring",
-        "it-spade",
-        "it-spoon",
+        "it_ring",
+        "it_spade",
+        "it_spoon",
         "it-spring1",
         "it-spring2",
         "it-surprise",
@@ -554,7 +554,7 @@
 
 -- it-yinyang --
 do
-    DefTiles("it-yinyang", {"it-yinyang", "it-yanying"})
+    DefTiles("it_yinyang", {"it_yinyang", "it_yangyin"})
 end
 
 -- it_strip --
@@ -605,9 +605,9 @@
 
 -- it-coffee --
 do
-    local images = DefSubimages("it-coffee", {h=4})
+    local images = DefSubimages("it_coffee", {h=4})
     local frames = BuildFrames(images,150)
-    DefAnim("it-coffee", frames, true)
+    DefAnim("it_coffee", frames, true)
 end
 
 -- Cracks --

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/items/SimpleItems.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -21,7 +21,8 @@
 #include "items/SimpleItems.hh"
 //#include "errors.hh"
 //#include "main.hh"
-//#include "player.hh"
+#include "player.hh"
+#include "SoundEffectManager.hh"
 #include "world.hh"
 
 namespace enigma {
@@ -96,6 +97,51 @@
     
     DEF_ITEMTRAITSF(DeathItem, "it_death", it_death, itf_static | itf_indestructible);
 
+/* -------------------- Ring -------------------- */
+
+    Ring::Ring() {
+    }
+    
+    ItemAction Ring::activate(Actor *a, GridPos) {
+        if (ExchangeMarbles(a)) {
+            sound_event("switchmarbles");
+        }
+        else {
+            RespawnActor(a);
+        }
+        return ITEM_DROP;
+    }
+
+    DEF_ITEMTRAITS(Ring, "it_ring", it_ring);
+
+/* -------------------- Spade -------------------- */
+
+    Spade::Spade() {
+    }
+    
+    ItemAction Spade::activate(Actor *a, GridPos p) {
+        if (Item *it=GetItem(p)) {
+            sound::EmitSoundEvent("spade", p.center());
+            SendMessage(it, "shovel");
+            return ITEM_KEEP;
+        }
+        return ITEM_DROP;
+    }
+
+    DEF_ITEMTRAITS(Spade, "it_spade", it_spade);
+
+/* -------------------- Spoon -------------------- */
+
+    Spoon::Spoon() {
+    }
+    
+    ItemAction Spoon::activate(Actor *a, GridPos) {
+        SendMessage(a, "_suicide");
+        return ITEM_DROP;
+    }
+
+    DEF_ITEMTRAITS(Spoon, "it_spoon", it_spoon);
+
 /* -------------------- Squashed Cherry -------------------- */
 
     Squashed::Squashed() {
@@ -113,17 +159,42 @@
 
     DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static);
 
+/* -------------------- YinYang item -------------------- */
+    Yinyang::Yinyang() {
+    }
+    
+    std::string Yinyang::get_inventory_model() {
+        if (player::CurrentPlayer() == 0)
+            return "it_yinyang";
+        else
+            return "it_yangyin";
+    }
+    
+    ItemAction Yinyang::activate(Actor *a, GridPos p) {
+        // Switch to other marble
+        player::SwapPlayers();
+        sound::EmitSoundEvent("switchplayer", p.center());
+        return ITEM_KEEP;
+    }
+    
+    DEF_ITEMTRAITS(Yinyang, "it_yinyang", it_yinyang);
 
+
     BOOT_REGISTER_START
         BootRegister(new Banana(), "it_banana");
         BootRegister(new Brush(), "it_brush");
         BootRegister(new Cherry(), "it_cherry");
+        BootRegister(new Coffee(), "it_coffee");
         BootRegister(new DeathItem(), "it_death");
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");
+        BootRegister(new Ring(), "it_ring");
+        BootRegister(new Spade(), "it_spade");
+        BootRegister(new Spoon(), "it_spoon");
         BootRegister(new Squashed(), "it_squashed");
         BootRegister(new Wrench(), "it_wrench");
+        BootRegister(new Yinyang(), "it_yinyang");
     BOOT_REGISTER_END
 
 } // namespace enigma

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/items/SimpleItems.hh	2009-01-11 23:49:02 UTC (rev 1446)
@@ -73,6 +73,11 @@
     };
     
     /**
+     * Coffee
+     */
+    DEF_ITEMF(Coffee, "it_coffee", it_coffee, itf_inflammable);
+
+    /**
      * DeathItem
      */
     class DeathItem : public Item {
@@ -106,6 +111,49 @@
     DEF_ITEM(Key, "it_key", it_key);
 
     /**
+     * Ring
+     */
+    class Ring : public Item {
+        CLONEOBJ(Ring);
+        DECL_ITEMTRAITS;
+        
+    public:
+        Ring();
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+
+    /**
+     * Spade
+     */
+    class Spade : public Item {
+        CLONEOBJ(Spade);
+        DECL_ITEMTRAITS;
+
+    public:
+        Spade();
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+    
+    /**
+     * Spoon
+     */
+    class Spoon : public Item {
+        CLONEOBJ(Spoon);
+        DECL_ITEMTRAITS;
+
+    public:
+        Spoon();
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+
+    
+    /**
      * Squashed
      */
     class Squashed : public Item {
@@ -124,6 +172,20 @@
      */
     DEF_ITEM(Wrench, "it_wrench", it_wrench);
 
+    /**
+     * Yinyang
+     */
+    class Yinyang : public Item {
+        CLONEOBJ(Yinyang);
+        DECL_ITEMTRAITS;
+        
+    public:
+        Yinyang();
+
+        // Item interface
+        virtual std::string get_inventory_model();
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
 } // namespace enigma
 
 #endif

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/items.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -160,7 +160,6 @@
 namespace
 {
     DEF_ITEM(Odometer,  "it-odometer", it_odometer);
-    DEF_ITEMF(Coffee,   "it-coffee", it_coffee, itf_inflammable);
 }
 
 /* -------------------- DummyItem -------------------- */
@@ -216,24 +215,6 @@
     };
     DEF_ITEMTRAITS(Pin, "it-pin", it_pin);
 
-/* -------------------- Spoon -------------------- */
-namespace
-{
-    class Spoon : public Item {
-        CLONEOBJ(Spoon);
-        DECL_ITEMTRAITS;
-
-        ItemAction activate(Actor *a, GridPos) {
-            SendMessage(a, "_suicide");
-            return ITEM_DROP;
-        }
-    public:
-        Spoon()
-        {}
-    };
-    DEF_ITEMTRAITS(Spoon, "it-spoon", it_spoon);
-}
-
 /* -------------------- Booze -------------------- */
 
 namespace
@@ -696,57 +677,6 @@
                 itf_static | itf_indestructible | itf_fireproof);
 }
 
-
-/* -------------------- YinYang item -------------------- */
-namespace
-{
-    class YinYang : public Item {
-        CLONEOBJ(YinYang);
-        DECL_ITEMTRAITS;
-    public:
-        YinYang()
-        {}
-
-        string get_inventory_model() {
-            if (player::CurrentPlayer()==0)
-                return "it-yinyang";
-            else
-                return "it-yanying";
-        }
-
-        ItemAction activate(Actor *, GridPos p) {
-            // Switch to other marble
-            player::SwapPlayers();
-            // play_sound("switch");   // don't! wrong coordinates!
-            sound::EmitSoundEvent ("switchplayer", p.center());
-            return ITEM_KEEP;
-        }
-    };
-    DEF_ITEMTRAITS(YinYang, "it-yinyang", it_yinyang);
-}
-
-
-/* -------------------- Spade -------------------- */
-namespace
-{
-    class Spade : public Item {
-        CLONEOBJ(Spade);
-        DECL_ITEMTRAITS;
-
-        ItemAction activate(Actor *, GridPos p) {
-            if (Item *it=GetItem(p)) {
-                sound::EmitSoundEvent ("spade", p.center());
-                SendMessage(it, "shovel");
-                return ITEM_KEEP;
-            }
-            return ITEM_DROP;
-        }
-    public:
-        Spade() {}
-    };
-    DEF_ITEMTRAITS(Spade, "it-spade", it_spade);
-}
-
 /* -------------------- Pullers -------------------- */
 namespace
 {
@@ -1032,28 +962,6 @@
 }
 
 
-/* -------------------- Ring -------------------- */
-namespace
-{
-    class Ring : public Item {
-        CLONEOBJ(Ring);
-        DECL_ITEMTRAITS;
-    public:
-        Ring() {}
-
-        ItemAction activate(Actor *a, GridPos) {
-            if (ExchangeMarbles(a)) {
-                sound_event ("switchmarbles");
-            }
-            else {
-                RespawnActor(a);
-            }
-            return ITEM_DROP;
-        }
-    };
-    DEF_ITEMTRAITS(Ring, "it-ring", it_ring);
-}
-
 //----------------------------------------
 // Bridge item (for Oxyd compatibility)
 //
@@ -1700,7 +1608,6 @@
     RegisterItem (new BrokenBooze);
     Burnable::setup();
     RegisterItem (new ChangeFloorItem);
-    RegisterItem (new Coffee);
     RegisterItem (new Cross);
     RegisterItem (new Debris);
     RegisterItem (new Document);
@@ -1724,9 +1631,6 @@
     RegisterItem (new Pencil);
     RegisterItem (new Pin);
     Puller::setup();
-    RegisterItem (new Ring);
-    RegisterItem (new Spade);
-    RegisterItem (new Spoon);
     RegisterItem (new Spring1);
     RegisterItem (new Spring2);
     RegisterItem (new Springboard);
@@ -1734,7 +1638,6 @@
     RegisterItem (new TwoPKillStone);
     RegisterItem (new Weight);
     RegisterItem (new WhiteBomb);
-    RegisterItem (new YinYang);
 }
 
 } // namespace enigma

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/ox_extra.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -313,7 +313,7 @@
     IT_EXTERNAL,                // OxydExtra item 0x02
     IT_EXTERNAL,                // OxydExtra item 0x03
     "it_hammer",                  // OxydExtra item 0x04
-    "it-coffee",                  // OxydExtra item 0x05
+    "it_coffee",                  // OxydExtra item 0x05
     "it_cherry",                  // OxydExtra item 0x06
     "it_umbrella",                // OxydExtra item 0x07
     IT_MISSING,                 // OxydExtra item 0x08
@@ -341,7 +341,7 @@
     UNUSED,                  // OxydExtra item 0x1e
     UNUSED,                  // OxydExtra item 0x1f
     UNUSED,                  // OxydExtra item 0x20
-    "it-spade",                   // OxydExtra item 0x21
+    "it_spade",                   // OxydExtra item 0x21
     "it-surprise",                // OxydExtra item 0x22
     "it-pin",                     // OxydExtra item 0x23
     UNUSED,                  // OxydExtra item 0x24

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/ox_magnum.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -295,7 +295,7 @@
     IT_EXTERNAL,      // OxydMagnum item 0x02 document 1
     IT_EXTERNAL,      // OxydMagnum item 0x03 document 2
     "it_hammer",        // OxydMagnum item 0x04
-    "it-coffee",        // OxydMagnum item 0x05
+    "it_coffee",        // OxydMagnum item 0x05
     "it_cherry",        // OxydMagnum item 0x06
     "it_umbrella",      // OxydMagnum item 0x07
     "it_glasses",       // OxydMagnum item 0x08
@@ -317,14 +317,14 @@
     "it_sword",         // OxydMagnum item 0x18
     "it-flagwhite",     // OxydMagnum item 0x19
     "it-flagblack",     // OxydMagnum item 0x1a
-    "it-ring",          // OxydMagnum item 0x1b
+    "it_ring",          // OxydMagnum item 0x1b
     "it_pipe_nw",       // OxydMagnum item 0x1c
     "it_pipe_sw",       // OxydMagnum item 0x1d
     "it_pipe_ne",       // OxydMagnum item 0x1e
     "it_pipe_es",       // OxydMagnum item 0x1f
     "it_pipe_ns",        // OxydMagnum item 0x20
     "it_pipe_ew",        // OxydMagnum item 0x21
-    "it-spade",         // OxydMagnum item 0x22
+    "it_spade",         // OxydMagnum item 0x22
     UNUSED,        // OxydMagnum item 0x23
     "it-pin",           // OxydMagnum item 0x24
     "it_seed",          // OxydMagnum item 0x25

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/ox_oxyd1.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -311,7 +311,7 @@
     IT_EXTERNAL,                  // 0x02 document 1
     IT_EXTERNAL,                  // 0x03 document 2
     "it_hammer",                  // 0x04
-    "it-coffee",                  // 0x05
+    "it_coffee",                  // 0x05
     "it_cherry",                  // 0x06
     "it_umbrella",                // 0x07
     "it_glasses",                 // 0x08
@@ -333,14 +333,14 @@
     "it_sword",                   // 0x18
     "it-flagwhite",               // 0x19
     "it-flagblack",               // 0x1a
-    "it-ring",                    // 0x1b
+    "it_ring",                    // 0x1b
     "it_pipe_nw",                 // 0x1c
     "it_pipe_sw",                 // 0x1d
     "it_pipe_ne",                 // 0x1e
     "it_pipe_es",                 // 0x1f
     "it_pipe_ns",                 // 0x20
     "it_pipe_ew",                 // 0x21
-    "it-spade",                   // 0x22
+    "it_spade",                   // 0x22
     "it-surprise",                // 0x23
     "it-pin",                     // 0x24
     "it_seed",                    // 0x25

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/ox_peroxyd.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -384,7 +384,7 @@
     IT_EXTERNAL,                  // 0x02 document 1
     IT_EXTERNAL,                  // 0x03 document 2
     "it_hammer",                  // 0x04
-    "it-coffee",                  // 0x05
+    "it_coffee",                  // 0x05
     "it_cherry",                  // 0x06
     "it_umbrella",                // 0x07
     "it_glasses",                 // 0x08
@@ -405,14 +405,14 @@
     "it_floppy",                  // 0x17
     "it-flagwhite",               // 0x18
     "it-flagblack",               // 0x19
-    "it-ring",                    // 0x1a
+    "it_ring",                    // 0x1a
     "it_pipe_nw",                 // 0x1b
     "it_pipe_sw",                 // 0x1c
     "it_pipe_ne",                 // 0x1d
     "it_pipe_es",                 // 0x1e
     "it_pipe_ns",                  // 0x1f
     "it_pipe_ew",                  // 0x20
-    "it-spade",                   // 0x21
+    "it_spade",                   // 0x21
     "it-surprise",                // 0x22
     "it-pin",                     // 0x23
     "it_seed",                    // 0x24
@@ -440,7 +440,7 @@
     UNUSED,                  // 0x3a
     UNUSED,                  // 0x3b
     "it_cross",                   // 0x3c
-    "it-spoon",                   // 0x3d
+    "it_spoon",                   // 0x3d
     IT_MISSING,                   // 0x3e rubber band
     "it-changefloor",             // 0x3f
     "it_trigger",                 // 0x40

Modified: trunk/src/player.cc
===================================================================
--- trunk/src/player.cc	2009-01-11 00:21:43 UTC (rev 1445)
+++ trunk/src/player.cc	2009-01-11 23:49:02 UTC (rev 1446)
@@ -193,8 +193,8 @@
 {
     for (unsigned i=0; i<players.size(); ++i) {
         Inventory *inv = GetInventory (i);
-        if (inv->find ("it-yinyang") == -1) 
-            inv->add_item(MakeItem("it-yinyang"));
+        if (inv->find("it_yinyang") == -1) 
+            inv->add_item(MakeItem("it_yinyang"));
     }
 }
 
@@ -463,7 +463,7 @@
         else {
             if (pl == icurrent_player)
                 // check if player has yinyang for single gamer mode
-                if (player::GetInventory(pl)->find("it-yinyang",0) >= 0)
+                if (player::GetInventory(pl)->find("it_yinyang",0) >= 0)
                     toggle_player = true;
                 else
                     new_game = true;



From raoul at mail.berlios.de  Mon Jan 12 02:28:14 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 12 Jan 2009 02:28:14 +0100
Subject: [Enigma-game-svn] r1447 - in trunk/data/levels: enigma_cross
	enigma_iv enigma_v enigma_vi enigma_vii enigma_viii
Message-ID: <200901120128.n0C1SEnj005149@sheep.berlios.de>

Author: raoul
Date: 2009-01-12 02:28:11 +0100 (Mon, 12 Jan 2009)
New Revision: 1447

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/enigma0_92_3.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iv/duffy125_2.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/raoul12_2.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/andreas35_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ral10_2.xml
   trunk/data/levels/enigma_vi/raoul29_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/johann03_1.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
Log:
-> New API object renamings for yinyang floors and a few simple items



Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_3.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="8" title="Enigma 0.92 - 3"/>
+  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma 0.92 - 3"/>
 
   <attributes/>
 
@@ -63,7 +63,7 @@
     <level _seq="55" _title="Civil Engineer" _xpath="enigma_i/duffy122_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy122" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Electric Meditation" _xpath="enigma_iv/duffy123_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy123" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Worse Nightmare" _xpath="enigma_iv/duffy124_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy124" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="58" _title="Triple-Maze" _xpath="enigma_iv/duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="58" _title="Triple-Maze" _xpath="enigma_iv/duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Elaborate" _xpath="enigma_v/duffy126_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy126" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Now What?" _xpath="enigma_v/duffy127_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy127" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Patterns" _xpath="enigma_ii/duffy128_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy128" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -107,7 +107,7 @@
     <level _seq="99" _title="Thievish Alleys" _xpath="enigma_v/andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Double play" _xpath="enigma_v/just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="Oxyd-Puzzle" _xpath="enigma_v/raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="102" _title="Keystone" _xpath="enigma_v/raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="102" _title="Keystone" _xpath="enigma_v/raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Print 23" _xpath="enigma_v/richi07_1" author="Richi B?tzer" ctrl="force" easy="false" id="richi07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Laser Crossing" _xpath="enigma_v/luc24_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc24" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="105" _title="The Carousel" _xpath="enigma_v/luc30_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -195,14 +195,14 @@
     <level _seq="187" _title="- Meditation -" _xpath="enigma_vi/andreas36_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas36" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="188" _title="Troy" _xpath="enigma_vi/andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="189" _title="Ben Hur" _xpath="enigma_vi/ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
-    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="101" score="1" target="time" unit="duration"/>
+    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="102" score="1" target="time" unit="duration"/>
     <level _seq="191" _title="Janus" _xpath="enigma_vi/andreas38_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="192" _title="Phaeton" _xpath="enigma_vi/andreas39_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="194" _title="Oiltrace" _xpath="enigma_vi/raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="195" _title="The Cube" _xpath="enigma_vi/malaire01_1" author="Markus Laire" ctrl="force" easy="true" id="20061120malaire901" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="198" _title="be quick or be dead" _xpath="enigma_vi/illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="199" _title="Tarzan" _xpath="enigma_vi/ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="200" _title="Simple Space" _xpath="enigma_vi/ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 1.01 new"/>
+  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 1.01 new"/>
 
   <attributes/>
 
@@ -26,7 +26,7 @@
     <level _seq="18" _title="Your Friend, the Light" _xpath="enigma_vi/just15_1" author="JuSt" ctrl="force" easy="true" id="just15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="jumping ball flash" _xpath="enigma_vi/illmind13_1" author="illmind" ctrl="force" easy="false" id="2007ill001" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Cold Meditation" _xpath="enigma_vii/ral18_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070314ral728" rel="1" rev="67" score="1" target="time" unit="duration"/>
-    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Industrial Puzzles" _xpath="enigma_vi/raoul30_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul30" rel="2" rev="7" score="2" target="time" unit="duration"/>
     <level _seq="23" _title="Odyssey" _xpath="enigma_vi/ant39_1" author="Petr Machata" ctrl="force" easy="false" id="ant39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Tandem Chess" _xpath="enigma_vi/luc34_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc342007" rel="1" rev="2" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -59,8 +59,8 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
@@ -79,25 +79,25 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
@@ -110,7 +110,7 @@
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -120,21 +120,21 @@
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="139" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="140" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="22" score="1" target="time" unit="duration"/>
     <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy125_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy125_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_iv/duffy125_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Triple-Maze" el:subtitle="" el:id="duffy125"/>
-      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti["H"] = {"st-grate3"}
 ti["o"] = {"st_oxyd"}
 ti["*"] = {"st-brownie"}
-ti["x"] = {"it-yinyang"}
+ti["x"] = {"it_yinyang"}
 ti["z"] = {"#ac_marble_black", "a1"} .. ti["x"]
 ti["y"] = {"#ac_marble_white", "a3"} .. ti["x"]
 ti["h"] = {"#ac_horse", "a2"}

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma IV"/>
 
   <attributes/>
 
@@ -73,7 +73,7 @@
     <level _seq="65" _title="Little Bit of Everything" _xpath="./duffy34_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy34" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Snowball Fight" _xpath="./nat14_1" author="Nat Pryce" ctrl="force" easy="false" id="nat14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="U-Swap" _xpath="./ralf15_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf15" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="68" _title="Triple-Maze" _xpath="./duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="8" score="2" target="time" unit="duration"/>
+    <level _seq="68" _title="Triple-Maze" _xpath="./duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="The Dark Outside" _xpath="./andreas16_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas16" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Electric Meditation" _xpath="./duffy123_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy123" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Seed Puzzle" _xpath="./duffy77_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy77" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma V"/>
 
   <attributes/>
 
@@ -27,7 +27,7 @@
     <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="./ralf12_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Plan Ahead" _xpath="./duffy114_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy114" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="22" _title="Keystone" _xpath="./raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Keystone" _xpath="./raoul12_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul12" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Print 23" _xpath="./richi07_1" author="Richi B?tzer" ctrl="force" easy="false" id="richi07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Space Pirates" _xpath="./siegfried19_2" author="Siegfried Fennig" ctrl="force" easy="false" id="level6a" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="25" _title="Laser Crossing" _xpath="./luc24_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc24" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/raoul12_2.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul12_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_v/raoul12_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Keystone" el:subtitle="" el:id="raoul12"/>
-      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="8" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006,2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,8 +31,8 @@
 ti["6"] = {"st_switch_white", target="permute", _tag=6}
 ti["7"] = {"st_switch_white", target="permute", _tag=7}
 ti["?"] = {"st_puzzle_yellow", intensity = 4/5, cluster=1}
-ti["@"] = {"#ac_marble_black"} .. ti({"it-yinyang"})
-ti["B"] = {"#ac_marble_white"} .. ti({"it-yinyang"})
+ti["@"] = {"#ac_marble_black"} .. ti({"it_yinyang"})
+ti["B"] = {"#ac_marble_white"} .. ti({"it_yinyang"})
 
 puzz = res.puzzle(ti,"?")
 

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="9" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="10" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -52,7 +52,7 @@
 ti[" b"] = {"it-blackbomb", "bomb4"}
 ti[" e"] = {"it_extralife"}
 ti[" c"] = {"it_crack_l"}
-ti[" y"] = {"it-yinyang"}
+ti[" y"] = {"it_yinyang"}
 ti[" h"] = {"it_hammer"}
 ti[" _"] = {"it_shogun_l"}
 ti[" a"] = {"it_coin_s"}
@@ -72,7 +72,7 @@
 ti[" -"] = {"it_meditation_dent"}
 ti[" w"] = {"it_whitebomb"}
 ti[" !"] = {"it_wormhole", "worm5", destination="destination5", strength=5}
-ti[" o"] = {"it-spade"}
+ti[" o"] = {"it_spade"}
 ti[" x"] = {"it-document", text="text2"}
 ti[" 1"] = {"it_trigger", invisible=true, target="box", _box=1}
 ti["1 "] = {"st_door", "door1", flavor="d", faces="ew"}

Modified: trunk/data/levels/enigma_vi/andreas35_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Checkmate II" el:subtitle="" el:id="andreas35"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti["#"] = {"st-rock3"}
 ti["c"] = ti({"st_chess_white", checkerboard = 0}) .. {"st_chess_black", checkerboard = 1}
 ti["x"] = ti({"st_passage_black_frame", checkerboard = 0}) .. {"st_passage_white_frame", checkerboard = 1}
-ti["y"] = ti["x"] .. {"it-yinyang"}
+ti["y"] = ti["x"] .. {"it_yinyang"}
 ti["o"] = ti({"st_oxyd", oxydcolor = OXYD_WHITE, checkerboard = 0}) .. {"st_oxyd", oxydcolor = OXYD_BLACK, checkerboard = 1}
 
 w, h = wo(ti, " ", {

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma VI"/>
 
   <attributes/>
 
@@ -57,8 +57,8 @@
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="101" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="102" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -77,7 +77,7 @@
     <level _seq="69" _title="Devil's Bolder" _xpath="./just14_1" author="JuSt" ctrl="force" easy="true" id="just14" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Twisting by the pool" _xpath="./alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Revolver" _xpath="./ral16_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070214ral703" rel="1" rev="59" score="1" target="time" unit="duration"/>
-    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="ZigZag" _xpath="./ralf06_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="Houdini" _xpath="./ral11_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060816ral719" rel="2" rev="58" score="2" target="time" unit="duration"/>
     <level _seq="75" _title="The wrong Place?" _xpath="./just17_1" author="JuSt" ctrl="force" easy="false" id="just17" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ral10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Bodyguard" el:subtitle="In the line of thieves" el:id="20060730ral012"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 101 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 102 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,8 +21,8 @@
 ti["*"] = {"st-glass", "doorB#"}
 ti["B"] = {"st_passage_black_frame"}
 ti["W"] = {"st_passage_white_frame"}
-ti["b"] = ti["B"] .. {"it-yinyang"}
-ti["w"] = ti["W"] .. {"it-yinyang"}
+ti["b"] = ti["B"] .. {"it_yinyang"}
+ti["w"] = ti["W"] .. {"it_yinyang"}
 ti["c"] = {"it_cross"}
 
 ti["k"] = ti["B"] .. {"it_key", code="%1"}

Modified: trunk/data/levels/enigma_vi/raoul29_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Same task ..." el:subtitle="... different Mirrors" el:id="raoul29"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
 ti["F"] = {"st-glass1"}
 ti["w"] = ti[" "] .. {"it-flagwhite"}
 ti["b"] = ti[" "] .. {"it-flagblack"}
-ti["y"] = {"it-yinyang"}
+ti["y"] = {"it_yinyang"}
 ti["h"] = {"st_mirror", flavor="slab", transparent=true, orientation=SOUTH}
 ti["v"] = {"st_mirror", flavor="slab", transparent=true, orientation=NORTH}
 ti["<"] = {"st_mirror", flavor="triangle", transparent=false, movable=true, orientation=WEST}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VII"/>
 
   <attributes/>
 
@@ -83,8 +83,8 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="8" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="39" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 28 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -77,7 +77,7 @@
 ti[" 2"] = {"fl_ivory"}
 ti["s "] = {"it_sword"}
 ti[" 3"] = {"fl_lawn_c4"}
-ti["i "] = {"it-coffee"}
+ti["i "] = {"it_coffee"}
 ti["G "] = {"st_actorimpulse_invisible"}
 ti["y "] = {"it_cherry"}
 ti[" 4"] = {"fl_lawn_c1"}
@@ -118,7 +118,7 @@
 ti["h-"] = ti["~g"] .. {"it_strip", connections="ew"}
 ti["nn"] = ti[" 3"] .. {"st_actorimpulse_invisible"}
 ti["n-"] = ti[" 5"] .. {"st_actorimpulse_invisible"}
-ti["ni"] = ti[" )"] .. {"it-coffee"}
+ti["ni"] = ti[" )"] .. {"it_coffee"}
 ti["x "] = {"#ac_marble_black"}
 ti["r "] = {"#ac_top", range=1, strength=1}
 ti["p1"] = ti[" $"] .. {"it-document", text="text1"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:33$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:34$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -20,7 +20,7 @@
 ti[" !"] = {"fl_abyss"}
 ti[" ,"] = {"fl_red"}
 ti["! "] = {"st-block"}
-ti[" #"] = {"fl-acblack"}
+ti[" #"] = {"fl_yinyang_yin"}
 ti["# "] = {"st_death"}
 ti[" $"] = {"fl_metal_7"}
 ti[" %"] = {"fl_bluegray"}
@@ -137,7 +137,7 @@
     ti["hx"] = ti[" '"] .. {"it_strip", connections="ew"}
     ti["c9"] = ti[" ,"] .. {"st-glass"}
     ti["c1"] = ti["c9"] .. {"it_key", code=1}
-    ti["nn"] = ti[" #"] .. {"fl-acblack"}
+    ti["nn"] = ti[" #"] .. {"fl_yinyang_yin"}
 else
     ti["hx"] = ti[" #"] .. {"it_cherry"}
     ti["nn"] = ti[" #"] .. {"it_extralife"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 38 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 39 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -57,7 +57,7 @@
 ti["2 "] = {"st_boulder_w"}
 ti["o "] = {"it-springboard"}
 ti["3 "] = {"st_door", faces="ns"}
-ti["f "] = {"it-coffee"}
+ti["f "] = {"it_coffee"}
 ti["g "] = {"it-blackbomb"}
 ti["5 "] = {"st_passage_black_cross"}
 ti["6 "] = {"st-rock1"}
@@ -79,7 +79,7 @@
 ti["y "] = {"it_floppy"}
 ti["; "] = {"st_passage_black_frame"}
 ti["> "] = {"st_box_wood"}
-ti[" 6"] = {"fl-acwhite"}
+ti[" 6"] = {"fl_yinyang_yang"}
 ti[" 7"] = {"fl-gradient14"}
 ti["? "] = {"st_fake_oxydd"}
 ti["@ "] = {"st-glass"}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="8" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -49,7 +49,7 @@
 ti["J"] = ti["y"] .. {"st_passage_black_slash"} --Black grill on blue floor
 ti["K"] = ti["y"] .. {"st-grate1"} --Grate on blue floor
 ti["L"] = ti[" "] .. {"it_landmine"}
-ti["M"] = ti[" "] .. {"it-spoon"}
+ti["M"] = ti[" "] .. {"it_spoon"}
 ti["N"] = ti[" "] .. {"it-dynamite"}
 ti["O"] = ti["y"] .. {"st-invisible"} --Invisible stone on blue floor
 ti["P"] = ti[" "] .. {"st_door_a", name="Door1"} -- Tonto's prison door
@@ -71,7 +71,7 @@
 ti["!"] = ti[" "] .. {"it_key", code="1"}
 ti["@"] = ti[" "] .. {"it_key", code="2"}
 ti["#"] = ti[" "] .. {"st-camouflage"}
-ti["$"] = ti[" "] .. {"st_box_wood"} .. ti({"it-yinyang"})
+ti["$"] = ti[" "] .. {"st_box_wood"} .. ti({"it_yinyang"})
 ti["%"] = ti[" "] .. {"st_death_invisible"}
 ti["&"] = ti[" "] .. {"st_actorimpulse_invisible"}
 ti["*"] = ti[" "] .. {"#ac_rotor", range=5, strength=100}
@@ -81,7 +81,7 @@
 ti[">"] = {"fl-gradient16"} -- Right
 ti["^"] = {"fl-gradient13"} -- Up
 ti["("] = (ti[" "] .. {"#ac_marble_white", player=0, controllers=1, essential=-1, name="Ranger"})
-ti[")"] = (ti[" "] .. {"#ac_marble_black", player=1, controllers=2, essential=-1, name="Tonto"}) .. ti({"it-yinyang"})
+ti[")"] = (ti[" "] .. {"#ac_marble_black", player=1, controllers=2, essential=-1, name="Tonto"}) .. ti({"it_yinyang"})
 ti["="] = ti["t"] .. {"it-flagwhite"}
 ti["-"] = ti["l"] .. {"it-flagblack"}
 

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -83,7 +83,7 @@
 ti["Q"] = ti[" "] .. {"st-rock3_hole"}
 ti["R"] = ti[" "] .. {"st-rock3"}
 ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}
-ti["T"] = {"fl_plank"} .. ti({"it-coffee"})
+ti["T"] = {"fl_plank"} .. ti({"it_coffee"})
 ti["W"] = (ti({"fl-gradient15"}) .. {"st_oneway", orientation=WEST}) .. {"it-burnable"}
 ti["X"] = ti[" "] .. {"st_brick"}
 ti["["] = ti[" "] .. {"st-grate3", name="d1"}

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="10" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="11" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -72,7 +72,7 @@
 ti["S0"] = {"st_turnstilearm_s"} .. ti[" 0"]
 ti["T0"] = {"st_turnstile"} .. ti[" 0"]
 ti["B0"] = {"st-stone_break"} .. ti[" 0"]
-ti["s0"] = {"it-spade"} .. ti[" 0"]
+ti["s0"] = {"it_spade"} .. ti[" 0"]
 
 for j = 1, 5 do
   ti[j.."0"] = {"st_oxyd", oxydcolor = designs[design_permutation[j]][5]} .. ti[" 0"]

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="21" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="22" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -74,7 +74,7 @@
 ti["s"] = ti["."] .. {"it_seed"}
 ti["S"] = ti["w"] .. {"it_seed"}
 ti["t"] = {"it_wrench"}
-ti["y"] = ti["w"] .. {"it-yinyang"}
+ti["y"] = ti["w"] .. {"it_yinyang"}
 ti["%"] = ti["."] .. {"it-document", text = "doc1"}
 ti["z"] = {"it-document", text = "BzG"}
 ti["U"] = {"st_floppy", name = "floppyU", action = "toggle", target = "bridgeFloppyBlack#*"}
@@ -95,7 +95,7 @@
 if wo["IsDifficult"] ~= TRUE then
     ti["~"] = {"fl_bluegray"}
     ti["("] = {"fl_bridge_gc", state = CLOSED}
-    ti[";"] = ti["("] .. {"it-yinyang"}
+    ti[";"] = ti["("] .. {"it_yinyang"}
     ti["R"] = ti["~"] .. {"it-document", text = "doc2"}
     ti["&"] = ti["."] .. {"it_wormhole", destination = po(94.5, 6.5), strength = 1.0, range = 1.0}
     ti["["] = ti["("] .. {"it_sensor", name = "sensorEW01", action = "callback", target ="sensorEasyWhite01", invisible = true}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -1,28 +1,28 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
@@ -35,7 +35,7 @@
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -43,21 +43,21 @@
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="139" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="140" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="22" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/johann03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Cross Mail" el:subtitle="The level goes on" el:id="johann03"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="Johann Freymuth" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Johann Freymuth</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -44,8 +44,8 @@
 ti["l"] = {"st_switch", target="setes"}
 ti["m"] = {"st_switch", target="setsw"}
 ti["n"] = {"st_switch", target="setwn"}
-ti["B"] = ti({"it-yinyang"}) .. {"#ac_marble_black"}
-ti["W"] = ti({"it-yinyang"}) .. {"#ac_marble_white"}
+ti["B"] = ti({"it_yinyang"}) .. {"#ac_marble_black"}
+ti["W"] = ti({"it_yinyang"}) .. {"#ac_marble_white"}
 
 w, h = wo(ti, " ", {
 "##########XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 29 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 30 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -57,7 +57,7 @@
 ti["B "] = ti["b "] .. ti["X "]
 ti["e "] = {"it_extralife"}
 ti["Y "] = {"it_brush"}
-ti["l "] = ti["+ "] .. {"it-spoon"} 
+ti["l "] = ti["+ "] .. {"it_spoon"} 
 ti["E "] = {"st_boulder_e"}
 ti["h "] = {"it_hammer"}
 ti["- "] = {"it_strip_ew"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 25 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -38,7 +38,7 @@
 ti["i2"] = ti[" ,"] .. {"st-grate1"}
 ti[" 1"] = {"fl_rough"}
 ti[") "] = {"st_bluesand"}
-ti["f "] = {"it-coffee"}
+ti["f "] = {"it_coffee"}
 ti[" )"] = {"fl_red"}
 ti["* "] = {"st_oxyd_d"}
 ti["+ "] = {"st-glass_move"}
@@ -97,7 +97,7 @@
 ti[": "] = {"st_oneway_black_n"}
 ti["Y "] = {"st_oneway_black_s"}
 ti[" 2"] = {"fl_gravel"}
-ti[" 3"] = {"fl-acblack"}
+ti[" 3"] = {"fl_yinyang_yin"}
 ti["; "] = {"st_knight"}
 ti["< "] = {"st_laser_e", name="lezy1"}
 ti["= "] = {"st-thief"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -75,8 +75,8 @@
 ti["m"] = ti[" "] .. {"it_magnet", name="maggi1",state=ON, range=20, strength=10}
 ti["U"] = {"st_oneway_black_w"}
 ti["V"] = {"st_passage_black_frame"}
-ti["n"] = ti["W"] .. {"st-chameleon"}
-ti["o"] = ti["m"] .. {"st-chameleon"}
+ti["n"] = ti[" "] .. ti["W"] .. {"st-chameleon"}
+ti["o"] = ti[" "] .. ti["m"] .. {"st-chameleon"}
 ti["O"] = ti[" "] .. {"st-glass1_hole"}
 ti["'"] = {"it-burnable_oil"}
 ti[":"] = {"it-burnable_burning"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,15 +20,15 @@
 ti[" !"] = {"fl_rock"}
 ti[" r"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
-ti[" w"] = {"fl-acwhite"}
-ti[" *"] = {"fl-acblack"}
+ti[" w"] = {"fl_yinyang_yang"}
+ti[" *"] = {"fl_yinyang_yin"}
 ti[" i"] = {"fl_inverse"}
 ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl_rough"}
 ti[" '"] = {"fl_gravel"}
 ti[" ,"] = {"fl_bright"}
 ti[" +"] = {"fl_sahara"}
-ti["yi"] = ti[" +"] .. {"it-yinyang"}
+ti["yi"] = ti[" +"] .. {"it_yinyang"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
 ti["X~"] = ti[" ~"] .. {"st-grate1"}
 ti["Xw"] = ti[" w"] .. {"st-grate1"}
@@ -36,7 +36,7 @@
 ti["Xi"] = ti[" i"] .. {"st-grate1"}
 ti["Xb"] = ti[" b"] .. {"st-grate1"}
 ti["X&"] = ti[" &"] .. {"st-grate1"}
-ti["yw"] = ti[" w"] .. {"it-yinyang"}
+ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
 ti["0~"] = ti[" ~"] .. {"st-coffee"}
 ti["H'"] = ti[" '"] .. {"st_passage_black_square"}
@@ -55,7 +55,7 @@
 ti["CW"] = ti[" w"] .. {"st_chess_white"}
 ti["Sw"] = ti[" w"] .. {"st_swap"}
 ti["Tw"] = ti[" w"] .. {"st-thief"}
-ti["y~"] = ti[" ~"] .. {"it-yinyang"}
+ti["y~"] = ti[" ~"] .. {"it_yinyang"}
 ti["Y~"] = ti[" ~"] .. {"st-yinyang1"}
 ti["Y&"] = ti[" &"] .. {"st-yinyang1"}
 ti["Y!"] = ti[" !"] .. {"st-yinyang1"}
@@ -80,8 +80,8 @@
 ti["*w"] = ti["yy"] .. {"#ac_marble_white"}
 ti["OO"] = ti[" &"] .. {"st_oneway_white", orientation=EAST}
 ti["EE"] = ti[" '"] .. {"st_oneway_black", orientation=WEST}
-ti["or"] = ti["X'"] .. {"it-ring"}
-ti["ur"] = ti["X&"] .. {"it-ring"}
+ti["or"] = ti["X'"] .. {"it_ring"}
+ti["ur"] = ti["X&"] .. {"it_ring"}
 ti["ps"] = ti["Br"] .. {"it_seed"}
 ti["kk"] = ti["Xw"] .. {"it_cherry"}
 ti["ki"] = ti["gi"] .. {"it_cherry"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:9$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:10$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -53,8 +53,8 @@
 ti["/ "] = {"st_death"}
 ti[" p"] = ti["hh"] .. {"it-pencil"}
 ti["0 "] = {"st_quake"}
-ti[" f"] = ti["hh"] .. {"it-coffee"}
-ti["q "] = {"it-coffee"}
+ti[" f"] = ti["hh"] .. {"it_coffee"}
+ti["q "] = {"it_coffee"}
 ti[" ,"] = {"fl_gravel"}
 ti[" -"] = {"fl_redslab"}
 ti["1 "] = {"st-glass"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 28 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,7 +31,7 @@
 ti[" '"] = {"fl_bluegray"}
 ti["( "] = {"st-grate3"}
 ti["* "] = {"st-stone_break"}
-ti[" )"] = {"fl-acblack"}
+ti[" )"] = {"fl_yinyang_yin"}
 ti["+ "] = {"st_passage_white_cross"}
 ti[", "] = {"st_passage_black_cross"}
 ti["- "] = {"st-grate1"}
@@ -80,7 +80,7 @@
 ti["F "] = {"st_mirror", movable=true, transparent=true}
 ti[" ,"] = {"fl_swamp"}
 ti["G "] = {"st_laser_w", name="laserhi"}
-ti["oo"] = ti[" $"]..{"it-spoon"}
+ti["oo"] = ti[" $"]..{"it_spoon"}
 ti["H "] = {"st_oneway_black_e"}
 ti["::"] = ti[" '"]..{"it_crack_m"}
 ti["d1"] = ti[" $"] .. {"it-document", text="beginning"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 38 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 39 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -70,7 +70,7 @@
 ti["6 "] = {"st_key",code=3, name= "oklli3", target={"olli7","olli9","elli1"}}
 ti["0 "] = {"st_passage_black_cross"}
 ti["1 "] = {"st_floppy", target= "olli8"}
-ti[" )"] = {"fl-acwhite"}
+ti[" )"] = {"fl_yinyang_yang"}
 ti["2 "] = {"st_actorimpulse"}
 ti["3 "] = {"st-break_invisible"}
 ti["mm"] = ti["mn"] .. {"it_magicwand"}
@@ -101,7 +101,7 @@
 ti["C "] = {"st_oneway_black_w"}
 ti["fg"] = ti[" ("] .. {"st-glass"}
 ti["fx"] = ti["fg"] .. {"it_floppy"}
-ti["fy"] = ti[" !"] .. {"it-spoon"}
+ti["fy"] = ti[" !"] .. {"it_spoon"}
 ti["&h"] = ti[" !"] .. {"#ac_horse"}
 ti["r1"] = ti[" !"] .. {"#ac_top", range=2, strength=2}
 ti["r2"] = ti["jj"] .. {"#ac_rotor", range=5, strength=5}
@@ -122,7 +122,7 @@
     ti["pv"] = ti[" %"] .. {"it_strip", connections="ns"}
     ti["ei"] = ti[" !"] .. {"it_death"}
     ti["ec"] = ti[" !"] .. {"fl_red"}
-    ti["eq"] = ti["mn"] .. {"it-spoon"}
+    ti["eq"] = ti["mn"] .. {"it_spoon"}
     ti["qq"] = ti["fg"] .. {"it-spring2"}
     ti["~~"] = {"fl_water"}
 else

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti[" &"] = {"fl_ice"}
 ti[" %"] = {"fl_gravel"}
 ti["  "] = {"fl_hay",{secure=TRUE}}
-ti[" o"] = {"fl-acblack"}
+ti[" o"] = {"fl_yinyang_yin"}
 ti[" *"] = {"fl_himalaya"}
 ti[" +"] = {"fl_sahara"}
 ti[" '"] = {"fl_tigris"}
@@ -91,9 +91,9 @@
 ti["!5"] = ti["  "] .. {"st_disco"}
 ti["&1"] = ti[" &"] .. {"st_disco"}
 ti["!6"] = ti["!5"] .. {"it-drop"}
-ti["!7"] = ti["!5"] .. {"it-coffee"}
+ti["!7"] = ti["!5"] .. {"it_coffee"}
 ti["!8"] = ti["!5"] .. {"it-booze"}
-ti["!9"] = ti["!5"] .. {"it-spoon"}
+ti["!9"] = ti["!5"] .. {"it_spoon"}
 ti[" m"] = ti["!1"] .. {"it_magnet",state=ON,range=3,strength=7}
 ti["-m"] = ti["!1"] .. {"it_magnet",state=ON,range=5,strength=-7}
 ti["--"] = ti["!1"] .. {"it_magnet",state=ON,range=10,strength=-12}
@@ -210,7 +210,7 @@
 ti["o/"] = {"it-burnable_oil"}
 
 if wo ["IsDifficult"] then
-    ti["oo"] = ti[" o"].. {"it-coffee"}
+    ti["oo"] = ti[" o"].. {"it_coffee"}
     ti["L1"] = {"st_oneway",state=EAST}
     ti["L2"] = {"st_oneway",state=SOUTH}
     ti["L3"] = {"st_oneway",state=WEST}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 8 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -132,10 +132,10 @@
 ti["k "] = {"st_turnstilearm", orientation=WEST}
 ti["l "] = {"st_turnstilearm", orientation=EAST}
 ti[" *"] = {"it_extralife"}
-ti["v?"] = ti[" v"] ..  {"it-yinyang"}
+ti["v?"] = ti[" v"] ..  {"it_yinyang"}
 ti["* "] = ti["ii"] ..  {"#ac_marble_black"}
 ti["vv"] = ti[" v"] ..  {"fl_ice",name="hu"}
-ti[" ?"] = ti["wn"] ..  {"it-yinyang"}
+ti[" ?"] = ti["wn"] ..  {"it_yinyang"}
 ti["? "] = ti[" ?"] ..  {"#ac_marble_white"}
 ti["J "] = {"#ac_top", range=1, strength=1}
 ti["= "] = {"#ac_horse"}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,8 +18,8 @@
 ti[" r"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
 ti[" n"] = {"fl_metal_7"}
-ti[" w"] = {"fl-acwhite"}
-ti[" *"] = {"fl-acblack"}
+ti[" w"] = {"fl_yinyang_yang"}
+ti[" *"] = {"fl_yinyang_yin"}
 ti[" i"] = {"fl_inverse"}
 ti[" b"] = {"fl_aquamarine"}
 ti[" &"] = {"fl_rough"}
@@ -37,7 +37,7 @@
 ti["Xb"] = ti[" b"] .. {"st-grate1"}
 ti["X&"] = ti[" &"] .. {"st-grate1"}
 ti["Th"] = ti[" i"] .. {"st-yellow"}
-ti["yw"] = ti[" w"] .. {"it-yinyang"}
+ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
 ti["0~"] = ti[" ~"] .. {"st-coffee"}
 ti["H'"] = ti[" '"] .. {"st_passage_black_square"}
@@ -61,7 +61,7 @@
 ti["Tw"] = ti["dd"] .. {"st_disco_medium"}
 ti["Td"] = ti[" r"] .. {"st_disco_medium"}
 ti["TT"] = ti[" ="] .. {"st-thief"}
-ti["y~"] = ti[" ~"] .. {"it-yinyang"}
+ti["y~"] = ti[" ~"] .. {"it_yinyang"}
 ti["Y~"] = ti[" ~"] .. {"st-yinyang1"}
 ti["Y&"] = ti[" &"] .. {"st-yinyang1"}
 ti["Y!"] = ti[" !"] .. {"st-yinyang1"}
@@ -92,8 +92,8 @@
 ti["v1"] = ti["OO"] .. {"st_door",faces="ew", name="door1"}
 ti["EE"] = ti["j'"] .. {"st_oneway_black_w"}
 ti["v2"] = ti["EE"] .. {"st_door",faces="ew", name="door2"}
-ti["or"] = ti["X'"] .. {"it-ring"}
-ti["ur"] = ti["X&"] .. {"it-ring"}
+ti["or"] = ti["X'"] .. {"it_ring"}
+ti["ur"] = ti["X&"] .. {"it_ring"}
 ti["ps"] = ti["Br"] .. {"it_seed"}
 ti["kk"] = ti["Xw"] .. {"it_cherry"}
 ti["ki"] = ti["gi"] .. {"it_cherry"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-11 23:49:02 UTC (rev 1446)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-12 01:28:11 UTC (rev 1447)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 139 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 140 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -53,7 +53,7 @@
 ti[":;"] = {"fl_blueslab"}
 ti["=="] = {"fl_wood"}
 ti["tt"] = {"fl-thief"}
-ti["$$"] = {"fl-acwhite"}
+ti["$$"] = {"fl_yinyang_yang"}
 ti["gs"] = {"fl-gradient", type=1}
 ti["gw"] = {"fl-gradient", type=4}
 ti["gn"] = {"fl-gradient", type=2}
@@ -84,7 +84,7 @@
 ti[",b"] = ti[",,"] .. {"it_banana"}
 ti[",d"] = ti[",,"] .. {"it_coin_l"}
 ti[",s"] = ti[",,"] .. {"it_sword"}
-ti[",r"] = ti[",,"] .. {"it-ring"}
+ti[",r"] = ti[",,"] .. {"it_ring"}
 ti[",l"] = ti[",,"] .. {"it_extralife"}
 ti[",c"] = ti[",,"] .. {"it_rubberband", anchor2="white", threshold=1, length=10}
 ti[",g"] = ti[",,"] .. {"it_glasses", state=SPOT_DEATH}
@@ -105,15 +105,15 @@
 ti["_U"] = ti["__"] .. {"it_umbrella"}
 ti["_d"] = ti["__"] .. {"it-drop"}
 ti["_."] = ti["_v"] .. {"it_seed_volcano", secure=true}
-ti[";t"] = ti[";;"] .. {"it-spade"}
-ti[" t"] = ti["  "] .. {"it-spade"}
+ti[";t"] = ti[";;"] .. {"it_spade"}
+ti[" t"] = ti["  "] .. {"it_spade"}
 ti[" H"] = ti["  "] .. {"it_meditation_hill"}
 ti[";w"] = ti[";;"] .. {"it_magicwand"}
 ti["%w"] = ti["%%"] .. {"it_magicwand"}
 ti[";g"] = ti[";;"] .. {"it_glasses_broken"}
 ti["fw"] = ti["  "] .. {"it-flagwhite"}
 ti["ww"] = ti["  "] .. {"it_wormhole", range=0.5, destination="white_grave"}
-ti[" y"] = ti["  "] .. {"it-yinyang"}
+ti[" y"] = ti["  "] .. {"it_yinyang"}
 ti["k0"] = ti["  "] .. {"it_key", code=0}
 ti["k1"] = ti["  "] .. {"it_key", code=1}
 ti["k3"] = ti["~~"] .. {"it_key", code=3}
@@ -367,7 +367,7 @@
 
 if wo["IsDifficult"] then
     ti[" u"] = ti["  "]
-    ti[".r"] = ti[".."] .. {"it-ring"}
+    ti[".r"] = ti[".."] .. {"it_ring"}
 else
     ti[" u"] = ti["  "] .. {"it_umbrella"}
     ti[".r"] = ti[".."] .. {"it_extralife"}



From andreasl at mail.berlios.de  Tue Jan 13 00:28:43 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 13 Jan 2009 00:28:43 +0100
Subject: [Enigma-game-svn] r1448 - in feature_branches/hp_lotm:
	images/articles images/lotm input input/articles input/lotm
Message-ID: <200901122328.n0CNShSx016709@sheep.berlios.de>

Author: andreasl
Date: 2009-01-13 00:28:21 +0100 (Tue, 13 Jan 2009)
New Revision: 1448

Added:
   feature_branches/hp_lotm/images/articles/eoya_2008.png
   feature_branches/hp_lotm/images/articles/eoya_2008_a.png
   feature_branches/hp_lotm/images/articles/eoya_2008_b.png
   feature_branches/hp_lotm/images/articles/eoya_2008_c.png
   feature_branches/hp_lotm/images/articles/eoya_2008_d.png
   feature_branches/hp_lotm/images/articles/eoya_2008_e.png
   feature_branches/hp_lotm/images/articles/eoya_2008_f.png
   feature_branches/hp_lotm/input/articles/eoya_2008.html
   feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html
Modified:
   feature_branches/hp_lotm/images/lotm/lotm-history.png
   feature_branches/hp_lotm/input/hp_archive.html
   feature_branches/hp_lotm/input/hp_archive_de.html
   feature_branches/hp_lotm/input/hp_archive_ru.html
   feature_branches/hp_lotm/input/infobox.html
   feature_branches/hp_lotm/input/infobox_de.html
   feature_branches/hp_lotm/input/infobox_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
   feature_branches/hp_lotm/input/lotm/lotm_core.html
   feature_branches/hp_lotm/input/lotm/lotm_core_de.html
   feature_branches/hp_lotm/input/lotm/lotm_core_ru.html
   feature_branches/hp_lotm/input/output-files.lua
Log:
LotM Feature branch:
 - EoYA 2008 (English version, validated)   
    - Currently first entry in infobox
    - Entries in Level Archive
Todo:
 - Proofread
 - Translations (Russian, German)
    - I used copy and paste to provide Russian translations
      for infobox, hp_archive, lotm_core: Please check that
      everything is correct. Otherwise, only eoya_2008*
      need translation.
 - Upload


Added: feature_branches/hp_lotm/images/articles/eoya_2008.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_a.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_b.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_c.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_c.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_d.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_d.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_e.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_e.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: feature_branches/hp_lotm/images/articles/eoya_2008_f.png
===================================================================
(Binary files differ)


Property changes on: feature_branches/hp_lotm/images/articles/eoya_2008_f.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: feature_branches/hp_lotm/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Added: feature_branches/hp_lotm/input/articles/eoya_2008.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -0,0 +1,330 @@
+<div class="lotm">
+
+<table border="0">
+<tr><td>
+
+<h2>End of Year Awards 2008</h2>
+
+<p>During the past month, we asked our dear readers to vote for the best levels
+Enigma has to offer, in five categories. We chose three categories which
+already appeared in the End of Year Awards 2007, and added a pair of
+complimentary categories for this year: The first &quot;Best Meditation&quot;
+and &quot;Best Action Level&quot; awards in Enigma's history.
+Instead of a Level-of-the-Month-January article, we now present the results of
+this poll&mdash;thanks to all voters and gamers out there!</p>
+
+</td><td>
+
+<p><img class="leftimage" src="$$imagedir$$/articles/eoya_2008.png"
+alt="EoYA 2008" border="0"></p>
+
+</td></tr>
+</table>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3>Comments of our Visitors</h3>
+
+<p>We gave you the possibility to state comments and remarks for us at the end
+of the poll, and we were very happy to receive your hortative greets, we really
+need this kind of feedback, and so we want to cite an excerpt of the comments
+here (some translated):</p>
+
+<ul>
+<li>Enigma rules. Really great.
+:))))))))))))))))))))))))))))</li>
+<li>Thanks for the great game!</li>
+<li>I preferred not to rate levels I haven't finished; or have not played, so I have a lot of &quot;-&quot; responses.
+
+Looking forward to Engima 1.10, if I read the forums properly!</li>
+<li>I still can't move the chess-horses up to today :-(
+
+Otherwise: two thumbs up!</li>
+
+<li>The game is super! ;)</li>
+<li>A hearty thank-you to the whole Enigma crew for this splendid work.
+:))))))) Keep it up.</li>
+
+</ul>
+
+<p>
+Thank you! :-)
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>And here they are:</p>
+
+<h3><a name="best_meditation">
+Best Meditation 2008: &quot;Mountain Climbing&quot; by Joseph Dunne
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_a.png"
+       alt="Mountain Climbing, VII/22" border="0">
+
+Mountain Climbing, VII/22</p>
+
+<p>After being awarded <a href="$$eoya_2007$$#funniest_level">Funniest Level
+2007</a>, &quot;Mountain Climbing&quot;, Joseph Dunne's exceptionally unique
+creation gathers one more award: It was chosen Best Meditation 2008, with 3.85
+of 5 possible points way ahead of &quot;Cold Meditation&quot; (3.59) and
+&quot;Meditation Puzzle&quot; (3.56).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_action_level">
+Best Action Level 2008: &quot;Diving&quot; by Joona Laire
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_b.png" alt="Diving, VII/2" border="0">
+  <div class="imagetitle">Diving, VII/2</div>
+</div>
+
+<p>&quot;Diving&quot; deserves a special mentioning here: During the
+evaluation of this year's poll, there were times when &quot;Diving&quot; was in
+leading position in three categories at once (and would have won them, if it
+were for points and not averaged points), and it was already chosen second
+funniest level in 2007! I'm personally glad that this extraordinary level
+finally made it to become Best Action Level 2008, as Joona Laire more than
+deserved it, with 3.61 points ahead of &quot;Phaeton&quot; (3.48) and &quot;A
+Cooler Spot In Hell&quot; (3.39).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_onescreener">
+Best Onescreener 2008: &quot;Industrial Puzzles&quot; by Raoul Bourquin
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_c.png"
+       alt="Industrial Puzzles, VI/98" border="0">
+
+Industrial Puzzles, VI/98</p>
+
+<p>&quot;Industrial Puzzles&quot; was the first onescreener to become <a
+href="$$lotm_200810$$">Level of the Month</a>, this was just two months ago. Now
+it consequentially reached for the Best Onescreener 2008 award, and with the
+highest overall rating throughout this EoYA, with 4.18 points, Raoul Bourquin
+marks his territory against &quot;Plan Ahead&quot; (3.71) and &quot;What a
+Mess&quot; (3.65).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_design">
+Best Design 2008: &quot;Temple of Gold&quot; by Jacob Scott
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_d.png"
+       alt="Temple of Gold, VII/24" border="0">
+
+Temple of Gold, VII/24</p>
+
+<p>Jacob Scott's &quot;Temple of Gold&quot;, <a href="$$lotm_200712$$">Level of
+the Month December 2007</a>, undoubtedly one of the best levels in Enigma, is
+this year's awardee in the category &quot;Best Design&quot;, and gathered for
+this victory 4.04 points. It is followed by the Level of the Year 2007
+&quot;Island Labyrinth&quot; (3.79), and the already mentioned
+&quot;Diving&quot; (3.61).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="funniest_level">
+Funniest Levels 2008: &quot;What's the Problem?&quot; by Sven Siggelkow
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_e.png" alt="What's the Problem?, IV/49" border="0">
+  <div class="imagetitle">What's the Problem?, IV/49</div>
+</div>
+
+<p>Sven Siggelkow's &quot;What's the Problem?&quot;, one of the most surprising
+levels in Enigma, is awarded the rank of Funniest Level 2008! With 3.39 points
+it outsmarts &quot;Pac Marble&quot; (3.33) and even &quot;Diving&quot; (3.31).
+The player says: This is definitely merited!
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>And now, to the most important category:</p>
+
+<h3><a name="loty">
+Level of the Year 2008: &quot;Houdini&quot; by Ronald Lamprecht!
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_f.png"
+       alt="Houdini, VI/74" border="0">
+
+Houdini, VI/74</p>
+
+<p>To the end of 2008, only four levels overcame the rating-9-watershed:
+&quot;Houdini&quot;, which concluded with 9.36 points, &quot;Island
+Labyrinth&quot; and &quot;Temple of Gold&quot;, which share the second place at
+9.27 points, and &quot;Quadropolis&quot;, the First Common Efforts Level,
+reaching 9.17 points&mdash;these are the levels which consitute the Cr&egrave;me
+de la Cr&egrave;me of Enigma, and &quot;Houdini&quot; was rated the best of
+them in 2008&mdash;and hence, its author, Ronald Lamprecht, to be the Level
+Author of the Year! Jacob Scott, holding this coveted title up to now, wrote us
+his thoughts about this fantastic piece of craftwork:
+</p>
+
+<div class="quote">
+Ah Houdini &hellip; I remember this level well. Most puzzles in Enigma
+require a bit of cleverness to solve, but some puzzles like this not
+only require cleverness but creativity&mdash;to solve as well as to make.
+It creates its own distinct environment with non-obvious goals. The
+name &quot;Houdini&quot; very aptly describes this puzzle. Just as in Houdini's
+tricks of freeing himself from many restraints placed on him at once,
+progressing through this level requires repeatedly escaping from some
+area to find oneself trapped by yet another barrier. And this makes
+it a constant challenge, and hence delight, to play.
+</div>
+
+<div class="quote">
+I think one large feature that distinguishes the most enjoyable,
+higher-rated levels of Enigma, like this one, is the necessity to
+explore and experiment. This was definitely present in the last Level
+of the Year, my Island Labyrinth, with grassy corridors leading off to
+various smaller puzzles. But this also holds for this year's Level of
+the Year; instead of exploration over a vast landscape, solving this
+puzzle really requires the exploration of all interactions between the
+given items. It may be small, only a couple rooms, but the potential
+number of different approaches is huge. In fact I believe this to be
+true of many of the winning levels this year; each one presents the
+player with many different options, either for where to go or how to
+use certain elements, and presents some complex problem that can't
+even obviously be solved using the given pieces, let alone in which
+configuration, but can be passed with a bit of ingenuity. This is
+distinct from puzzles which just necessitate setting up pieces in
+particular ways, using them in the expected manner&mdash;say a blocks and
+water puzzle or a laser and mirrors puzzle.  While fun, these cannot
+compete with that one quality of the Levels of the Year, a sense of
+exploration.
+</div>
+
+<div class="quote">
+This Level of the Year goes to a great level author who has produced
+many quality landscapes over the years.  Most of his levels are based
+around some unique concept or pattern that nobody has seen before&mdash;as a
+result they often appear nearly impossible until the key is found 
+and, elegantly, the puzzle all falls apart. The Level of the Year
+2008 is one of these levels that embody the spirit of exploration and
+innovation, which is what makes it so rewarding to finally solve.
+</div>
+
+<div class="author">
+Jacob Scott, Level Author of the Year 2007
+</div>
+
+You may want to reread the article about &quot;Houdini&quot; <a
+href="$$lotm_200712$$">here</a>.
+
+<h3>Coming to the end &hellip;</h3>
+
+<p>With these words, we close our second Level-of-the-Month series, and just as
+last year, it's time for us to thank all those commentators and authors who
+helped us throughout the last year, thanks go to
+Ryujun,
+Daydreamer,
+Ronald Lamprecht,
+Manuel K&ouml;nig,
+Tarim,
+Craven,
+Taztunes,
+Shoki,
+Mecke,
+JuSt,
+dev0,
+Moneymaker,
+Mark P.,
+Brynn,
+Dominik Leipold,
+Martin,
+and Xang
+for their comments. Particular thanks go to Ludmian Sedai, who wrote the
+fantastic article about moonpearl's <a href="$$lotm_200807$$">&quot;Gods of
+Enigma II&quot;</a>; as well as to Clifford J. Tasner, who, although busy with
+the by far more important elections for You-Know-Whom, always found some time
+for us, to proofread our English, and to provide us with comments. Large
+thank-yous go to Yurij and Ludmian, who translated the immense load of articles
+this homepage produces into Russian. Our thanks go to Alain Busser for his
+wonderful article about <a href="$$level_andreas11$$">&quot;Patterns of
+Impulse&quot;</a>, and to Mecke, who provided us with articles for the new
+&quot;Marbleous!&quot; column &mdash; of course, we'll continue them this year.
+</p>
+
+<p>
+A very special thank-you deserves NObby, the author of the majority of this
+year's LotM articles; five of them were written by NObby, and it's his
+indisputable merit, that the Level-of-the-Month column survived at all! We all
+owe to him our highest respect to step into the breach, when Andreas
+stopped writing articles in March '08. NObby, we all hope to read more articles
+from your feather!
+</p>
+
+<p>
+Of course we want to thank the authors of the nine excellent levels as well:
+Raoul Bourquin,
+Sven Siggelkow,
+Ronald Lamprecht,
+Jacob Scott,
+Jon 'WB' Sneyers,
+Moonpearl,
+and Lukas Sch&uuml;ller,
+without whose levels there would be no Level-of-the-Month at all; thank you for
+your continuing work, and thanks to all the other level authors as well! Just
+as Daniel Heck said:
+</p>
+
+<div class="quote">
+<b>It's really the levels that reward us, and not the other way around.</b>
+</div>
+
+<p>
+Thanks go to Daniel Heck, to Meinolf Schneider, and to the current developers
+of Enigma, particularly Ronald Lamprecht and Raoul Bourquin. There's no need to
+explicate their contributions, we all know their names, and that without their
+hard work in past and present, Enigma wouldn't exist and thrive the way it does
+today.</p>
+
+<div class="lotmpic">
+  <a href="$$imagedir$$/lotm/lotm-history.png">
+  <img src="$$imagedir$$/lotm/lotm-thumbnail.png" alt="$$lotm_history$$" border="0">
+  </a>
+  <div class="imagetitle">
+    <a href="$$imagedir$$/lotm/lotm-history.png">
+    $$lotm_history$$
+    </a>
+  </div>
+</div>
+
+<p>You can find the current statistics of our nineteen LotM's in the <a
+href="$$lotm$$">LotM-archive</a>, and the exact statistical results of the poll
+you can find <a href="$$eoya_2008_statistics$$">here</a>.</p>
+  
+<p>Cheers,<br>
+<i>Andreas &amp; Harry</i></p>
+
+</div>
+

Added: feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -0,0 +1,325 @@
+
+<h2>End of Year Awards 2008 - Pure Statistics</h2>
+
+<p><a href="$$eoya_2008$$">Back to article.</a></p>
+
+
+<h3>Best Meditation</h3>
+
+<p>Meditation levels constitute a game on its own within Enigma, they appear on
+a regular basis and help the gamer to relax once and a while. But some
+meditations provide extraordinary tasks by themselves, here are our nominated
+best meditations.</p>
+
+<p>You can give each level 1 up to 5 points, 5 is the best. Vote with
+&quot;-&quot;, if you don't know the level or don't want to judge it.</p>
+
+<p>In total 30 votes plus 34 empty votes.</p>
+
+<table border=1>
+<tr><th align=right>Points</th><th align=right>Votes</th>
+<th align=right><b>Average</b></th>
+<th align=left></th></tr>
+<tr><td align=right>104</td><td align=right>27</td><td align=right>3.852</td><td align=left>Mountain Climbing (VII/22) {joe10_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>17</td><td align=right>3.588</td><td align=left>Cold Meditation (VII/21) {ral18_1}</td></tr>
+
+<tr><td align=right>96</td><td align=right>27</td><td align=right>3.556</td><td align=left>Meditation Puzzle (IV/20) {duffy01_1}
+</td></tr>
+<tr><td align=right>84</td><td align=right>25</td><td align=right>3.360</td><td align=left>V/20 (V/20) {ralf12_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>26</td><td align=right>3.077</td><td align=left>Shrinking Pits (V/10) {duffy23_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>24</td><td align=right>3.000</td><td align=left>Group Trip to Meditation (VI/90) {duffy136_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>24</td><td align=right>2.958</td><td align=left>Space Meditation (II/40) {duffy59_1}
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Catwalk Meditation V/ (V/80) {ral05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>26</td><td align=right>2.731</td><td align=left>IV/30 (IV/30) {ant23_1}
+
+</td></tr>
+<tr><td align=right>70</td><td align=right>26</td><td align=right>2.692</td><td align=left>Hot Meditation VI/ (VI/50) {ral08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>26</td><td align=right>2.654</td><td align=left>Snow White (III/40) {ant15_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>26</td><td align=right>2.615</td><td align=left>Bad Flowers (III/60) {nat30_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Best Action Level</h3>
+
+<p>Jumping, speed, mouse acrobatics&mdash;that's one of the pillars of Enigmas
+gameplay. Yet, when it comes to determining the best levels, these aspects often
+take a back seat against the puzzles. But this year, we want to honor the best
+levels of this genre as well!</p>
+
+<p>In total 30 votes plus 25 empty votes.</p>
+
+<table border=1>
+<tr><th align=right>Points</th><th align=right>Votes</th>
+<th align=right><b>Average</b></th>
+<th align=left></th></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+
+</td></tr>
+<tr><td align=right>73</td><td align=right>21</td><td align=right>3.476</td><td align=left>Phaeton (VI/35) {andreas39_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>18</td><td align=right>3.389</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>79</td><td align=right>24</td><td align=right>3.292</td><td align=left>Rush Hour Traffic (III/44) {duffy62_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>21</td><td align=right>3.286</td><td align=left>Revolver (VI/71) {ral16_1}
+
+</td></tr>
+<tr><td align=right>63</td><td align=right>20</td><td align=right>3.150</td><td align=left>Caribbean Waters (VII/4) {duffy139_1}
+</td></tr>
+<tr><td align=right>78</td><td align=right>25</td><td align=right>3.120</td><td align=left>Mourning Palace (IV/38) {ant08_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>23</td><td align=right>2.957</td><td align=left>Think Fast (III/88) {duffy85_2}</td></tr>
+<tr><td align=right>73</td><td align=right>26</td><td align=right>2.808</td><td align=left>Unfair! (III/99) {ant33_1}
+
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Snakes (I/5) {duffy19_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>23</td><td align=right>2.739</td><td align=left>Humid Maze (V/43) {duffy133_2}
+</td></tr>
+<tr><td align=right>64</td><td align=right>24</td><td align=right>2.667</td><td align=left>Run Like Hell (IV/57) {ralf09_1}
+</td></tr>
+<tr><td align=right>58</td><td align=right>22</td><td align=right>2.636</td><td align=left>Black Diamond Course (III/41) {duffy28_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>Comet (VII/3) {duffy147_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Best Onescreener</h3>
+
+<p>Levels, which comprise of only one screen, have difficulties to become Level
+of the Month. Yet, there are many pearls in this category, which earn to be
+celebrated.</p>
+
+<p>In total 29 votes plus 26 empty votes.</p>
+
+<table border=1>
+
+<tr><th align=right>Points</th><th align=right>Votes</th>
+<th align=right><b>Average</b></th>
+<th align=left></th></tr>
+<tr><td align=right>92</td><td align=right>22</td><td align=right>4.182</td><td align=left>Industrial Puzzles (VI/98) {raoul30_2}
+</td></tr>
+<tr><td align=right>89</td><td align=right>24</td><td align=right>3.708</td><td align=left>Plan Ahead (V/21) {duffy114_2}
+</td></tr>
+<tr><td align=right>95</td><td align=right>26</td><td align=right>3.654</td><td align=left>What a Mess (IV/58) {duffy68_2}
+
+</td></tr>
+<tr><td align=right>90</td><td align=right>25</td><td align=right>3.600</td><td align=left>Procrustes (VI/36) {andreas34_1}
+</td></tr>
+<tr><td align=right>86</td><td align=right>24</td><td align=right>3.583</td><td align=left>Laser Path (V/4) {andreas06_1}</td></tr>
+<tr><td align=right>71</td><td align=right>20</td><td align=right>3.550</td><td align=left>Protected Exhibition (VII/16) {duffy156_1}
+</td></tr>
+<tr><td align=right>76</td><td align=right>22</td><td align=right>3.455</td><td align=left>Tandem Chess (VI/86) {luc34_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>22</td><td align=right>3.273</td><td align=left>Laser Splitting (VI/6) {luc29_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>19</td><td align=right>3.263</td><td align=left>Red Herrings (VI/14) {andy01_3}
+</td></tr>
+<tr><td align=right>70</td><td align=right>23</td><td align=right>3.043</td><td align=left>Laser Tricks (III/55) {duffy84_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>19</td><td align=right>2.947</td><td align=left>Polar Bears' Paradise (VI/99) {ral19_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>57</td><td align=right>22</td><td align=right>2.591</td><td align=left>Magic Trinity (VI/81) {duffy146_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Best Design</h3>
+
+<p>A level not only impresses with puzzles and challenges, but sometimes with
+pure beauty to the eye, with elegance and originality.</p>
+
+<p>In total 30 votes plus 25 empty votes.</p>
+
+<table border=1>
+<tr><th align=right>Points</th><th align=right>Votes</th>
+<th align=right><b>Average</b></th>
+<th align=left></th></tr>
+<tr><td align=right>93</td><td align=right>23</td><td align=right>4.043</td><td align=left>Temple of Gold (VII/24) {duffy151_3}
+</td></tr>
+<tr><td align=right>91</td><td align=right>24</td><td align=right>3.792</td><td align=left>Island Labyrinth (V/100) {duffy129_1}
+
+</td></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>26</td><td align=right>3.577</td><td align=left>Gods of Enigma II (V/69) {mp02_1}
+</td></tr>
+<tr><td align=right>85</td><td align=right>24</td><td align=right>3.542</td><td align=left>Elaborate (V/65) {duffy126_1}
+</td></tr>
+<tr><td align=right>82</td><td align=right>24</td><td align=right>3.417</td><td align=left>Turnstiles for Two (VI/77) {ral17_2}</td></tr>
+
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>Flood Gates (IV/17) {nat08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>22</td><td align=right>3.136</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>73</td><td align=right>25</td><td align=right>2.920</td><td align=left>Solar System (II/39) {duffy98_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>22</td><td align=right>2.864</td><td align=left>Temple of Ganesha (VII/8) {duffy154_1}
+
+</td></tr>
+<tr><td align=right>66</td><td align=right>25</td><td align=right>2.640</td><td align=left>Laserpowered (VI/41) {raoul20_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>25</td><td align=right>2.520</td><td align=left>Bright Dots (III/38) {raoul09_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>26</td><td align=right>2.154</td><td align=left>Sleeping Serpent (IV/59) {raoul10_1}
+</td></tr>
+<tr><td align=right>47</td><td align=right>23</td><td align=right>2.043</td><td align=left>be quick or be dead (VI/54) {illmind12_1}
+
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Funniest Level (6/7)</h3>
+
+<p>Some levels stand out by their original, amusing or surprising gameplay, they
+present the light, gladly played entertainment in Enigma.</p>
+
+<p>In total 30 votes plus 24 empty votes.</p>
+
+<table border=1>
+<tr><th align=right>Points</th><th align=right>Votes</th>
+<th align=right><b>Average</b></th>
+
+<th align=left></th></tr>
+<tr><td align=right>88</td><td align=right>26</td><td align=right>3.385</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>24</td><td align=right>3.333</td><td align=left>Pac Marble (VI/5) {andreas22_1}
+</td></tr>
+<tr><td align=right>96</td><td align=right>29</td><td align=right>3.310</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>75</td><td align=right>25</td><td align=right>3.000</td><td align=left>Coloured Doors (III/8) {luc03_1}</td></tr>
+
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Oxyd Drilling (VI/92) {duffy140_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Pontoon bridges (VI/82) {duffy137_1}
+</td></tr>
+<tr><td align=right>66</td><td align=right>23</td><td align=right>2.870</td><td align=left>The Turtle (III/45) {ant05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>25</td><td align=right>2.840</td><td align=left>Enigris (V/92) {ralf04_1}
+
+</td></tr>
+<tr><td align=right>65</td><td align=right>23</td><td align=right>2.826</td><td align=left>Tarzan (VI/56) {ulf03_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>23</td><td align=right>2.783</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>23</td><td align=right>2.696</td><td align=left>Help Yourself (V/79) {duffy113_1}
+</td></tr>
+<tr><td align=right>55</td><td align=right>23</td><td align=right>2.391</td><td align=left>Antimaze (IV/7) {luc02_2}
+
+</td></tr>
+<tr><td align=right>56</td><td align=right>24</td><td align=right>2.333</td><td align=left>Kaleidoscope (II/22) {duffy118_1}
+</td></tr>
+<tr><td align=right>48</td><td align=right>22</td><td align=right>2.182</td><td align=left>Confetti (I/78) {duffy74_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Language ratio</h3>
+
+<ul>
+<li>English: 130</li>
+<li>German: 153</li>
+<li>Russian: 10</li>
+<li><b>Total: 293</b></li></ul>
+
+<h3>Date statistics</h3>
+
+Please note that this table (in contrast to all preceding ones) additionally
+counts corrections to existing entries. The column &quot;Question X&quot; states
+how many users clicked on one of the submit-buttons in the corresponding
+questionnaire.
+
+<table border=1>
+<tr><th align=right><b>Date</b></th><th align=right><b>Entries</b></th><th align=right>Question 1</th><th align=right>Question 9</th></tr>
+<tr><td align=right>2008-12-01</td><td align=right>28</td>
+<td align=right>5</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-02</td><td align=right>99</td>
+<td align=right>20</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-03</td><td align=right>16</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-04</td><td align=right>40</td>
+
+<td align=right>8</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-05</td><td align=right>20</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-06</td><td align=right>16</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-07</td><td align=right>10</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-08</td><td align=right>27</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-09</td><td align=right>1</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-11</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-12</td><td align=right>17</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-14</td><td align=right>1</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-16</td><td align=right>5</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-17</td><td align=right>5</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-18</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-19</td><td align=right>6</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-20</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-21</td><td align=right>2</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right><b>Sum</b></td><td align=right>326</td>
+
+<td align=right>64</td>
+<td align=right>0</td></tr>
+</table>
+
+<p><a href="$$eoya_2008$$">Back to article.</a></p>
+

Modified: feature_branches/hp_lotm/input/hp_archive.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/hp_archive.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -30,6 +30,10 @@
   </li>
   <li><a href="$$marbleous_3$$">Marbleous! &mdash; The Novice, Part 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">End of Year Awards 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">End of Year Awards 2008 - Pure Statistics</a>
+  </li>
 </ul>
 
 

Modified: feature_branches/hp_lotm/input/hp_archive_de.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive_de.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/hp_archive_de.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -30,5 +30,9 @@
   </li>
   <li><a href="$$marbleous_3$$">Gemurmel! &mdash; Der Neuling, Teil 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">Jahresendauszeichnungen 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">Jahresendauszeichnungen 2008 - Pure Statistiken</a>
+  </li>
 </ul>
 

Modified: feature_branches/hp_lotm/input/hp_archive_ru.html
===================================================================
--- feature_branches/hp_lotm/input/hp_archive_ru.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/hp_archive_ru.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -29,4 +29,8 @@
   </li>
   <li><a href="$$marbleous_3$$">???????????! &mdash; ???????? ?? ???????, ????? 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">??????? ????? ???? 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">??????? ????? ???? 2008 - ?????????????? ?????</a>
+  </li>
 </ul>

Modified: feature_branches/hp_lotm/input/infobox.html
===================================================================
--- feature_branches/hp_lotm/input/infobox.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/infobox.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -4,6 +4,15 @@
          Read <a href="$$marbleous_3$$">here</a> about the newest adventure of
          our &quot;novice&quot;, his experiences and thoughts!
 
+         <h3>End-of-Year Awards</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="Which might be the Level of the Year?" border="0"></a>
+         <div class="imagetitle">
+           The best levels of 2008 are chosen and the Level of the Year 2008
+           has been determined - find out who got the awards
+           <a href="$$eoya_2008$$">here</a>!
+         </div>
+         
          <h3>Level of the Month</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
@@ -11,12 +20,14 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>Independent Article</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
+         -->
          
          <!--
          <h3>April Fool's Day '08</h3>
@@ -26,18 +37,7 @@
            <a href="$$april_2008$$">&quot;The Three Clouds&quot;</a>
          </div>
          -->
-         
-         <!--
-         <h3>End-of-Year Awards</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="Which might be the Level of the Year?" border="0"></a>
-         <div class="imagetitle">
-           The best levels of 2007 are chosen and the Level of the Year 2007
-           has been determined - find out who got the awards
-           <a href="$$eoya_2007$$">here</a>!
-         </div>
-         -->
-         
+                  
          <h3>PAR and Hcp Recalibration</h3>
 	 Due to the increasing number of score submitters we are now able to
 	 base the PAR value mainly on given scores. The effect of users who

Modified: feature_branches/hp_lotm/input/infobox_de.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_de.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/infobox_de.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -3,6 +3,15 @@
          <h3>Gemurmel!</h3>
          Lesen Sie <a href="$$marbleous_3$$">hier</a> &uuml;ber das neueste
          Abenteuer unseres &quot;Neulings&quot;, seine Erfahrungen und Gedanken!
+
+         <h3>Jahresend-<br>auszeichnungen</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="Welches mag der Level des Jahres sein?" border="0"></a>
+         <div class="imagetitle">
+           Die besten Levels aus 2008 sind gew&auml;hlt und der Level des
+           Jahres 2008 steht fest - finden Sie <a href="$$eoya_2008$$">hier</a>
+           raus, wer die Preise gewonnen hat!
+         </div>
          
          <h3>Level des Monats</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
@@ -11,12 +20,14 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>Unabh&auml;ngiger Artikel</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
+         -->
          
          <!--
          <h3>Aprilscherz '08</h3>
@@ -27,17 +38,6 @@
          </div>
          -->
          
-         <!--
-         <h3>Jahresend-<br>auszeichnungen</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="Welches mag der Level des Jahres sein?" border="0"></a>
-         <div class="imagetitle">
-           Die besten Levels aus 2007 sind gew&auml;hlt und der Level des
-           Jahres 2007 steht fest - finden Sie <a href="$$eoya_2007$$">hier</a>
-           raus, wer die Preise gewonnen hat!
-         </div>
-         -->
-
          <h3>PAR und Hcp Recalibration</h3>
 	 Aufgrund der gestiegenen Anzahl an Einsendungen von Ergebnissen
 	 k&ouml;nnen die PAR Werte nun haups&auml;chlich auf den Spielresultaten

Modified: feature_branches/hp_lotm/input/infobox_ru.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_ru.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/infobox_ru.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -3,7 +3,14 @@
          <h3>???????????!</h3>
          <a href="$$marbleous_3$$">?????</a> ????? ???????? ? ????????? ????????????
 	  ?????? &quot;???????&quot;, ? ??? ????? ? ????????????!
-
+	  
+         <h3>??????? ????? ????</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="????? ????? ???? ??????? ?????" border="0"></a>
+         <div class="imagetitle">
+           ?????? ?????? 2008 ???????, ? ??????? ???? 2008 ????????? - ??????? ??? ??????? ??????? <a href="$$eoya_2008$$">?????</a>!
+         </div>
+         
          <h3>??????? ??????</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
@@ -11,13 +18,15 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>????????? ??????</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
-         
+         -->
+
          <!--
          <h3>?????? ?????? '08</h3>
          <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"
@@ -27,15 +36,6 @@
          </div>
          -->
          
-         <!--
-         <h3>??????? ????? ????</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="????? ????? ???? ??????? ?????" border="0"></a>
-         <div class="imagetitle">
-           ?????? ?????? 2007 ???????, ? ??????? ???? 2007 ????????? - ??????? ??? ??????? ??????? <a href="$$eoya_2007$$">?????</a>!
-         </div>
-         -->
-
          <h3>???????????? PAR ? Hcp</h3>
 	 ?? ????????? ????????? ????? ??????????? ???????????, ?? ??????
 	 ????? ?????????? ???????? PAR ??????????????? ?? ?????????? ?????. ???????

Modified: feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/lotm/lotm_archive_data.lua	2009-01-12 23:28:21 UTC (rev 1448)
@@ -180,6 +180,8 @@
 
 level_archive_data = {}
 
+-- EoYA 2007
+
 level_archive_data[1] = {
   link = "$$eoya_2007$$#best_onescreener",
   occasion = "Best Onescreener 2007",
@@ -252,6 +254,8 @@
   position_num = "5100"
 }
 
+-- during 2008
+
 level_archive_data[9] = {
   link = "$$april_2008$$",
   occasion = "April Fool's Day Joke 2008",
@@ -270,28 +274,84 @@
   position_num = "4044"
 }
 
+-- EoYA 2008
+
+level_archive_data[11] = {
+  link = "$$eoya_2008$$#best_meditation",
+  occasion = "Best Meditation 2008",
+  name = "Mountain Climbing",
+  author = "Joseph Dunne",
+  position = "VII/22",
+  position_num = "7022"
+}
+
+level_archive_data[12] = {
+  link = "$$eoya_2008$$#best_action_level",
+  occasion = "Best Action Level 2008",
+  name = "Diving",
+  author = "Joona Laire",
+  position = "VII/2",
+  position_num = "7002"
+}
+
+level_archive_data[13] = {
+  link = "$$eoya_2008$$#best_onescreener",
+  occasion = "Best Onescreener 2008",
+  name = "Industrial Puzzles",
+  author = "Raoul Bourquin",
+  position = "VI/98",
+  position_num = "6098"
+}
+
+level_archive_data[14] = {
+  link = "$$eoya_2008$$#best_design",
+  occasion = "Best Design 2008",
+  name = "Temple of Gold",
+  author = "Jacob Scott",
+  position = "VII/24",
+  position_num = "7024"
+}
+
+level_archive_data[15] = {
+  link = "$$eoya_2008$$#funniest_level",
+  occasion = "Funniest Level 2008",
+  name = "What's the Problem?",
+  author = "Sven Siggelkow",
+  position = "IV/49",
+  position_num = "4049"
+}
+
+level_archive_data[16] = {
+  link = "$$eoya_2008$$#loty",
+  occasion = "Level of the Year 2008",
+  name = "Houdini",
+  author = "Ronald Lamprecht",
+  position = "VI/74",
+  position_num = "6074"
+}
+
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
-lotm_rating(    "Island Labyrinth",  9.29,  14,  "(1 down)")
+lotm_rating(    "Island Labyrinth",  9.27,  15,  "(1 up)")
 lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "")
-lotm_rating(    "The Aztec Temple",  9.08,  13,  "")
-lotm_rating("Labyrinth of Puzzles",  8.78,  18,  "")
-lotm_rating(           "Elaborate",  8.62,  13,  "")
-lotm_rating(             "Houdini",  9.36,  11,  "(2 up)")
+lotm_rating(    "The Aztec Temple",  8.87,  15,  "")
+lotm_rating("Labyrinth of Puzzles",  8.74,  19,  "")
+lotm_rating(           "Elaborate",  8.64,  14,  "")
+lotm_rating(             "Houdini",  9.36,  11,  "")
 lotm_rating(           "Tool Time",  8.21,  24,  "")
 lotm_rating(         "Quadropolis",  9.17,  12,  "")
-lotm_rating(      "Big Adventures",  8.40,  25,  "(1 down)")
-lotm_rating(      "Temple of Gold",  9.30,  10,  "(1 down)")
-lotm_rating(      "Puzzle Puzzles",  8.56,   9,  "")
+lotm_rating(      "Big Adventures",  8.40,  25,  "")
+lotm_rating(      "Temple of Gold",  9.27,  11,  "")
+lotm_rating(      "Puzzle Puzzles",  8.60,  10,  "")
 lotm_rating(      "Psycho Pushing",  8.17,  12,  "")
 lotm_rating(  "Turnstiles for Two",  8.29,   7,  "")
 lotm_rating(     "Pleasure Garden",  8.38,  16,  "")
-lotm_rating(      "Block its way!",  8.00,  19,  "")
-lotm_rating(   "Gods of Enigma II",  8.42,  19,  "(1 up)")
+lotm_rating(      "Block its way!",  7.85,  20,  "")
+lotm_rating(   "Gods of Enigma II",  8.42,  19,  "")
 lotm_rating( "River of Challenges",  8.36,  11,  "")
 lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
-lotm_rating(          "Procrustes",  7.75,  16,  "<b>(newcomer)</b>")
+lotm_rating(          "Procrustes",  7.71,  17,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 

Modified: feature_branches/hp_lotm/input/lotm/lotm_core.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_core.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/lotm/lotm_core.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -33,7 +33,8 @@
   </table>
 
   <p>You may find the article about the <b>End-of-Year-Awards 2007</b>
-  <a href="$$eoya_2007$$">here</a>.</p>
+  <a href="$$eoya_2007$$">here</a>,
+  <b>2008</b> <a href="$$eoya_2008$$">here</a>.</p>
   
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: feature_branches/hp_lotm/input/lotm/lotm_core_de.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_core_de.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/lotm/lotm_core_de.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -35,7 +35,8 @@
   </table>
 
   <p>Sie finden den Artikel zu den <b>Jahresendauszeichnungen 2007</b>
-  <a href="$$eoya_2007$$">hier</a>.</p>
+  <a href="$$eoya_2007$$">hier</a>,
+  <b>2008</b> <a href="$$eoya_2008$$">hier</a>.</p>
 
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: feature_branches/hp_lotm/input/lotm/lotm_core_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_core_ru.html	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/lotm/lotm_core_ru.html	2009-01-12 23:28:21 UTC (rev 1448)
@@ -30,7 +30,8 @@
   </table>
 
   <p>?? ?????? ????? ?????? ? <b>???????? ????? ???? 2007</b>
-  <a href="$$eoya_2007$$">?????</a>.</p>
+  <a href="$$eoya_2007$$">?????</a>,
+  <b>2008</b> <a href="$$eoya_2008$$">?????</a>.</p>
   
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: feature_branches/hp_lotm/input/output-files.lua
===================================================================
--- feature_branches/hp_lotm/input/output-files.lua	2009-01-12 01:28:11 UTC (rev 1447)
+++ feature_branches/hp_lotm/input/output-files.lua	2009-01-12 23:28:21 UTC (rev 1448)
@@ -508,6 +508,29 @@
 }
 
 ----------------------------------------------------------------------
+-- End of Year Awards 2008
+----------------------------------------------------------------------
+html.eoya_2008 = {
+    outfile = "eoya_2008.html",
+    title = "End of Year Awards 2008",
+    title_de = "Jahresendauszeichnungen 2008",
+    title_ru = "??????? ????? ???? 2008",
+    --es-- title_es = "End of Year Awards 2008",
+    rightcolumn = {},
+    body = {"articles/eoya_2008"}
+}    
+
+html.eoya_2008_statistics = {
+    outfile = "eoya_2008_statistics.html",
+    title = "End of Year Awards 2008 - Pure Statistics",
+    title_de = "Jahresendauszeichnungen 2008 - Pure Statistiken",
+    title_ru = "??????? ????? ???? 2008 - ?????? ??????????",
+    --es-- title_es = "End of Year Awards 2008",
+    rightcolumn = {},
+    body = {"articles/eoya_2008_statistics"}
+}
+
+----------------------------------------------------------------------
 -- April 2008 ("The Three Clouds")
 ----------------------------------------------------------------------
 



From andreasl at mail.berlios.de  Tue Jan 13 00:37:05 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 13 Jan 2009 00:37:05 +0100
Subject: [Enigma-game-svn] r1449 - homepage/input/articles
Message-ID: <200901122337.n0CNb5cI024243@sheep.berlios.de>

Author: andreasl
Date: 2009-01-13 00:36:56 +0100 (Tue, 13 Jan 2009)
New Revision: 1449

Modified:
   homepage/input/articles/eoya_2007.html
   homepage/input/articles/eoya_2007_de.html
   homepage/input/articles/eoya_2007_ru.html
Log:
Homepage:
 - Fixes for validation of EoYA 2007 (yes, 2007)


Modified: homepage/input/articles/eoya_2007.html
===================================================================
--- homepage/input/articles/eoya_2007.html	2009-01-12 23:28:21 UTC (rev 1448)
+++ homepage/input/articles/eoya_2007.html	2009-01-12 23:36:56 UTC (rev 1449)
@@ -205,9 +205,9 @@
 
 <p>And here they are:</p>
 
-<a name="best_onescreener">
-<h3>Best Onescreener 2007: &quot;Doors Galore&quot; by Ray Wick</h3>
-</a>
+<h3><a name="best_onescreener">
+Best Onescreener 2007: &quot;Doors Galore&quot; by Ray Wick
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -220,9 +220,9 @@
 winning margin over &quot;Plan Ahead&quot; (3.59) and &quot;Industrial
 Puzzles&quot; (3.50).</p>
 
-<a name="best_levelseries">
-<h3>Best Levelseries 2007: &quot;Gods of Enigma&quot; by moonpearl</h3>
-</a>
+<h3><a name="best_levelseries">
+Best Levelseries 2007: &quot;Gods of Enigma&quot; by moonpearl
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -246,10 +246,9 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_design">
-<h3>Best Design 2007: &quot;The Aztec Temple&quot; by Dominik
-Lehmann</h3>
-</a>
+<h3><a name="best_design">
+Best Design 2007: &quot;The Aztec Temple&quot; by Dominik Lehmann
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -263,10 +262,10 @@
 caverns, from now on the jungle will be a new possible setting for our level
 authors.</p>
 
-<a name="funniest_level">
-<h3>Funniest Levels 2007: &quot;Advancing&quot; and &quot;Mountain
-Climbing&quot; by Joseph Dunne</h3>
-</a>
+<h3><a name="funniest_level">
+Funniest Levels 2007: &quot;Advancing&quot; and &quot;Mountain
+Climbing&quot; by Joseph Dunne
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -290,9 +289,9 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_yinyang">
-<h3>Best Yin-Yang Level 2007: &quot;Teamwork&quot; by Jacob Scott</h3>
-</a>
+<h3><a name="best_yinyang">
+Best Yin-Yang Level 2007: &quot;Teamwork&quot; by Jacob Scott
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -307,9 +306,9 @@
 
 <p>And now, to the most important category:</p>
 
-<a name="loty">
-<h3>Level of the Year 2007: &quot;Island Labyrinth&quot; by Jacob Scott!</h3>
-</a>
+<h3><a name="loty">
+Level of the Year 2007: &quot;Island Labyrinth&quot; by Jacob Scott!
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">

Modified: homepage/input/articles/eoya_2007_de.html
===================================================================
--- homepage/input/articles/eoya_2007_de.html	2009-01-12 23:28:21 UTC (rev 1448)
+++ homepage/input/articles/eoya_2007_de.html	2009-01-12 23:36:56 UTC (rev 1449)
@@ -214,9 +214,9 @@
 
 <p>Und hier sind sie:</p>
 
-<a name="best_onescreener">
-<h3>Bester Onescreener 2007: &quot;Doors Galore&quot; von Ray Wick</h3>
-</a>
+<h3><a name="best_onescreener">
+Bester Onescreener 2007: &quot;Doors Galore&quot; von Ray Wick
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -229,9 +229,9 @@
 Wick einen bemerkenswerten Vorsprung vor &quot;Plan Ahead&quot; (3,59) und
 &quot;Industrial Puzzles&quot; (3,50).</p>
 
-<a name="best_levelseries">
-<h3>Beste Levelserie 2007: &quot;Gods of Enigma&quot; von moonpearl</h3>
-</a>
+<h3><a name="best_levelseries">
+Beste Levelserie 2007: &quot;Gods of Enigma&quot; von moonpearl
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -257,10 +257,9 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_design">
-<h3>Bestes Design 2007: &quot;The Aztec Temple&quot; von Dominik
-Lehmann</h3>
-</a>
+<h3><a name="best_design">
+Bestes Design 2007: &quot;The Aztec Temple&quot; von Dominik Lehmann
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -275,10 +274,10 @@
 wird von nun an der Dschungel ein neues m&ouml;gliches Setting f&uuml;r unsere
 Levelautoren sein.</p>
 
-<a name="funniest_level">
-<h3>Lustigste Levels 2007: &quot;Advancing&quot; und &quot;Mountain
-Climbing&quot; von Joseph Dunne</h3>
-</a>
+<h3><a name="funniest_level">
+Lustigste Levels 2007: &quot;Advancing&quot; und &quot;Mountain
+Climbing&quot; von Joseph Dunne
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -303,10 +302,9 @@
   <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_yinyang">
-<h3>Bester Yin-Yang-Level 2007: &quot;Teamwork&quot; von Jacob
-Scott</h3>
-</a>
+<h3><a name="best_yinyang">
+Bester Yin-Yang-Level 2007: &quot;Teamwork&quot; von Jacob Scott
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -321,9 +319,9 @@
 
 <p>Und nun, die wichtigste Kategorie:</p>
 
-<a name="loty">
-<h3>Level des Jahres 2007: &quot;Island Labyrinth&quot; von Jacob Scott!</h3>
-</a>
+<h3><a name="loty">
+Level des Jahres 2007: &quot;Island Labyrinth&quot; von Jacob Scott!
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">

Modified: homepage/input/articles/eoya_2007_ru.html
===================================================================
--- homepage/input/articles/eoya_2007_ru.html	2009-01-12 23:28:21 UTC (rev 1448)
+++ homepage/input/articles/eoya_2007_ru.html	2009-01-12 23:36:56 UTC (rev 1449)
@@ -144,9 +144,9 @@
 
 <p>? ??? ? ???:</p>
 
-<a name="best_onescreener">
-<h3>?????? ???????????? ??????? 2007: &quot;Doors Galore&quot; ?? Ray Wick</h3>
-</a>
+<h3><a name="best_onescreener">
+?????? ???????????? ??????? 2007: &quot;Doors Galore&quot; ?? Ray Wick
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_h.png" alt="Doors Galore, IV/9" border="0">
@@ -155,9 +155,9 @@
 
 <p>&quot;Doors Galore&quot; - ???? ?? ????? ???????????? ? &quot;????????&quot; ??????? ? Enigma, ???????????? ??????? ??????? ?????? ? ?????????????? ?????????. ? 3.89 ?? 5 ????????? ?????, Ray Wick ?????????? ?????????? ??????, ??????????? ?? &quot;Plan Ahead&quot; (3.59) ? &quot;Industrial Puzzles&quot; (3.50).</p>
 
-<a name="best_levelseries">
-<h3>?????? ????? ??????? 2007: &quot;Gods of Enigma&quot; ?? moonpearl</h3>
-</a>
+<h3><a name="best_levelseries">
+?????? ????? ??????? 2007: &quot;Gods of Enigma&quot; ?? moonpearl
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_f.png" alt="Gods of Enigma, V/67" border="0">
@@ -177,9 +177,9 @@
 <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_design">
-<h3>?????? ?????????? 2007: &quot;The Aztec Temple&quot; ?? Dominik Lehmann</h3>
-</a>
+<h3><a name="best_design">
+?????? ?????????? 2007: &quot;The Aztec Temple&quot; ?? Dominik Lehmann
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_i.png" alt="The Aztec Temple, VI/100" border="0">
@@ -190,9 +190,9 @@
 ??????? ?????? ??? 2007, ? 4.19 ??????, &quot;The Aztec Temple&quot; ???????????? &quot;Mountain Climbing&quot; (3.80) ? &quot;Solar System&quot; (3.68), ? ?????????? ? ?????? Enigma ????? ?????????: ????? ??????????? ????????, ?????, ??????? ? ?????? ?????, ? ????? ??????? ??????? ??????
 ????? ????????? ?????????? ??? ????? ??????? ???????.</p>
 
-<a name="funniest_level">
-<h3>????? ???????? ?????? 2007: &quot;Advancing&quot; ? &quot;Mountain Climbing&quot; ?? Joseph Dunne</h3>
-</a>
+<h3><a name="funniest_level">
+????? ???????? ?????? 2007: &quot;Advancing&quot; ? &quot;Mountain Climbing&quot; ?? Joseph Dunne
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_d.png" alt="Advancing, VII/23" border="0">
@@ -211,9 +211,9 @@
 <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
 </p>
 
-<a name="best_yinyang">
-<h3>?????? ???-??? ??????? 2007: &quot;Teamwork&quot; ?? Jacob Scott</h3>
-</a>
+<h3><a name="best_yinyang">
+?????? ???-??? ??????? 2007: &quot;Teamwork&quot; ?? Jacob Scott
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_c.png" alt="Teamwork, III/18" border="0">
@@ -224,9 +224,9 @@
 
 <p>? ??????, ????? ?????? ?????????:</p>
 
-<a name="loty">
-<h3>??????? ???? 2007: &quot;Island Labyrinth&quot; ?? Jacob Scott!</h3>
-</a>
+<h3><a name="loty">
+??????? ???? 2007: &quot;Island Labyrinth&quot; ?? Jacob Scott!
+</a></h3>
 
 <p>
   <img class="leftimage" src="$$imagedir$$/articles/eoya_2007_b.png" alt="Island Labyrinth, V/100" border="0">



From ral at mail.berlios.de  Tue Jan 13 00:49:29 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 13 Jan 2009 00:49:29 +0100
Subject: [Enigma-game-svn] r1450 - in trunk: data data/schemas src
	src/actors src/stones
Message-ID: <200901122349.n0CNnTQe004090@sheep.berlios.de>

Author: ral
Date: 2009-01-13 00:49:19 +0100 (Tue, 13 Jan 2009)
New Revision: 1450

Modified:
   trunk/data/api1init.lua
   trunk/data/schemas/objects.xml
   trunk/src/actors/Balls.cc
   trunk/src/enigma.hh
   trunk/src/floors.cc
   trunk/src/items.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/oxyd.cc
   trunk/src/player.cc
   trunk/src/stones/BoulderStone.cc
   trunk/src/stones/CompatibilityStones.cc
   trunk/src/stones_simple.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering
- boulder stone: add message "flip" for reversing the orientation
- fix multiple engine internal missed renamings
- actor attribute "player" renamed to "owner"
- actor attribute "color" no write access

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/data/api1init.lua	2009-01-12 23:49:19 UTC (rev 1450)
@@ -415,7 +415,7 @@
 function enigma.MakeObject(name)
     if name == "ac-whiteball-small" then
         local obj = enigma._MakeObject("ac_pearl_white")
-        enigma._SetAttrib(obj, "player", nil)
+        enigma._SetAttrib(obj, "owner", nil)
         return obj
     elseif name == "fl-bridge-open" then
         local obj = enigma._MakeObject("fl_bridge")
@@ -779,6 +779,9 @@
          end
          return
      end
+     if key == "player" then
+         _key = "owner"
+     end
      enigma._SetAttrib(obj, _key, _val)
 end
 
@@ -846,6 +849,9 @@
          if color == 2 then val = 0 else val = 1 end
          return val
      end
+     if key == "player" then
+         _key = "owner"
+     end
 
      local val = enigma._GetAttrib(obj, _key)
 

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/data/schemas/objects.xml	2009-01-12 23:49:19 UTC (rev 1450)
@@ -62,8 +62,8 @@
     <attr name="nopaction" type="bool" default="false" rw="rw"/>
     <attr name="noshuffle" type="bool" default="false" rw="rw"/>
     <attr name="orientation" type="int" default="0" min="0" max="3" rw="rw"/>
+    <attr name="owner" type="int" default="nil" min="0" max="1" rw="rw"/>
     <attr name="oxydcolor" type="int" default="-1" min="-4" max="7" rw="rw"/>
-    <attr name="player" type="int" default="nil" min="0" max="1" rw="rw"/>
     <attr name="prefercurrent" type="double" default="0.0" rw="rw"/>
     <attr name="push_directions" type="string" default="nil" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
@@ -173,9 +173,9 @@
     <object name="ac" abstract="true">
       <attr name="adhesion" default="1.0"/>
       <attr name="controllers"/>
-      <attr name="color"/>
+      <attr name="color" rw="r"/>
       <attr name="fellows"/>
-      <attr name="player"/>
+      <attr name="owner"/>
       <attr name="essential"/>
       <attr name="essential_id"/>
       <attr name="charge"/>
@@ -754,6 +754,7 @@
       <msg name="orientate"/>
       <msg name="turn"/>
       <msg name="turnback"/>
+      <msg name="flip"/>
     </object>
     <object name="st_boulder_w">
       <attr name="orientation" value="0"/>

Modified: trunk/src/actors/Balls.cc
===================================================================
--- trunk/src/actors/Balls.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/actors/Balls.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -515,7 +515,7 @@
     Marble::Marble(int color) : BasicBall(traits[color]) {
         setAttr("adhesion", 1.0);
         setAttr("color", color);
-        setAttr("player", color == BLACK ? 0 : 1);
+        setAttr("owner", color == BLACK ? YIN : YANG);
         setAttr("controllers", color == BLACK ? 1 : 2);
     }
     
@@ -540,7 +540,7 @@
     Pearl::Pearl(int color) : BasicBall(traits[color], 4) {
         setAttr("adhesion", 1.0);
         setAttr("color", color);
-        setAttr("player", 0);
+        setAttr("owner", YIN);
         setAttr("controllers", 3);
     }
 

Modified: trunk/src/enigma.hh
===================================================================
--- trunk/src/enigma.hh	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/enigma.hh	2009-01-12 23:49:19 UTC (rev 1450)
@@ -39,6 +39,11 @@
 
 namespace enigma { 
     
+    enum Player {
+        YIN = 0,
+        YANG = 1
+    };
+    
     enum Color {
         BLACK = 0,
         WHITE = 1,

Modified: trunk/src/floors.cc
===================================================================
--- trunk/src/floors.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/floors.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -663,7 +663,7 @@
         state = EMERGING;
         m_affected_actor = a;
         affected_player = -1;
-        if (Value v = m_affected_actor->getAttr("player")) affected_player = v;
+        if (Value v = m_affected_actor->getAttr("owner")) affected_player = v;
     }
 }
 

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/items.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -1285,7 +1285,7 @@
     }
 
     void Cross::actor_enter(Actor *a) {
-        if ((state == 0) && a->getAttr("player")) {
+        if ((state == 0) && a->getAttr("owner")) {
             state = 1;
             GameTimer.set_alarm (this, getAttr("interval"));
         }
@@ -1466,7 +1466,7 @@
                 "it_umbrella",
                 "it-spring1",
                 "it-dynamite",
-                "it-coffee",
+                "it_coffee",
                 "it_hammer"
             };
             replace(items[enigma::IntegerRand (0, 4)]);
@@ -1485,24 +1485,8 @@
         CLONEOBJ(ChangeFloorItem);
         DECL_ITEMTRAITS;
 
-        void exchange_floor (const char *a, const char *b) {
-            GridPos p = get_pos();
-            if (Floor *fl = GetFloor(p)) {
-                if (fl->is_kind(a))
-                    SetFloor (p, MakeFloor(b));
-                else if (fl->is_kind(b))
-                    SetFloor (p, MakeFloor(a));
-            }
-        }
-
         void actor_leave (Actor *) {
-            if (server::TwoPlayerGame) {
-                // two players: black / white tile
-                exchange_floor("fl_yinyang_yang", "fl_yinyang_yin");
-            } else {
-                // one player: left / right accel
-//                exchange_floor ("fl-
-            }
+            SendMessage(GetFloor(get_pos()), "toggle");
         }
 
     public:
@@ -1523,7 +1507,7 @@
         info->pos = olda->get_pos();
         info->vel = olda->get_vel();
 
-        if (Value v = olda->getAttr("player")) {
+        if (Value v = olda->getAttr("owner")) {
             player::ReplaceActor((int)v, olda, newa);
         }
 
@@ -1562,17 +1546,17 @@
         {
             const double ROTOR_LIFETIME = 5.0;
 
-            int     iplayer = a->getAttr("player");
+            int     iplayer = a->getAttr("owner");
             ActorID id      = get_id (a);
 
             if (id == ac_marble_black || id == ac_marble_white) {
                 // Kill ALL rubberbands connected with the actor:
                 SendMessage(a, "disconnect");
                 Actor *rotor = MakeActor("ac_rotor");
-                rotor->setAttr("adhesion", Value (1.0));
-                rotor->setAttr("controllers", Value (iplayer+1));
-                rotor->setAttr("player", Value (iplayer));
-                rotor->setAttr("gohome", Value (false));
+                rotor->setAttr("adhesion", 1.0);
+                rotor->setAttr("controllers", iplayer+1);
+                rotor->setAttr("owner", iplayer);
+                rotor->setAttr("gohome", false);
                 rotor->setAttr("essential", a->getAttr("essential"));
                 std::string essId;
                 if (Value v = a->getAttr("essential_id")) {

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/ox_peroxyd.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -190,7 +190,7 @@
     UNUSED,                     // PerOxyd floor 0x54
     "fl_plank",                 // PerOxyd floor 0x55
     UNUSED,                     // PerOxyd floor 0x56
-    "fl-nomouse",               // PerOxyd floor 0x57 (only used in Link-Level 91, friction (2.5) questionable!)
+    "fl_adhesionless",          // PerOxyd floor 0x57 (only used in Link-Level 91, friction (2.5) questionable!)
     UNUSED,                     // PerOxyd floor 0x58
     UNUSED,                     // PerOxyd floor 0x59
     UNUSED,                     // PerOxyd floor 0x5a
@@ -287,7 +287,7 @@
     "st_disco_dark",            // PerOxyd stone 0x60
     "st_disco_medium",          // PerOxyd stone 0x61
     "st-bombs",                 // PerOxyd stone 0x62
-    "st-flash",                 // PerOxyd stone 0x63
+    "st_flash",                 // PerOxyd stone 0x63
     "st_coinslot_instant",      // PerOxyd stone 0x64
     "st-thief",                 // PerOxyd stone 0x65
     "st_shogun_s",              // PerOxyd stone 0x66

Modified: trunk/src/oxyd.cc
===================================================================
--- trunk/src/oxyd.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/oxyd.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -502,17 +502,16 @@
         switch (marble.getMarbleType()) {
         case MarbleType_Black:
             ac = MakeActor("ac_marble_black");
-            ac->setAttr("player", 0);
+            ac->setAttr("owner", YIN);
             break;
         case MarbleType_White:
             ac = MakeActor("ac_marble_white");
-            ac->setAttr("player", 1);
+            ac->setAttr("owner", YANG);
             break;
         case MarbleType_Meditation:
             if (have_black_marble && !level.getHarmlessMeditationMarbles()) {
                 // # example: Oxyd Extra #28
                 ac = MakeActor ("ac_killer");
-//                ac->setAttr ("player", Value(0.0));
                 ac->setAttr("adhesion", 1.0);
                 ac->setAttr("controllers", 3);
             }
@@ -521,9 +520,9 @@
                 nmeditationmarbles += 1;
 
                 if (config.twoplayers && (nmeditationmarbles % 2) == 0)
-                    ac->setAttr("player", 1);
+                    ac->setAttr("owner", YANG);
                 else
-                    ac->setAttr("player", 0);
+                    ac->setAttr("owner", YIN);
             }
 
             if (minfo.is_default(MI_FORCE)) {

Modified: trunk/src/player.cc
===================================================================
--- trunk/src/player.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/player.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -249,7 +249,7 @@
 
 Inventory * player::GetInventory (Actor *a) 
 {
-    if (Value v = a->getAttr("player"))
+    if (Value v = a->getAttr("owner"))
         return GetInventory((int)v);
     return 0;
 }
@@ -552,7 +552,7 @@
 Inventory *player::MayPickup(Actor *a, Item *it, bool allowFlying) 
 {
     int iplayer=-1;
-    if (Value v = a->getAttr("player")) iplayer = v;
+    if (Value v = a->getAttr("owner")) iplayer = v;
     if (iplayer < 0 || (unsigned)iplayer >= players.size()) {
         //        cerr << "PickupItem: illegal 'player' entry\n";
         return 0;

Modified: trunk/src/stones/BoulderStone.cc
===================================================================
--- trunk/src/stones/BoulderStone.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/stones/BoulderStone.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -51,6 +51,9 @@
                     m.message == "turnback" && getAttr("counterclock").to_bool())
                     ? rotate_cw(getDir()) : rotate_ccw(getDir()));
             return Value();
+        } else if (m.message == "flip" && state != FALLING && isDisplayable()) {
+            setDir(reverse(getDir()));
+            return Value();
         }
         return Stone::message(m);
     }

Modified: trunk/src/stones/CompatibilityStones.cc
===================================================================
--- trunk/src/stones/CompatibilityStones.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/stones/CompatibilityStones.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -34,7 +34,7 @@
     }
 
     void Peroxyd_0xb8::on_creation (GridPos p) {
-        SetFloor(p, MakeFloor("fl-normal"));
+        SetFloor(p, MakeFloor("fl_metal_7n"));
         KillStone(p);
     }
 
@@ -45,7 +45,7 @@
     }
 
     void Peroxyd_0xb9::on_creation (GridPos p) {
-        SetFloor(p, MakeFloor("fl-normal"));
+        SetFloor(p, MakeFloor("fl_metal_7n"));
         KillStone(p);
     }
 

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/stones_simple.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -272,7 +272,7 @@
         virtual Value message(const Message &m) {
             if (m.message == "_init") {
                 if (server::GetDifficulty() == DIFFICULTY_EASY) {
-                    SetFloor (get_pos(), MakeFloor ("fl-normal"));
+                    SetFloor (get_pos(), MakeFloor ("fl_metal_7n"));
                 } else {
                     KillItem (get_pos());
                 }
@@ -903,7 +903,7 @@
         set_anim("st-thief-emerge");
         state = EMERGING;
         m_affected_actor = sc.actor;
-        affected_player = m_affected_actor->getDefaultedAttr("player", -1);
+        affected_player = m_affected_actor->getDefaultedAttr("owner", -1);
     }
 }
 
@@ -1112,7 +1112,7 @@
         CLONEOBJ(MagicStone);
         DECL_TRAITS;
         void actor_hit(const StoneContact &sc) {
-            if (sc.actor->getAttr("player") && 
+            if (sc.actor->getAttr("owner") && 
                 sc.actor->get_vel() * sc.normal < -4)
             {
                 KillStone(get_pos());

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-12 23:36:56 UTC (rev 1449)
+++ trunk/src/world.cc	2009-01-12 23:49:19 UTC (rev 1450)
@@ -1667,7 +1667,7 @@
         a->on_creation(a->get_actorinfo()->pos);
         SendMessage(a, "_init", Value());
 
-        if (Value v = a->getAttr("player")) {
+        if (Value v = a->getAttr("owner")) {
             int iplayer = v;
             player::AddActor(iplayer, a);
             if (iplayer == 0) seen_player0 = true;
@@ -1684,6 +1684,10 @@
     BroadcastMessage("_init", Value(),
         GridLayerBits(GRID_ITEMS_BIT | GRID_STONES_BIT | GRID_FLOOR_BIT));
 
+    for (OtherList::iterator oit = level->others.begin(); oit != level->others.end(); ++oit) {
+        SendMessage(*oit, "_init", Value());
+    }
+        
     server::InitMoveCounter();
     STATUSBAR->show_move_counter (server::ShowMoves);
 



From raoul at mail.berlios.de  Tue Jan 13 02:18:12 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Tue, 13 Jan 2009 02:18:12 +0100
Subject: [Enigma-game-svn] r1451 - in trunk/data/levels: enigma_cross
	enigma_iv enigma_tutorial enigma_vi enigma_vii enigma_viii
Message-ID: <200901130118.n0D1ICls024414@sheep.berlios.de>

Author: raoul
Date: 2009-01-13 02:18:07 +0100 (Tue, 13 Jan 2009)
New Revision: 1451

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_tutorial/a_tut07.xml
   trunk/data/levels/enigma_vi/andreas35_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ral10_2.xml
   trunk/data/levels/enigma_vi/raoul19_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley05_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas47_1.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull04_1.xml
   trunk/data/levels/enigma_viii/devnull06_1.xml
   trunk/data/levels/enigma_viii/devnull07_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/devnull09_1.xml
   trunk/data/levels/enigma_viii/devnull12_1.xml
   trunk/data/levels/enigma_viii/devnull15_1.xml
   trunk/data/levels/enigma_viii/devnull16_1.xml
   trunk/data/levels/enigma_viii/duffy180_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
Log:
-> New API owner attribut level updates


Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -158,7 +158,7 @@
     <level _seq="150" _title="Evil" _xpath="enigma_vi/spaceman04_1" author="Spaceman" ctrl="force" easy="false" id="spaceman4" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Meditation Disturbance" _xpath="enigma_vi/ral04_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="152" _title="Banana Republic" _xpath="enigma_v/alain26_2" author="Alain Busser" ctrl="force" easy="true" id="alain26" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="154" _title="Rhapsody on Cracks" _xpath="enigma_vi/ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="155" _title="Prepare Your Defense" _xpath="enigma_vi/duffy132_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy132" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Cold Way" _xpath="enigma_vi/raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -195,14 +195,14 @@
     <level _seq="187" _title="- Meditation -" _xpath="enigma_vi/andreas36_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas36" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="188" _title="Troy" _xpath="enigma_vi/andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="189" _title="Ben Hur" _xpath="enigma_vi/ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
-    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="102" score="1" target="time" unit="duration"/>
+    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="103" score="1" target="time" unit="duration"/>
     <level _seq="191" _title="Janus" _xpath="enigma_vi/andreas38_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="192" _title="Phaeton" _xpath="enigma_vi/andreas39_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="194" _title="Oiltrace" _xpath="enigma_vi/raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="195" _title="The Cube" _xpath="enigma_vi/malaire01_1" author="Markus Laire" ctrl="force" easy="true" id="20061120malaire901" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="198" _title="be quick or be dead" _xpath="enigma_vi/illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="199" _title="Tarzan" _xpath="enigma_vi/ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="200" _title="Simple Space" _xpath="enigma_vi/ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -33,7 +33,7 @@
     <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="30" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -59,8 +59,8 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
@@ -84,7 +84,7 @@
     <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
     <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
@@ -116,25 +116,25 @@
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="140" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="141" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="10" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="11" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -66,8 +66,8 @@
 ti["a"] = {"st-greenbrown_hole"} .. ti["A"]
 ti["b"] = ti["%"] .. ti["A"]
 ti["I"] = {"st-invisible"}
-ti["M"] = {"#ac_rotor", player=1, adhesion=0, range=4, strength=-5} .. ti["l"]
-ti["N"] = {"#ac_top", player=1, adhesion=0, range=8, strength=20} .. ti["i"]
+ti["M"] = {"#ac_rotor", owner=1, adhesion=0, range=4, strength=-5} .. ti["l"]
+ti["N"] = {"#ac_top", owner=1, adhesion=0, range=8, strength=20} .. ti["i"]
 ti["R"] = {"st_oneway", orientation=EAST} .. ti["l"]
 ti["J"] = {"st-break_acwhite"}
 ti["D"] = {"it-dynamite"}

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_tutorial/a_tut07.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -31,7 +31,7 @@
 ti["c"] = (ti["."] .. {"st_chess_black"}) .. {"it_cross"}
 ti["D"] = ti[" "] .. {"st_door", name="door#", flavor="a"}
 ti["T"] = ti["."] .. {"it_trigger", name="trigger#"}
-ti["B"] = ti["."] .. {"#ac_marble_black", controllers=0, player=1, name="second_marble"}
+ti["B"] = ti["."] .. {"#ac_marble_black", controllers=0, owner=1, name="second_marble"}
 ti["S"] = ti["."] .. {"st_switch", target="let_marble_run"}
 ti["d"] = ti["."] .. {"st_door", name="first_door", flavor="a"}
 ti["t"] = ti["."] .. {"it_trigger", target="first_door"}

Modified: trunk/data/levels/enigma_vi/andreas35_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Checkmate II" el:subtitle="" el:id="andreas35"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -41,8 +41,8 @@
 
 wo:shuffleOxyd()
 
-wo[{4,6}] = {"ac_marble_black", player = 0}
-wo[{w-4, 6}] = {"ac_marble_white", player = 1}
+wo[{4,6}] = {"ac_marble_black", owner=0}
+wo[{w-4, 6}] = {"ac_marble_white", owner=1}
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma VI"/>
 
   <attributes/>
 
@@ -36,7 +36,7 @@
     <level _seq="28" _title="Holes!" _xpath="./edward14_1" author="Edward" ctrl="force" easy="false" id="edward14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Chessing Positions" _xpath="./raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="- Meditation -" _xpath="./raoul24_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul24" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Sisyphus" _xpath="./nat13_1" author="Nat Pryce" ctrl="force" easy="false" id="nat13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Ben Hur" _xpath="./ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Troy" _xpath="./andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -57,8 +57,8 @@
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="102" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="103" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ral10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Bodyguard" el:subtitle="In the line of thieves" el:id="20060730ral012"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 102 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 103 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -30,8 +30,8 @@
 ti["m"] = ti["W"] .. {"it_key", code="%3"}
 ti["n"] = ti["W"] .. {"it_key", code="%4"}
 
-ti["1"] = ti["."] .. {"#ac_marble_black", player=0}
-ti["0"] = ti["."] .. {"#ac_marble_white", player=1, controllers=2}
+ti["1"] = ti["."] .. {"#ac_marble_black", owner=0}
+ti["0"] = ti["."] .. {"#ac_marble_white", owner=1, controllers=2}
 ti["H"] = ti["."] .. {"#ac_horse", strength=1, destination={"op%1", "op%2","op%3", "op%4"}}
 ti["h"] = ti["."] .. {"#ac_horse", strength=1, destination={"ip%1", "ip%2","ip%3", "ip%4"}}
 
@@ -53,8 +53,8 @@
 
 ti["x"] = {"st_oxyd"}
 
-local resolver = res.autotile(ti, {"2", "5", "template_outer"}, 
-        {"6", "9", "template_inner"}, {"P","S", "template_P"}, 
+local resolver = res.autotile(ti, {"2", "5", "template_outer"},
+        {"6", "9", "template_inner"}, {"P","S", "template_P"},
         {"K","N", "template_K"})
 
 w, h = wo(resolver, " ", {

Modified: trunk/data/levels/enigma_vi/raoul19_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Zeus" el:subtitle="The master of flashes" el:id="raoul19"/>
-      <el:version el:score="1" el:release="1" el:revision="2" el:status="stable"/>
+      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,14 +17,14 @@
 
 ti[" "] = {"fl_rough"}
 ti["~"] = {"fl_water"}
-ti["A"] = {"st_bluesand", cluster = 1}
-ti["B"] = {"st_bluesand", cluster = 2}
+ti["A"] = {"st_bluesand", cluster=1}
+ti["B"] = {"st_bluesand", cluster=2}
 ti["X"] = {"st-grate1"}
 ti["!"] = {"st_flash"}
 ti["W"] = {"st_passage_white_frame"}
 ti["O"] = {"st_oxyd", flavor="d"}
-ti["1"] = {"#ac_marble_black", player = 0}
-ti["2"] = {"#ac_marble_white", essential = 1}
+ti["1"] = {"#ac_marble_black", owner=0}
+ti["2"] = {"#ac_marble_white", essential=1}
 
 if wo["IsDifficult"] then
     map = {

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VII"/>
 
   <attributes/>
 
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="54" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -83,8 +83,8 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="10" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -80,8 +80,8 @@
 ti["<"] = {"fl-gradient15"} -- Left
 ti[">"] = {"fl-gradient16"} -- Right
 ti["^"] = {"fl-gradient13"} -- Up
-ti["("] = (ti[" "] .. {"#ac_marble_white", player=0, controllers=1, essential=-1, name="Ranger"})
-ti[")"] = (ti[" "] .. {"#ac_marble_black", player=1, controllers=2, essential=-1, name="Tonto"}) .. ti({"it_yinyang"})
+ti["("] = (ti[" "] .. {"#ac_marble_white", owner=0, controllers=1, essential=-1, name="Ranger"})
+ti[")"] = (ti[" "] .. {"#ac_marble_black", owner=1, controllers=2, essential=-1, name="Tonto"}) .. ti({"it_yinyang"})
 ti["="] = ti["t"] .. {"it-flagwhite"}
 ti["-"] = ti["l"] .. {"it-flagblack"}
 

Modified: trunk/data/levels/enigma_vii/pulley05_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Re-entry Circuit" el:subtitle="" el:id="pulley05"/>
-      <el:version el:score="1" el:release="2" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti["w"] = ti[" "] .. {"st_box_wood"}
 ti["x"] = ti[" "] .. {"st-grate1"}
 ti["0"] = ti[" "] .. {"st_oxyd"}
-ti["B"] = ti[" "] .. {"#ac_marble_black", player=0}
+ti["B"] = ti[" "] .. {"#ac_marble_black"}
 
 w, h = wo(ti, " ",{
  "bbbbbbbbbbbbbbbbbbbb",

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="12" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -72,7 +72,7 @@
 ti["F"] = {"fl_plank"} .. ti({"it_seed"})
 ti["G"] = {"fl_plank"} .. ti({"st-glass1_hole"})
 ti["H"] = {"fl_brick"} .. ti({"it_meditation_hollow"})
-ti["I"] = ti["y"] .. {"#ac_pearl_white", player=0, name="Seymour"}
+ti["I"] = ti["y"] .. {"#ac_pearl_white", owner=0, name="Seymour"}
 ti["J"] = ti["b"] .. {"#ac_pearl_white", name="Orin", controllers=0,essential=-1}
 ti["K"] = ti["z"] .. {"#ac_pearl_white", name="Mushnik", controllers=0,essential=-1}
 ti["L"] = ti["f"] .. {"#ac_pearl_white", name="Audrey", controllers=0,essential=-1}

Modified: trunk/data/levels/enigma_viii/andreas47_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Show Jumper" el:subtitle="" el:id="andreas47"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti["*"] = ti["&"]
 ti["%"] = ti["+"]
 ti["."] = ti["_"] --.. {"st-grate1"}
-ti["@"] = ti["+"] .. {"#ac_pearl_white", player = 0}
+ti["@"] = ti["+"] .. {"#ac_pearl_white"}
 ti["1"] = ti[" "] .. {"st_window_sw", secure = true}
 ti["2"] = ti[" "] .. {"st_window_s", secure = true}
 ti["3"] = ti[" "] .. {"st_window_es", secure = true}

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="22" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="23" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -89,8 +89,8 @@
 ti["2"] = ti["J"] .. {"it_trigger", name = "trigger02", action = "callback", target = "bridge02"}
 ti["3"] = {"it_trigger", name = "trigger03", action = "callback", target = "bridge03"}
 ti["!"] = ti["."] .. {"it_sensor", name = "sensor01", action = "open", target = "bridge02#*", invisible = true}
-ti["@"] = ti["."] .. {"#ac_marble_black", player = 0}
-ti["*"] = ti["."] .. {"#ac_marble_white", player = 1}
+ti["@"] = ti["."] .. {"#ac_marble_black", owner = 0}
+ti["*"] = ti["."] .. {"#ac_marble_white", owner = 1}
 
 if wo["IsDifficult"] ~= TRUE then
     ti["~"] = {"fl_bluegray"}

Modified: trunk/data/levels/enigma_viii/devnull04_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="devnull04"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -46,10 +46,10 @@
 ti["v"] = {"fl-gradient2", force_y = -f}
 ti["<"] = {"fl-gradient3", force_x =  f}
 ti[">"] = {"fl-gradient4", force_x = -f}
-ti["9"] = ti["D"] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["8"] = ti["U"] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["7"] = ti["L"] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["6"] = ti["R"] .. {"#ac_pearl_white", player = 0, essential = 1}
+ti["9"] = ti["D"] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["8"] = ti["U"] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["7"] = ti["L"] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["6"] = ti["R"] .. {"#ac_pearl_white", owner = 0, essential = 1}
 
 if wo["IsDifficult"] then
     ti[":"] = {"fl_abyss"}

Modified: trunk/data/levels/enigma_viii/devnull06_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull06"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,10 +26,10 @@
 ti["#"] = {"st-rock6"}
 ti["hollow"] =  {"it_meditation_hollow"}
 ti["o"] = ti["hollow"] .. {"fl_redslab", friction = 2.0}
-ti["1"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["2"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["3"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["4"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
+ti["1"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["2"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["3"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["4"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
 
 width, height = wo(ti, " ",
 -- 0         1         2

Modified: trunk/data/levels/enigma_viii/devnull07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull07"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,8 +26,8 @@
 ti["#"] = {"st-rock6"}
 ti[","] = {"fl_redslab", friction = 1.0}
 ti["o"] = ti[","] .. {"it_meditation_hollow"}
-ti["1"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
-ti["2"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential = 1}
+ti["1"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
+ti["2"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}
 
 width, height = wo(ti, " ",
 -- 0         1         2

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="17" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="18" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -46,10 +46,10 @@
     ti["W "] = ti["p "]
 end
 
-ti["1 "] = {"#ac_pearl_white", player = 0, essential=1}
-ti["2 "] = {"#ac_pearl_white", player = 0, essential=1}
-ti["3 "] = {"#ac_pearl_white", player = 0, essential=1} .. ti["p "]
-ti["4 "] = {"#ac_pearl_white", player = 0, essential=1} .. ti["p "]
+ti["1 "] = {"#ac_pearl_white", owner = 0, essential=1}
+ti["2 "] = {"#ac_pearl_white", owner = 0, essential=1}
+ti["3 "] = {"#ac_pearl_white", owner = 0, essential=1} .. ti["p "]
+ti["4 "] = {"#ac_pearl_white", owner = 0, essential=1} .. ti["p "]
 
 local resolver = res.composer(ti)
 

Modified: trunk/data/levels/enigma_viii/devnull09_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull09_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull09_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Under control?" el:subtitle="" el:id="devnull09"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,7 +22,7 @@
 
 function np(val, sender)
     if val == false then
-        wo[{ 8, 5}] = {"it_sensor", invisible = true}
+        wo[{8,5}] = {"it_sensor", invisible = true}
     end
 end
 
@@ -48,10 +48,10 @@
 ti[";"] = ti["w"] .. {"st_window_nsw", secure = true}
 ti[","] = ti["."] .. {"st_window_nes", secure = true}
 ti[":"] = ti[","] .. {"it_sensor", invisible = true, action = "callback", target = "np"}
-ti["9"] = ti[";"] .. {"#ac_pearl_white", player = 0, essential=1}
-ti["8"] = ti["I"] .. {"#ac_pearl_white", player = 0, essential=1}
-ti["7"] = ti["C"] .. {"#ac_pearl_white", player = 0, essential=1}
-ti["6"] = ti[":"] .. {"#ac_pearl_white", player = 0, essential=1}
+ti["9"] = ti[";"] .. {"#ac_pearl_white", owner = 0, essential=1}
+ti["8"] = ti["I"] .. {"#ac_pearl_white", owner = 0, essential=1}
+ti["7"] = ti["C"] .. {"#ac_pearl_white", owner = 0, essential=1}
+ti["6"] = ti[":"] .. {"#ac_pearl_white", owner = 0, essential=1}
 
 width, height = wo(ti, " ",
 -- 0         1         2

Modified: trunk/data/levels/enigma_viii/devnull12_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull12_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull12_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:id="devnull12"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -60,9 +60,9 @@
   ti["8"] = ti["h"] .. {"st_window_s",    secure = true}
   ti["7"] = ti["h"] .. {"st_window_n",    secure = true}
 end
-ti["@"] = ti[" "] .. {"#ac_pearl_white", player = 0, essential=1}
-ti["9"] = ti["w"] .. {"#ac_pearl_white", player = 0, essential=1}
-ti["6"] = ti[":"] .. {"#ac_pearl_white", player = 0, essential=1}
+ti["@"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential=1}
+ti["9"] = ti["w"] .. {"#ac_pearl_white", owner = 0, essential=1}
+ti["6"] = ti[":"] .. {"#ac_pearl_white", owner = 0, essential=1}
 
 width, height = wo(ti, " ",
 -- 0         1         2

Modified: trunk/data/levels/enigma_viii/devnull15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="On belay?" el:subtitle="" el:id="devnull15"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
     ti["L"] = {"st_switch_black", name = "switchH", action = "toggle", target = "@laserW#*"}
     ti["o"] = {"st_oxyd", oxydcolor = OXYD_PURPLE}
     ti["O"] = ti[" "]
-    ti["@"] = ti["."] .. {"#ac_marble_black", player = 0}
+    ti["@"] = ti["."] .. {"#ac_marble_black", owner = 0}
 else
     ti["."] = {"fl_dark"}
     ti["a"] = ti["."] .. {"it-pin"}
@@ -32,7 +32,7 @@
     ti["L"] = {"st_switch_white", name = "switchH", action = "toggle", target = "@laserW#*"}
     ti["o"] = ti[" "]
     ti["O"] = {"st_oxyd", oxydcolor = OXYD_PURPLE}
-    ti["@"] = ti["."] .. {"#ac_marble_white", player = 0, controllers = 1}
+    ti["@"] = ti["."] .. {"#ac_marble_white", owner = 0, controllers = 1}
 end
 
 ti["x"] = ti[" "] .. {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/devnull16_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hang-dogging?" el:subtitle="" el:id="devnull16"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -32,7 +32,7 @@
     ti["r"] = ti["t"] .. {"st_rotator", counterclock = true}
     ti["R"] = ti["t"] .. {"st_rotator", counterclock = false}
     ti["g"] = ti[" "] .. {"st-grate1"}
-    ti["@"] = ti[":"] .. {"#ac_marble_black", player = 0}
+    ti["@"] = ti[":"] .. {"#ac_marble_black", owner = 0}
 else
     ti[":"] = {"fl_dark"}
     ti["X"] = ti["."]
@@ -42,7 +42,7 @@
     ti["r"] = ti["t"]
     ti["R"] = ti["t"]
     ti["g"] = ti[":"] .. {"st-grate1"}
-    ti["@"] = ti[":"] .. {"#ac_marble_white", player = 0, controllers = 1}
+    ti["@"] = ti[":"] .. {"#ac_marble_white", owner = 0, controllers = 1}
 end
 ti["G"] = ti[":"] .. {"st-grate1"}
 ti["x"] = ti[" "] .. {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/duffy180_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="See Saw Meditation" el:subtitle="" el:id="duffy180"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti["P"] = {"st_pull"}
 ti["S"] = {"st_switch", target="med#*", action="flip"}
 ti["*"] = {"st-brownie"}
-ti["w"] = {"#ac_pearl_white", player=0, essential=1 }
+ti["w"] = {"#ac_pearl_white", owner=0, essential=1 }
 
 if wo["IsDifficult"] then
     ti["="] = {"st_swap"}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma VIII"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
@@ -41,23 +41,23 @@
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="140" score="2" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="141" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:10$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:11$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -76,7 +76,7 @@
 ti["7 "] = {"st_boulder_s"}
 ti["pp"] = ti[" -"] .. {"it_squashed"}
 ti["pn"] = ti["pp"] .. {"st_oneway_e"}
-ti["X "] = {"#ac_pearl_white", essential=1, player=0, controllers=1, name="df1"}
+ti["X "] = {"#ac_pearl_white", essential=1, controllers=1, name="df1"}
 ti["r "] = ti[" $"] .. {"#ac_rotor", range=1, strength=1}
 ti["t "] = ti[" $"] .. {"#ac_top", range=1, strength=1}
 ti["8 "] = {"st_puzzle_blue_e"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 140 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 141 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -320,12 +320,12 @@
 ti["_C"] = ti["__"] .. {"st-chameleon"}
 ti["_T"] = ti["__"] .. {"st-invisible"} .. ti({"#ac_horse"})
 
-ti[" 1"] = ti[",,"] .. {"#ac_marble_black", "black", essential=1, player=0, controllers=1} .. ti({"it_extralife"})
-ti[" 2"] = ti["ge"] .. {"#ac_marble_white", "white", essential=0, player=1, controllers=2}
-ti["c1"] = ti["  "] .. {"#ac_pearl", essential=1, player=DEFAULT, controllers=0, name="kid1"}
-ti["c2"] = ti["  "] .. {"#ac_pearl", essential=1, player=DEFAULT, controllers=0, name="kid2"}
-ti["c3"] = ti["  "] .. {"#ac_pearl", essential=1, player=DEFAULT, controllers=0, name="kid3"}
-ti["c4"] = ti["  "] .. {"#ac_pearl", essential=1, player=DEFAULT, controllers=0, name="kid4"}
+ti[" 1"] = ti[",,"] .. {"#ac_marble_black", "black", essential=1, owner=0, controllers=1} .. ti({"it_extralife"})
+ti[" 2"] = ti["ge"] .. {"#ac_marble_white", "white", essential=0, owner=1, controllers=2}
+ti["c1"] = ti["  "] .. {"#ac_pearl", essential=1, owner=DEFAULT, controllers=0, name="kid1"}
+ti["c2"] = ti["  "] .. {"#ac_pearl", essential=1, owner=DEFAULT, controllers=0, name="kid2"}
+ti["c3"] = ti["  "] .. {"#ac_pearl", essential=1, owner=DEFAULT, controllers=0, name="kid3"}
+ti["c4"] = ti["  "] .. {"#ac_pearl", essential=1, owner=DEFAULT, controllers=0, name="kid4"}
 ti[" 8"] = ti["  "] .. {"#ac_bug"}
 ti[" 3"] = ti["  "] .. {"#ac_killer", "killer"}
 ti[" 4"] = ti["  "] .. {"#ac_top", range=1.8, strength=30}



From raoul at mail.berlios.de  Tue Jan 13 02:26:57 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Tue, 13 Jan 2009 02:26:57 +0100
Subject: [Enigma-game-svn] r1452 - in trunk/data/levels: enigma_cross
	enigma_ii enigma_iii enigma_iv enigma_v enigma_vi enigma_viii
Message-ID: <200901130126.n0D1Qv0b025911@sheep.berlios.de>

Author: raoul
Date: 2009-01-13 02:26:53 +0100 (Tue, 13 Jan 2009)
New Revision: 1452

Added:
   trunk/data/levels/enigma_ii/ant14_2.xml
   trunk/data/levels/enigma_iii/duffy64_2.xml
   trunk/data/levels/enigma_iii/duffy65_2.xml
   trunk/data/levels/enigma_iv/ant22_2.xml
   trunk/data/levels/enigma_iv/duffy36_2.xml
   trunk/data/levels/enigma_iv/ralf09_2.xml
   trunk/data/levels/enigma_v/raoul16_2.xml
   trunk/data/levels/enigma_v/raoul17_2.xml
   trunk/data/levels/enigma_vi/raoul14_2.xml
Removed:
   trunk/data/levels/enigma_ii/ant14_1.xml
   trunk/data/levels/enigma_iii/duffy64_1.xml
   trunk/data/levels/enigma_iii/duffy65_1.xml
   trunk/data/levels/enigma_iv/ant22_1.xml
   trunk/data/levels/enigma_iv/duffy36_1.xml
   trunk/data/levels/enigma_iv/ralf09_1.xml
   trunk/data/levels/enigma_v/raoul16_1.xml
   trunk/data/levels/enigma_v/raoul17_1.xml
   trunk/data/levels/enigma_vi/raoul14_1.xml
Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/raoul05_2.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_viii/raoul31_1.xml
Log:
-> Some levels rewritten with the new API


Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -135,7 +135,7 @@
     <level _seq="127" _title="The Document" _xpath="enigma_i/duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="129" _title="- Meditation -" _xpath="enigma_peroxyd/peroxydlink60_2" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation17" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_1" author="Petr Machata" ctrl="force" easy="false" id="ant22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="131" _title="Just a Maze?" _xpath="enigma_vi/duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="The Race" _xpath="enigma_iv/duffy11_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy11" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Double-Spiral" _xpath="enigma_iv/duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -83,7 +83,7 @@
     <level _seq="75" _title="Switch-Switch" _xpath="enigma_iv/raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="76" _title="Turbulence" _xpath="enigma_i/duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Shrinking Pits" _xpath="enigma_v/duffy23_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy23" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Be Faster!" _xpath="enigma_iv/martin98_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin98" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Teamwork" _xpath="enigma_iii/duffy25_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Lock Them In" _xpath="enigma_iii/duffy26_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy26" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -116,7 +116,7 @@
     <level _seq="108" _title="Hail Storm" _xpath="enigma_v/nat21_1" author="Nat Pryce" ctrl="force" easy="true" id="nat21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Hexagony" _xpath="enigma_iii/nat22_1" author="Nat Pryce" ctrl="force" easy="true" id="nat22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="Jumpin' Jack Flash" _xpath="enigma_v/ss10_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss10" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="111" _title="It Never Stops" _xpath="enigma_iv/duffy36_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy36" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="111" _title="It Never Stops" _xpath="enigma_iv/duffy36_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy36" rel="2" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="112" _title="Fool the Warden" _xpath="enigma_iii/duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Drunk" _xpath="enigma_ii/duffy38_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Turnstile City" _xpath="enigma_v/duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -144,8 +144,8 @@
     <level _seq="136" _title="Mount Etna" _xpath="enigma_v/duffy61_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy61" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="137" _title="Rush Hour Traffic" _xpath="enigma_iii/duffy62_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy62" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="138" _title="Wildfire" _xpath="enigma_iv/duffy63_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy63" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="139" _title="Slinky Mayhem" _xpath="enigma_iii/duffy64_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy64" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="140" _title="Overwhelming" _xpath="enigma_iii/duffy65_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="139" _title="Slinky Mayhem" _xpath="enigma_iii/duffy64_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy64" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="140" _title="Overwhelming" _xpath="enigma_iii/duffy65_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="141" _title="Tilt Control" _xpath="enigma_iii/duffy66_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy66" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="142" _title="Anticipation" _xpath="enigma_v/duffy67_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy67" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="143" _title="What a Mess" _xpath="enigma_iv/duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -121,9 +121,9 @@
     <level _seq="113" _title="Designed with love" _xpath="enigma_v/just01_1" author="JuSt" ctrl="force" easy="false" id="just01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="A bayou by you" _xpath="enigma_v/alain21_1" author="Alain Busser" ctrl="force" easy="false" id="alain21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="115" _title="Blet" _xpath="enigma_v/alain24_1" author="Alain Busser" ctrl="force" easy="true" id="alain24" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="116" _title="Venice I" _xpath="enigma_v/raoul16_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul16" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="116" _title="Venice I" _xpath="enigma_v/raoul16_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul16" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="117" _title="No way out?" _xpath="enigma_v/just08_1" author="JuSt" ctrl="force" easy="false" id="just08" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="118" _title="Venice II" _xpath="enigma_v/raoul17_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul17" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="118" _title="Venice II" _xpath="enigma_v/raoul17_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul17" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="119" _title="Walking around" _xpath="enigma_v/just05_2" author="JuSt" ctrl="force" easy="false" id="just05" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="120" _title="Trigger Happy" _xpath="enigma_v/xerxes03_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="121" _title="Gods of Enigma" _xpath="enigma_v/mp01_1" author="moonpearl" ctrl="force" easy="false" id="mp01" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -163,7 +163,7 @@
     <level _seq="155" _title="Prepare Your Defense" _xpath="enigma_vi/duffy132_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy132" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Cold Way" _xpath="enigma_vi/raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="157" _title="Laserpowered" _xpath="enigma_vi/raoul20_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul20" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="158" _title="Oxydmoron" _xpath="enigma_vi/raoul14_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="158" _title="Oxydmoron" _xpath="enigma_vi/raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="159" _title="Bomb raider" _xpath="enigma_vi/alain27_1" author="Alain Busser" ctrl="force" easy="true" id="alain27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="160" _title="Dancing on Light Beams" _xpath="enigma_vi/andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_ii/ant14_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/ant14_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_ii/ant14_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,85 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Dancers" el:subtitle="" el:id="ant14"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- 2003-02-10 -- keeping up to date with latest additions to ant.lua
-
-count_revert = nil
-revert_dir = nil
-
-function revert_bolders()
-   --open/close all doors in map
-   send_group_message(doors, "openclose", nil)
-
-   --on every odd triggger invert bolder dir
-   if (not(count_revert)) then
-      if (revert_dir)
-      then send_group_message(bolders, "direction",EAST)
-      else send_group_message(bolders, "direction",WEST)
-      end
-      revert_dir = not(revert_dir)
-   end
-
-   count_revert = not(count_revert)
-end
-
-cells={}
-
-cells[" "]=cell{floor="fl-marble"}
-cells["."]=cell{floor="fl-water"}
-cells["#"]=cell{parent=cells["."],stone="st-marble"}
-cells["V"]=cell{{{laser, TRUE, SOUTH}}}
-cells["^"]=cell{{{laser, TRUE, NORTH}}}
-cells["+"]=cell{item={"it-trigger", {action="callback", target="revert_bolders"}}}
-
-bolders = {}
-doors   = {}
-cells[">"]=cell{{{add_multistone, "st-bolder-e", bolders}}}
-cells["="]=cell{{{add_multistone, "st-door_a", doors}, cells["."]}}
-
-cells["0"]=oxyd
-cells["O"]=cell{actor={"ac-blackball", {player=0}}}
-
-level = {
-   "#########V##########",
-   "#.......#=#........#",
-   "#..0............0..#",
-   "#+.>     >       ..#",
-   "#......... ........#",
-   "#..0...... .....0..#",
-   "#..>   O >       ..#",
-   "#..0..... ......0..#",
-   "#........ .........#",
-   "#..>     >       .+#",
-   "#..0............0..#",
-   "#........#=#.......#",
-   "##########^#########"
-}
-
-oxyd_default_flavor="c"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_ii/ant14_2.xml (from rev 1450, trunk/data/levels/enigma_ii/ant14_1.xml)
===================================================================
--- trunk/data/levels/enigma_ii/ant14_1.xml	2009-01-12 23:49:19 UTC (rev 1450)
+++ trunk/data/levels/enigma_ii/ant14_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,52 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Dancers" el:subtitle="" el:id="ant14"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti["."] = {"fl_water"}
+ti["-"] = {"fl_marble"}
+ti["#"] = {"st-marble"}
+ti[">"] = ti["-"] .. {"st_boulder", name="boulders#", orientation=EAST}
+ti["V"] = {"st_laser", orientation=SOUTH, state=ON}
+ti["^"] = {"st_laser", orientation=NORTH, state=ON}
+ti["="] = {"st_door", name="doors#", flavor="a"}
+ti["+"] = {"it_trigger", target={"boulders#*", "doors#*"}, action_1={"flip"}}
+ti["O"] = {"st_oxyd", flavor="c"}
+ti["@"] = ti["-"] .. {"#ac_marble_black"}
+
+wo(ti, ".", {
+   "#########V##########",
+   "#.......#=#........#",
+   "#..O............O..#",
+   "#+.>----->-------..#",
+   "#.........-........#",
+   "#..O......-.....O..#",
+   "#..>--- at ->-------..#",
+   "#..O.....-......O..#",
+   "#........-.........#",
+   "#..>----->-------.+#",
+   "#..O............O..#",
+   "#........#=#.......#",
+   "##########^#########"})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_ii/ant14_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma II"/>
 
   <attributes/>
 
@@ -14,7 +14,7 @@
     <level _seq="6" _title="Sentinels" _xpath="./siegfried23_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Push Them In" _xpath="./nat05_1" author="Andreas Persenius, Nat Pryce" ctrl="force" easy="false" id="nat5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Rollercoaster" _xpath="./jc02_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="Dancers" _xpath="./ant14_1" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="Dancers" _xpath="./ant14_2" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="./wb10_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Enignimm" _xpath="./alain02_1" author="Alain Busser" ctrl="force" easy="false" id="alain02" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iii/duffy64_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy64_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iii/duffy64_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,127 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Slinky Mayhem" el:subtitle="" el:id="duffy64"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=1
-rooms_high=1
-
-levelw=1+(19*rooms_wide) +1
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-
-fill_floor("fl-leaves", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-glass", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c=="z" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-            set_actor("ac-blackball", i-.5,line+.5)
-        elseif c=="+" then
-            set_stone( "st-wood", i-1, line)
-        elseif c=="W" then
-            set_attrib(laser(i-1,line, FALSE, WEST), "name", "laser")
-        elseif c=="x" then
-            fill_floor("fl-leaves", i-1,line, 1,1)
-        elseif c=="s" then
-            set_stone("st-stoneimpulse",i-1,line)
-        elseif c=="A" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s1"})
-        elseif c=="B" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s2"})
-        elseif c=="C" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s3"})
-        elseif c=="D" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s4"})
-        elseif c=="S" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-        elseif c == "b" then
-            yy1( "black",  i-1, line)
-        elseif c == "w" then
-            yy1( "white",  i-1, line)
-        elseif c=="g" then
-            set_stone("st-grate1",i-1,line)
-        elseif c=="1" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="1.5"})
-        elseif c=="2" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-            set_item("it-wormhole", i-1, line, {strength=0,targetx="15.5",targety="6.5"})
-        elseif c=="3" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="11.5"})
-        elseif c=="4" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-            set_item("it-wormhole", i-1, line, {strength=0,targetx="5.5",targety="6.5"})
-        end
-    end
-end
-
-function yy1( color, x, y)
-    stone = format( "st-%s4", color)
-    set_stone( stone, x, y)
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-renderLine(00,"!!!!###o##o##o###!!!")
-renderLine(01,"!!!!#ASSSSSSSSSB#!!!")
-renderLine(02,"!!!!#SSSSSSSSSSS#!!!")
-renderLine(03,"!!!!oSSSSSSSSSSSo!!!")
-renderLine(04,"!!!!#SSSSSSSSSSS#!!!")
-renderLine(05,"!!!!#SSSSS1SSSSS#!!!")
-renderLine(06,"!!!!oSSSS4z2SSSSo!!!")
-renderLine(07,"!!!!#SSSSS3SSSSS#!!!")
-renderLine(08,"!!!!#SSSSSSSSSSS#!!!")
-renderLine(09,"!!!!oSSSSSSSSSSSo!!!")
-renderLine(10,"!!!!#SSSSSSSSSSS#!!!")
-renderLine(11,"!!!!#CSSSSSSSSSD#!!!")
-renderLine(12,"!!!!###o##o##o###!!!")
-
-oxyd_shuffle()
-
-function timer_callback()
-    s_num=random(4)
-    if s_num==1 then
-        SendMessage("s1", "trigger")
-    elseif s_num==2 then
-        SendMessage("s2", "trigger")
-    elseif s_num==3 then
-        SendMessage("s3", "trigger")
-    elseif s_num==4 then
-        SendMessage("s4", "trigger")
-    end
-end
-
-set_stone( "st-timer", 20, 0, {target="timer_callback", action="callback", name="timer", interval=3} )
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/duffy64_2.xml (from rev 1431, trunk/data/levels/enigma_iii/duffy64_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/duffy64_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
+++ trunk/data/levels/enigma_iii/duffy64_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,72 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Slinky Mayhem" el:subtitle="" el:id="duffy64"/>
+      <el:version el:score="2" el:release="2" el:revision="4" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_lawn"}
+ti["!"] = {"fl_abyss"}
+ti["#"] = {"st-glass"}
+ti["."] = {"st_stoneimpulse", hollow=true}
+ti["I"] = {"st_stoneimpulse", name="pulser#"}
+ti["@"] = ti["."] .. {"#ac_marble_black"}
+
+if wo["IsDifficult"] then
+    ti["X"] = {"st_stoneimpulse", "dest#", hollow=true}
+    ti["W"] = ti["."] .. {"it_wormhole", strength=0.0, destination="@dest#*"}
+    ti["O"] = {"st_oxyd", name="oxyds#"}
+    ti["w"] = ti["."]
+    ti["x"] = ti["."]
+    ti["o"] = ti["#"]
+    ti["T"] = ti["!"] .. {"st_timer", interval=3.0, invisible=true, target="pulse"}
+else
+    ti["x"] = {"st_stoneimpulse", "dest#", hollow=true}
+    ti["w"] = ti["."] .. {"it_wormhole", strength=0.0, destination="@dest#*"}
+    ti["o"] = {"st_oxyd", name="oxyds#"}
+    ti["W"] = ti["."]
+    ti["X"] = ti["."]
+    ti["O"] = ti["#"]
+    ti["T"] = ti["!"] .. {"st_timer", interval=4.0, invisible=true, target="pulse"}
+end
+
+w, h = wo(ti, " ", {
+"!###Oo#O#oO###T",
+"!#I....X....I#!",
+"!#.x.......x.#!",
+"!O...........O!",
+"!o...........o!",
+"!#....wWw....#!",
+"!OX...W at W...XO!",
+"!#....wWw....#!",
+"!o...........o!",
+"!O...........O!",
+"!#.x.......x.#!",
+"!#I....X....I#!",
+"!###Oo#O#oO###!"})
+
+wo:shuffleOxyd({no["oxyds#*"]:sort("circular"), circular = true})
+
+local pulsstones = no["pulser#*"]
+function pulse(value, sender)
+    pulsstones[random(1,4)]:signal(1)
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/duffy64_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/duffy65_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy65_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iii/duffy65_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,134 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Overwhelming" el:subtitle="" el:id="duffy65"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=1
-rooms_high=1
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-
-fill_floor("fl-mortar", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-greenbrown", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "*" then
-            set_stone( "st-brownie", i-1, line)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c=="w" then
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0,mouseforce=1})
-        elseif c == "g" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-        elseif c=="+" then
-            set_stone( "st-wood", i-1, line)
-        elseif c=="=" then
-            set_floor("fl-space",i-1,line)
-        elseif c=="i" then
-            set_floor("fl-ice",i-1,line)
-        elseif c=="h" then
-            set_item("it-hill",i-1,line)
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0,mouseforce=1})
-        elseif c=="H" then
-            set_item("it-hollow",i-1,line)
-        elseif c=="I" then
-            set_item("it-hollow",i-1,line)
-            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0,mouseforce=1})
-        elseif c=="A" then
-            if difficult==false then
-                xx=i-.5
-                yy=line-4.5
-            else
-                xx=i-.5
-                yy=line-2.5
-            end
-            set_item("it-wormhole", i-1, line, {strength=2,targetx=xx,targety=yy})
-        elseif c=="B" then
-            if difficult==false then
-                xx=i+5.5
-                yy=line+.5
-            else
-                xx=i+2.5
-                yy=line+.5
-            end
-            set_item("it-wormhole", i-1, line, {strength=2,targetx=xx,targety=yy})
-        elseif c=="C" then
-            if difficult==false then
-                xx=i-.5
-                yy=line+5.5
-            else
-                xx=i-.5
-                yy=line+3.5
-            end
-            set_item("it-wormhole", i-1, line, {strength=2,targetx=xx,targety=yy})
-        elseif c=="D" then
-            if difficult==false then
-                xx=i-6.5
-                yy=line+.5
-            else
-                xx=i-3.5
-                yy=line+.5
-            end
-            set_item("it-wormhole", i-1, line, {strength=2,targetx=xx,targety=yy})
-        end
-    end
-end
-
-if not difficult then
-    renderLine(00,"!!!!!!!!!!!!!!!!!!!!")
-    renderLine(01,"!!###!!!!###!!!!###!")
-    renderLine(02,"!##H##!!##H##!!##H##")
-    renderLine(03,"!#IhB#!!#DhB#!!#DhI#")
-    renderLine(04,"!##C##!!##C##!!##C##")
-    renderLine(05,"!!###!!!!###!!!!###!")
-    renderLine(06,"!!!!!!!!!!!!!!!!!!!!")
-    renderLine(07,"!!###!!!!###!!!!###!")
-    renderLine(08,"!##A##!!##A##!!##A##")
-    renderLine(09,"!#IhB#!!#DhB#!!#DhI#")
-    renderLine(10,"!##H##!!##H##!!##H##")
-    renderLine(11,"!!###!!!!###!!!!###!")
-    renderLine(12,"!!!!!!!!!!!!!!!!!!!!")
-else
-    renderLine(00,"!!!###!###!###!###!!")
-    renderLine(01,"!!##H###H###H###H##!")
-    renderLine(02,"!!#HhB#DhB#DhB#DhH#!")
-    renderLine(03,"!!##C###C###C###C##!")
-    renderLine(04,"!!!###!###!###!###!!")
-    renderLine(05,"!!##A###A###A###A##!")
-    renderLine(06,"!!#IhB#DhB#DhB#DhI#!")
-    renderLine(07,"!!##C###C###C###C##!")
-    renderLine(08,"!!!###!###!###!###!!")
-    renderLine(09,"!!##A###A###A###A##!")
-    renderLine(10,"!!#HhB#DhB#DhB#DhH#!")
-    renderLine(11,"!!##H###H###H###H##!")
-    renderLine(12,"!!!###!###!###!###!!")
-end
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/duffy65_2.xml (from rev 1440, trunk/data/levels/enigma_iii/duffy65_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/duffy65_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ trunk/data/levels/enigma_iii/duffy65_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,66 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Overwhelming" el:subtitle="" el:id="duffy65"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="stable"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_mortar"}
+ti["!"] = {"fl_abyss"}
+ti["."] = {"#ac_pearl"}
+ti["O"] = ti["."] .. {"it_meditation_hill", name="hill1#"}
+ti["0"] = ti["."] .. {"it_meditation_hill", name="hill2#"}
+ti["o"] = {"it_meditation_hollow"}
+ti["*"] = ti["."] .. {"it_meditation_hollow"}
+ti["v"] = {"it_wormhole", strength=4.0, destination="@hill1#*"}
+ti["w"] = {"it_wormhole", strength=4.0, destination="@hill2#*"}
+ti["#"] = {"st-greenbrown"}
+
+if wo["IsDifficult"] then
+    wo(ti, " ",{
+    "!###!###!###!###!",
+    "##o###o###o###o##",
+    "#oOw#v0v#wOw#v0o#",
+    "##w###v###w###v##",
+    "!###!###!###!###!",
+    "##v###w###v###w##",
+    "#*0v#wOw#v0v#wO*#",
+    "##v###w###v###w##",
+    "!###!###!###!###!",
+    "##w###v###w###v##",
+    "#oOw#v0v#wOw#v0o#",
+    "##o###o###o###o##",
+    "!###!###!###!###!"})
+else
+    wo(ti, " ",{
+    "!###!!!!###!!!!###!",
+    "##o##!!##o##!!##o##",
+    "#*Ow#!!#v0v#!!#wO*#",
+    "##w##!!##v##!!##w##",
+    "!###!!!!###!!!!###!",
+    "!!!!!!!!!!!!!!!!!!!",
+    "!###!!!!###!!!!###!",
+    "##v##!!##w##!!##v##",
+    "#*0v#!!#wOw#!!#v0*#",
+    "##o##!!##o##!!##o##",
+    "!###!!!!###!!!!###!"})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/duffy65_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma III"/>
 
   <attributes/>
 
@@ -74,8 +74,8 @@
     <level _seq="66" _title="Block its way!" _xpath="./wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="67" _title="Bump Ahead" _xpath="./illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Bowling" _xpath="./martin80_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin80" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="69" _title="Slinky Mayhem" _xpath="./duffy64_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy64" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="70" _title="Overwhelming" _xpath="./duffy65_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="69" _title="Slinky Mayhem" _xpath="./duffy64_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy64" rel="2" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="70" _title="Overwhelming" _xpath="./duffy65_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Break Down the Wall" _xpath="./duffy107_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="One-Way Streets" _xpath="./duffy109_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy109" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Killer Hills" _xpath="./luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iv/ant22_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant22_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iv/ant22_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,64 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Chained" el:subtitle="" el:id="ant22"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- 2003-02-10 -- keeping up to date with latest additions to ant.lua
-cells={}
-
-cells["."]=abyss
-cells[" "]=cell{floor="fl-metal"}
-cells["_"]=cell{floor="fl-normal"}
-cells["#"]=cell{stone="st-metal"}
-cells["x"]=cell{stone="st-grate1"}
-cells["0"]=oxyd
-
-blocks = {};
-actors = {};
-cells["W"]=cell{{cells["_"],{add_multistone, "st-wood", blocks}}}
-cells["O"]=cell{{cells["_"],{add_multiactor, "ac-blackball", actors, {player=0}}}}
-
-level = {
-   "#0#####......#####0#",
-   "0     #......#     0",
-   "#     #......#     #",
-   "#     #......#     #",
-   "#     ########     #",
-   "#xxxxxxxxxxxxxxxxxx#",
-   "#________W_O_______#",
-   "#xxxxxxxxxxxxxxxxxx#",
-   "#     ########     #",
-   "#     #......#     #",
-   "#     #......#     #",
-   "0     #......#     0",
-   "#0#####......#####0#"
-}
-
--- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-oxyd_default_flavor = "b"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-add_rubber_bands(actors, blocks, 50, 0)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/ant22_2.xml (from rev 1435, trunk/data/levels/enigma_iv/ant22_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/ant22_1.xml	2009-01-06 01:44:53 UTC (rev 1435)
+++ trunk/data/levels/enigma_iv/ant22_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,74 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Chained" el:subtitle="" el:id="ant22"/>
+      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_metal"}
+ti["."] = {"fl_abyss"}
+ti["-"] = {"fl_metal_7"}
+ti["#"] = {"st-metal"}
+ti["x"] = {"st-grate1"}
+ti["0"] = {"st_oxyd", name="grp0#"}
+ti["1"] = {"st_oxyd", name="grp1#"}
+ti["2"] = {"st_oxyd", name="grp2#"}
+ti["3"] = {"st_oxyd", name="grp3#"}
+if wo["IsDifficult"] then
+    ti["4"] = {"st_oxyd", name="grp4#"}
+    ti["5"] = {"st_oxyd", name="grp5#"}
+    ti["6"] = {"st_oxyd", name="grp6#"}
+    ti["7"] = {"st_oxyd", name="grp7#"}
+else
+    ti["4"] = ti["#"]
+    ti["5"] = ti["#"]
+    ti["6"] = ti["#"]
+    ti["7"] = ti["#"]
+end
+ti["W"] = ti["-"] .. {"st_box", name="box"}
+ti["@"] = ti["-"] .. {"#ac_marble_black", name="ball"}
+
+wo(ti, " ",
+   {"#0###4#......#5###1#",
+    "0     4......5     1",
+    "#     #......#     #",
+    "#     #......#     #",
+    "#     ########     #",
+    "#xxxxxxxxxxxxxxxxxx#",
+    "#--------W- at -------#",
+    "#xxxxxxxxxxxxxxxxxx#",
+    "#     ########     #",
+    "#     #......#     #",
+    "#     #......#     #",
+    "3     7......6     2",
+    "#3###7#......#6###2#"})
+
+wo:add({"ot_rubberband", anchor1="ball", anchor2="box", strength=50.0, max=6.5})
+
+if wo["IsDifficult"] then
+    wo:shuffleOxyd({"grp0#*", max=0}, {"grp1#*", max=0}, {"grp2#*", max=0}, {"grp3#*", max=0},
+                   {"grp4#*", max=0}, {"grp5#*", max=0}, {"grp6#*", max=0}, {"grp7#*", max=0},
+                   {no["grp0#*"] + no["grp3#*"] + no["grp4#*"] + no["grp7#*"], max=2},
+                   {no["grp1#*"] + no["grp2#*"] + no["grp5#*"] + no["grp6#*"], max=2})
+else
+    wo:shuffleOxyd({"grp0#*", max=0}, {"grp1#*", max=0}, {"grp2#*", max=0}, {"grp3#*", max=0},
+                   {no["grp0#*"] + no["grp3#*"], max=2}, {no["grp1#*"] + no["grp2#*"], max=2})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iv/ant22_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iv/duffy36_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy36_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iv/duffy36_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,117 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="It Never Stops" el:subtitle="" el:id="duffy36"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=1
-rooms_high=1
-
-levelw=1+(19*rooms_wide) +2
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-
-fill_floor("fl-hay", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-greenbrown", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c=="z" then
-            set_actor("ac-blackball", i-.5,line+.5)
-        elseif c=="s" then
-            set_stone( "st-stoneimpulse", i-1, line)
-        elseif c=="S" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line)
-        elseif c=="A" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line,{name="ss1"})
-        elseif c=="B" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line,{name="ss2"})
-        elseif c=="C" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line,{name="ss3"})
-        elseif c=="D" then
-            set_stone( "st-stoneimpulse-hollow", i-1,line,{name="ss4"})
-        elseif c=="a" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s1"})
-        elseif c=="b" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s2"})
-        elseif c=="c" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s3"})
-        elseif c=="d" then
-            set_stone("st-stoneimpulse",i-1,line,{name="s4"})
-        end
-    end
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-renderLine(00,"!!!!!###########!!!!")
-renderLine(01,"!!!!##o       o##!!!")
-renderLine(02,"!!!!#o         o#!!!")
-renderLine(03,"!!!!#  c sB sb  #!!!")
-renderLine(04,"!!!!#  s#o o#   #!!!")
-renderLine(05,"!!!!#   o   os  #!!!")
-renderLine(06,"!!!!#  C     A  #!!!")
-renderLine(07,"!!!!#  so   o   #!!!")
-renderLine(08,"!!!!#   #o o#s  #!!!")
-renderLine(09,"!!!!#  ds Ds a  #!!!")
-renderLine(10,"!!!!#o         o#!!!")
-renderLine(11,"!!!!##o   z   o##!!!")
-renderLine(12,"!!!!!###########!!!!")
-
-oxyd_shuffle()
-
-SendMessage("s1", "trigger")
-SendMessage("s2", "trigger")
-SendMessage("s3", "trigger")
-SendMessage("s4", "trigger")
-
-SendMessage("ss1", "trigger")
-SendMessage("ss2", "trigger")
-SendMessage("ss3", "trigger")
-SendMessage("ss4", "trigger")
-
-mytimer = 0
-function timer_handler()
-    if mytimer==0 then
-        set_stone("st-stoneimpulse", 8,3)
-        set_stone("st-stoneimpulse", 13,4)
-        set_stone("st-stoneimpulse", 7,8)
-        set_stone("st-stoneimpulse", 12,9)
-        set_stone("st-stoneimpulse", 11,3)
-        set_stone("st-stoneimpulse", 9,9)
-        set_stone("st-stoneimpulse", 13,7)
-        set_stone("st-stoneimpulse", 7,5)
-        mytimer=1
-    end
-end
-
-set_stone("st-timer", 21, 0, {action="callback", target="timer_handler",interval=.3})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/duffy36_2.xml (from rev 1431, trunk/data/levels/enigma_iv/duffy36_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/duffy36_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
+++ trunk/data/levels/enigma_iv/duffy36_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,76 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="It Never Stops" el:subtitle="" el:id="duffy36"/>
+      <el:version el:score="2" el:release="2" el:revision="5" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_hay"}
+ti["!"] = {"fl_abyss"}
+ti["#"] = {"st-greenbrown"}
+ti["*"] = {"st_stoneimpulse"}
+ti["o"] = {"st_stoneimpulse", hollow=true}
+ti["N"] = {"st_stoneimpulse_new", orientation=NORTH}
+ti["E"] = {"st_stoneimpulse_new", orientation=EAST}
+ti["W"] = {"st_stoneimpulse_new", orientation=WEST}
+ti["S"] = {"st_stoneimpulse_new", orientation=SOUTH}
+ti["n"] = {"st_stoneimpulse_new", orientation=NORTH, hollow=true}
+ti["e"] = {"st_stoneimpulse_new", orientation=EAST, hollow=true}
+ti["w"] = {"st_stoneimpulse_new", orientation=WEST, hollow=true}
+ti["s"] = {"st_stoneimpulse_new", orientation=SOUTH, hollow=true}
+ti["1"] = {"st_oxyd", "inner#"}
+ti["2"] = {"st_oxyd", "outer#"}
+ti["@"] = {"#ac_marble_black"}
+
+if wo["IsDifficult"] then
+    w, h = wo(ti, " ", {
+    "!###########!",
+    "##2       2##",
+    "#2         2#",
+    "#  E**e**S  #",
+    "#  *#1 1#*  #",
+    "#  *1   1*  #",
+    "#  n     s  #",
+    "#  *1   1*  #",
+    "#  *#1 1#*  #",
+    "#  N**w**W  #",
+    "#2         2#",
+    "##2   @   2##",
+    "!###########!"})
+    wo:shuffleOxyd({"inner#*", max=0}, {"outer#*", max=0})
+else
+    w, h = wo(ti, " ", {
+    "!###########!",
+    "##2       2##",
+    "#2         2#",
+    "#   **e**   #",
+    "#  E*1 1*S  #",
+    "#  *1   1*  #",
+    "#  o  @  o  #",
+    "#  *1   1*  #",
+    "#  N*1 1*W  #",
+    "#   **w**   #",
+    "#2         2#",
+    "##2       2##",
+    "!###########!"})
+    wo:shuffleOxyd({"inner#*", max=1}, {"outer#*", max=1})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iv/duffy36_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma IV"/>
 
   <attributes/>
 
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Slide it in" _xpath="./ss13_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss13" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Switch-Switch" _xpath="./raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Slinky-Racing" _xpath="./duffy14_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Chained" _xpath="./ant22_1" author="Petr Machata" ctrl="force" easy="false" id="ant22" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Too Hot" _xpath="./martin94_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin94" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Graduated Puzzles" _xpath="./duffy94_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Running Stone" _xpath="./christophanita01_1" author="Christoph &amp; Anita" ctrl="force" easy="false" id="christophanita_runningstone" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -40,7 +40,7 @@
     <level _seq="32" _title="Under the Radar" _xpath="./duffy106_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy106" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Double-Spiral" _xpath="./duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="34" _title="Running Rings" _xpath="./siegfried14_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4f" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="It Never Stops" _xpath="./duffy36_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy36" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="It Never Stops" _xpath="./duffy36_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy36" rel="2" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="36" _title="Circularity" _xpath="./ant10_1" author="Petr Machata" ctrl="force" easy="false" id="ant10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Eccentric Orbits" _xpath="./nat19_1" author="Nat Pryce" ctrl="force" easy="false" id="nat19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Mourning Palace" _xpath="./ant08_1" author="Petr Machata" ctrl="force" easy="false" id="ant08" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -62,7 +62,7 @@
     <level _seq="54" _title="Fire Safety" _xpath="./duffy83_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy83" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Easily Inflammable" _xpath="./martin95_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin95" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="56" _title="The Builder" _xpath="./ss09_2" author="Sven Siggelkow" ctrl="force" easy="false" id="ss9" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="What a Mess" _xpath="./duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Sleeping Serpent" _xpath="./raoul10_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- No Meditation -" _xpath="./ralf08_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iv/ralf09_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/ralf09_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_iv/ralf09_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,69 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Run Like Hell" el:subtitle="" el:id="ralf09"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Ralf Westram</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ralf" el:id="lib/ralf" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
---debug_mode()
-
-level={
-   "####o#o#o###o#o#o###",
-   "#  PvPvPvPvPvPvPvP #",
-   "# PvPvPvPvPvPvPvP  #",
-   "#  PvPvPvPvPvPvPvP #",
-   "# PvPvPvPvPvPvPvP  #",
-   "#  PvPvPvPvPvPvPvP #",
-   "# PvPvPvPvPvPvPvP  #",
-   "#  PvPvPvPvPvPvPvP #",
-   "# PvPvPvPvPvPvPvP  #",
-   "#  PvPvPvPvPvPvPvP #",
-   "# PvPvPvPvPvPvPvP  #",
-   "#a P P P P P P P Pd#",
-   "####################",
-}
-
-cells={}
-
-cells["!"] = cell{floor="fl-abyss"}
-cells[" "] = cell{floor="fl-red"}
-
-cells["#"] = cell{parent=cells[" "],stone="st-rock3"}
-cells["P"] = cell{parent=cells[" "],stone="st-pull"}
-cells["@"] = cell{parent=cells[" "],stone="st-brownie"}
-
-cells["^"] = cell{parent=cells[" "],stone="st-bolder-n"}
-cells["v"] = cell{parent=cells[" "],stone="st-bolder-s"}
-cells[">"] = cell{parent=cells[" "],stone="st-bolder-e"}
-cells["<"] = cell{parent=cells[" "],stone="st-bolder-w"}
-
-cells["a"] = cell{parent=cells[" "],actor={"ac-blackball", {player=0}}}
-cells["d"] = cell{{cells[" "],{document, "text1"}}}
-
-cells["o"] = cell{oxyd}
-
-rs_create_world(level,cells)
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">Calm down!</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/ralf09_2.xml (from rev 1431, trunk/data/levels/enigma_iv/ralf09_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/ralf09_1.xml	2009-01-05 00:38:08 UTC (rev 1431)
+++ trunk/data/levels/enigma_iv/ralf09_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Run Like Hell" el:subtitle="" el:id="ralf09"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Ralf Westram</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_red"}
+ti["#"] = {"st-rock3"}
+ti["P"] = {"st_pull"}
+ti["v"] = {"st_boulder", orientation=SOUTH}
+ti["o"] = {"st_oxyd", "oxyds1#"}
+ti["O"] = {"st_oxyd", "oxyds2#"}
+ti["d"] = {"it-document", text="text1"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ",
+   {"####o#o#o###O#O#O###",
+    "#  PvPvPvPvPvPvPvP #",
+    "# PvPvPvPvPvPvPvP  #",
+    "#  PvPvPvPvPvPvPvP #",
+    "# PvPvPvPvPvPvPvP  #",
+    "#  PvPvPvPvPvPvPvP #",
+    "# PvPvPvPvPvPvPvP  #",
+    "#  PvPvPvPvPvPvPvP #",
+    "# PvPvPvPvPvPvPvP  #",
+    "#  PvPvPvPvPvPvPvP #",
+    "# PvPvPvPvPvPvPvP  #",
+    "#@ P P P P P P P Pd#",
+    "####################"})
+
+wo:shuffleOxyd({"oxyds1#*", "oxyds2#*", min=3})
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">Calm down!</el:english>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iv/ralf09_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma V"/>
 
   <attributes/>
 
@@ -66,9 +66,9 @@
     <level _seq="58" _title="Now What?" _xpath="./duffy127_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy127" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Pneumatic Delivery" _xpath="./malla01_2" author="Manuel K?nig" ctrl="force" easy="true" id="malla01" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="60" _title="Jumpin' Jack Flash" _xpath="./ss10_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss10" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="61" _title="Venice I" _xpath="./raoul16_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul16" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="Venice I" _xpath="./raoul16_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul16" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="No way out?" _xpath="./just08_1" author="JuSt" ctrl="force" easy="false" id="just08" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="63" _title="Venice II" _xpath="./raoul17_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul17" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="63" _title="Venice II" _xpath="./raoul17_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul17" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Walking around" _xpath="./just05_2" author="JuSt" ctrl="force" easy="false" id="just05" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="65" _title="Elaborate" _xpath="./duffy126_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy126" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Trigger Happy" _xpath="./xerxes03_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes03" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/raoul05_2.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul05_2.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_v/raoul05_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -62,7 +62,7 @@
 
 -- simply invert upper_maps to create lower_maps:
 lower_maps = {}
-for _, map in pairs(upper_maps) do
+for i, map in pairs(upper_maps) do
     table.insert(lower_maps, {map[3], map[2], map[1]})
 end
 

Deleted: trunk/data/levels/enigma_v/raoul16_1.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul16_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_v/raoul16_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,88 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Venice I" el:subtitle="" el:id="raoul16"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="0:57"/>
-    </el:info>
-    <el:luamain><![CDATA[
-
-function file_oxyd(x,y,f)
-    oxyd_default_flavor=f
-    oxyd(x,y)
-end
-levelh=13
-levelw=20
-cells={}
-stones={}
-stones[" "]=cell{}
-cells[" "]=cell{}
-cells[" "]=cell{floor="fl-water"}
-cells["#"]=cell{floor="fl-concrete"}
-stones["O"]=cell{parent={{file_oxyd,"b"}}}
-stones["G"]=cell{stone="st-glass"}
--- Random Bridge Setup:
-r=random(2)
-if r == 1 then
- stones["S"]=cell{stone="st-black4"}
- stones["W"]=cell{stone="st-white4"}
-else
- stones["W"]=cell{stone="st-black4"}
- stones["S"]=cell{stone="st-white4"}
-end
-level={"                    ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "   #   #    #   #   ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "   #   #    #   #   ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "                    "}
-stmap={"                    ",
-       "  GOG GOG  GOG GGG  ",
-       "  O WWW SSSS WWW G  ",
-       "  GSG GWG  GSG GWG  ",
-       "   S   W    S   W   ",
-       "  GSG GWG  GSG GWG  ",
-       "  O SSS WWWW SSS O  ",
-       "  GWG GSG  GWG GSG  ",
-       "   W   S    W   S   ",
-       "  GWG GSG  GWG GSG  ",
-       "  G WWW SSSS WWW O  ",
-       "  GGG GOG  GOG GOG  ",
-       "                    "}
-create_world_by_map(level)
-draw_map(0,0,stmap,stones)
-set_item("it-yinyang",2,10)
-set_item("it-yinyang",17,2)
-set_item("it-ring",3,11)
-set_item("it-ring",16,1)
-set_item("it-cherry",3,10)
-set_item("it-cherry",16,2)
-set_actor("ac-whiteball",3.5,10.5,{player=1,name="wb"})
-set_actor("ac-blackball",16.5,2.5,{player=0,name="bb"})
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_v/raoul16_2.xml (from rev 1440, trunk/data/levels/enigma_v/raoul16_1.xml)
===================================================================
--- trunk/data/levels/enigma_v/raoul16_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ trunk/data/levels/enigma_v/raoul16_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,51 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Venice I" el:subtitle="" el:id="raoul16"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="0:57"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_water"}
+ti["-"] = {"fl_concrete"}
+ti["G"] = ti["-"] .. {"st-glass"}
+ti["O"] = {"st_oxyd"}
+ti["r"] = ti["G"] .. {"it_ring"}
+ti["y"] = ti["G"] .. {"it_yinyang"}
+ti["1"] = ti["-"] .. ti({"it_cherry"}) .. {"#ac_marble_black"}
+ti["2"] = ti["-"] .. ti({"it_cherry"}) .. {"#ac_marble_white"}
+
+local col = math.random(0,1)
+ti["W"] = ti["-"] .. {"st_passage", flavor="frame", color=col}
+ti["S"] = ti["-"] .. {"st_passage", flavor="frame", color=1-col}
+
+wo(ti, " ",
+   {"                    ",
+    "  GOG GOG  GOG GrG  ",
+    "  O-WWW-SSSS-WWW1y  ",
+    "  GSG GWG  GSG GWG  ",
+    "   S   W    S   W   ",
+    "  GSG GWG  GSG GWG  ",
+    "  O-SSS-WWWW-SSS-O  ",
+    "  GWG GSG  GWG GSG  ",
+    "   W   S    W   S   ",
+    "  GWG GSG  GWG GSG  ",
+    "  y2WWW-SSSS-WWW-O  ",
+    "  GrG GOG  GOG GOG  ",
+    "                    "})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_v/raoul16_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_v/raoul17_1.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul17_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_v/raoul17_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,107 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Venice II" el:subtitle="" el:id="raoul17"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="1:27"/>
-    </el:info>
-    <el:luamain><![CDATA[
-
-function file_oxyd(x,y,f)
-    oxyd_default_flavor=f
-    oxyd(x,y)
-end
-levelh=13
-levelw=20
-cells={}
-stones={}
-stones[" "]=cell{}
-cells[" "]=cell{}
-cells[" "]=cell{floor="fl-water"}
-cells["#"]=cell{floor="fl-concrete"}
-stones["O"]=cell{parent={{file_oxyd,"b"}}}
-stones["G"]=cell{stone="st-glass"}
--- Random Bridge Setup:
-c=random(2)
-r=random(2)
-if c == 1 then
- if r == 1 then
-  stones["a"]=cell{stone="st-oneway_white-n"}
-  stones["d"]=cell{stone="st-oneway_white-w"}
-  stones["f"]=cell{stone="st-oneway_black-e"}
-  stones["g"]=cell{stone="st-oneway_black-s"}
- else
-  stones["a"]=cell{stone="st-oneway_white-s"}
-  stones["d"]=cell{stone="st-oneway_white-e"}
-  stones["f"]=cell{stone="st-oneway_black-w"}
-  stones["g"]=cell{stone="st-oneway_black-n"}
- end
-else
- if r == 1 then
-  stones["a"]=cell{stone="st-oneway_black-n"}
-  stones["d"]=cell{stone="st-oneway_black-w"}
-  stones["f"]=cell{stone="st-oneway_white-e"}
-  stones["g"]=cell{stone="st-oneway_white-s"}
- else
-  stones["a"]=cell{stone="st-oneway_black-s"}
-  stones["d"]=cell{stone="st-oneway_black-e"}
-  stones["f"]=cell{stone="st-oneway_white-w"}
-  stones["g"]=cell{stone="st-oneway_white-n"}
- end
-end
-level={"                    ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "   #   #    #   #   ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "   #   #    #   #   ",
-       "  ### ###  ### ###  ",
-       "  ################  ",
-       "  ### ###  ### ###  ",
-       "                    "}
-stmap={"                    ",
-       "  GOG GOG  GOG GGG  ",
-       "  O ddd ffff ddd G  ",
-       "  GgG GaG  GgG GaG  ",
-       "   g   a    g   a   ",
-       "  GgG GaG  GgG GaG  ",
-       "  O fff dddd fff O  ",
-       "  GaG GgG  GaG GgG  ",
-       "   a   g    a   g   ",
-       "  GaG GgG  GaG GgG  ",
-       "  G ddd ffff ddd O  ",
-       "  GGG GOG  GOG GOG  ",
-       "                    "}
-create_world_by_map(level)
-draw_map(0,0,stmap,stones)
-set_item("it-yinyang",2,10)
-set_item("it-yinyang",17,2)
-set_item("it-ring",3,11)
-set_item("it-ring",16,1)
-set_item("it-cherry",3,10)
-set_item("it-cherry",16,2)
-set_actor("ac-whiteball",3.5,10.5,{player=1,name="wb"})
-set_actor("ac-blackball",16.5,2.5,{player=0,name="bb"})
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_v/raoul17_2.xml (from rev 1440, trunk/data/levels/enigma_v/raoul17_1.xml)
===================================================================
--- trunk/data/levels/enigma_v/raoul17_1.xml	2009-01-08 15:31:26 UTC (rev 1440)
+++ trunk/data/levels/enigma_v/raoul17_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,55 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Venice II" el:subtitle="" el:id="raoul17"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="0:57"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_water"}
+ti["-"] = {"fl_concrete"}
+ti["G"] = ti["-"] .. {"st-glass"}
+ti["O"] = {"st_oxyd"}
+ti["r"] = ti["G"] .. {"it_ring"}
+ti["y"] = ti["G"] .. {"it_yinyang"}
+ti["1"] = ti["-"] .. ti({"it_cherry"}) .. {"#ac_marble_black"}
+ti["2"] = ti["-"] .. ti({"it_cherry"}) .. {"#ac_marble_white"}
+
+local r = 2*math.random(0,1)
+local col = math.random(0,1)
+
+ti["a"] = ti["-"] .. {"st_oneway", color=col, orientation= (SOUTH + r) % 4 } -- south || north
+ti["d"] = ti["-"] .. {"st_oneway", color=col, orientation= (EAST + r) % 4 }  -- east  || west
+ti["f"] = ti["-"] .. {"st_oneway", color=1-col, orientation= (WEST +r) % 4 }   -- west  || east
+ti["g"] = ti["-"] .. {"st_oneway", color=1-col, orientation= (NORTH +r) % 4 }  -- north || south
+
+wo(ti, " ",
+   {"                    ",
+    "  GOG GOG  GOG GrG  ",
+    "  O-ddd-ffff-ddd1y  ",
+    "  GgG GaG  GgG GaG  ",
+    "   g   a    g   a   ",
+    "  GgG GaG  GgG GaG  ",
+    "  O-fff-dddd-fff-O  ",
+    "  GaG GgG  GaG GgG  ",
+    "   a   g    a   g   ",
+    "  GaG GgG  GaG GgG  ",
+    "  y2ddd-ffff-ddd-O  ",
+    "  GrG GOG  GOG GOG  ",
+    "                    "})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_v/raoul17_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma VI"/>
 
   <attributes/>
 
@@ -17,7 +17,7 @@
     <level _seq="9" _title="Im-pull-se" _xpath="./ralf07_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Meditation Disturbance" _xpath="./ral04_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Cold Way" _xpath="./raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Oxydmoron" _xpath="./raoul14_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Oxydmoron" _xpath="./raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="13" _title="Rhapsody on Cracks" _xpath="./ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Red Herrings" _xpath="./andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="15" _title="Step gently!" _xpath="./malla03_2" author="Manuel K?nig" ctrl="force" easy="true" id="malla03" rel="2" rev="2" score="2" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_vi/raoul14_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul14_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_vi/raoul14_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -1,94 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Oxydmoron" el:subtitle="" el:id="raoul14"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="0:58"/>
-    </el:info>
-    <el:luamain><![CDATA[
-
-function file_oxyd(x,y,f)
-    oxyd_default_flavor=f
-    oxyd(x,y)
-end
-levelh=13
-levelw=20
-cells={}
-stones={}
-stones[" "]=cell{}
-cells[" "]=cell{}
-cells[" "]=cell{floor="fl-water"}
-cells["#"]=cell{floor="fl-concrete"}
---cells["#"]=cell{floor="fl-sand"}
-stones["O"]=cell{parent={{file_oxyd,"b"}}}
-stones["S"]=cell{stone="st-black4"}
-stones["W"]=cell{stone="st-white4"}
-stones["Y"]=cell{stone="st-yinyang1"}
-level={"                    ",
-       " ####          #### ",
-       " #  ##       ###### ",
-       " #   #####   # #### ",
-       " ##      #   #  #   ",
-       "  ##    #### #  #   ",
-       "   #  ########  #   ",
-       "   #  # ####    ##  ",
-       "   #  #   #      ## ",
-       " #### #   #####   # ",
-       " ######       ##  # ",
-       " ####          #### ",
-       "                    "}
-if not difficult then
-stmap={"                    ",
-       " WWWW       O       ",
-       " W  WW    O  WW Y   ",
-       " W O WWWWW   W      ",
-       " WW O    W   W  S   ",
-       "  WW O       W  S   ",
-       "   W  SS    WW  S   ",
-       "   W  S       O SS  ",
-       "   W  S   S    O SS ",
-       "      S   SSSSS O S ",
-       "   Y SS  O    SS  S ",
-       "       O       SSSS ",
-       "                    "}
-else
-stmap={"                    ",
-       " WWWW O     O       ",
-       " W  WW    O  WW Y   ",
-       " W O WWWWW   W      ",
-       " WW O    W   W  S   ",
-       "  WW O       W  S   ",
-       " O W  SS    WW  S O ",
-       "   W  S       O SS  ",
-       "   W  S   S    O SS ",
-       "      S   SSSSS O S ",
-       "   Y SS  O    SS  S ",
-       "       O     O SSSS ",
-       "                    "}
-end
-create_world_by_map(level)
-draw_map(0,0,stmap,stones)
-set_item("it-yinyang",3,10)
-set_item("it-yinyang",16,2)
-set_actor("ac-blackball",2.5,10.5,{player=0,name="bb"})
-set_actor("ac-whiteball",17.5,2.5,{player=1,name="wb"})
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vi/raoul14_2.xml (from rev 1439, trunk/data/levels/enigma_vi/raoul14_1.xml)
===================================================================
--- trunk/data/levels/enigma_vi/raoul14_1.xml	2009-01-08 02:16:13 UTC (rev 1439)
+++ trunk/data/levels/enigma_vi/raoul14_2.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -0,0 +1,62 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Oxydmoron" el:subtitle="" el:id="raoul14"/>
+      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="0:58"/>
+    </el:info>
+    <el:luamain><![CDATA[
+local col = math.random(0,1)
+
+ti[" "] = {"fl_water"}
+ti["-"] = {"fl_concrete"}
+ti["Y"] = ti["-"] .. ti({"it_yinyang"}) .. {"st-yinyang1"}
+ti["1"] = ti["-"] .. {"#ac_marble_black"}
+ti["2"] = ti["-"] .. {"#ac_marble_white"}
+ti["W"] = ti["-"] .. {"st_passage", flavor="frame", color=col}
+ti["S"] = ti["-"] .. {"st_passage", flavor="frame", color=1-col}
+ti["O"] = {"st_oxyd", name="grp1#"}
+ti["P"] = {"st_oxyd", name="grp2#"}
+
+if wo["IsDifficult"] then
+    ti["o"] = ti["O"]
+    ti["p"] = ti["P"]
+else
+    ti["o"] = ti[" "]
+    ti["p"] = ti[" "]
+end
+
+wo(ti, " ",
+   {"                    ",
+    " WWWW p     P  ---- ",
+    " W  WW    P  WW-Y2- ",
+    " W P WWWWW   W ---- ",
+    " WW P    W   W  S   ",
+    "  WW O  ---- W  S   ",
+    " p W  SS----WW  S o ",
+    "   W  S ----  P SS  ",
+    "   W  S   S    O SS ",
+    " ---- S   SSSSS O S ",
+    " -1Y-SS  O    SS  S ",
+    " ----  O     o SSSS ",
+    "                    "})
+
+if wo["IsDifficult"] then
+    wo:shuffleOxyd({"grp1#*", max=1}, {"grp2#*", max=1})
+else
+    wo:shuffleOxyd({"grp1#*", max=0}, {"grp2#*", max=0})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_vi/raoul14_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_viii/raoul31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-13 01:18:07 UTC (rev 1451)
+++ trunk/data/levels/enigma_viii/raoul31_1.xml	2009-01-13 01:26:53 UTC (rev 1452)
@@ -29,8 +29,8 @@
 ti["="] = {"st_panel", cluster = 2}
 ti["u"] = {"it_meditation_hill"}
 ti["o"] = {"it_meditation_hollow"}
-ti["0"] = ti["u"] .. {"#ac_pearl_white", name="a", player=0} 
-ti["O"] = ti["o"] .. {"#ac_pearl_white", "s#"} 
+ti["0"] = ti["u"] .. {"#ac_pearl_white", name="a"} 
+ti["O"] = ti["o"] .. {"#ac_pearl_white", "s#", owner=0} 
 ti["q"] = {"it_rubberband", anchor2="@@s#*", length=5, strength=10, max=5}
 
 w, h = wo(ti, " ", {



From ral at mail.berlios.de  Tue Jan 13 22:58:33 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 13 Jan 2009 22:58:33 +0100
Subject: [Enigma-game-svn] r1453 - in trunk: data/schemas src src/items
Message-ID: <200901132158.n0DLwXLc019819@sheep.berlios.de>

Author: ral
Date: 2009-01-13 22:58:32 +0100 (Tue, 13 Jan 2009)
New Revision: 1453

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Object.cc
   trunk/src/WorldProxy.cc
   trunk/src/actors.cc
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/Sensor.cc
   trunk/src/items/Sensor.hh
   trunk/src/lua.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/oxyd.cc
   trunk/src/oxyd_internal.hh
Log:
Trunk 1.1: new API reengineering
- fix actor nearest object attribute evaluation
- group add method "sub()" for retrieving a subgroup:
  - group:sub(+n) - positive number gives first n objects
  - group:sub(-n) - negative number gives last n objects
  - group:sub(s, e) - range of objects in given index range
  - group:sub(s, -n) - n objects starting with at index s
- Sensor:
  - fix perform action value
  - add attribute "exit", default false, if true send action on actor leaving
    the grid instead of actor entering the grid
  - exit attribute is substitute for no longer existing it-changefloor
    (set floor beneath as the target to toggle fl_yinyang, use nearest target)


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/data/schemas/objects.xml	2009-01-13 21:58:32 UTC (rev 1453)
@@ -22,6 +22,7 @@
     <attr name="essential" type="int" default="0" min="0" max="2" rw="rw"/>
     <attr name="essential_id" type="string" default="nil" rw="rw"/>
     <attr name="eternal" type="bool" default="false" rw="rw"/>
+    <attr name="exit" type="bool" default="false" rw="rw"/>
     <attr name="faces" type="string" default="nil" rw="rw"/>
     <attr name="fastfire" type="bool" default="false" rw="rw"/>
     <attr name="fellows" type="group" default="nil" rw="r"/>
@@ -531,6 +532,7 @@
     </object>
     <object name="it_sensor">
       <attr name="invisible"/>
+      <attr name="exit"/>
       <msg name="_glasses"/>
       <msg name="_hit"/>
     </object>

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/Object.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -397,8 +397,9 @@
         for (TokenList::iterator tit = targets.begin(); tit != targets.end(); ++tit) {
             modified |= (*tit).finalizeNearestObjectReference(this);
         }
-        if (modified)
+        if (modified) {
             setAttr(attr, targets);
+        }
     }
     
     void Object::finalizeNearestObjectReferences() {

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/WorldProxy.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -45,7 +45,7 @@
     Value WorldProxy::getAttr(const string& key) const {
         if (key == "AllowSingleOxyds") {
             return server::AllowSingleOxyds;
-        } else if (key == "AllowTogglePlayer") {
+        } else if (key == "TogglePlayerOnDeath") {
             return server::AllowTogglePlayer;
         } else if (key == "ConserveLevel") {
             return server::ConserveLevel;
@@ -113,7 +113,7 @@
     void WorldProxy::setAttr(const string& key, const Value &val) {
         if (key == "AllowSingleOxyds") {
             server::AllowSingleOxyds = val;
-        } else if (key == "AllowTogglePlayer") {
+        } else if (key == "TogglePlayerOnDeath") {
             server::AllowTogglePlayer = val;
         } else if (key == "ConserveLevel") {
             server::ConserveLevel = val.to_bool();

Modified: trunk/src/actors.cc
===================================================================
--- trunk/src/actors.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/actors.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -126,7 +126,6 @@
     Value Actor::message(const Message &m) {
         if (m.message == "_init") {
             startingpos = get_pos();
-            return Value();
         } else if (m.message == "_freeze") {
             m_actorinfo.frozen_vel = m_actorinfo.vel;
             m_actorinfo.vel = ecl::V2();

Modified: trunk/src/items/Sensor.cc
===================================================================
--- trunk/src/items/Sensor.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/items/Sensor.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -27,12 +27,14 @@
 #include "items/GlassesItem.hh"
 
 namespace enigma {
-    Sensor::Sensor(bool inverse, bool isFilter) {
+    Sensor::Sensor(bool inverse, bool isFilter, bool exit) {
         Object::setAttr("inverse", inverse);
         if (isFilter) {
-            objFlags |= OBJBIT_ISFILTER;
-            Item::setAttr("invisible", true);
+            objFlags |= OBJBIT_ISFILTER | OBJBIT_INVISIBLE;
         }
+        if (exit) {
+            objFlags |= OBJBIT_EXIT;
+        }
     }
     
     Value Sensor::message(const Message &m) {
@@ -56,49 +58,76 @@
     
     void Sensor::setAttr(const string& key, const Value &val) {
         if (key == "invisible") {
-            Item::setAttr(key, val);
+            objFlags = (objFlags & ~OBJBIT_INVISIBLE) | (val.to_bool() ? OBJBIT_INVISIBLE : 0);
             if (isDisplayable())
                 init_model();
             return;
+        } else if (key == "exit") {
+            objFlags = (objFlags & ~OBJBIT_EXIT) | (val.to_bool() ? OBJBIT_EXIT : 0);
+            return;
         }
         Item::setAttr(key, val);
     }
     
+    Value Sensor::getAttr(const std::string &key) const {
+        if (key == "invisible") {
+            return (objFlags & OBJBIT_INVISIBLE) != 0;
+        } else if (key == "exit") {
+            return (objFlags & OBJBIT_EXIT) != 0;
+        }
+        return Item::getAttr(key);
+    }
+    
     void Sensor::init_model() {
-        if (getAttr("invisible").to_bool() && ((server::GlassesVisibility & Glasses::SENSOR) == 0))
+        if ((objFlags & OBJBIT_INVISIBLE) && ((server::GlassesVisibility & Glasses::SENSOR) == 0))
             set_model("invisible");
         else
             set_model("it_sensor");
     }
+    
+    void Sensor::actor_enter(Actor *a) {
+        if (!(objFlags & OBJBIT_EXIT)) {        
+            if (!(objFlags & OBJBIT_INVISIBLE))
+                set_anim("it_sensor_hit");
+            performAction(true);
+        }
+    }
+    
+    void Sensor::actor_leave(Actor *a) {
+        if (objFlags & OBJBIT_EXIT) {        
+            if (!(objFlags & OBJBIT_INVISIBLE))
+                set_anim("it_sensor_hit");
+            performAction(true);
+        }
+    }
 
     void Sensor::animcb() {
         init_model();
     }
 
-    void Sensor::actor_enter(Actor *a) {
-        if (!getAttr("invisible").to_bool())
-            set_anim("it_sensor_hit");
-        performAction(true);
-    }
-    
     int Sensor::traitsIdx() const {
         int idx = getAttr("inverse").to_bool() ? 1 : 0;
         if (objFlags & OBJBIT_ISFILTER)
             idx +=2;
+        if (objFlags & OBJBIT_EXIT)
+            idx = 4;
         return idx;
     }
 
-    ItemTraits Sensor::traits[4] = {
+    ItemTraits Sensor::traits[5] = {
         {"it_sensor",  it_sensor,  itf_static}, 
         {"it_sensor_inverse",  it_inversesensor,  itf_static},
         {"it_sensor_filter1", it_signalfilter1, itf_static | itf_invisible, 0.0},  // DAT only
-        {"it_sensor_filter0", it_signalfilter0, itf_static | itf_invisible, 0.0}   // DAT only
+        {"it_sensor_filter0", it_signalfilter0, itf_static | itf_invisible, 0.0},   // DAT only
+        {"it_sensor_exit",  it_exitsensor,  itf_static}
     };
+    
     BOOT_REGISTER_START
-        BootRegister(new Sensor(true), "it_sensor");
-        BootRegister(new Sensor(false), "it_sensor_inverse");
-        BootRegister(new Sensor(true, true), "it_sensor_filter1");
-        BootRegister(new Sensor(false, true), "it_sensor_filter0");
+        BootRegister(new Sensor(false), "it_sensor");
+        BootRegister(new Sensor(true), "it_sensor_inverse");
+        BootRegister(new Sensor(false, true), "it_sensor_filter1");
+        BootRegister(new Sensor(true, true), "it_sensor_filter0");
+        BootRegister(new Sensor(false, false, true), "it_sensor_exit");
     BOOT_REGISTER_END
 
 } // namespace enigma

Modified: trunk/src/items/Sensor.hh
===================================================================
--- trunk/src/items/Sensor.hh	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/items/Sensor.hh	2009-01-13 21:58:32 UTC (rev 1453)
@@ -26,31 +26,33 @@
 namespace enigma {
     class Sensor : public Item {
         CLONEOBJ(Sensor);
-        DECL_ITEMTRAITS_ARRAY(4, traitsIdx());
+        DECL_ITEMTRAITS_ARRAY(5, traitsIdx());
     private:
         enum ObjectPrivatFlagsBits {
-            OBJBIT_ISFILTER  =   1<<24    ///< sensor that filters signals, too
+            OBJBIT_EXIT      =   1<<24,    ///< sensor that reacts on actor leave
+            OBJBIT_ISFILTER  =   1<<25,    ///< sensor that filters signals, too
+            OBJBIT_INVISIBLE =   1<<26     ///< sensor that is invisible
         };
     public:
         static void setup();
             
-        Sensor(bool inverse, bool isFilter = false);
+        Sensor(bool inverse, bool isFilter = false, bool exit = false);
         
         // Object interface
         virtual Value message(const Message &m);
         
         // StateObject interface
         virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
         
         // GridObject interface
         virtual void init_model();
+        virtual void actor_enter(Actor *a);
+        virtual void actor_leave(Actor *a);
 
         // ModelCallback interface
         virtual void animcb();
 
-        // Item interface
-        virtual void actor_enter(Actor *a);
-    
     private:
         int traitsIdx() const;
     };

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/items.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -1478,25 +1478,6 @@
     DEF_ITEMTRAITS(SurpriseItem, "it-surprise", it_surprise);
 }
 
-/* -------------------- ChangeFloorItem -------------------- */
-namespace
-{
-    class ChangeFloorItem : public Item {
-        CLONEOBJ(ChangeFloorItem);
-        DECL_ITEMTRAITS;
-
-        void actor_leave (Actor *) {
-            SendMessage(GetFloor(get_pos()), "toggle");
-        }
-
-    public:
-        ChangeFloorItem() {
-        }
-    };
-    DEF_ITEMTRAITSF(ChangeFloorItem, "it-changefloor", it_changefloor,
-                itf_static | itf_invisible);
-}
-
 /* -------------------- Drop -------------------- */
 
 namespace
@@ -1591,7 +1572,6 @@
     RegisterItem (new Booze);
     RegisterItem (new BrokenBooze);
     Burnable::setup();
-    RegisterItem (new ChangeFloorItem);
     RegisterItem (new Cross);
     RegisterItem (new Debris);
     RegisterItem (new Document);

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/items.hh	2009-01-13 21:58:32 UTC (rev 1453)
@@ -46,7 +46,6 @@
         it_burnable_burning,
         it_burnable_ash,
         it_burnable_oil,
-        it_changefloor,
         it_cherry,
         it_cherry_crushed,
         it_coffee,
@@ -69,6 +68,7 @@
         it_explosion1,
         it_explosion2,
         it_explosion3,
+        it_exitsensor,
         it_extinguisher,
         it_extinguisher_medium,
         it_extinguisher_empty,

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/lua.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -2961,6 +2961,39 @@
     }
 }
 
+static int subGroup(lua_State *L) {
+    // group
+    if (lua_gettop(L) < 1 || !is_group(L, 1)) {
+        throwLuaError(L, "Syntax error - usage of '.' instead of ':'");
+        return 0;        
+    }
+    ObjectList oldList = toObjectList(L, 1);
+    int length = oldList.size();
+    int start = 0;
+    int end = length;
+    if (lua_gettop(L) == 2 && lua_isnumber(L, 2)) {
+        end = lua_tointeger(L, 2);
+        if (end < 0) {
+            start = length - end;
+            end = length;
+        }
+    }
+    if (lua_gettop(L) == 3 && lua_isnumber(L, 2) && lua_isnumber(L, 3)) {
+        start = lua_tointeger(L, 2) - 1;
+        end = lua_tointeger(L, 2);
+        if (end < 0) {
+            end = start - end;
+        }
+    }
+    ObjectList newList;
+    int i = 0;
+    for (ObjectList::iterator itr = oldList.begin(); itr != oldList.end(); ++itr, i++) {
+        if (i >= start && i < end)
+            newList.push_back(*itr);
+    }
+    return pushNewGroup(L, newList);
+}
+
 static int shuffleGroup(lua_State *L) {
     // group
     if (lua_gettop(L) < 1 || !is_group(L, 1)) {
@@ -3290,6 +3323,7 @@
     {killObject,                    "kill"},
     {shuffleGroup,                  "shuffle"},
     {sortGroup,                     "sort"},
+    {subGroup,                      "sub"},
     {0,0}
 };
 

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/ox_peroxyd.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -442,7 +442,7 @@
     "it_cross",                   // 0x3c
     "it_spoon",                   // 0x3d
     IT_MISSING,                   // 0x3e rubber band
-    "it-changefloor",             // 0x3f
+    "it_sensor_exit",             // 0x3f
     "it_trigger",                 // 0x40
     "it_brush",                   // 0x41
     "it_banana",                  // 0x42

Modified: trunk/src/oxyd.cc
===================================================================
--- trunk/src/oxyd.cc	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/oxyd.cc	2009-01-13 21:58:32 UTC (rev 1453)
@@ -361,7 +361,7 @@
     return tt;
 }
 
-Item  *OxydLoader::make_item (int type)
+Item  *OxydLoader::make_item(int type, int x, int y)
 {
 
     Item *it = 0;
@@ -407,10 +407,14 @@
             } else if (key == "it_sensor") {
                 it = MakeItem(key.c_str());
                 it->setAttr("invisible", true);
-            } else if (key == "it_inversesensor") {
+            } else if (key == "it_sensor_inverse") {
                 it = MakeItem("it_sensor");
                 it->setAttr("invisible", true);
                 it->setAttr("inverse", true);
+            } else if (key == "it_sensor_exit") {
+                it = MakeItem("it_sensor_exit");
+                it->setAttr("invisible", true);
+                it->setAttr("target", GetFloor(GridPos(x, y)));
             } else {
                 it = MakeItem(key.c_str());                
             }
@@ -448,8 +452,8 @@
     const Grid &grid = level.getGrid (GridType_Objects);
     for (unsigned y=0; y<grid.getHeight(); ++y)
         for (unsigned x=0; x<grid.getWidth(); ++x)
-            if (Item *it = make_item (grid.get(x,y)))
-                SetItem (GridPos(x, y), it);
+            if (Item *it = make_item(grid.get(x,y), x, y))
+                SetItem(GridPos(x, y), it);
 }
 
 void OxydLoader::load_stones()

Modified: trunk/src/oxyd_internal.hh
===================================================================
--- trunk/src/oxyd_internal.hh	2009-01-13 01:26:53 UTC (rev 1452)
+++ trunk/src/oxyd_internal.hh	2009-01-13 21:58:32 UTC (rev 1453)
@@ -100,7 +100,7 @@
         /* ---------- OxydLoader interface ---------- */
 
         virtual Stone *make_stone (int type, int x, int y);
-        virtual Item  *make_item (int type);
+        virtual Item  *make_item (int type, int x, int y);
 
 
         /* ---------- Variables ---------- */



From ral at mail.berlios.de  Wed Jan 14 22:58:16 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 14 Jan 2009 22:58:16 +0100
Subject: [Enigma-game-svn] r1454 - in trunk: data src
Message-ID: <200901142158.n0ELwGLQ031442@sheep.berlios.de>

Author: ral
Date: 2009-01-14 22:58:15 +0100 (Wed, 14 Jan 2009)
New Revision: 1454

Modified:
   trunk/data/api2init.lua
   trunk/src/WorldProxy.cc
   trunk/src/items.cc
   trunk/src/lua.cc
   trunk/src/server.cc
   trunk/src/server.hh
Log:
Trunk 1.1: new API reengineering
- fix pencils ability to make cross items
- rename OXYD_GREY to OXYD_GRAY
- fix new API global variable "IsDifficult" to keep correct value on
  commandline based mode switches
- group add method "nearest(obj)" - returns the nearest object of the group to
  the given obj


Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/data/api2init.lua	2009-01-14 21:58:15 UTC (rev 1454)
@@ -105,7 +105,7 @@
 OXYD_PURPLE =  5
 OXYD_WHITE  =  6
 OXYD_BLACK  =  7
-OXYD_GREY   =  8
+OXYD_GRAY   =  8
 OXYD_ORANGE =  9
 OXYD_PINE   = 10
 OXYD_BROWN  = 11

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/src/WorldProxy.cc	2009-01-14 21:58:15 UTC (rev 1454)
@@ -63,7 +63,7 @@
         } else if (key == "Height") {
             return Height();
         } else if (key == "IsDifficult") {
-            return (server::GetDifficulty() == DIFFICULTY_HARD);  // read only
+            return server::IsDifficult;  // read only
         } else if (key == "LevelTime") {   
             return server::LevelTime;    // read only
         } else if (key == "ProvideExtralifes") {

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/src/items.cc	2009-01-14 21:58:15 UTC (rev 1454)
@@ -1440,7 +1440,7 @@
                 } else  if (model == "fl_ice") {
                     SetItem (p, MakeItem("it_crack_s"));
                 } else {
-                    SetItem (p, MakeItem("it-cross"));
+                    SetItem (p, MakeItem("it_cross"));
                 }
                 return ITEM_KILL;
             }

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/src/lua.cc	2009-01-14 21:58:15 UTC (rev 1454)
@@ -3069,6 +3069,40 @@
     return pushNewGroup(L, newSort);
 }
 
+static int nearestGroup(lua_State *L) {
+    // group
+    if (lua_gettop(L) < 1 || !is_group(L, 1)) {
+        throwLuaError(L, "Syntax error - usage of '.' instead of ':'");
+        return 0;
+    }
+    if (!(lua_gettop(L) == 2 && is_object(L, 2))) {
+        throwLuaError(L, "Syntax error: expected object reference as first argument");
+        return 0;
+    }
+
+    ObjectList oldList = toObjectList(L, 1);
+    Object *center = to_object(L, 2);
+    double mindist = -1;
+    Object *candidate = NULL;
+    
+    for (ObjectList::iterator itr = oldList.begin(); itr != oldList.end(); ++itr) {
+        if (mindist < 0) {
+            candidate = *itr;
+            mindist = center->squareDistance(candidate);
+        } else {
+            double newdist = center->squareDistance(*itr);
+            
+            // replace last candidate by new closer object, choose a unique candidate
+            if (mindist > newdist || ((mindist == newdist) && (*itr)->isSouthOrEastOf(candidate))) {
+                candidate = *itr;
+                mindist = newdist;
+            }
+        }
+    }
+    pushobject(L, candidate);
+    return 1;
+}
+
 MethodMap polistMethodeMap;
 
 static int dispatchPolistWriteAccess(lua_State *L) {
@@ -3324,6 +3358,7 @@
     {shuffleGroup,                  "shuffle"},
     {sortGroup,                     "sort"},
     {subGroup,                      "sub"},
+    {nearestGroup,                  "nearest"},
     {0,0}
 };
 

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/src/server.cc	2009-01-14 21:58:15 UTC (rev 1454)
@@ -83,6 +83,7 @@
 bool     server::AllowTogglePlayer;
 bool     server::CreatingPreview = false;   // read only for Lua
 bool     server::ConserveLevel;
+bool     server::IsDifficult;               // read only for Lua
 bool     server::IsLevelRestart;            // no Lua access
 bool     server::ProvideExtralifes;
 bool     server::SurviveFinish;
@@ -245,7 +246,7 @@
 void server::PrepareLevel()
 {
     state = sv_waiting_for_clients;
-
+    
     server::NoCollisions = false;
     server::WorldInitialized  = false;
     server::LevelTime         = 0.0;
@@ -290,6 +291,7 @@
 }
 
 void server::PrepareLua() {
+    server::IsDifficult = (GetDifficulty() == DIFFICULTY_HARD);
     // Restart the Lua environment so symbol definitions from
     // different levels do not get in each other's way.
     int api = (server::EnigmaCompatibility < 1.10) ? 1 : 2;
@@ -636,7 +638,7 @@
 {
     lev::Index *ind = lev::Index::getCurrentIndex();
     lev::Proxy *curProxy = ind->getCurrent();
-    int i= app.state->getInt ("Difficulty");
+    int i= app.state->getInt("Difficulty");
     if (i == DIFFICULTY_EASY && !server::CreatingPreview && curProxy->hasEasymode())
         return DIFFICULTY_EASY;
     else

Modified: trunk/src/server.hh
===================================================================
--- trunk/src/server.hh	2009-01-13 21:58:32 UTC (rev 1453)
+++ trunk/src/server.hh	2009-01-14 21:58:15 UTC (rev 1454)
@@ -58,6 +58,7 @@
     // True: do not reset level when player dies
     extern bool     ConserveLevel;
 
+    extern bool     IsDifficult;
     extern bool     IsLevelRestart;
     extern bool     ProvideExtralifes;
     extern bool     SurviveFinish;



From andreasl at mail.berlios.de  Thu Jan 15 20:36:23 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Thu, 15 Jan 2009 20:36:23 +0100
Subject: [Enigma-game-svn] r1455 - feature_branches/hp_lotm/input/articles
Message-ID: <200901151936.n0FJaNgu008124@sheep.berlios.de>

Author: andreasl
Date: 2009-01-15 20:36:19 +0100 (Thu, 15 Jan 2009)
New Revision: 1455

Added:
   feature_branches/hp_lotm/input/articles/eoya_2008_de.html
   feature_branches/hp_lotm/input/articles/eoya_2008_statistics_de.html
Modified:
   feature_branches/hp_lotm/input/articles/eoya_2008.html
   feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html
Log:
LotM Feature branch:
 - EoYA 2008:
    - German translation
    - English proofread


Modified: feature_branches/hp_lotm/input/articles/eoya_2008.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-14 21:58:15 UTC (rev 1454)
+++ feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-15 19:36:19 UTC (rev 1455)
@@ -8,7 +8,7 @@
 <p>During the past month, we asked our dear readers to vote for the best levels
 Enigma has to offer, in five categories. We chose three categories which
 already appeared in the End of Year Awards 2007, and added a pair of
-complimentary categories for this year: The first &quot;Best Meditation&quot;
+complementary categories for this year: The first &quot;Best Meditation&quot;
 and &quot;Best Action Level&quot; awards in Enigma's history.
 Instead of a Level-of-the-Month-January article, we now present the results of
 this poll&mdash;thanks to all voters and gamers out there!</p>
@@ -28,7 +28,7 @@
 <h3>Comments of our Visitors</h3>
 
 <p>We gave you the possibility to state comments and remarks for us at the end
-of the poll, and we were very happy to receive your hortative greets, we really
+of the poll, and we were very happy to receive your hortative greetings, we really
 need this kind of feedback, and so we want to cite an excerpt of the comments
 here (some translated):</p>
 
@@ -42,7 +42,6 @@
 <li>I still can't move the chess-horses up to today :-(
 
 Otherwise: two thumbs up!</li>
-
 <li>The game is super! ;)</li>
 <li>A hearty thank-you to the whole Enigma crew for this splendid work.
 :))))))) Keep it up.</li>
@@ -275,8 +274,8 @@
 </p>
 
 <p>
-A very special thank-you deserves NObby, the author of the majority of this
-year's LotM articles; five of them were written by NObby, and it's his
+A very special thank-you deserves NObby, the author of the majority of 2008's
+LotM articles; five of them were written by NObby, and it's his
 indisputable merit, that the Level-of-the-Month column survived at all! We all
 owe to him our highest respect to step into the breach, when Andreas
 stopped writing articles in March '08. NObby, we all hope to read more articles

Added: feature_branches/hp_lotm/input/articles/eoya_2008_de.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-14 21:58:15 UTC (rev 1454)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-15 19:36:19 UTC (rev 1455)
@@ -0,0 +1,354 @@
+<div class="lotm">
+
+<table border="0">
+<tr><td>
+
+<h2>Jahresendauszeichnungen 2008</h2>
+
+<p>Im Verlauf des letzten Monats, hatten wir unsere werten Leser gebeten, &uuml;ber
+die besten Levels abzustimmen, die Enigma zu bieten hat. Wir w&auml;hlten drei
+Kategorien aus, die bereits aus den Jahresendauszeichnungen 2007 bekannt waren,
+und f&uuml;gten ein Paar komplement&auml;rer Kategorien f&uuml;r dieses Jahr hinzu: Die erste
+&quot;Beste Meditation&quot;- und die erste &quot;Bester Action
+Level&quot;-Auszeichnungen in Enigmas Geschichte. Anstelle eines
+Level-des-Monats-Artikels, pr&auml;sentieren wir nun die Ergebnisse dieser
+Umfrage &ndash; vielen Dank an alle W&auml;hler und Spieler da drau&szlig;en!</p>
+
+</td><td>
+
+<p><img class="leftimage" src="$$imagedir$$/articles/eoya_2008.png"
+alt="EoYA 2008" border="0"></p>
+
+</td></tr>
+</table>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3>Kommentare unserer Besucher</h3>
+
+<p>Wir gaben Ihnen die M&ouml;glichkeit, uns Kommentare und Bemerkungen am Ende der
+Umfrage zu hinterlassen, und wir waren sehr gl&uuml;cklich, Ihre anspornenden Gr&uuml;&szlig;e
+zu erhalten, wir brauchen diese Art von Feedback wirklich, und so wollen wir
+einen Auszug dieser Kommentare hier zitieren (einige &uuml;bersetzt):</p>
+
+<ul>
+<li>Enigma ist Klasse. Echt gro&szlig;artig.
+:))))))))))))))))))))))))))))</li>
+<li>Danke f&uuml;r das tolle Spiel!</li>
+<li>Ich habe diejenigen Levels, die ich nicht beendet habe, lieber nicht
+bewertet; oder die ich noch nicht gespielt habe, deshalb habe ich viele
+&quot;-&quot;-Antworten.
+
+Freue mich auf Enigma 1.10, wenn ich die Foren richtig lese!</li>
+<li>Die Schach-R&ouml;sser kann ich bis zum heutigen Tag nicht bewegen :-(
+
+Ansonsten: two thumbs up!</li>
+<li>Das Spiel ist super! ;)</li>
+<li>Ein herzliches Dankesch&ouml;n an die gesamte Enigma-Crew f&uuml;r ihre
+famose Arbeit. :))))))) Weiter so.</li>
+</ul>
+
+<p>
+Vielen Dank! :-)
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>Und hier sind sie:</p>
+
+<h3><a name="best_meditation">
+Beste Meditation 2008: &quot;Mountain Climbing&quot; von Joseph Dunne
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_a.png"
+       alt="Mountain Climbing, VII/22" border="0">
+
+Mountain Climbing, VII/22</p>
+
+<p>Nachdem er bereits zum <a href="$$eoya_2007$$#funniest_level">Lustigsten
+Level 2007</a> gew&auml;hlt wurde, hat &quot;Mountain Climbing&quot;, Joseph Dunnes
+ausgew&ouml;hnlich einzigartige Sch&ouml;pfung eine weitere Ehrung eingesammelt: Er wurde
+zur Besten Meditation 2008 gew&auml;hlt, mit 3,85 von 5 m&ouml;glichen Punkten weit vor
+&quot;Cold Meditation&quot; (3,59) und &quot;Meditation Puzzle&quot; (3,56).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_action_level">
+Bester Action-Level 2008: &quot;Diving&quot; von Joona Laire
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_b.png" alt="Diving, VII/2" border="0">
+  <div class="imagetitle">Diving, VII/2</div>
+</div>
+
+<p>&quot;Diving&quot; verdient eine besondere Erw&auml;hnung an dieser Stelle:
+W&auml;hrend der Auswertung dieser Wahl, gab es Zeiten, in denen &quot;Diving&quot;
+gleichzeitig in gleich drei Kategorien in f&uuml;hrender Postion lag (und sie auch
+gewonnen h&auml;tte, wenn es um Gesamtpunktzahl ginge und nicht durchschnittliche
+Punktzahl), und er wurde bereits 2007 beinahe zum Lustigsten Level gew&auml;hlt! Ich
+pers&ouml;nlich bin sehr gl&uuml;cklich dar&uuml;ber, dass dieser au&szlig;ergew&ouml;hnliche Level es
+schlie&szlig;lich zum Besten Action-Level 2008 gebracht hat, da Joona Laire den Preis
+mehr als verdient hat, mit 3,61 Punkten vor &quot;Phaeton&quot; (3,48) und
+&quot;A Cooler Spot in Hell&quot; (3,39).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_onescreener">
+Bester Onescreener 2008: &quot;Industrial Puzzles&quot; von Raoul Bourquin
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_c.png"
+       alt="Industrial Puzzles, VI/98" border="0">
+
+Industrial Puzzles, VI/98</p>
+
+<p>&quot;Industrial Puzzles&quot; war der erste Onescreener &uuml;berhaupt, der es
+zum <a href="$$lotm_200810$$">Level des Monats</a> gebracht hat, dies liegt
+zwei Monate zur&uuml;ck. Nun hat er konsequenterweise die Auszeichnungen zum Besten
+Onescreener 2008 erreicht, und dazu noch mit der &uuml;berhaupt h&ouml;chsten Wertung
+w&auml;hrend dieser Jahresendauszeichnungswahlen, mit 4,18 Punkten steckt Raoul
+Bourquin sein Revier gegen&uuml;ber &quot;Plan Ahead&quot; (3,71) und &quot;What a
+Mess&quot; (3,65) ab.
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_design">
+Bestes Design 2008: &quot;Temple of Gold&quot; von Jacob Scott
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_d.png"
+       alt="Temple of Gold, VII/24" border="0">
+
+Temple of Gold, VII/24</p>
+
+<p>Jacob Scotts &quot;Temple of Gold&quot;, <a href="$$lotm_200712$$">Level des
+Monats Dezember 2007</a>, ist unzweifelhaft einer der besten Levels in Enigma,
+ist der diesj&auml;hrige Preistr&auml;ger in der Kategorie &quot;Bestes Design&quot; und
+hat f&uuml;r diesen Sieg volle 4,04 Punkte eingesammelt. Er wird gefolgt vom Level
+des Jahres 2007 &quot;Island Labyrinth&quot; (3,79), und dem bereits erw&auml;hnten
+&quot;Diving&quot; (3,61).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="funniest_level">
+Lustigster Level 2008: &quot;What's the Problem?&quot; von Sven Siggelkow
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_e.png" alt="What's the Problem?, IV/49" border="0">
+  <div class="imagetitle">What's the Problem?, IV/49</div>
+</div>
+
+<p>Sven Siggelkows &quot;What's the Problem?&quot;, einer der &uuml;berraschendsten
+Levels in Enigma, wird hiermit in den Rang des Lustigsten Levels 2008 gehoben!
+Mit 3,39 Punkten &uuml;berlistet er &quot;Pac Marble&quot; (3,33) und sogar
+&quot;Diving&quot; (3,31). Der Spieler sagt: Das ist definitiv verdient!
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>Und nun zur wichtigsten Kategorie:</p>
+
+<h3><a name="loty">
+Level des Jahres 2008: &quot;Houdini&quot; von Ronald Lamprecht!
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_f.png"
+       alt="Houdini, VI/74" border="0">
+
+Houdini, VI/74</p>
+
+<p>Zum Jahresende 2008 konnten nur vier Levels die magische
+9-Wertungspunkte-Linie &uuml;berwinden: &quot;Houdini&quot;, das mit 9,36 Punkten
+abschlo&szlig;,  &quot;Island Labyrinth&quot; und &quot;Temple of Gold&quot;,
+die sich  mit 9,27 Punkten den zweiten Platz teilen, und
+&quot;Quadropolis&quot;, die  erste Gemeinschaftsproduktion mehrerer Autoren
+(CEL I), mit einer Wertung von 9,17 &mdash;  das ist die Cr&egrave;me de la
+Cr&egrave;me von Enigmas herausragenden Leveln,  und von diesen vieren, werte
+Leser, ist von Ihnen als bester Level des Jahres 2008 &quot;Houdini&quot;
+gek&uuml;rt worden, und somit ist der Levelautor des Jahres 2008 Ronald
+Lamprecht. Jacob Scott, der den hei&szlig; begehrten Titel im vergangenen Jahr
+erobern konnte, hat sich gl&uuml;cklicherweise bereit erkl&auml;rt die Laudatio
+auf das phantastische St&uuml;ck an Schaffenskunst seines Nachfolgers zu halten:
+</p>
+
+<div class="quote">
+Ah, Houdini &hellip; dieser Level ist mir noch lebhaft in Erinnerung. 
+Die meisten Puzzles in Enigma erfordern ein gewisses Ma&szlig; an Cleverness 
+f&uuml;r die L&ouml;sung, aber es gibt auch Puzzles wie dieses, bei denen nicht nur 
+Cleverness, sondern auch Kreativit&auml;t gefragt sind, nicht nur vom Spieler
+f&uuml;r die L&ouml;sung, sondern ebenso vom Autor w&auml;hrend der Entwicklung.
+Dadurch, dass es f&uuml;r den Spieler nicht offensichtlich ist, was er denn genau 
+wann, wo und wie zu tun hat, wird eine Spielatmosph&auml;re ganz besonderer Art erzeugt.
+Der Name &quot;Houdini&quot; beschreibt das Puzzle vortefflich. Genauso 
+wie in den Tricks von Houdini, bei denen er sich nacheinander von zahlreichen
+unterschiedlichen Fesseln und Hemmnissen befreien muss, findet sich der Spieler
+w&auml;hrend der gesammenten Erkundundungsreise durch den Level &mdash; kaum dass es ihm gelungen
+ist, sich aus einer Unp&auml;sslichkeit zu befreien &mdash; immer wieder vor neue Hindernisse 
+gestellt. Und dies bewirkt, dass der Level vom Anfang bis zum Ende eine best&auml;ndige
+Herausforderung darstellt &mdash; und somit auch ein H&ouml;chstma&szlig; an
+Spielfreude bereitet.
+</div>
+
+<div class="quote">
+Ich finde, dass ein wesentliches Merkmal, das die unterhaltsamsten, 
+am h&ouml;chsten bewerteten Levels von Enigma auszeichnet, wie den hier 
+vorliegenden, die Notwendigkeit ist, zu erkunden und zu experimentieren.
+Dies war ganz sicherlich zutreffend f&uuml;r den letzten Level des Jahres, 
+mein &quot;Island Labyrinth&quot;, wo lange gr&auml;serne Korridore zu verschiedenen
+kleineren Puzzles hinf&uuml;hren. Aber ganz genauso trifft dies auch auf den 
+diesj&auml;hrigen Level des Jahres zu; Anstelle der Erforschung einer weit 
+ausgedehnten Landschaft, erfordert die L&ouml;sung dieses Puzzles wirklich 
+die Erforschung aller Wechselwirkungen zwischen den vorhandenen Objekten. 
+Der Level mag nicht allzu gro&szlig; sein, nur zwei Screens, aber die 
+potentielle Anzahl an verschiedenen L&ouml;sungsans&auml;tzen ist gewaltig. In der 
+Tat glaube ich, dass dies auf viele der siegreichen Levels dieses Jahr 
+zutrifft; Jeder einzelne pr&auml;sentiert dem Spieler eine Vielzahl 
+verschiedener Optionen, sei es den L&ouml;sungsweg betreffend oder die 
+Anwendung bestimmter Elemente, und bietet eine komplexe Aufgabe, die sich
+ganz offensichtlich allein mit den vorhandenen Objekten nicht l&ouml;sen l&auml;sst,
+in welcher Konfiguration auch immer, die sich aber dennoch mit etwas
+Einfallsreichtum bew&auml;ltigen l&auml;sst. Das ist schon ein Unterschied zu 
+Puzzles, bei denen es lediglich darum geht, die gegebenen Teile in 
+einer bestimmten Reihenfolge aufzubauen, und sie in der erwarteten Weise
+zu verwenden &mdash; wie beispielsweise bei einem &quot;Blocks and Water&quot; oder
+einem &quot;Lasers and Mirrors&quot; Puzzle. Obwohl nat&uuml;rlich auch solche Level Spa&szlig;
+machen, k&ouml;nnen sie aber mit den &quot;Levels des Jahres&quot; nicht konkurrieren, 
+aufgrund dieser einen ganz besonderen Eigenschaft dieser Landschaften: Sie
+vermitteln einem das Gef&uuml;hl auf einer Entdeckungsreise zu sein.
+</div>
+
+<div class="quote">
+Die diesj&auml;hrige Auszeichnung f&uuml;r den &quot;Level des Jahres&quot; geht an einen
+gro&szlig;artigen Levelautoren, der im Verlauf der letzten Jahre viele 
+Landschaften von au&szlig;ergew&ouml;hnlicher Qualit&auml;t geschaffen hat. Die meisten 
+seiner Level beruhen auf einem einzigartigem Konzept oder Schema, das 
+bisher noch nirgendwo anders zu sehen war &mdash; als Ergebnis davon 
+erscheinen sie zun&auml;chst beinahe unl&ouml;sbar zu sein bis man schlie&szlig;lich 
+den Schl&uuml;ssel zur L&ouml;sung gefunden hat, die sich dann in all ihrer 
+Eleganz vor dem Spieler entfaltet. Der Level des Jahres 2008 ist einer
+von den Leveln, durch die ein Geist von Erforschung und Neuerung weht, 
+und genau das ist es, warum es sich so sehr lohnt, den Level schlie&szlig;lich 
+doch gel&ouml;st zu haben.
+</div>
+
+<div class="author">
+Jacob Scott, Levelautor des Jahres 2007
+</div> 
+
+Vielleicht m&ouml;chten Sie den Artikel &uuml;ber &quot;Houdini&quot; noch einmal lesen,
+Sie finden ihn <a href="$$lotm_200712$$">hier</a>.
+
+<h3>Wir kommen zum Ende &hellip;</h3>
+
+<p>Mit diesen Worten beschlie&szlig;en wir unsere zweite Level-des-Monats-Serie, und
+gerade so wie letztes Jahr, ist es f&uuml;r uns an der Zeit, uns bei all den
+Kommentatoren und Autoren zu bedanken, die uns durch das letzte Jahr hindurch
+unterst&uuml;tzt haben, unser Dank geht an
+Ryujun,
+Daydreamer,
+Ronald Lamprecht,
+Manuel K&ouml;nig,
+Tarim,
+Craven,
+Taztunes,
+Shoki,
+Mecke,
+JuSt,
+dev0,
+Moneymaker,
+Mark P.,
+Brynn,
+Dominik Leipold,
+Martin,
+und Xang
+f&uuml;r ihre Kommentare. Besonderer Dank geht an Ludmian Sedai, der den
+fantastischen Artikel &uuml;ber moonpearl's <a href="$$lotm_200807$$">&quot;Gods of
+Enigma II&quot;</a> verfasst hat; ebenso wie an Clifford J. Tasner, der, obwohl
+besch&auml;ftigt mit den immens wichtigen Wahlen zum Du-Wei&szlig;t-Schon-Wen, stets etwas
+Zeit f&uuml;r uns gefunden hat, unser Englisch testzulesen und uns mit Kommentaren
+zu versorgen. Ganz gro&szlig;er Dank geht an Yurij und Ludmian, die die immense Menge
+an Artikeln, die diese Homepage produziert, ins Russische &uuml;bersetzt haben.
+Unser Dank geht an Alain Busser f&uuml;r seinen wundervollen Artikel &uuml;ber <a
+href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>, und an Mecke,
+der uns mit Artikeln f&uuml;r die neue &quot;Gemurmel!&quot;-Kolumne versorgt hat
+&ndash; die nat&uuml;rlich dieses Jahr fortsetzen werden.</p>
+
+<p>
+Ein besonderes Danke-Sch&ouml;n gilt NObby, dem Autor der Mehrzahl der LdM-Artikel
+in 2008; f&uuml;nf von ihnen stammen aus NObbys Feder, und ohne seine unumstrittenen
+Verdienste h&auml;tte die LdM-Kolumne garnicht &uuml;berlebt! Er verdient unseren
+h&ouml;chsten Respekt, als er in die Bresche sprang, die Andreas hinterlie&szlig;, als er
+im M&auml;rz '08 aufgeh&ouml;rt hat, Artikel zu schreiben. NObby, wir alle hoffen, noch
+mehr Artikel von Dir lesen zu k&ouml;nnen!
+</p>
+
+<p>
+Nat&uuml;rlich gilt unser Dank auch den Autoren der neun exzellenten Levels:
+Raoul Bourquin,
+Sven Siggelkow,
+Ronald Lamprecht,
+Jacob Scott,
+Jon 'WB' Sneyers,
+Moonpearl,
+und Lukas Sch&uuml;ller,
+ohne deren Levels es keinen Level-des-Monats gegeben h&auml;tte; danke an Euch, f&uuml;r
+Eure best&auml;ndige Arbeit, und danke auch an all die anderen Levelautoren! Wie
+Daniel Heck gesagt hat:
+</p>
+
+<div class="quote">
+<b>Es sind wirklich die Levels, die uns belohnen, nicht anders herum.</b>
+</div>
+
+<p>
+Unser Dank geht an Daniel Heck, an Meinolf Schneider, und an die aktuellen
+Entwickler von Enigma, insbesondere Ronald Lamprecht und Raoul Bourquin. Es
+gibt keinen Grund, ihre Beitr&auml;ge herauszuarbeiten, wir alle kennen ihre Namen,
+und dass ohne ihre harte Arbeit in Vergangenheit und Gegenwart Enigma nicht
+existieren und nicht derart bl&uuml;hen w&uuml;rde, wie es das heute tut.
+</p>
+
+<div class="lotmpic">
+  <a href="$$imagedir$$/lotm/lotm-history.png">
+  <img src="$$imagedir$$/lotm/lotm-thumbnail.png" alt="$$lotm_history$$" border="0">
+  </a>
+  <div class="imagetitle">
+    <a href="$$imagedir$$/lotm/lotm-history.png">
+    $$lotm_history$$
+    </a>
+  </div>
+</div>
+
+<p>Sie k&ouml;nnen die aktuellen Statistiken unserer neunzehn LdMs im <a
+href="$$lotm$$">LdM-Archiv</a> finden, und die genauen statistischen Ergebnisse
+der Abstimmung finden Sie <a href="$$eoya_2008_statistics$$">hier</a>.</p>
+  
+<p>Bis dann,<br>
+<i>Andreas &amp; Harry</i></p>
+
+</div>
+

Modified: feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html	2009-01-14 21:58:15 UTC (rev 1454)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html	2009-01-15 19:36:19 UTC (rev 1455)
@@ -6,9 +6,9 @@
 
 <h3>Best Meditation</h3>
 
-<p>Meditation levels constitute a game on its own within Enigma, they appear on
-a regular basis and help the gamer to relax once and a while. But some
-meditations provide extraordinary tasks by themselves, here are our nominated
+<p>Meditation levels constitute a game of their own within Enigma. They appear on
+a regular basis and help the gamer to relax once in a while. But some
+meditations demand extraordinary tasks by themselves. Here are our nominated
 best meditations.</p>
 
 <p>You can give each level 1 up to 5 points, 5 is the best. Vote with
@@ -54,9 +54,9 @@
 
 <h3>Best Action Level</h3>
 
-<p>Jumping, speed, mouse acrobatics&mdash;that's one of the pillars of Enigmas
-gameplay. Yet, when it comes to determining the best levels, these aspects often
-take a back seat against the puzzles. But this year, we want to honor the best
+<p>Jumping, speed, mouse acrobatics&mdash;these are some of the pillars of
+Enigma gameplay. Yet, when it comes to determining the best levels, these aspects often
+take a back seat to the puzzles. But this year, we want to honor the best
 levels of this genre as well!</p>
 
 <p>In total 30 votes plus 25 empty votes.</p>
@@ -102,9 +102,9 @@
 
 <h3>Best Onescreener</h3>
 
-<p>Levels, which comprise of only one screen, have difficulties to become Level
-of the Month. Yet, there are many pearls in this category, which earn to be
-celebrated.</p>
+<p>It is difficult and rare for One-Screen-Levels to become Level of the Month.
+Yet, there are many pearls in this category, which deserve to be celebrated.
+</p>
 
 <p>In total 29 votes plus 26 empty votes.</p>
 
@@ -193,8 +193,8 @@
 
 <h3>Funniest Level (6/7)</h3>
 
-<p>Some levels stand out by their original, amusing or surprising gameplay, they
-present the light, gladly played entertainment in Enigma.</p>
+<p>Some levels stand out by their original, amusing or surprising gameplay. They
+offer light, joyfully-played entertainment in Enigma.</p>
 
 <p>In total 30 votes plus 24 empty votes.</p>
 
@@ -247,10 +247,10 @@
 
 <h3>Date statistics</h3>
 
-Please note that this table (in contrast to all preceding ones) additionally
+<p>Please note that this table (in contrast to all preceding ones) additionally
 counts corrections to existing entries. The column &quot;Question X&quot; states
 how many users clicked on one of the submit-buttons in the corresponding
-questionnaire.
+questionnaire.</p>
 
 <table border=1>
 <tr><th align=right><b>Date</b></th><th align=right><b>Entries</b></th><th align=right>Question 1</th><th align=right>Question 9</th></tr>

Added: feature_branches/hp_lotm/input/articles/eoya_2008_statistics_de.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_statistics_de.html	2009-01-14 21:58:15 UTC (rev 1454)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_statistics_de.html	2009-01-15 19:36:19 UTC (rev 1455)
@@ -0,0 +1,329 @@
+
+<h2>Jahresendauszeichnungen 2008 - Pure Statistiken</h2>
+
+<p><a href="$$eoya_2008$$">Zur&uuml;ck zum Artikel.</a></p>
+
+<h3>Beste Meditation</h3>
+
+<p>Meditationslevels bilden ein Spiel f&uuml;r sich innerhalb von Enigma, sie
+erscheinen regelm&auml;&szlig;ig und helfen dem Spieler, sich wieder zu entspannen. Aber
+manche Meditationen liefern au&szlig;ergew&ouml;hnliche Aufgabenstellung ganz aus sich
+selbst heraus, hier sind unsere nominierten besten Meditationen.</p>
+
+<p>Sie k&ouml;nnen jedem Level zwischen 1 und 5 Punkten geben, 5 ist die beste
+Wertung. Stimmen Sie mit &quot;-&quot;, wenn Sie den Level nicht kennen oder
+nicht bewerten wollen.</p>
+
+<p>Insgesamt 30 Stimmen zuz&uuml;glich 34 leere Stimmen.</p>
+
+<table border=1>
+<tr><th align=right>Punkte</th><th align=right>Stimmen</th>
+<th align=right><b>Durchschnitt</b></th>
+<th align=left></th></tr>
+<tr><td align=right>104</td><td align=right>27</td><td align=right>3.852</td><td align=left>Mountain Climbing (VII/22) {joe10_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>17</td><td align=right>3.588</td><td align=left>Cold Meditation (VII/21) {ral18_1}</td></tr>
+
+<tr><td align=right>96</td><td align=right>27</td><td align=right>3.556</td><td align=left>Meditation Puzzle (IV/20) {duffy01_1}
+</td></tr>
+<tr><td align=right>84</td><td align=right>25</td><td align=right>3.360</td><td align=left>V/20 (V/20) {ralf12_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>26</td><td align=right>3.077</td><td align=left>Shrinking Pits (V/10) {duffy23_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>24</td><td align=right>3.000</td><td align=left>Group Trip to Meditation (VI/90) {duffy136_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>24</td><td align=right>2.958</td><td align=left>Space Meditation (II/40) {duffy59_1}
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Catwalk Meditation V/ (V/80) {ral05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>26</td><td align=right>2.731</td><td align=left>IV/30 (IV/30) {ant23_1}
+
+</td></tr>
+<tr><td align=right>70</td><td align=right>26</td><td align=right>2.692</td><td align=left>Hot Meditation VI/ (VI/50) {ral08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>26</td><td align=right>2.654</td><td align=left>Snow White (III/40) {ant15_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>26</td><td align=right>2.615</td><td align=left>Bad Flowers (III/60) {nat30_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Bester Action-Level</h3>
+
+<p>Springen, Geschwindigkeit, Mausakrobatik - das ist eine der S&auml;ulen von
+Enigmas Spielerlebnis. Wenn es jedoch darum geht, die besten Levels zu
+bestimmen, treten diese Aspekte oft in den Hintergrund gegen&uuml;ber den
+R&auml;tselleveln. Aber dieses Jahr wollen wir auch die besten Levels diesen Genres
+ehren!</p>
+
+<p>Insgesamt 30 Stimmen zuz&uuml;glich 25 leere Stimmen.</p>
+
+<table border=1>
+<tr><th align=right>Punkte</th><th align=right>Stimmen</th>
+<th align=right><b>Durchschnitt</b></th>
+<th align=left></th></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+
+</td></tr>
+<tr><td align=right>73</td><td align=right>21</td><td align=right>3.476</td><td align=left>Phaeton (VI/35) {andreas39_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>18</td><td align=right>3.389</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>79</td><td align=right>24</td><td align=right>3.292</td><td align=left>Rush Hour Traffic (III/44) {duffy62_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>21</td><td align=right>3.286</td><td align=left>Revolver (VI/71) {ral16_1}
+
+</td></tr>
+<tr><td align=right>63</td><td align=right>20</td><td align=right>3.150</td><td align=left>Caribbean Waters (VII/4) {duffy139_1}
+</td></tr>
+<tr><td align=right>78</td><td align=right>25</td><td align=right>3.120</td><td align=left>Mourning Palace (IV/38) {ant08_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>23</td><td align=right>2.957</td><td align=left>Think Fast (III/88) {duffy85_2}</td></tr>
+<tr><td align=right>73</td><td align=right>26</td><td align=right>2.808</td><td align=left>Unfair! (III/99) {ant33_1}
+
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Snakes (I/5) {duffy19_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>23</td><td align=right>2.739</td><td align=left>Humid Maze (V/43) {duffy133_2}
+</td></tr>
+<tr><td align=right>64</td><td align=right>24</td><td align=right>2.667</td><td align=left>Run Like Hell (IV/57) {ralf09_1}
+</td></tr>
+<tr><td align=right>58</td><td align=right>22</td><td align=right>2.636</td><td align=left>Black Diamond Course (III/41) {duffy28_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>Comet (VII/3) {duffy147_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Bester Onescreener</h3>
+
+<p>Level, die sich nur &uuml;ber einen Bildschirm erstrecken, haben es schwer, zum
+Level des Monats gew&auml;hlt zu werden. Und doch gibt es viele Perlen in dieser
+Kategorie, die es besonders verdienen, gefeiert zu werden.</p>
+
+<p>Insgesamt 29 Stimmen zuz&uuml;glich 26 leere Stimmen.</p>
+
+<table border=1>
+
+<tr><th align=right>Punkte</th><th align=right>Stimmen</th>
+<th align=right><b>Durchschnitt</b></th>
+<th align=left></th></tr>
+<tr><td align=right>92</td><td align=right>22</td><td align=right>4.182</td><td align=left>Industrial Puzzles (VI/98) {raoul30_2}
+</td></tr>
+<tr><td align=right>89</td><td align=right>24</td><td align=right>3.708</td><td align=left>Plan Ahead (V/21) {duffy114_2}
+</td></tr>
+<tr><td align=right>95</td><td align=right>26</td><td align=right>3.654</td><td align=left>What a Mess (IV/58) {duffy68_2}
+
+</td></tr>
+<tr><td align=right>90</td><td align=right>25</td><td align=right>3.600</td><td align=left>Procrustes (VI/36) {andreas34_1}
+</td></tr>
+<tr><td align=right>86</td><td align=right>24</td><td align=right>3.583</td><td align=left>Laser Path (V/4) {andreas06_1}</td></tr>
+<tr><td align=right>71</td><td align=right>20</td><td align=right>3.550</td><td align=left>Protected Exhibition (VII/16) {duffy156_1}
+</td></tr>
+<tr><td align=right>76</td><td align=right>22</td><td align=right>3.455</td><td align=left>Tandem Chess (VI/86) {luc34_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>22</td><td align=right>3.273</td><td align=left>Laser Splitting (VI/6) {luc29_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>19</td><td align=right>3.263</td><td align=left>Red Herrings (VI/14) {andy01_3}
+</td></tr>
+<tr><td align=right>70</td><td align=right>23</td><td align=right>3.043</td><td align=left>Laser Tricks (III/55) {duffy84_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>19</td><td align=right>2.947</td><td align=left>Polar Bears' Paradise (VI/99) {ral19_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>57</td><td align=right>22</td><td align=right>2.591</td><td align=left>Magic Trinity (VI/81) {duffy146_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Bestes Design</h3>
+
+<p>Nicht allein mit R&auml;tseln und Herausforderungen mag ein Level zu beeindrucken,
+sondern manchmal auch mit blo&szlig;er Sch&ouml;nheit f&uuml;rs Auge, mit Eleganz und
+Originalit&auml;t.</p>
+
+<p>Insgesamt 30 Stimmen zuz&uuml;glich 25 leere Stimmen.</p>
+
+<table border=1>
+<tr><th align=right>Punkte</th><th align=right>Stimmen</th>
+<th align=right><b>Durchschnitt</b></th>
+<th align=left></th></tr>
+<tr><td align=right>93</td><td align=right>23</td><td align=right>4.043</td><td align=left>Temple of Gold (VII/24) {duffy151_3}
+</td></tr>
+<tr><td align=right>91</td><td align=right>24</td><td align=right>3.792</td><td align=left>Island Labyrinth (V/100) {duffy129_1}
+
+</td></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>26</td><td align=right>3.577</td><td align=left>Gods of Enigma II (V/69) {mp02_1}
+</td></tr>
+<tr><td align=right>85</td><td align=right>24</td><td align=right>3.542</td><td align=left>Elaborate (V/65) {duffy126_1}
+</td></tr>
+<tr><td align=right>82</td><td align=right>24</td><td align=right>3.417</td><td align=left>Turnstiles for Two (VI/77) {ral17_2}</td></tr>
+
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>Flood Gates (IV/17) {nat08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>22</td><td align=right>3.136</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>73</td><td align=right>25</td><td align=right>2.920</td><td align=left>Solar System (II/39) {duffy98_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>22</td><td align=right>2.864</td><td align=left>Temple of Ganesha (VII/8) {duffy154_1}
+
+</td></tr>
+<tr><td align=right>66</td><td align=right>25</td><td align=right>2.640</td><td align=left>Laserpowered (VI/41) {raoul20_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>25</td><td align=right>2.520</td><td align=left>Bright Dots (III/38) {raoul09_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>26</td><td align=right>2.154</td><td align=left>Sleeping Serpent (IV/59) {raoul10_1}
+</td></tr>
+<tr><td align=right>47</td><td align=right>23</td><td align=right>2.043</td><td align=left>be quick or be dead (VI/54) {illmind12_1}
+
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Lustigster Level</h3>
+
+<p>Manche Levels stechen durch ihre originelle, am&uuml;sante oder &uuml;berraschende Art
+besonders hervor, sie bilden die eher leichte, gern gespielte Unterhaltung in
+Enigma.</p>
+
+<p>Insgesamt 30 Stimmen zuz&uuml;glich 24 leere Stimmen.</p>
+
+<table border=1>
+<tr><th align=right>Punkte</th><th align=right>Stimmen</th>
+<th align=right><b>Durchschnitt</b></th>
+
+<th align=left></th></tr>
+<tr><td align=right>88</td><td align=right>26</td><td align=right>3.385</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>24</td><td align=right>3.333</td><td align=left>Pac Marble (VI/5) {andreas22_1}
+</td></tr>
+<tr><td align=right>96</td><td align=right>29</td><td align=right>3.310</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>75</td><td align=right>25</td><td align=right>3.000</td><td align=left>Coloured Doors (III/8) {luc03_1}</td></tr>
+
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Oxyd Drilling (VI/92) {duffy140_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Pontoon bridges (VI/82) {duffy137_1}
+</td></tr>
+<tr><td align=right>66</td><td align=right>23</td><td align=right>2.870</td><td align=left>The Turtle (III/45) {ant05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>25</td><td align=right>2.840</td><td align=left>Enigris (V/92) {ralf04_1}
+
+</td></tr>
+<tr><td align=right>65</td><td align=right>23</td><td align=right>2.826</td><td align=left>Tarzan (VI/56) {ulf03_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>23</td><td align=right>2.783</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>23</td><td align=right>2.696</td><td align=left>Help Yourself (V/79) {duffy113_1}
+</td></tr>
+<tr><td align=right>55</td><td align=right>23</td><td align=right>2.391</td><td align=left>Antimaze (IV/7) {luc02_2}
+
+</td></tr>
+<tr><td align=right>56</td><td align=right>24</td><td align=right>2.333</td><td align=left>Kaleidoscope (II/22) {duffy118_1}
+</td></tr>
+<tr><td align=right>48</td><td align=right>22</td><td align=right>2.182</td><td align=left>Confetti (I/78) {duffy74_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>Sprachverh&auml;ltnis</h3>
+
+<ul>
+<li>Englisch: 130</li>
+<li>Deutsch: 153</li>
+<li>Russisch: 10</li>
+<li><b>Insgesamt: 293</b></li></ul>
+
+<h3>Datums-Statistik</h3>
+
+<p>Bitte beachten Sie, dass diese Tabelle (im Gegensatz zu allen vorherigen)
+auch Eintragskorrekturen gesondert als Eintrag mitz&auml;hlt. Die Spalte
+&quot;Frage X&quot; gibt dabei an, wieviele Nutzer auf einen der
+Best&auml;tigungs-Kn&ouml;pfe im entsprechenden Fragebogen gedr&uuml;ckt haben.
+</p>
+
+<table border=1>
+<tr><th align=right><b>Datum</b></th><th align=right><b>Eintr&auml;ge</b></th><th align=right>Frage 1</th><th align=right>Frage 9</th></tr>
+<tr><td align=right>2008-12-01</td><td align=right>28</td>
+<td align=right>5</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-02</td><td align=right>99</td>
+<td align=right>20</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-03</td><td align=right>16</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-04</td><td align=right>40</td>
+
+<td align=right>8</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-05</td><td align=right>20</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-06</td><td align=right>16</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-07</td><td align=right>10</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-08</td><td align=right>27</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-09</td><td align=right>1</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-11</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-12</td><td align=right>17</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-14</td><td align=right>1</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-16</td><td align=right>5</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-17</td><td align=right>5</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-18</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-19</td><td align=right>6</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-20</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-21</td><td align=right>2</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right><b>Summe</b></td><td align=right>326</td>
+
+<td align=right>64</td>
+<td align=right>0</td></tr>
+</table>
+
+<p><a href="$$eoya_2008$$">Zur&uuml;ck zum Artikel.</a></p>
+



From ral at mail.berlios.de  Thu Jan 15 23:42:03 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 15 Jan 2009 23:42:03 +0100
Subject: [Enigma-game-svn] r1456 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/stones
Message-ID: <200901152242.n0FMg33u027706@sheep.berlios.de>

Author: ral
Date: 2009-01-15 23:42:00 +0100 (Thu, 15 Jan 2009)
New Revision: 1456

Added:
   trunk/data/gfx32/st_ancient.png
   trunk/data/gfx32/st_bluegray.png
   trunk/data/gfx32/st_brownie.png
   trunk/data/gfx32/st_brownmarble.png
   trunk/data/gfx32/st_brownpyramide.png
   trunk/data/gfx32/st_camouflage.png
   trunk/data/gfx32/st_concrete.png
   trunk/data/gfx32/st_darkgray.png
   trunk/data/gfx32/st_granite.png
   trunk/data/gfx32/st_greengray.png
   trunk/data/gfx32/st_metal.png
   trunk/data/gfx32/st_pinkbumps.png
   trunk/data/gfx32/st_purplegray.png
   trunk/data/gfx32/st_purplemarble.png
   trunk/data/gfx32/st_redbrown.png
   trunk/data/gfx32/st_redmarble.png
   trunk/data/gfx32/st_redrock.png
   trunk/data/gfx32/st_tigris.png
   trunk/data/gfx32/st_woven.png
   trunk/data/gfx32/st_yellow.png
   trunk/data/gfx40/st_ancient.png
   trunk/data/gfx40/st_bluegray.png
   trunk/data/gfx40/st_brownie.png
   trunk/data/gfx40/st_brownmarble.png
   trunk/data/gfx40/st_brownpyramide.png
   trunk/data/gfx40/st_camouflage.png
   trunk/data/gfx40/st_concrete.png
   trunk/data/gfx40/st_darkgray.png
   trunk/data/gfx40/st_granite.png
   trunk/data/gfx40/st_greengray.png
   trunk/data/gfx40/st_metal.png
   trunk/data/gfx40/st_pinkbumps.png
   trunk/data/gfx40/st_purplegray.png
   trunk/data/gfx40/st_purplemarble.png
   trunk/data/gfx40/st_redbrown.png
   trunk/data/gfx40/st_redmarble.png
   trunk/data/gfx40/st_redrock.png
   trunk/data/gfx40/st_tigris.png
   trunk/data/gfx40/st_woven.png
   trunk/data/gfx40/st_yellow.png
   trunk/data/gfx48/st_ancient.png
   trunk/data/gfx48/st_bluegray.png
   trunk/data/gfx48/st_brownie.png
   trunk/data/gfx48/st_brownmarble.png
   trunk/data/gfx48/st_brownpyramide.png
   trunk/data/gfx48/st_camouflage.png
   trunk/data/gfx48/st_concrete.png
   trunk/data/gfx48/st_darkgray.png
   trunk/data/gfx48/st_granite.png
   trunk/data/gfx48/st_greengray.png
   trunk/data/gfx48/st_metal.png
   trunk/data/gfx48/st_pinkbumps.png
   trunk/data/gfx48/st_purplegray.png
   trunk/data/gfx48/st_purplemarble.png
   trunk/data/gfx48/st_redbrown.png
   trunk/data/gfx48/st_redmarble.png
   trunk/data/gfx48/st_redrock.png
   trunk/data/gfx48/st_tigris.png
   trunk/data/gfx48/st_woven.png
   trunk/data/gfx48/st_yellow.png
   trunk/src/stones/StandardStones.cc
   trunk/src/stones/StandardStones.hh
Removed:
   trunk/data/gfx32/st-bluegray.png
   trunk/data/gfx32/st-brownie.png
   trunk/data/gfx32/st-bumps.png
   trunk/data/gfx32/st-camouflage.png
   trunk/data/gfx32/st-marble.png
   trunk/data/gfx32/st-metal.png
   trunk/data/gfx32/st-redrock.png
   trunk/data/gfx32/st-rock1.png
   trunk/data/gfx32/st-rock10.png
   trunk/data/gfx32/st-rock2.png
   trunk/data/gfx32/st-rock4.png
   trunk/data/gfx32/st-rock5.png
   trunk/data/gfx32/st-rock6.png
   trunk/data/gfx32/st-rock7.png
   trunk/data/gfx32/st-rock8.png
   trunk/data/gfx32/st-rock9.png
   trunk/data/gfx32/st-stone1.png
   trunk/data/gfx32/st-stone2.png
   trunk/data/gfx32/st-woven.png
   trunk/data/gfx32/st-yellow.png
   trunk/data/gfx40/st-bluegray.png
   trunk/data/gfx40/st-brownie.png
   trunk/data/gfx40/st-bumps.png
   trunk/data/gfx40/st-camouflage.png
   trunk/data/gfx40/st-marble.png
   trunk/data/gfx40/st-metal.png
   trunk/data/gfx40/st-redrock.png
   trunk/data/gfx40/st-rock1.png
   trunk/data/gfx40/st-rock10.png
   trunk/data/gfx40/st-rock2.png
   trunk/data/gfx40/st-rock4.png
   trunk/data/gfx40/st-rock5.png
   trunk/data/gfx40/st-rock6.png
   trunk/data/gfx40/st-rock7.png
   trunk/data/gfx40/st-rock8.png
   trunk/data/gfx40/st-rock9.png
   trunk/data/gfx40/st-stone1.png
   trunk/data/gfx40/st-stone2.png
   trunk/data/gfx40/st-woven.png
   trunk/data/gfx40/st-yellow.png
   trunk/data/gfx48/st-bluegray.png
   trunk/data/gfx48/st-brownie.png
   trunk/data/gfx48/st-bumps.png
   trunk/data/gfx48/st-camouflage.png
   trunk/data/gfx48/st-marble.png
   trunk/data/gfx48/st-metal.png
   trunk/data/gfx48/st-redrock.png
   trunk/data/gfx48/st-rock1.png
   trunk/data/gfx48/st-rock10.png
   trunk/data/gfx48/st-rock2.png
   trunk/data/gfx48/st-rock4.png
   trunk/data/gfx48/st-rock5.png
   trunk/data/gfx48/st-rock6.png
   trunk/data/gfx48/st-rock7.png
   trunk/data/gfx48/st-rock8.png
   trunk/data/gfx48/st-rock9.png
   trunk/data/gfx48/st-stone1.png
   trunk/data/gfx48/st-stone2.png
   trunk/data/gfx48/st-woven.png
   trunk/data/gfx48/st-yellow.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.hh
   trunk/src/stones/QuakeStone.hh
Log:
Trunk 1.1: new API reengineering
- standard stone renaming:
  - st-rock1 -> st_granite
  - st-rock1_hole -> st_granite_hollow
  - st-rock1_move -> st_granite_movable
  - st-rock2 -> st_darkgray
  - st-rock2_hole -> st_darkgray_hollow
  - st-rock4 -> st_purplemarble
  - st-rock5 -> st_tigris
  - st-rock6 -> st_purplegray
  - st-rock7 -> st_greengray
  - st-rock8 -> st_concrete
  - st-rock9 -> st_ancient
  - st-rock10 -> st_brownmarble
  - st-stone1 -> st_brownpyramide
  - st-stone2 -> st_redmarble
  - st-bluegray -> st_bluegray
  - st-bluegray_hole -> st_bluegray_hollow
  - st-brownie -> st_brownie
  - st-bumps -> st_pinkbumps
  - st-camouflage -> st_camouflage
  - st-camouflage_hole -> st_camouflage_hollow
  - st-camouflage_move -> st_camouflage_movable
  - st-marble -> st_redbrown
  - st-marble_hole -> st_redbrown_hollow
  - st-marble_move -> st_redbrown_movable
  - st-metal -> st_metal
  - st-metal_hole -> st_metal_hollow
  - st-redrock -> st_redrock
  - st-woven -> st_woven
  - st-yellow -> st_yellow
  - st-invisible -> st_invisible
  - st-invisible_hole -> st_invisible_hollow
  - st-invisible_move -> st_invisible_movable

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/api1init.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -195,8 +195,11 @@
     it_yinyang = "it-yinyang",
     st_actorimpulse = "st-actorimpulse",
     st_actorimpulse_invisible = "st-actorimpulse_invisible",
+    st_ancient = "st-rock9",
     st_blocker = "st-blocker",
     st_blocker_new = "st-blocker-growing",
+    st_bluegray = "st-bluegray",
+    st_bluegray_hollow = "st-bluegray_hole",
     st_bluesand = "st-blue-sand",
     st_bluesand_w = "st-bigbluesand-w",
     st_bluesand_s = "st-bigbluesand-s",
@@ -241,6 +244,12 @@
     st_brick_new = "st-bigbrick-new",
     st_brick_nes = "st-bigbrick-nes",
     st_brick_nesw = "st-bigbrick-nesw",
+    st_brownie = "st-brownie",
+    st_brownmarble = "st-rock10",
+    st_brownpyramide = "st-stone1",
+    st_camouflage = "st-camouflage",
+    st_camouflage_hollow = "st-camouflage_hole",
+    st_camouflage_movable = "st-camouflage_move",
     st_charge_minus = "st-chargeminus",
     st_charge_plus = "st-chargeplus",
     st_charge_zero = "st-chargezero",
@@ -248,6 +257,9 @@
     st_chess_black = "st-chess_black",
     st_chess_white = "st-chess_white",
     st_coinslot = "st-coinslot",
+    st_concrete = "st-rock8",
+    st_darkgray = "st-rock2",
+    st_darkgray_hollow = "st-rock2_hole",
     st_death = "st-death",
     st_death_invisible = "st-death_invisible",
     st_disco_light = "st-disco-light",
@@ -264,6 +276,13 @@
     st_flash = "st-flash",
     st_floppy = "st-floppy",
     st_fourswitch = "st-fourswitch",
+    st_granite = "st-rock1",
+    st_granite_hollow = "st-rock1_hole",
+    st_granite_movable = "st-rock1_move",
+    st_greengray = "st-rock7",
+    st_invisible = "st-invisible",
+    st_invisible_hollow = "st-invisible_hole",
+    st_invisible_movable = "st-invisible_move",
     st_knight = "st-knight",
     st_laser_w = "st-laser-w",
     st_laser_s = "st-laser-s",
@@ -277,6 +296,8 @@
     st_mail_s = "st-mail-s",
     st_mail_e = "st-mail-e",
     st_mail_n = "st-mail-n",
+    st_metal = "st-metal",
+    st_metal_hollow = "st-metal_hole",
 
     st_mirror_slab_n = "st-mirror-p|",
     st_mirror_slab_e = "st-mirror-p/",
@@ -338,7 +359,10 @@
     st_passage_white_slash = "st-white2",
     st_passage_white_cross = "st-white3",
     st_passage_white_frame = "st-white4",
+    st_pinkbumps = "st-bumps",
     st_pull = "st-pull",
+    st_purplegray = "st-rock6",
+    st_purplemarble = "st-rock4",
     st_puzzle = "st-puzzle",
     st_puzzle_blue_w = "st-puzzle-w",
     st_puzzle_blue_s = "st-puzzle-s",
@@ -373,6 +397,10 @@
     st_puzzle_yellow_nesw = "st-puzzle2-nesw",
     st_puzzle_yellow_nesw_hollow = "st-puzzle2-hollow",
     st_quake = "st-fart",
+    st_redbrown = "st-marble",
+    st_redbrown_hollow = "st-marble_hole",
+    st_redbrown_movable = "st-marble_move",
+    st_redmarble = "st-stone2",
     st_rotator_cw = "st-rotator-right",
     st_rotator_ccw = "st-rotator-left",
     st_rotator_cw_movable = "st-rotator_move-right",
@@ -394,6 +422,7 @@
     st_switch = "st-switch",
     st_switch_black = "st-switch_black",
     st_switch_white = "st-switch_white",
+    st_tigris = "st-rock5",
     st_timer = "st-timer",
     st_turnstile_red = "st-turnstile",
     st_turnstile_green = "st-turnstile-green",
@@ -405,7 +434,9 @@
     st_volcano_new = "st-volcano-growing",
     st_volcano_active = "st-volcano_active",
     st_volcano_idle = "st-volcano_inactive",
-    st_window = "st-window"
+    st_window = "st-window",
+    st_woven = "st-woven",
+    st_yellow = "st-yellow"
 }
 
 for k,v in pairs(RenamingObjectsNew2Old) do

Deleted: trunk/data/gfx32/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_ancient.png (from rev 1452, trunk/data/gfx32/st-rock9.png)

Copied: trunk/data/gfx32/st_bluegray.png (from rev 1452, trunk/data/gfx32/st-bluegray.png)

Copied: trunk/data/gfx32/st_brownie.png (from rev 1452, trunk/data/gfx32/st-brownie.png)

Copied: trunk/data/gfx32/st_brownmarble.png (from rev 1452, trunk/data/gfx32/st-rock10.png)

Copied: trunk/data/gfx32/st_brownpyramide.png (from rev 1452, trunk/data/gfx32/st-stone1.png)

Copied: trunk/data/gfx32/st_camouflage.png (from rev 1452, trunk/data/gfx32/st-camouflage.png)

Copied: trunk/data/gfx32/st_concrete.png (from rev 1452, trunk/data/gfx32/st-rock8.png)

Copied: trunk/data/gfx32/st_darkgray.png (from rev 1452, trunk/data/gfx32/st-rock2.png)

Copied: trunk/data/gfx32/st_granite.png (from rev 1452, trunk/data/gfx32/st-rock1.png)

Copied: trunk/data/gfx32/st_greengray.png (from rev 1452, trunk/data/gfx32/st-rock7.png)

Copied: trunk/data/gfx32/st_metal.png (from rev 1452, trunk/data/gfx32/st-metal.png)

Copied: trunk/data/gfx32/st_pinkbumps.png (from rev 1452, trunk/data/gfx32/st-bumps.png)

Copied: trunk/data/gfx32/st_purplegray.png (from rev 1452, trunk/data/gfx32/st-rock6.png)

Copied: trunk/data/gfx32/st_purplemarble.png (from rev 1452, trunk/data/gfx32/st-rock4.png)

Copied: trunk/data/gfx32/st_redbrown.png (from rev 1452, trunk/data/gfx32/st-marble.png)

Copied: trunk/data/gfx32/st_redmarble.png (from rev 1452, trunk/data/gfx32/st-stone2.png)

Copied: trunk/data/gfx32/st_redrock.png (from rev 1452, trunk/data/gfx32/st-redrock.png)

Copied: trunk/data/gfx32/st_tigris.png (from rev 1452, trunk/data/gfx32/st-rock5.png)

Copied: trunk/data/gfx32/st_woven.png (from rev 1452, trunk/data/gfx32/st-woven.png)

Copied: trunk/data/gfx32/st_yellow.png (from rev 1452, trunk/data/gfx32/st-yellow.png)

Deleted: trunk/data/gfx40/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_ancient.png (from rev 1452, trunk/data/gfx40/st-rock9.png)

Copied: trunk/data/gfx40/st_bluegray.png (from rev 1452, trunk/data/gfx40/st-bluegray.png)

Copied: trunk/data/gfx40/st_brownie.png (from rev 1452, trunk/data/gfx40/st-brownie.png)

Copied: trunk/data/gfx40/st_brownmarble.png (from rev 1452, trunk/data/gfx40/st-rock10.png)

Copied: trunk/data/gfx40/st_brownpyramide.png (from rev 1452, trunk/data/gfx40/st-stone1.png)

Copied: trunk/data/gfx40/st_camouflage.png (from rev 1452, trunk/data/gfx40/st-camouflage.png)

Copied: trunk/data/gfx40/st_concrete.png (from rev 1452, trunk/data/gfx40/st-rock8.png)

Copied: trunk/data/gfx40/st_darkgray.png (from rev 1452, trunk/data/gfx40/st-rock2.png)

Copied: trunk/data/gfx40/st_granite.png (from rev 1452, trunk/data/gfx40/st-rock1.png)

Copied: trunk/data/gfx40/st_greengray.png (from rev 1452, trunk/data/gfx40/st-rock7.png)

Copied: trunk/data/gfx40/st_metal.png (from rev 1452, trunk/data/gfx40/st-metal.png)

Copied: trunk/data/gfx40/st_pinkbumps.png (from rev 1452, trunk/data/gfx40/st-bumps.png)

Copied: trunk/data/gfx40/st_purplegray.png (from rev 1452, trunk/data/gfx40/st-rock6.png)

Copied: trunk/data/gfx40/st_purplemarble.png (from rev 1452, trunk/data/gfx40/st-rock4.png)

Copied: trunk/data/gfx40/st_redbrown.png (from rev 1452, trunk/data/gfx40/st-marble.png)

Copied: trunk/data/gfx40/st_redmarble.png (from rev 1452, trunk/data/gfx40/st-stone2.png)

Copied: trunk/data/gfx40/st_redrock.png (from rev 1452, trunk/data/gfx40/st-redrock.png)

Copied: trunk/data/gfx40/st_tigris.png (from rev 1452, trunk/data/gfx40/st-rock5.png)

Copied: trunk/data/gfx40/st_woven.png (from rev 1452, trunk/data/gfx40/st-woven.png)

Copied: trunk/data/gfx40/st_yellow.png (from rev 1452, trunk/data/gfx40/st-yellow.png)

Deleted: trunk/data/gfx48/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_ancient.png (from rev 1452, trunk/data/gfx48/st-rock9.png)

Copied: trunk/data/gfx48/st_bluegray.png (from rev 1452, trunk/data/gfx48/st-bluegray.png)

Copied: trunk/data/gfx48/st_brownie.png (from rev 1452, trunk/data/gfx48/st-brownie.png)

Copied: trunk/data/gfx48/st_brownmarble.png (from rev 1452, trunk/data/gfx48/st-rock10.png)

Copied: trunk/data/gfx48/st_brownpyramide.png (from rev 1452, trunk/data/gfx48/st-stone1.png)

Copied: trunk/data/gfx48/st_camouflage.png (from rev 1452, trunk/data/gfx48/st-camouflage.png)

Copied: trunk/data/gfx48/st_concrete.png (from rev 1452, trunk/data/gfx48/st-rock8.png)

Copied: trunk/data/gfx48/st_darkgray.png (from rev 1452, trunk/data/gfx48/st-rock2.png)

Copied: trunk/data/gfx48/st_granite.png (from rev 1452, trunk/data/gfx48/st-rock1.png)

Copied: trunk/data/gfx48/st_greengray.png (from rev 1452, trunk/data/gfx48/st-rock7.png)

Copied: trunk/data/gfx48/st_metal.png (from rev 1452, trunk/data/gfx48/st-metal.png)

Copied: trunk/data/gfx48/st_pinkbumps.png (from rev 1452, trunk/data/gfx48/st-bumps.png)

Copied: trunk/data/gfx48/st_purplegray.png (from rev 1452, trunk/data/gfx48/st-rock6.png)

Copied: trunk/data/gfx48/st_purplemarble.png (from rev 1452, trunk/data/gfx48/st-rock4.png)

Copied: trunk/data/gfx48/st_redbrown.png (from rev 1452, trunk/data/gfx48/st-marble.png)

Copied: trunk/data/gfx48/st_redmarble.png (from rev 1452, trunk/data/gfx48/st-stone2.png)

Copied: trunk/data/gfx48/st_redrock.png (from rev 1452, trunk/data/gfx48/st-redrock.png)

Copied: trunk/data/gfx48/st_tigris.png (from rev 1452, trunk/data/gfx48/st-rock5.png)

Copied: trunk/data/gfx48/st_woven.png (from rev 1452, trunk/data/gfx48/st-woven.png)

Copied: trunk/data/gfx48/st_yellow.png (from rev 1452, trunk/data/gfx48/st-yellow.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/models-2d.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -747,12 +747,12 @@
     DefStone("st-black4", "sh-white4")
     DefStone("st-blackballs")
     DefStone("st-block")
-    DefStone("st-bluegray", "sh-round")
+    DefStone("st_bluegray", "sh-round")
     DefStone("st-brake", "sh-brake")
-    DefStone("st-brownie", "sh-round")
+    DefStone("st_brownie", "sh-round")
     DefStone("st-bug")
-    DefStone("st-bumps")
-    DefStone("st-camouflage")
+    DefStone("st_pinkbumps")
+    DefStone("st_camouflage")
     DefStone("st-dummy")
     DefImage("st-easymode")
     DefStone("st-flhay")
@@ -770,31 +770,31 @@
     DefStone("st-greenbrown", "sh-round")
     DefStone("st-key0", "sh-round", {filename="st-key1"})
     DefStone("st-key1", "sh-round", {filename="st-key2"})
-    DefStone("st-marble", "sh-round")
-    DefStone("st-metal")
-    DefStone("st-redrock")
-    DefStone("st-rock1", "sh-round")
-    DefStone("st-rock2")
+    DefStone("st_redbrown", "sh-round")
+    DefStone("st_metal")
+    DefStone("st_redrock")
+    DefStone("st_granite", "sh-round")
+    DefStone("st_darkgray")
     DefStone("st-rock3")
     DefStone("st-rock3_cracked")
-    DefStone("st-rock4")
-    DefStone("st-rock5")
-    DefStone("st-rock6")
-    DefStone("st-rock7")
-    DefStone("st-rock8", "sh-round")
-    DefStone("st-rock9", "sh-round")
-    DefStone("st-rock10")
+    DefStone("st_purplemarble")
+    DefStone("st_tigris")
+    DefStone("st_purplegray")
+    DefStone("st_greengray")
+    DefStone("st_concrete", "sh-round")
+    DefStone("st_ancient", "sh-round")
+    DefStone("st_brownmarble")
     DefStone("st-rubberband")
-    DefStone("st-stone1")
-    DefStone("st-stone2")
+    DefStone("st_brownpyramide")
+    DefStone("st_redmarble")
     DefStone("st-surprise")
     DefStone("st-white1")
     DefStone("st-white2")
     DefStone("st-white3")
     DefStone("st-white4", "sh-white4")
     DefStone("st-whiteballs")
-    DefStone("st-woven")
-    DefStone("st-yellow")
+    DefStone("st_woven")
+    DefStone("st_yellow")
     DefStone("st-yinyang1")
     DefStone("st-yinyang2")
 end
@@ -1631,7 +1631,7 @@
 do
     -- Base images
 
-    local stonebase = "st-bluegray"
+    local stonebase = "st_bluegray"
     local floorbase = "fl_bluegray"
     local thiefovl = DefSubimages("thief-template", {h = 7})
     local capturedovl = DefSubimages("thief-captured-template", {h = 12})
@@ -1746,10 +1746,7 @@
 -- Simple stone aliases --
 --------------------------
 do
-    DefAlias("st-bluegray_hole", "st-bluegray")
     DefAlias("st-breaking", "st-rock3_break-anim")
-    DefAlias("st-camouflage_move", "st-camouflage")
-    DefAlias("st-camouflage_hole", "st-camouflage")
     DefAlias("st-explosion", "expl")
     DefAlias("st-firebreak_move", "st-firebreak")
     DefAlias("st-glass_move", "st-glass");
@@ -1761,9 +1758,6 @@
     DefAlias("st-greenbrown_move", "st-greenbrown")
     DefAlias("st-laserbreak", "st-rock3")
     DefAlias("st-laserbreak-anim", "st-rock3_break-anim")
-    DefAlias("st-marble_hole", "st-marble")
-    DefAlias("st-marble_move", "st-marble")
-    DefAlias("st-metal_hole", "st-metal")
     DefAlias("st-plain", "st-rock3")
     DefAlias("st-plain_break", "st-rock3")
     DefAlias("st-plain_breaking", "st-rock3_break-anim")
@@ -1771,9 +1765,6 @@
     DefAlias("st-plain_falling", "st-rock3-falling")
     DefAlias("st-plain_hole", "st-rock3")
     DefAlias("st-plain_move", "st-rock3")
-    DefAlias("st-rock1_hole", "st-rock1")
-    DefAlias("st-rock1_move", "st-rock1")
-    DefAlias("st-rock2_hole", "st-rock2")
     DefAlias("st-rock3_hole", "st-rock3")
     DefAlias("st-rock3_move", "st-rock3")
     DefAlias("st-rock3_break", "st-rock3")
@@ -1785,7 +1776,7 @@
     DefAlias("st-actorimpulse_invisible", "invisible")
     DefAlias("st-break_invisible", "invisible")
     DefAlias("st-death_invisible", "invisible")
-    DefAlias("st-invisible", "invisible")
+    DefAlias("st_invisible", "invisible")
     DefAlias("st-invisible_magic", "invisible")
     DefAlias("st-stonebrush", "invisible")
 end

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/schemas/objects.xml	2009-01-15 22:42:00 UTC (rev 1456)
@@ -694,6 +694,7 @@
     <object name="st_actorimpulse_invisible">
       <attr name="invisible" value="true"/>
     </object>
+    <object name="st_ancient"/>
     <object name="st_blocker">
       <attr name="autoclose"/>
       <msg name="close"/>
@@ -704,6 +705,12 @@
     </object>
     <object name="st_blocker_new" init="true">
     </object>
+    <object name="st_bluegray">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_bluegray_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
     <object name="st_bluesand" super="st_clusterstone"/>
     <object name="st_bluesand_w">
       <attr name="connections" value="w"/>
@@ -835,6 +842,18 @@
     <object name="st_brick_nesw">
       <attr name="connections" value="nesw"/>
     </object>
+    <object name="st_brownie"/>
+    <object name="st_brownmarble"/>
+    <object name="st_brownpyramide"/>
+    <object name="st_camouflage">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_camouflage_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_camouflage_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_charge">
       <attr name="charge"/>
       <attr name="$chargesign"/>
@@ -872,6 +891,13 @@
     <object name="st_coinslot_instant">
       <attr name="instant" value="true"/>
     </object>
+    <object name="st_concrete"/>
+    <object name="st_darkgray">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_darkgray_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
     <object name="st_death">
       <attr name="invisible"/>
       <msg name="_model_reanimated"/>
@@ -884,13 +910,13 @@
       <msg name="darken"/>
       <msg name="signal"/>
     </object>
-    <object name="st_death_light">
+    <object name="st_disco_light">
       <attr name="state" value="0"/>
     </object>
-    <object name="st_death_medium">
+    <object name="st_disco_medium">
       <attr name="state" value="1"/>
     </object>
-    <object name="st_death_dark">
+    <object name="st_disco_dark">
       <attr name="state" value="2"/>
     </object>
     <object name="st_door">
@@ -951,6 +977,25 @@
       <msg name="signal"/>
       <msg name="_trigger"/>
     </object>
+    <object name="st_granite">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_granite_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_granite_movable">
+      <attr name="movable" value="true"/>
+    </object>
+    <object name="st_greengray"/>
+    <object name="st_invisible">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_invisible_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_invisible_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_key">
       <attr name="code"/>
       <msg name="on"/>
@@ -1025,6 +1070,12 @@
       <msg name="_init"/>
       <msg name="_model_reanimated"/>
     </object>
+    <object name="st_metal">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_metal_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
     <object name="st_mirror">
       <attr name="counterclock"/>
       <attr name="flavor" default="slab"/>
@@ -1149,6 +1200,7 @@
     <object name="st_passage_white">
       <attr name="color" value="1"/>
     </object>
+    <object name="st_pinkbumps"/>
     <object name="st_polarswitch">
       <msg name="on"/>
       <msg name="off"/>
@@ -1159,6 +1211,8 @@
       <msg name="_freeze"/>
       <msg name="_revive"/>
     </object>
+    <object name="st_purplemarble"/>
+    <object name="st_purplegray"/>
     <object name="st_puzzle">
       <attr name="algorithm"/>
       <attr name="connections"/>
@@ -1184,10 +1238,21 @@
       <msg name="_explosion"/>
       <msg name="_trigger"/>
     </object>
+    <object name="st_redmarble"/>
+    <object name="st_redrock"/>
     <object name="st_rotator">
       <attr name="counterclock"/>
       <attr name="movable" rw="rw"/>
     </object>
+    <object name="st_redbrown">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_redbrown_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_redbrown_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_rotator_cw">
       <attr name="state" value="0"/>
     </object>
@@ -1271,6 +1336,7 @@
     <object name="st_switch_white">
       <attr name="color" value="1"/>
     </object>
+    <object name="st_tigris"/>
     <object name="st_timer">
       <attr name="invisible"/>
       <attr name="interval"/>
@@ -1370,5 +1436,7 @@
     <object name="st_window_nesw">
       <attr name="faces" value="nesw"/>
     </object>
+    <object name="st_woven"/>
+    <object name="st_yellow"/>
   </zoo>
 </objects>

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/startup.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -113,43 +113,13 @@
 end
 
 def_stone("st-beads")
-def_stone("st-bluegray")
-def_stone_hollow("st-bluegray_hole")
-def_stone_movable("st-brownie", "cloth")
-def_stone("st-bumps")
-def_stone("st-camouflage", "cloth")
-def_stone_movable("st-camouflage_move", "cloth")
-def_stone_hollow("st-camouflage_hole")
 def_stone("st-greenbrown")
 def_stone_movable("st-greenbrown_move", "cloth")
 def_stone_hollow("st-greenbrown_hole")
-def_stone("st-invisible")
-def_stone("st-marble")
-def_stone_movable("st-marble_move")
-def_stone_hollow("st-marble_hole")
-def_stone("st-metal")
-def_stone_hollow("st-metal_hole")
 def_stone("st-panel")
-def_stone("st-redrock")
-def_stone("st-rock1")
-def_stone_movable("st-rock1_move")
-def_stone_hollow("st-rock1_hole")
-def_stone("st-rock2")
-def_stone_hollow("st-rock2_hole")
 def_stone("st-rock3")
 def_stone_movable("st-rock3_move")
 def_stone_hollow("st-rock3_hole")
-def_stone("st-rock4")
-def_stone("st-rock5")
-def_stone("st-rock6")
-def_stone("st-rock7")
-def_stone("st-rock8")
-def_stone("st-rock9")
-def_stone("st-rock10")
-def_stone("st-stone1")
-def_stone("st-stone2")
-def_stone("st-woven")
-def_stone("st-yellow")
 
 def_stone_glass("st-glass")
 def_stone_movable_glass("st-glass_move")

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/Makefile.am	2009-01-15 22:42:00 UTC (rev 1456)
@@ -330,6 +330,8 @@
 	stones/ShogunStone.hh	\
 	stones/SimpleStones.cc	\
 	stones/SimpleStones.hh	\
+	stones/StandardStones.cc	\
+	stones/StandardStones.hh	\
 	stones/StoneImpulse.cc	\
 	stones/StoneImpulse.hh	\
 	stones/SwapStone.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_extra.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -135,21 +135,21 @@
     0, 0, 0, 0, 0, 0, 0, 0,     // oxyd stones
     "st_fake_quake",     // OxydExtra stone 0x11
     "st-plain",          // OxydExtra stone 0x12
-    "st-rock4",          // OxydExtra stone 0x13
+    "st_purplemarble",   // OxydExtra stone 0x13
     UNUSED,              // OxydExtra stone 0x14
-    "st-rock5",          // OxydExtra stone 0x15
+    "st_tigris",         // OxydExtra stone 0x15
     "st-rock7",          // OxydExtra stone 0x16
     UNUSED,              // OxydExtra stone 0x17
     "st-grate1",         // OxydExtra stone 0x18
     UNUSED,              // OxydExtra stone 0x19
     UNUSED,              // OxydExtra stone 0x1a
     UNUSED,              // OxydExtra stone 0x1b
-    "st-marble",         // OxydExtra stone 0x1c
+    "st_redbrown",       // OxydExtra stone 0x1c
     UNUSED,              // OxydExtra stone 0x1d
     UNUSED,              // OxydExtra stone 0x1e
-    "st-rock5",          // OxydExtra stone 0x1f
-    "st-stone2",         // OxydExtra stone 0x20
-    "st-rock7",          // OxydExtra stone 0x21
+    "st_tigris",         // OxydExtra stone 0x1f
+    "st_redmarble",      // OxydExtra stone 0x20
+    "st_greengray",      // OxydExtra stone 0x21
     "st-glass1",         // OxydExtra stone 0x22
     UNUSED,              // OxydExtra stone 0x23
     "st-plain_break",    // OxydExtra stone 0x24
@@ -234,7 +234,7 @@
     "st_door_d",         // OxydExtra stone 0x73
     "st_door_d_ew",      // OxydExtra stone 0x74
     UNUSED,              // OxydExtra stone 0x75
-    "st-invisible",      // OxydExtra stone 0x76
+    "st_invisible",      // OxydExtra stone 0x76
     UNUSED,              // OxydExtra stone 0x77
     UNUSED,              // OxydExtra stone 0x78
     UNUSED,              // OxydExtra stone 0x79
@@ -255,7 +255,7 @@
     UNUSED,              // OxydExtra stone 0x88
     UNUSED,              // OxydExtra stone 0x89
     "st_bluesand",       // OxydExtra stone 0x8a
-    "st-bluegray",       // OxydExtra stone 0x8b
+    "st_bluegray",       // OxydExtra stone 0x8b
     UNUSED,              // OxydExtra stone 0x8c
     UNUSED,              // OxydExtra stone 0x8d
     UNUSED,              // OxydExtra stone 0x8e

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_magnum.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -148,11 +148,11 @@
     UNUSED,                     // OxydMagnum stone 0x1d
     UNUSED,                     // OxydMagnum stone 0x1e
     "st_brick",                 // OxydMagnum stone 0x1f
-    "st-rock1",                 // OxydMagnum stone 0x20
-    "st-rock1",                 // OxydMagnum stone 0x21 (Level 121 ?)(Oxyd Magnum Gold)
-    "st-rock1",                 // OxydMagnum stone 0x22 (common was 'st-glass')(Level 73 only)(looks like st-rock1)(looks like 0x20, but not like 0x87)
-    "st-woven",                 // OxydMagnum stone 0x23
-    "st-marble",                // OxydMagnum stone 0x24
+    "st_granite",               // OxydMagnum stone 0x20
+    "st_granite",               // OxydMagnum stone 0x21 (Level 121 ?)(Oxyd Magnum Gold)
+    "st_granite",               // OxydMagnum stone 0x22 (common was 'st-glass')(Level 73 only)(looks like st-rock1)(looks like 0x20, but not like 0x87)
+    "st_woven",                 // OxydMagnum stone 0x23
+    "st_redbrown",              // OxydMagnum stone 0x24
     "st-glass1",                // OxydMagnum stone 0x25
     "st-glass3",                // OxydMagnum stone 0x26
     "st-glass1",                // OxydMagnum stone 0x27
@@ -214,7 +214,7 @@
     "st_puzzle_yellow_w",       // Oxyd1 stone 0x5f
     "st_puzzle_yellow_e",       // Oxyd1 stone 0x60
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
-    "st-metal_hole",            // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
+    "st_metal_hollow",          // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
     "st-plain_break",           // OxydMagnum stone 0x63
     "st-fakeoxyda",             // OxydMagnum stone 0x64
     UNUSED,                     // OxydMagnum stone 0x65
@@ -233,8 +233,8 @@
     "st_mail_s",                // OxydMagnum stone 0x72
     "st_door_d",                // OxydMagnum stone 0x73
     "st_door_d_ew",             // OxydMagnum stone 0x74
-    "st-metal",                 // OxydMagnum stone 0x75
-    "st-invisible",             // OxydMagnum stone 0x76
+    "st_metal",                 // OxydMagnum stone 0x75
+    "st_invisible",             // OxydMagnum stone 0x76
     UNUSED,                     // OxydMagnum stone 0x77
     "st_door_d_ew_open",        // OxydMagnum stone 0x78 (st-door-h-open was wrong, look at level #32)
     UNUSED,                     // OxydMagnum stone 0x79
@@ -251,16 +251,16 @@
     UNUSED,                     // OxydMagnum stone 0x84
     UNUSED,                     // OxydMagnum stone 0x85
     "st-rock3_hole",            // OxydMagnum stone 0x86
-    "st-rock4",                 // OxydMagnum stone 0x87 (was st-rock1, but the pic has straight edges and surfaces)
+    "st_purplemarble",          // OxydMagnum stone 0x87 (was st-rock1, but the pic has straight edges and surfaces)
     0,                          // OxydMagnum stone 0x88 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)
     0,                          // OxydMagnum stone 0x89 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)
-    "st-stone1",                // OxydMagnum stone 0x8a
-    "st-rock6",                 // OxydMagnum stone 0x8b
+    "st_brownpyramide",         // OxydMagnum stone 0x8a
+    "st_purplegray",            // OxydMagnum stone 0x8b
     "st_passage_white_square",  // OxydMagnum stone 0x8c
     "st_passage_black_square",  // OxydMagnum stone 0x8d
     "st-yinyang2",              // OxydMagnum stone 0x8e
     UNUSED,                     // OxydMagnum stone 0x8f
-    "st-redrock",               // OxydMagnum stone 0x90 (Level 89 only)
+    "st_redrock",               // OxydMagnum stone 0x90 (Level 89 only)
     UNUSED,                     // OxydMagnum stone 0x91
     "st_fourswitch",            // OxydMagnum stone 0x92 (Level 51 only)
     "st-yinyang1",              // OxydMagnum stone 0x93

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_oxyd1.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -180,11 +180,11 @@
     "st-surprise",              // Oxyd1 stone 0x1d
     "st-chameleon",             // Oxyd1 stone 0x1e
     "st_brick",                 // Oxyd1 stone 0x1f
-    "st-rock1",                 // Oxyd1 stone 0x20
-    "st-rock1",                 // Oxyd1 stone 0x21
+    "st_granite",               // Oxyd1 stone 0x20
+    "st_granite",               // Oxyd1 stone 0x21
     UNUSED,                     // Oxyd1 stone 0x22
-    "st-woven",                 // Oxyd1 stone 0x23
-    "st-marble",                // Oxyd1 stone 0x24
+    "st_woven",                 // Oxyd1 stone 0x23
+    "st_redbrown",              // Oxyd1 stone 0x24
     "st-glass1",                // Oxyd1 stone 0x25
     "st-glass3",                // Oxyd1 stone 0x26
     "st-glass2",                // Oxyd1 stone 0x27
@@ -246,7 +246,7 @@
     "st_puzzle_yellow_w",       // Oxyd1 stone 0x5f
     "st_puzzle_yellow_e",       // Oxyd1 stone 0x60
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
-    "st-metal_hole",            // Oxyd1 stone 0x62
+    "st_metal_hollow",          // Oxyd1 stone 0x62
     "st-laserbreak",            // Oxyd1 stone 0x63
     "st-fakeoxyda",             // Oxyd1 stone 0x64
     UNUSED,                     // Oxyd1 stone 0x65
@@ -265,8 +265,8 @@
     "st_mail_s",                // Oxyd1 stone 0x72
     "st_door_d",                // Oxyd1 stone 0x73
     "st_door_d_ew",             // Oxyd1 stone 0x74
-    "st-metal",                 // Oxyd1 stone 0x75
-    "st-invisible",             // Oxyd1 stone 0x76
+    "st_metal",                 // Oxyd1 stone 0x75
+    "st_invisible",             // Oxyd1 stone 0x76
     "st_door_d_open",           // Oxyd1 stone 0x77
     "st_door_d_ew_open",        // Oxyd1 stone 0x78
     UNUSED,                     // Oxyd1 stone 0x79
@@ -282,11 +282,11 @@
     UNUSED,                     // Oxyd1 stone 0x83
     UNUSED,                     // Oxyd1 stone 0x84
     UNUSED,                     // Oxyd1 stone 0x85
-    "st-metal_hole",            // Oxyd1 stone 0x86
-    "st-rock2",                 // Oxyd1 stone 0x87
+    "st_metal_hollow",          // Oxyd1 stone 0x86
+    "st_darkgray",              // Oxyd1 stone 0x87
     UNUSED,                     // Oxyd1 stone 0x88
     UNUSED,                     // Oxyd1 stone 0x89
-    "st-stone1",                // Oxyd1 stone 0x8a
+    "st_brownpyramide",         // Oxyd1 stone 0x8a
     "st_bluesand",              // Oxyd1 stone 0x8b
     "st_passage_white_square",  // Oxyd1 stone 0x8c
     "st_passage_black_square",  // Oxyd1 stone 0x8d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_peroxyd.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -207,25 +207,25 @@
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x08 - 0x10   oxyd stones
     "st_fake_oxydc",             // PerOxyd stone 0x11
     "st-plain_break",           // PerOxyd stone 0x12   no, should be destructible with hammer
-    "st-rock4",                 // PerOxyd stone 0x13
+    "st_purplemarble",          // PerOxyd stone 0x13
     "st-beads",                 // PerOxyd stone 0x14
-    "st-rock5",                 // PerOxyd stone 0x15
-    "st-rock7",                 // PerOxyd stone 0x16
+    "st_tigris",                // PerOxyd stone 0x15
+    "st_greengray",             // PerOxyd stone 0x16
     "st-white1",                // PerOxyd stone 0x17 (Looks a little bit different, but function should be the same.)
     "st-grate1",                // PerOxyd stone 0x18
     UNUSED,                     // PerOxyd stone 0x19
     "st-surprise",              // PerOxyd stone 0x1a
     "st-chameleon",             // PerOxyd stone 0x1b (levels: 23 142 178 183)
     "st-brick_magic",           // PerOxyd stone 0x1c
-    "st-camouflage",            // PerOxyd stone 0x1d (green camouflage piece)(if st-camouflage is implemented, put it in here)
-    "st-camouflage",            // PerOxyd stone 0x1e (green camouflage piece)
+    "st_camouflage",            // PerOxyd stone 0x1d (green camouflage piece)(if st-camouflage is implemented, put it in here)
+    "st_camouflage",            // PerOxyd stone 0x1e (green camouflage piece)
     UNUSED,                     // PerOxyd stone 0x1f
-    "st-stone2",                // PerOxyd stone 0x20
+    "st_redmarble",             // PerOxyd stone 0x20
     "st-greenbrown",            // PerOxyd stone 0x21
     "st-glass",                 // PerOxyd stone 0x22 (semi opaque piece, not really glass)
     "st-glass",                 // PerOxyd stone 0x23 (must be st-glass, see link level 92)
     "st-plain_break",           // PerOxyd stone 0x24
-    "st-bluegray_hole",         // PerOxyd stone 0x25
+    "st_bluegray_hollow",       // PerOxyd stone 0x25
     "st-plain_move",            // PerOxyd stone 0x26
     "st_box_wood",              // PerOxyd stone 0x27
     "st_switch_instant",        // PerOxyd stone 0x28
@@ -305,13 +305,13 @@
     "st_mail_s",                // PerOxyd stone 0x72
     "st_door_d",                // PerOxyd stone 0x73
     "st_door_d_ew",             // PerOxyd stone 0x74
-    "st-metal",                 // PerOxyd stone 0x75
+    "st_metal",                 // PerOxyd stone 0x75
     "st-stonebrush",            // PerOxyd stone 0x76
     "st_door_d_open",           // PerOxyd stone 0x77
     "st_door_d_ew_open",        // PerOxyd stone 0x78
     "st_passage_white_square",  // PerOxyd stone 0x79 (Can be either st-white1 or st-white4)
     "st_passage_black_square",  // PerOxyd stone 0x7a (Can be either st-black1 or st-black4)
-    "st-metal_hole",            // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
+    "st_metal_hollow",          // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
     0,                          // PerOxyd stone 0x7c (probably complex stone, behavior unknown)(only levels: 23 142, these levels are identical!)
     "st-yinyang3",              // PerOxyd stone 0x7d
     "st-break_acwhite",         // PerOxyd stone 0x7e
@@ -323,16 +323,16 @@
     "st_boulder_s",             // PerOxyd stone 0x84
     "st_boulder_w",             // PerOxyd stone 0x85
     "st_boulder_e",             // PerOxyd stone 0x86
-    "st-rock5",                 // PerOxyd stone 0x87
+    "st_tigris",                // PerOxyd stone 0x87
     UNUSED,                     // PerOxyd stone 0x88
     UNUSED,                     // PerOxyd stone 0x89
-    "st-rock6",                 // PerOxyd stone 0x8a
+    "st_purplegray",            // PerOxyd stone 0x8a
     "st_bluesand",              // PerOxyd stone 0x8b
-    "st-rock1",                 // PerOxyd stone 0x8c
-    "st-rock2",                 // PerOxyd stone 0x8d (simple border stone, not exactly st-rock2 ...; only link level 92)
-    "st-rock2",                 // PerOxyd stone 0x8e
+    "st_granite",               // PerOxyd stone 0x8c
+    "st_darkgray",              // PerOxyd stone 0x8d (simple border stone, not exactly st-rock2 ...; only link level 92)
+    "st_darkgray",              // PerOxyd stone 0x8e
     UNUSED,                     // PerOxyd stone 0x8f
-    "st-rock8",                 // PerOxyd stone 0x90
+    "st_concrete",              // PerOxyd stone 0x90
     "st_rotator_ccw_movable",   // PerOxyd stone 0x91
     "st_rotator_cw_movable",    // PerOxyd stone 0x92
     "st_swap",                  // PerOxyd stone 0x93
@@ -343,8 +343,8 @@
     "st-grate3",                // PerOxyd stone 0x98
     "st_blocker",               // PerOxyd stone 0x99
     "st-grate1",                // PerOxyd stone 0x9a
-    "st-metal_hole",            // PerOxyd stone 0x9b
-    "st-stone1",                // PerOxyd stone 0x9c
+    "st_metal_hollow",          // PerOxyd stone 0x9b
+    "st_brownpyramide",         // PerOxyd stone 0x9c
     "st_quake",                 // PerOxyd stone 0x9d
     "st_turnstile_red",         // PerOxyd stone 0x9e
     "st_turnstilearm_n",        // PerOxyd stone 0x9f

Modified: trunk/src/stones/QuakeStone.hh
===================================================================
--- trunk/src/stones/QuakeStone.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/QuakeStone.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -17,8 +17,8 @@
  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
  *
  */
-#ifndef FARTSTONE_HH
-#define FARTSTONE_HH
+#ifndef QUAKESTONE_HH
+#define QUAKESTONE_HH
 
 #include "stones.hh"
 

Added: trunk/src/stones/StandardStones.cc
===================================================================
--- trunk/src/stones/StandardStones.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/StandardStones.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -0,0 +1,158 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/StandardStones.hh"
+#include "items/GlassesItem.hh"
+//#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    StandardStone::StandardStone(int type, bool hollow, bool movable, bool cloth) {
+        state = type;
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable)
+            objFlags |= OBJBIT_MOVABLE;
+        if (cloth)
+            objFlags |= OBJBIT_CLOTH;
+    }
+    
+    std::string StandardStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value StandardStone::getAttr(const std::string &key) const {
+        if (key == "movable") {
+            return (bool)(objFlags & OBJBIT_MOVABLE);
+        } else if (key == "hollow") {
+            return (bool)(objFlags & OBJBIT_HOLLOW);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value StandardStone::message(const Message &m) {
+        if ((objFlags & OBJBIT_HOLLOW) && m.message == "_glasses") {
+            if ((to_int(m.value) & Glasses::HOLLOW) && !(objFlags & OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags & OBJBIT_GLASSES) {
+                objFlags &= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        }
+        return Stone::message(m);
+    }
+   
+    void StandardStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void StandardStone::init_model() {
+        if (objFlags & OBJBIT_GLASSES)
+            set_model("invisible");
+        else
+            set_model(getClass());
+    }
+    
+    bool StandardStone::is_floating() const {
+        return objFlags & OBJBIT_HOLLOW;
+    }
+
+    StoneResponse StandardStone::collision_response(const StoneContact &sc) {
+        if (objFlags & OBJBIT_HOLLOW)
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *StandardStone::collision_sound() {
+        return (objFlags & OBJBIT_CLOTH) ? "stone" : "cloth";
+    }
+    
+    int StandardStone::traitsIdx() const {
+        return state;
+    }
+        
+    StoneTraits StandardStone::traits[25] = {
+        {"st_granite", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_granite", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_darkgray", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_purplemarble", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_tigris", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_purplegray", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_greengray", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_concrete", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_ancient", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_brownmarble", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_brownpyramide", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_redmarble", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_bluegray", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_brownie", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_pinkbumps", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_camouflage", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_camouflage", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_redbrown", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_redbrown", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_metal", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_redrock", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_woven", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_yellow", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_invisible", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_invisible", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new StandardStone(0, false, false), "st_granite");
+        BootRegister(new StandardStone(0, true, false),  "st_granite_hollow");
+        BootRegister(new StandardStone(1, false, true),  "st_granite_movable");
+        BootRegister(new StandardStone(2, false, false), "st_darkgray");
+        BootRegister(new StandardStone(2, true, false),  "st_darkgray_hollow");
+        BootRegister(new StandardStone(3, false, false), "st_purplemarble");
+        BootRegister(new StandardStone(4, false, false), "st_tigris");
+        BootRegister(new StandardStone(5, false, false), "st_purplegray");
+        BootRegister(new StandardStone(6, false, false), "st_greengray");
+        BootRegister(new StandardStone(7, false, false), "st_concrete");
+        BootRegister(new StandardStone(8, false, false), "st_ancient");
+        BootRegister(new StandardStone(9, false, false), "st_brownmarble");
+        BootRegister(new StandardStone(10, false, false), "st_brownpyramide");
+        BootRegister(new StandardStone(11, false, false), "st_redmarble");
+        BootRegister(new StandardStone(12, false, false), "st_bluegray");
+        BootRegister(new StandardStone(12, true, false),  "st_bluegray_hollow");
+        BootRegister(new StandardStone(13, false, true, true),  "st_brownie");
+        BootRegister(new StandardStone(14, false, false), "st_pinkbumps");
+        BootRegister(new StandardStone(15, false, false, true), "st_camouflage");
+        BootRegister(new StandardStone(15, true, false),  "st_camouflage_hollow");
+        BootRegister(new StandardStone(16, false, true, true),  "st_camouflage_movable");
+        BootRegister(new StandardStone(17, false, false), "st_redbrown");
+        BootRegister(new StandardStone(17, true, false),  "st_redbrown_hollow");
+        BootRegister(new StandardStone(18, false, true),  "st_redbrown_movable");
+        BootRegister(new StandardStone(19, false, false), "st_metal");
+        BootRegister(new StandardStone(19, true, false),  "st_metal_hollow");
+        BootRegister(new StandardStone(20, false, false), "st_redrock");
+        BootRegister(new StandardStone(21, false, false), "st_woven");
+        BootRegister(new StandardStone(22, false, false), "st_yellow");
+        BootRegister(new StandardStone(23, false, false), "st_invisible");
+        BootRegister(new StandardStone(23, true, false),  "st_invisible_hollow");
+        BootRegister(new StandardStone(24, false, true),  "st_invisible_movable");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/StandardStones.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/StandardStones.hh
===================================================================
--- trunk/src/stones/StandardStones.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/StandardStones.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -0,0 +1,73 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef STANDARDSTONE_HH
+#define STANDARDSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class StandardStone : public Stone {
+        CLONEOBJ(StandardStone);
+        DECL_TRAITS_ARRAY(25, traitsIdx());
+    private:
+        enum iState {
+            GRANITE,         ///< 
+            ACTIVEBREAKING  ///< 
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE  =   1<<24,    ///<  
+            OBJBIT_HOLLOW   =   1<<25,    ///< 
+            OBJBIT_GLASSES  =   1<<26,    ///< invisible due to glasses
+            OBJBIT_CLOTH    =   1<<27     ///< collision sound cloth instead of standard stone
+        };
+        
+    public:
+        StandardStone(int type, bool hollow, bool movable, bool cloth = false);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+//        virtual int maxState() const;
+//        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual const char *collision_sound();
+
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/StandardStones.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -89,6 +89,7 @@
         st_rubberband,
         st_scissors,
         st_shogun,
+        st_standard,
         st_stoneimpulse,
         st_stoneimpulse_steady,
         st_stoneimpulse_hollow,



From ral at mail.berlios.de  Fri Jan 16 00:55:05 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Fri, 16 Jan 2009 00:55:05 +0100
Subject: [Enigma-game-svn] r1457 - team_levelpacks/team_test_new_api
Message-ID: <200901152355.n0FNt5IQ001214@sheep.berlios.de>

Author: ral
Date: 2009-01-16 00:54:44 +0100 (Fri, 16 Jan 2009)
New Revision: 1457

Modified:
   team_levelpacks/team_test_new_api/ralD005_1.xml
   team_levelpacks/team_test_new_api/ralD006_1.xml
   team_levelpacks/team_test_new_api/ralD007_1.xml
   team_levelpacks/team_test_new_api/ralT014_1.xml
   team_levelpacks/team_test_new_api/ralT016_1.xml
   team_levelpacks/team_test_new_api/ralT024_1.xml
   team_levelpacks/team_test_new_api/ralT030_1.xml
   team_levelpacks/team_test_new_api/ralT031_1.xml
   team_levelpacks/team_test_new_api/ralT035_1.xml
   team_levelpacks/team_test_new_api/ralT041_1.xml
   team_levelpacks/team_test_new_api/ralT043_1.xml
   team_levelpacks/team_test_new_api/ralT046_1.xml
   team_levelpacks/team_test_new_api/ralT047_1.xml
   team_levelpacks/team_test_new_api/ralT049_1.xml
   team_levelpacks/team_test_new_api/ralT050_1.xml
   team_levelpacks/team_test_new_api/ralT051_1.xml
   team_levelpacks/team_test_new_api/ralT053_1.xml
   team_levelpacks/team_test_new_api/ralT054_1.xml
   team_levelpacks/team_test_new_api/ralT057_1.xml
   team_levelpacks/team_test_new_api/ralT060_1.xml
   team_levelpacks/team_test_new_api/ralT061_1.xml
   team_levelpacks/team_test_new_api/ralT062_1.xml
   team_levelpacks/team_test_new_api/ralT065_1.xml
   team_levelpacks/team_test_new_api/ralT066_1.xml
   team_levelpacks/team_test_new_api/ralT069_1.xml
   team_levelpacks/team_test_new_api/ralT072_1.xml
   team_levelpacks/team_test_new_api/raoulT03_1.xml
Log:
Test Level new API:
- updates for standard stones



Modified: team_levelpacks/team_test_new_api/ralD005_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD005_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralD005_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,7 +20,7 @@
 ti["B"] = {"st_passage_black", flavor="cross"}
 ti["W"] = {"st_passage_white", flavor="cross"}
 
-ti["y"] = {"it-yinyang"}
+ti["y"] = {"it_yinyang"}
 ti["1"] = ti["y"] .. {"#ac_marble_black"}
 ti["2"] = ti["y"] .. {"#ac_marble_white"}
 

Modified: team_levelpacks/team_test_new_api/ralD006_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD006_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralD006_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -18,7 +18,7 @@
 ti[" "] = {"fl_samba"}
 ti["."] = {"fl_abyss"}
 ti["~"] = {"fl_water"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 ti["X"] = {"st_oxyd"}
 
 ti["L"] = {"st_laser", orientation=EAST, state=ON}

Modified: team_levelpacks/team_test_new_api/ralD007_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralD007_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralD007_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -19,7 +19,7 @@
 wo["ConserveLevel"] = true
 
 ti["  "] = {"fl_sahara"}
-ti["##"] = {"st-rock1"}
+ti["##"] = {"st_granite"}
 
 ti[".."] = {"fl_sahara", push_directions="nesw"}
 

Modified: team_levelpacks/team_test_new_api/ralT014_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -37,9 +37,9 @@
 ti["B"] = {"it-bag"}
 ti["T"] = {"st-thief"}
 ti["t"] = {"fl-thief"}
-ti["1"] = {"it-coffee", "coffee1"}
-ti["2"] = {"it-coffee", "coffee2"}
-ti["3"] = {"it-coffee", "coffee3"}
+ti["1"] = {"it_coffee", "coffee1"}
+ti["2"] = {"it_coffee", "coffee2"}
+ti["3"] = {"it_coffee", "coffee3"}
 ti["4"] = {"st_switch", target="lesscoffee"}
 
 w, h = wo(ti, " ", {

Modified: team_levelpacks/team_test_new_api/ralT016_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -23,7 +23,7 @@
 
 ti[" "] = {"fl_sahara"}
 ti["."] = {"fl_abyss"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 ti["l"] = {"st_lightpassenger_off"}
 ti["B"] = {"st_boulder_n"}
 ti["W"] = {"st_passage_white"}

Modified: team_levelpacks/team_test_new_api/ralT024_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT024_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT024_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,8 +20,8 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock1"}
-ti["y"] = {"it-yinyang"}
+ti["#"] = {"st_granite"}
+ti["y"] = {"it_yinyang"}
 
 ti["D"] = {"st_door_d", "door1", faces="ew"}
 ti["d"] = {"st_door_d", "door2", faces="ew"}

Modified: team_levelpacks/team_test_new_api/ralT030_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = ti[" "] .. {"st-rock1"}
+ti["#"] = ti[" "] .. {"st_granite"}
 ti["~"] = ti({"fl_blueslab"}) .. {"st-chameleon"}
 
 ti["s"] = ti[" "] .. {"st_swap"}

Modified: team_levelpacks/team_test_new_api/ralT031_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -23,7 +23,7 @@
 ti["."] = {"fl_water"}
 ti["~"] = {"fl_abyss"}
 ti["!"] = {"fl_wood", ignitable=true}
-ti["#"] = ti[" "] .. {"st-rock1"}
+ti["#"] = ti[" "] .. {"st_granite"}
 
 ti["A"] = ti[" "] .. {"it_trigger", target="lasera", action="toggle", "triggerA"}
 ti["B"] = ti["~"] .. {"it_trigger", target={"laserb","laserbon"}, action={"toggle", "on"}}
@@ -49,7 +49,7 @@
 
 ti["W"] = ti[" "] .. {"st_box"}
 ti["U"] = ti[" "] .. {"st-block"}
-ti["V"] = ti[" "] .. {"st-brownie"}
+ti["V"] = ti[" "] .. {"st_brownie"}
 ti["u"] = ti[" "] .. {"it-spring1"}
 ti["v"] = ti[" "] .. {"st_brake"}
 ti["Y"] = ti[" "] .. {"st_death"}
@@ -59,8 +59,8 @@
 ti["m"] = ti[" "] .. {"st_switch", target="makeactor"}
 ti["X"] = ti[" "] .. {"it_wormhole", destination="triggerA", range=1}
 
-ti["1"] = (ti[" "] .. {"#ac_marble"}) .. {"it-ring"}
-ti["2"] = ti[" "] .. {"#ac_pearl", player=DEFAULT, controllers=0}
+ti["1"] = (ti[" "] .. {"#ac_marble"}) .. {"it_ring"}
+ti["2"] = ti[" "] .. {"#ac_pearl", owner=DEFAULT, controllers=0}
 
 ti["3"] = (ti[" "]  .. {"#ac_pearl", controllers=0})
                 .. {"it_trigger", target={"laserh","laserhon"}, action={"toggle", "on"}}
@@ -92,7 +92,7 @@
 end
   
 function makeactor(value, sender)
-    wo[no["triggerA"]] = {"#ac-whiteball-small", player=nil, controllers=0}
+    wo[no["triggerA"]] = {"#ac_pearl", owner=nil, controllers=0}
 end
 
 function killstone(value, sender)

Modified: team_levelpacks/team_test_new_api/ralT035_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT035_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT035_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,7 +20,7 @@
 
 ti["  "] = {"fl_sahara"}
 ti["~~"] = {"fl_water"}
-ti["##"] = {"st-rock1"}
+ti["##"] = {"st_granite"}
 ti["++"] = {"st_box"}
 ti[" 1"] = ti["  "] .. {"#ac_marble"}
 

Modified: team_levelpacks/team_test_new_api/ralT041_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT041_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT041_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["y"] = {"it-yinyang"}
+ti["y"] = {"it_yinyang"}
 ti["b"] = {"it_brush"}
 ti["w"] = {"it_wrench"}
 

Modified: team_levelpacks/team_test_new_api/ralT043_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT043_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT043_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,7 +20,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 
 ti["f"] = {"it_floppy"}
 ti["F"] = {"st_floppy", target="@door#*", action="toggle"}

Modified: team_levelpacks/team_test_new_api/ralT046_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -23,7 +23,7 @@
 ti[" ~"] = {"fl_water"}
 ti[" ;"] = {"fl_lawn"}
 
-ti["# "] = {"st-rock1"}
+ti["# "] = {"st_granite"}
 ti["W "] = {"st_box"}
 ti["X "] = {"st_oxyd"}
 ti["G "] = {"st-grate1"}

Modified: team_levelpacks/team_test_new_api/ralT047_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -23,7 +23,7 @@
 ti["  ~"] = {"fl_water"}
 ti["  ;"] = {"fl_lawn"}
 
-ti["#  "] = {"st-rock1"}
+ti["#  "] = {"st_granite"}
 ti["W  "] = {"st_box"}
 ti["X  "] = {"st_oxyd"}
 ti["G  "] = {"st-grate1"}

Modified: team_levelpacks/team_test_new_api/ralT049_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -22,7 +22,7 @@
 
 ti[" "] = {"fl_sahara"}
 ti["!"] = {"st_death_invisible"}
-ti["H"] = {"st-camouflage_hole"}
+ti["H"] = {"st_camouflage_hollow"}
 ti["L"] = {"st_lightpassenger", state=OFF}
 ti["l"] = {"st_switch", target="newlp"}
 ti["A"] = {"st_actorimpulse_invisible"}
@@ -47,7 +47,7 @@
 ti["t"] = {"fl-thief"}
 
 ti["b"] = {"it-bag"}
-ti["y"] = {"it-yinyang"}
+ti["y"] = {"it_yinyang"}
 ti["1"] = ti["y"] .. {"#ac_marble_black"} 
 ti["2"] = ti["y"] .. {"#ac_marble_white"} 
 

Modified: team_levelpacks/team_test_new_api/ralT050_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT050_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT050_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -48,8 +48,8 @@
 
 ti["w"] = {"it_magicwand"}
 ti["c"] = {"st_chess_black"}
-ti["3"] = {"#ac_marble_black", player=DEFAULT, controllers=0}
-ti["4"] = {"#ac_marble_white", player=DEFAULT, controllers=0}
+ti["3"] = {"#ac_marble_black", owner=DEFAULT, controllers=0}
+ti["4"] = {"#ac_marble_white", owner=DEFAULT, controllers=0}
 
 
 w, h = wo(ti, " ", {

Modified: team_levelpacks/team_test_new_api/ralT051_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT051_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT051_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["B"] = {"st-brownie"}
+ti["B"] = {"st_brownie"}
 ti["b"] = {"st_boulder_n"}
 ti["W"] = {"it_wrench"}
 ti["w"] = {"it_magicwand"}

Modified: team_levelpacks/team_test_new_api/ralT053_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT053_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -20,8 +20,8 @@
 
 ti[" "] = {"fl_sahara"}
 ti["~"] = {"fl_water"}
-ti["#"] = {"st-rock1"}
-ti["y"] = {"it-yinyang"}
+ti["#"] = {"st_granite"}
+ti["y"] = {"it_yinyang"}
 ti["."] = {"st_box"}
 ti["w"] = {"st_box", "w"}
 ti["s"] = {"st_scissors"}
@@ -41,7 +41,7 @@
 ti["1"] = ti["y"] .. {"#ac_marble_black", "a1"} 
 ti["2"] = ti["y"] .. {"#ac_marble_white", "a2"} 
 ti["3"] = {"#ac_horse", "a3"} 
-ti["*"] = {"#ac_pearl_white", "s#", player=DEFAULT, controllers=0} 
+ti["*"] = {"#ac_pearl_white", "s#", owner=DEFAULT, controllers=0} 
 
 w, h = wo(ti, " ", {
 "*   #  r  r  r  a  *",

Modified: team_levelpacks/team_test_new_api/ralT054_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -18,8 +18,8 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock1"}
-ti["+"] = {"st-rock1", "rock"}
+ti["#"] = {"st_granite"}
+ti["+"] = {"st_granite", "rock"}
 ti["~"] = {"fl_water"}
 
 ti["p"] = {"it-puller-w"}
@@ -28,7 +28,7 @@
 
 ti["w"] = {"st_box"}
 ti["template_w"] = {"st_box", "w%%"}
-ti["template_b"] = {"st-brownie", "b%%"}
+ti["template_b"] = {"st_brownie", "b%%"}
 ti["s"] = {"st_scissors"}
 ti["S"] = {"st_swap"}
 ti["U"] = {"st_pull", "pull"}

Modified: team_levelpacks/team_test_new_api/ralT057_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT057_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT057_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["y"] = {"it-yinyang"}
+ti["y"] = {"it_yinyang"}
 ti["m"] = {"it_wrench"}
 
 
@@ -29,7 +29,7 @@
 ti["s"] = {"st_turnstilearm_s"}
 ti["w"] = {"st_turnstilearm_w"}
 
-ti["B"] = {"st-brownie"}
+ti["B"] = {"st_brownie"}
 ti["O"] = {"st_rotator_cw", movable=true}
 ti["I"] = {"st_stoneimpulse_movable"}
 
@@ -38,7 +38,7 @@
 ti["r"] = {"it_rubberband", anchor2="arm"}
 
 ti["E"] = {"st_turnstilearm_e","east"}
-ti["b"] = {"st-brownie", "brownie"}
+ti["b"] = {"st_brownie", "brownie"}
 
 ti["a"] = {"st_turnstilearm_n","couple1"}
 ti["A"] = {"st_turnstilearm_n","couple2"}

Modified: team_levelpacks/team_test_new_api/ralT060_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT060_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT060_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -44,7 +44,7 @@
 ti["w"] = {"st_box", "wood"}
 ti["v"] = {"st_box", "wood2"}
 ti["u"] = {"st_box", "wood3"}
-ti["r"] = {"st-rock1"}
+ti["r"] = {"st_granite"}
 ti["s"] = {"st_swap"}
 ti["c"] = {"it_cherry"}
 

Modified: team_levelpacks/team_test_new_api/ralT061_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -19,7 +19,7 @@
 wo["ShowMoves"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 
 ti["P"] = {"st_pull"}
 ti["p"] = {"st_pull", "pull"}

Modified: team_levelpacks/team_test_new_api/ralT062_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 
 ti["-"] = {"st-grate1"}
 ti["+"] = {"it_trigger", target="laser"}

Modified: team_levelpacks/team_test_new_api/ralT065_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT065_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT065_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -32,7 +32,7 @@
 
 ti["w"] = {"st_box"}
 ti["d"] = {"it-dynamite"}
-ti["?"] = {"it-spade"}
+ti["?"] = {"it_spade"}
 ti["S"] = {"st_switch", target="hilli#*", action="flip"}
 ti["s"] = {"st_switch", target="bumpd#*", action="signal"}
 ti["T"] = {"st_switch", target="@vol#*", action="toggle"}

Modified: team_levelpacks/team_test_new_api/ralT066_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT066_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT066_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -29,7 +29,7 @@
 ti["V"] = {"st_door_d", "door#", faces="ew"}
 ti["b"] = {"st_door_b", "door#"}
 
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 ti["s"] = {"st_switch", target="@door#*"}
 
 ti["e"] = {"it-dynamite"}

Modified: team_levelpacks/team_test_new_api/ralT069_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT069_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT069_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -22,7 +22,7 @@
 
 ti[".."] = {"fl_sahara", push_directions="nesw"}
 ti["++"] = {"fl_sahara", push_directions="w"} .. ti{"st_window_s", secure=true}
-ti["##"] = {"st-rock1"}
+ti["##"] = {"st_granite"}
 ti["S#"] = {"st_switch", target="newpuz"}
 
 ti["P"] = {"st_puzzle_blue", intensity= 2/12}

Modified: team_levelpacks/team_test_new_api/ralT072_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -24,7 +24,7 @@
 ti["-"] = {"fl_hay_framed"}
 ti["o"] = {"st_box_hay"}
 ti["w"] = {"st_box"}
-ti["b"] = {"st-brownie"}
+ti["b"] = {"st_brownie"}
 ti["_"] = {"st_window_s"} .. ti["."]
 
 ti["s"] = {"fl_water", "source1", interval=0.2}

Modified: team_levelpacks/team_test_new_api/raoulT03_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-15 22:42:00 UTC (rev 1456)
+++ team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
@@ -50,9 +50,9 @@
 
 ti["w"] = {"it_wrench"}
 ti["i"] = {"it_hammer"}
-ti["r"] = {"it-ring"}
+ti["r"] = {"it_ring"}
 ti["s"] = {"it_seed"}
-ti["k"] = {"it-coffee"}
+ti["k"] = {"it_coffee"}
 ti["K"] = {"it_cherry"}
 ti[":"] = {"it-dynamite"}
 ti["I"] = {"st_stoneimpulse"}



From raoul at mail.berlios.de  Fri Jan 16 21:07:38 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 16 Jan 2009 21:07:38 +0100
Subject: [Enigma-game-svn] r1458 - in trunk/data: . levels/enigma_cross
	levels/enigma_ii levels/enigma_iii levels/enigma_iv
	levels/enigma_tutorial levels/enigma_v levels/enigma_vi
	levels/enigma_vii levels/enigma_viii
Message-ID: <200901162007.n0GK7csc022540@sheep.berlios.de>

Author: raoul
Date: 2009-01-16 21:07:35 +0100 (Fri, 16 Jan 2009)
New Revision: 1458

Modified:
   trunk/data/api1init.lua
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/enigma0_92_3.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_ii/ant07_1.xml
   trunk/data/levels/enigma_ii/ant14_2.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/ant22_2.xml
   trunk/data/levels/enigma_iv/duffy125_2.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_iv/mp03_1.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/andreas31_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ulf05_2.xml
   trunk/data/levels/enigma_vii/huesing01_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley05_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas47_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/andreas50_1.xml
   trunk/data/levels/enigma_viii/andreas51_1.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull04_1.xml
   trunk/data/levels/enigma_viii/devnull06_1.xml
   trunk/data/levels/enigma_viii/devnull07_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/duffy180_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke03_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke07_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral25_1.xml
   trunk/data/levels/enigma_viii/ral26_1.xml
   trunk/data/levels/enigma_viii/ral28_1.xml
   trunk/data/levels/enigma_viii/ral30_1.xml
   trunk/data/levels/enigma_viii/raywick05_1.xml
Log:
-> Updated level according to latest new API renamings
-> Fixed missing redrock mapping in old API



Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/api1init.lua	2009-01-16 20:07:35 UTC (rev 1458)
@@ -401,6 +401,7 @@
     st_redbrown_hollow = "st-marble_hole",
     st_redbrown_movable = "st-marble_move",
     st_redmarble = "st-stone2",
+    st_redrock = "st-redrock",
     st_rotator_cw = "st-rotator-right",
     st_rotator_ccw = "st-rotator-left",
     st_rotator_cw_movable = "st-rotator_move-right",

Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -88,7 +88,7 @@
     <level _seq="80" _title="Black Lava" _xpath="enigma_i/ant12_1" author="Petr Machata" ctrl="force" easy="false" id="ant12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Flood Gates" _xpath="enigma_iv/nat08_1" author="Nat Pryce" ctrl="force" easy="false" id="nat8" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Balancing Act" _xpath="enigma_i/nat09_1" author="Nat Pryce" ctrl="force" easy="false" id="nat9" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="83" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="83" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Sheet Of Ice" _xpath="enigma_v/martin58_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin58" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="No Trespassing" _xpath="enigma_peroxyd/peroxydlink65_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="86" _title=".J.U.M.P." _xpath="enigma_i/martin60_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin60" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -135,7 +135,7 @@
     <level _seq="127" _title="The Document" _xpath="enigma_i/duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="129" _title="- Meditation -" _xpath="enigma_peroxyd/peroxydlink60_2" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation17" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="131" _title="Just a Maze?" _xpath="enigma_vi/duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="The Race" _xpath="enigma_iv/duffy11_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy11" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Double-Spiral" _xpath="enigma_iv/duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="11" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="12" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_3.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="9" title="Enigma 0.92 - 3"/>
+  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma 0.92 - 3"/>
 
   <attributes/>
 
@@ -63,7 +63,7 @@
     <level _seq="55" _title="Civil Engineer" _xpath="enigma_i/duffy122_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy122" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Electric Meditation" _xpath="enigma_iv/duffy123_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy123" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Worse Nightmare" _xpath="enigma_iv/duffy124_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy124" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="58" _title="Triple-Maze" _xpath="enigma_iv/duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="58" _title="Triple-Maze" _xpath="enigma_iv/duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Elaborate" _xpath="enigma_v/duffy126_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy126" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Now What?" _xpath="enigma_v/duffy127_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy127" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Patterns" _xpath="enigma_ii/duffy128_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy128" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -67,7 +67,7 @@
     <level _seq="59" _title="Manamana" _xpath="enigma_iii/just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="enigma_iii/nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Don't Touch" _xpath="enigma_iii/raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bump Ahead" _xpath="enigma_iii/illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Killer Hills" _xpath="enigma_iii/luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Fox in the Henhouse" _xpath="enigma_iii/nat26_1" author="Nat Pryce" ctrl="force" easy="false" id="nat26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -94,10 +94,10 @@
     <level _seq="86" _title="Bolder Run" _xpath="enigma_iv/just02_1" author="JuSt" ctrl="force" easy="false" id="just02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Laser Pushing" _xpath="enigma_iv/just04_1" author="JuSt" ctrl="force" easy="false" id="just04" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Friction Nightmare" _xpath="enigma_iv/luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Hobbyte" _xpath="enigma_v/alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Water Castle" _xpath="enigma_v/luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Moving Puzzles" _xpath="enigma_v/luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -169,7 +169,7 @@
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="162" _title="Checkmate I" _xpath="enigma_vi/andreas29_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="163" _title="The Stable" _xpath="enigma_vi/andreas30_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas30" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="165" _title="Chessing Positions" _xpath="enigma_vi/raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="166" _title="Twisting by the pool" _xpath="enigma_vi/alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="167" _title="Hot Meditation" _xpath="enigma_vi/ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 1.01 new"/>
+  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 1.01 new"/>
 
   <attributes/>
 
@@ -14,7 +14,7 @@
     <level _seq="6" _title="Red Herrings" _xpath="enigma_vi/andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="7" _title="Playing with Lasers" _xpath="enigma_vi/just09_1" author="JuSt" ctrl="force" easy="false" id="just09_1" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Hot Hurdle Race" _xpath="enigma_vi/ulf04_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20070124ulf019" rel="1" rev="93" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="96" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="Counterclockwise" _xpath="enigma_vi/ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="97" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Check the light" _xpath="enigma_vi/just10_2" author="JuSt" ctrl="force" easy="false" id="just10" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="11" _title="Twokoban I" _xpath="enigma_vi/raoul28_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="The Passage" _xpath="enigma_vi/just11_1" author="JuSt" ctrl="force" easy="false" id="just11" rel="1" rev="7" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -33,7 +33,7 @@
     <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="30" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -59,8 +59,8 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="10" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
@@ -71,7 +71,7 @@
     <level _seq="63" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="65" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Underground Temple" _xpath="enigma_vii/joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="Mountain Climbing III" _xpath="enigma_vii/joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,65 +79,65 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="39" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="40" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="27" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="74" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="35" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="141" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="142" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/ant07_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Automaton Magic" el:subtitle="" el:id="ant07"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2002 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,21 +23,20 @@
 ti["+"] = ti["~"] .. {"it_trigger", target="turn_boulder", action_1="callback", invisible=true}
 ti["A"] = {"ac_marble_black", 0.0, 0.5}
 
-w, h = wo(ti, " ", {
-"####O##########O####",
-"#~~~~          ~~~~#",
-"#~                ~#",
-"#~                ~#",
-"O~  +   B      +  ~O",
-"#                  #",
-"#       m A        #",
-"#                  #",
-"O~  +          +  ~O",
-"#~                ~#",
-"#~                ~#",
-"#~~~~          ~~~~#",
-"####O##########O####"
-})
+wo(ti, " ", {
+    "####O##########O####",
+    "#~~~~          ~~~~#",
+    "#~                ~#",
+    "#~                ~#",
+    "O~  +   B      +  ~O",
+    "#                  #",
+    "#       m A        #",
+    "#                  #",
+    "O~  +          +  ~O",
+    "#~                ~#",
+    "#~                ~#",
+    "#~~~~          ~~~~#",
+    "####O##########O####"})
 
 function turn_boulder(state, sender)
     if st(sender) == no["the_boulder"] then

Modified: trunk/data/levels/enigma_ii/ant14_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/ant14_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_ii/ant14_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Dancers" el:subtitle="" el:id="ant14"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 ti["."] = {"fl_water"}
 ti["-"] = {"fl_marble"}
-ti["#"] = {"st-marble"}
+ti["#"] = {"st_redbrown"}
 ti[">"] = ti["-"] .. {"st_boulder", name="boulders#", orientation=EAST}
 ti["V"] = {"st_laser", orientation=SOUTH, state=ON}
 ti["^"] = {"st_laser", orientation=NORTH, state=ON}

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma II"/>
 
   <attributes/>
 
@@ -14,9 +14,9 @@
     <level _seq="6" _title="Sentinels" _xpath="./siegfried23_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Push Them In" _xpath="./nat05_1" author="Andreas Persenius, Nat Pryce" ctrl="force" easy="false" id="nat5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Rollercoaster" _xpath="./jc02_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="Dancers" _xpath="./ant14_2" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="Dancers" _xpath="./ant14_2" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="./wb10_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Enignimm" _xpath="./alain02_1" author="Alain Busser" ctrl="force" easy="false" id="alain02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="One Way Ticket" _xpath="./luc25_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Castle" el:subtitle="" el:id="andreas04"/>
-      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="12" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -40,8 +40,8 @@
 ti["3   "]={"fl-gradient9"}
 ti[" !  "]={"st-greenbrown"}
 ti[" #  "]={"st_stoneimpulse"}
-ti[" $  "]={"st-rock1_move"}
-ti[" %  "]={"st-rock1"}
+ti[" $  "]={"st_granite_movable"}
+ti[" %  "]={"st_granite"}
 ti[" A  "]={"st_fourswitch", "fo_a", action = "signal",
              target_0 = "la_w", target_1 = "la_s", target_2 = "la_e", target_3 = "la_n"}
 ti[" B  "]={"st_fourswitch", "fo_b", action = "signal",

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma III"/>
 
   <attributes/>
 
@@ -69,7 +69,7 @@
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Emergency Exit" _xpath="./ss05_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="The Safe" _xpath="./siegfried77_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried77" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Block its way!" _xpath="./wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="67" _title="Bump Ahead" _xpath="./illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/ant22_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant22_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iv/ant22_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chained" el:subtitle="" el:id="ant22"/>
-      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 ti[" "] = {"fl_metal"}
 ti["."] = {"fl_abyss"}
 ti["-"] = {"fl_metal_7"}
-ti["#"] = {"st-metal"}
+ti["#"] = {"st_metal"}
 ti["x"] = {"st-grate1"}
 ti["0"] = {"st_oxyd", name="grp0#"}
 ti["1"] = {"st_oxyd", name="grp1#"}

Modified: trunk/data/levels/enigma_iv/duffy125_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy125_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iv/duffy125_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Triple-Maze" el:subtitle="" el:id="duffy125"/>
-      <el:version el:score="2" el:release="2" el:revision="9" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="10" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -24,7 +24,7 @@
 ti["W"] = {"st_passage_white_square"}
 ti["H"] = {"st-grate3"}
 ti["o"] = {"st_oxyd"}
-ti["*"] = {"st-brownie"}
+ti["*"] = {"st_brownie"}
 ti["x"] = {"it_yinyang"}
 ti["z"] = {"#ac_marble_black", "a1"} .. ti["x"]
 ti["y"] = {"#ac_marble_white", "a3"} .. ti["x"]

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="11" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="12" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -62,10 +62,10 @@
 ti["F"] = {"it-flagblack"} .. ti["l"]
 ti["O"] = {"it_extralife"} .. ti["l"]
 ti["T"] = {"st-thief"} .. ti["="]
-ti["B"] = {"st-invisible"} .. ti["A"]
+ti["B"] = {"st_invisible"} .. ti["A"]
 ti["a"] = {"st-greenbrown_hole"} .. ti["A"]
 ti["b"] = ti["%"] .. ti["A"]
-ti["I"] = {"st-invisible"}
+ti["I"] = {"st_invisible"}
 ti["M"] = {"#ac_rotor", owner=1, adhesion=0, range=4, strength=-5} .. ti["l"]
 ti["N"] = {"#ac_top", owner=1, adhesion=0, range=8, strength=20} .. ti["i"]
 ti["R"] = {"st_oneway", orientation=EAST} .. ti["l"]
@@ -82,7 +82,7 @@
 ti["?"] = {"st_charge_plus"} .. ti["l"]
 ti["/"] = {"st_charge_minus"} .. ti["l"]
 ti[":"] = {"st_charge_zero"} .. ti["A"]
-ti[";"] = {"st-invisible", "whitegate"} .. ti["l"]
+ti[";"] = {"st_invisible", "whitegate"} .. ti["l"]
 ti["2"] = {"st_switch", target="whiteswitch"} .. ti["l"]
 ti["m"] = {"it-document", text="text1"} .. ti["l"]
 

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma IV"/>
 
   <attributes/>
 
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Slide it in" _xpath="./ss13_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss13" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Switch-Switch" _xpath="./raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Slinky-Racing" _xpath="./duffy14_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Too Hot" _xpath="./martin94_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin94" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Graduated Puzzles" _xpath="./duffy94_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Running Stone" _xpath="./christophanita01_1" author="Christoph &amp; Anita" ctrl="force" easy="false" id="christophanita_runningstone" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -73,7 +73,7 @@
     <level _seq="65" _title="Little Bit of Everything" _xpath="./duffy34_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy34" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Snowball Fight" _xpath="./nat14_1" author="Nat Pryce" ctrl="force" easy="false" id="nat14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="U-Swap" _xpath="./ralf15_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf15" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="68" _title="Triple-Maze" _xpath="./duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="9" score="2" target="time" unit="duration"/>
+    <level _seq="68" _title="Triple-Maze" _xpath="./duffy125_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy125" rel="2" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="The Dark Outside" _xpath="./andreas16_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas16" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Electric Meditation" _xpath="./duffy123_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy123" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Seed Puzzle" _xpath="./duffy77_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy77" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -91,7 +91,7 @@
     <level _seq="83" _title="Friction Nightmare" _xpath="./luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Prison Yard" _xpath="./nat20_1" author="Nat Pryce" ctrl="force" easy="true" id="nat20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Bad Nightmare" _xpath="./duffy117_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy117" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Worse Nightmare" _xpath="./duffy124_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy124" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="88" _title="Squaring the Circle" _xpath="./nat16_1" author="Nat Pryce" ctrl="force" easy="true" id="nat16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pain" _xpath="./ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="11" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="12" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_iv/mp03_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Laser Games" el:subtitle="" el:id="mp03"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author el:name="moonpearl"/>
       <el:copyright>Copyright ? moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 wo["ConserveLevel"] = false
 
 ti["  "] = ti({"fl_blueslab", checkerboard = 1}) .. {"fl_redslab", checkerboard = 0}
-ti["# "] = {"st-rock4"}
+ti["# "] = {"st_purplemarble"}
 ti["= "] = {"st-block"}
 ti["^ "] = {"st_laser", state = ON, orientation = NORTH}
 ti["$ "] = {"st_oxyd", flavor = "b"}

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="10" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="11" title="Tutorial"/>
 
   <attributes/>
 
@@ -56,12 +56,12 @@
     <level _seq="48" _title="Brittle Floor!" _xpath="enigma_iii/martin91_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin91" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Inverted Laser Spiral" _xpath="enigma_ii/duffy42_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy42" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="enigma_i/siegfried35_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Items" _xpath="./a_tut05" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Flying" _xpath="enigma_i/luc07_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc07" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="56" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="56" _title="Automaton Magic" _xpath="enigma_ii/ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Back And Forth" _xpath="enigma_ii/martin26_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="58" _title="If They'd Just Hold Still" _xpath="enigma_i/duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Formentera!" _xpath="enigma_i/luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -44,32 +44,32 @@
     ti["Q"] = {"st_fake_oxydd"}
 end
 
-w, h = wo(ti, " ", {
-   "##########################################################",
-   "#                  #                  #                  #",
-   "# 2111111111111114 # 2111111111111114 # 2111111111111114 #",
-   "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
-   "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
-   "# 1II0IIIIIIIIIII1   1RR0RRRRRRRRRRR1   1DD0DDDDDDDDDDD1 #",
-   "# 1IIIIIIIIIIIIII11111RRRRRRRRRRRRRR11111DDDDDDDDDDDDDD1 #",
-   "# 1IIIIIIIIIIIQII1   1RRRRRRRRRRRQRR1   1DDDDDDDDDDDQDD1 #",
-   "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
-   "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
-   "# 3111111111111115 # 3111111111111115 # 3111111111111115 #",
-   "#        1         #         1        #         1        #",
-   "######## 1 ################# 1 ################ 1 ########",
-   "#        1         #         1        #         1        #",
-   "# 2111111111111114 # 21111111d1111114 # 2111111111111114 #",
-   "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
-   "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
-   "# 1MM0MMMMMMMMMMM1   1CC0CCCCCCCCCCC1   1SS0SSSSSSSSSSS1 #",
-   "# 1MMMMMMMMMMMMMM1111dCCCCCCCoCCCCCCd1111SSSSSSSSSSSSSS1 #",
-   "# 1MMMMMMMMMMMQMM1   1CCCCCCCCCCCQCC1   1SSSSSSSSSSSQSS1 #",
-   "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
-   "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
-   "# 3111111111111115 # 3111111111111115 # 3111111111111115 #",
-   "#                  #                  #                  #",
-   "##########################################################"})
+wo(ti, " ", {
+    "##########################################################",
+    "#                  #                  #                  #",
+    "# 2111111111111114 # 2111111111111114 # 2111111111111114 #",
+    "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
+    "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
+    "# 1II0IIIIIIIIIII1   1RR0RRRRRRRRRRR1   1DD0DDDDDDDDDDD1 #",
+    "# 1IIIIIIIIIIIIII11111RRRRRRRRRRRRRR11111DDDDDDDDDDDDDD1 #",
+    "# 1IIIIIIIIIIIQII1   1RRRRRRRRRRRQRR1   1DDDDDDDDDDDQDD1 #",
+    "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
+    "# 1IIIIIIIIIIIIII1 # 1RRRRRRRRRRRRRR1 # 1DDDDDDDDDDDDDD1 #",
+    "# 3111111111111115 # 3111111111111115 # 3111111111111115 #",
+    "#        1         #         1        #         1        #",
+    "######## 1 ################# 1 ################ 1 ########",
+    "#        1         #         1        #         1        #",
+    "# 2111111111111114 # 21111111d1111114 # 2111111111111114 #",
+    "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
+    "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
+    "# 1MM0MMMMMMMMMMM1   1CC0CCCCCCCCCCC1   1SS0SSSSSSSSSSS1 #",
+    "# 1MMMMMMMMMMMMMM1111dCCCCCCCoCCCCCCd1111SSSSSSSSSSSSSS1 #",
+    "# 1MMMMMMMMMMMQMM1   1CCCCCCCCCCCQCC1   1SSSSSSSSSSSQSS1 #",
+    "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
+    "# 1MMMMMMMMMMMMMM1 # 1CCCCCCCCCCCCCC1 # 1SSSSSSSSSSSSSS1 #",
+    "# 3111111111111115 # 3111111111111115 # 3111111111111115 #",
+    "#                  #                  #                  #",
+    "##########################################################"})
 
 wo:shuffleOxyd()
  ]]></el:luamain>

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 -- Originally created with the help of BBE 1.05
 
 ti[" "]={"fl_metal_7", friction=4.0}
-ti["!"]={"st-metal"}
+ti["!"]={"st_metal"}
 ti["$"]={"st_oxyd", flavor = "a"}
 ti["1"]={"st_laserswitch", target = "door1"}
 ti["2"]={"st_laserswitch", target = "door2"}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma V"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack5_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="April 1st" _xpath="./alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Send me the keys !" _xpath="./alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Hobbyte" _xpath="./alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Water Castle" _xpath="./luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Moving Puzzles" _xpath="./luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="10" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="11" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti[". "] = {"fl_rough", "destination5"}
 ti["+ "] = {"fl_rough", "destination6"}
 ti["~ "] = {"fl_water"}
-ti["# "] = {"st-rock1"}
+ti["# "] = {"st_granite"}
 ti["F "] = {"st_quake", "blocker"}
 ti["V "] = {"st_boulder", orientation=SOUTH}
 ti["> "] = {"st_boulder", "boulder3", orientation=EAST}
@@ -43,7 +43,7 @@
 ti["G "] = {"st-glass1"}
 ti["g "] = {"st-glass1", "glass7"}
 ti["H "] = {"st-glass1_hole"}
-ti["= "] = {"st-rock1_move"}
+ti["= "] = {"st_granite_movable"}
 ti["S "] = {"st_switch", target="blocker", action="kill"}
 ti["O "] = {"st_oxyd", flavor="c"}
 ti["t "] = {"it_trigger"}

Modified: trunk/data/levels/enigma_vi/andreas31_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chess, Bugs &amp; Rock'n'Roll" el:subtitle="" el:id="andreas31"/>
-      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -59,7 +59,7 @@
 
 ti["   "] = {"fl_wood"}
 ti["!  "] = {"fl_wood"}
-ti[" ! "] = {"st-redrock"}  -- st-rock6
+ti[" ! "] = {"st_redrock"}  -- st_purplegray
 ti[" # "] = {"st_oxyd", flavor = "b"}
 ti[" $ "] = {"st-bug"}
 ti[" T "] = {"it_trigger", target = "trigger_call"}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma VI"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Dancing on Light Beams" _xpath="./andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Wormhole Madness!" _xpath="./edward24_1" author="Edward" ctrl="force" easy="false" id="edward24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Alcatraz" _xpath="./ralf14_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Oiltrace" _xpath="./raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
@@ -62,7 +62,7 @@
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="96" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Counterclockwise" _xpath="./ulf05_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20070126ulf020" rel="2" rev="97" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Chess and Boxes" _xpath="./johannes01_1" author="Johannes Laire" ctrl="force" easy="false" id="20061201johannes313" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Walk the line" _xpath="./erich02_1" author="Erich Schubert" ctrl="force" easy="true" id="erich02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Jump into Meditation" _xpath="./ral07_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060525ral009" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ulf05_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ulf05_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vi/ulf05_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Counterclockwise" el:id="20070126ulf020"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 96 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 97 $" el:status="released"/>
       <el:author  el:name="Ulf Stegemann" el:email="ulf-enigma at zeitform.de" el:homepage="http://ulf.zeitform.de"/>
       <el:copyright>Copyright ? 2007 Ulf Stegemann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
   ti["#"] = {"st_fake_oxydc"}
   lint = 0.20
 else
-  ti["#"] = {"st-bluegray"}
+  ti["#"] = {"st_bluegray"}
   lint = 0.30
 end
 ti[" "] = {"fl_rough", friction=5.0, adhesion=1.2}

Modified: trunk/data/levels/enigma_vii/huesing01_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
      <el:info el:type="level">
        <el:identity el:title="Watchmaker" el:subtitle="Mend the clockwork" el:id="huesing01"/>
-       <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+       <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
        <el:author el:name="Johannes H?sing" el:email="hannes at ruhrau.de" el:homepage="http://derwisch.wikidot.com"/>
        <el:copyright>Copyright ? 2008 Johannes H?sing </el:copyright>
        <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti["+"] = {"fl_metal_3"}
 ti["|"] = {"fl_metal_6"}
 ti["~"] = {"fl_water"}
-ti["#"] = {"st-metal"}
+ti["#"] = {"st_metal"}
 ti["W"] = ti["+"] .. {"st_box_wood"}
 ti["X"] = {"st_oxyd"}
 ti[":"] = {"st_door","door#", flavor="d", faces="ew"}
@@ -40,20 +40,19 @@
 ti["0"] = {"ac_marble_black", 0.0, 0.5}
 
 w, h = wo(ti, " ", {
-"####################",
-"#X : : : :A        #",
-"###########        #",
-"#                  #",
-"#   1-a-2  5-b-6   #",
-"#   |+++|  |+++|   #",
-"#   a+W+a 0b+W+b   #",
-"#   |+D+|  |+++|   #",
-"#   3-a-4  7-b-8   #",
-"#                  #",
-"#        ###########",
-"#        B: : : : X#",
-"####################"
-})
+    "####################",
+    "#X : : : :A        #",
+    "###########        #",
+    "#                  #",
+    "#   1-a-2  5-b-6   #",
+    "#   |+++|  |+++|   #",
+    "#   a+W+a 0b+W+b   #",
+    "#   |+D+|  |+++|   #",
+    "#   3-a-4  7-b-8   #",
+    "#                  #",
+    "#        ###########",
+    "#        B: : : : X#",
+    "####################"})
 
   ]]></el:luamain>
     <el:i18n>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma VII"/>
 
   <attributes/>
 
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="54" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -83,8 +83,8 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="10" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="5" score="1" target="time" unit="duration"/>
@@ -95,7 +95,7 @@
     <level _seq="87" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="89" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Underground Temple" _xpath="./joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="93" _title="Mountain Climbing III" _xpath="./joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="40" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 30 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,13 +18,13 @@
 ti[" $"] = {"fl_dunes"}
 ti[" %"] = {"fl_water"}
 ti["! "] = {"st_death"}
-ti["# "] = {"st-rock1"}
+ti["# "] = {"st_granite"}
 ti[" &"] = {"fl_metal_7", friction=4.0}
 ti["$ "] = {"st-thief"}
 ti["% "] = {"st_passage_black_cross"}
 ti["& "] = {"st-stone_break"}
 ti["' "] = {"st-glass_move"}
-ti["( "] = {"st-bumps"}
+ti["( "] = {"st_pinkbumps"}
 ti[") "] = {"st-grate1"}
 ti["h "] = {"it_strip", connections="ew"}
 ti["* "] = {"st_brick"}
@@ -39,12 +39,12 @@
 ti["0 "] = {"st_mirror", movable=true, transparent=true, orientation=WEST}
 ti[" !"] = {"fl_brick"}
 ti[" )"] = {"fl_red"}
-ti["1 "] = {"st-brownie"}
-ti["2 "] = {"st-rock4"}
+ti["1 "] = {"st_brownie"}
+ti["2 "] = {"st_purplemarble"}
 ti[" *"] = {"fl_plank"}
 ti["u "] = {"it_umbrella"}
 ti[" +"] = {"fl_aquamarine"}
-ti["3 "] = {"st-yellow"}
+ti["3 "] = {"st_yellow"}
 ti["4 "] = {"st_door", faces="ew"}
 ti["e "] = {"it_extralife"}
 ti["5 "] = {"st_door", faces="ns"}
@@ -71,7 +71,7 @@
 ti["C "] = {"st_rotator_ccw"}
 ti[" 0"] = {"fl_sand"}
 ti[" 1"] = {"fl_blueslab"}
-ti["D "] = {"st-rock1_hole"}
+ti["D "] = {"st_granite_hollow"}
 ti["E "] = {"st_stoneimpulse_hollow"}
 ti["F "] = {"st_stoneimpulse"}
 ti[" 2"] = {"fl_ivory"}
@@ -81,7 +81,7 @@
 ti["G "] = {"st_actorimpulse_invisible"}
 ti["y "] = {"it_cherry"}
 ti[" 4"] = {"fl_lawn_c1"}
-ti["H "] = {"st-marble"}
+ti["H "] = {"st_redbrown"}
 ti[" 5"] = {"fl_lawn_e2"}
 ti["I "] = {"st_swap"}
 ti["z "] = {"it-flagwhite"}
@@ -93,7 +93,7 @@
 ti["M "] = {"st_shogun_sml"}
 ti["N "] = {"st_door_a"}
 ti["m "] = {"it-springboard"}
-ti["O "] = {"st-rock6"}
+ti["O "] = {"st_purplegray"}
 ti["P "] = {"st-grate3"}
 ti["R "] = {"st-grate2"}
 ti[" 7"] = {"fl_space"}
@@ -102,7 +102,7 @@
 ti["T "] = {"st_boulder_s"}
 ti[" 9"] = {"fl_hay"}
 ti["U "] = {"st-rock3_break"}
-ti["V "] = {"st-rock5"}
+ti["V "] = {"st_tigris"}
 ti["W "] = {"st_mirror", movable=true, transparent=false, orientation=SOUTH}
 ti["n "] = {"it-surprise"}
 ti["X "] = {"st_oneway_black_n"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:34$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:35$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -48,9 +48,9 @@
 ti[") "] = {"st-grate1"}
 ti["a1"] = ti[" !"] .. {"st-grate1"}
 ti["* "] = {"st_mirror", movable=true, transparent=false}
-ti["+ "] = {"st-rock2"}
+ti["+ "] = {"st_darkgray"}
 ti[" '"] = {"fl_water"}
-ti[", "] = {"st-rock1_hole"}
+ti[", "] = {"st_granite_hollow"}
 ti["- "] = {"st-thief"}
 ti[". "] = {"st_puzzle_yellow", connections="es"}
 ti["p2"] = ti[" #"] .. {"st_puzzle_yellow", connections="es"}
@@ -86,9 +86,9 @@
 ti[": "] = {"st_puzzle_yellow", connections="nw"}
 ti[" )"] = {"fl_space"}
 ti["< "] = {"st_actorimpulse"}
-ti["= "] = {"st-yellow"}
+ti["= "] = {"st_yellow"}
 ti["> "] = {"st_death_invisible"}
-ti["? "] = {"st-brownie"}
+ti["? "] = {"st_brownie"}
 ti["g "] = {"it_glasses"}
 ti["f "] = {"it-flagblack"}
 ti["@ "] = {"st-stone_break"}
@@ -108,7 +108,7 @@
 ti[" *"] = {"fl_ivory"}
 ti["F "] = {"st_oneway_s"}
 ti[" +"] = {"fl_sahara"}
-ti["G "] = {"st-rock6"}
+ti["G "] = {"st_purplegray"}
 ti["H "] = {"st_oneway_e"}
 ti["I "] = {"st_oneway_n"}
 ti["Y "] = {"st_knight"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 39 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 40 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 
 ti[" !"] = {"fl_metal_7", friction=4.0}
-ti["! "] = {"st-yellow"}
+ti["! "] = {"st_yellow"}
 ti["# "] = {"st_death"}
 ti[" #"] = {"fl_blueslab"}
 ti[" $"] = {"fl_ivory"}
@@ -52,7 +52,7 @@
 ti["P "] = {"st_oneway_black_s"}
 ti["c "] = {"it_crack_l"}
 ti["0 "] = {"st-brick_magic"}
-ti["1 "] = {"st-rock1_hole"}
+ti["1 "] = {"st_granite_hollow"}
 ti["B "] = {"st_passage_black_frame"}
 ti["2 "] = {"st_boulder_w"}
 ti["o "] = {"it-springboard"}
@@ -60,13 +60,13 @@
 ti["f "] = {"it_coffee"}
 ti["g "] = {"it-blackbomb"}
 ti["5 "] = {"st_passage_black_cross"}
-ti["6 "] = {"st-rock1"}
+ti["6 "] = {"st_granite"}
 ti[" 1"] = {"fl_redslab"}
 ti["7 "] = {"st_boulder_e"}
 ti["Z "] = {"st_boulder_n"}
 ti["Y "] = {"st_boulder_s"}
 ti[" 2"] = {"fl_samba"}
-ti["8 "] = {"st-rock4"}
+ti["8 "] = {"st_purplemarble"}
 ti["p "] = {"it_puller_n"}
 ti["h "] = {"it_strip", connections="ew"}
 ti[" 3"] = {"fl_swamp"}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="10" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="11" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,20 +15,20 @@
 ti[" "] = {"fl_sand"}
 ti["a"] = ti[" "] .. {"st_chess_white", name="Silver"} -- Silver (Lone Ranger's Horse)
 ti["b"] = ti[" "] .. {"st_passage_black_slash"}
-ti["c"] = ti[" "] .. {"st-marble"} -- MARBLE WALL
+ti["c"] = ti[" "] .. {"st_redbrown"} -- MARBLE WALL
 ti["d"] = ti[" "] .. {"st_actorimpulse"}
-ti["e"] = ti[" "] .. {"st-marble_hole"} -- MARBLE WALL (HOLLOW)
+ti["e"] = ti[" "] .. {"st_redbrown_hollow"} -- MARBLE WALL (HOLLOW)
 ti["f"] = {"fl_fake_abyss"} -- TOMB FLOOR
 ti["h"] = ti[" "] .. {"it_trigger", action="callback", target="Band1"} -- attaches rubber band from Lone Ranger to Silver
-ti["i"] = ti[" "] .. {"st-invisible"}
-ti["j"] = ti[" "] .. {"it_glasses", state=SPOT_HOLLOW + SPOT_DEATH + SPOT_ACTORIMPULSE} .. ti({"st-marble_hole"})
+ti["i"] = ti[" "] .. {"st_invisible"}
+ti["j"] = ti[" "] .. {"it_glasses", state=SPOT_HOLLOW + SPOT_DEATH + SPOT_ACTORIMPULSE} .. ti({"st_redbrown_hollow"})
 ti["k"] = ti[" "] .. {"it_trigger", action="callback", target="Band2"} -- attaches rubber band from Tonto to Tonto's Horse
 ti["l"] = {"fl_water"}
 ti["m"] = ti[" "] .. {"it_hammer"}
 ti["n"] = (ti[" "] .. {"it-drop"}) .. ti({"st-chameleon"})
 ti["o"] = {"fl_sand", secure=true} .. ti({"it-burnable_oil"})
 ti["p"] = {"fl_swamp"}
-ti["q"] = ti[" "] .. {"st-redrock"} -- SUN RAY
+ti["q"] = ti[" "] .. {"st_redrock"} -- SUN RAY
 ti["r"] = {"fl_red"} -- SUN
 ti["s"] = ti[" "] .. {"st_scissors"}
 ti["t"] = ti[" "] .. {"st-thief"}
@@ -45,16 +45,16 @@
 ti["F"] = ti[" "] .. {"st_oneway_white", state=SOUTH}
 ti["G"] = ti[" "] .. {"st_oneway_white", state=WEST}
 ti["H"] = ti[" "] .. {"st_oneway_white", state=EAST}
-ti["I"] = ti["f"] .. {"st-invisible"} --Invisible stone on black floor
+ti["I"] = ti["f"] .. {"st_invisible"} --Invisible stone on black floor
 ti["J"] = ti["y"] .. {"st_passage_black_slash"} --Black grill on blue floor
 ti["K"] = ti["y"] .. {"st-grate1"} --Grate on blue floor
 ti["L"] = ti[" "] .. {"it_landmine"}
 ti["M"] = ti[" "] .. {"it_spoon"}
 ti["N"] = ti[" "] .. {"it-dynamite"}
-ti["O"] = ti["y"] .. {"st-invisible"} --Invisible stone on blue floor
+ti["O"] = ti["y"] .. {"st_invisible"} --Invisible stone on blue floor
 ti["P"] = ti[" "] .. {"st_door_a", name="Door1"} -- Tonto's prison door
 ti["Q"] = ti[" "] .. {"#ac_rotor", range=10, gohome=0}
-ti["R"] = ti["r"] .. {"st-invisible"} --Invisible stone on red floor
+ti["R"] = ti["r"] .. {"st_invisible"} --Invisible stone on red floor
 ti["S"] = ti[" "] .. {"st_door_a", name="Door2"} -- Silver's prison door
 ti["T"] = ti["y"] .. {"st-thief"} --Thief on blue floor
 ti["U"] = ti[" "] .. {"it_crack_l"}
@@ -70,7 +70,7 @@
 ti["6"] = ti[" "] .. {"it-booze"}
 ti["!"] = ti[" "] .. {"it_key", code="1"}
 ti["@"] = ti[" "] .. {"it_key", code="2"}
-ti["#"] = ti[" "] .. {"st-camouflage"}
+ti["#"] = ti[" "] .. {"st_camouflage"}
 ti["$"] = ti[" "] .. {"st_box_wood"} .. ti({"it_yinyang"})
 ti["%"] = ti[" "] .. {"st_death_invisible"}
 ti["&"] = ti[" "] .. {"st_actorimpulse_invisible"}
@@ -165,7 +165,7 @@
 
 function Band1() -- attaches rubber band from Lone Ranger to Silver
     wo:add({"ot_rubberband", anchor1="Ranger", anchor2="Silver", length=3, strength=10, max=5, min=0})
-    wo[{94, 24}] = {"st-marble"}
+    wo[{94, 24}] = {"st_redbrown"}
 end
 
 function Band2() -- attaches rubber band from Tonto to Scout

Modified: trunk/data/levels/enigma_vii/pulley05_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Re-entry Circuit" el:subtitle="" el:id="pulley05"/>
-      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -14,7 +14,7 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_pinkbumps"}
 ti["O"] = ti[" "] .. {"st_stoneimpulse"}
-ti["b"] = ti[" "] .. {"st-bumps"}
+ti["b"] = ti[" "] .. {"st_pinkbumps"}
 ti["l"] = ti[" "] .. {"st_stoneimpulse_new", orientation = SOUTH, hollow = true}
 ti["o"] = ti[" "] .. {"st_stoneimpulse_hollow"}
 ti["w"] = ti[" "] .. {"st_box_wood"}

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="12" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="13" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,22 +43,22 @@
 ti["?"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_seed"}
 ti["/"] = {"st_turnstilearm_n"} .. ti({"fl_bright"})
 ti["+"] = {"st_turnstilearm_n"} .. ti({"fl_lawn"})
-ti["a"] = ti[" "] .. {"st-camouflage"}
+ti["a"] = ti[" "] .. {"st_camouflage"}
 ti["b"] = {"fl_bright"} .. ti({"it-booze"})
 ti["c"] = {"fl_lawn"} .. ti({"st_nil"}) .. ti({"it_nil"})
-ti["d"] = ti[" "] .. {"st-redrock"} --Walls
+ti["d"] = ti[" "] .. {"st_redrock"} --Walls
 ti["e"] = {"fl-gradient16"} .. ti({"st_nil"})
 ti["f"] = {"fl_lawn"} --Audrey's floor
 ti["g"] = ti[" "] .. {"st-grate1"}
 ti["h"] = (ti({"fl_bright"}) .. {"it_hammer"}) .. {"st-rock3_hole"}
 ti["i"] = {"fl_mortar"} .. ti({"st-beads"}) --Window
 ti["j"] = {"fl_bright"} --Orin's floor
-ti["k"] = ti[" "] .. {"st-marble"} --Audrey's Walls
+ti["k"] = ti[" "] .. {"st_redbrown"} --Audrey's Walls
 ti["m"] = {"fl_plank"} .. ti({"it_coin_l"})
 ti["n"] = {"fl-gradient13"} .. ti({"st-grate1"})
-ti["o"] = (ti[" "] .. {"it_meditation_hollow", essential=1}) .. {"st-camouflage"}
+ti["o"] = (ti[" "] .. {"it_meditation_hollow", essential=1}) .. {"st_camouflage"}
 ti["p"] = ti[" "] .. {"st-plain"}
-ti["q"] = ti[" "] .. {"st-woven"}
+ti["q"] = ti[" "] .. {"st_woven"}
 ti["s"] = {"fl-gradient14"} .. ti({"st_nil"})
 ti["t"] = (ti({"fl-gradient14"}) .. {"st-grate1"}) .. {"it-burnable"}
 ti["w"] = {"fl-gradient15"} .. ti({"st_nil"})

Modified: trunk/data/levels/enigma_viii/andreas47_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Show Jumper" el:subtitle="" el:id="andreas47"/>
-      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti[" "] = {"fl_lawn_b"}
 ti["_"] = ti[" "]
 ti["&"] = {"fl_lawn"}
-ti["+"] = ti["&"] --.. {"st-yellow"}
+ti["+"] = ti["&"] --.. {"st_yellow"}
 ti["*"] = ti["&"]
 ti["%"] = ti["+"]
 ti["."] = ti["_"] --.. {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="11" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="12" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,13 +31,13 @@
                   SPOT_HOLLOW}
 
 designs =
-  {{"fl_samba",     "fl_water", "st-bluegray",   "st-bluegray_hole",   OXYD_CYAN},
-   {"fl_rock",      "fl_abyss", "st-camouflage", "st-camouflage_hole", OXYD_GREEN},
+  {{"fl_samba",     "fl_water", "st_bluegray",   "st_bluegray_hollow",   OXYD_CYAN},
+   {"fl_rock",      "fl_abyss", "st_camouflage", "st_camouflage_hollow", OXYD_GREEN},
    {"fl_sahara",    "fl_abyss", "st-greenbrown", "st-greenbrown_hole", OXYD_YELLOW},
-   {"fl_dark",     "fl_water", "st-marble",     "st-marble_hole",     OXYD_PURPLE},
-   {"fl_bluegreen", "fl_abyss", "st-metal",      "st-metal_hole",      OXYD_BLUE},
-   {"fl_brick",     "fl_water", "st-rock1",      "st-rock1_hole",      OXYD_RED},
-   {"fl_gravel",    "fl_abyss", "st-rock2",      "st-rock2_hole",      OXYD_BLACK},
+   {"fl_dark",     "fl_water", "st_redbrown",     "st_redbrown_hollow",     OXYD_PURPLE},
+   {"fl_bluegreen", "fl_abyss", "st_metal",      "st_metal_hollow",      OXYD_BLUE},
+   {"fl_brick",     "fl_water", "st_granite",      "st_granite_hollow",      OXYD_RED},
+   {"fl_gravel",    "fl_abyss", "st_darkgray",      "st_darkgray_hollow",      OXYD_BLACK},
    {"fl_metal",     "fl_water", "st-rock3",      "st-rock3_hole",      OXYD_WHITE}}
 
 vortex_goals = {}

Modified: trunk/data/levels/enigma_viii/andreas50_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/andreas50_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Oxyds" el:subtitle="" el:id="andreas50"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
 
 ti["  "] = {"fl_samba"}
 ti[". "] = {"fl_abyss"}
-ti["# "] = {"st-stone2"}
+ti["# "] = {"st_redmarble"}
 ti["@ "] = {"#ac_marble_black"}
 ti["D "] = {"st_oneway", orientation = SOUTH}
 ti["U "] = {"st_oneway", orientation = NORTH}

Modified: trunk/data/levels/enigma_viii/andreas51_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/andreas51_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Colored Turnstiles" el:subtitle="" el:id="andreas51"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock6"}
+ti["#"] = {"st_purplegray"}
 ti["@"] = {"#ac_marble_black", "marble_black"}
 
 ti["N"] = {"st_turnstilearm_n"}

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="23" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="24" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -24,7 +24,7 @@
 
 ti[" "] = {"fl_abyss"}
 ti["."] = {"fl_dark"}
-ti["#"] = {"st-rock1"}
+ti["#"] = {"st_granite"}
 ti["W"] = {"st_box_wood_v"}
 ti["w"] = ti["."] .. ti["W"]
 ti["q"] = ti["w"] .. {"it_extralife"}
@@ -246,16 +246,16 @@
 
 function sensorEasyWhite01()
     color = "white"
-    wo[{18,18}] = {"st-rock1"}
+    wo[{18,18}] = {"st_granite"}
     wo[{19,18}] = {"fl_abyss"}
-    wo[{20,18}] = {"st-rock1"}
+    wo[{20,18}] = {"st_granite"}
     wo:drawMap(ti, po(38, 0), easyCenterWhiteMap)
 end
 
 function sensorEasyBlack01()
-    wo[{18,18}] = {"st-rock1"}
+    wo[{18,18}] = {"st_granite"}
     wo[{19,18}] = ti["J"] .. {"it_wormhole", destination = po(94.5, 6.5), strength = 1.0, range = 1.0}
-    wo[{20,18}] = {"st-rock1"}
+    wo[{20,18}] = {"st_granite"}
     wo[{94,6}] = {"it_nil"}    -- remove wormhole
     wo:drawMap(ti, po(38, 0), easyCenterBlackMap)
 end

Modified: trunk/data/levels/enigma_viii/devnull04_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/devnull04_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="devnull04"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -54,7 +54,7 @@
 if wo["IsDifficult"] then
     ti[":"] = {"fl_abyss"}
 else
-    ti[":"] = {"st-invisible"}
+    ti[":"] = {"st_invisible"}
 end
 
 width, height = wo(ti, " ",

Modified: trunk/data/levels/enigma_viii/devnull06_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/devnull06_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull06"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 
 ti[" "] = {"fl_blueslab", friction = f}
 ti["."] = {"fl_redslab"}
-ti["#"] = {"st-rock6"}
+ti["#"] = {"st_purplegray"}
 ti["hollow"] =  {"it_meditation_hollow"}
 ti["o"] = ti["hollow"] .. {"fl_redslab", friction = 2.0}
 ti["1"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}

Modified: trunk/data/levels/enigma_viii/devnull07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/devnull07_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title=" - Meditation - " el:subtitle="" el:id="devnull07"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 
 ti[" "] = {"fl_blueslab", friction = f}
 ti["."] = {"fl_redslab"}
-ti["#"] = {"st-rock6"}
+ti["#"] = {"st_purplegray"}
 ti[","] = {"fl_redslab", friction = 1.0}
 ti["o"] = ti[","] .. {"it_meditation_hollow"}
 ti["1"] = ti[" "] .. {"#ac_pearl_white", owner = 0, essential = 1}

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="18" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="19" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -29,7 +29,7 @@
 ti[". "] = {"st_disco_light"}
 ti[": "] = {"st_disco_medium"}
 ti["p "] = {"st_box_rock"}
-ti["R "] = {"st-rock2"}
+ti["R "] = {"st_darkgray"}
 ti["w "] = {"st_box_wood"}
 ti["% "] = {"it-document", text = "text1"}
 ti["5 "] = {"it_meditation_hollow", essential = 0}

Modified: trunk/data/levels/enigma_viii/duffy180_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="See Saw Meditation" el:subtitle="" el:id="duffy180"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,11 +20,11 @@
 
 ti[" "] = {"fl_lawn"}
 ti["~"] = {"fl_water"}
-ti["#"] = {"st-rock5"}
+ti["#"] = {"st_tigris"}
 ti["g"] = {"st-grate1"}
 ti["P"] = {"st_pull"}
 ti["S"] = {"st_switch", target="med#*", action="flip"}
-ti["*"] = {"st-brownie"}
+ti["*"] = {"st_brownie"}
 ti["w"] = {"#ac_pearl_white", owner=0, essential=1 }
 
 if wo["IsDifficult"] then
@@ -38,20 +38,19 @@
 end
 
 w, h = wo(ti, " ", {
-"~~~~~~~~~~~~~~~~~~~~",
-"#########~~#########",
-"#       #~~#       #",
-"#       #~~#       #",
-"#       #~~#       #",
-"#     gg####gg     #",
-"S = h gw PP wg H * S",
-"#     gg####gg     #",
-"#       #~~#       #",
-"#       #~~#       #",
-"#       #~~#       #",
-"#########~~#########",
-"~~~~~~~~~~~~~~~~~~~~"
-})
+    "~~~~~~~~~~~~~~~~~~~~",
+    "#########~~#########",
+    "#       #~~#       #",
+    "#       #~~#       #",
+    "#       #~~#       #",
+    "#     gg####gg     #",
+    "S = h gw PP wg H * S",
+    "#     gg####gg     #",
+    "#       #~~#       #",
+    "#       #~~#       #",
+    "#       #~~#       #",
+    "#########~~#########",
+    "~~~~~~~~~~~~~~~~~~~~"})
 
 ]]></el:luamain>
     <el:i18n>

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -1,66 +1,66 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="28" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="40" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="26" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="27" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="73" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="74" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
     <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="128" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="35" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="128" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="141" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="10" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="142" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="27" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti["E "] = ti[" ~"] .. {"st-glass_move"}
 ti["  "] = {"fl_metal_7", friction=4.0}
 ti[" ."] = {"fl_abyss"}
-ti["# "] = {"st-redrock"}
+ti["# "] = {"st_redrock"}
 ti[" l"] = {"fl_sahara"}
 ti["~ "] = {"fl_water"}
 ti["; "] = {"fl_swamp"}
@@ -40,7 +40,7 @@
 ti["Y "] = {"st-glass2_move"}
 ti["U1"] = {"st_passage_black_frame"}
 ti["ic"] = {"st-stone_break"}
-ti["h "] = {"st-bluegray_hole"}
+ti["h "] = {"st_bluegray_hollow"}
 ti["Xn"] = ti["nn"] .. {"st-grate1"}
 ti[" b"] = ti["  "] .. {"it-blackbomb"}
 ti["i "] = ti["  "] .. {"it-dynamite"}

Modified: trunk/data/levels/enigma_viii/mecke03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Balance Beam" el:subtitle="Balance Beam" el:id="mecke03"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 34 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 35 $" el:status="released"/>
       <el:author  el:name="mecke"/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["1"] = {"st_window_es"}
 ti["P"] = {"st-stoneimpulse-hollow"}
 ti["Q"] = {"st-break_invisible"}
-ti["T"] = {"st-yellow"}
+ti["T"] = {"st_yellow"}
 ti["!"] = {"it_death"}
 ti["B"] = {"st-glass"}
 ti["0"] = ti["r"] .. {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:34$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:35$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -82,7 +82,7 @@
 ti["F "] = ti["B "] .. {"it_cherry"}
 ti["+ "] = ti["~ "] .. {"st_actorimpulse"}
 ti[": "] = ti["~ "] .. {"it_cherry","Tollkirsche#"}
-ti["# "] = {"st-rock1"}
+ti["# "] = {"st_granite"}
 ti["##"] = {"st_death"}
 ti["f "] = {"it_magicwand"}
 ti["g "] = {"it_wrench"}

Modified: trunk/data/levels/enigma_viii/mecke07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios I" el:subtitle="Use the Lightpassenger" el:id="mecke48"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 19 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -33,7 +33,7 @@
 ti["U1"] = {"st_passage_black_frame"}
 ti["D "] = {"st_death"}
 ti["L "] = ti[" _"] .. {"st_laser_s", name="laser", state=ON}
-ti["h "] = {"st-bluegray_hole"}
+ti["h "] = {"st_bluegray_hollow"}
 ti["A "] = ti[" ~"] .. {"st_actorimpulse"}
 ti["> "] = ti[" ~"] .. {"st_boulder_e"}
 ti["< "] = {"st_boulder_w"}
@@ -47,7 +47,7 @@
 ti["o "] = {"it-springboard"}
 ti[" j"] = {"it_magicwand"}
 ti["S "] = ti[" n"] ..{"st_passage_black_frame"}
-ti["G "] = {"st-yellow"}
+ti["G "] = {"st_yellow"}
 ti["P "] = ti[" n"] ..{"st_pull"}
 ti["g "] = {"it_glasses"}
 ti["T "] = ti["g "] .. {"st-grate1"}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 20 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 21 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -46,7 +46,7 @@
 ti["1 "] = {"st_passage_black_frame"}
 ti["D "] = {"st_death"}
 ti["L "] = ti[" _"] .. {"st_laser_s", name="laser", state=ON}
-ti["h "] = {"st-bluegray_hole"}
+ti["h "] = {"st_bluegray_hollow"}
 ti["A "] = ti[" ~"] .. {"st_actorimpulse"}
 ti["> "] = ti[" ~"] .. {"st_boulder_e"}
 ti["< "] = {"st_boulder_w"}
@@ -62,7 +62,7 @@
 ti["o "] = {"it-springboard"}
 ti[" j"] = {"it_magicwand"}
 ti["S "] = ti[" n"] ..{"st_passage_white_frame"}
-ti["G "] = {"st-yellow"}
+ti["G "] = {"st_yellow"}
 ti["2 "] = {"st-brake"}
 ti["P "] = {"st_pull"}
 

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 26 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 27 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -27,11 +27,11 @@
 ti[" $"] = {"fl_abyss"}
 ti[" %"] = {"fl_ivory"}
 ti["$ "] = {"st-stone_break"}
-ti["% "] = {"st-rock6"}
+ti["% "] = {"st_purplegray"}
 ti[" &"] = {"fl_water"}
 ti[" '"] = {"fl_bluegray"}
 ti[" ("] = {"fl_space"}
-ti["& "] = {"st-yellow"}
+ti["& "] = {"st_yellow"}
 ti["' "] = {"st_actorimpulse"}
 ti["( "] = {"st-grate1"}
 ti["i1"] = ti[" ."] .. {"st-grate1"}
@@ -113,8 +113,8 @@
 ti["B "] = {"st_boulder_w"}
 ti["V "] = {"st_passage_black_frame"}
 ti["C "] = {"st-break_invisible"}
-ti["D "] = {"st-bluegray"}
-ti["X "] = {"st-bluegray_hole"}
+ti["D "] = {"st_bluegray"}
+ti["X "] = {"st_bluegray_hollow"}
 ti[" 8"] = {"fl_sahara"}
 ti["E "] = {"st_boulder_s"}
 ti["F "] = {"st_passage_black_cross"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,13 +27,13 @@
 ti["/"] = ti["z"] .. {"st_disco_light"}
 ti["y"] = ti["a"] .. {"it_cherry"} .. ti({"st-glass1_hole"})
 ti["."] = ti["a"] .. {"it_cherry"}
-ti["H"] = {"st-bluegray_hole"}
+ti["H"] = {"st_bluegray_hollow"}
 ti["b"] = {"st_quake"}
 ti["s"] = {"st_window_s"}
 ti["w"] = {"st_window_w"}
 ti["e"] = {"st_window_e"}
 ti["E"] = {"st_window_n"}
-ti["P"] = {"st-bluegray"}
+ti["P"] = {"st_bluegray"}
 ti["p"] = ti["H"] .. {"it-spring1"}
 ti["Q"] = {"st-break_invisible"}
 ti["q"] = {"it-booze-broken"}
@@ -41,7 +41,7 @@
 ti["t"] = {"it_meditation_bump"}
 ti["R"] = {"st_oneway_e"}
 ti["W"] = {"it_magicwand"}
-ti["T"] = {"st-yellow"}
+ti["T"] = {"st_yellow"}
 ti["!"] = {"it_death"}
 ti["d"] = {"it-document",text= "?"}
 ti["%"] = {"it_sword"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 28 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 29 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -40,7 +40,7 @@
 ti["R "] = {"st_rubberband"}
 ti["T "] = {"st-thief"}
 ti["Y "] = {"st-glass"}
-ti["r "] = {"st-brownie"}
+ti["r "] = {"st_brownie"}
 ti["U1"] = {"st_passage_black_frame"}
 ti["U2"] = ti["U1"] .. {"it_extralife"}
 ti[" i"] = ti["U1"] .. {"fl_inverse"}
@@ -54,7 +54,7 @@
 ti["H "] = ti[" i"] .. {"st_key", code=1, target={"door#5"}}
 ti["G "] = ti[" _"] .. {"st-glass"}
 ti["L "] = ti[" _"] .. {"st_laser_e", name="laser", state=ON}
-ti["h1"] = {"st-bluegray_hole"}
+ti["h1"] = {"st_bluegray_hollow"}
 ti["A "] = ti[" ~"] .. {"st_actorimpulse"}
 ti["I "] = {"st_oneway_black_w"}
 ti["^1"] = {"st_boulder_n"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -61,8 +61,8 @@
 ti["Y!"] = ti[" !"] .. {"st-yinyang1"}
 ti["Y'"] = ti[" '"] .. {"st-yinyang1"}
 ti["Yw"] = ti[" w"] .. {"st-yinyang1"}
-ti["++"] = ti[" +"] .. {"st-rock1_hole"}
-ti["+i"] = ti[" i"] .. {"st-rock1_hole"}
+ti["++"] = ti[" +"] .. {"st_granite_hollow"}
+ti["+i"] = ti[" i"] .. {"st_granite_hollow"}
 ti["A~"] = ti[" ~"] .. {"st_actorimpulse"}
 ti["v1"] = ti[" i"] .. {"st_door", name="door1", flavor="d", faces="ew"}
 ti["v2"] = ti[" i"] .. {"st_door", name="door2", flavor="d", faces="ew"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:11$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:12$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -19,21 +19,21 @@
 
 ti[" &"] = {"fl_red"}
 ti[" !"] = {"fl_water"}
-ti["! "] = {"st-rock6"}
+ti["! "] = {"st_purplegray"}
 ti[" #"] = {"fl_metal_7"}
 ti[" $"] = {"fl_sahara"}
 ti["# "] = {"st_chess_white"}
 ti["s "] = {"it_squashed"}
 ti["hh"] = ti[" !"] .. {"st_pull"}
 ti["ef"] = ti[" &"] .. {"it_squashed"}
-ti["$ "] = {"st-rock1"}
+ti["$ "] = {"st_granite"}
 ti[" %"] = {"fl_sand"}
 ti["% "] = {"st_rotator_ccw"}
 ti["& "] = {"st_boulder_n"}
 ti["b "] = {"it_blocker"}
 ti[" '"] = {"fl_bluegray"}
 ti["' "] = {"st_oneway_white_e"}
-ti["( "] = {"st-yellow"}
+ti["( "] = {"st_yellow"}
 ti[") "] = {"st_scissors", name="df3"}
 ti["* "] = {"st_oneway_white_w"}
 ti[" ("] = {"fl-gradient11"}
@@ -89,13 +89,13 @@
     ti["eo"] = ti["ef"] .. {"st_boulder_s"}
     ti["R "] = {"st_rubberband"}
     ti["Q "] = {"st_rubberband"}
-    ti["S "] = {"st-yellow"}
+    ti["S "] = {"st_yellow"}
 else
-    ti["ee"] = ti[" $"] .. {"st-yellow"}
+    ti["ee"] = ti[" $"] .. {"st_yellow"}
     ti["ex"] = ti["ef"] .. {"it_squashed"}
     ti["eo"] = ti["ef"] .. {"it_squashed"}
     ti["R "] = {"st-grate1"}
-    ti["Q "] = {"st-rock6"}
+    ti["Q "] = {"st_purplegray"}
     ti["S "] = {"st_scissors"}
 end
 

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 30 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -27,7 +27,7 @@
 ti[" &"] = {"fl_redslab"}
 ti["ee"] = ti[" ("]..{"it_extralife"}
 ti["ex"] = ti[" %"]..{"it_extralife"}
-ti["' "] = {"st-yellow"}
+ti["' "] = {"st_yellow"}
 ti[" '"] = {"fl_bluegray"}
 ti["( "] = {"st-grate3"}
 ti["* "] = {"st-stone_break"}
@@ -42,7 +42,7 @@
 ti[". "] = {"st-block"}
 ti["/ "] = {"st-break_invisible"}
 ti["0 "] = {"st_puzzle", connections="e"}
-ti["1 "] = {"st-rock6"}
+ti["1 "] = {"st_purplegray"}
 ti["2 "] = {"st_puzzle", connections="s"}
 ti["3 "] = {"st_turnstile_green"}
 ti["4 "] = {"st_puzzle", connections="n"}
@@ -88,7 +88,7 @@
 ti["JJ"] = ti[" %"]..{"#ac_top", range=1, strength=1}
 ti["ff"] = ti[" ("]..{"it-flagblack"}
 ti["J "] = {"st_oneway_black_n"}
-ti["K "] = {"st-bluegray"}
+ti["K "] = {"st_bluegray"}
 ti["L "] = {"st_mail_n"}
 ti["M "] = {"st_brake"}
 ti["zz"] = ti[" !"]..{"it_shogun_m"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 39 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 40 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -23,12 +23,12 @@
     ti[" !"] = {"fl_red", friction=3.6}
 end
 
-ti["! "] = {"st-bumps"}
+ti["! "] = {"st_pinkbumps"}
 ti[" #"] = {"fl_metal_7"}
 ti["# "] = {"st_oneway_black_s"}
 ti["$ "] = {"st-grate1"}
 ti["% "] = {"st_oneway_black_n"}
-ti["& "] = {"st-camouflage"}
+ti["& "] = {"st_camouflage"}
 ti["gg"] = ti[" !"] .. {"it-springboard"}
 ti["' "] = {"st_boulder_w"}
 ti[" $"] = {"fl_space"}
@@ -88,7 +88,7 @@
 ti["q1"] = ti[" !"] .. {"it_coin_s"}
 ti[": "] = {"st-stone_break"}
 ti["; "] = {"st_fake_oxydd"}
-ti["= "] = {"st-bluegray_hole"}
+ti["= "] = {"st_bluegray_hollow"}
 ti["&d"] = ti[" &"] .. {"it_death"}
 ti["&b"] = ti[" !"] .. {"it_brush"}
 ti["> "] = {"st_stoneimpulse_hollow"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:73$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:74$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -32,11 +32,11 @@
 ti["$ "] = {"st_stoneimpulse_steady"}
 ti[" %"] = {"fl_aquamarine"}
 ti[" ;"] = {"fl_lawn_d4"}
-ti["% "] = {"st-rock1"}
+ti["% "] = {"st_granite"}
 ti[" &"] = {"fl_samba"}
 ti["& "] = {"st_stoneimpulse_hollow"}
 ti[" '"] = {"fl_red"}
-ti["' "] = {"st-rock1_hole"}
+ti["' "] = {"st_granite_hollow"}
 ti[" e"] = {"fl_space"}
 ti[" *"] = {"fl_sand"}
 ti[" l"] = {"fl_lawn"}
@@ -72,8 +72,8 @@
 ti["D "] = {"st_oneway_black_s"}
 ti["//"] = ti[" !"].. {"st_box_wood"}
 ti[" ."] = {"fl-gradient4"}
-ti["F "] = {"st-camouflage"}
-ti["f "] = {"st-camouflage_move"}
+ti["F "] = {"st_camouflage"}
+ti["f "] = {"st_camouflage_movable"}
 ti["G "] = {"st_boulder_s"}
 ti["BN"] = ti[" ;"].. {"st_boulder_n"}
 ti[" /"] = {"fl_inverse"}
@@ -100,7 +100,7 @@
 ti["Q "] = ti[" l"] .. {"st_mirror_triangle",movable=true,transparent=true}
 ti["R "] = ti[" l"] .. {"st_mirror_slab",movable=false,transparent=false}
 ti["S "] = ti[" l"] .. {"st_mirror_slab",movable=true,transparent=false}
-ti["U "] = {"st-rock6"}
+ti["U "] = {"st_purplegray"}
 ti[" >"] = {"fl_gravel"}
 ti[" ?"] = {"fl_fake_abyss"}
 ti["W "] = {"st-break_invisible"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 26 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 27 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,27 +39,27 @@
 ti["z "] = {"st-grate2"}
 ti["u "] = {"st_stoneimpulse_hollow"}
 ti["o "] = {"st_stoneimpulse"}
-ti["+ "] = {"st-bumps"}
-ti[", "] = {"st-rock6"}
-ti["- "] = {"st-rock7"}
-ti[". "] = {"st-rock8"}
+ti["+ "] = {"st_pinkbumps"}
+ti[", "] = {"st_purplegray"}
+ti["- "] = {"st_greengray"}
+ti[". "] = {"st_concrete"}
 ti["# "] = {"st-greenbrown"}
-ti["0 "] = {"st-brownie"}
-ti["1 "] = {"st-marble"}
+ti["0 "] = {"st_brownie"}
+ti["1 "] = {"st_redbrown"}
 ti["2 "] = {"st-greenbrown-growing"}
 ti["3 "] = {"st-blocker-growing"}
 ti["4 "] = {"st-glass2_hole"}
-ti["5 "] = {"st-stone1"}
-ti["6 "] = {"st-metal"}
-ti["7 "] = {"st-yellow"}
+ti["5 "] = {"st_brownpyramide"}
+ti["6 "] = {"st_metal"}
+ti["7 "] = {"st_yellow"}
 ti["8 "] = {"st-beads"}
-ti["9 "] = {"st-camouflage"}
+ti["9 "] = {"st_camouflage"}
 ti["SB"] = {"st_passage_black_frame"}
 ti["SP"] = {"st_chess_black"}
 ti["SW"] = {"st_chess_white"}
 ti["ZZ"] = ti[" ."] .. {"st-stone_break"}
 ti[" ;"] = {"fl_swamp"}
-ti["R "] = {"st-redrock"}
+ti["R "] = {"st_redrock"}
 ti[" j"] = {"it_crack_m"}
 ti["&&"] = ti[" &"] .. {"it_crack_m"}
 ti[" z"] = ti[" ."] .. {"st_stoneimpulse_hollow"}
@@ -112,7 +112,7 @@
 ti["U3"] = ti[" ,"] .. {"st_oneway",state=SOUTH,color=BLACK}
 ti["U4"] = ti[" ,"] .. {"st_oneway",state=NORTH,color=BLACK}
 ti["P "] = ti[" ."] .. {"it_vortex_open"}
-ti["h "] = {"st-bluegray_hole"}
+ti["h "] = {"st_bluegray_hollow"}
 ti["A "] = {"st_brake"}
 ti["B "] = {"st_swap"}
 ti["C "] = {"st_box_wood"}
@@ -187,7 +187,7 @@
 ti["PL"] = ti["  "] .. {"st_laser_s", name="laser", state=OFF}
 ti["PM"] = ti["  "] .. {"st_mirror", movable=true, transparent=true, orientation=2}
 ti["PP"] = {"st_bluesand"}
-ti["PQ"] = {"st-brownie"}
+ti["PQ"] = {"st_brownie"}
 ti["PR"] = {"st_lightpassenger_off"}
 ti["PT"] = {"st_bluesand", cluster=2}
 ti["PW"] = {"st_flash"}
@@ -294,7 +294,7 @@
 end
 
 function stone(value, sender)
-    wo[{25, 33}] = {"st-redrock"}
+    wo[{25, 33}] = {"st_redrock"}
     wo[{27, 33}] = {"st_panel"}
 end
 
@@ -310,7 +310,7 @@
 
 function earth(value, sender)
     wo[{25, 33}] = {"st_oneway",color=BLACK,state=SOUTH}
-    wo[{27, 33}] = {"st-brownie"}
+    wo[{27, 33}] = {"st_brownie"}
 end
 
 wo:shuffleOxyd()

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 9 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 10 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -47,10 +47,10 @@
 ti["B "] = {"st-brick_magic"}
 ti["O "] = {"st_rotator_ccw", movable=true}
 ti["R "] = {"st_rubberband"}
-ti["T "] = {"st-bluegray"}
+ti["T "] = {"st_bluegray"}
 ti["TH"] = {"st-thief"}
 ti["Y "] = {"st-glass"}
-ti["r "] = {"st-brownie"}
+ti["r "] = {"st_brownie"}
 ti["U1"] = {"st_passage_white_frame"}
 ti["U2"] = {"st_passage_black_frame"}
 ti["U5"] = {"st-yinyang1"}
@@ -72,7 +72,7 @@
 ti["L4"] = ti[" _"] .. {"st_laser_w", name="laser4", state=ON}
 ti["Y1"] = {"st_switch", target="laser4"}
 ti["Y2"] = {"st_switch", target="cher"}
-ti["h1"] = {"st-bluegray_hole"}
+ti["h1"] = {"st_bluegray_hollow"}
 ti["A "] = ti[" ~"] .. {"st_actorimpulse"}
 ti["Sb"] = ti[" ~"] .. {"st_chess_black"}
 ti["MM"] = ti[" ~"] .. {"st_mail", orientation=NORTH}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -36,7 +36,7 @@
 ti["Xi"] = ti[" i"] .. {"st-grate1"}
 ti["Xb"] = ti[" b"] .. {"st-grate1"}
 ti["X&"] = ti[" &"] .. {"st-grate1"}
-ti["Th"] = ti[" i"] .. {"st-yellow"}
+ti["Th"] = ti[" i"] .. {"st_yellow"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
 ti["0~"] = ti[" ~"] .. {"st-coffee"}
@@ -55,7 +55,7 @@
 ti["2*"] = ti[" *"] .. {"st-glass_move"}
 ti["2r"] = ti[" r"] .. {"st-glass_move"}
 ti["CW"] = ti[" w"] .. {"st_chess_black"}
-ti["S&"] = ti[" &"] .. {"st-rock1_hole"}
+ti["S&"] = ti[" &"] .. {"st_granite_hollow"}
 ti["FF"] = ti[" ~"] .. {"st_quake"}
 ti["dd"] = ti[" ~"] .. {"it_death"}
 ti["Tw"] = ti["dd"] .. {"st_disco_medium"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 141 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 142 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -211,19 +211,19 @@
 ti["M#"] = ti[";;"] .. {"st-greenbrown_move"}
 ti["MW"] = ti["''"] .. {"st_box"}
 ti["M:"] = ti["::"] .. {"st_box"}
-ti["MB"] = ti["c'"] .. {"st-brownie"}
-ti["M."] = ti[".."] .. {"st-brownie"}
+ti["MB"] = ti["c'"] .. {"st_brownie"}
+ti["M."] = ti[".."] .. {"st_brownie"}
 ti["W."] = ti[".."] .. {"st-break_acwhite"}
 ti["S."] = ti[".."] .. {"st-break_acblack"}
-ti["R0"] = ti["  "] .. {"st-rock5"}
-ti["R1"] = ti["::"] .. {"st-rock1"}
-ti["R6"] = ti["::"] .. {"st-rock1_move"}
-ti["R2"] = ti["  "] .. {"st-rock1"}
-ti["R4"] = ti["^^"] .. {"st-rock1"}
-ti["R5"] = ti[".."] .. {"st-rock1"}
-ti["Rp"] = ti[".."] .. {"st-rock1_hole"}
-ti["Rh"] = ti["  "] .. {"st-rock1_hole"}
-ti["Rm"] = ti["::"] .. {"st-rock1_move"}
+ti["R0"] = ti["  "] .. {"st_tigris"}
+ti["R1"] = ti["::"] .. {"st_granite"}
+ti["R6"] = ti["::"] .. {"st_granite_movable"}
+ti["R2"] = ti["  "] .. {"st_granite"}
+ti["R4"] = ti["^^"] .. {"st_granite"}
+ti["R5"] = ti[".."] .. {"st_granite"}
+ti["Rp"] = ti[".."] .. {"st_granite_hollow"}
+ti["Rh"] = ti["  "] .. {"st_granite_hollow"}
+ti["Rm"] = ti["::"] .. {"st_granite_movable"}
 ti["R3"] = ti["  "] .. {"st-rock3"}
 ti["RH"] = ti["  "] .. {"st-rock3_hole"}
 ti["RP"] = ti["  "] .. {"st_panel"}
@@ -318,7 +318,7 @@
 ti["D7"] = ti[".."] .. {"st_door_a", "door7"}
 ti["D8"] = ti["gw"] .. {"st_door_a", "door8"}
 ti["_C"] = ti["__"] .. {"st-chameleon"}
-ti["_T"] = ti["__"] .. {"st-invisible"} .. ti({"#ac_horse"})
+ti["_T"] = ti["__"] .. {"st_invisible"} .. ti({"#ac_horse"})
 
 ti[" 1"] = ti[",,"] .. {"#ac_marble_black", "black", essential=1, owner=0, controllers=1} .. ti({"it_extralife"})
 ti[" 2"] = ti["ge"] .. {"#ac_marble_white", "white", essential=0, owner=1, controllers=2}
@@ -557,7 +557,7 @@
     end
     local y = no["escape_pos"].y + 1
     if (no["rotor"].y ~= y) or (no["top"].y ~= y) or (no["killer"].y ~= y) then
-        wo[no["escape_close#*"]] = {"st-metal"}
+        wo[no["escape_close#*"]] = {"st_metal"}
     end
 end
 

Modified: trunk/data/levels/enigma_viii/ral25_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/ral25_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wired Five" el:subtitle="" el:id="20080721ral073"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 130 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 end
 
 ti[" "] = {"fl_abyss"}
-ti["*"] = ti[" "] ..{"st-marble"}
+ti["*"] = ti[" "] ..{"st_redbrown"}
 ti["."] = {"fl_marble", friction=7, adhesion=1.8, checkerboard=cb} 
           .. ti({"fl_ivory", friction=7, adhesion=1.8, checkerboard=1-cb})
 
@@ -34,7 +34,7 @@
 end
 
 ti["trigger"] = {"it_trigger", target="hill%%", action="signal", inverse=true}
-ti["brownie"] = {"st-marble_move", "brownie%%"}
+ti["brownie"] = {"st_redbrown_movable", "brownie%%"}
 ti["mini"] = {"fl_ivory", friction=7, adhesion=1.8} 
              .. ti({"#ac_pearl"})
              .. ti({"it_meditation_bump", "hill%%"})

Modified: trunk/data/levels/enigma_viii/ral26_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wireban Premiere" el:subtitle="" el:id="20080715ral161"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,10 +17,10 @@
 
 ti[" "] = {"fl_platinum", friction=7, adhesion=1.8}
 ti["."] = {"fl_abyss"}
-ti["#"] = {"st-rock8"}
+ti["#"] = {"st_concrete"}
 ti["+"] = {"st-grate1"}
-ti["w"] = {"st-brownie", "wood1"}
-ti["W"] = {"st-brownie", "wood2"}
+ti["w"] = {"st_brownie", "wood1"}
+ti["W"] = {"st_brownie", "wood2"}
 ti["D"] = {"st_door_a", "door1"}
 ti["d"] = {"st_door_a", "door2"}
 ti["T"] = {"it_trigger", target="door1"}

Modified: trunk/data/levels/enigma_viii/ral28_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral28_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/ral28_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="More Microwire" el:subtitle="" el:id="20080717ral282"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,9 +19,9 @@
 ti["."] = {"fl_samba", friction=7, adhesion=1.8}
 ti["*"] = ti[" "] ..{"st-beads"}
 ti["#"] = {"fl_samba"}
-ti["1"] = {"it_trigger", target="bridgeA"} .. ti{"st-brownie", "brownie1"}
-ti["2"] = {"it_trigger", target="bridgeB"} .. ti{"st-brownie", "brownie2"}
-ti["3"] = {"it_trigger", target="bridgeC"} .. ti{"st-brownie", "brownie3"}
+ti["1"] = {"it_trigger", target="bridgeA"} .. ti{"st_brownie", "brownie1"}
+ti["2"] = {"it_trigger", target="bridgeB"} .. ti{"st_brownie", "brownie2"}
+ti["3"] = {"it_trigger", target="bridgeC"} .. ti{"st_brownie", "brownie3"}
 ti["4"] = {"it_trigger", target="bridgeD"} .. ti{"#ac_marble"}
 ti["5"] = {"it_trigger", target="bridgeE"} 
 ti["6"] = {"it_trigger", target="bridgeF"} 

Modified: trunk/data/levels/enigma_viii/ral30_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Scarlet's Necklace" el:subtitle="Who did broke the pearl necklace?" el:id="20080814ral422"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 128 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -24,11 +24,11 @@
 ti["x"] = {"it_shogun_s", "x%%"}
 
 ti["A"] = {"st-block", "pearl#"}
-ti["B"] = {"st-brownie", "pearl#"}
-ti["C"] = {"st-marble_move", "pearl#"}
-ti["D"] = {"st-rock1_move", "pearl#"}
+ti["B"] = {"st_brownie", "pearl#"}
+ti["C"] = {"st_redbrown_movable", "pearl#"}
+ti["D"] = {"st_granite_movable", "pearl#"}
 ti["E"] = {"st-glass1_move", "pearl#"}
-ti["F"] = {"st-camouflage_move", "pearl#"}
+ti["F"] = {"st_camouflage_movable", "pearl#"}
 ti["G"] = {"st_box", "pearl#"}
 ti["H"] = {"st-glass_move", "pearl#"}
 ti["I"] = {"st-rock3_move", "pearl#"}
@@ -47,11 +47,11 @@
 
 if wo["IsDifficult"] then
     ti["S"] = {"st_coinslot", target="check"}
-    ti["s"] = {"st-yellow"}
+    ti["s"] = {"st_yellow"}
     ti["c"] = {"it_coin_s"}
 else
     ti["S"] = {"st_switch", target="check"}
-    ti["s"] = {"st-rock1"}
+    ti["s"] = {"st_granite"}
     ti["c"] = ti[" "]
 end
 

Modified: trunk/data/levels/enigma_viii/raywick05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-15 23:54:44 UTC (rev 1457)
+++ trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Impulsive Order" el:subtitle="" el:id="raywick5"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author  el:name="Ray Wick" el:email=""/>
       <el:copyright>Copyright ? 2008 Ray Wick</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti["."] = {"fl_swamp"}
 ti[" "] = {"fl_marble"}
 ti["K"] = {"fl_abyss"}
-ti["#"] = {"st-marble"}
+ti["#"] = {"st_redbrown"}
 ti["g"] = {"st-glass"}
 ti["G"] = {"st-grate2"}
 ti["+"] = {"st_box_wood"}



From ral at mail.berlios.de  Fri Jan 16 23:46:59 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 16 Jan 2009 23:46:59 +0100
Subject: [Enigma-game-svn] r1459 - in trunk: data src src/items
Message-ID: <200901162246.n0GMkx16010700@sheep.berlios.de>

Author: ral
Date: 2009-01-16 23:46:58 +0100 (Fri, 16 Jan 2009)
New Revision: 1459

Modified:
   trunk/data/startup.lua
   trunk/src/items/Crack.cc
   trunk/src/server.cc
   trunk/src/stones.cc
   trunk/src/stones_simple.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering
- fix stone transformations broken due to standard stone renamings
- fix crack incompatibilities due to last crack fix
- remove unused st-panel simple stone definition


Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/startup.lua	2009-01-16 22:46:58 UTC (rev 1459)
@@ -116,7 +116,6 @@
 def_stone("st-greenbrown")
 def_stone_movable("st-greenbrown_move", "cloth")
 def_stone_hollow("st-greenbrown_hole")
-def_stone("st-panel")
 def_stone("st-rock3")
 def_stone_movable("st-rock3_move")
 def_stone_hollow("st-rock3_hole")

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/src/items/Crack.cc	2009-01-16 22:46:58 UTC (rev 1459)
@@ -91,7 +91,8 @@
         if (fl != NULL && fl->is_destructible()) {
             Value v = fl->getAttr("fragility");
             double fragility = getDefaultedAttr("fragility", v ? v : Value(server::Fragility));
-            if (state < DISSOLVING && (state > INVISIBLE || DoubleRand(0, 0.9999) < fragility)) {
+            double spreading = getDefaultedAttr("spreading", server::CrackSpreading); 
+            if (((state == INVISIBLE) && (DoubleRand(0, 0.9999) < spreading)) || (DoubleRand(0, 0.9999) < fragility)) {
                 toggleState();
                 sound_event("crack");
             }

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/src/server.cc	2009-01-16 22:46:58 UTC (rev 1459)
@@ -263,7 +263,7 @@
     server::FollowThreshold   = 0.5;
     server::ShowMoves         = false;
     server::Brittleness       = 0.5;
-    server::Fragility         = 0.5;
+    server::Fragility         = 1.0;
     server::CrackSpreading    = 0.5;
     server::SlopeForce        = 25.0;
     server::FlatForce         = 0.0;

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/src/stones.cc	2009-01-16 22:46:58 UTC (rev 1459)
@@ -413,11 +413,11 @@
         void actor_hit (const StoneContact &) {
             static const char *stonename[] = {
                 "st-grate1",
-                "st-death",
+                "st_death",
                 "st-surprise",
                 "st-glass1_hole",
                 "st-magic",
-                "st-knight",
+                "st_knight",
                 "st-thief",
                 "st-plain_break",
                 "st-plain_breaking"

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/src/stones_simple.cc	2009-01-16 22:46:58 UTC (rev 1459)
@@ -731,7 +731,7 @@
                         set_model("st-likeoxydc-open");
                     }
                     else {
-                        set_model("st-rock4");
+                        set_model("st_purplemarble");
                     }
                 }
             }

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/src/world.cc	2009-01-16 22:46:58 UTC (rev 1459)
@@ -1649,7 +1649,6 @@
 
 bool WorldInitLevel() {
     if (server::EnigmaCompatibility < 1.10) {
-        server::Fragility = server::Brittleness;
         server::CrackSpreading = server::Brittleness;
     }
     



From raoul at mail.berlios.de  Sat Jan 17 01:02:57 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 17 Jan 2009 01:02:57 +0100
Subject: [Enigma-game-svn] r1460 - in trunk/data/levels: enigma_cross
	enigma_i enigma_ii enigma_iii enigma_iv enigma_v enigma_vi
	enigma_vii enigma_viii
Message-ID: <200901170002.n0H02vpe015783@sheep.berlios.de>

Author: raoul
Date: 2009-01-17 01:02:48 +0100 (Sat, 17 Jan 2009)
New Revision: 1460

Added:
   trunk/data/levels/enigma_i/ant01_2.xml
   trunk/data/levels/enigma_i/ant24_2.xml
   trunk/data/levels/enigma_i/martin33_2.xml
   trunk/data/levels/enigma_i/martin86_2.xml
   trunk/data/levels/enigma_i/nat02_2.xml
   trunk/data/levels/enigma_ii/martin27_2.xml
   trunk/data/levels/enigma_ii/qq03_2.xml
   trunk/data/levels/enigma_iii/ant25_2.xml
   trunk/data/levels/enigma_iii/daniel06_2.xml
   trunk/data/levels/enigma_iii/duffy09_2.xml
   trunk/data/levels/enigma_iii/duffy107_2.xml
   trunk/data/levels/enigma_iii/duffy15_2.xml
   trunk/data/levels/enigma_iv/ant23_2.xml
   trunk/data/levels/enigma_iv/ralf08_2.xml
   trunk/data/levels/enigma_v/ant21_2.xml
   trunk/data/levels/enigma_vi/richi06_2.xml
   trunk/data/levels/enigma_vii/alain28_2.xml
   trunk/data/levels/enigma_viii/andreas55_2.xml
Removed:
   trunk/data/levels/enigma_i/ant01_1.xml
   trunk/data/levels/enigma_i/ant24_1.xml
   trunk/data/levels/enigma_i/martin33_1.xml
   trunk/data/levels/enigma_i/martin86_1.xml
   trunk/data/levels/enigma_i/nat02_1.xml
   trunk/data/levels/enigma_ii/martin27_1.xml
   trunk/data/levels/enigma_ii/qq03_1.xml
   trunk/data/levels/enigma_iii/ant25_1.xml
   trunk/data/levels/enigma_iii/daniel06_1.xml
   trunk/data/levels/enigma_iii/duffy09_1.xml
   trunk/data/levels/enigma_iii/duffy107_1.xml
   trunk/data/levels/enigma_iii/duffy15_1.xml
   trunk/data/levels/enigma_iv/ant23_1.xml
   trunk/data/levels/enigma_iv/ralf08_1.xml
   trunk/data/levels/enigma_v/ant21_1.xml
   trunk/data/levels/enigma_vi/richi06_1.xml
   trunk/data/levels/enigma_vii/alain28_1.xml
Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/enigma0_92_3.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_i/index.xml
   trunk/data/levels/enigma_ii/ant07_1.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_ii/martin75_2.xml
   trunk/data/levels/enigma_iii/duffy65_2.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_viii/andreas49_1.xml
   trunk/data/levels/enigma_viii/index.xml
Log:
-> A new Level
-> Some API 2 rewritten levels
-> A status fixes



Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -17,13 +17,13 @@
     <level _seq="9" _title="Floppy Swapping" _xpath="enigma_ii/martin19_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="enigma_i/siegfried33_1" author="anonymous" ctrl="force" easy="false" id="meditation1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Push Them In" _xpath="enigma_ii/nat05_1" author="Andreas Persenius, Nat Pryce" ctrl="force" easy="false" id="nat5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Ice Skating" _xpath="enigma_i/siegfried22_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Lasers 101" _xpath="enigma_i/daniel08_1" author="Daniel Heck" ctrl="force" easy="false" id="lasers101" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Knock Knock!" _xpath="enigma_ii/nat03_1" author="Nat Pryce" ctrl="force" easy="false" id="nat3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Slalom Skiing" _xpath="enigma_ii/martin93_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin93" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Puzzle Hacker" _xpath="enigma_i/ant01_1" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="18" _title="Puzzle Hacker" _xpath="enigma_i/ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Sok It To 'Em" _xpath="enigma_i/nat07_1" author="Nat Pryce" ctrl="force" easy="false" id="nat7" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="enigma_i/siegfried39_1" author="anonymous" ctrl="force" easy="false" id="meditation6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Push? Pull!" _xpath="enigma_iii/siegfried01_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level1c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -41,7 +41,7 @@
     <level _seq="33" _title="Mission Impossible" _xpath="enigma_i/martin14_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Send More Money" _xpath="enigma_ii/siegfried18_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="Slippery Slopes" _xpath="enigma_i/martin38_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin38" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Not Hard Atoll" _xpath="enigma_i/martin33_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin33" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Not Hard Atoll" _xpath="enigma_i/martin33_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin33" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Twelve Doors" _xpath="enigma_ii/nat06_1" author="Nat Pryce" ctrl="force" easy="false" id="nat6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Running Rings" _xpath="enigma_iv/siegfried14_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4f" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="esprit 92" _xpath="enigma_esprit/esprit92_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss_esp92" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -54,7 +54,7 @@
     <level _seq="46" _title="Moonwalking" _xpath="enigma_oxyd/oxyd52_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060629ulf006" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Painting" _xpath="enigma_ii/siegfried21_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Tricks &amp; Traps" _xpath="enigma_iii/siegfried04_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Duck and Cover" _xpath="enigma_i/nat02_1" author="Nat Pryce" ctrl="force" easy="false" id="nat2" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Duck and Cover" _xpath="enigma_i/nat02_2" author="Nat Pryce" ctrl="force" easy="true" id="nat2" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Eraser Please!" _xpath="enigma_ii/martin39_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Uhh-Steady!" _xpath="enigma_i/siegfried05_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Watery Grave" _xpath="enigma_i/martin37_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin37" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -67,7 +67,7 @@
     <level _seq="59" _title="- Meditation -" _xpath="enigma_oxyd/oxyd10_1" author="Daniel Heck" ctrl="force" easy="false" id="daniel1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Good Luck!" _xpath="enigma_i/siegfried08_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Mirror Shop" _xpath="enigma_v/siegfried25_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9a" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="62" _title="Stomp Stomp" _xpath="enigma_ii/qq03_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Stomp Stomp" _xpath="enigma_ii/qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Find The Way Out" _xpath="enigma_peroxyd/peroxyd46_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Basement" _xpath="enigma_i/siegfried26_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Ingrowing" _xpath="enigma_i/ant18_1" author="Petr Machata" ctrl="force" easy="false" id="ant18" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -95,16 +95,16 @@
     <level _seq="87" _title="Walk The Plank" _xpath="enigma_v/nat04_1" author="Nat Pryce" ctrl="force" easy="false" id="nat4" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Shipwreck" _xpath="enigma_v/nat33_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze2" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="- Meditation -" _xpath="enigma_ii/ant16_1" author="Petr Machata" ctrl="force" easy="false" id="ant16" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="90" _title="Dancers" _xpath="enigma_ii/ant14_1" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Dancers" _xpath="enigma_ii/ant14_2" author="Petr Machata" ctrl="force" easy="false" id="ant14" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Running Stone" _xpath="enigma_iv/christophanita01_1" author="Christoph &amp; Anita" ctrl="force" easy="false" id="christophanita_runningstone" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Where's The Gardener?" _xpath="enigma_i/siegfried28_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9e" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Over the Lake" _xpath="enigma_iv/siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Follow the Leader" _xpath="enigma_ii/martin71_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin71" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="95" _title="Bumperball" _xpath="enigma_iii/duffy15_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="95" _title="Bumperball" _xpath="enigma_iii/duffy15_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy15" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="Where am I?" _xpath="enigma_i/martin68_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin68" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Space Travels" _xpath="enigma_i/siegfried30_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Gopher It" _xpath="enigma_ii/nat34_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze3" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="- Meditation -" _xpath="enigma_i/ant24_1" author="Petr Machata" ctrl="force" easy="false" id="ant24" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="- Meditation -" _xpath="enigma_i/ant24_2" author="Petr Machata" ctrl="force" easy="false" id="ant24" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Spiders" _xpath="enigma_v/ant26_1" author="Petr Machata" ctrl="force" easy="false" id="ant26" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="Meditation Puzzle" _xpath="enigma_iv/duffy01_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy1" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Come To Me" _xpath="enigma_ii/ant20_1" author="Petr Machata" ctrl="force" easy="false" id="ant20" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -115,7 +115,7 @@
     <level _seq="107" _title="The Turtle" _xpath="enigma_iii/ant05_1" author="Petr Machata" ctrl="force" easy="false" id="ant05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Grow Your Own" _xpath="enigma_iii/nat36_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="- Meditation -" _xpath="enigma_ii/siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_1" author="Petr Machata" ctrl="force" easy="false" id="ant21" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="111" _title="The Disappearing Block" _xpath="enigma_ii/duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="112" _title="Space Fishing" _xpath="enigma_iii/martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Robbery" _xpath="enigma_iv/ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>
@@ -133,7 +133,7 @@
     <level _seq="125" _title="Boulder-Puzzle" _xpath="enigma_iv/duffy06_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy6" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Wild" _xpath="enigma_iii/ant28_1" author="Petr Machata" ctrl="force" easy="false" id="ant28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="The Document" _xpath="enigma_i/duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="129" _title="- Meditation -" _xpath="enigma_peroxyd/peroxydlink60_2" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation17" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="131" _title="Just a Maze?" _xpath="enigma_vi/duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -141,10 +141,10 @@
     <level _seq="133" _title="Double-Spiral" _xpath="enigma_iv/duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="134" _title="Mourning Palace" _xpath="enigma_iv/ant08_1" author="Petr Machata" ctrl="force" easy="false" id="ant08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Control Panel" _xpath="enigma_iii/duffy16_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy16" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="136" _title="Dependants" _xpath="enigma_iii/ant25_1" author="Petr Machata" ctrl="force" easy="false" id="ant25" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="136" _title="Dependants" _xpath="enigma_iii/ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="137" _title="Question of Speed" _xpath="enigma_ii/siegfried32_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="138" _title="Pain" _xpath="enigma_iv/ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="139" _title="- Meditation -" _xpath="enigma_iv/ant23_1" author="Petr Machata" ctrl="force" easy="false" id="ant23" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="139" _title="- Meditation -" _xpath="enigma_iv/ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="140" _title="Domain of Mysteries" _xpath="enigma_ii/siegfried31_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11a" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>
 

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -25,7 +25,7 @@
     <level _seq="17" _title="Ibiza!" _xpath="enigma_i/ralf02_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Enigris" _xpath="enigma_v/ralf04_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf04" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Gateway" _xpath="enigma_ii/martin85_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin85" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="20" _title="- No Meditation -" _xpath="enigma_iv/ralf08_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="20" _title="- No Meditation -" _xpath="enigma_iv/ralf08_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Im-pull-se" _xpath="enigma_vi/ralf07_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Simon Says" _xpath="enigma_i/nat12_1" author="Nat Pryce" ctrl="force" easy="false" id="nat12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Deadly Cross" _xpath="enigma_i/martin84_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin84" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Two Billiard Tables" _xpath="enigma_v/duffy32_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy32" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="43" _title="Too Hot" _xpath="enigma_iv/martin94_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin94" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_3.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="10" title="Enigma 0.92 - 3"/>
+  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma 0.92 - 3"/>
 
   <attributes/>
 
@@ -45,7 +45,7 @@
     <level _seq="37" _title="Termites" _xpath="enigma_iv/duffy104_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy104" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Drunkard's Walk" _xpath="enigma_iv/duffy105_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy105" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Under the Radar" _xpath="enigma_iv/duffy106_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy106" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Break Down the Wall" _xpath="enigma_iii/duffy107_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Break Down the Wall" _xpath="enigma_iii/duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Security Guards" _xpath="enigma_i/duffy108_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy108" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="One-Way Streets" _xpath="enigma_iii/duffy109_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy109" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Clear the Path" _xpath="enigma_v/duffy110_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy110" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -68,7 +68,7 @@
     <level _seq="60" _title="Now What?" _xpath="enigma_v/duffy127_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy127" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Patterns" _xpath="enigma_ii/duffy128_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy128" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Island Labyrinth" _xpath="enigma_v/duffy129_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy129" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="63" _title="In Sync" _xpath="enigma_iii/daniel06_1" author="Daniel Heck" ctrl="force" easy="false" id="daniel6" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="63" _title="In Sync" _xpath="enigma_iii/daniel06_2" author="Daniel Heck" ctrl="force" easy="false" id="daniel6" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="64" _title="How Many Spirals?" _xpath="enigma_iv/nat23_1" author="Nat Pryce" ctrl="force" easy="true" id="nat23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Stay in the Spotlight" _xpath="enigma_ii/nat24_1" author="Nat Pryce" ctrl="force" easy="false" id="nat24" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -148,7 +148,7 @@
     <level _seq="140" _title="Pipes and Plumbing" _xpath="enigma_v/andreas27_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas27" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="141" _title="The Chamber" _xpath="enigma_v/luc31_2" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc31" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="142" _title="Spacestation" _xpath="enigma_v/raoul23_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul23" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="143" _title="A-way" _xpath="enigma_vi/richi06_1" author="Richi B?tzer" ctrl="force" easy="true" id="richi06" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="143" _title="A-way" _xpath="enigma_vi/richi06_2" author="Richi B?tzer" ctrl="force" easy="true" id="richi06" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="144" _title="Toreador" _xpath="enigma_vi/ral02_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060213ral004" rel="1" rev="43" score="1" target="time" unit="duration"/>
     <level _seq="145" _title="Laser Splitting" _xpath="enigma_vi/luc29_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc29" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Oxydrings" _xpath="enigma_vi/raoul13_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul13" rel="1" rev="2" score="1" target="time" unit="duration"/>
@@ -173,7 +173,7 @@
     <level _seq="165" _title="Chessing Positions" _xpath="enigma_vi/raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="166" _title="Twisting by the pool" _xpath="enigma_vi/alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="167" _title="Hot Meditation" _xpath="enigma_vi/ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
-    <level _seq="168" _title="Pool with a pole" _xpath="enigma_vii/alain28_1" author="Alain Busser" ctrl="force" easy="false" id="alain28" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="168" _title="Pool with a pole" _xpath="enigma_vii/alain28_2" author="Alain Busser" ctrl="force" easy="false" id="alain28" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="169" _title="Jump into Meditation" _xpath="enigma_vi/ral07_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060525ral009" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="170" _title="- Meditation -" _xpath="enigma_vi/raoul18_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul18" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="171" _title="Step gently!" _xpath="enigma_vi/malla03_2" author="Manuel K?nig" ctrl="force" easy="true" id="malla03" rel="2" rev="2" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -101,7 +101,7 @@
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="96" _title="Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="96" _title="Wierdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -143,6 +143,7 @@
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="136" _title="Squared Microwire" _xpath="enigma_viii/ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="137" _title="More or Less Wired" _xpath="enigma_viii/ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
+    <level _seq="138" _title="Sokopal" _xpath="enigma_viii/andreas55_2" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas55" rel="2" rev="3" score="2" target="time" unit="duration"/>
   </levels>
 
 </index>

Deleted: trunk/data/levels/enigma_i/ant01_1.xml
===================================================================
--- trunk/data/levels/enigma_i/ant01_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/ant01_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,180 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Puzzle Hacker" el:subtitle="" el:id="ant01"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2002 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 25
-
-create_world(levelw, levelh)
-
-fill_floor("fl-gray")
-
-for i = 0, 100 do
-        x0 = random(level_width)
-        y0 = random(level_height)
-        set_floor ("fl-normal",  x0, y0)
-end
-
-draw_border("st-marble")
-draw_stones("st-marble", { 0,12},{ 1, 0},20)
-draw_stones("st-grate2", { 1, 1},{ 1, 0},18)
-draw_stones("st-grate2", { 1, 1},{ 0, 1},11)
-draw_stones("st-grate2", { 1,11},{ 1, 0}, 9)
-draw_stones("st-grate2", { 9, 6},{ 0, 1}, 5)
-
---abyss across the lower room
-x0 = 10
-y0 = 12
-
-for i = y0, level_height do
-        abyss(x0, i)
-end
-
---balcony
-set_stone  ("st-grate1", x0+0, y0+0)
-fill_floor ("fl-abyss",  x0-2, y0+0, 5, 4)
-fill_floor ("fl-gray",   x0-1, y0+0, 3, 3)
-set_floor  ("fl-bridge", x0-1, y0+3, {name="bridge01"})
-
---grass in the upper room
-fill_floor("fl-leaves",  13, 6, 3, 5)
-
---vertical walls in the upper room
-draw_stones("st-marble", { 9, 6},{ 0, 1},6)
-draw_stones("st-marble", {11, 6},{ 0, 1},6)
-set_stone  ("st-grate1",   9,  7)
-set_stone  ("st-grate1",  11,  7)
-
---grass in the lower room
-fill_floor("fl-leaves",  2, 14, 5, 9)
-fill_floor("fl-leaves",  7, 17, 2, 6)
-fill_floor("fl-leaves", 12, 17, 4, 6)
-fill_floor("fl-leaves", 14, 14, 2, 3)
-fill_floor("fl-leaves", 16, 19, 2, 4)
-
-set_stone("st-switch", 13, 21, {action="openclose", target="bridge01"})
-
---door
-draw_stones("st-marble", { 17, 6},{ 0, 1},12)
-set_stone("st-door",    18,  6, {name="door01", type="h"})
-set_stone("st-door",    18,  7, {name="door02", type="h"})
-set_stone("st-door",    18,  8, {name="door03", type="h"})
-set_stone("st-door",    18,  9, {name="door04", type="h"})
-set_stone("st-door",    18, 10, {name="door05", type="h"})
-set_stone("st-door",    18, 11, {name="door06", type="h"})
-set_stone("st-door",    18, 12, {name="door07", type="h"})
-set_stone("st-door",    18, 13, {name="door08", type="h"})
-set_stone("st-door",    18, 14, {name="door09", type="h"})
-set_stone("st-door",    18, 15, {name="door10", type="h"})
-set_stone("st-door",    18, 16, {name="door11", type="h"})
-set_stone("st-door",    18, 17, {name="door12", type="h"})
-
---triggers
-x0 = 2
-y0 = 6
-
-set_item ("it-trigger", x0+0, y0+0, {action="openclose", target="door01"})
-set_item ("it-trigger", x0+0, y0+2, {action="openclose", target="door02"})
-set_item ("it-trigger", x0+0, y0+4, {action="openclose", target="door03"})
-set_item ("it-trigger", x0+2, y0+0, {action="openclose", target="door04"})
-set_item ("it-trigger", x0+2, y0+2, {action="openclose", target="door05"})
-set_item ("it-trigger", x0+2, y0+4, {action="openclose", target="door06"})
-set_item ("it-trigger", x0+4, y0+0, {action="openclose", target="door07"})
-set_item ("it-trigger", x0+4, y0+2, {action="openclose", target="door08"})
-set_item ("it-trigger", x0+4, y0+4, {action="openclose", target="door09"})
-set_item ("it-trigger", x0+6, y0+0, {action="openclose", target="door10"})
-set_item ("it-trigger", x0+6, y0+2, {action="openclose", target="door11"})
-set_item ("it-trigger", x0+6, y0+4, {action="openclose", target="door12"})
-
---PUZZLES
-
---two
-x0 = 14
-y0 = 2
-puzzle( x0+0, y0+0, PUZ_0100)
-puzzle( x0+1, y0+0, PUZ_0001)
-
---four
-x0 = 2
-y0 = 4
-puzzle( x0+0, y0+0, PUZ_0100)
-puzzle( x0+1, y0+0, PUZ_0101)
-puzzle( x0+2, y0+0, PUZ_1001)
-puzzle( x0+2, y0-1, PUZ_0010)
-
---five
-x0 = 15
-y0 = 3
-puzzle( x0+0, y0+0, PUZ_0100)
-puzzle( x0+1, y0+0, PUZ_0101)
-puzzle( x0+2, y0+0, PUZ_1001)
-puzzle( x0+2, y0-1, PUZ_0110)
-puzzle( x0+3, y0-1, PUZ_0001)
-
---seven
-x0 = 10
-y0 = 3
-puzzle( x0+0, y0+0, PUZ_0100)
-puzzle( x0+1, y0+0, PUZ_1001)
-puzzle( x0+1, y0-1, PUZ_0110)
-puzzle( x0+2, y0-1, PUZ_0101)
-puzzle( x0+3, y0-1, PUZ_0011)
-puzzle( x0+3, y0+0, PUZ_1100)
-puzzle( x0+4, y0+0, PUZ_0001)
-
---eight
-x0 = 6
-y0 = 4
-puzzle( x0+0, y0+0, PUZ_0100)
-puzzle( x0+1, y0+0, PUZ_0101)
-puzzle( x0+2, y0+0, PUZ_0101)
-puzzle( x0+3, y0+0, PUZ_0101)
-puzzle( x0+4, y0+0, PUZ_0101)
-puzzle( x0+5, y0+0, PUZ_0101)
-puzzle( x0+6, y0+0, PUZ_1001)
-puzzle( x0+6, y0-1, PUZ_0010)
-
---nine
-x0 = 3
-y0 = 3
-puzzle( x0+0, y0+0, PUZ_1000)
-puzzle( x0+0, y0-1, PUZ_0110)
-puzzle( x0+1, y0-1, PUZ_0101)
-puzzle( x0+2, y0-1, PUZ_0101)
-puzzle( x0+3, y0-1, PUZ_0101)
-puzzle( x0+4, y0-1, PUZ_0011)
-puzzle( x0+4, y0+0, PUZ_1100)
-puzzle( x0+5, y0+0, PUZ_0101)
-puzzle( x0+6, y0+0, PUZ_0001)
-
--- OXYD stones
-oxyd ( 2,14)
-oxyd ( 6,14)
-oxyd ( 2,22)
-oxyd ( 8,22)
-oxyd_shuffle()
-
--- and actor...
-set_actor("ac-blackball", 2.5, 2.5)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_i/ant01_2.xml (from rev 1458, trunk/data/levels/enigma_i/ant01_1.xml)
===================================================================
--- trunk/data/levels/enigma_i/ant01_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_i/ant01_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,78 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Puzzle Hacker" el:subtitle="" el:id="ant01"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2002 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_gray"}
+ti["-"] = {"fl_lawn"}
+ti[":"] = {"fl_abyss"}
+ti["#"] = {"st_redbrown"}
+ti["W"] = {"st-grate2"}
+ti["X"] = {"st-grate1"}
+ti["O"] = {"st_oxyd"}
+ti["puzzle"] = {"st_puzzle", cluster="%%"}
+ti["trigger"] = {"it_trigger", target="door%%"}
+ti["door"] = {"st_door", flavor="d", faces="ns", name="door%%"}
+ti["S"] = {"st_switch", target="bridge"}
+ti["_"] = {"fl_bridge", name="bridge"}
+ti["@"] = {"#ac_marble_black"}
+
+function floor_resolver(key, x, y)
+    if key == " " then
+        if math.random(1,5) == 1 then
+            return ti({"fl_metal_7"})
+        end
+        return ti[" "]
+    end
+    return ti[key]
+end
+
+local resolver = res.autotile(floor_resolver, {"a", "l", "trigger"}, {"A", "L", "door"}, {"1", "6", "puzzle"})
+wo(resolver, " ", {
+    "####################",
+    "#WWWWWWWWWWWWWWWWWW#",
+    "#W at 22222   33344 55#",
+    "#W 21  22233633555 #",
+    "#W111 6666666      #",
+    "#W                 #",
+    "#Wa d g j# # --- #A#",
+    "#W       X X --- #B#",
+    "#Wb e h k# # --- #C#",
+    "#W       # # --- #D#",
+    "#Wc f i l# # --- #E#",
+    "#WWWWWWWW# #     #F#",
+    "##########X#######G#",
+    "#       :   :    #H#",
+    "# O---O :   : -- #I#",
+    "# ----- :_::: -- #J#",
+    "# -----   :   -- #K#",
+    "# ------- : ---- #L#",
+    "# ------- : ----   #",
+    "# ------- : ------ #",
+    "# ------- : ------ #",
+    "# ------- : -S---- #",
+    "# O-----O : ------ #",
+    "#         :        #",
+    "####################"})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_i/ant01_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_i/ant24_1.xml
===================================================================
--- trunk/data/levels/enigma_i/ant24_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/ant24_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,62 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- Meditation -" el:subtitle="" el:id="ant24"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- 2003-02-09 -- enigma.ConserveLevel=FALSE added
-cells={}
-
-cells[" "]=cell{floor="fl-bluegray"}
-cells["_"]=cell{floor="fl-sahara"}
-cells["#"]=cell{stone="st-rock1"}
-
-puzzles = {};
-cells["*"]=cell{{{add_multicell, puzzles}}}
-
-cells["O"]=cell{item="it-hollow"}
-cells["@"]=cell{{{wormhole, 2.5, 2.5, {range=1, strength=10}}}}
-cells["o"]=cell{actor={"ac-whiteball-small", {player=0, mouseforce=1, essential=1}}}
-cells["6"]=cell{{cells["o"], cells["_"]}}
-
-level = {
-   "####################",
-   "#*****        *****#",
-   "#*6  *        *  o*#",
-   "#*   *O O     *   *#",
-   "#*   *        *   *#",
-   "#*****O O  @  *****#",
-   "#                  #",
-   "#*****        *****#",
-   "#*   *  @  @  *   *#",
-   "#*   *        *   *#",
-   "#*o  *        *  o*#",
-   "#*****        *****#",
-   "####################"
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level)
-render_puzzles(puzzles);
-enigma.ConserveLevel=FALSE
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_i/ant24_2.xml (from rev 1458, trunk/data/levels/enigma_i/ant24_1.xml)
===================================================================
--- trunk/data/levels/enigma_i/ant24_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_i/ant24_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,50 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="ant24"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl_bluegray"}
+ti["_"] = {"fl_sahara", name="spot"}
+ti["#"] = {"st_granite"}
+ti["*"] = {"st_puzzle", cluster=1}
+ti["w"] = {"it_wormhole", range=1, strength=10, destination="spot"}
+ti["O"] = {"it_meditation_hollow"}
+ti["1"] = ti["_"] .. {"#ac_pearl", essential=-1}
+ti["2"] = {"#ac_pearl", essential=-1}
+
+wo(ti, " ", {
+    "####################",
+    "#*****        *****#",
+    "#*1  *        *  2*#",
+    "#*   *O O     *   *#",
+    "#*   *        *   *#",
+    "#*****O O  w  *****#",
+    "#                  #",
+    "#*****        *****#",
+    "#*   *  w  w  *   *#",
+    "#*   *        *   *#",
+    "#*2  *        *  2*#",
+    "#*****        *****#",
+    "####################"})
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_i/ant24_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_i/index.xml
===================================================================
--- trunk/data/levels/enigma_i/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma I"/>
+  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma I"/>
 
   <attributes/>
 
@@ -50,11 +50,11 @@
     <level _seq="42" _title="Basement" _xpath="./siegfried26_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Sokoban Revival" _xpath="./martin04_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin04" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Dead Ball Walking" _xpath="./illmind08_1" author="illmind" ctrl="force" easy="false" id="illmind08" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Duck and Cover" _xpath="./nat02_1" author="Nat Pryce" ctrl="force" easy="false" id="nat2" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="Duck and Cover" _xpath="./nat02_2" author="Nat Pryce" ctrl="force" easy="true" id="nat2" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Oxyd Maze" _xpath="./duffy79_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy79" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Mission Impossible" _xpath="./martin14_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Hurry!" _xpath="./jc01_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Hall of Glass" _xpath="./martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Hall of Glass" _xpath="./martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="./siegfried36_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Deadly Cross" _xpath="./martin84_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin84" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="The Enigmhanoi Towers" _xpath="./alain05_1" author="Alain Busser" ctrl="force" easy="true" id="alain05" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -71,17 +71,17 @@
     <level _seq="63" _title="Tubes" _xpath="./siegfried09_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3e" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Turbulence" _xpath="./duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Lasers 101" _xpath="./daniel08_1" author="Daniel Heck" ctrl="force" easy="false" id="lasers101" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="66" _title="Not Hard Atoll" _xpath="./martin33_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin33" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Not Hard Atoll" _xpath="./martin33_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin33" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Black Lava" _xpath="./ant12_1" author="Petr Machata" ctrl="force" easy="false" id="ant12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Laser Arena" _xpath="./andreas14_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="69" _title="Advanced Lasers" _xpath="./luc23_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc23" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="70" _title="- Meditation -" _xpath="./ant24_1" author="Petr Machata" ctrl="force" easy="false" id="ant24" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="70" _title="- Meditation -" _xpath="./ant24_2" author="Petr Machata" ctrl="force" easy="false" id="ant24" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Spiral Race" _xpath="./wb06_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="Way To Go" _xpath="./daniel09_1" author="Daniel Heck" ctrl="force" easy="false" id="mirrors" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Formentera!" _xpath="./luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Ibiza!" _xpath="./ralf02_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_1" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Cage The Lions" _xpath="./duffy47_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy47" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="78" _title="Confetti" _xpath="./duffy74_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy74" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Why So Slow?" _xpath="./jc03_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc03" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_i/martin33_1.xml
===================================================================
--- trunk/data/levels/enigma_i/martin33_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/martin33_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,69 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Not Hard Atoll" el:subtitle="" el:id="martin33"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 39
-levelh = 25
-
-create_world( levelw, levelh)
-fill_floor("fl-water", 0, 0, levelw, levelh)
-fill_floor("fl-sand", 4,2,levelw-8,levelh-4)
-fill_floor("fl-water", 8,4, levelw-16,levelh-8)
-
-draw_stones("st-puzzle", { 5, 5}, {1,0}, 23, {connections=PUZ_0101})
-draw_stones("st-puzzle", {28, 3}, {0,1}, 15, {connections=PUZ_1010})
-draw_stones("st-puzzle", {10,18}, {1,0}, 23, {connections=PUZ_0101})
-draw_stones("st-puzzle", { 9, 6}, {0,1}, 15, {connections=PUZ_1010})
-
-puzzle( 4, 5, PUZ_0100)
-puzzle( 9, 5, PUZ_0111)
-puzzle(28, 2, PUZ_0010)
-puzzle(28, 5, PUZ_1011)
-puzzle(33,18, PUZ_0001)
-puzzle(28,18, PUZ_1101)
-puzzle( 9,21, PUZ_1000)
-puzzle( 9,18, PUZ_1110)
-
-oxyd( 8,4)
-oxyd(19,4)
-oxyd( levelw-9,4)
-oxyd( levelw-9,12)
-oxyd( 8,levelh-5)
-oxyd( 8,12)
-oxyd( levelw-9,levelh-5)
-oxyd( 19,levelh-5)
-
-oxyd_shuffle()
-
-draw_stones("st-oneway-n", {levelw-8,16}, {1,0}, 4)
-draw_stones("st-oneway-n", {levelw-8, 8}, {1,0}, 4)
-draw_stones("st-oneway-s", {4,8}, {1,0}, 4)
-draw_stones("st-oneway-s", {4,16}, {1,0}, 4)
-draw_stones("st-oneway-w", {15,2}, {0,1}, 2)
-draw_stones("st-oneway-w", {23,2}, {0,1}, 2)
-draw_stones("st-oneway-e", {15,levelh-4}, {0,1}, 2)
-draw_stones("st-oneway-e", {23,levelh-4}, {0,1}, 2)
-
-set_actor("ac-blackball", 33, 21)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_i/martin33_2.xml (from rev 1458, trunk/data/levels/enigma_i/martin33_1.xml)
===================================================================
--- trunk/data/levels/enigma_i/martin33_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_i/martin33_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,64 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Not Hard Atoll" el:subtitle="" el:id="martin33"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_water"}
+ti["-"] = {"fl_sand"}
+ti["+"] = {"st_puzzle", cluster=1}
+ti["*"] = ti[" "] .. {"st_puzzle", cluster=1}
+ti["^"] = {"st_oneway", orientation=NORTH}
+ti[">"] = {"st_oneway", orientation=EAST}
+ti["v"] = {"st_oneway", orientation=SOUTH}
+ti["<"] = {"st_oneway", orientation=WEST}
+ti["O"] = ti[" "] .. {"st_oxyd", name="oxyds#"}
+ti["@"] = {"ac_marble_black"}
+
+wo(ti, "-", {
+    "                                       ",
+    "                                       ",
+    "    -----------<-------<----+------    ",
+    "    -----------<-------<----+------    ",
+    "    ----O          O        * O----    ",
+    "    ++++*********************  ----    ",
+    "    ---- *                  *  ----    ",
+    "    ---- *                  *  ----    ",
+    "    vvvv *                  *  ^^^^    ",
+    "    ---- *                  *  ----    ",
+    "    ---- *                  *  ----    ",
+    "    ---- *                  *  ----    ",
+    "    ----O*                  * O----    ",
+    "    ---- *                  *  ----    ",
+    "    ---- *                  *  ----    ",
+    "    ---- *                  *  ----    ",
+    "    vvvv *                  *  ^^^^    ",
+    "    ---- *                  *  ----    ",
+    "    ---- **********************+++-    ",
+    "    ---- *                     ----    ",
+    "    ----O*         O          O----    ",
+    "    -----+----->------->--------- at -    ",
+    "    ----------->------->-----------    ",
+    "                                       ",
+    "                                       "})
+
+wo:shuffleOxyd({no["oxyds#*"]:sort("circular"), circular=true})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_i/martin33_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_i/martin86_1.xml
===================================================================
--- trunk/data/levels/enigma_i/martin86_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/martin86_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,78 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Hall of Glass" el:subtitle="" el:id="martin86"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 21
-levelh = 14
-
-create_world( levelw, levelh)
-draw_border("st-glass", 0, 0, 20, 13)
-fill_floor("fl-himalaya")
-
-draw_border("st-glass", 2, 3, 9, 7)
-
-oneway( 2,6, WEST)
-oneway(10,6, EAST)
-
-set_attrib( laser( 20, 2, 1, WEST), "name", "laser1")
-set_attrib( laser( 20,10, 1, WEST), "name", "laser2")
-set_attrib( laser(  1,13, 1, NORTH), "name", "laser3")
-set_attrib( laser( 12,13, 1, NORTH), "name", "laser4")
-set_attrib( laser( 13,13, 1, NORTH), "name", "laser5")
-set_attrib( laser( 14,13, 1, NORTH), "name", "laser6")
-set_attrib( laser( 15,13, 1, NORTH), "name", "laser7")
-set_attrib( laser( 16,13, 1, NORTH), "name", "laser8")
-set_attrib( laser( 17,13, 1, NORTH), "name", "laser9")
-
-shogundot1( 4,6, {target="laser1", action="onoff"})
-shogundot1( 5,5, {target="laser2", action="onoff"})
-shogundot1( 5,7, {target="laser3", action="onoff"})
-shogundot1( 6,4, {target="laser4", action="onoff"})
-shogundot1( 6,6, {target="laser5", action="onoff"})
-shogundot1( 6,8, {target="laser6", action="onoff"})
-shogundot1( 7,5, {target="laser7", action="onoff"})
-shogundot1( 7,7, {target="laser8", action="onoff"})
-shogundot1( 8,6, {target="laser9", action="onoff"})
-
-set_stone("st-shogun-s",4,5)
-set_stone("st-shogun-s",4,7)
-set_stone("st-shogun-s",5,6)
-set_stone("st-shogun-s",6,4)
-set_stone("st-shogun-s",6,5)
-set_stone("st-shogun-s",6,7)
-set_stone("st-shogun-s",6,8)
-set_stone("st-shogun-s",7,6)
-set_stone("st-shogun-s",8,7)
-
-oxyd( 0, 1)
-oxyd( 0,11)
-oxyd(18, 0)
-oxyd(19, 1)
-oxyd(18,12)
-oxyd(19,11)
-
-oxyd_shuffle()
-
-set_actor("ac-blackball", 9.5, 5.5)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_i/martin86_2.xml (from rev 1458, trunk/data/levels/enigma_i/martin86_1.xml)
===================================================================
--- trunk/data/levels/enigma_i/martin86_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_i/martin86_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,57 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Hall of Glass" el:subtitle="" el:id="martin86"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti["  "] = {"fl_himalaya"}
+ti["##"] = {"st-glass"}
+ti["<<"] = {"st_oneway", orientation=WEST}
+ti[">>"] = {"st_oneway", orientation=EAST}
+ti["l "] = {"st_laser", orientation=WEST, state=ON, name="laser%%"}
+ti["L "] = {"st_laser", orientation=NORTH, state=ON, name="laser%%"}
+ti["M "] = {"st_laser", orientation=NORTH, state=OFF, name="laser%%"}
+ti["=="] = {"st_shogun_s"}
+ti[". "] = {"it_shogun_s", target="laser%%"}
+ti[": "] = ti["=="] .. {"it_shogun_s", target="laser%%", inverse=true}
+ti["OO"] = {"st_oxyd", name="oxyd%%"}
+ti["@@"] = {"#ac_marble_black"}
+
+local resolver = res.autotile(ti, {"L", "L "}, {"M", "M "}, {"l", "l "}, {".", ". "}, {":", ": "}, {"O", "OO"})
+
+wo(resolver, "  ", {
+    "####################################O1##  ",
+    "O3                                    O1  ",
+    "##                                    ##l1",
+    "##  ##################                ##  ",
+    "##  ##      :8      ##                ##  ",
+    "##  ##  ==.2==.5  @@##                ##  ",
+    "##  <<  .1==.7==.3  >>                ##  ",
+    "##  ##  ==.9==.4==  ##                ##  ",
+    "##  ##      :6      ##                ##  ",
+    "##  ##################                ##  ",
+    "##                                    ##l2",
+    "O3                                    O2  ",
+    "####################################O2##  ",
+    "  L9                    M8L7M6L5L4L3      "})
+
+wo:shuffleOxyd({"oxyd?1", max=0}, {"oxyd?2", max=0})
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_i/martin86_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_i/nat02_1.xml
===================================================================
--- trunk/data/levels/enigma_i/nat02_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_i/nat02_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,78 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Duck and Cover" el:subtitle="" el:id="nat2"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Nat Pryce" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2002 Nat Pryce</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-create_world( 20, 13 )
-oxyd_default_flavor = "c"       -- Default flavor for oxyd stones.
-
-fill_floor( "fl-rough")
-draw_border( "st-glass")    
-draw_stones( "st-glass", {2,1}, {0,1}, level_height-2 )
-draw_stones( "st-glass", {level_width-3,1}, {0,1}, level_height-2 )
-
-lasers = {}
-
-function next_laser_name()
-    return "laser" .. getn(lasers)
-end
-
-function create_laser( x, y, dir )
-    name = next_laser_name()
-    set_stone( "st-laser", x, y, {on=TRUE, dir=dir, name=name} )
-    tinsert( lasers, name )
-end
-
-for y = 1,level_height-2 do
-    create_laser( 1, y, EAST )
-    create_laser( level_width-2, y, WEST )
-end
-
-set_stone( "st-brownie", 8, 6 )
-set_stone( "st-brownie", 11, 6 )
-set_stone( "st-brownie", 9, 4 )
-set_stone( "st-brownie", 10, 4 )
-set_stone( "st-brownie", 9, 8 )
-set_stone( "st-brownie", 10, 8 )
-
-function toggle_laser( name )
-    SendMessage(name, "onoff")
-end
-function timer_handler()
-    for i = 1, getn(lasers) do
-        toggle_laser( lasers[i] )
-    end
-end
-set_stone( "st-timer", 0, 6,
-           {action="callback", target="timer_handler", interval=4} )
-
-for x = 4, 8, 2 do
-    oxyd( x, 0 )
-    oxyd( level_width-(x+1), 0 )
-    oxyd( x, level_height-1 )
-    oxyd( level_width-(x+1), level_height-1 )
-end
-oxyd_shuffle()
-
-set_actor("ac-blackball", level_width/2.0, level_height/2.0)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_i/nat02_2.xml (from rev 1458, trunk/data/levels/enigma_i/nat02_1.xml)
===================================================================
--- trunk/data/levels/enigma_i/nat02_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_i/nat02_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,55 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Duck and Cover" el:subtitle="" el:id="nat2"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Nat Pryce" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2002 Nat Pryce</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_rough"}
+ti["#"] = {"st-glass"}
+ti[">"] = {"st_laser", orientation=EAST, state=ON, name="lasere#"}
+ti["<"] = {"st_laser", orientation=WEST, state=ON, name="laserw#"}
+ti["B"] = {"st_brownie"}
+ti["T"] = {"st_timer", interval=4.0, target={"lasere#*", "laserw#*"}}
+ti["o"] = {"st_oxyd", name="lower#", flavor="c"}
+ti["O"] = {"st_oxyd", name="upper#", flavor="c"}
+ti["@"] = {"ac_marble_black", 0.0, 0.5}
+
+wo(ti, " ", {
+    "####O#O#O##O#O#O####",
+    "#>#              #<#",
+    "#>#              #<#",
+    "#>#              #<#",
+    "#>#      BB      #<#",
+    "#>#              #<#",
+    "T>#     B @B     #<#",
+    "#>#              #<#",
+    "#>#      BB      #<#",
+    "#>#              #<#",
+    "#>#              #<#",
+    "#>#              #<#",
+    "####o#o#o##o#o#o####"})
+
+if wo["IsDifficult"] then
+    wo:shuffleOxyd({"upper#*", "lower#*", min=6})
+else
+    wo:shuffleOxyd({"upper#*", "lower#*", min=4})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_i/nat02_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_ii/ant07_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_ii/ant07_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -17,7 +17,7 @@
 ti[" "] = {"fl_sand"}
 ti["~"] = {"fl_water"}
 ti["#"] = ti["~"] .. {"st-greenbrown"}
-ti["O"] = ti["~"] .. {"st_oxyd", flavor="a", name="oxydstone#"}
+ti["O"] = ti["~"] .. {"st_oxyd", flavor="a", name="oxyds#"}
 ti["m"] = ti[" "] .. {"it_magicwand"}
 ti["B"] = ti[" "] .. {"st_boulder_e", "the_boulder"}
 ti["+"] = ti["~"] .. {"it_trigger", target="turn_boulder", action_1="callback", invisible=true}
@@ -43,7 +43,8 @@
         no["the_boulder"]:turn()
     end
 end
-wo:shuffleOxyd({"oxydstone#*", circular=true})
+
+wo:shuffleOxyd({no["oxyds#*"]:sort("circular"), circular=true})
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="11" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma II"/>
 
   <attributes/>
 
@@ -19,7 +19,7 @@
     <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Enignimm" _xpath="./alain02_1" author="Alain Busser" ctrl="force" easy="false" id="alain02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="One Way Ticket" _xpath="./luc25_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc25" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="Knock Knock!" _xpath="./nat03_1" author="Nat Pryce" ctrl="force" easy="false" id="nat3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Beam0r" _xpath="./peter01_1" author="Peter Santo" ctrl="force" easy="false" id="peter_001" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Dustwalkers" _xpath="./ant06_1" author="Petr Machata" ctrl="force" easy="false" id="ant06" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -96,7 +96,7 @@
     <level _seq="88" _title="Shifting Shoals" _xpath="./nat28_1" author="Nat Pryce" ctrl="force" easy="false" id="nat28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pentomino V" _xpath="./ralf20_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="Washing Machine" _xpath="./duffy45_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy45" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="91" _title="It's Magic" _xpath="./martin27_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="It's Magic" _xpath="./martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Dirt Clod" _xpath="./xerxes02_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Painting" _xpath="./siegfried21_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Snowing" _xpath="./duffy120_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy120" rel="2" rev="3" score="2" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_ii/martin27_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin27_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_ii/martin27_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,83 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="It's Magic" el:subtitle="" el:id="martin27"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
-      <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- Dec.05: Changed floor back to fl-brick, Andreas
--- Oct.06: Moved Actor by (1;-1), Raoul
-
-levelw = 20
-levelh = 13
-
-create_world( levelw, levelh)
---fill_floor( "fl-leavesb", 0, 0, levelw, levelh)
-fill_floor( "fl-brick", 0, 0, levelw, levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c == "o" then
-            oxyd( i-1, line)
-    elseif c == "#" then
-        set_stone( "st-brick", i-1, line)
-        elseif c == "*" then
-            set_stone( "st-glass", i-1, line)
-    elseif c == "!" then
-        set_stone( "st-brick_magic", i-1, line)
-        end
-    end
-end
-
-renderLine(  0, "#o#######o########o#")
-renderLine(  1, "#!     !*!        !#")
-renderLine(  2, "#*!!!! !**!!!!!!  !#")
-renderLine(  3, "#  ! ! !*     !  ! #")
-renderLine(  4, "#  !   !!!!!! !  !*#")
-renderLine(  5, "#!   !      ! ! !!!#")
-renderLine(  6, "#*!! !!!! !        #")
-renderLine(  7, "#!   !      ! ! !!!#")
-renderLine(  8, "#  !   !!!!!! !  !*#")
-renderLine(  9, "#  ! ! !*     !  ! #")
-renderLine( 10, "#*!!!! !**!!!!!!  !#")
-renderLine( 11, "#!     !*!        !#")
-renderLine( 12, "#o#######o########o#")
-
-oxyd_shuffle()
-
-set_item( "it-magicwand", 6,7)
-set_stone( "st-switch", 19,6,{on=TRUE,action="onoff", target="laser"})
-set_attrib( laser(0,6,TRUE, EAST), "name", "laser")
-mirrorp( 1,3,FALSE,FALSE,4)
-mirrorp( 1,9,FALSE,FALSE,4)
-mirrorp( 9,3,FALSE,FALSE,4)
-mirrorp( 9,9,FALSE,FALSE,4)
-mirror3( 9,6,FALSE,TRUE,2)
-mirror3(18,3,FALSE,FALSE,2)
-mirror3(18,9,FALSE,FALSE,2)
-
-document( 15,8, "text1")
-set_actor("ac-blackball", 16.5, 8.5)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">Do not use too much magic!</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_ii/martin27_2.xml (from rev 1458, trunk/data/levels/enigma_ii/martin27_1.xml)
===================================================================
--- trunk/data/levels/enigma_ii/martin27_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_ii/martin27_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="It's Magic" el:subtitle="" el:id="martin27"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
+      <el:license el:type="GPL version 2" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_brick"}
+ti["#"] = {"st_brick"}
+ti["*"] = {"st-glass"}
+ti["!"] = {"st-brick_magic"}
+ti[">"] = {"st_laser", name="laser", orientation=EAST, state=ON}
+ti["/"] = {"st_mirror", orientation=WEST}
+ti["<"] = {"st_mirror", flavor="triangle", orientation=WEST}
+ti["("] = {"st_mirror", flavor="triangle", orientation=WEST, transparent=true}
+ti["S"] = {"st_switch", target="laser"}
+ti["O"] = {"st_oxyd"}
+ti["m"] = {"it_magicwand"}
+ti["d"] = {"it-document", text="text1"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "#O#######O########O#",
+    "#!     !*!        !#",
+    "#*!!!! !**!!!!!!  !#",
+    "#/ ! ! !*/    !  !<#",
+    "#  !   !!!!!! !  !*#",
+    "#!   !      ! ! !!!#",
+    ">*!! !!!!(!        S",
+    "#!   !m     ! ! !!!#",
+    "#  !   !!!!!! !d@!*#",
+    "#/ ! ! !*/    !  !<#",
+    "#*!!!! !**!!!!!!  !#",
+    "#!     !*!        !#",
+    "#O#######O########O#"})
+
+wo:shuffleOxyd()
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">Do not use too much magic!</el:english>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_ii/martin27_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_ii/martin75_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin75_2.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_ii/martin75_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -7,8 +7,7 @@
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
-      <el:compatibility el:enigma="1.10">
-      </el:compatibility>
+      <el:compatibility el:enigma="1.10"/>
       <el:modes el:easy="true" el:single="true" el:network="false"/>
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
@@ -23,28 +22,27 @@
 ti["X"] = ti["-"] .. {"st_oxyd", "upper#"}
 ti["Y"] = ti["-"] .. {"st_oxyd", "lower#"}
 
-w, h = wo(ti, " ", {
-"####################",
-"#        ----------#",
-"#        ------X-X-#",
-"#        ----------#",
-"#        ------X at X-#",
-"#        ----------#",
-"#      #mWWWWSWWWWW#",
-"#        ----------#",
-"#        ------Y-Y-#",
-"#        ----------#",
-"#        ------Y-Y-#",
-"#        ----------#",
-"####################"
-})
+wo(ti, " ", {
+    "####################",
+    "#        ----------#",
+    "#        ------X-X-#",
+    "#        ----------#",
+    "#        ------X at X-#",
+    "#        ----------#",
+    "#      #mWWWWSWWWWW#",
+    "#        ----------#",
+    "#        ------Y-Y-#",
+    "#        ----------#",
+    "#        ------Y-Y-#",
+    "#        ----------#",
+    "####################"})
 
 if wo["IsDifficult"] then
     wo:shuffleOxyd({"upper#*", max=0}, {"lower#*", max=0})
 else
     wo:shuffleOxyd({"upper#*", max=1}, {"lower#*", max=1})
 end
-  ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
      <el:string el:key="title">
        <el:english el:translate="false"/>

Deleted: trunk/data/levels/enigma_ii/qq03_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/qq03_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_ii/qq03_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,52 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Stomp Stomp" el:subtitle="" el:id="qq3"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Andrzej Szombierski" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? Andrzej Szombierski</el:copyright>
-      <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
-
-stone="st-rock3"
-
-create_world(levelw, levelh)
-fill_floor("fl-samba", 0, 0, levelw, levelh)
-draw_border(stone)
-draw_stones(stone, {2, 10}, {1, 0}, levelw-3)
-draw_stones(stone, {2, 11}, {1, 0}, levelw-3)
-
-draw_stones(stone, {1, 1}, {0, 1}, 3)
-draw_stones(stone, {18, 1}, {0, 1}, 3)
-
-for i=3,17,2 do
-    set_stone("st-door_b", i, 10, {name="door"..i})
-    oxyd(i, 11)
-    set_item("it-trigger", i, 2, { action="openclose", target="door"..i})
-end
-
-set_stone("st-bolder-e", 1, 2)
-set_stone("st-bolder-w", 18, 2)
-set_item("it-magicwand", 2, 9)
-
-oxyd_shuffle()
-set_actor("ac-blackball", 1.5, 10.5)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_ii/qq03_2.xml (from rev 1458, trunk/data/levels/enigma_ii/qq03_1.xml)
===================================================================
--- trunk/data/levels/enigma_ii/qq03_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_ii/qq03_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,55 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Stomp Stomp" el:subtitle="" el:id="qq3"/>
+      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Andrzej Szombierski" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? Andrzej Szombierski</el:copyright>
+      <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_samba"}
+ti["#"] = {"st-rock3"}
+ti[">"] = {"st_boulder", orientation=EAST}
+ti["<"] = {"st_boulder", orientation=WEST}
+ti["-"] = {"st_door", flavor="b"}
+ti["m"] = {"it_magicwand"}
+ti["t"] = {"it_trigger", target="open_doors"}
+ti["O"] = {"st_oxyd", name="oxyds#"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "####################",
+    "##                ##",
+    "#> t t t t t t t t<#",
+    "##                ##",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "#                  #",
+    "# m                #",
+    "#@#-#-#-#-#-#-#-#-##",
+    "# #O#O#O#O#O#O#O#O##",
+    "####################"})
+
+wo:shuffleOxyd({"oxyds#*", linear=true})
+
+function open_doors(value, sender)
+    st(po(sender)+{0,8}):toggle()
+end
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_ii/qq03_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/ant25_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/ant25_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/ant25_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,72 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Dependants" el:subtitle="" el:id="ant25"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- 2003-02-10 -- keeping up to date with latest additions to ant.lua
-cells={}
-
-cells[" "]=cell{floor={face="fl-sahara"}}
-cells["#"]=cell{stone={face="st-rock3"}}
-
-puzzles = {}
-cells["*"]=cell{parent={{add_multicell, puzzles}}}
-
-smallmarbles={}
-bigmarbles={}
-cells["y"]=cell{item={face="it-yinyang"}}
-cells["o"]=cell{parent={cells[" "],{add_multiactor, "ac-whiteball-small", smallmarbles, {mouseforce=0, essential=1}}}}
-cells["O"]=cell{parent={cells["y"],{add_multiactor, "ac-blackball", bigmarbles, {player=0, essential=1}}}}
-cells["Q"]=cell{parent={cells["y"],{add_multiactor, "ac-whiteball", bigmarbles, {player=1, essential=1}}}}
-
-cells["A"]=cell{stone={face="st-door", attr={name="doorA", type="h"}}}
-cells["B"]=cell{stone={face="st-door", attr={name="doorB", type="h"}}}
-cells["a"]=cell{item={face="it-trigger", attr={action="openclose", target="doorA"}}}
-cells["b"]=cell{item={face="it-trigger", attr={action="openclose", target="doorB"}}}
-
-cells["0"]=oxyd
-
-level = {
-   "##########################################################",
-   "#                  #O                 #                  #",
-   "#                  #                  #                  #",
-   "#                  #A##################                  #",
-   "#                  # a         ********************      #",
-   "#                  0           *   *  0                  #",
-   "#                  0           * o *  0                  #",
-   "#                  0           *   *  0                  #",
-   "#               ********************b #                  #",
-   "#                  ##################B#                  #",
-   "#                  #                  #                  #",
-   "#                  #                 Q#                  #",
-   "##########################################################"
-}
-
-set_default_parent(cells[" "])
-create_world_by_map(level)
-render_puzzles(puzzles);
-add_rubber_bands(smallmarbles, bigmarbles, 10)
-oxyd_shuffle()
-enigma.ConserveLevel = FALSE
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/ant25_2.xml (from rev 1458, trunk/data/levels/enigma_iii/ant25_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/ant25_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iii/ant25_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,62 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Dependants" el:subtitle="" el:id="ant25"/>
+      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="true"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl_sahara"}
+ti["#"] = {"st-rock3"}
+ti["O"] = {"st_oxyd", name="left#"}
+ti["o"] = {"st_oxyd", name="right#"}
+ti["*"] = {"st_puzzle", cluster=1}
+ti["y"] = {"it_yinyang"}
+ti["D"] = {"st_door", name="doors#", flavor="d"}
+ti["t"] = {"it_trigger", name="triggers#", target="@doors#*"}
+ti["1"] = ti["y"] .. {"#ac_marble_black", name="black", owner=0, essential=1}
+ti["2"] = ti["y"] .. {"#ac_marble_white", name="white", owner=1, essential=1}
+ti["3"] = {"#ac_pearl", name="pearl", controllers=0, essential=1}
+
+wo(ti, " ", {
+   "##########################################################",
+   "#                  #1                 #                  #",
+   "#                  #                  #                  #",
+   "#                  #D##################                  #",
+   "#                  # t         ********************      #",
+   "#                  O           *   *  o                  #",
+   "#                  O           * 3 *  o                  #",
+   "#                  O           *   *  o                  #",
+   "#               ********************t #                  #",
+   "#                  ##################D#                  #",
+   "#                  #                  #                  #",
+   "#                  #                 2#                  #",
+   "##########################################################"})
+
+wo:add({"ot_rubberband", anchor1="black", anchor2="pearl", strength=10.0})
+wo:add({"ot_rubberband", anchor1="white", anchor2="pearl", strength=10.0})
+
+if wo["IsDifficult"] then
+    wo:shuffleOxyd({"left#*", "right#*", min=3})
+else
+    wo:shuffleOxyd({"left#*", "right#*", max=1})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/ant25_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/daniel06_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/daniel06_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/daniel06_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,80 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="In Sync" el:subtitle="" el:id="daniel6"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Daniel Heck" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? Daniel Heck</el:copyright>
-      <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
-create_world(levelw, levelh)
-enigma.ConserveLevel = FALSE
-
-draw_border("st-stone1")
-fill_floor("fl-leaves", 0,0, level_width,level_height)
-
-fill_floor ("fl-water", 8, 1, 4, 11)
-fill_floor ("fl-stwood", 8, 1, 4, 1)
-fill_floor ("fl-stwood", 8, 11, 4, 1)
-
--- st = set_stone ("st-grate1", 13, 10)
--- n=25
--- for i=1,n do
---     angle = (270 + 360/n*(i-1))-- / (180 / 3.141)
---     x = 3*cos (angle) 
---     y = 3*sin (angle)
---     ac = set_actor ("ac-whiteball-small", 13.5 + x, 10.5+y, {controllers=0})
---     AddRubberBand (ac, st, 10000, 3.00, 3.0)
--- end
-
---fill_stones ("st-white4", 1, 4, 2, 6)
-set_stone ("st-white4", 2,5)
-set_stone ("st-white4", 1,4)
-set_stone ("st-white4", 1,6)
-set_stone ("st-white4", 2,7)
-set_stone ("st-white4", 1,8)
-
-set_stone ("st-white4", 17,5)
-set_stone ("st-white4", 18,4)
-set_stone ("st-white4", 18,6)
-set_stone ("st-white4", 17,7)
-set_stone ("st-white4", 18,8)
-
-oxyd_default_flavor = "d"
-oxyd (1, 1)
-oxyd (18, 1)
-oxyd (1, 3)
-oxyd (18, 3)
-oxyd (1, 5)
-oxyd (18, 5)
-oxyd (1, 7)
-oxyd (18, 7)
-oxyd (1, 9)
-oxyd (18, 9)
-oxyd (1, 11)
-oxyd (18, 11)
-
-oxyd_shuffle()
-
-ac1 = set_actor("ac-blackball", 5, 6.5, {player=0, essential=1})
-ac2 = set_actor("ac-whiteball", 15, 6.5, {player=1, essential=1})
-AddRubberBand (ac1, ac2, 10000, 10, 10)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/daniel06_2.xml (from rev 1458, trunk/data/levels/enigma_iii/daniel06_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/daniel06_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iii/daniel06_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,55 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="In Sync" el:subtitle="" el:id="daniel6"/>
+      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Daniel Heck" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? Daniel Heck</el:copyright>
+      <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+wo["ProvideExtralifes"] = false
+
+ti[" "] = {"fl_lawn"}
+ti["#"] = {"st_brownpyramide"}
+ti["."] = {"fl_water"}
+ti["w"] = {"fl_wood_framed"}
+ti["x"] = {"st_passage_white_frame"}
+ti["o"] = {"st_oxyd", "left#", flavor = "d"}
+ti["O"] = {"st_oxyd", "right#", flavor = "d"}
+ti["@"] = {"ac_marble_black", 0.0, 0.5, name = "black", owner = 0}
+ti["*"] = {"ac_marble_white", 0.0, 0.5, name = "white", owner = 0, essential = 1}
+
+wo(ti, " ", {
+    "####################",
+    "#o      wwww      O#",
+    "#       ....       #",
+    "#o      ....      O#",
+    "#x      ....      x#",
+    "#ox     ....     xO#",
+    "#x   @  ....   *  x#",
+    "#ox     ....     xO#",
+    "#x      ....      x#",
+    "#o      ....      O#",
+    "#       ....       #",
+    "#o      wwww      O#",
+    "####################"})
+
+wo:add({"ot_rubberband", anchor1 = "black", anchor2 = "white", length = 10.0, min = 9.98, max = 10.02})
+wo:shuffleOxyd({"left#*", max = 0}, {"right#*", max = 0})
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/daniel06_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/duffy09_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy09_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/duffy09_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,214 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Double-Maze" el:subtitle="" el:id="duffy9"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=1
-rooms_high=1
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-
-fill_floor("fl-leaves", 0,0,levelw,levelh)
-
-done_with_setup = 0
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-glass", i-1, line)
-        elseif c == "o" then
-            if done_with_setup == 0 then
-                oxyd( i-1, line)
-            end
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c=="z" then
-            set_actor("ac-blackball", i-.5,line+.5)
-        elseif c=="+" then
-            set_stone( "st-wood", i-1, line)
-        elseif c=="1" then
-            doorv( i-1,line, {name="door1"})
-        elseif c=="W" then
-            set_attrib(laser(i-1,line, FALSE, WEST), "name", "laser")
-        elseif c=="L" then
-            set_stone("st-key_a", i-1,line, {action="on", target="laser"})
-        elseif c=="k" then
-            set_item("it-key_a", i-1,line)
-        elseif c=="`" then
-            mirrorp(i-1,line,FALSE,TRUE, 2)
-        elseif c=="/" then
-            mirrorp(i-1,line,FALSE,TRUE, 4)
-        elseif c=="B" then
-            set_stone("st-bombs", i-1,line)
-        elseif c=="g" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-        elseif c=="A" then
-            if done_with_setup==0 then
-                set_stone("st-switch", i-1,line, {action="callback",target="funcc"})
-            end
-        elseif c=="h" then
-            draw_stones("st-grate2",{i-1,line}, {1,1}, 1)
-        elseif c=="m" then
-            set_stone("st-marble",i-1,line)
-        end
-    end
-end
-
-through=0
-swap=0
-function funcc()
-    --   if swap == 0 then
-    myline0 = gsub(myline0, "#", "B")
-    myline1 = gsub(myline1, "#", "B")
-    myline2 = gsub(myline2, "#", "B")
-    myline3 = gsub(myline3, "#", "B")
-    myline4 = gsub(myline4, "#", "B")
-    myline5 = gsub(myline5, "#", "B")
-    myline6 = gsub(myline6, "#", "B")
-    myline7 = gsub(myline7, "#", "B")
-    myline8 = gsub(myline8, "#", "B")
-    myline9 = gsub(myline9, "#", "B")
-    myline10 = gsub(myline10, "#", "B")
-    myline11 = gsub(myline11, "#", "B")
-    myline12 = gsub(myline12, "#", "B")
-    swap = 1
-    --   else
-    myline0 = gsub(myline0, "g", "#")
-    myline1 = gsub(myline1, "g", "#")
-    myline2 = gsub(myline2, "g", "#")
-    myline3 = gsub(myline3, "g", "#")
-    myline4 = gsub(myline4, "g", "#")
-    myline5 = gsub(myline5, "g", "#")
-    myline6 = gsub(myline6, "g", "#")
-    myline7 = gsub(myline7, "g", "#")
-    myline8 = gsub(myline8, "g", "#")
-    myline9 = gsub(myline9, "g", "#")
-    myline10 = gsub(myline10, "g", "#")
-    myline11 = gsub(myline11, "g", "#")
-    myline12 = gsub(myline12, "g", "#")
-
-    myline0 = gsub(myline0, "B", "g")
-    myline1 = gsub(myline1, "B", "g")
-    myline2 = gsub(myline2, "B", "g")
-    myline3 = gsub(myline3, "B", "g")
-    myline4 = gsub(myline4, "B", "g")
-    myline5 = gsub(myline5, "B", "g")
-    myline6 = gsub(myline6, "B", "g")
-    myline7 = gsub(myline7, "B", "g")
-    myline8 = gsub(myline8, "B", "g")
-    myline9 = gsub(myline9, "B", "g")
-    myline10 = gsub(myline10, "B", "g")
-    myline11 = gsub(myline11, "B", "g")
-    myline12 = gsub(myline12, "B", "g")
-    swap = 0
-    --   end
-
-    --   write(handle, "myline is now ")
-    --   write(handle, myline)
-    --   write(handle, "\n")
-    --   flush(handle)
-    --   closefile(handle)
-
-    renderLine(00, myline0)
-    renderLine(01, myline1)
-    renderLine(02, myline2)
-    renderLine(03, myline3)
-    renderLine(04, myline4)
-    renderLine(05, myline5)
-    renderLine(06, myline6)
-    renderLine(07, myline7)
-    renderLine(08, myline8)
-    renderLine(09, myline9)
-    renderLine(10, myline10)
-    renderLine(11, myline11)
-    renderLine(12, myline12)
-
-    if through==1 then
-    through=0
-    end
-    --    if through==0 then
-    --    for i=1, strlen(pattern) do
-    --        local c = strsub( pattern, i, i)
-    --        if c =="#" then
-    --        set_stone("st-greenbrown",i-1,line)
-    --        end
-    --    end
-    --    end
-    through=through+1
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-myline0= "mommmmommmmmmmmmmomm"
-myline1= "mh###ggg########gg#o"
-myline2= "mggg#g#gg##gggghg##m"
-myline3= "m#gg#h####ghhhg###go"
-myline4= "m###ghgg#gghAhgg#ggm"
-myline5= "m#g###gg#g#hhhg##h#m"
-myline6= "m#gggg#ggggg#ggggg#m"
-myline7= "m######g#######g#g#m"
-myline8= "mg#gg#gg#g#gggg####m"
-myline9= "m####ggggg#g#g##gggm"
-myline10="mg#g###g###h#ghgg#gm"
-myline11="o##ggh#ggggg###gg#hm"
-myline12="mmmmmommmmmmmmmmmmom"
-
---myline0=  "mmmmmmmmmmmmmmmmmmmm")
---myline1=  "m                  m")
---myline2=  "m########## ####   m")
---myline3=  "m#        # #  ### m")
---myline4=  "m#    ### # #   #  m")
---myline5=  "m# #### # ###   ## m")
---myline6=  "m# #    #    ggg # m")
---myline7=  "m# #### ###z gAg # m")
---myline8=  "m#   ###  ###ggg # m")
---myline9=  "m#     ###       # m")
---myline10= "m######  ######### m")
---myline11= "m     #            m")
---myline12= "mmmmmmmmmmmmmmmmmmmm")
-
-renderLine(00, myline0)
-renderLine(01, myline1)
-renderLine(02, myline2)
-renderLine(03, myline3)
-renderLine(04, myline4)
-renderLine(05, myline5)
-renderLine(06, myline6)
-renderLine(07, myline7)
-renderLine(08, myline8)
-renderLine(09, myline9)
-renderLine(10, myline10)
-renderLine(11, myline11)
-renderLine(12, myline12)
-
-oxyd_shuffle()
-done_with_setup = 1
-
-set_actor("ac-blackball", 9.5,6.5)
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/duffy09_2.xml (from rev 1458, trunk/data/levels/enigma_iii/duffy09_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/duffy09_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iii/duffy09_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Double-Maze" el:subtitle="" el:id="duffy9"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_lawn"}
+ti["#"] = {"st_redbrown"}
+ti["X"] = {"st-grate1", name="maze1#"}
+ti["G"] = {"st-glass", name="maze2#"}
+ti["H"] = {"st-grate2"}
+ti["A"] = {"st_switch", target="exchange_mazes", instant=true}
+ti["O"] = {"st_oxyd", name="oxyd1#"}
+ti["o"] = {"st_oxyd", name="oxyd2#"}
+ti["@"] = ti["X"] .. {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "#O####O##########O##",
+    "#HGGGXXXGGGGGGGGXXGo",
+    "#XXXGXGXXGGXXXXHXGG#",
+    "#GXXGHGGGGXHHHXGGGXO",
+    "#GGGXHXXGXXHAHXXGXX#",
+    "#GXGGGXXGXGHHHXGGHG#",
+    "#GXXXXGXX at XXGXXXXXG#",
+    "#GGGGGGXGGGGGGGXGXG#",
+    "#XGXXGXXGXGXXXXGGGG#",
+    "#GGGGXXXXXGXGXGGXXX#",
+    "#XGXGGGXGGGHGXHXXGX#",
+    "oGGXXHGXXXXXGGGXXGH#",
+    "#####o############O#"})
+
+wo:shuffleOxyd({"oxyd1#*", "oxyd2#*", min=3})
+
+function exchange_mazes(value, sender)
+    maze1 = no["maze1#*"]
+    maze2 = no["maze2#*"]
+    wo[maze1] = ti["G"]
+    wo[maze2] = ti["X"]
+end
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/duffy09_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/duffy107_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy107_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/duffy107_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,88 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Break Down the Wall" el:subtitle="" el:id="duffy107"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=1
-rooms_high=1
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-enigma.ConserveLevel = 0
-
-fill_floor("fl-rock", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-rock1", i-1, line)
-        elseif c =="B" then
-            set_stone( "st-black1", i-1, line)
-        elseif c =="W" then
-            set_stone( "st-white1", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "*" then
-            set_stone( "st-brownie", i-1, line)
-        elseif c == "!" then
-            abyss(i-1,line)
-        elseif c == "~" then
-            set_floor("fl-water",i-1,line)
-        elseif c=="z" then
-            set_actor("ac-blackball", i-.5,line+.5, {player=0})
-        elseif c=="y" then
-            set_actor("ac-whiteball", i-1,line+.5, {player=1})
-        elseif c == "g" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-        elseif c == "G" then
-            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-            set_item("it-hollow",i-1,line)
-        elseif c=="+" then
-            set_stone( "st-wood", i-1, line)
-        elseif c=="=" then
-            set_floor("fl-space",i-1,line)
-        elseif c=="r" then
-            set_stone("st-oneway_black", i-1,line, {orientation=enigma.EAST})
-        elseif c=="s" then
-            set_item("it-seed",i-1,line)
-        end
-    end
-end
-
-renderLine(00,"####################")
-renderLine(01,"#o     GrrrrG     o#")
-renderLine(02,"#    s G rrrG      #")
-renderLine(03,"#   s  GrrrrG      #")
-renderLine(04,"#o   s GrrrrG     o#")
-renderLine(05,"#   s  G rrrG      #")
-renderLine(06,"#  z   GrrrrG      #")
-renderLine(07,"#   s  G rrrG      #")
-renderLine(08,"#o   s GrrrrG     o#")
-renderLine(09,"#   s  GrrrrG      #")
-renderLine(10,"#    s G rrrG      #")
-renderLine(11,"#o     GrrrrG     o#")
-renderLine(12,"####################")
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/duffy107_2.xml (from rev 1458, trunk/data/levels/enigma_iii/duffy107_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/duffy107_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iii/duffy107_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,50 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Break Down the Wall" el:subtitle="" el:id="duffy107"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_rock"}
+ti["#"] = {"st_granite"}
+ti["G"] = ti({"st-grate1"}) .. {"it_meditation_hollow"}
+ti["R"] = {"st_oneway", color=BLACK, orientation=EAST}
+ti["s"] = {"it_seed"}
+ti["o"] = {"st_oxyd", name="left#"}
+ti["O"] = {"st_oxyd", name="right#"}
+ti["@"] = {"#ac_marble_black"}
+
+wo(ti, " ", {
+    "####################",
+    "#o     GRRRRG     O#",
+    "#    s G RRRG      #",
+    "#   s  GRRRRG      #",
+    "#o   s GRRRRG     O#",
+    "#   s  G RRRG      #",
+    "#  @   GRRRRG      #",
+    "#   s  G RRRG      #",
+    "#o   s GRRRRG     O#",
+    "#   s  GRRRRG      #",
+    "#    s G RRRG      #",
+    "#o     GRRRRG     O#",
+    "####################"})
+
+wo:shuffleOxyd({"left#*", "right#*", min=4})
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/duffy107_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_iii/duffy15_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy15_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/duffy15_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,136 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Bumperball" el:subtitle="" el:id="duffy15"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-rooms_wide=3
-rooms_high=3
-
-levelw=1+(19*rooms_wide)
-levelh=1+(12*rooms_high)
-
-create_world( levelw, levelh)
-enigma.ConserveLevel = 0
-
-fill_floor("fl-bluegreen", 0,0,levelw,levelh)
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone( "st-greenbrown", i-1, line)
-        elseif c == "o" then
-            oxyd( i-1, line)
-        elseif c == "!" then
-            fill_floor("fl-water", i-1,line, 1,1)
-        elseif c == "a" then
-            set_item("it-trigger", i-1,line, {action="openclose",target="door1"})
-        elseif c == "A" then
-            set_stone("st-door", i-1, line , {name="door1", type="v"})
-        elseif c == "S" then
-            set_stone("st-swap", i-1,line)
-        elseif c == "+" then
-            fill_floor("fl-bluegreen", i-1,line, 1,1)
-        elseif c == "D" then --1-d
-            set_floor("fl-gradient",  i-1,  line, {type=1})
-        elseif c == "U" then --2-u
-            set_floor("fl-gradient",  i-1,  line, {type=2})
-        elseif c == "R" then --3-r
-            set_floor("fl-gradient",  i-1,  line, {type=3})
-        elseif c == "L" then --4-l
-            set_floor("fl-gradient",  i-1,  line, {type=4})
-        elseif c == "1" then --ur
-            set_floor("fl-gradient",  i-1,  line, {type=11})
-        elseif c == "3" then --dl
-            set_floor("fl-gradient",  i-1,  line, {type=9})
-        elseif c == "7" then --dr
-            set_floor("fl-gradient",  i-1,  line, {type=12})
-        elseif c == "9" then --ul
-            set_floor("fl-gradient",  i-1,  line, {type=10})
-        elseif c=="0" then
-            set_floor("fl-gradient", i-1,line , {type=23})
-        elseif c=="5" then
-            set_floor("fl-gradient", i-1,line , {type=24})
-        elseif c=="b" then
-            puzzle(i-1,line,PUZ_0110)
-        elseif c=="c" then
-            puzzle(i-1,line,PUZ_0101)
-        elseif c=="d" then
-            puzzle(i-1,line,PUZ_0011)
-        elseif c=="e" then
-            puzzle(i-1,line,PUZ_1010)
-        elseif c=="f" then
-            puzzle(i-1,line,PUZ_1001)
-        elseif c=="g" then
-            puzzle(i-1,line,PUZ_1100)
-        end
-    end
-end
-
--- Floor:  " "
--- Border: "#"
--- Oxyd:   "o"
-
-renderLine(00,"##########################################################")
-renderLine(01,"#!!!!!+!!!!++++++++++++++!!!!!!!!!!!!!!!!!!!!!!!!!#!!!!!!#")
-renderLine(02,"#+++++++++!+!!!!+!!!!!!!+!!++++++!!#!!+!!!!!!!!!!!!!!!!!!#")
-renderLine(03,"#!+!!!+!+!!++++!!!+++++++++!+!o!+++!!!+!!++++++++++++++!!#")
-renderLine(04,"#!+!+!!!+!!+!!+++!!+!+!!!!!!+!!!+!++++++++!!!+!!!!!!!!+!!#")
-renderLine(05,"#!+!+++++++++!!!++++!++++++++++++!!!+#!!+!!!!+!!+++++!+!!#")
-renderLine(06,"#!+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!+++++!!+++!o!+!!+!!!+++!!#")
-renderLine(07,"#!+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!+!!!+!!+!++++++++!!!+!+!!#")
-renderLine(08,"#!+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!++++++++++!!!#!!+!!#+!+!!#")
-renderLine(09,"#                             #!!!!!!!!!!++++++++++!+!+!!#")
-renderLine(10,"#                                    !!!!!!!!!!+!!+!!!!!!#")
-renderLine(11,"#                                #   #     !!!+++!+!!!!!!#")
-renderLine(12,"#                          o               !!!+!!!+!!!!!!#")
-renderLine(13,"#                                    o     !!!+!!!+!!!!!!#")
-renderLine(14,"#                                          !!!+!#!+!!!!!!#")
-renderLine(15,"#                     o                                  #")
-renderLine(16,"#                                                        #")
-renderLine(17,"#                        bcccd           o               #")
-renderLine(18,"#                   o    e   e                           #")
-renderLine(19,"#                        e   e                   #       #")
-renderLine(20,"#                        e   e             o             #")
-renderLine(21,"#              o         gcccf    o                   #  #")
-renderLine(22,"#                                                        #")
-renderLine(23,"#                                                        #")
-renderLine(24,"#                    o          o                        #")
-renderLine(25,"#                o                        #    #         #")
-renderLine(26,"#                         o          o                   #")
-renderLine(27,"#                                                        #")
-renderLine(28,"#                                                  #     #")
-renderLine(29,"#                                                        #")
-renderLine(30,"#                                                #       #")
-renderLine(31,"#                             #            #             #")
-renderLine(32,"#                 ############     #                     #")
-renderLine(33,"#                 ############                           #")
-renderLine(34,"####S#            ############                         ###")
-renderLine(35,"#    #             !      a###                         Ao#")
-renderLine(36,"##########################################################")
-
-oxyd_shuffle()
-
-set_actor("ac-blackball", 27.5,19.5)
-set_actor("ac-whiteball-small",1.5,35.5, {controllers=1})
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iii/duffy15_2.xml (from rev 1458, trunk/data/levels/enigma_iii/duffy15_1.xml)
===================================================================
--- trunk/data/levels/enigma_iii/duffy15_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iii/duffy15_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,76 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Bumperball" el:subtitle="" el:id="duffy15"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_bluegreen"}
+ti["~"] = {"fl_water"}
+ti["#"] = {"st-greenbrown"}
+ti["*"] = {"st_puzzle", cluster=1}
+ti["S"] = {"st_swap"}
+ti["|"] = {"st_door", flavor="d", faces="ew", name="door"}
+ti["t"] = {"it_trigger", target="door"}
+ti["O"] = {"st_oxyd"}
+ti["@"] = {"#ac_marble_black"}
+ti["."] = {"#ac_pearl"}
+
+wo(ti, " ", {
+"##########################################################",
+"#~~~~~ ~~~~              ~~~~~~~~~~~~~~~~~~~~~~~~~#~~~~~~#",
+"#         ~ ~~~~ ~~~~~~~ ~~      ~~#~~ ~~~~~~~~~~~~~~~~~~#",
+"#~ ~~~ ~ ~~    ~~~         ~ ~O~   ~~~ ~~              ~~#",
+"#~ ~ ~~~ ~~ ~~   ~~ ~ ~~~~~~ ~~~ ~        ~~~ ~~~~~~~~ ~~#",
+"#~ ~         ~~~    ~            ~~~ #~~ ~~~~ ~~     ~ ~~#",
+"#~ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~     ~~   ~O~ ~~ ~~~   ~~#",
+"#~ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ~~~ ~~ ~        ~~~ ~ ~~#",
+"#~ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          ~~~#~~ ~~# ~ ~~#",
+"#                             #~~~~~~~~~~          ~ ~ ~~#",
+"#                                    ~~~~~~~~~~ ~~ ~~~~~~#",
+"#                                #   #     ~~~   ~ ~~~~~~#",
+"#                          O               ~~~ ~~~ ~~~~~~#",
+"#                                    O     ~~~ ~~~ ~~~~~~#",
+"#                                          ~~~ ~#~ ~~~~~~#",
+"#                     O                                  #",
+"#                                                        #",
+"#                        *****           O               #",
+"#                   O    *   *                           #",
+"#                        * @ *                   #       #",
+"#                        *   *             O             #",
+"#              O         *****    O                   #  #",
+"#                                                        #",
+"#                                                        #",
+"#                    O          O                        #",
+"#                O                        #    #         #",
+"#                         O          O                   #",
+"#                                                        #",
+"#                                                  #     #",
+"#                                                        #",
+"#                                                #       #",
+"#                             #            #             #",
+"#                 ############     #                     #",
+"#                 ############                           #",
+"####S#            ############                         ###",
+"#.   #             ~      t###                         |O#",
+"##########################################################"})
+
+wo:shuffleOxyd()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iii/duffy15_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_iii/duffy65_2.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy65_2.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/duffy65_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Overwhelming" el:subtitle="" el:id="duffy65"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="stable"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma III"/>
 
   <attributes/>
 
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Seven Friends" _xpath="./ss16_2" author="Sven Siggelkow" ctrl="force" easy="false" id="ss16" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="11" _title="Blocks and Water" _xpath="./duffy99_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy99" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="deja-vu" _xpath="./illmind09_1" author="illmind" ctrl="force" easy="false" id="illmind09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Dependants" _xpath="./ant25_1" author="Petr Machata" ctrl="force" easy="false" id="ant25" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="Dependants" _xpath="./ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Use The PIN" _xpath="./martin99_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin99" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Space City" _xpath="./edward25_1" author="Edward" ctrl="force" easy="false" id="edward25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Control Panel" _xpath="./duffy16_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy16" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -64,7 +64,7 @@
     <level _seq="56" _title="Space Fishing" _xpath="./martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Manamana" _xpath="./just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Sacrifice" _xpath="./duffy49_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy49" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="Double-Maze" _xpath="./duffy09_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="Double-Maze" _xpath="./duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="./nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
@@ -76,19 +76,19 @@
     <level _seq="68" _title="Bowling" _xpath="./martin80_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin80" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="69" _title="Slinky Mayhem" _xpath="./duffy64_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy64" rel="2" rev="4" score="2" target="time" unit="duration"/>
     <level _seq="70" _title="Overwhelming" _xpath="./duffy65_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="2" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="71" _title="Break Down the Wall" _xpath="./duffy107_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="71" _title="Break Down the Wall" _xpath="./duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="One-Way Streets" _xpath="./duffy109_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy109" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Killer Hills" _xpath="./luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="The Exchange" _xpath="./raywick04_1" author="Ray Wick" ctrl="force" easy="false" id="RayWick004" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Fox in the Henhouse" _xpath="./nat26_1" author="Nat Pryce" ctrl="force" easy="false" id="nat26" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Bumperball" _xpath="./duffy15_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy15" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Bumperball" _xpath="./duffy15_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy15" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Versailles" _xpath="./duffy112_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy112" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="78" _title="Run!" _xpath="./duffy29_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy29" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Dance with the Death" _xpath="./luc05_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc05" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Lock Them In" _xpath="./duffy26_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy26" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Remote Control" _xpath="./luc22_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Walk the Dog" _xpath="./luc04_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc04" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="83" _title="In Sync" _xpath="./daniel06_1" author="Daniel Heck" ctrl="force" easy="false" id="daniel6" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="83" _title="In Sync" _xpath="./daniel06_2" author="Daniel Heck" ctrl="force" easy="false" id="daniel6" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="84" _title="Tilt Control" _xpath="./duffy66_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy66" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lost In Space" _xpath="./martin90_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin90" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Triple Threat" _xpath="./illmind10_1" author="illmind" ctrl="force" easy="false" id="illmind10" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iv/ant23_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant23_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iv/ant23_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,71 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- Meditation -" el:subtitle="" el:id="ant23"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-cells={}
-
-cells[" "]=cell{floor={face="fl-metal"}}
-
-puzzles = {};
-cells["#"]=cell{parent={{add_multicell, puzzles}}}
-
-cells["O"]=cell{item={face="it-hollow"}}
-cells["a"]=cell{item={face="it-trigger", attr={action="openclose", target="doorA"}}}
-cells["b"]=cell{item={face="it-trigger", attr={action="openclose", target="doorB"}}}
-cells["c"]=cell{item={face="it-trigger", attr={action="openclose", target="doorC"}}}
-cells["d"]=cell{item={face="it-trigger", attr={action="openclose", target="doorD"}}}
-cells["A"]=cell{parent=cells["O"], stone={face="st-door_b", attr={name="doorA"}}}
-cells["B"]=cell{parent=cells["O"], stone={face="st-door_b", attr={name="doorB"}}}
-cells["C"]=cell{parent=cells["O"], stone={face="st-door_b", attr={name="doorC"}}}
-cells["D"]=cell{parent=cells["O"], stone={face="st-door_b", attr={name="doorD"}}}
-
-blocks = {};
-actors = {};
-cells["W"]=cell{parent={{add_multistone, "st-block", blocks}}}
-cells["o"]=cell{parent={{add_multiactor, "ac-whiteball-small", actors, {player=0, mouseforce=1, essential=1}}}}
-
-level = {
-   "####################",
-   "#o  #          #  o#",
-   "#   #          #   #",
-   "#  W            W  #",
-   "###       a      ###",
-   "#         b        #",
-   "#       AB CD      #",
-   "#         c        #",
-   "###       d      ###",
-   "#  W            W  #",
-   "#   #          #   #",
-   "#o  #          #  o#",
-   "####################"
-}
-
--- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-set_default_parent(cells[" "])
-create_world_by_map(level)
-add_rubber_band_pairs(actors, blocks, 10, 0)
-render_puzzles(puzzles);
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/ant23_2.xml (from rev 1458, trunk/data/levels/enigma_iv/ant23_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/ant23_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iv/ant23_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,59 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="ant23"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_metal"}
+ti["#"] = {"st_puzzle", cluster=1}
+if wo["IsDifficult"] then
+    ti["*"] = ti["#"]
+    ti["T"] = {"it_trigger", target="d%%"}
+    ti["U"] = ti({"it_meditation_hollow"}) .. {"st_door", "d%%", flavor="b"}
+else
+    ti["*"] = {"st_puzzle", cluster=1, hollow=true}
+    ti["T"] = {"it_trigger", target="m%%", action="flip"}
+    ti["U"] = ti({"it_meditation_hill", "m%%"}) .. {"st_door", flavor="b", state=OPEN}
+end
+ti["W"] = {"st-block", name="boxes#"}
+ti["@"] = {"#ac_pearl", name="balls#", target="@boxes#*"}
+
+local resolver = res.autotile(ti, {"a", "d", "T"}, {"A", "D", "U"})
+wo(resolver, " ", {
+    "#####***####***#####",
+    "#@  #          #  @#",
+    "#   #          #   #",
+    "#  W            W  #",
+    "###       a      ###",
+    "*         b        *",
+    "*       AB CD      *",
+    "*         c        *",
+    "###       d      ###",
+    "#  W            W  #",
+    "#   #          #   #",
+    "#@  #          #  @#",
+    "#####***####***#####"})
+
+local boxes = no["boxes#*"]
+for obj in no["balls#*"] do
+    wo:add({"ot_rubberband", anchor1=obj, anchor2=boxes:nearest(obj), strength=10.0})
+end
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iv/ant23_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma IV"/>
 
   <attributes/>
 
@@ -35,7 +35,7 @@
     <level _seq="27" _title="Robbery" _xpath="./ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="28" _title="The Life Game" _xpath="./alain13_1" author="Alain Busser" ctrl="force" easy="false" id="alain13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Where is it?" _xpath="./barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="- Meditation -" _xpath="./ant23_1" author="Petr Machata" ctrl="force" easy="false" id="ant23" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="- Meditation -" _xpath="./ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Eternal Circulation" _xpath="./raoul03_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Under the Radar" _xpath="./duffy106_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy106" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Double-Spiral" _xpath="./duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>
@@ -65,7 +65,7 @@
     <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="What a Mess" _xpath="./duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Sleeping Serpent" _xpath="./raoul10_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="60" _title="- No Meditation -" _xpath="./ralf08_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="60" _title="- No Meditation -" _xpath="./ralf08_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Go!" _xpath="./ant02_1" author="Petr Machata" ctrl="force" easy="false" id="ant02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="How solid?" _xpath="./andreas03_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas03" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Cluenigma" _xpath="./alain12_1" author="Alain Busser" ctrl="force" easy="false" id="alain12" rel="1" rev="0" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_iv/ralf08_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/ralf08_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_iv/ralf08_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,56 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="- No Meditation -" el:subtitle="" el:id="ralf08"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
-      <el:copyright>Copyright ? 203 Ralf Westram</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ralf" el:id="lib/ralf" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
---debug_mode()
-
-level={
-   "####################",
-   "#__________________#",
-   "#________H___ _____#",
-   "#_____ _____ . ____#",
-   "#____ . _____ _____#",
-   "#_____ _______H____#",
-   "#__________________#",
-   "#____H_______ _____#",
-   "#_____ _____ . ____#",
-   "#____ . _____ _____#",
-   "#_____ ___H________#",
-   "#__________________#",
-   "####################",
-}
-
-cells={}
-
-cells[" "] = cell{floor="fl-red"}
-cells["#"] = cell{parent=cells[" "],stone="st-glass1"}
-cells["_"] = cell{parent=cells[" "],stone="st-pull"}
-cells["H"] = cell{parent=cells[" "],item="it-hollow"}
-cells["."] = cell{parent=cells[" "],actor={"ac-whiteball-small", {player=0, mouseforce=1}}}
-
-rs_create_world(level,cells)
-oxyd_shuffle()
-enigma.ConserveLevel=FALSE
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_iv/ralf08_2.xml (from rev 1458, trunk/data/levels/enigma_iv/ralf08_1.xml)
===================================================================
--- trunk/data/levels/enigma_iv/ralf08_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_iv/ralf08_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,45 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- No Meditation -" el:subtitle="" el:id="ralf08"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
+      <el:copyright>Copyright ? 203 Ralf Westram</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_red"}
+ti["#"] = {"st-glass1"}
+ti["-"] = {"st_pull"}
+ti["o"] = {"it_meditation_hollow"}
+ti["."] = {"#ac_pearl"}
+
+wo(ti, " ", {
+   "####################",
+   "#------------------#",
+   "#--------o--- -----#",
+   "#----- ----- . ----#",
+   "#---- . ----- -----#",
+   "#----- -------o----#",
+   "#------------------#",
+   "#----o------- -----#",
+   "#----- ----- . ----#",
+   "#---- . ----- -----#",
+   "#----- ---o--------#",
+   "#------------------#",
+   "####################"})
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_iv/ralf08_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_v/ant21_1.xml
===================================================================
--- trunk/data/levels/enigma_v/ant21_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_v/ant21_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,109 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Draggers" el:subtitle="" el:id="ant21"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
--- 2003-02-08 -- changed document text, as fl-metal looks the same as fl-normal
--- 2003-02-10 -- keeping up to date with latest additions to ant.lua
-enigma.ConserveLevel=FALSE
-
-cells={}
-
-cells[" "]=cell{floor="fl-metal"}
-cells[","]=cell{floor="fl-normal"}
-cells["."]=cell{floor="fl-abyss"}
-cells[":"]=cell{parent=cells[","], stone="st-chameleon", item="it-seed"}
-cells["+"]=cell{{{document, "text1"}}}
-
-cells["#"]=cell{stone="st-rock1"}
-cells["X"]=cell{stone="st-grate1"}
-cells["0"]=oxyd
-
-bolders = {}
-actors = {}
-cells["^"]=cell{{{add_multistone, "st-bolder-n", bolders}}}
-cells["O"]=cell{{{add_multiactor, "ac-blackball", actors, {player=0}, 2}}}
-
-level = {
-   "####################",
-   "# X.....0  0.....X #",
-   "# X..............X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X...        ...X #",
-   "# X...0      0...X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# #......  ......# #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X....      ....X #",
-   "# X....      ....X #",
-   "# X....  ..  ....X #",
-   "# X..0   ..   0..X #",
-   "# X..    ..    ..X #",
-   "# X....  ..  ....X #",
-   "# #....  ..  ....# #",
-   "# X....  ..  ....X #",
-   "# X....  ..  ....X #",
-   "# X              X #",
-   "# X              X #",
-   "# X  ..........  X #",
-   "# X  ..........  X #",
-   "# X  ..........  X #",
-   "# X              X #",
-   "# X              X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# #......  ......# #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X......  ......X #",
-   "# X.....0  0.....X #",
-   "# X              X #",
-   "# X              X #",
-   "# X  +        :  X #",
-   "# X              X #",
-   "#^X       O      X^#",
-   "####################"
-}
-
--- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-oxyd_default_flavor = "d"
-set_default_parent(cells[" "])
-create_world_by_map(level)
-add_rubber_bands(actors, bolders, 5, 0)
-enigma.ConserveLevel = FALSE
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-      <el:string el:key="text1">
-        <el:english el:translate="true">This level is symmetric ...</el:english>
-      </el:string> 
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_v/ant21_2.xml (from rev 1458, trunk/data/levels/enigma_v/ant21_1.xml)
===================================================================
--- trunk/data/levels/enigma_v/ant21_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_v/ant21_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,104 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Draggers" el:subtitle="" el:id="ant21"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = false
+
+ti[" "] = {"fl_metal"}
+ti["."] = {"fl_abyss"}
+ti[":"] = ti[" "] .. ti({"it_seed"}) .. {"st-chameleon"}
+ti["d"] = {"it-document", text="text1"}
+ti["#"] = {"st_granite"}
+ti["X"] = {"st-grate1"}
+ti["^"] = {"st_boulder", name="boulders#", orientation=NORTH}
+ti["B"] = {"st_oxyd", oxydcolor=OXYD_BLUE, flavor="d"}
+ti["R"] = {"st_oxyd", oxydcolor=OXYD_RED, flavor="d"}
+ti["G"] = {"st_oxyd", oxydcolor=OXYD_GREEN, flavor="d"}
+ti["Y"] = {"st_oxyd", oxydcolor=OXYD_YELLOW, flavor="d"}
+ti["@"] = {"#ac_marble_black", name="ball"}
+if wo["IsDifficult"] then
+    ti[","] = ti["."]
+    ti["-"] = ti[" "]
+else
+    ti[","] = ti[" "] .. {"it_crack_l"}
+    ti["-"] = {"st-break_bolder"}
+end
+
+wo(ti, " ", {
+    "####################",
+    "# X.....B  B.....X #",
+    "# X..............X #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "# X.....,  ,.....X #",
+    "#-X....,,  ,,....X-#",
+    "# X...        ...X #",
+    "# X...R      R...X #",
+    "# X....,,  ,,....X #",
+    "# X.....,  ,.....X #",
+    "# X......  ......X #",
+    "# #......  ......# #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "# X.....,  ,.....X #",
+    "# X....,,  ,,....X #",
+    "# X....      ....X #",
+    "#-X...,      ,...X-#",
+    "# X..,,  ,,  ,,..X #",
+    "# X..G   ..   G..X #",
+    "# X..    ..    ..X #",
+    "# X..,,  ..  ,,..X #",
+    "# #...,  ..  ,...# #",
+    "# X...,  ..  ,...X #",
+    "# X..,,  ,,  ,,..X #",
+    "#-X              X-#",
+    "# X              X #",
+    "# X  ,,......,,  X #",
+    "# X  ,........,  X #",
+    "# X  ,,......,,  X #",
+    "# X              X #",
+    "# X              X #",
+    "# X....,,  ,,....X #",
+    "# X.....,  ,.....X #",
+    "# #......  ......# #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "# X......  ......X #",
+    "#-X.....,  ,.....X-#",
+    "# X....,Y  Y,....X #",
+    "# X              X #",
+    "# X              X #",
+    "# X  d        :  X #",
+    "# X              X #",
+    "#^X       @      X^#",
+    "####################"})
+
+for obj in no["boulders#*"] do
+    wo:add({"ot_rubberband", anchor1="ball", anchor2=obj, strength=5.0})
+end
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">This level is symmetric ...</el:english>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_v/ant21_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma V"/>
 
   <attributes/>
 
@@ -21,7 +21,7 @@
     <level _seq="13" _title="Sentry Duty" _xpath="./nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Thievish Alleys" _xpath="./andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Solvable?" _xpath="./barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="16" _title="Draggers" _xpath="./ant21_1" author="Petr Machata" ctrl="force" easy="false" id="ant21" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="6" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma VI"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack6_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Toreador" _xpath="./ral02_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060213ral004" rel="1" rev="43" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Just another pretty level" _xpath="./edward26_1" author="Edward" ctrl="force" easy="true" id="edward26" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="A-way" _xpath="./richi06_1" author="Richi B?tzer" ctrl="force" easy="true" id="richi06" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="A-way" _xpath="./richi06_2" author="Richi B?tzer" ctrl="force" easy="true" id="richi06" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Pac Marble" _xpath="./andreas22_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Laser Splitting" _xpath="./luc29_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc29" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="No Memory" _xpath="./edward01_1" author="Edward" ctrl="force" easy="false" id="edward01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Deleted: trunk/data/levels/enigma_vi/richi06_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/richi06_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_vi/richi06_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,167 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="A-way" el:subtitle="Sunken Atlantis" el:id="richi06"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Richi B?tzer" el:email="" el:homepage="enigma.mal2.ch"/>
-      <el:copyright>Copyright ? 2005 Richi B?tzer</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="-"/>
-    </el:info>
-    <el:luamain><![CDATA[
-create_world(20, 13)
-oxyd_default_flavor="d"
-
--- Designs
-normalFloor="fl-sahara"
-visibleFloor="fl-black"
-stone="st-blue-sand"
-borderFloor="fl-sahara"
-
--- Trick zum definieren von Fake-Floor
-world.DefineSimpleFloor("fl-water-1", 6.4, 2.0, false, "")
-display.DefineAlias("fl-water-1", "fl-water")
-
--- Floor Layer
-fill_floor( normalFloor, 0, 0, 3, levelh)
-fill_floor( "fl-water", 3, 0, 17, levelh)
-fill_floor( normalFloor, 17, 0, levelw, levelh)
-
-fill_floor( borderFloor, 0, 0, levelw,1)
-fill_floor( borderFloor, 0, 12, levelw, 1)
-fill_floor( borderFloor, 0, 0, 1, levelh)
-fill_floor( borderFloor, 19, 0, 1, levelh)
-
--- Stone Layer
-draw_border(stone) --Rand
-
-oxyd(18,1)
-oxyd(18,11)
-
--- Actor Layer
-set_actor("ac-blackball", 1.5, 6.5, {player="0", mouseforce="1", name="actor"})
-
--- Code-Sektion
-actor=enigma.GetNamedObject("actor")
-verschwunden=false
-verdeckt={}
-weg={}
-anz_felder=0
-
--- finde Weg
-function find_way()
-    i=0
-    aktX=2
-    aktY=1+random(10)
-    vorvorrichtung=2
-    vorrichtung=2
-    rnd=2
-
-    while aktX<16 do
-        if aktX<4 then
-            aktX=aktX+1
-        elseif vorrichtung==2 then
-            if rnd==1 and vorvorrichtung~=3 then aktY=aktY-1
-            elseif rnd==3 and vorvorrichtung~=1 then aktY=aktY+1
-            else aktX=aktX+1 end
-        elseif vorrichtung==1 then
-            if rnd==1 and vorvorrichtung~=3 then aktY=aktY-1
-            else aktX=aktX+1 end
-        else
-            if rnd==3 and vorvorrichtung~=1 then aktY=aktY+1
-            else aktX=aktX+1 end
-        end
-
-        vorvorrichtung=vorrichtung
-        vorrichtung=rnd
-        rnd=random(3)
-
-        if(aktY<1) then aktY=aktY+1
-        elseif(aktY>11) then aktY=aktY-1
-        else
-            i=i+1
-            weg[i]={aktX,aktY}
-            anz_felder=anz_felder+1 
-        end
-    end
-end
-
--- zeichne Weg
-function draw_way()
-    for i,val in pairs(weg) do
-        set_floor(visibleFloor,weg[i][1],weg[i][2])
-        set_item("it-trigger", weg[i][1],weg[i][2], {action="callback", target="einzelanzeige", invisible=TRUE})
-    end
-end
-
--- loesche Weg
-function verschwinde()
-    if verschwunden==false then
-        for i, val in pairs(weg) do
-            set_floor("fl-water-1",weg[i][1],weg[i][2])
-            verdeckt[weg[i][1]..weg[i][2]]=true
-        end
-        if not difficult then
-            index_i=bin_search_in_weg(7)
-            set_floor(normalFloor,7,weg[index_i][2]) 
-            set_item("it-extralife",7,weg[index_i][2])
-            index_i=bin_search_in_weg(12)
-            set_floor(normalFloor,12,weg[index_i][2]) 
-            set_item("it-extralife",12,weg[index_i][2])
-        end
-    end
-    verschwunden=true
-end
-
--- mache aktuelles Feld sichtbar
-function einzelanzeige()
-    if verschwunden==false then
-        verschwinde()
-    end
-    x,y=enigma.GetPos(actor)
-    if verdeckt[x..y]==true then
-        set_floor(normalFloor,x,y)
-    end
-    verdeckt[x..y]=false
-end
-
--- suche feld [x=bekannt, y=?]
-function bin_search_in_weg(feld)
-    found=false
-    first=1
-    middle=nil
-    last=anz_felder
-
-    while found==false and first<=last do 
-        middle=first+(math.floor((last-first)/2))    
-        if weg[middle][1]==feld then
-            found=true
-        else
-            if feld <= weg[middle][1] then      
-                last=middle-1       
-            else
-                first=middle+1
-            end
-        end
-    end
-    return middle
-end
-
--- DO IT
-find_way()
-draw_way()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vi/richi06_2.xml (from rev 1458, trunk/data/levels/enigma_vi/richi06_1.xml)
===================================================================
--- trunk/data/levels/enigma_vi/richi06_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_vi/richi06_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,100 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="A-way" el:subtitle="Sunken Atlantis" el:id="richi06"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:author  el:name="Richi B?tzer" el:email="" el:homepage="enigma.mal2.ch"/>
+      <el:copyright>Copyright ? 2005 Richi B?tzer</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+ti[" "] = {"fl_water"}
+ti["."] = {"fl_water", name="line1#"}
+ti[","] = {"fl_water", name="line2#"}
+ti["-"] = {"fl_sahara"}
+ti["#"] = {"st_bluesand"}
+ti["O"] = {"st_oxyd", flavor="d"}
+ti["@"] = {"#ac_marble_black", name="ball"}
+
+wo(ti, "-", {
+    "####################",
+    "#--    .    ,    -O#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#@-    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    --#",
+    "#--    .    ,    -O#",
+    "####################"})
+
+function generate_way()
+    x = 2
+    y = math.random(1, 11)
+    perv_prev_dir = 2
+    prev_dir = 2
+    dir = 2
+
+    while x < 16 do
+        if x < 4 then
+            x = x+1
+        elseif prev_dir == 2 then
+            if dir == 1 and prev_prev_dir ~=3 then y = y-1
+            elseif dir == 3 and prev_prev_dir ~= 1 then y = y+1
+            else x = x+1 end
+        elseif prev_dir == 1 then
+            if dir == 1 and prev_prev_dir ~= 3 then y = y-1
+            else x = x+1 end
+        else
+            if dir == 3 and prev_prev_dir ~= 1 then y = y+1
+            else x = x+1 end
+        end
+
+        prev_prev_dir = prev_dir
+        prev_dir = dir
+        dir = math.random(1,3)
+
+        if y < 1 then y = y+1
+        elseif y > 11 then y = y-1
+        else
+            wo[{x, y}] = {"fl_dark", name="way#"} .. ti({"it_trigger", target="clear_way", invisible=true})
+        end
+    end
+end
+
+function clear_way(value, sender)
+    if not wo["IsDifficult"] then
+        easy_islands()
+    end
+    wo[sender] = ti["-"] .. {"it_nil"}  -- clear trigger
+    wo[no["way#*"]] = {"fl_water"} .. ti({"it_trigger", target="walk_way", invisible=true})
+end
+
+function walk_way(value, sender)
+    wo[sender] = ti["-"] .. {"it_nil"}  -- clear trigger
+end
+
+function easy_islands()
+    island1 = no["way#*"] * fl(po["line1#*"])
+    island2 = no["way#*"] * fl(po["line2#*"]) 
+    wo[ island1:shuffle():sub(1) ] = ti["-"] .. {"it_extralife"}
+    wo[ island2:shuffle():sub(1) ] = ti["-"] .. {"it_extralife"}
+end
+
+generate_way()
+]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_vi/richi06_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Deleted: trunk/data/levels/enigma_vii/alain28_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/alain28_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_vii/alain28_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,77 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
-<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
-  <el:protected>
-    <el:info el:type="level">
-      <el:identity el:title="Pool with a pole" el:subtitle="" el:id="alain28"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
-      <el:author  el:name="Alain Busser" el:email="" el:homepage=""/>
-      <el:copyright>Copyright ? 2006 Alain Busser</el:copyright>
-      <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="0.92">
-      </el:compatibility>
-      <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML converted by Leveladministrators</el:code>
-      </el:comments>
-      <el:score el:easy="-" el:difficult="2:22"/>
-    </el:info>
-    <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
-
-create_world(levelw, levelh)
-oxyd_default_flavor = "a"
-draw_border("st-actorimpulse")
-fill_floor("fl-leaves", 0,0, level_width,level_height)
-enigma.BumperForce=600
-enigma.SlopeForce=8
-
-function renderLine( line, pattern)
-    for i=1, strlen(pattern) do
-        local c = strsub( pattern, i, i)
-        if c =="#" then
-            set_stone("st-white4", i-1,line)
-        elseif c == "o" then
-            set_item("it-hollow", i-1, line)
-        elseif c == "1" then
-                set_floor("fl-gradient",  i-1,  line, {type=21})
-        elseif c == "2" then
-                set_floor("fl-gradient",  i-1,  line, {type=22})
-        elseif c == "3" then
-                set_stone("st-white4",i-1,line)
-        elseif c == "4" then
-                set_floor("fl-gradient",  i-1,  line, {type=24})
-        elseif c=="*" then
-            set_actor("ac-whiteball-small", i-0.5, line+0.5, {player=1, mouseforce=0})
-        end
-    end    
-end
-
---               01234567890123456789
-renderLine(00 , "                    ")
-renderLine(01 , "               4444 ")
-renderLine(02 , " 33333333333    4o4 ")
-renderLine(03 , "           3    444 ")
-renderLine(04 , "         * 3    444 ")
-renderLine(05 , "           3    444 ")
-renderLine(06 , " o*      * 3    o44 ")  
-renderLine(07 , "           3    444 ")
-renderLine(08 , "         * 3    444 ")
-renderLine(09 , "           3    444 ")
-renderLine(10 , " 33333333333    4o4 ")
-renderLine(11 , "               4444 ") 
---               01234567890123456789
-
-ac1 = set_actor("ac-blackball", 3.5, 6.5)
-ac2 = set_actor("ac-whiteball", 8.5, 6.5)
-AddRubberBand (ac1, ac2, 8000, 5, 5)
-
-oxyd_shuffle()
-    ]]></el:luamain>
-    <el:i18n>
-      <el:string el:key="title">
-        <el:english el:translate="false"/>
-      </el:string>
-    </el:i18n>
-  </el:protected>
-</el:level>

Copied: trunk/data/levels/enigma_vii/alain28_2.xml (from rev 1458, trunk/data/levels/enigma_vii/alain28_1.xml)
===================================================================
--- trunk/data/levels/enigma_vii/alain28_1.xml	2009-01-16 20:07:35 UTC (rev 1458)
+++ trunk/data/levels/enigma_vii/alain28_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Pool with a pole" el:subtitle="" el:id="alain28"/>
+      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:author  el:name="Alain Busser" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Alain Busser</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10"/>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="2:22"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ActorimpulseStrength"] = 600.0
+wo["SlopeForce"] = 8.0
+
+ti[" "] = {"fl_lawn"}
+ti["#"] = {"st_actorimpulse"}
+ti["x"] = {"st_passage_white_frame"}
+ti["-"] = {"fl-gradient15"}
+ti["O"] = {"it_meditation_hollow", essential = 1}
+ti["o"] = {"#ac_pearl", owner = nil, controllers = 0}
+ti["@"] = {"#ac_marble_black", name = "black", owner = 0}
+ti["*"] = {"#ac_marble_white", name = "white", owner = 0}
+
+wo(ti, " ", {
+    "####################",
+    "#              ----#",
+    "#xxxxxxxxxxx    -O-#",
+    "#          x    ---#",
+    "#        o x    ---#",
+    "#          x    ---#",
+    "#Oo@    *o x    O--#",
+    "#          x    ---#",
+    "#        o x    ---#",
+    "#          x    ---#",
+    "#xxxxxxxxxxx    -O-#",
+    "#              ----#",
+    "####################"})
+
+wo:add({"ot_rubberband", anchor1 = "black", anchor2 = "white", length = 5.0, min = 5.0, max = 5.0})
+ ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_vii/alain28_2.xml
___________________________________________________________________
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma VII"/>
 
   <attributes/>
 
@@ -24,7 +24,7 @@
     <level _seq="16" _title="Protected Exhibition" _xpath="./duffy156_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy156" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Upstairs Meditation" _xpath="./duffy138_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy138" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Speed Meditation" _xpath="./duffy148_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy148" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="19" _title="Pool with a pole" _xpath="./alain28_1" author="Alain Busser" ctrl="force" easy="false" id="alain28" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="19" _title="Pool with a pole" _xpath="./alain28_2" author="Alain Busser" ctrl="force" easy="false" id="alain28" rel="2" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Meditation in Peace" _xpath="./ral20_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070502ral466" rel="1" rev="70" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Cold Meditation" _xpath="./ral18_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070314ral728" rel="1" rev="67" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Mountain Climbing" _xpath="./joe10_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe10" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/andreas49_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -2,7 +2,7 @@
 <el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
   <el:protected>
     <el:info el:type="level">
-      <el:identity el:title="Wired" el:subtitle="" el:id="andreas49"/>
+      <el:identity el:title="Wierdly Wired" el:subtitle="" el:id="andreas49"/>
       <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>

Added: trunk/data/levels/enigma_viii/andreas55_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas55_2.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_viii/andreas55_2.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -0,0 +1,114 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Sokopal" el:subtitle="" el:id="andreas55"/>
+      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
+      <el:author el:name="Andreas Lochmann, Ronald Lamprecht" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+        <el:dependency el:path="lib/liblua" el:id="lib/liblua" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="22:50" el:difficult="34:16"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = true
+wo["AllowSingleOxyds"] = true
+
+ti[" "] = {"fl_wood_framed"}
+ti["."] = {"fl_wood_framed", "spot#"}
+ti["_"] = {"fl_abyss"}
+ti["@"] = {"#ac_marble"}
+ti["#1"] = {"st_granite"}
+ti["#2"] = {"st_darkgray"}
+ti["#3"] = {"st_concrete"}
+ti["#4"] = {"st_ancient"}
+ti["o"] = {"st_oxyd_e", oxydcolor = OXYD_GREEN}
+ti["o1"] = {"st_oxyd_e", target = "oxyd_callback", oxydcolor = OXYD_BLACK} .. ti["_"]
+ti["o2"] = {"st_oxyd_e", target = "oxyd_callback", oxydcolor = OXYD_PINE}  .. ti["_"]
+ti["o3"] = {"st_oxyd_e", target = "oxyd_callback", oxydcolor = OXYD_GRAY}  .. ti["_"]
+ti["o4"] = {"st_oxyd_e", target = "oxyd_callback", oxydcolor = OXYD_WHITE} .. ti["_"]
+ti["o5"] = {"st_oxyd_e", target = "oxyd_callback", oxydcolor = OXYD_BROWN} .. ti["_"]
+ti["*"] = {"st_blocker", "door#"}
+ti["w"] = {"st_box_wood"}
+ti[":"] = {"it_seed"}
+ti[";"] = {"it_seed_fake"}
+ti["f"] = {"st_quake"}
+
+local resolver = res.random(ti, "#", {{"#1", 1}, {"#2", 1}, {"#3", 1}, {"#4", 1}})
+
+w, h = wo(resolver, " ", {
+ -- 01234567890123456789
+   "####################",
+   "#######.......######",
+   "#####...........####",
+   "###.....###.......##",
+   "##.......###......##",
+   "#.........#.......##",
+   "#..............    #",
+   "#.............  @ f#",
+   "##....####.....   ##",
+   "### .######.....  ##",
+   "###*#######......###",
+   "#o#*######.......###",
+   "#*#*##...........###",
+   "#***#.............##",
+   "#####..............#",
+   "####....www.......##",
+   "##......w.w......###",
+   "#............#######",
+   "##.........#########",
+   "##.......###########",
+   "###.......###....###",
+   "####.............o##",
+   "######......ww...###",
+   "#######.........####",
+   "####################"
+})
+
+----------------------------------
+--  Fill in oxyds and triggers  --
+----------------------------------
+
+local spots = no["spot#*"]:shuffle()
+
+-- Number of oxyds depends on difficulty:
+local numoxyds = lib.lua.cond(wo["IsDifficult"], 40, 30)
+for j = 1, 5 do
+  for k = 1, numoxyds do
+    wo[spots[j*k - 1]] = ti["o"..j]
+  end
+end
+
+-- triggers for doors
+local doors = no["door#*"]
+for k = 1, #doors do
+  wo[spots[numoxyds*5 + k - 1]] = {"it_trigger", target = doors[k]}
+end
+
+---------------------
+--  Opal function  --
+---------------------
+
+last_oxyd = 0
+function oxyd_callback(is_on, sender)
+    if sender.state == OXYDPAIR then
+        oxyds = grp(sender, last_oxyd)
+        wo[sender] = ti[":"]
+        wo[last_oxyd] = ti[";"]
+        it(oxyds):grow()
+    elseif sender.state == OPEN then
+        last_oxyd = sender
+    end
+end
+
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: trunk/data/levels/enigma_viii/andreas55_2.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-16 22:46:58 UTC (rev 1459)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-17 00:02:48 UTC (rev 1460)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma VIII"/>
 
   <attributes/>
 
@@ -26,7 +26,7 @@
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="8" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="9" score="2" target="time" unit="duration"/>
-    <level _seq="21" _title="Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Wierdly Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -66,6 +66,7 @@
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Squared Microwire" _xpath="./ral39_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081227ral230" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="More or Less Wired" _xpath="./ral42_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20081229ral" rel="1" rev="135" score="1" target="time" unit="duration"/>
+    <level _seq="61" _title="Sokopal" _xpath="./andreas55_2" author="Andreas Lochmann, Ronald Lamprecht" ctrl="force" easy="true" id="andreas55" rel="2" rev="3" score="2" target="time" unit="duration"/>
   </levels>
 
 </index>



From ral at mail.berlios.de  Sat Jan 17 19:47:24 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 17 Jan 2009 19:47:24 +0100
Subject: [Enigma-game-svn] r1461 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/stones
Message-ID: <200901171847.n0HIlOMs012744@sheep.berlios.de>

Author: ral
Date: 2009-01-17 19:47:21 +0100 (Sat, 17 Jan 2009)
New Revision: 1461

Added:
   trunk/data/gfx32/st_beads.png
   trunk/data/gfx32/st_darkglass.png
   trunk/data/gfx32/st_lightglass.png
   trunk/data/gfx32/st_rawglass.png
   trunk/data/gfx32/st_redfiber.png
   trunk/data/gfx40/st_beads.png
   trunk/data/gfx40/st_darkglass.png
   trunk/data/gfx40/st_lightglass.png
   trunk/data/gfx40/st_rawglass.png
   trunk/data/gfx40/st_redfiber.png
   trunk/data/gfx48/st_beads.png
   trunk/data/gfx48/st_darkglass.png
   trunk/data/gfx48/st_lightglass.png
   trunk/data/gfx48/st_rawglass.png
   trunk/data/gfx48/st_redfiber.png
   trunk/src/stones/GlassStones.cc
   trunk/src/stones/GlassStones.hh
Removed:
   trunk/data/gfx32/st-beads.png
   trunk/data/gfx32/st-glass.png
   trunk/data/gfx32/st-glass1.png
   trunk/data/gfx32/st-glass2.png
   trunk/data/gfx32/st-glass3.png
   trunk/data/gfx40/st-beads.png
   trunk/data/gfx40/st-glass.png
   trunk/data/gfx40/st-glass1.png
   trunk/data/gfx40/st-glass2.png
   trunk/data/gfx40/st-glass3.png
   trunk/data/gfx48/st-beads.png
   trunk/data/gfx48/st-glass.png
   trunk/data/gfx48/st-glass1.png
   trunk/data/gfx48/st-glass2.png
   trunk/data/gfx48/st-glass3.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones/PolarSwitchStone.cc
   trunk/src/stones/Switch.cc
   trunk/src/stones_simple.cc
   trunk/src/world.cc
Log:
Trunk 1.1: new API reengineering
- renaming of glass stones:
  - st-beads -> st_beads
  - st-glass -> st_rawglass
  - st-glass1 -> st_lightglass
  - st-glass2 -> st_darkglass
  - st-glass3 -> st_redfiber
- add st_redfiber oxyd1 mode compatibility behaviour

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/data/api1init.lua	2009-01-17 18:47:21 UTC (rev 1461)
@@ -196,6 +196,7 @@
     st_actorimpulse = "st-actorimpulse",
     st_actorimpulse_invisible = "st-actorimpulse_invisible",
     st_ancient = "st-rock9",
+    st_beads = "st-beads",
     st_blocker = "st-blocker",
     st_blocker_new = "st-blocker-growing",
     st_bluegray = "st-bluegray",
@@ -258,6 +259,9 @@
     st_chess_white = "st-chess_white",
     st_coinslot = "st-coinslot",
     st_concrete = "st-rock8",
+    st_darkglass = "st-glass2",
+    st_darkglass_hollow = "st-glass2_hole",
+    st_darkglass_movable = "st-glass2_move",
     st_darkgray = "st-rock2",
     st_darkgray_hollow = "st-rock2_hole",
     st_death = "st-death",
@@ -290,6 +294,9 @@
     st_laser_n = "st-laser-n",
     st_laserswitch = "st-laserswitch",
     st_laserflop = "st-lasertimeswitch",
+    st_lightglass = "st-glass1",
+    st_lightglass_hollow = "st-glass1_hole",
+    st_lightglass_movable = "st-glass1_move",
     st_lightpassenger = "st-lightpassenger",
     st_lightpassenger_off = "st-lightpassenger_off",
     st_mail_w = "st-mail-w",
@@ -397,9 +404,12 @@
     st_puzzle_yellow_nesw = "st-puzzle2-nesw",
     st_puzzle_yellow_nesw_hollow = "st-puzzle2-hollow",
     st_quake = "st-fart",
+    st_rawglass = "st-glass",
+    st_rawglass_movable = "st-glass_move",
     st_redbrown = "st-marble",
     st_redbrown_hollow = "st-marble_hole",
     st_redbrown_movable = "st-marble_move",
+    st_redfiber = "st-glass3",
     st_redmarble = "st-stone2",
     st_redrock = "st-redrock",
     st_rotator_cw = "st-rotator-right",

Deleted: trunk/data/gfx32/st-beads.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-glass.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-glass1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-glass2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-glass3.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_beads.png (from rev 1460, trunk/data/gfx32/st-beads.png)

Copied: trunk/data/gfx32/st_darkglass.png (from rev 1460, trunk/data/gfx32/st-glass2.png)

Copied: trunk/data/gfx32/st_lightglass.png (from rev 1460, trunk/data/gfx32/st-glass1.png)

Copied: trunk/data/gfx32/st_rawglass.png (from rev 1460, trunk/data/gfx32/st-glass.png)

Copied: trunk/data/gfx32/st_redfiber.png (from rev 1460, trunk/data/gfx32/st-glass3.png)

Deleted: trunk/data/gfx40/st-beads.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-glass.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-glass1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-glass2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-glass3.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_beads.png (from rev 1460, trunk/data/gfx40/st-beads.png)

Copied: trunk/data/gfx40/st_darkglass.png (from rev 1460, trunk/data/gfx40/st-glass2.png)

Copied: trunk/data/gfx40/st_lightglass.png (from rev 1460, trunk/data/gfx40/st-glass1.png)

Copied: trunk/data/gfx40/st_rawglass.png (from rev 1460, trunk/data/gfx40/st-glass.png)

Copied: trunk/data/gfx40/st_redfiber.png (from rev 1460, trunk/data/gfx40/st-glass3.png)

Deleted: trunk/data/gfx48/st-beads.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-glass.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-glass1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-glass2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-glass3.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_beads.png (from rev 1460, trunk/data/gfx48/st-beads.png)

Copied: trunk/data/gfx48/st_darkglass.png (from rev 1460, trunk/data/gfx48/st-glass2.png)

Copied: trunk/data/gfx48/st_lightglass.png (from rev 1460, trunk/data/gfx48/st-glass1.png)

Copied: trunk/data/gfx48/st_rawglass.png (from rev 1460, trunk/data/gfx48/st-glass.png)

Copied: trunk/data/gfx48/st_redfiber.png (from rev 1460, trunk/data/gfx48/st-glass3.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/data/models-2d.lua	2009-01-17 18:47:21 UTC (rev 1461)
@@ -740,7 +740,7 @@
 -- simple stones --
 -------------------
 do
-    DefStone("st-beads", "sh-glass")
+    DefStone("st_beads", "sh-glass")
     DefStone("st-black1")
     DefStone("st-black2")
     DefStone("st-black3")
@@ -760,10 +760,10 @@
     DefStone("st-floppy0", "sh-round", {filename="st-floppy1"})
     DefStone("st-floppy1", "sh-round", {filename="st-floppy2"})
     DefStone("st-flrock")
-    DefStone("st-glass", "sh-glass");
-    DefStone("st-glass1", "sh-glass")
-    DefStone("st-glass2", "sh-glass")
-    DefStone("st-glass3", "sh-glass")
+    DefStone("st_rawglass", "sh-glass");
+    DefStone("st_lightglass", "sh-glass")
+    DefStone("st_darkglass", "sh-glass")
+    DefStone("st_redfiber", "sh-glass")
     DefStone("st-grate1", "sh-grate1")
     DefStone("st-grate2", "sh-grate2")
     DefStone("st-grate3", "sh-grate3")
@@ -1750,10 +1750,6 @@
     DefAlias("st-explosion", "expl")
     DefAlias("st-firebreak_move", "st-firebreak")
     DefAlias("st-glass_move", "st-glass");
-    DefAlias("st-glass1_hole", "st-glass1")
-    DefAlias("st-glass1_move", "st-glass1")
-    DefAlias("st-glass2_hole", "st-glass2")
-    DefAlias("st-glass2_move", "st-glass2")
     DefAlias("st-greenbrown_hole", "st-greenbrown")
     DefAlias("st-greenbrown_move", "st-greenbrown")
     DefAlias("st-laserbreak", "st-rock3")

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/data/schemas/objects.xml	2009-01-17 18:47:21 UTC (rev 1461)
@@ -703,6 +703,7 @@
       <msg name="_performaction"/>
       <msg name="_trigger"/>
     </object>
+    <object name="st_beads"/>
     <object name="st_blocker_new" init="true">
     </object>
     <object name="st_bluegray">
@@ -892,6 +893,15 @@
       <attr name="instant" value="true"/>
     </object>
     <object name="st_concrete"/>
+    <object name="st_darkglass">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_darkglass_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_darkglass_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_darkgray">
       <attr name="hollow" rw="r"/>
     </object>
@@ -1005,6 +1015,15 @@
     <object name="st_knight">
       <attr name="state" max="4" rw="r"/>
     </object>
+    <object name="st_lightglass">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_lightglass_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_lightglass_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_mail">
       <attr name="orientation"/>
     </object>
@@ -1238,12 +1257,12 @@
       <msg name="_explosion"/>
       <msg name="_trigger"/>
     </object>
+    <object name="st_rawglass"/>
+    <object name="st_rawglass_movable">
+      <attr name="movable" value="true"/>
+    </object>
     <object name="st_redmarble"/>
     <object name="st_redrock"/>
-    <object name="st_rotator">
-      <attr name="counterclock"/>
-      <attr name="movable" rw="rw"/>
-    </object>
     <object name="st_redbrown">
       <attr name="hollow" rw="r"/>
     </object>
@@ -1253,6 +1272,13 @@
     <object name="st_redbrown_movable">
       <attr name="movable" value="true"/>
     </object>
+    <object name="st_redfiber">
+      <msg name="signal"/>
+    </object>
+    <object name="st_rotator">
+      <attr name="counterclock"/>
+      <attr name="movable" rw="rw"/>
+    </object>
     <object name="st_rotator_cw">
       <attr name="state" value="0"/>
     </object>

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/data/startup.lua	2009-01-17 18:47:21 UTC (rev 1461)
@@ -105,14 +105,7 @@
 function def_stone_movable(name, sound)
     world.DefineSimpleStoneMovable(name,sound or "stone",0)
 end
-function def_stone_glass(name, sound)
-    world.DefineSimpleStone(name,sound or "stone",0,1)
-end
-function def_stone_movable_glass(name, sound)
-    world.DefineSimpleStoneMovable(name,sound or "stone",1)
-end
 
-def_stone("st-beads")
 def_stone("st-greenbrown")
 def_stone_movable("st-greenbrown_move", "cloth")
 def_stone_hollow("st-greenbrown_hole")
@@ -120,15 +113,6 @@
 def_stone_movable("st-rock3_move")
 def_stone_hollow("st-rock3_hole")
 
-def_stone_glass("st-glass")
-def_stone_movable_glass("st-glass_move")
-def_stone_glass("st-glass1")
-def_stone_movable_glass("st-glass1_move")
-def_stone_hollow("st-glass1_hole")
-def_stone_glass("st-glass2")
-def_stone_movable_glass("st-glass2_move")
-def_stone_hollow("st-glass2_hole")
-def_stone_glass("st-glass3")
 
 
 ------------------------------

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/Makefile.am	2009-01-17 18:47:21 UTC (rev 1461)
@@ -290,6 +290,8 @@
 	stones/FloppySwitch.hh	\
 	stones/FourSwitch.cc	\
 	stones/FourSwitch.hh	\
+	stones/GlassStones.cc	\
+	stones/GlassStones.hh	\
 	stones/KeySwitch.cc	\
 	stones/KeySwitch.hh	\
 	stones/KnightStone.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/ox_extra.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -150,7 +150,7 @@
     "st_tigris",         // OxydExtra stone 0x1f
     "st_redmarble",      // OxydExtra stone 0x20
     "st_greengray",      // OxydExtra stone 0x21
-    "st-glass1",         // OxydExtra stone 0x22
+    "st_lightglass",     // OxydExtra stone 0x22
     UNUSED,              // OxydExtra stone 0x23
     "st-plain_break",    // OxydExtra stone 0x24
     "st-plain_hole",     // OxydExtra stone 0x25

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/ox_magnum.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -141,7 +141,7 @@
     "st_brick_nw",              // OxydMagnum stone 0x16
     UNUSED,                     // OxydMagnum stone 0x17
     UNUSED,                     // OxydMagnum stone 0x18
-    "st-glass1_hole",           // OxydMagnum stone 0x19
+    "st_lightglass_hollow",     // OxydMagnum stone 0x19
     "st-grate1",                // OxydMagnum stone 0x1a
     "st-grate2",                // OxydMagnum stone 0x1b
     "st-bug",                   // OxydMagnum stone 0x1c
@@ -153,9 +153,9 @@
     "st_granite",               // OxydMagnum stone 0x22 (common was 'st-glass')(Level 73 only)(looks like st-rock1)(looks like 0x20, but not like 0x87)
     "st_woven",                 // OxydMagnum stone 0x23
     "st_redbrown",              // OxydMagnum stone 0x24
-    "st-glass1",                // OxydMagnum stone 0x25
-    "st-glass3",                // OxydMagnum stone 0x26
-    "st-glass1",                // OxydMagnum stone 0x27
+    "st_lightglass",            // OxydMagnum stone 0x25
+    "st_redfiber",              // OxydMagnum stone 0x26
+    "st_lightglass",            // OxydMagnum stone 0x27
     "st-plain_break",           // OxydMagnum stone 0x28
     "st-plain_hole",            // OxydMagnum stone 0x29
     "st-plain_move",            // OxydMagnum stone 0x2a

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/ox_oxyd1.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -185,9 +185,9 @@
     UNUSED,                     // Oxyd1 stone 0x22
     "st_woven",                 // Oxyd1 stone 0x23
     "st_redbrown",              // Oxyd1 stone 0x24
-    "st-glass1",                // Oxyd1 stone 0x25
-    "st-glass3",                // Oxyd1 stone 0x26
-    "st-glass2",                // Oxyd1 stone 0x27
+    "st_lightglass",            // Oxyd1 stone 0x25
+    "st_redfiber",              // Oxyd1 stone 0x26
+    "st_darkglass",             // Oxyd1 stone 0x27
     "st-plain_break",           // Oxyd1 stone 0x28 [see Level#12]
     "st-plain_hole",            // Oxyd1 stone 0x29
     "st-plain_move",            // Oxyd1 stone 0x2a
@@ -301,7 +301,7 @@
     "st_charge_plus",           // Oxyd1 stone 0x96
     "st_charge_minus",          // Oxyd1 stone 0x97
     "st_charge_zero",           // Oxyd1 stone 0x98
-    "st-glass1",                // Oxyd1 stone 0x99
+    "st_lightglass",            // Oxyd1 stone 0x99
     // codes >= 0x9a are unused
 };
 

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/ox_peroxyd.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -205,10 +205,10 @@
     0,                          // PerOxyd stone 0x00 no stone
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x01 - 0x08   oxyd stones
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x08 - 0x10   oxyd stones
-    "st_fake_oxydc",             // PerOxyd stone 0x11
+    "st_fake_oxydc",            // PerOxyd stone 0x11
     "st-plain_break",           // PerOxyd stone 0x12   no, should be destructible with hammer
     "st_purplemarble",          // PerOxyd stone 0x13
-    "st-beads",                 // PerOxyd stone 0x14
+    "st_beads",                 // PerOxyd stone 0x14
     "st_tigris",                // PerOxyd stone 0x15
     "st_greengray",             // PerOxyd stone 0x16
     "st-white1",                // PerOxyd stone 0x17 (Looks a little bit different, but function should be the same.)
@@ -222,8 +222,8 @@
     UNUSED,                     // PerOxyd stone 0x1f
     "st_redmarble",             // PerOxyd stone 0x20
     "st-greenbrown",            // PerOxyd stone 0x21
-    "st-glass",                 // PerOxyd stone 0x22 (semi opaque piece, not really glass)
-    "st-glass",                 // PerOxyd stone 0x23 (must be st-glass, see link level 92)
+    "st_rawglass",              // PerOxyd stone 0x22 (semi opaque piece, not really glass)
+    "st_rawglass",              // PerOxyd stone 0x23 (must be st-glass, see link level 92)
     "st-plain_break",           // PerOxyd stone 0x24
     "st_bluegray_hollow",       // PerOxyd stone 0x25
     "st-plain_move",            // PerOxyd stone 0x26

Added: trunk/src/stones/GlassStones.cc
===================================================================
--- trunk/src/stones/GlassStones.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones/GlassStones.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -0,0 +1,133 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/GlassStones.hh"
+#include "items/GlassesItem.hh"
+#include "world.hh"
+#include "main.hh"
+
+namespace enigma {
+    GlassStone::GlassStone(int type, bool hollow, bool movable, bool cloth) {
+        state = type;
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable)
+            objFlags |= OBJBIT_MOVABLE;
+        if (cloth)
+            objFlags |= OBJBIT_CLOTH;
+    }
+    
+    std::string GlassStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value GlassStone::getAttr(const std::string &key) const {
+        if (key == "movable") {
+            return (bool)(objFlags & OBJBIT_MOVABLE);
+        } else if (key == "hollow") {
+            return (bool)(objFlags & OBJBIT_HOLLOW);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value GlassStone::message(const Message &m) {
+        if ((objFlags & OBJBIT_HOLLOW) && m.message == "_glasses") {
+            if ((to_int(m.value) & Glasses::HOLLOW) && !(objFlags & OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags & OBJBIT_GLASSES) {
+                objFlags &= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        } else if (m.message == "signal" && server::GameCompatibility == GAMET_OXYD1) {
+            if (m.value == 1) {
+                KillStone(get_pos());
+                return Value();
+            }
+        }
+        return Stone::message(m);
+    }
+   
+    void GlassStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void GlassStone::init_model() {
+        if (objFlags & OBJBIT_GLASSES)
+            set_model("invisible");
+        else
+            set_model(getClass());
+    }
+    
+    bool GlassStone::is_floating() const {
+        return objFlags & OBJBIT_HOLLOW;
+    }
+    
+    bool GlassStone::is_sticky(const Actor *a) const {
+        return !a->is_invisible();
+    }
+    
+    bool GlassStone::is_transparent(Direction d) const {
+        return (objFlags & OBJBIT_HOLLOW) || (state != BEADS && state != DARK);
+    }
+
+    StoneResponse GlassStone::collision_response(const StoneContact &sc) {
+        if ((objFlags & OBJBIT_HOLLOW) || (sc.actor->is_invisible() && 
+                (state != LIGHT_MOVABLE && state != DARK_MOVABLE && state != RED)))
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *GlassStone::collision_sound() {
+        return (objFlags & OBJBIT_CLOTH) ? "stone" : "cloth";
+    }
+    
+    int GlassStone::traitsIdx() const {
+        return state;
+    }
+        
+    StoneTraits GlassStone::traits[8] = {
+        {"st_rawglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_rawglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_lightglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_lightglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_darkglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_darkglass", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_redfiber", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_beads", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new GlassStone(0, false, false), "st_rawglass");
+        BootRegister(new GlassStone(1, false, true),  "st_rawglass_movable");
+        BootRegister(new GlassStone(2, false, false), "st_lightglass");
+        BootRegister(new GlassStone(2, true, false),  "st_lightglass_hollow");
+        BootRegister(new GlassStone(3, false, true),  "st_lightglass_movable");
+        BootRegister(new GlassStone(4, false, false), "st_darkglass");
+        BootRegister(new GlassStone(4, true, false),  "st_darkglass_hollow");
+        BootRegister(new GlassStone(5, false, true),  "st_darkglass_movable");
+        BootRegister(new GlassStone(6, false, false), "st_redfiber");
+        BootRegister(new GlassStone(7, false, false), "st_beads");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/GlassStones.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/GlassStones.hh
===================================================================
--- trunk/src/stones/GlassStones.hh	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones/GlassStones.hh	2009-01-17 18:47:21 UTC (rev 1461)
@@ -0,0 +1,81 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef GLASSSTONE_HH
+#define GLASSSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class GlassStone : public Stone {
+        CLONEOBJ(GlassStone);
+        DECL_TRAITS_ARRAY(8, traitsIdx());
+    private:
+        enum iState {
+            RAW,          ///< 
+            RAW_MOVABLE,  ///<
+            LIGHT,
+            LIGHT_MOVABLE,
+            DARK,
+            DARK_MOVABLE,
+            RED,
+            BEADS
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE  =   1<<24,    ///<  
+            OBJBIT_HOLLOW   =   1<<25,    ///< 
+            OBJBIT_GLASSES  =   1<<26,    ///< invisible due to glasses
+            OBJBIT_CLOTH    =   1<<27     ///< collision sound cloth instead of standard stone
+        };
+        
+    public:
+        GlassStone(int type, bool hollow, bool movable, bool cloth = false);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+//        virtual int maxState() const;
+//        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual bool is_sticky(const Actor *a) const;
+        virtual bool is_transparent(Direction d) const;
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual const char *collision_sound();
+
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/GlassStones.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones/PolarSwitchStone.cc
===================================================================
--- trunk/src/stones/PolarSwitchStone.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones/PolarSwitchStone.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -39,7 +39,7 @@
     }
 
     void PolarSwitchStone::init_model() {
-        set_model(ecl::strf("st-glass%s", state == ON ? "1" : "2"));
+        set_model(ecl::strf("%s", state == ON ? "st_lightglass" : "st_darkglass"));
     }
 
     bool PolarSwitchStone::is_transparent (Direction d) const {

Modified: trunk/src/stones/Switch.cc
===================================================================
--- trunk/src/stones/Switch.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones/Switch.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -70,8 +70,9 @@
                 sound_event ("switchon");
                 state += 2;  // OFF->TURNON, ON->TURNOFF
                 set_anim(ecl::strf("st-switch%s%s", colorName(), extState ? "-turnon" : "-turnoff"));
-                if (isInstant())
+                if (isInstant()) {
                     performAction(externalState() == ON);   // immediate action
+                }
             } else if (state == TURNON && extState == OFF) {
                 state = TURNOFF;
                 get_model()->reverse();  // reverse anim

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -415,7 +415,7 @@
                 "st-grate1",
                 "st_death",
                 "st-surprise",
-                "st-glass1_hole",
+                "st_lightglass_hollow",
                 "st-magic",
                 "st_knight",
                 "st-thief",
@@ -445,7 +445,7 @@
 
         void actor_hit (const StoneContact &) {
             sound_event ("stonetransform");
-            ReplaceStone(get_pos(), MakeStone("st-glass_move"));
+            ReplaceStone(get_pos(), MakeStone("st_rawglass_movable"));
         }
     private:
         FreezeStatusBits get_freeze_bits() { return FREEZEBIT_STANDARD; }
@@ -823,7 +823,7 @@
 
         void actor_hit (const StoneContact &) {
             sound_event ("stonetransform");
-            ReplaceStone(get_pos(), MakeStone("st-glass1_move"));
+            ReplaceStone(get_pos(), MakeStone("st_lightglass_movable"));
         }
     private:
         FreezeStatusBits get_freeze_bits() { return FREEZEBIT_STANDARD; }

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/stones_simple.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -692,7 +692,7 @@
         void actor_hit(const StoneContact &sc) {
             if (player::WieldedItemIs (sc.actor, "it_magicwand")) {
                 sound_event ("stonepaint");
-                ReplaceStone (get_pos(), MakeStone("st-glass"));
+                ReplaceStone (get_pos(), MakeStone("st_rawglass"));
             }
         }
     };

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-17 00:02:48 UTC (rev 1460)
+++ trunk/src/world.cc	2009-01-17 18:47:21 UTC (rev 1461)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004,2005 Daniel Heck
- * Copyright (C) 2007,2008 Ronald Lamprecht
+ * Copyright (C) 2007,2008, 2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -1840,14 +1840,14 @@
         dstValue = dst->getAttr("name");
     }
     
-    if (dst->is_kind("it-hill") || dst->is_kind("it-tinyhill") ||
-            dst->is_kind("it-hollow") || dst->is_kind("it-tinyhollow")) {
+    if (dst->is_kind("it_meditation_hill") || dst->is_kind("it_meditaion_bump") ||
+            dst->is_kind("it_meditation_hollow") || dst->is_kind("it_meditation_dent")) {
         if (!dst->getAttr("name"))
             NameObject(dst, ecl::strf("$!oxyd!hillhollow%d", dst->getId()));
         dstValue = dst->getAttr("name");
     }
     
-    if (src->is_kind("st-actorimpulse")) {
+    if (src->is_kind("st_actorimpulse")) {
         Log << "AddSignal for st-actorimpulse\n";
         ObjectList ol = src->getDefaultedAttr("$!oxyd!destinations", Value(Value::GROUP));
         ol.push_back(dstValue);



From ral at mail.berlios.de  Sun Jan 18 00:14:46 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 18 Jan 2009 00:14:46 +0100
Subject: [Enigma-game-svn] r1462 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/items src/stones
Message-ID: <200901172314.n0HNEkBD003530@sheep.berlios.de>

Author: ral
Date: 2009-01-18 00:14:44 +0100 (Sun, 18 Jan 2009)
New Revision: 1462

Added:
   trunk/data/gfx32/st_greenbrown.png
   trunk/data/gfx40/st_greenbrown.png
   trunk/data/gfx48/st_greenbrown.png
   trunk/src/stones/GreenBrownStone.cc
   trunk/src/stones/GreenBrownStone.hh
Removed:
   trunk/data/gfx32/st-greenbrown.png
   trunk/data/gfx40/st-greenbrown.png
   trunk/data/gfx48/st-greenbrown.png
Modified:
   trunk/data/api1init.lua
   trunk/data/gfx48/st-rock3.png
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/Makefile.am
   trunk/src/items/SeedItem.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- reengineering st_greenbrown:
  - rename to st_greenbrown, st_greenbrown_hollow, st_greenbrown_move
  - add st_greenbrown_growing for snapshot initialization
  - preserve identity on growing fake seed


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/data/api1init.lua	2009-01-17 23:14:44 UTC (rev 1462)
@@ -283,6 +283,9 @@
     st_granite = "st-rock1",
     st_granite_hollow = "st-rock1_hole",
     st_granite_movable = "st-rock1_move",
+    st_greenbrown = "st-greenbrown",
+    st_greenbrown_hollow = "st-greenbrown_hole",
+    st_greenbrown_movable = "st-greenbrown_move",
     st_greengray = "st-rock7",
     st_invisible = "st-invisible",
     st_invisible_hollow = "st-invisible_hole",

Deleted: trunk/data/gfx32/st-greenbrown.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_greenbrown.png (from rev 1460, trunk/data/gfx32/st-greenbrown.png)

Deleted: trunk/data/gfx40/st-greenbrown.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_greenbrown.png (from rev 1460, trunk/data/gfx40/st-greenbrown.png)

Deleted: trunk/data/gfx48/st-greenbrown.png
===================================================================
(Binary files differ)

Modified: trunk/data/gfx48/st-rock3.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_greenbrown.png (from rev 1460, trunk/data/gfx48/st-greenbrown.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/data/models-2d.lua	2009-01-17 23:14:44 UTC (rev 1462)
@@ -767,7 +767,7 @@
     DefStone("st-grate1", "sh-grate1")
     DefStone("st-grate2", "sh-grate2")
     DefStone("st-grate3", "sh-grate3")
-    DefStone("st-greenbrown", "sh-round")
+    DefStone("st_greenbrown", "sh-round")
     DefStone("st-key0", "sh-round", {filename="st-key1"})
     DefStone("st-key1", "sh-round", {filename="st-key2"})
     DefStone("st_redbrown", "sh-round")
@@ -1245,7 +1245,6 @@
       DefAnim("wood-growing-fg", BuildFrames(n, 130))
       DefAnim("wood-growing-bg", BuildFrames(sh, 130))
       DefShModel("st-wood-growing", "wood-growing-fg", "wood-growing-bg")
-      DefShModel("st-greenbrown-growing", "wood-growing-fg", "wood-growing-bg")
    end
 
    -- Blocker stone --
@@ -1750,8 +1749,6 @@
     DefAlias("st-explosion", "expl")
     DefAlias("st-firebreak_move", "st-firebreak")
     DefAlias("st-glass_move", "st-glass");
-    DefAlias("st-greenbrown_hole", "st-greenbrown")
-    DefAlias("st-greenbrown_move", "st-greenbrown")
     DefAlias("st-laserbreak", "st-rock3")
     DefAlias("st-laserbreak-anim", "st-rock3_break-anim")
     DefAlias("st-plain", "st-rock3")

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/data/schemas/objects.xml	2009-01-17 23:14:44 UTC (rev 1462)
@@ -996,6 +996,16 @@
     <object name="st_granite_movable">
       <attr name="movable" value="true"/>
     </object>
+    <object name="st_greenbrown">
+      <attr name="hollow" rw="r"/>
+    </object>
+    <object name="st_greenbrown_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_greenbrown_movable">
+      <attr name="movable" value="true"/>
+    </object>
+    <object name="st_greenbrown_growing" init="true"/>
     <object name="st_greengray"/>
     <object name="st_invisible">
       <attr name="hollow" rw="r"/>

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/data/startup.lua	2009-01-17 23:14:44 UTC (rev 1462)
@@ -106,9 +106,6 @@
     world.DefineSimpleStoneMovable(name,sound or "stone",0)
 end
 
-def_stone("st-greenbrown")
-def_stone_movable("st-greenbrown_move", "cloth")
-def_stone_hollow("st-greenbrown_hole")
 def_stone("st-rock3")
 def_stone_movable("st-rock3_move")
 def_stone_hollow("st-rock3_hole")

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/Makefile.am	2009-01-17 23:14:44 UTC (rev 1462)
@@ -292,6 +292,8 @@
 	stones/FourSwitch.hh	\
 	stones/GlassStones.cc	\
 	stones/GlassStones.hh	\
+	stones/GreenBrownStone.cc	\
+	stones/GreenBrownSTone.hh	\
 	stones/KeySwitch.cc	\
 	stones/KeySwitch.hh	\
 	stones/KnightStone.cc	\

Modified: trunk/src/items/SeedItem.cc
===================================================================
--- trunk/src/items/SeedItem.cc	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/items/SeedItem.cc	2009-01-17 23:14:44 UTC (rev 1462)
@@ -104,7 +104,7 @@
                 return;
            }
        }
-       Stone *st = MakeStone(flavor == 0 ? "st_box_wood_growing" : (flavor == 1 ? "st-greenbrown-growing" : "st_volcano_growing"));
+       Stone *st = MakeStone(flavor == 0 ? "st_box_wood_growing" : (flavor == 1 ? "st_greenbrown_growing" : "st_volcano_growing"));
        transferIdentity(st);
        if (Value v = getAttr("secure"))
            st->setAttr("secure", v);

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/ox_peroxyd.cc	2009-01-17 23:14:44 UTC (rev 1462)
@@ -221,7 +221,7 @@
     "st_camouflage",            // PerOxyd stone 0x1e (green camouflage piece)
     UNUSED,                     // PerOxyd stone 0x1f
     "st_redmarble",             // PerOxyd stone 0x20
-    "st-greenbrown",            // PerOxyd stone 0x21
+    "st_greenbrown",            // PerOxyd stone 0x21
     "st_rawglass",              // PerOxyd stone 0x22 (semi opaque piece, not really glass)
     "st_rawglass",              // PerOxyd stone 0x23 (must be st-glass, see link level 92)
     "st-plain_break",           // PerOxyd stone 0x24

Added: trunk/src/stones/GreenBrownStone.cc
===================================================================
--- trunk/src/stones/GreenBrownStone.cc	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/stones/GreenBrownStone.cc	2009-01-17 23:14:44 UTC (rev 1462)
@@ -0,0 +1,131 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/GreenBrownStone.hh"
+#include "items/GlassesItem.hh"
+//#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    GreenBrownStone::GreenBrownStone(bool hollow, bool movable, int initState) {
+        state = initState;
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable) {
+            objFlags |= OBJBIT_MOVABLE;
+            objFlags |= OBJBIT_CLOTH;
+        }
+    }
+    
+    std::string GreenBrownStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value GreenBrownStone::getAttr(const std::string &key) const {
+        if (key == "movable") {
+            return (bool)(objFlags & OBJBIT_MOVABLE);
+        } else if (key == "hollow") {
+            return (bool)(objFlags & OBJBIT_HOLLOW);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value GreenBrownStone::message(const Message &m) {
+        if ((objFlags & OBJBIT_HOLLOW) && m.message == "_glasses") {
+            if ((to_int(m.value) & Glasses::HOLLOW) && !(objFlags & OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags & OBJBIT_GLASSES) {
+                objFlags &= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        }
+        return Stone::message(m);
+    }
+   
+    void GreenBrownStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void GreenBrownStone::init_model() {
+        if (objFlags & OBJBIT_GLASSES)
+            set_model("invisible");
+        else if (state == GROWING)
+            set_anim("st-wood-growing");   // missing model
+        else
+            set_model(getClass());
+    }
+    
+    void GreenBrownStone::animcb() {
+        state = IDLE;
+        init_model();
+    }
+
+    bool GreenBrownStone::is_floating() const {
+        return objFlags & OBJBIT_HOLLOW;
+    }
+
+    void GreenBrownStone::actor_hit(const StoneContact &sc) {
+        if (state == GROWING)
+            SendMessage(sc.actor, "_shatter");
+        else
+            Stone::actor_hit(sc);
+    }
+    
+    void GreenBrownStone::actor_inside(Actor *a) {
+        if (state == GROWING)
+            SendMessage(a, "_shatter");
+    }
+    
+    void GreenBrownStone::actor_contact(Actor *a) {
+        if (state == GROWING)
+            SendMessage(a, "_shatter");
+    }
+    
+    StoneResponse GreenBrownStone::collision_response(const StoneContact &sc) {
+        if (objFlags & OBJBIT_HOLLOW)
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *GreenBrownStone::collision_sound() {
+        return (objFlags & OBJBIT_CLOTH) ? "stone" : "cloth";
+    }
+    
+    int GreenBrownStone::traitsIdx() const {
+        return (objFlags & OBJBIT_MOVABLE) ? 1 : 0;
+    }
+        
+    StoneTraits GreenBrownStone::traits[2] = {
+        {"st_greenbrown", st_greenbrown, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_greenbrown", st_greenbrown, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new GreenBrownStone(false, false), "st_greenbrown");
+        BootRegister(new GreenBrownStone(true, false),  "st_greenbrown_hollow");
+        BootRegister(new GreenBrownStone(true, true),  "st_greenbrown_movable");
+        BootRegister(new GreenBrownStone(false, false, true),  "st_greenbrown_growing");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/GreenBrownStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/GreenBrownStone.hh
===================================================================
--- trunk/src/stones/GreenBrownStone.hh	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/stones/GreenBrownStone.hh	2009-01-17 23:14:44 UTC (rev 1462)
@@ -0,0 +1,77 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef GREENBROWNSTONE_HH
+#define GREENBROWNSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class GreenBrownStone : public Stone {
+        CLONEOBJ(GreenBrownStone);
+        DECL_TRAITS_ARRAY(2, traitsIdx());
+    private:
+        enum iState {
+            IDLE,       ///< standard  stone
+            GROWING     ///< a stone growing from a seed
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE  =   1<<24,    ///<  
+            OBJBIT_HOLLOW   =   1<<25,    ///< 
+            OBJBIT_GLASSES  =   1<<26,    ///< invisible due to glasses
+            OBJBIT_CLOTH    =   1<<27     ///< collision sound cloth instead of standard stone
+        };
+        
+    public:
+        GreenBrownStone(bool hollow, bool movable, int initState = IDLE);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual void actor_hit(const StoneContact &sc);
+        virtual void actor_inside(Actor *a);
+        virtual void actor_contact(Actor *a);
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual const char *collision_sound();
+
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/GreenBrownStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/stones.hh	2009-01-17 23:14:44 UTC (rev 1462)
@@ -65,7 +65,7 @@
         st_firebreak_move,
         st_floppy,
         st_fourswitch,
-        st_greenbrown_growing,
+        st_greenbrown,
         st_key,
         st_knight,
         st_laserbreak,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-17 18:47:21 UTC (rev 1461)
+++ trunk/src/stones_simple.cc	2009-01-17 23:14:44 UTC (rev 1462)
@@ -834,32 +834,6 @@
 }
 
 
-//----------------------------------------
-// Growing stones used by it-seed
-//----------------------------------------
-namespace
-{
-    
-    class GreenbrownStone_Growing : public Stone {
-        CLONEOBJ(GreenbrownStone_Growing);
-        DECL_TRAITS;
-    public:
-        GreenbrownStone_Growing()
-        {}
-    private:
-        void init_model() { set_anim("st-greenbrown-growing"); }
-        void animcb() {
-            Stone *st = MakeStone("st-greenbrown");
-            ReplaceStone(get_pos(), st);
-        }
-        void actor_contact(Actor *a) {SendMessage(a, "_shatter");}
-        void actor_inside(Actor *a) {SendMessage(a, "_shatter");}
-        void actor_hit(const StoneContact &sc) {SendMessage(sc.actor, "_shatter");}
-    };
-    DEF_TRAITS(GreenbrownStone_Growing, "st-greenbrown-growing", st_greenbrown_growing);
-
-}
-
 /* -------------------- Thief -------------------- */
 namespace
 {
@@ -1262,8 +1236,6 @@
     Register(new Stonebrush);
     Register(new ThiefStone);
 
-    Register(new GreenbrownStone_Growing);
-
     Register(new YinYangStone1);
     Register(new YinYangStone2);
     Register(new YinYangStone3);



From raoulb at bluewin.ch  Sun Jan 18 14:00:36 2009
From: raoulb at bluewin.ch (Raoul)
Date: Sun, 18 Jan 2009 14:00:36 +0100
Subject: [Enigma-game-svn] rev 1463
Message-ID: <20090118140036.63ccde28@amarok.loinet.zh>

-> Level updates for renamings of glasstones and greenbrown


From ral at mail.berlios.de  Sun Jan 18 14:55:11 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 18 Jan 2009 14:55:11 +0100
Subject: [Enigma-game-svn] r1464 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/stones
Message-ID: <200901181355.n0IDtB01008822@sheep.berlios.de>

Author: ral
Date: 2009-01-18 14:55:09 +0100 (Sun, 18 Jan 2009)
New Revision: 1464

Added:
   trunk/data/gfx32/st_plaster.png
   trunk/data/gfx40/st_plaster.png
   trunk/data/gfx48/st_plaster.png
   trunk/src/stones/PlasterStone.cc
   trunk/src/stones/PlasterStone.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/Makefile.am
   trunk/src/ox_magnum.cc
Log:
Trunk 1.1: new API reengineering
- fix broken lightpassenger image
- reengineering rock3:
  - st-rock3 -> st_plaster
  - st-rock3_hole -> st_plaster_hollow
  - st-rock3_move -> st_plaster_movable
  - st-rock3_break -> st_plaster_breakable
  - st-rock3_movebreak -> st_plaster_movebreakable
  - unify in a single class
  - new image to seperate from "st-plain"
  - make movebreak movable (has not yet been movable)
- fix drawMap() problems with overwritten anchor

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/data/api1init.lua	2009-01-18 13:55:09 UTC (rev 1464)
@@ -370,6 +370,12 @@
     st_passage_white_cross = "st-white3",
     st_passage_white_frame = "st-white4",
     st_pinkbumps = "st-bumps",
+    st_plaster = "st-rock3",
+    st_plaster_hollow = "st-rock3_hole",
+    st_plaster_movable = "st-rock3_move",
+    st_plaster_breakable = "st-rock3_break",
+    st_plaster_movebreakable = "st-rock3_movebreak",
+    
     st_pull = "st-pull",
     st_purplegray = "st-rock6",
     st_purplemarble = "st-rock4",

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/data/api2init.lua	2009-01-18 13:55:09 UTC (rev 1464)
@@ -191,10 +191,7 @@
         -- world, resolver, (position|object|table), string, (table|map), [int]
         -- world, resolver, (position|object|table), map, [int]
         -- Analyse arguments 3 to 6
-        local origin = anchor
-        if type(origin) == "table" then
-            origin = po(origin)
-        end
+        local origin = po(anchor)   -- either convert or make a working position copy
         local ignore = ignorearg
         local map = maparg
         local readdir = readarg or MAP_IDENT

Added: trunk/data/gfx32/st_plaster.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/st_plaster.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/data/gfx40/st_plaster.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx40/st_plaster.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/data/gfx48/st_plaster.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx48/st_plaster.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/data/models-2d.lua	2009-01-18 13:55:09 UTC (rev 1464)
@@ -775,6 +775,7 @@
     DefStone("st_redrock")
     DefStone("st_granite", "sh-round")
     DefStone("st_darkgray")
+    DefStone("st_plaster")
     DefStone("st-rock3")
     DefStone("st-rock3_cracked")
     DefStone("st_purplemarble")
@@ -1020,7 +1021,7 @@
     DefShModel("st-lightpassenger", img[1], "sh-glass")
     DefImage("st-lightpassenger_offx", {filename = "st-lightpassenger_off"})
     DefShModel("st-lightpassenger_off", "st-lightpassenger_offx", "sh-glass")
-    DefAlias("st-lightpassenger_hidden", "st-glass2")
+    DefAlias("st-lightpassenger_hidden", "st_darkglass")
     -- Blink animation
     local frames = {img[2], img[3], img[4], img[5], img[6], img[7]}
     DefAnim("st-lightpassenger-blink1", PingPong(BuildFrames(frames, 75)), true)
@@ -1106,6 +1107,7 @@
     DefAnim("rock3_break-anim",BuildFrames(images,50))
     DefSolidStone("st-rock3_break-anim", "rock3_break-anim")
     DefAlias("st-rock3_movebreak", "st-rock3")
+    DefAlias("st_plaster_breaking", "st-rock3_break-anim")
 end
 
 -- st-rock3-falling --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/data/schemas/objects.xml	2009-01-18 13:55:09 UTC (rev 1464)
@@ -8,6 +8,7 @@
     <attr name="anchor2" type="tokens" default="nil" rw="rw"/>
     <attr name="attacknearest" type="bool" default="false" rw="rw"/>
     <attr name="autoclose" type="bool" default="false" rw="rw"/>
+    <attr name="breakable" type="bool" default="false" rw="rw"/>
     <attr name="burnable" type="bool" default="nil" rw="rw"/>
     <attr name="charge" type="double" default="0" rw="rw"/>
     <attr name="cluster" type="int" default="nil" min="0" max="9" rw="rw"/>
@@ -1230,6 +1231,25 @@
       <attr name="color" value="1"/>
     </object>
     <object name="st_pinkbumps"/>
+    <object name="st_plaster">
+      <attr name="hollow" rw="r"/>
+      <attr name="breakable" rw="r"/>
+    </object>
+    <object name="st_plaster_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_plaster_movable">
+      <attr name="movable" value="true"/>
+      <attr name="breakable" value="false"/>
+    </object>
+    <object name="st_plaster_breakable">
+      <attr name="breakable" value="true"/>
+      <attr name="movable" value="false"/>
+    </object>
+    <object name="st_plaster_movebreakable">
+      <attr name="movable" value="true"/>
+      <attr name="breakable" value="true"/>
+    </object>
     <object name="st_polarswitch">
       <msg name="on"/>
       <msg name="off"/>

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/data/startup.lua	2009-01-18 13:55:09 UTC (rev 1464)
@@ -106,12 +106,7 @@
     world.DefineSimpleStoneMovable(name,sound or "stone",0)
 end
 
-def_stone("st-rock3")
-def_stone_movable("st-rock3_move")
-def_stone_hollow("st-rock3_hole")
 
-
-
 ------------------------------
 -- Define the simple floors --
 ------------------------------

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/src/Makefile.am	2009-01-18 13:55:09 UTC (rev 1464)
@@ -316,6 +316,8 @@
 	stones/OxydStone.hh	\
 	stones/PassageStone.cc	\
 	stones/PassageStone.hh	\
+	stones/PlasterStone.cc	\
+	stones/PlasterStone.hh	\
 	stones/PolarSwitchStone.cc	\
 	stones/PolarSwitchStone.hh	\
 	stones/PullStone.cc	\

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/src/ox_magnum.cc	2009-01-18 13:55:09 UTC (rev 1464)
@@ -250,7 +250,7 @@
     UNUSED,                     // OxydMagnum stone 0x83
     UNUSED,                     // OxydMagnum stone 0x84
     UNUSED,                     // OxydMagnum stone 0x85
-    "st-rock3_hole",            // OxydMagnum stone 0x86
+    "st_plaster_hollow",        // OxydMagnum stone 0x86
     "st_purplemarble",          // OxydMagnum stone 0x87 (was st-rock1, but the pic has straight edges and surfaces)
     0,                          // OxydMagnum stone 0x88 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)
     0,                          // OxydMagnum stone 0x89 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)

Added: trunk/src/stones/PlasterStone.cc
===================================================================
--- trunk/src/stones/PlasterStone.cc	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/src/stones/PlasterStone.cc	2009-01-18 13:55:09 UTC (rev 1464)
@@ -0,0 +1,145 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/PlasterStone.hh"
+#include "items/GlassesItem.hh"
+#include "player.hh"
+//#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    PlasterStone::PlasterStone(bool hollow, bool movable, bool breakable) {
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable)
+            objFlags |= OBJBIT_MOVABLE;
+        if (breakable)
+            objFlags |= OBJBIT_BREAKABLE;
+    }
+    
+    std::string PlasterStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value PlasterStone::getAttr(const std::string &key) const {
+        if (key == "movable") {
+            return (bool)(objFlags & OBJBIT_MOVABLE);
+        } else if (key == "hollow") {
+            return (bool)(objFlags & OBJBIT_HOLLOW);
+        } else if (key == "breakable") {
+            return (bool)(objFlags & OBJBIT_BREAKABLE);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value PlasterStone::message(const Message &m) {
+        if ((objFlags & OBJBIT_HOLLOW) && m.message == "_glasses") {
+            if ((to_int(m.value) & Glasses::HOLLOW) && !(objFlags & OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags & OBJBIT_GLASSES) {
+                objFlags &= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        } else if ((objFlags & OBJBIT_BREAKABLE) && 
+                (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone")) {
+            doBreak();
+            return Value();
+        }
+        return Stone::message(m);
+    }
+   
+    void PlasterStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void PlasterStone::init_model() {
+        if (objFlags & OBJBIT_GLASSES)
+            set_model("invisible");
+        else if (state == BREAKING)
+            set_anim("st_plaster_breaking");
+        else
+            set_model(getClass());
+    }
+    
+    void PlasterStone::processLight(Direction d) {
+        if (objFlags & OBJBIT_BREAKABLE)
+            doBreak();
+        else
+            Stone::processLight(d);
+    }
+    
+    void PlasterStone::animcb() {
+        KillStone(get_pos());
+    }
+    
+    bool PlasterStone::is_floating() const {
+        return objFlags & OBJBIT_HOLLOW;
+    }
+
+    StoneResponse PlasterStone::collision_response(const StoneContact &sc) {
+        if (objFlags & OBJBIT_HOLLOW)
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *PlasterStone::collision_sound() {
+        return "stone";
+    }
+    
+    void PlasterStone::actor_hit(const StoneContact &sc) {
+        if ((objFlags & OBJBIT_BREAKABLE) && player::WieldedItemIs(sc.actor, "it_hammer"))
+            doBreak();
+        else
+            Stone::actor_hit(sc);
+    }
+    
+    void PlasterStone::doBreak() {
+        if (state == IDLE) {
+            state = BREAKING;
+            sound_event("stonedestroy");
+            if (isDisplayable())
+                init_model();
+        }
+    }
+        
+    int PlasterStone::traitsIdx() const {
+        return ((objFlags & OBJBIT_BREAKABLE) ? 1 : 0) + ((objFlags & OBJBIT_MOVABLE) ? 2 : 0);
+    }
+    
+    StoneTraits PlasterStone::traits[4] = {
+        {"st_plaster", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_plaster", st_standard, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_plaster", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_plaster", st_standard, stf_none, material_stone, 1.0, MOVABLE_IRREGULAR},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new PlasterStone(false, false), "st_plaster");
+        BootRegister(new PlasterStone(true, false),  "st_plaster_hollow");
+        BootRegister(new PlasterStone(false, true),  "st_plaster_movable");
+        BootRegister(new PlasterStone(false, false, true), "st_plaster_breakable");
+        BootRegister(new PlasterStone(false, true, true),  "st_plaster_movebreakable");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/PlasterStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/PlasterStone.hh
===================================================================
--- trunk/src/stones/PlasterStone.hh	2009-01-17 23:51:32 UTC (rev 1463)
+++ trunk/src/stones/PlasterStone.hh	2009-01-18 13:55:09 UTC (rev 1464)
@@ -0,0 +1,77 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef PLASTERSTONE_HH
+#define PLASTERSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class PlasterStone : public Stone {
+        CLONEOBJ(PlasterStone);
+        DECL_TRAITS_ARRAY(4, traitsIdx());
+    private:
+        enum iState {
+            IDLE,         ///< 
+            BREAKING      ///< 
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE   =   1<<24,    ///<  
+            OBJBIT_HOLLOW    =   1<<25,    ///< 
+            OBJBIT_GLASSES   =   1<<26,    ///< invisible due to glasses
+            OBJBIT_BREAKABLE =   1<<27     ///< breakable
+        };
+        
+    public:
+        PlasterStone(bool hollow, bool movable, bool breakable = false);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void processLight(Direction d);   // direction of laserbeam
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual const char *collision_sound();
+        virtual void actor_hit(const StoneContact &sc);
+
+    private:
+        void doBreak();
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/PlasterStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native



From raoul at mail.berlios.de  Sun Jan 18 16:48:16 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 18 Jan 2009 16:48:16 +0100
Subject: [Enigma-game-svn] r1465 - in trunk/data/levels: enigma_cross
	enigma_ii enigma_iii enigma_iv enigma_vi enigma_vii enigma_viii
Message-ID: <200901181548.n0IFmGq4019157@sheep.berlios.de>

Author: raoul
Date: 2009-01-18 16:48:15 +0100 (Sun, 18 Jan 2009)
New Revision: 1465

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_ii/qq03_2.xml
   trunk/data/levels/enigma_iii/ant25_2.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_iv/ralf09_2.xml
   trunk/data/levels/enigma_vi/andreas35_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral30_1.xml
Log:
-> Level updates for rock3 renamings



Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -67,7 +67,7 @@
     <level _seq="59" _title="- Meditation -" _xpath="enigma_oxyd/oxyd10_1" author="Daniel Heck" ctrl="force" easy="false" id="daniel1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Good Luck!" _xpath="enigma_i/siegfried08_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Mirror Shop" _xpath="enigma_v/siegfried25_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9a" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="62" _title="Stomp Stomp" _xpath="enigma_ii/qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="62" _title="Stomp Stomp" _xpath="enigma_ii/qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Find The Way Out" _xpath="enigma_peroxyd/peroxyd46_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Basement" _xpath="enigma_i/siegfried26_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Ingrowing" _xpath="enigma_i/ant18_1" author="Petr Machata" ctrl="force" easy="false" id="ant18" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -141,7 +141,7 @@
     <level _seq="133" _title="Double-Spiral" _xpath="enigma_iv/duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="134" _title="Mourning Palace" _xpath="enigma_iv/ant08_1" author="Petr Machata" ctrl="force" easy="false" id="ant08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Control Panel" _xpath="enigma_iii/duffy16_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy16" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="136" _title="Dependants" _xpath="enigma_iii/ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="136" _title="Dependants" _xpath="enigma_iii/ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="137" _title="Question of Speed" _xpath="enigma_ii/siegfried32_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="138" _title="Pain" _xpath="enigma_iv/ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="139" _title="- Meditation -" _xpath="enigma_iv/ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="2" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -83,7 +83,7 @@
     <level _seq="75" _title="Switch-Switch" _xpath="enigma_iv/raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="76" _title="Turbulence" _xpath="enigma_i/duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Shrinking Pits" _xpath="enigma_v/duffy23_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy23" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Be Faster!" _xpath="enigma_iv/martin98_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin98" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Teamwork" _xpath="enigma_iii/duffy25_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Lock Them In" _xpath="enigma_iii/duffy26_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy26" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -202,7 +202,7 @@
     <level _seq="194" _title="Oiltrace" _xpath="enigma_vi/raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="195" _title="The Cube" _xpath="enigma_vi/malaire01_1" author="Markus Laire" ctrl="force" easy="true" id="20061120malaire901" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="196" _title="Puzzle Puzzles" _xpath="enigma_vi/raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
-    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="197" _title="Checkmate II" _xpath="enigma_vi/andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="198" _title="be quick or be dead" _xpath="enigma_vi/illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="199" _title="Tarzan" _xpath="enigma_vi/ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="200" _title="Simple Space" _xpath="enigma_vi/ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -60,7 +60,7 @@
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="6" score="1" target="time" unit="duration"/>
@@ -79,8 +79,8 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="41" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="30" score="1" target="time" unit="duration"/>
     <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="31" score="1" target="time" unit="duration"/>
@@ -90,10 +90,10 @@
     <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="41" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="29" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="75" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="76" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="10" score="1" target="time" unit="duration"/>
@@ -110,17 +110,17 @@
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="144" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="145" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma II"/>
 
   <attributes/>
 
@@ -19,7 +19,7 @@
     <level _seq="11" _title="Automaton Magic" _xpath="./ant07_1" author="Petr Machata" ctrl="force" easy="false" id="ant07" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Enignimm" _xpath="./alain02_1" author="Alain Busser" ctrl="force" easy="false" id="alain02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="One Way Ticket" _xpath="./luc25_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc25" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="14" _title="Stomp Stomp" _xpath="./qq03_2" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq3" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="Knock Knock!" _xpath="./nat03_1" author="Nat Pryce" ctrl="force" easy="false" id="nat3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Beam0r" _xpath="./peter01_1" author="Peter Santo" ctrl="force" easy="false" id="peter_001" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Dustwalkers" _xpath="./ant06_1" author="Petr Machata" ctrl="force" easy="false" id="ant06" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/qq03_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/qq03_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_ii/qq03_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Stomp Stomp" el:subtitle="" el:id="qq3"/>
-      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Andrzej Szombierski" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? Andrzej Szombierski</el:copyright>
       <el:license el:type="Donated to Enigma under the projects license" el:open="true"/>
@@ -16,7 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl_samba"}
-ti["#"] = {"st-rock3"}
+ti["#"] = {"st_plaster"}
 ti[">"] = {"st_boulder", orientation=EAST}
 ti["<"] = {"st_boulder", orientation=WEST}
 ti["-"] = {"st_door", flavor="b"}

Modified: trunk/data/levels/enigma_iii/ant25_2.xml
===================================================================
--- trunk/data/levels/enigma_iii/ant25_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_iii/ant25_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Dependants" el:subtitle="" el:id="ant25"/>
-      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = false
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-rock3"}
+ti["#"] = {"st_plaster"}
 ti["O"] = {"st_oxyd", name="left#"}
 ti["o"] = {"st_oxyd", name="right#"}
 ti["*"] = {"st_puzzle", cluster=1}

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma III"/>
 
   <attributes/>
 
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Seven Friends" _xpath="./ss16_2" author="Sven Siggelkow" ctrl="force" easy="false" id="ss16" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="11" _title="Blocks and Water" _xpath="./duffy99_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy99" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="deja-vu" _xpath="./illmind09_1" author="illmind" ctrl="force" easy="false" id="illmind09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Dependants" _xpath="./ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="1" score="2" target="time" unit="duration"/>
+    <level _seq="13" _title="Dependants" _xpath="./ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Use The PIN" _xpath="./martin99_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin99" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Space City" _xpath="./edward25_1" author="Edward" ctrl="force" easy="false" id="edward25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Control Panel" _xpath="./duffy16_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy16" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma IV"/>
 
   <attributes/>
 
@@ -62,7 +62,7 @@
     <level _seq="54" _title="Fire Safety" _xpath="./duffy83_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy83" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Easily Inflammable" _xpath="./martin95_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin95" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="56" _title="The Builder" _xpath="./ss09_2" author="Sven Siggelkow" ctrl="force" easy="false" id="ss9" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="What a Mess" _xpath="./duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Sleeping Serpent" _xpath="./raoul10_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- No Meditation -" _xpath="./ralf08_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="2" rev="2" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/ralf09_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ralf09_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_iv/ralf09_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Run Like Hell" el:subtitle="" el:id="ralf09"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Ralf Westram</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl_red"}
-ti["#"] = {"st-rock3"}
+ti["#"] = {"st_plaster"}
 ti["P"] = {"st_pull"}
 ti["v"] = {"st_boulder", orientation=SOUTH}
 ti["o"] = {"st_oxyd", "oxyds1#"}

Modified: trunk/data/levels/enigma_vi/andreas35_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vi/andreas35_1.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Checkmate II" el:subtitle="" el:id="andreas35"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = ti({"fl_bright", checkerboard = 0}) .. {"fl_dark", checkerboard = 1}
-ti["#"] = {"st-rock3"}
+ti["#"] = {"st_plaster"}
 ti["c"] = ti({"st_chess_white", checkerboard = 0}) .. {"st_chess_black", checkerboard = 1}
 ti["x"] = ti({"st_passage_black_frame", checkerboard = 0}) .. {"st_passage_white_frame", checkerboard = 1}
 ti["y"] = ti["x"] .. {"it_yinyang"}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VI"/>
 
   <attributes/>
 
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="104" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="31" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="32" title="Enigma VII"/>
 
   <attributes/>
 
@@ -84,7 +84,7 @@
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="6" score="1" target="time" unit="duration"/>
@@ -103,8 +103,8 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="41" score="1" target="time" unit="duration"/>
   </levels>
 

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 31 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -65,7 +65,7 @@
 ti["w "] = {"it_magicwand"}
 ti[" /"] = {"fl_gravel"}
 ti["@ "] = {"st_rubberband"}
-ti["A "] = {"st-rock3"}
+ti["A "] = {"st_plaster"}
 ti["b "] = {"it_banana"}
 ti["B "] = {"st_actorimpulse"}
 ti["C "] = {"st_rotator_ccw"}
@@ -101,7 +101,7 @@
 ti[" 8"] = {"fl_bluegray"}
 ti["T "] = {"st_boulder_s"}
 ti[" 9"] = {"fl_hay"}
-ti["U "] = {"st-rock3_break"}
+ti["U "] = {"st_plaster_breakable"}
 ti["V "] = {"st_tigris"}
 ti["W "] = {"st_mirror", movable=true, transparent=false, orientation=SOUTH}
 ti["n "] = {"it-surprise"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:36$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:37$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -104,7 +104,7 @@
 ti["w "] = {"it_magicwand"}
 ti["C "] = {"st_stoneimpulse"}
 ti["D "] = {"st_rawglass_movable"}
-ti["E "] = {"st-rock3"}
+ti["E "] = {"st_plaster"}
 ti[" *"] = {"fl_ivory"}
 ti["F "] = {"st_oneway_s"}
 ti[" +"] = {"fl_sahara"}

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="14" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="15" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,7 +28,7 @@
 ti["8"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow8"} -- Seymour swallowed by Audrey II
 ti["9"] = ti[" "] .. {"st_door", name="Door1", flavor="a"} -- Mushnik's door
 ti["0"] = ti[" "] .. {"st_door", name="Door2", flavor="a"} -- Audrey's door
-ti["!"] = (ti({"fl_bright"}) .. {"st-rock3_hole"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
+ti["!"] = (ti({"fl_bright"}) .. {"st_plaster_hollow"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
 ti["@"] = (ti({"fl_plank"}) .. {"st_turnstilearm_w"}) .. {"it_rubberband", anchor2="Mushnik", length=1,strength=10}
 ti["#"] = {"fl_lawn"} .. ti({"it_rubberband", anchor2="Audrey", length=1,strength=10})
 ti["-"] = {"fl_bright"} .. ti({"it_key", code="1"}) -- Mushnik's key
@@ -50,7 +50,7 @@
 ti["e"] = {"fl-gradient16"} .. ti({"st_nil"})
 ti["f"] = {"fl_lawn"} --Audrey's floor
 ti["g"] = ti[" "] .. {"st-grate1"}
-ti["h"] = (ti({"fl_bright"}) .. {"it_hammer"}) .. {"st-rock3_hole"}
+ti["h"] = (ti({"fl_bright"}) .. {"it_hammer"}) .. {"st_plaster_hollow"}
 ti["i"] = {"fl_mortar"} .. ti({"st_beads"}) --Window
 ti["j"] = {"fl_bright"} --Orin's floor
 ti["k"] = ti[" "] .. {"st_redbrown"} --Audrey's Walls
@@ -80,8 +80,8 @@
 ti["M"] = ti["Y"] .. {"#ac_horse", strength=3, name="horse", destination={"d1","d2","d3","d4"}} -- Chiffon, Crystal, Ronnette
 ti["O"] = ti[" "] .. {"st_panel", cluster=1}
 ti["P"] = {"fl_bright"} .. ti({"st-plain_break"})
-ti["Q"] = ti[" "] .. {"st-rock3_hole"}
-ti["R"] = ti[" "] .. {"st-rock3"}
+ti["Q"] = ti[" "] .. {"st_plaster_hollow"}
+ti["R"] = ti[" "] .. {"st_plaster"}
 ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}
 ti["T"] = {"fl_plank"} .. ti({"it_coffee"})
 ti["W"] = (ti({"fl-gradient15"}) .. {"st_oneway", orientation=WEST}) .. {"it-burnable"}

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="13" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="14" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -38,7 +38,7 @@
    {"fl_bluegreen", "fl_abyss", "st_metal",      "st_metal_hollow",      OXYD_BLUE},
    {"fl_brick",     "fl_water", "st_granite",      "st_granite_hollow",      OXYD_RED},
    {"fl_gravel",    "fl_abyss", "st_darkgray",      "st_darkgray_hollow",      OXYD_BLACK},
-   {"fl_metal",     "fl_water", "st-rock3",      "st-rock3_hole",      OXYD_WHITE}}
+   {"fl_metal",     "fl_water", "st_plaster",      "st_plaster_hollow",      OXYD_WHITE}}
 
 vortex_goals = {}
 maze_maps = {}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma VIII"/>
 
   <attributes/>
 
@@ -15,10 +15,10 @@
     <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="41" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="28" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="29" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="75" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="76" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="10" score="1" target="time" unit="duration"/>
@@ -35,15 +35,15 @@
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="130" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="144" score="2" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="145" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 28 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -23,7 +23,7 @@
 ti[" !"] = {"fl_brick"}
 ti["! "] = {"st_death"}
 ti[" #"] = {"fl_metal_7", friction=4.0}
-ti["# "] = {"st-rock3"}
+ti["# "] = {"st_plaster"}
 ti[" $"] = {"fl_abyss"}
 ti[" %"] = {"fl_ivory"}
 ti["$ "] = {"st-stone_break"}
@@ -56,7 +56,7 @@
 ti["i4"] = ti["i2"] .. {"it_extralife"}
 ti[". "] = {"st_stoneimpulse"}
 ti["/ "] = {"st_stoneimpulse_hollow"}
-ti["0 "] = {"st-rock3_hole"}
+ti["0 "] = {"st_plaster_hollow"}
 ti[" -"] = {"fl_aquamarine"}
 ti["1 "] = {"st_rawglass"}
 ti[" /"] = {"fl_blueslab"}
@@ -64,7 +64,7 @@
 ti[" 0"] = {"fl_himalaya"}
 ti["e1"] = ti["e2"] .. {"it_brush"}
 ti["3 "] = {"st_shogun_s"}
-ti["5 "] = {"st-rock3_move"}
+ti["5 "] = {"st_plaster_movable"}
 ti["6 "] = {"st_shogun_l"}
 ti["c8"] = ti["e4"] .. {"it_banana"}
 ti["o "] = {"it_meditation_dent"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:75$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:76$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -81,7 +81,7 @@
 ti["XX"] = ti[" ;"].. {"#ac_marble_black"}
 ti["I "] = {"st_fake_oxyda"}
 ti["K "] = {"st_boulder_e"}
-ti["L "] = {"st-rock3_break"}
+ti["L "] = {"st_plaster_breakable"}
 ti[" 0"] = {"fl-gradient9"}
 ti[" 1"] = {"fl-gradient3"}
 ti[" 2"] = {"fl-gradient10"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 144 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 145 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -224,8 +224,8 @@
 ti["Rp"] = ti[".."] .. {"st_granite_hollow"}
 ti["Rh"] = ti["  "] .. {"st_granite_hollow"}
 ti["Rm"] = ti["::"] .. {"st_granite_movable"}
-ti["R3"] = ti["  "] .. {"st-rock3"}
-ti["RH"] = ti["  "] .. {"st-rock3_hole"}
+ti["R3"] = ti["  "] .. {"st_plaster"}
+ti["RH"] = ti["  "] .. {"st_plaster_hollow"}
 ti["RP"] = ti["  "] .. {"st_panel"}
 ti["R#"] = ti["  "] .. {"st_rotator_cw"}
 ti["RL"] = ti["  "] .. {"st_rotator_ccw"}

Modified: trunk/data/levels/enigma_viii/ral30_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-18 13:55:09 UTC (rev 1464)
+++ trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-18 15:48:15 UTC (rev 1465)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Scarlet's Necklace" el:subtitle="Who did broke the pearl necklace?" el:id="20080814ral422"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 130 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 131 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,7 +31,7 @@
 ti["F"] = {"st_camouflage_movable", "pearl#"}
 ti["G"] = {"st_box", "pearl#"}
 ti["H"] = {"st_rawglass_movable", "pearl#"}
-ti["I"] = {"st-rock3_move", "pearl#"}
+ti["I"] = {"st_plaster_movable", "pearl#"}
 ti["J"] = {"st_box_hay", "pearl#"}
 
 ti["_"] = {"st_window_s", secure=true}



From ged at mail.berlios.de  Mon Jan 19 20:38:56 2009
From: ged at mail.berlios.de (ged at mail.berlios.de)
Date: Mon, 19 Jan 2009 20:38:56 +0100
Subject: [Enigma-game-svn] r1466 - in feature_branches/hp_lotm/input: .
	articles lotm
Message-ID: <200901191938.n0JJcudh019079@sheep.berlios.de>

Author: ged
Date: 2009-01-19 20:38:50 +0100 (Mon, 19 Jan 2009)
New Revision: 1466

Added:
   feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
   feature_branches/hp_lotm/input/articles/eoya_2008_statistics_ru.html
Modified:
   feature_branches/hp_lotm/input/articles/eoya_2008.html
   feature_branches/hp_lotm/input/articles/eoya_2008_de.html
   feature_branches/hp_lotm/input/faq_core_ru.html
   feature_branches/hp_lotm/input/infobox_ru.html
   feature_branches/hp_lotm/input/lotm/lotm_core_ru.html
   feature_branches/hp_lotm/input/support_ru.html
Log:
Homepage:
- Russian translation of EoYA '08 article.
- EoYA link fixed from 200712 to 200708.
- Some fixes at Russian versions of lotm_core, infobox, support and faq_core pages to make them correct and up to date.


Modified: feature_branches/hp_lotm/input/articles/eoya_2008.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -237,7 +237,7 @@
 </div>
 
 You may want to reread the article about &quot;Houdini&quot; <a
-href="$$lotm_200712$$">here</a>.
+href="$$lotm_200708$$">here</a>.
 
 <h3>Coming to the end &hellip;</h3>
 

Modified: feature_branches/hp_lotm/input/articles/eoya_2008_de.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -260,7 +260,7 @@
 </div> 
 
 Vielleicht m&ouml;chten Sie den Artikel &uuml;ber &quot;Houdini&quot; noch einmal lesen,
-Sie finden ihn <a href="$$lotm_200712$$">hier</a>.
+Sie finden ihn <a href="$$lotm_200708$$">hier</a>.
 
 <h3>Wir kommen zum Ende &hellip;</h3>
 

Added: feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -0,0 +1,336 @@
+<div class="lotm">
+
+<table border="0">
+<tr><td>
+
+<h2>??????? ????? ???? 2008</h2>
+
+<p>? ??????? ?????? ?? ????????? ????? ??????? ????????? ????????????? ?? 
+?????? ?? ???????????? ??????? Enigma ? ???? ??????????. ?? ??????? ???
+?????????, ??????? ??? ???? ? ??????????? ?? ??????? ????? ???? 2007, ?
+????? ???????? ??? ??? ?????????: ??????? ? ??????? Enigma
+??? ????? ??????? &quot;?? ?????? ??????? ??? ?????????&quot; ?
+?? &quot;?? ?????? ???????? ???????&quot;. ?????? ??????, ??????????? ??????????
+?????? ??????, ?? ?????????? ?????? ???????? ?????????? ??????????? &mdash;
+??????? ???? ??????????????, ??????? ????????????? ? ??????!</p>
+
+</td><td>
+
+<p><img class="leftimage" src="$$imagedir$$/articles/eoya_2008.png"
+alt="EoYA 2008" border="0"></p>
+
+</td></tr>
+</table>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3>??????????? ????? ???????????</h3>
+
+<p>? ????? ??????????? ?? ???????????? ??? ??????????? ???????? ???
+???? ??????????? ? ????????? ? ???? ???? ???????? ????????????? ??????,
+??? ?????? ????? ????? ?????? ???? ???????? ?????, ??????? ??? ???????? ??
+????????????? ????? ????????? ??????????? (????? ???? ??????????):</p>
+
+<ul>
+<li>Enigma ?????. ????????????? ???????????.
+:))))))))))))))))))))))))))))</li>
+<li>??????? ?? ????????????? ????!</li>
+<li>? ??????????? ?? ????????? ??????, ??????? ?? ???????? ??? ?????? ?? ?????
+?? ???, ??????? ? ???? ??????? ??? ????? &quot;-&quot;.
+
+? ???????????? Enigma 1.10, ???? ? ????????? ????? ????????? ?? ??????!</li>
+<li>? ?? ??? ??? ?? ???? ?????????? ????????? ????? :-(
+
+??? ?? ?????: ??? "?????!"</li>
+
+<li>???? &mdash; ?????! ;)</li>
+<li>?? ???? ???? ??????? ???? ??????? Enigma ?? ????? ????????? ??????.
+:))))))) ??????????? ? ??? ?? ????.</li>
+
+</ul>
+
+<p>
+???????! :-)
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>? ??? ? ????????? ?????????:</p>
+
+<h3><a name="best_meditation">
+?????? ??????? ??? ????????? 2008: &quot;Mountain Climbing&quot; ?? Joseph Dunne
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_a.png"
+       alt="Mountain Climbing, VII/22" border="0">
+
+Mountain Climbing, VII/22</p>
+
+<p>????? ???? ??? &quot;Mountain Climbing&quot; ????
+<a href="$$eoya_2007$$#funniest_level">????? ???????? ??????? 2007</a>,
+??? ????????????? ?????????? ???????? Joseph Dunne ???????? ??? ???? ???????:
+??? ???? ??????? ?????? ??????? ??? ????????? 2008, ??????? 3.85 ?????? ??
+5 ?????????, ??????? &quot;Cold Meditation&quot; (3.59) ?
+&quot;Meditation Puzzle&quot; (3.56).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_action_level">
+?????? ???????? ??????? 2008: &quot;Diving&quot; ?? Joona Laire
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_b.png" alt="Diving, VII/2" border="0">
+  <div class="imagetitle">Diving, VII/2</div>
+</div>
+
+<p>&quot;Diving&quot; ??????????? ??????? ??????????: ?? ????? ??????????? ?
+???? ???? ???? ???????, ????? &quot;Diving&quot; ????????? ????? ? ???? ??????????
+(? ??????? ??, ???? ?? ?????????? ??????????? ?? ?????????? ???????, ? ??
+?? ??????? ??????), ? ???? ?? ?? ??? ??????? ?????? ????? ? ??????????? ??
+????????? ????? ???????? ??????? ? 2007-?! ????? ? ????? ???, ??? ?????
+????????????????? ?????? ???-???? ??????? ????? ?????? ???????? ??????? 2008,
+?????? 3.61 ?????? ? ???????? &quot;Phaeton&quot; (3.48) ? &quot;A Cooler Spot In Hell&quot; (3.39)
+Joona Laire ????? ???????????.
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_onescreener">
+?????? ???????????? ??????? 2008: &quot;Industrial Puzzles&quot; ?? Raoul Bourquin
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_c.png"
+       alt="Industrial Puzzles, VI/98" border="0">
+
+Industrial Puzzles, VI/98</p>
+
+<p>&quot;Industrial Puzzles&quot; ?????? ?? ???????????? ??????? ????
+<a href="$$lotm_200810$$">??????? ??????</a>, ??? ???? ????? ??? ?????? ?????.
+?????? ?? ??????????? ??????? ????? ?????? ???????????? ??????? 2008 ?
+? ????? ??????? ?? ???? ????????? ????? ????, 4.18 ??????, Raoul Bourquin
+???????? ??? ????? ? &quot;Plan Ahead&quot; (3.71) ? &quot;What a
+Mess&quot; (3.65).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="best_design">
+?????? ?????????? 2008: &quot;Temple of Gold&quot; ?? Jacob Scott
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_d.png"
+       alt="Temple of Gold, VII/24" border="0">
+
+Temple of Gold, VII/24</p>
+
+<p>&quot;Temple of Gold&quot; Jacob'? Scott'?, <a href="$$lotm_200712$$">??????? ??????? 2007</a>, 
+?????????? ???? ?? ?????? ??????? Enigma, ? ???? ???? ???? ??????????? ? ?????????
+&quot;?????? ??????????&quot;, ??? ?????? ?? ?????? 4.04 ??????. ?????
+?? ??? ???? ??????? ???? 2007 &quot;Island Labyrinth&quot; (3.79) ?
+??? ????????????? &quot;Diving&quot; (3.61).
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<h3><a name="funniest_level">
+????? ???????? ??????? 2008: &quot;What's the Problem?&quot; ?? Sven Siggelkow
+</a></h3>
+
+<div class="lotmpic">
+  <img src="$$imagedir$$/articles/eoya_2008_e.png" alt="What's the Problem?, IV/49" border="0">
+  <div class="imagetitle">What's the Problem?, IV/49</div>
+</div>
+
+<p>&quot;What's the Problem?&quot; Sven'? Siggelkow'?, ???? ?? ????? ????????????
+??????? Enigma, ???????? ????? ?????? ????????? ?????? 2008! ? 3.39 ??????? ??
+?????? &quot;Pac Marble&quot; (3.33) ? ???? &quot;Diving&quot; (3.31).
+?????? ???????, ??? ?? ????????????? ??? ????????!
+</p>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/longline.png" alt="" border="0">
+</p>
+
+<p>? ?????? ????? ?????? ?????????:</p>
+
+<h3><a name="loty">
+??????? ???? 2008: &quot;Houdini&quot; ?? Ronald Lamprecht!
+</a></h3>
+
+<p>
+  <img class="leftimage" src="$$imagedir$$/articles/eoya_2008_f.png"
+       alt="Houdini, VI/74" border="0">
+
+Houdini, VI/74</p>
+
+<p>? ????? 2008-?? ????, ????? ?????? ?????? ?????????? ??????? ? 9 ??????:
+&quot;Houdini&quot;, ??????? ?????? 9.36 ??????, &quot;Island
+Labyrinth&quot; ? &quot;Temple of Gold&quot;, ??????? ????? ??????
+????? ? 9.27 ??????? ? &quot;Quadropolis&quot;, ?????? ????????? ?????????
+???????, ????????? 9.17 ?????? &mdash; ??? ??????, ??????????? &quot;????????&quot;
+(????. Cr&egrave;me de la Cr&egrave;me) Enigma, ? &quot;Houdini&quot;
+??????? ? 2008-? ????? ??????? ?????? ????? ????????? &mdash; ??????,
+??? ?????, Ronald Lamprecht, ?????????? ??????? ?????? ????! Jacob Scott,
+???????? ?? ????? ??????? ??????????? ???? ???????? ?????, ??????? ??? ???
+???? ??????????? ?? ???? ?????????????? ???????????? ?????????:
+</p>
+
+<div class="quote">
+??, &quot;Houdini&quot; &hellip; ? ?????? ????? ???? ???????. ????? ??????
+??????? ????? ??????????? Enigma, ????? ??????? ?????????????????, ??
+????????? ???????????, ????? ??? ???, ????????? ?? ?????? ?????????????????,
+?? ? ???????????? &mdash; ?? ?????? ?? ??????, ?? ? ?? ??????. ?????????
+??????????? ?????, ?? ??????? ???? ??????????? ?????? ?????.
+???????? &quot;Houdini&quot; ????? ????? ????????? ??? ???????????.
+??? ??, ??? ? ????? ?????? ?? ????? ????????????? ????? ?? ????????? ????,
+??????????? ?? ?????? ??????? ?????????????? ???????????? ?? ????? ???????,
+????? ????????? ?????????? ??? ?????? ???????????. ????? ???????, ??????
+??????? ??? ????? ??????, ? ??? ??????, ??? ?????? ?? ???? ?????? ????? ????????????.
+</div>
+
+<div class="quote">
+? ?????, ???? ????????????? ?????, ??????? ???????? ????? ?????????????
+?????? ??????? ?????? Enigma, ??? ????, ??? ????????????? ???????????
+? ??????????????????. ????? ??????????? ?????????????? ? ??????????
+?????? ????, ???? &quot;Island Labyrinth&quot;, ? ????????????
+??????????, ?????????? ? ????????? ??????? ????????????. ?? ??? ???????????
+? ??? ?????? ?????? ????; ?????? ???????????? ???????? ???????????,
+??????? ???? ??????????? ??????? ?????? ?????????? ????????????
+???? ?????????????? ????? ?????????? ??????????. ????? ?? ? ???????,
+????? ???? ??????, ?? ????????????? ????? ????????? ???????? ? ??? ???????
+???????. ???? ??????, ? ??????, ??? ??? ??????????? ??? ??????
+???????, ?????????? ? ???? ????; ?????? ?? ??? ?????????? ??????
+????????? ????????? ????????????, ???? ?????? ???? ?????, ????
+????????? ????????????? ???????????? ?????????, ? ??????????
+????? ??????? ????????, ???????, ?? ?????? ??????, ?????? ?????? ??????,
+????????? ???????????? ????????, ?? ?????? ??? ? ???,  ????? ??????????
+?? ????????? ?????????, ?? ??????? ????? ??????, ??????? ?????????????????.
+? ???? ??????? ??????? ?? ???????????, ? ??????? ????? ?????? ??????????
+??????? ??????????? ???????, ????????? ?? ????? ??????? ????????
+&mdash; ?????? ??????????? ? ??????? ? ????? ??? ??????? ?
+?????????. ???? ??? ? ????????????, ? ????? ??? ?? ????? ?????????? ?
+???????? ???? &mdash; ? ???? ? ???? ??? ????????????.
+</div>
+
+<div class="quote">
+??? ??????? ?? ??????? ???? ???????????? ????????????? ??????, ???????
+?? ???? ????? ?????? ?????? ????????? ???????????? ???????. ???????????
+?? ??? ??????? ???????? ?? ?????-???? ?????????? ????????? ??? ???????,
+??????? ????? ?? ????? ?? ????? &mdash; ? ??????????, ???? ?? ???????? ???? ?
+???????, ??? ????? ??????? ?????????????, ? ????? ???????????
+????????? ?????????????? ?? ?????. ??????? ???? 2008 &mdash; ???? ?? ???????,
+??????????? ??? ???????????? ? ???????????, ??????? ??????? ???
+?????? ??????? ??????? ?????? ???.
+</div>
+
+<div class="author">
+Jacob Scott, ????? ?????? ???? 2007
+</div>
+
+????????, ??? ????????? ?????????? ?????? ? &quot;Houdini&quot; <a
+href="$$lotm_200708$$">?????</a>.
+
+<h3>? ?????????? &hellip;</h3>
+
+<p>????? ??????? ?? ??????????? ???? ?????? ????? ?? ??????? ??????
+?, ??? ? ? ??????? ????, ????? ????? ????????????? ????, ??? ????????
+???? ???????????, ? ???????, ??????? ???????? ??? ?? ?????????? ??????????
+????, ???????
+Ryujun,
+Daydreamer,
+Ronald Lamprecht,
+Manuel K&ouml;nig,
+Tarim,
+Craven,
+Taztunes,
+Shoki,
+Mecke,
+JuSt,
+dev0,
+Moneymaker,
+Mark P.,
+Brynn,
+Dominik Leipold,
+Martin,
+? Xang
+?? ?? ???????????. ????????? ??????? Ludmian Sedai, ??????? ??????? ??????????????
+?????? ? <a href="$$lotm_200807$$">&quot;Gods of Enigma II&quot;</a> ?? moonpearl,
+? ????? Clifford J. Tasner, ???????, ?? ?????? ?? ????????? ??????? ?????
+??????? ???????? ????-??????-????, ?????? ??????? ??????? ????? ? ??? ???,
+????? ????????? ??? ?????????? ? ???????? ???? ???????????. ??????? ???????
+Yurij ? Ludmian, ??????? ???????? ???????? ????? ?????? ???? ???????? ???????? ??
+???????. ?? ?????????? Alain Busser ?? ??? ?????????????? ?????? ?
+<a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a> ? Mecke,
+??????? ???????? ??? ?????? ??? ????? ??????? &quot;???????????!&quot;, ???????
+??, ??????? ??, ????????? ? ???? ????.
+</p>
+
+<p>
+?????? ????????????? ??????????? NObby, ????? ??????????? ?????? ?? ??
+???????? ????; ???? ?? ??? ???? ???????? NObby, ? ????????? ?? ?????? ????
+?????????? ???, ??? ??????? ?????? ?????? ???? ??????! ?? ??? ????????
+??? ???? ???????? ????????????? ?? ??, ??? ?? ????? ????? Andreas'?, ?????
+??? ????????? ????????? ?????? ? ????? 2008-??. NObby, ??? ?? ????????
+????????? ??? ?????? ??????, ???????? ??-??? ?????? ????!
+</p>
+
+<p>
+???????, ?? ?? ????? ?? ????????????? ??????? ?????? ???????????? ???????:
+Raoul Bourquin,
+Sven Siggelkow,
+Ronald Lamprecht,
+Jacob Scott,
+Jon 'WB' Sneyers,
+Moonpearl,
+? Lukas Sch&uuml;ller,
+??? ???? ??????? ?????? ?? ???? ?? ?????? ??????; ???????, ??? ??????????? ????????,
+? ????? ??????? ???? ????????? ??????? ???????! ??? ?????? Daniel Heck:
+</p>
+
+<div class="quote">
+<b>??? ?????? ?????? ??? ??? ????????, ? ?? ?? ?????????? ??????.</b>
+</div>
+
+<p>
+??????? Daniel Heck, Meinolf Schneider ? ???, ??? ?????? ?????????? ???????????
+Enigma, ? ????????? Ronald Lamprecht ? Raoul Bourquin. ??? ????? ???????? ??
+?????, ??? ?? ?????, ??? ???, ? ??? ??? ?? ??????????? ?????? ? ? ???????, ? ??????,
+Enigma ?? ?????? ?? ???????????? ? ?? ????? ?? ???, ??? ??? ???????? ??????.</p>
+
+<div class="lotmpic">
+  <a href="$$imagedir$$/lotm/lotm-history.png">
+  <img src="$$imagedir$$/lotm/lotm-thumbnail.png" alt="$$lotm_history$$" border="0">
+  </a>
+  <div class="imagetitle">
+    <a href="$$imagedir$$/lotm/lotm-history.png">
+    $$lotm_history$$
+    </a>
+  </div>
+</div>
+
+<p>??????? ?????????? ????? ???????????? ?? ?? ?????? ????? ? <a
+href="$$lotm$$">?????? ??</a>, ? ?????? ?????????????? ?????? ???????????
+?? ?????? ????? <a href="$$eoya_2008_statistics$$">?????</a>.</p>
+  
+<p>? ?????????,<br>
+<i>Andreas ? Harry</i></p>
+
+</div>
+

Added: feature_branches/hp_lotm/input/articles/eoya_2008_statistics_ru.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_statistics_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_statistics_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -0,0 +1,329 @@
+
+<h2>??????? ????? ???? 2008 - ?????? ??????????</h2>
+
+<p><a href="$$eoya_2008$$">????????? ? ??????.</a></p>
+
+
+<h3>?????? ??????? ??? ?????????</h3>
+
+<p>?????? ??? ????????? ???????????? ????? ???? ? ???? ? Enigma,
+??? ????????? ??????????? ? ???? ? ???????? ?????? ????????????
+????? ?? ???????. ?? ????????? ?????? ??? ????????? ??????????
+???????????????? ???????, ????? ??????????? ???? ????????? ??
+?????? ?????? ??????? ??? ?????????.</p>
+
+<p>?? ?????? ?????? ??????? ?????? ?? 1 ?? 5 ?????, 5 - ?????????
+??????. ???????????? ???????? "-", ???? ?? ?? ??????? ? ???????
+??? ?? ?????? ??? ?????????.</p>
+
+<p>????? 30 ??????? ? 34 ??????.</p>
+
+<table border=1>
+<tr><th align=right>?????</th><th align=right>??????</th>
+<th align=right><b>? ???????</b></th>
+<th align=left></th></tr>
+<tr><td align=right>104</td><td align=right>27</td><td align=right>3.852</td><td align=left>Mountain Climbing (VII/22) {joe10_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>17</td><td align=right>3.588</td><td align=left>Cold Meditation (VII/21) {ral18_1}</td></tr>
+
+<tr><td align=right>96</td><td align=right>27</td><td align=right>3.556</td><td align=left>Meditation Puzzle (IV/20) {duffy01_1}
+</td></tr>
+<tr><td align=right>84</td><td align=right>25</td><td align=right>3.360</td><td align=left>V/20 (V/20) {ralf12_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>26</td><td align=right>3.077</td><td align=left>Shrinking Pits (V/10) {duffy23_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>24</td><td align=right>3.000</td><td align=left>Group Trip to Meditation (VI/90) {duffy136_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>24</td><td align=right>2.958</td><td align=left>Space Meditation (II/40) {duffy59_1}
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Catwalk Meditation V/ (V/80) {ral05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>26</td><td align=right>2.731</td><td align=left>IV/30 (IV/30) {ant23_1}
+
+</td></tr>
+<tr><td align=right>70</td><td align=right>26</td><td align=right>2.692</td><td align=left>Hot Meditation VI/ (VI/50) {ral08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>26</td><td align=right>2.654</td><td align=left>Snow White (III/40) {ant15_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>26</td><td align=right>2.615</td><td align=left>Bad Flowers (III/60) {nat30_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>?????? ???????? ???????</h3>
+
+<p>??????, ????????, ?????????????? ????? ????? &mdash; ??? ???? ?? ???????
+???????? ???????? Enigma. ??????, ????? ???????? ????? ?????????? ??????
+??????, ??? ??????? ????? ??????? ?? ?????? ???? ?? ????????? ? ?????????????.
+?? ? ???? ???? ?? ????? ?????? ??????? ??????? ? ????? ????? ????!</p>
+
+<p>????? 30 ??????? ? 25 ??????.</p>
+
+<table border=1>
+<tr><th align=right>?????</th><th align=right>??????</th>
+<th align=right><b>? ???????</b></th>
+<th align=left></th></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+
+</td></tr>
+<tr><td align=right>73</td><td align=right>21</td><td align=right>3.476</td><td align=left>Phaeton (VI/35) {andreas39_1}
+</td></tr>
+<tr><td align=right>61</td><td align=right>18</td><td align=right>3.389</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>79</td><td align=right>24</td><td align=right>3.292</td><td align=left>Rush Hour Traffic (III/44) {duffy62_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>21</td><td align=right>3.286</td><td align=left>Revolver (VI/71) {ral16_1}
+
+</td></tr>
+<tr><td align=right>63</td><td align=right>20</td><td align=right>3.150</td><td align=left>Caribbean Waters (VII/4) {duffy139_1}
+</td></tr>
+<tr><td align=right>78</td><td align=right>25</td><td align=right>3.120</td><td align=left>Mourning Palace (IV/38) {ant08_1}
+</td></tr>
+<tr><td align=right>68</td><td align=right>23</td><td align=right>2.957</td><td align=left>Think Fast (III/88) {duffy85_2}</td></tr>
+<tr><td align=right>73</td><td align=right>26</td><td align=right>2.808</td><td align=left>Unfair! (III/99) {ant33_1}
+
+</td></tr>
+<tr><td align=right>74</td><td align=right>27</td><td align=right>2.741</td><td align=left>Snakes (I/5) {duffy19_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>23</td><td align=right>2.739</td><td align=left>Humid Maze (V/43) {duffy133_2}
+</td></tr>
+<tr><td align=right>64</td><td align=right>24</td><td align=right>2.667</td><td align=left>Run Like Hell (IV/57) {ralf09_1}
+</td></tr>
+<tr><td align=right>58</td><td align=right>22</td><td align=right>2.636</td><td align=left>Black Diamond Course (III/41) {duffy28_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>Comet (VII/3) {duffy147_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>?????? ???????????? ???????</h3>
+
+<p>???????, ???????????? ????? ????? ???????, ???????? ??????
+????? ??????? ??????. ??????, ? ???? ????????? ????? ????????,
+????????? ?????.</p>
+
+<p>????? 29 ??????? ? 26 ??????.</p>
+
+<table border=1>
+
+<tr><th align=right>?????</th><th align=right>??????</th>
+<th align=right><b>? ???????</b></th>
+<th align=left></th></tr>
+<tr><td align=right>92</td><td align=right>22</td><td align=right>4.182</td><td align=left>Industrial Puzzles (VI/98) {raoul30_2}
+</td></tr>
+<tr><td align=right>89</td><td align=right>24</td><td align=right>3.708</td><td align=left>Plan Ahead (V/21) {duffy114_2}
+</td></tr>
+<tr><td align=right>95</td><td align=right>26</td><td align=right>3.654</td><td align=left>What a Mess (IV/58) {duffy68_2}
+
+</td></tr>
+<tr><td align=right>90</td><td align=right>25</td><td align=right>3.600</td><td align=left>Procrustes (VI/36) {andreas34_1}
+</td></tr>
+<tr><td align=right>86</td><td align=right>24</td><td align=right>3.583</td><td align=left>Laser Path (V/4) {andreas06_1}</td></tr>
+<tr><td align=right>71</td><td align=right>20</td><td align=right>3.550</td><td align=left>Protected Exhibition (VII/16) {duffy156_1}
+</td></tr>
+<tr><td align=right>76</td><td align=right>22</td><td align=right>3.455</td><td align=left>Tandem Chess (VI/86) {luc34_1}
+
+</td></tr>
+<tr><td align=right>72</td><td align=right>22</td><td align=right>3.273</td><td align=left>Laser Splitting (VI/6) {luc29_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>19</td><td align=right>3.263</td><td align=left>Red Herrings (VI/14) {andy01_3}
+</td></tr>
+<tr><td align=right>70</td><td align=right>23</td><td align=right>3.043</td><td align=left>Laser Tricks (III/55) {duffy84_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>19</td><td align=right>2.947</td><td align=left>Polar Bears' Paradise (VI/99) {ral19_1}
+
+</td></tr>
+<tr><td align=right>55</td><td align=right>21</td><td align=right>2.619</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>57</td><td align=right>22</td><td align=right>2.591</td><td align=left>Magic Trinity (VI/81) {duffy146_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>?????? ??????????</h3>
+
+<p>??????? ????? ????????? ?? ?????? ????????????? ? ?????????????,
+??, ??????, ? ???????? ????? ?????, ????????????? ? ???????????????.</p>
+
+<p>????? 30 ??????? ? 25 ??????.</p>
+
+<table border=1>
+<tr><th align=right>?????</th><th align=right>??????</th>
+<th align=right><b>? ???????</b></th>
+<th align=left></th></tr>
+<tr><td align=right>93</td><td align=right>23</td><td align=right>4.043</td><td align=left>Temple of Gold (VII/24) {duffy151_3}
+</td></tr>
+<tr><td align=right>91</td><td align=right>24</td><td align=right>3.792</td><td align=left>Island Labyrinth (V/100) {duffy129_1}
+
+</td></tr>
+<tr><td align=right>101</td><td align=right>28</td><td align=right>3.607</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>93</td><td align=right>26</td><td align=right>3.577</td><td align=left>Gods of Enigma II (V/69) {mp02_1}
+</td></tr>
+<tr><td align=right>85</td><td align=right>24</td><td align=right>3.542</td><td align=left>Elaborate (V/65) {duffy126_1}
+</td></tr>
+<tr><td align=right>82</td><td align=right>24</td><td align=right>3.417</td><td align=left>Turnstiles for Two (VI/77) {ral17_2}</td></tr>
+
+<tr><td align=right>93</td><td align=right>28</td><td align=right>3.321</td><td align=left>Flood Gates (IV/17) {nat08_1}
+</td></tr>
+<tr><td align=right>69</td><td align=right>22</td><td align=right>3.136</td><td align=left>A Cooler Spot In Hell (VI/66) {andreas43_2}
+</td></tr>
+<tr><td align=right>73</td><td align=right>25</td><td align=right>2.920</td><td align=left>Solar System (II/39) {duffy98_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>22</td><td align=right>2.864</td><td align=left>Temple of Ganesha (VII/8) {duffy154_1}
+
+</td></tr>
+<tr><td align=right>66</td><td align=right>25</td><td align=right>2.640</td><td align=left>Laserpowered (VI/41) {raoul20_1}
+</td></tr>
+<tr><td align=right>63</td><td align=right>25</td><td align=right>2.520</td><td align=left>Bright Dots (III/38) {raoul09_1}
+</td></tr>
+<tr><td align=right>56</td><td align=right>26</td><td align=right>2.154</td><td align=left>Sleeping Serpent (IV/59) {raoul10_1}
+</td></tr>
+<tr><td align=right>47</td><td align=right>23</td><td align=right>2.043</td><td align=left>be quick or be dead (VI/54) {illmind12_1}
+
+</td></tr>
+</table>
+
+<hr>
+
+<h3>????? ???????? ??????? (6/7)</h3>
+
+<p>????????? ?????? ?????????? ????? ????????????, ???????? ??? ???????????
+??????? ?????????, ??? ????????? ??????, ??????? ? ????????????? ??????????
+? ???? Enigma.</p>
+
+<p>????? 30 ??????? ? 24 ??????.</p>
+
+<table border=1>
+<tr><th align=right>?????</th><th align=right>??????</th>
+<th align=right><b>? ???????</b></th>
+
+<th align=left></th></tr>
+<tr><td align=right>88</td><td align=right>26</td><td align=right>3.385</td><td align=left>What's the Problem? (IV/49) {ss14_1}
+</td></tr>
+<tr><td align=right>80</td><td align=right>24</td><td align=right>3.333</td><td align=left>Pac Marble (VI/5) {andreas22_1}
+</td></tr>
+<tr><td align=right>96</td><td align=right>29</td><td align=right>3.310</td><td align=left>Diving (VII/2) {joona13_1}
+</td></tr>
+<tr><td align=right>75</td><td align=right>25</td><td align=right>3.000</td><td align=left>Coloured Doors (III/8) {luc03_1}</td></tr>
+
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Oxyd Drilling (VI/92) {duffy140_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>22</td><td align=right>2.909</td><td align=left>Pontoon bridges (VI/82) {duffy137_1}
+</td></tr>
+<tr><td align=right>66</td><td align=right>23</td><td align=right>2.870</td><td align=left>The Turtle (III/45) {ant05_1}
+</td></tr>
+<tr><td align=right>71</td><td align=right>25</td><td align=right>2.840</td><td align=left>Enigris (V/92) {ralf04_1}
+
+</td></tr>
+<tr><td align=right>65</td><td align=right>23</td><td align=right>2.826</td><td align=left>Tarzan (VI/56) {ulf03_1}
+</td></tr>
+<tr><td align=right>64</td><td align=right>23</td><td align=right>2.783</td><td align=left>The Flagstone Reaper (IV/64) {andreas09_1}
+</td></tr>
+<tr><td align=right>62</td><td align=right>23</td><td align=right>2.696</td><td align=left>Help Yourself (V/79) {duffy113_1}
+</td></tr>
+<tr><td align=right>55</td><td align=right>23</td><td align=right>2.391</td><td align=left>Antimaze (IV/7) {luc02_2}
+
+</td></tr>
+<tr><td align=right>56</td><td align=right>24</td><td align=right>2.333</td><td align=left>Kaleidoscope (II/22) {duffy118_1}
+</td></tr>
+<tr><td align=right>48</td><td align=right>22</td><td align=right>2.182</td><td align=left>Confetti (I/78) {duffy74_1}
+</td></tr>
+</table>
+
+<hr>
+
+<h3>??????????? ??????</h3>
+
+<ul>
+<li>??????????: 130</li>
+<li>????????: 153</li>
+<li>???????: 10</li>
+<li><b>?????: 293</b></li></ul>
+
+<h3>?????????? ?? ?????</h3>
+
+<p>
+??????? ????? ? ????, ??? ??? ??????? (? ??????? ?? ???? ??????????)
+? ???? ?? ????????? ????????? ???????????? ???????. ??????? &quot;?????? X&quot;
+???????? ?????????? ?????????????, ?????????? ?? ?????-???? ?? ??????
+???????? ??????????? ? ??????????????? ??????.</p>
+
+<table border=1>
+<tr><th align=right><b>????</b></th><th align=right><b>??????</b></th><th align=right>?????? 1</th><th align=right>?????? 9</th></tr>
+<tr><td align=right>2008-12-01</td><td align=right>28</td>
+<td align=right>5</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-02</td><td align=right>99</td>
+<td align=right>20</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-03</td><td align=right>16</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-04</td><td align=right>40</td>
+
+<td align=right>8</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-05</td><td align=right>20</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-06</td><td align=right>16</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-07</td><td align=right>10</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-08</td><td align=right>27</td>
+<td align=right>4</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-09</td><td align=right>1</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-11</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-12</td><td align=right>17</td>
+<td align=right>3</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-14</td><td align=right>1</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-16</td><td align=right>5</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-17</td><td align=right>5</td>
+
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-18</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-19</td><td align=right>6</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+
+<tr><td align=right>2008-12-20</td><td align=right>11</td>
+<td align=right>2</td>
+<td align=right>0</td></tr>
+<tr><td align=right>2008-12-21</td><td align=right>2</td>
+<td align=right>1</td>
+<td align=right>0</td></tr>
+<tr><td align=right><b>?????</b></td><td align=right>326</td>
+
+<td align=right>64</td>
+<td align=right>0</td></tr>
+</table>
+
+<p><a href="$$eoya_2008$$">????????? ? ??????.</a></p>
+

Modified: feature_branches/hp_lotm/input/faq_core_ru.html
===================================================================
--- feature_branches/hp_lotm/input/faq_core_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/faq_core_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -102,14 +102,14 @@
 ?? ?????? ??? ????????? ??? ?????????? ??????, ??? ? ??????????
 ????????????? ?? ???????? ?????? ? ????????????? (??????? &quot;???? ????????&quot;).</p>
 <p>
-If you are using GNOME, you can run this in a terminal window:
+???? ?? ??????????? GNOME, ?? ?? ?????? ????????? ? ???? ????????? ????????? ???????:
 <pre>
 gnome-screensaver-command --inhibit
 </pre>
-(it will not quit&mdash;just leave it running!) Then run Enigma. When you're done
-with Enigma, press Ctrl+C on the &quot;inhibit&quot; command, and your screen
-saver should be working again. Closing the terminal window should also stop the
-&quot;inhibit&quot; command.
+(??? ?? ?????????? &mdash; ????? ?????????? ????????!) ????? ????????? Enigma. ????? ?????????
+?????? ? Enigma, ??????? Ctrl+C ? ???? ? ???????? &quot;inhibit&quot;, ? ??? ????????? ??????
+????????? ???? ??????. ??????? &quot;inhibit&quot; ?????? ??????????? ? ????? ????, ??? ??
+???????? ???? ?????????.
 </p>
 
 

Modified: feature_branches/hp_lotm/input/infobox_ru.html
===================================================================
--- feature_branches/hp_lotm/input/infobox_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/infobox_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -8,7 +8,7 @@
          <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
          alt="????? ????? ???? ??????? ?????" border="0"></a>
          <div class="imagetitle">
-           ?????? ?????? 2008 ???????, ? ??????? ???? 2008 ????????? - ??????? ??? ??????? ??????? <a href="$$eoya_2008$$">?????</a>!
+           ?????? ?????? 2008 ???????, ? ??????? ???? 2008 ????????? - ???????, ??? ??????? ??????? <a href="$$eoya_2008$$">?????</a>!
          </div>
          
          <h3>??????? ??????</h3>
@@ -42,7 +42,7 @@
 	 ?????????????, ??????? ?? ?????? ???????, ?????? ?????? ??????? ?? 
 	 ?????????. ????? ???????, ???????? PAR ?????? ????? ????? ?????????????. 
 	 ??? ???????? ??????, ???????? HCP ?????????? ?? ????????? ???????? ??? 
-	 ??????????? ?????????????, ? ??? ?? ?????? ????????? ?? ????????
+	 ??????????? ?????????????, ? ??? ?? ?????? ????????? ?? ????????
 	 <a href="$$statistics$$">??????????</a>.
 
          <h3>??????</h3>

Modified: feature_branches/hp_lotm/input/lotm/lotm_core_ru.html
===================================================================
--- feature_branches/hp_lotm/input/lotm/lotm_core_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/lotm/lotm_core_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -7,9 +7,9 @@
   ?????? ? ???????????? ? ????? ??????? ??????.</p>
 
   <p>????? ??????????? ?????? ??????. ? ?????? ???? ??????? ???????? ???????? ?????????????,
-  ????? ? ??????? ?? ??? - ?????????? ?????????????, ????????? ???? ???????.</p>
+  ????? ? ??????? ?? ??? &mdash; ?????????? ?????????????, ????????? ???? ???????.</p>
 
-  <p>?????? ?? <b>$$lotm_archive_data_from$$</b>, ??????????? ?? $$kind_of_order$$:</p>
+  <p>?????? ?? <b>$$lotm_archive_data_from$$</b>, ??????????? $$kind_of_order$$:</p>
 
   <table>
     <colgroup>
@@ -31,7 +31,7 @@
 
   <p>?? ?????? ????? ?????? ? <b>???????? ????? ???? 2007</b>
   <a href="$$eoya_2007$$">?????</a>,
-  <b>2008</b> <a href="$$eoya_2008$$">?????</a>.</p>
+  <b>2008</b> &mdash; <a href="$$eoya_2008$$">?????</a>.</p>
   
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: feature_branches/hp_lotm/input/support_ru.html
===================================================================
--- feature_branches/hp_lotm/input/support_ru.html	2009-01-18 15:48:15 UTC (rev 1465)
+++ feature_branches/hp_lotm/input/support_ru.html	2009-01-19 19:38:50 UTC (rev 1466)
@@ -151,8 +151,7 @@
 <h3><a class="arrowup" href="$$support$$"><img src="$$imagedir$$/nav_up.gif" alt="Up" border="0" title="back to top"></a>
   <a name="donation">??????</a></h3>
 
-  <p>??? ?????? ????????, ????? ???????????? ????? ??????????? ?????????? ?????????? ????????
-  Enigma. ????????????? ????? ?????, ???????????? ?? ??????? 'Enigma' ? ????????, ???????
-  ??? ???????? Enigma. ???? ?? ????????, ??? ??? ???????? ????, ????????
-  ??? ????????? ?? <a href="mailto:donation at enigma-game.org" >donation at enigma-game.org</a>
-  ? ?? ????? ??? ???? ?????????????, ??????????????? ??? Enigma.</p>
+  <p>?? ?????? ?? ?????, ?? ?????? ?? ?????? ??????????? ?????????? ?????????? ?????????? Enigma. ???? ?? ?? ????????????
+  ???? ????????? ????? ??? ?????, ??????? ?? ?????? ???? ?? ????????? ?? Enigma ? ????????, ??? ??????? ?? ??? ????????
+  ????. ???? ?? ????????, ??? ??? ???? ?? ???????????, ???????? ??? ?? <a href="mailto:donation at enigma-game.org" >donation at enigma-game.org</a>,
+  ? ?? ??????? ???? ??? ?????????????.</p>



From ral at mail.berlios.de  Mon Jan 19 22:23:42 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 19 Jan 2009 22:23:42 +0100
Subject: [Enigma-game-svn] r1467 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/stones
Message-ID: <200901192123.n0JLNgkf007906@sheep.berlios.de>

Author: ral
Date: 2009-01-19 22:23:40 +0100 (Mon, 19 Jan 2009)
New Revision: 1467

Added:
   trunk/data/gfx32/st_flat-break.png
   trunk/data/gfx32/st_flat.png
   trunk/data/gfx32/st_flat_cracked.png
   trunk/data/gfx32/st_flat_falling.png
   trunk/data/gfx32/st_flat_fire.png
   trunk/data/gfx40/st_flat-break.png
   trunk/data/gfx40/st_flat.png
   trunk/data/gfx40/st_flat_cracked.png
   trunk/data/gfx40/st_flat_falling.png
   trunk/data/gfx40/st_flat_fire.png
   trunk/data/gfx48/st_flat-break.png
   trunk/data/gfx48/st_flat.png
   trunk/data/gfx48/st_flat_cracked.png
   trunk/data/gfx48/st_flat_falling.png
   trunk/data/gfx48/st_flat_fire.png
   trunk/src/stones/FlatStone.cc
   trunk/src/stones/FlatStone.hh
Removed:
   trunk/data/gfx32/st-firebreak.png
   trunk/data/gfx32/st-rock3-break.png
   trunk/data/gfx32/st-rock3-falling.png
   trunk/data/gfx32/st-rock3.png
   trunk/data/gfx32/st-rock3_cracked.png
   trunk/data/gfx40/st-firebreak.png
   trunk/data/gfx40/st-rock3-break.png
   trunk/data/gfx40/st-rock3-falling.png
   trunk/data/gfx40/st-rock3.png
   trunk/data/gfx40/st-rock3_cracked.png
   trunk/data/gfx48/st-firebreak.png
   trunk/data/gfx48/st-rock3-break.png
   trunk/data/gfx48/st-rock3-falling.png
   trunk/data/gfx48/st-rock3.png
   trunk/data/gfx48/st-rock3_cracked.png
Modified:
   trunk/data/api1init.lua
   trunk/data/gfx40/st-yinyang1.png
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones/GlassStones.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- fix glass stones: actors stuck beneath hollow stones
- fix swamp heat transformation - missing renaming
- reengineering st-plain:
  - st-plain -> st_flat
  - st-plain_hole -> st_flat_hollow
  - st-plain_move -> st_flat_movable
  - st-plain_break -> st_flat_breakable
  - st-plain_cracked -> st_flat_cracked
  - st-firebreak -> st_flat_burnable
  - st-firebreak ->st_flat_moveburnable
  - unify in a single class
  - preserve identity on transformations
  - hollow flat stone gets invisible on glasses


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/data/api1init.lua	2009-01-19 21:23:40 UTC (rev 1467)
@@ -278,6 +278,13 @@
     st_fake_oxydc = "st-likeoxydc",
     st_fake_oxydd = "st-likeoxydd",
     st_flash = "st-flash",
+    st_flat = "st-plain",
+    st_flat_breakable = "st-plain_break",
+    st_flat_hollow = "st-plain_hole",
+    st_flat_movable = "st-plain_move",
+    st_flat_cracked = "st-plain_cracked",
+    st_flat_burnable = "st-firebreak",
+    st_flat_moveburnable = "st-firebreak_move",
     st_floppy = "st-floppy",
     st_fourswitch = "st-fourswitch",
     st_granite = "st-rock1",

Deleted: trunk/data/gfx32/st-firebreak.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock3-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock3-falling.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock3.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock3_cracked.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_flat-break.png (from rev 1465, trunk/data/gfx32/st-rock3-break.png)

Copied: trunk/data/gfx32/st_flat.png (from rev 1465, trunk/data/gfx32/st-rock3.png)

Copied: trunk/data/gfx32/st_flat_cracked.png (from rev 1465, trunk/data/gfx32/st-rock3_cracked.png)

Added: trunk/data/gfx32/st_flat_falling.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/st_flat_falling.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx32/st_flat_fire.png (from rev 1465, trunk/data/gfx32/st-firebreak.png)

Deleted: trunk/data/gfx40/st-firebreak.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock3-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock3-falling.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock3.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock3_cracked.png
===================================================================
(Binary files differ)

Modified: trunk/data/gfx40/st-yinyang1.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_flat-break.png (from rev 1465, trunk/data/gfx40/st-rock3-break.png)

Copied: trunk/data/gfx40/st_flat.png (from rev 1465, trunk/data/gfx40/st-rock3.png)

Copied: trunk/data/gfx40/st_flat_cracked.png (from rev 1465, trunk/data/gfx40/st-rock3_cracked.png)

Added: trunk/data/gfx40/st_flat_falling.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx40/st_flat_falling.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx40/st_flat_fire.png (from rev 1465, trunk/data/gfx40/st-firebreak.png)

Deleted: trunk/data/gfx48/st-firebreak.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock3-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock3-falling.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock3.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock3_cracked.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_flat-break.png (from rev 1465, trunk/data/gfx48/st-rock3-break.png)

Copied: trunk/data/gfx48/st_flat.png (from rev 1465, trunk/data/gfx48/st-rock3.png)

Copied: trunk/data/gfx48/st_flat_cracked.png (from rev 1465, trunk/data/gfx48/st-rock3_cracked.png)

Added: trunk/data/gfx48/st_flat_falling.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx48/st_flat_falling.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx48/st_flat_fire.png (from rev 1465, trunk/data/gfx48/st-firebreak.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/data/models-2d.lua	2009-01-19 21:23:40 UTC (rev 1467)
@@ -756,7 +756,7 @@
     DefStone("st-dummy")
     DefImage("st-easymode")
     DefStone("st-flhay")
-    DefStone("st-firebreak")
+    DefStone("st_flat_fire")
     DefStone("st-floppy0", "sh-round", {filename="st-floppy1"})
     DefStone("st-floppy1", "sh-round", {filename="st-floppy2"})
     DefStone("st-flrock")
@@ -776,8 +776,8 @@
     DefStone("st_granite", "sh-round")
     DefStone("st_darkgray")
     DefStone("st_plaster")
-    DefStone("st-rock3")
-    DefStone("st-rock3_cracked")
+    DefStone("st_flat")
+    DefStone("st_flat_cracked")
     DefStone("st_purplemarble")
     DefStone("st_tigris")
     DefStone("st_purplegray")
@@ -1101,19 +1101,17 @@
     for i=32,63  do DefShModel("st_puzzle"..i, "st_puzzlex"..i, "sh-puzzle1") end
 end
 
--- st-rock3-break --
+-- st_flat-break --
 do
-    local images = DefSubimages("st-rock3-break", {h=6})
-    DefAnim("rock3_break-anim",BuildFrames(images,50))
-    DefSolidStone("st-rock3_break-anim", "rock3_break-anim")
-    DefAlias("st-rock3_movebreak", "st-rock3")
-    DefAlias("st_plaster_breaking", "st-rock3_break-anim")
+    local images = DefSubimages("st_flat-break", {h=6})
+    DefAnim("flat_break-anim",BuildFrames(images,50))
+    DefSolidStone("st_flat_breaking", "flat_break-anim")
 end
 
 -- st-rock3-falling --
 do
-    local images = DefSubimages("st-rock3-falling", {h=4})
-    DefAnim("st-rock3-falling", BuildFrames(images, 100))
+    local images = DefSubimages("st_flat_falling", {h=4})
+    DefAnim("st_flat_falling", BuildFrames(images, 100))
 end
 
 -- st-rotator --
@@ -1586,7 +1584,7 @@
 -- st-door_b --
 do
     DefAlias("st-door_b-open", "invisible")
-    DefAlias("st-door_b-closed", "st-rock3")
+    DefAlias("st-door_b-closed", "st_flat")
     local img=DefSubimages("st-doorb", {modelname="doorb", h=8})
     local f = BuildFrames(img,60)
     DefAnim("st-door_b-opening", f)
@@ -1596,7 +1594,7 @@
 -- st-door_c --
 do
     DefAlias("st-door_c-open", "st-grate2")
-    DefAlias("st-door_c-closed", "st-rock3")
+    DefAlias("st-door_c-closed", "st_flat")
     frames=BuildFrames({"st-door_c-closed","st-door_c-open"},60)
     DefAnim("st-door_c-opening", frames)
     DefAnim("st-door_c-closing", ReverseFrames(frames))
@@ -1747,22 +1745,11 @@
 -- Simple stone aliases --
 --------------------------
 do
-    DefAlias("st-breaking", "st-rock3_break-anim")
+    DefAlias("st-breaking", "st_flat_breaking")
     DefAlias("st-explosion", "expl")
-    DefAlias("st-firebreak_move", "st-firebreak")
     DefAlias("st-glass_move", "st-glass");
-    DefAlias("st-laserbreak", "st-rock3")
-    DefAlias("st-laserbreak-anim", "st-rock3_break-anim")
-    DefAlias("st-plain", "st-rock3")
-    DefAlias("st-plain_break", "st-rock3")
-    DefAlias("st-plain_breaking", "st-rock3_break-anim")
-    DefAlias("st-plain_cracked", "st-rock3_cracked")
-    DefAlias("st-plain_falling", "st-rock3-falling")
-    DefAlias("st-plain_hole", "st-rock3")
-    DefAlias("st-plain_move", "st-rock3")
-    DefAlias("st-rock3_hole", "st-rock3")
-    DefAlias("st-rock3_move", "st-rock3")
-    DefAlias("st-rock3_break", "st-rock3")
+    DefAlias("st-laserbreak", "st_flat")
+    DefAlias("st-laserbreak-anim", "st_flat_breaking")
     DefAlias("st-yinyang3", "st-yinyang1")
 end
 

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/data/schemas/objects.xml	2009-01-19 21:23:40 UTC (rev 1467)
@@ -333,7 +333,7 @@
     <object name="fl_swamp">
       <attr name="friction" default="13.0"/>
       <attr name="adhesion" default="1.0"/>
-      <attr name="$heattransform" default="fl-dunes"/>
+      <attr name="$heattransform" default="fl_dunes"/>
     </object>
     <object name="fl_water" super="fl_floodstream">
       <attr name="friction" default="5.0"/>
@@ -977,6 +977,35 @@
       <attr name="hit_distortion_yx"/>
       <attr name="hit_distortion_yy"/>
     </object>
+    <object name="st_flat">
+      <attr name="hollow" rw="r"/>
+      <attr name="breakable" rw="r"/>
+      <attr name="burnable" rw="r"/>
+    </object>
+    <object name="st_flat_hollow">
+      <attr name="hollow" value="true"/>
+    </object>
+    <object name="st_flat_movable">
+      <attr name="movable" value="true"/>
+      <attr name="breakable" value="false"/>
+      <attr name="burnable" value="false"/>
+    </object>
+    <object name="st_flat_breakable">
+      <attr name="breakable" value="true"/>
+      <attr name="movable" value="false"/>
+    </object>
+    <object name="st_flat_breaking" init="true"/>
+    <object name="st_flat_cracked">
+      <attr name="state" value="1"/>
+    </object>
+    <object name="st_flat_burnable">
+      <attr name="burnable" value="true"/>
+      <attr name="movable" value="false"/>
+    </object>
+    <object name="st_flat_moveburnable">
+      <attr name="movable" value="true"/>
+      <attr name="burnable" value="true"/>
+    </object>
     <object name="st_floppy">
       <msg name="on"/>
       <msg name="off"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/Makefile.am	2009-01-19 21:23:40 UTC (rev 1467)
@@ -284,6 +284,8 @@
 	stones/Door.hh		\
 	stones/FakeStone.cc	\
 	stones/FakeStone.hh	\
+	stones/FlatStone.cc	\
+	stones/FlatStone.hh	\
 	stones/BoxStone.cc	\
 	stones/BoxStone.hh	\
 	stones/FloppySwitch.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/ox_extra.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -134,7 +134,7 @@
     0, 0, 0, 0, 0, 0, 0, 0,     // oxyd stones
     0, 0, 0, 0, 0, 0, 0, 0,     // oxyd stones
     "st_fake_quake",     // OxydExtra stone 0x11
-    "st-plain",          // OxydExtra stone 0x12
+    "st_flat",           // OxydExtra stone 0x12
     "st_purplemarble",   // OxydExtra stone 0x13
     UNUSED,              // OxydExtra stone 0x14
     "st_tigris",         // OxydExtra stone 0x15
@@ -152,9 +152,9 @@
     "st_greengray",      // OxydExtra stone 0x21
     "st_lightglass",     // OxydExtra stone 0x22
     UNUSED,              // OxydExtra stone 0x23
-    "st-plain_break",    // OxydExtra stone 0x24
-    "st-plain_hole",     // OxydExtra stone 0x25
-    "st-plain_move",     // OxydExtra stone 0x26
+    "st_flat_breakable", // OxydExtra stone 0x24
+    "st_flat_hollow",    // OxydExtra stone 0x25
+    "st_flat_movable",   // OxydExtra stone 0x26
     "st_box_wood",       // OxydExtra stone 0x27
     "st_switch_instant", // OxydExtra stone 0x28
     UNUSED,              // OxydExtra stone 0x29

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/ox_magnum.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -133,8 +133,8 @@
     0,                          // OxydMagnum stone 0x00
     0,0,0,0,0,0,0,0,            // 0x01 -- 0x08  Oxyd stones
     0,0,0,0,0,0,0,0,            // 0x09 -- 0x10  Oxyd stones
-    "st_fake_oxydd",             // OxydMagnum stone 0x11
-    "st-plain",                 // OxydMagnum stone 0x12
+    "st_fake_oxydd",            // OxydMagnum stone 0x11
+    "st_flat",                  // OxydMagnum stone 0x12
     "st_brick_es",              // OxydMagnum stone 0x13
     "st_brick_sw",              // OxydMagnum stone 0x14
     "st_brick_ne",              // OxydMagnum stone 0x15
@@ -156,9 +156,9 @@
     "st_lightglass",            // OxydMagnum stone 0x25
     "st_redfiber",              // OxydMagnum stone 0x26
     "st_lightglass",            // OxydMagnum stone 0x27
-    "st-plain_break",           // OxydMagnum stone 0x28
-    "st-plain_hole",            // OxydMagnum stone 0x29
-    "st-plain_move",            // OxydMagnum stone 0x2a
+    "st_flat_breakable",        // OxydMagnum stone 0x28
+    "st_flat_hollow",           // OxydMagnum stone 0x29
+    "st_flat_movable",          // OxydMagnum stone 0x2a
     "st_box_wood",              // OxydMagnum stone 0x2b
     "st_switch_instant",        // OxydMagnum stone 0x2c
     "st_floppy",                // OxydMagnum stone 0x2d (in normal Oxyd Magnum Levels unused!)
@@ -215,7 +215,7 @@
     "st_puzzle_yellow_e",       // Oxyd1 stone 0x60
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
     "st_metal_hollow",          // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
-    "st-plain_break",           // OxydMagnum stone 0x63
+    "st_flat_breakable",        // OxydMagnum stone 0x63
     "st-fakeoxyda",             // OxydMagnum stone 0x64
     UNUSED,                     // OxydMagnum stone 0x65
     UNUSED,                     // OxydMagnum stone 0x66

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/ox_oxyd1.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -171,7 +171,7 @@
     "st_brick_sw",              // Oxyd1 stone 0x14
     "st_brick_ne"  ,            // Oxyd1 stone 0x15
     "st_brick_nw",              // Oxyd1 stone 0x16
-    "st-plain_hole",            // Oxyd1 stone 0x17
+    "st_flat_hollow",           // Oxyd1 stone 0x17
     "st-oxyd-0x18",             // Oxyd1 stone 0x18
     "st_door_c_open",           // Oxyd1 stone 0x19
     "st-grate1",                // Oxyd1 stone 0x1a
@@ -188,9 +188,9 @@
     "st_lightglass",            // Oxyd1 stone 0x25
     "st_redfiber",              // Oxyd1 stone 0x26
     "st_darkglass",             // Oxyd1 stone 0x27
-    "st-plain_break",           // Oxyd1 stone 0x28 [see Level#12]
-    "st-plain_hole",            // Oxyd1 stone 0x29
-    "st-plain_move",            // Oxyd1 stone 0x2a
+    "st_flat_breakable",        // Oxyd1 stone 0x28 [see Level#12]
+    "st_flat_hollow",           // Oxyd1 stone 0x29
+    "st_flat_movable",          // Oxyd1 stone 0x2a
     "st_box_wood",              // Oxyd1 stone 0x2b
     "st_switch_instant",        // Oxyd1 stone 0x2c
     "st_switch_black_instant",  // Oxyd1 stone 0x2d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/ox_peroxyd.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -206,7 +206,7 @@
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x01 - 0x08   oxyd stones
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x08 - 0x10   oxyd stones
     "st_fake_oxydc",            // PerOxyd stone 0x11
-    "st-plain_break",           // PerOxyd stone 0x12   no, should be destructible with hammer
+    "st_flat_breakable",        // PerOxyd stone 0x12   no, should be destructible with hammer
     "st_purplemarble",          // PerOxyd stone 0x13
     "st_beads",                 // PerOxyd stone 0x14
     "st_tigris",                // PerOxyd stone 0x15
@@ -224,9 +224,9 @@
     "st_greenbrown",            // PerOxyd stone 0x21
     "st_rawglass",              // PerOxyd stone 0x22 (semi opaque piece, not really glass)
     "st_rawglass",              // PerOxyd stone 0x23 (must be st-glass, see link level 92)
-    "st-plain_break",           // PerOxyd stone 0x24
+    "st_flat_breakable",        // PerOxyd stone 0x24
     "st_bluegray_hollow",       // PerOxyd stone 0x25
-    "st-plain_move",            // PerOxyd stone 0x26
+    "st_flat_movable",          // PerOxyd stone 0x26
     "st_box_wood",              // PerOxyd stone 0x27
     "st_switch_instant",        // PerOxyd stone 0x28
     "st_switch_black_instant",  // PerOxyd stone 0x29

Added: trunk/src/stones/FlatStone.cc
===================================================================
--- trunk/src/stones/FlatStone.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones/FlatStone.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -0,0 +1,219 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/FlatStone.hh"
+#include "client.hh"
+#include "Inventory.hh"
+#include "items/GlassesItem.hh"
+#include "player.hh"
+//#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    FlatStone::FlatStone(bool hollow, bool movable, bool breakable, bool cracked, bool burnable, bool breaking) {
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable)
+            objFlags |= OBJBIT_MOVABLE;
+        if (breakable)
+            objFlags |= OBJBIT_BREAKABLE;
+        if (burnable)
+            objFlags |= OBJBIT_BURNABLE;
+        if (cracked)
+            state = CRACKED;
+        if (breaking)
+            state = BREAKING;
+    }
+    
+    std::string FlatStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value FlatStone::getAttr(const std::string &key) const {
+        if (key == "movable") {
+            return (bool)(objFlags & OBJBIT_MOVABLE);
+        } else if (key == "hollow") {
+            return (bool)(objFlags & OBJBIT_HOLLOW);
+        } else if (key == "breakable") {
+            return (bool)(objFlags & OBJBIT_BREAKABLE);
+        } else if (key == "burnable") {
+            return (bool)(objFlags & OBJBIT_BURNABLE);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value FlatStone::message(const Message &m) {
+        if (m.message == "_glasses") {
+            if ((to_int(m.value) & Glasses::HOLLOW) && !(objFlags & OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags & OBJBIT_GLASSES) {
+                objFlags &= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        } else if (((objFlags & (OBJBIT_BREAKABLE | OBJBIT_MOVABLE)) || state == CRACKED) && 
+                (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone")) {
+            doBreak();
+            return Value();
+        } else if ((m.message == "_trigger" || m.message == "signal") && state == IDLE) {
+            if (!(objFlags & (OBJBIT_BREAKABLE | OBJBIT_MOVABLE | OBJBIT_HOLLOW | OBJBIT_BURNABLE))) {
+                objFlags |= OBJBIT_HOLLOW;
+            } else if (objFlags & OBJBIT_HOLLOW) {
+                objFlags &= ~OBJBIT_HOLLOW;                
+            }
+            if (isDisplayable())
+                init_model();
+            return Value();
+        } else if (m.message == "fire" && (objFlags & OBJBIT_BURNABLE)) {
+            doBreak();
+            return true;
+        } else if (m.message == "heat" && (objFlags & OBJBIT_BURNABLE) && !(objFlags & OBJBIT_MOVABLE)) {
+            doBreak();
+            return true;
+        }
+        return Stone::message(m);
+    }
+   
+    void FlatStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void FlatStone::init_model() {
+        if ((objFlags & OBJBIT_GLASSES) && (objFlags & OBJBIT_HOLLOW))
+            set_model("invisible");
+        else if (state == BREAKING)
+            set_anim("st_flat_breaking");
+        else if (state == FALLING)
+            set_anim("st_flat_falling");
+        else if (state == CRACKED)
+            set_anim("st_flat_cracked");
+        else if (objFlags & OBJBIT_BURNABLE)
+            set_model("st_flat_fire");
+        else
+            set_model("st_flat");
+    }
+    
+    void FlatStone::processLight(Direction d) {
+        if (state == IDLE && (objFlags & OBJBIT_BREAKABLE))
+            doBreak();
+        else if (state == IDLE && !(objFlags & (OBJBIT_BREAKABLE | OBJBIT_MOVABLE | OBJBIT_HOLLOW | OBJBIT_BURNABLE))) {
+            state = CRACKED;
+            init_model();
+        } else
+            Stone::processLight(d);
+    }
+    
+    void FlatStone::animcb() {
+        if (state == FALLING)
+            sound_event("stonedestroy");
+        KillStone(get_pos());
+    }
+    
+    bool FlatStone::is_floating() const {
+        return objFlags & OBJBIT_HOLLOW;
+    }
+    
+    void FlatStone::on_floor_change() {
+        if ((state == IDLE) && (objFlags & (OBJBIT_BREAKABLE | OBJBIT_MOVABLE))) {
+            GridPos p = get_pos();
+            if (Floor *fl = GetFloor(p)) {
+                if (fl->isKind("fl_abyss")) {
+                    state == FALLING;
+                    init_model();
+                }
+                else if ((objFlags & OBJBIT_MOVABLE) && ((fl->is_kind("fl_swamp") || fl->is_kind("fl_water")))) {
+                    sound_event("drown");
+                    client::Msg_Sparkle(p.center());
+                    KillStone(p);
+                }
+            }
+        }
+    }
+
+    StoneResponse FlatStone::collision_response(const StoneContact &sc) {
+        if (objFlags & OBJBIT_HOLLOW)
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *FlatStone::collision_sound() {
+        if (state == BREAKING || state == CRACKED || (objFlags & OBJBIT_BREAKABLE))
+            return "metal";
+        else
+            return "stone";
+    }
+    
+    void FlatStone::actor_hit(const StoneContact &sc) {
+        if (((objFlags & OBJBIT_BREAKABLE) || state == CRACKED) && player::WieldedItemIs(sc.actor, "it_hammer"))
+            doBreak();
+        else if ((state == IDLE && !(objFlags & (OBJBIT_BREAKABLE | OBJBIT_HOLLOW))) &&
+                (player::WieldedItemIs(sc.actor, "it-pencil"))) {
+            enigma::Inventory *inv = player::GetInventory(sc.actor);
+            if (inv && inv->size() > 0) {
+                delete inv->yield_item(0);
+                player::RedrawInventory(inv);
+                sound_event("stonepaint");
+                objFlags |= OBJBIT_BURNABLE;
+                init_model();
+            }
+        } else if (state == IDLE && (objFlags & OBJBIT_BURNABLE) &&
+                player::WieldedItemIs(sc.actor, "it_brush")) {
+            sound_event("stonepaint");
+            objFlags &= ~OBJBIT_BURNABLE;
+            init_model();
+        } else
+            Stone::actor_hit(sc);
+    }
+    
+    void FlatStone::doBreak() {
+        if (state <= CRACKED) {
+            state = BREAKING;
+            sound_event("stonedestroy");
+            if (isDisplayable())
+                init_model();
+        }
+    }
+        
+    int FlatStone::traitsIdx() const {
+        return (((objFlags & OBJBIT_BREAKABLE)|| state == CRACKED) ? 1 : 0) + ((objFlags & OBJBIT_MOVABLE) ? 2 : 0);
+    }
+    
+    StoneTraits FlatStone::traits[4] = {
+        {"st_flat", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_flat", st_standard, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_flat", st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {"st_flat", st_standard, stf_none, material_stone, 1.0, MOVABLE_IRREGULAR},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new FlatStone(false, false), "st_flat");
+        BootRegister(new FlatStone(true, false),  "st_flat_hollow");
+        BootRegister(new FlatStone(false, true),  "st_flat_movable");
+        BootRegister(new FlatStone(false, false, true), "st_flat_breakable");
+        BootRegister(new FlatStone(false, false, false, true), "st_flat_cracked");
+        BootRegister(new FlatStone(false, false, false, false, true), "st_flat_burnable");
+        BootRegister(new FlatStone(false, true, false, false, true), "st_flat_moveburnable");
+        BootRegister(new FlatStone(false, false, true, false, false, true), "st_flat_breaking");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/FlatStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/FlatStone.hh
===================================================================
--- trunk/src/stones/FlatStone.hh	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones/FlatStone.hh	2009-01-19 21:23:40 UTC (rev 1467)
@@ -0,0 +1,82 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef FLATSTONE_HH
+#define FLATSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class FlatStone : public Stone {
+        CLONEOBJ(FlatStone);
+        DECL_TRAITS_ARRAY(4, traitsIdx());
+    private:
+        enum iState {
+            IDLE,         ///< 
+            CRACKED,      ///< 
+            BREAKING,     ///< 
+            FALLING       ///< 
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE   =   1<<24,    ///<  
+            OBJBIT_HOLLOW    =   1<<25,    ///< 
+            OBJBIT_GLASSES   =   1<<26,    ///< invisible due to glasses
+            OBJBIT_BREAKABLE =   1<<27,    ///< breakable
+            OBJBIT_BURNABLE  =   1<<28     ///< fire breakable
+        };
+        
+    public:
+        FlatStone(bool hollow, bool movable, bool breakable = false, bool cracked = false,
+                bool burnable = false, bool breaking = false);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void processLight(Direction d);   // direction of laserbeam
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual void on_floor_change();
+        virtual StoneResponse collision_response(const StoneContact &sc);
+        virtual const char *collision_sound();
+        virtual void actor_hit(const StoneContact &sc);
+
+    private:
+        void doBreak();
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/FlatStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones/GlassStones.cc
===================================================================
--- trunk/src/stones/GlassStones.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones/GlassStones.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -84,7 +84,7 @@
     }
     
     bool GlassStone::is_sticky(const Actor *a) const {
-        return !a->is_invisible();
+        return !is_floating() && !a->is_invisible();
     }
     
     bool GlassStone::is_transparent(Direction d) const {

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -39,7 +39,14 @@
     GridObject::on_creation(p);
 }
 
+void Stone::transform(std::string kind) {
+    Stone *newStone = MakeStone(kind.c_str());
+    transferIdentity(newStone);          // subclasses may hook this call
+    SetStone(get_pos(), newStone);
+}
 
+
+
 /*! Determine whether the actor hitting the stone can move stone
   and return either the direction the stone should move or NODIR. */
 Direction get_push_direction (const StoneContact &sc) 
@@ -419,8 +426,8 @@
                 "st-magic",
                 "st_knight",
                 "st-thief",
-                "st-plain_break",
-                "st-plain_breaking"
+                "st_flat_breakable",
+                "st_flat_breaking"
             };
             int idx = enigma::IntegerRand (1, 9) - 1;
             sound_event ("stonetransform");
@@ -499,230 +506,6 @@
     DEF_TRAITSM(BugStone, "st-bug", st_bug, MOVABLE_BREAKABLE);
 }
 
-
-/* -------------------- Plain stones -------------------- */
-
-/* These stones mimic the behaviour of the plain-looking stones in
-   Oxyd. */
-namespace
-{
-    class PlainStone : public Stone {
-        CLONEOBJ(PlainStone);
-        DECL_TRAITS;
-
-        void processLight(Direction d) {
-            ReplaceStone (get_pos(), MakeStone("st-plain_cracked"));
-        }
-
-        const char *collision_sound() {return "stone";}
-
-        virtual Value message(const Message &m) {
-            if (m.message == "_trigger" || m.message == "signal") {
-                ReplaceStone(get_pos(), MakeStone("st-plain_hole"));
-                return Value();
-            }
-            return Stone::message(m);
-        }
-        void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it-pencil")) {
-                enigma::Inventory *inv = player::GetInventory(sc.actor);
-                if (inv && inv->size() > 0) {
-                    delete inv->yield_item(0);
-                    player::RedrawInventory(inv);
-                    sound_event("stonepaint");
-                    ReplaceStone(get_pos(), MakeStone("st-firebreak"));
-                }
-            } else
-                Stone::actor_hit(sc);
-        }
-    public:
-        PlainStone()
-        {}
-    private:
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_PERSISTENT; }
-    };
-    DEF_TRAITSM(PlainStone, "st-plain", st_plain, MOVABLE_BREAKABLE);
-    
-    class PlainStone_Hollow : public Stone {
-        CLONEOBJ(PlainStone_Hollow);
-        DECL_TRAITS;
-
-        virtual Value message(const Message &m) {
-            if (m.message == "_trigger" || m.message == "signal") {
-                ReplaceStone(get_pos(), MakeStone("st-plain"));
-                return Value();
-            }
-            return Stone::message(m);
-        }
-
-        StoneResponse collision_response(const StoneContact &) 
-        { return STONE_PASS; }
-
-        bool is_floating() const { return true; }
-    public:
-        PlainStone_Hollow()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Hollow, "st-plain_hole", st_plain_hole, MOVABLE_PERSISTENT);
-
-    class PlainStone_Breaking : public Stone {
-        CLONEOBJ(PlainStone_Breaking);
-        DECL_TRAITS;
-
-        void init_model() {
-            set_anim("st-plain_breaking");
-        }
-        void animcb() {
-            KillStone(get_pos());
-        }
-        const char *collision_sound() {return "metal";}
-    public:
-        PlainStone_Breaking()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Breaking, "st-plain_breaking", st_plain_breaking,
-                MOVABLE_BREAKABLE);
-    
-    class PlainStone_Breakable : public Stone {
-        CLONEOBJ(PlainStone_Breakable);
-        DECL_TRAITS;
-
-        const char *collision_sound() {return "metal";}
-
-        void break_me() {
-            sound_event ("stonedestroy");
-            ReplaceStone(get_pos(), MakeStone ("st-plain_breaking"));
-        }
-        void processLight(Direction d) {
-            break_me();
-        }
-        virtual Value message(const Message &m) {
-            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
-                break_me();
-                return Value();
-            }
-            return Stone::message(m);
-        }
-        void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it_hammer")) {
-                break_me();
-            }
-        }
-
-        void on_floor_change() {
-            if (Floor *fl = GetFloor (get_pos()))
-                if (fl->is_kind("fl_abyss"))
-                    ReplaceStone (get_pos(), MakeStone("st-plain_falling"));
-        }
-
-    public:
-        PlainStone_Breakable()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Breakable, "st-plain_break", st_plain_break,
-                MOVABLE_BREAKABLE);
-    
-    class PlainStone_Cracked : public Stone {
-        CLONEOBJ(PlainStone_Cracked);
-        DECL_TRAITS;
-
-        void break_me() {
-            sound_event ("stonedestroy");
-            ReplaceStone(get_pos(), MakeStone("st-plain_breaking"));
-        }
-
-        void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it_hammer")) {
-                break_me();
-            }
-        }
-
-        virtual Value message(const Message &m) {
-            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
-                break_me();
-                return Value();
-            }
-            return Stone::message(m);
-        }
-        const char *collision_sound() {return "metal";}
-    public:
-        PlainStone_Cracked()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Cracked, "st-plain_cracked", st_plain_cracked,
-                MOVABLE_BREAKABLE);
-    
-    class PlainStone_Falling : public Stone {
-        CLONEOBJ(PlainStone_Falling);
-        DECL_TRAITS;
-
-        void init_model() {
-            set_anim("st-plain_falling");
-        }
-
-        void animcb() {
-            sound_event ("stonedestroy");
-            KillStone(get_pos());
-        }
-    public:
-        PlainStone_Falling()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Falling, "st-plain_falling", st_plain_falling,
-                MOVABLE_BREAKABLE);
-
-    class PlainStone_Movable : public Stone {
-        CLONEOBJ(PlainStone_Movable);
-        DECL_TRAITS;
-
-        void break_me() {
-            sound_event ("stonedestroy");
-            ReplaceStone(get_pos(), MakeStone ("st-plain_breaking"));
-        }
-        virtual Value message(const Message &m) {
-            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
-                break_me();
-                return Value();
-            }
-            return Stone::message(m);
-        }
-        void on_floor_change() {
-//            Stone::on_move();
-            GridPos p = get_pos();
-            if (Floor *fl = GetFloor (p)) {
-                if (fl->is_kind("fl_abyss")) {
-                    ReplaceStone (p, MakeStone("st-plain_falling"));
-                }
-                else if (fl->is_kind("fl_swamp") || fl->is_kind("fl_water")) {
-                    sound_event ("drown");
-                    client::Msg_Sparkle (p.center());
-                    KillStone (p);
-                }
-            }
-        }
-
-        void actor_hit (const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it-pencil")) {
-                enigma::Inventory *inv = player::GetInventory(sc.actor);
-                if (inv && inv->size() > 0) {
-                    delete inv->yield_item(0);
-                    player::RedrawInventory(inv);
-                    sound_event("stonepaint");
-                    ReplaceStone(get_pos(), MakeStone("st-firebreak_move"));
-                }
-            } else
-                Stone::actor_hit(sc);
-        }
-
-    public:
-        PlainStone_Movable()
-        {}
-    };
-    DEF_TRAITSM(PlainStone_Movable, "st-plain_move", st_plain_move,
-                MOVABLE_STANDARD);
-}
-
-
 /* -------------------- Black- and Whiteballs Stones -------------------- */
 
 namespace
@@ -846,13 +629,6 @@
     Register (new FakeOxydA);
     Register (new BreakingStone);
     Register (new BugStone);
-    Register (new PlainStone);
-    Register (new PlainStone_Hollow);
-    Register (new PlainStone_Breakable);
-    Register (new PlainStone_Breaking);
-    Register (new PlainStone_Cracked);
-    Register (new PlainStone_Movable);
-    Register (new PlainStone_Falling);
 
     // Init stones from stones_simple.cc and stones_complex.cc:
     Init_simple();

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones.hh	2009-01-19 21:23:40 UTC (rev 1467)
@@ -238,6 +238,7 @@
         bool move_stone(GridPos newPos, const char *soundevent);
         bool move_stone(Direction dir);
         ecl::V2 distortedVelocity (ecl::V2 vel, double defaultfactor);
+        void transform(std::string kind);
         
         // Cluster support
         void autoJoinCluster();

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-19 19:38:50 UTC (rev 1466)
+++ trunk/src/stones_simple.cc	2009-01-19 21:23:40 UTC (rev 1467)
@@ -1100,95 +1100,7 @@
     DEF_TRAITSM(MagicStone, "st-magic", st_magic, MOVABLE_BREAKABLE);
 }
 
-/* -------------------- Fire breakable stones -------------------- */
 
-/* These stones mimic the behaviour of the plain-looking stones in
-   Oxyd. */
-namespace
-{
-    class Stone_firebreak : public Stone {
-        CLONEOBJ(Stone_firebreak);
-        DECL_TRAITS;
-
-        const char *collision_sound() {return "stone";}
-
-        void break_me() {
-            sound_event("stonedestroy");
-            ReplaceStone(get_pos(), MakeStone("st-plain_breaking"));
-        }
-
-        virtual Value message(const Message &m) {
-            if (m.message =="heat" || m.message == "fire") {
-                break_me();
-                return true;
-            }
-            return Stone::message(m);
-        }
-
-        void actor_hit(const StoneContact &sc) {
-            if (player::WieldedItemIs(sc.actor, "it_brush")) {
-                sound_event("stonepaint");
-                ReplaceStone(get_pos(), MakeStone("st-plain"));
-            } else
-                Stone::actor_hit(sc);
-        }
-
-    public:
-        Stone_firebreak()
-        {}
-    };
-    DEF_TRAITSM(Stone_firebreak, "st-firebreak", st_firebreak, MOVABLE_BREAKABLE);
-
-    class Stone_movefirebreak : public Stone {
-        CLONEOBJ(Stone_movefirebreak);
-        DECL_TRAITS;
-
-        void break_me() {
-            sound_event("stonedestroy");
-            ReplaceStone(get_pos(), MakeStone("st-plain_breaking"));
-        }
-
-        virtual Value message(const Message &m) {
-            if (m.message =="fire") {
-                break_me();
-                return Value();
-            }
-            return Stone::message(m);
-        }
-
-        void actor_hit(const StoneContact &sc) {
-            if (player::WieldedItemIs(sc.actor, "it_brush")) {
-                sound_event("stonepaint");
-                ReplaceStone(get_pos(), MakeStone("st-plain_move"));
-            } else
-                Stone::actor_hit(sc);
-        }
-
-        void on_floor_change() {
-            GridPos p = get_pos();
-            if (Floor *fl = GetFloor (p)) {
-                if (fl->is_kind("fl_abyss")) {
-                    ReplaceStone (p, MakeStone("st-plain_falling"));
-                }
-                else if (fl->is_kind("fl_swamp") || fl->is_kind("fl_water")) {
-                    sound_event ("drown");
-                    client::Msg_Sparkle (p.center());
-                    KillStone (p);
-                }
-            }
-        }
-
-    public:
-        Stone_movefirebreak() : Stone("st-firebreak") { }
-        
-    private:
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_NO_STONE; }        
-    };
-    DEF_TRAITSM(Stone_movefirebreak, "st-firebreak_move", st_firebreak_move,
-                MOVABLE_IRREGULAR);
-}
-
-
 /* -------------------- Functions -------------------- */
 
 void DefineSimpleStone(const std::string &kind, 
@@ -1230,7 +1142,6 @@
     Register(new LaserBreakable);
     Register(new MagicStone);
     Register(new Stone_break("st-stone_break"));
-    Register(new Stone_break("st-rock3_break"));
     Register(new Stone_break("st-break_gray"));
     Register(new Stone_movebreak);
     Register(new Stonebrush);
@@ -1239,9 +1150,6 @@
     Register(new YinYangStone1);
     Register(new YinYangStone2);
     Register(new YinYangStone3);
-
-    Register(new Stone_firebreak);
-    Register(new Stone_movefirebreak);
 }
 
 } // namespace enigma



From andreasl at mail.berlios.de  Tue Jan 20 00:50:49 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 20 Jan 2009 00:50:49 +0100
Subject: [Enigma-game-svn] r1468 - feature_branches/hp_lotm/input/articles
Message-ID: <200901192350.n0JNonJP011894@sheep.berlios.de>

Author: andreasl
Date: 2009-01-20 00:50:36 +0100 (Tue, 20 Jan 2009)
New Revision: 1468

Modified:
   feature_branches/hp_lotm/input/articles/eoya_2008.html
   feature_branches/hp_lotm/input/articles/eoya_2008_de.html
   feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
Log:
LotM Feature branch:
 - EoYA 2008:
    - Some typos
    - Removed one paragraph (in compliance with request)
    - Validation
Todo:
 - Will soon merge branch to homepage.
 - Then upload.


Modified: feature_branches/hp_lotm/input/articles/eoya_2008.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-19 21:23:40 UTC (rev 1467)
+++ feature_branches/hp_lotm/input/articles/eoya_2008.html	2009-01-19 23:50:36 UTC (rev 1468)
@@ -236,8 +236,10 @@
 Jacob Scott, Level Author of the Year 2007
 </div>
 
+<p>
 You may want to reread the article about &quot;Houdini&quot; <a
 href="$$lotm_200708$$">here</a>.
+</p>
 
 <h3>Coming to the end &hellip;</h3>
 
@@ -263,7 +265,7 @@
 and Xang
 for their comments. Particular thanks go to Ludmian Sedai, who wrote the
 fantastic article about moonpearl's <a href="$$lotm_200807$$">&quot;Gods of
-Enigma II&quot;</a>; as well as to Clifford J. Tasner, who, although busy with
+Enigma II&quot;</a>, to NObby for one article or the other ;-) ; as well as to Clifford J. Tasner, who, although busy with
 the by far more important elections for You-Know-Whom, always found some time
 for us, to proofread our English, and to provide us with comments. Large
 thank-yous go to Yurij and Ludmian, who translated the immense load of articles
@@ -274,15 +276,6 @@
 </p>
 
 <p>
-A very special thank-you deserves NObby, the author of the majority of 2008's
-LotM articles; five of them were written by NObby, and it's his
-indisputable merit, that the Level-of-the-Month column survived at all! We all
-owe to him our highest respect to step into the breach, when Andreas
-stopped writing articles in March '08. NObby, we all hope to read more articles
-from your feather!
-</p>
-
-<p>
 Of course we want to thank the authors of the nine excellent levels as well:
 Raoul Bourquin,
 Sven Siggelkow,
@@ -323,7 +316,7 @@
 you can find <a href="$$eoya_2008_statistics$$">here</a>.</p>
   
 <p>Cheers,<br>
-<i>Andreas &amp; Harry</i></p>
+<i>Andreas, Harry, &amp; NObby</i></p>
 
 </div>
 

Modified: feature_branches/hp_lotm/input/articles/eoya_2008_de.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-19 21:23:40 UTC (rev 1467)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_de.html	2009-01-19 23:50:36 UTC (rev 1468)
@@ -5,7 +5,7 @@
 
 <h2>Jahresendauszeichnungen 2008</h2>
 
-<p>Im Verlauf des letzten Monats, hatten wir unsere werten Leser gebeten, &uuml;ber
+<p>Im Verlauf des letzten Monats hatten wir unsere werten Leser gebeten, &uuml;ber
 die besten Levels abzustimmen, die Enigma zu bieten hat. Wir w&auml;hlten drei
 Kategorien aus, die bereits aus den Jahresendauszeichnungen 2007 bekannt waren,
 und f&uuml;gten ein Paar komplement&auml;rer Kategorien f&uuml;r dieses Jahr hinzu: Die erste
@@ -30,7 +30,7 @@
 
 <p>Wir gaben Ihnen die M&ouml;glichkeit, uns Kommentare und Bemerkungen am Ende der
 Umfrage zu hinterlassen, und wir waren sehr gl&uuml;cklich, Ihre anspornenden Gr&uuml;&szlig;e
-zu erhalten, wir brauchen diese Art von Feedback wirklich, und so wollen wir
+zu erhalten. Wir brauchen diese Art von Feedback wirklich, und so wollen wir
 einen Auszug dieser Kommentare hier zitieren (einige &uuml;bersetzt):</p>
 
 <ul>
@@ -72,8 +72,8 @@
 
 <p>Nachdem er bereits zum <a href="$$eoya_2007$$#funniest_level">Lustigsten
 Level 2007</a> gew&auml;hlt wurde, hat &quot;Mountain Climbing&quot;, Joseph Dunnes
-ausgew&ouml;hnlich einzigartige Sch&ouml;pfung eine weitere Ehrung eingesammelt: Er wurde
-zur Besten Meditation 2008 gew&auml;hlt, mit 3,85 von 5 m&ouml;glichen Punkten weit vor
+aussergew&ouml;hnlich einzigartige Sch&ouml;pfung eine weitere Ehrung eingesammelt: Er wurde
+zur besten Meditation 2008 gew&auml;hlt, mit 3,85 von 5 m&ouml;glichen Punkten weit vor
 &quot;Cold Meditation&quot; (3,59) und &quot;Meditation Puzzle&quot; (3,56).
 </p>
 
@@ -96,7 +96,7 @@
 gewonnen h&auml;tte, wenn es um Gesamtpunktzahl ginge und nicht durchschnittliche
 Punktzahl), und er wurde bereits 2007 beinahe zum Lustigsten Level gew&auml;hlt! Ich
 pers&ouml;nlich bin sehr gl&uuml;cklich dar&uuml;ber, dass dieser au&szlig;ergew&ouml;hnliche Level es
-schlie&szlig;lich zum Besten Action-Level 2008 gebracht hat, da Joona Laire den Preis
+schlie&szlig;lich zum besten Action-Level 2008 gebracht hat, da Joona Laire den Preis
 mehr als verdient hat, mit 3,61 Punkten vor &quot;Phaeton&quot; (3,48) und
 &quot;A Cooler Spot in Hell&quot; (3,39).
 </p>
@@ -116,10 +116,10 @@
 Industrial Puzzles, VI/98</p>
 
 <p>&quot;Industrial Puzzles&quot; war der erste Onescreener &uuml;berhaupt, der es
-zum <a href="$$lotm_200810$$">Level des Monats</a> gebracht hat, dies liegt
-zwei Monate zur&uuml;ck. Nun hat er konsequenterweise die Auszeichnungen zum Besten
-Onescreener 2008 erreicht, und dazu noch mit der &uuml;berhaupt h&ouml;chsten Wertung
-w&auml;hrend dieser Jahresendauszeichnungswahlen, mit 4,18 Punkten steckt Raoul
+zum <a href="$$lotm_200810$$">Level des Monats</a> gebracht hat. Dies liegt
+zwei Monate zur&uuml;ck. Nun hat er konsequenterweise die Auszeichnungen zum besten
+Onescreener 2008 erreicht und dazu noch mit der &uuml;berhaupt h&ouml;chsten Wertung
+w&auml;hrend dieser Jahresendauszeichnungswahlen: Mit 4,18 Punkten steckt Raoul
 Bourquin sein Revier gegen&uuml;ber &quot;Plan Ahead&quot; (3,71) und &quot;What a
 Mess&quot; (3,65) ab.
 </p>
@@ -139,10 +139,10 @@
 Temple of Gold, VII/24</p>
 
 <p>Jacob Scotts &quot;Temple of Gold&quot;, <a href="$$lotm_200712$$">Level des
-Monats Dezember 2007</a>, ist unzweifelhaft einer der besten Levels in Enigma,
-ist der diesj&auml;hrige Preistr&auml;ger in der Kategorie &quot;Bestes Design&quot; und
-hat f&uuml;r diesen Sieg volle 4,04 Punkte eingesammelt. Er wird gefolgt vom Level
-des Jahres 2007 &quot;Island Labyrinth&quot; (3,79), und dem bereits erw&auml;hnten
+Monats Dezember 2007</a>, ist unzweifelhaft einer der besten Levels in Enigma 
+und der diesj&auml;hrige Preistr&auml;ger in der Kategorie &quot;Bestes Design&quot;. 
+F&uuml;r diesen Sieg hat er volle 4,04 Punkte eingesammelt. Er wird gefolgt vom Level
+des Jahres 2007 &quot;Island Labyrinth&quot; (3,79) und dem bereits erw&auml;hnten
 &quot;Diving&quot; (3,61).
 </p>
 
@@ -160,7 +160,7 @@
 </div>
 
 <p>Sven Siggelkows &quot;What's the Problem?&quot;, einer der &uuml;berraschendsten
-Levels in Enigma, wird hiermit in den Rang des Lustigsten Levels 2008 gehoben!
+Levels in Enigma, wird hiermit in den Rang des lustigsten Levels 2008 gehoben!
 Mit 3,39 Punkten &uuml;berlistet er &quot;Pac Marble&quot; (3,33) und sogar
 &quot;Diving&quot; (3,31). Der Spieler sagt: Das ist definitiv verdient!
 </p>
@@ -183,16 +183,16 @@
 
 <p>Zum Jahresende 2008 konnten nur vier Levels die magische
 9-Wertungspunkte-Linie &uuml;berwinden: &quot;Houdini&quot;, das mit 9,36 Punkten
-abschlo&szlig;,  &quot;Island Labyrinth&quot; und &quot;Temple of Gold&quot;,
+abschloss,  &quot;Island Labyrinth&quot; und &quot;Temple of Gold&quot;,
 die sich  mit 9,27 Punkten den zweiten Platz teilen, und
 &quot;Quadropolis&quot;, die  erste Gemeinschaftsproduktion mehrerer Autoren
 (CEL I), mit einer Wertung von 9,17 &mdash;  das ist die Cr&egrave;me de la
-Cr&egrave;me von Enigmas herausragenden Leveln,  und von diesen vieren, werte
+Cr&egrave;me von Enigmas herausragenden Leveln. Von diesen Vieren, werte
 Leser, ist von Ihnen als bester Level des Jahres 2008 &quot;Houdini&quot;
-gek&uuml;rt worden, und somit ist der Levelautor des Jahres 2008 Ronald
+gek&uuml;rt worden. Somit ist der Levelautor des Jahres 2008 Ronald
 Lamprecht. Jacob Scott, der den hei&szlig; begehrten Titel im vergangenen Jahr
-erobern konnte, hat sich gl&uuml;cklicherweise bereit erkl&auml;rt die Laudatio
-auf das phantastische St&uuml;ck an Schaffenskunst seines Nachfolgers zu halten:
+erobern konnte, hat sich gl&uuml;cklicherweise bereit erkl&auml;rt, die Laudatio
+auf das fantastische St&uuml;ck an Schaffenskunst seines Nachfolgers zu halten:
 </p>
 
 <div class="quote">
@@ -203,12 +203,12 @@
 f&uuml;r die L&ouml;sung, sondern ebenso vom Autor w&auml;hrend der Entwicklung.
 Dadurch, dass es f&uuml;r den Spieler nicht offensichtlich ist, was er denn genau 
 wann, wo und wie zu tun hat, wird eine Spielatmosph&auml;re ganz besonderer Art erzeugt.
-Der Name &quot;Houdini&quot; beschreibt das Puzzle vortefflich. Genauso 
+Der Name &quot;Houdini&quot; beschreibt das Puzzle vortrefflich. Genauso 
 wie in den Tricks von Houdini, bei denen er sich nacheinander von zahlreichen
 unterschiedlichen Fesseln und Hemmnissen befreien muss, findet sich der Spieler
-w&auml;hrend der gesammenten Erkundundungsreise durch den Level &mdash; kaum dass es ihm gelungen
+w&auml;hrend der gesamten Erkundundungsreise durch den Level &mdash; kaum dass es ihm gelungen
 ist, sich aus einer Unp&auml;sslichkeit zu befreien &mdash; immer wieder vor neue Hindernisse 
-gestellt. Und dies bewirkt, dass der Level vom Anfang bis zum Ende eine best&auml;ndige
+gestellt. Dies bewirkt, dass der Level vom Anfang bis zum Ende eine best&auml;ndige
 Herausforderung darstellt &mdash; und somit auch ein H&ouml;chstma&szlig; an
 Spielfreude bereitet.
 </div>
@@ -220,13 +220,13 @@
 Dies war ganz sicherlich zutreffend f&uuml;r den letzten Level des Jahres, 
 mein &quot;Island Labyrinth&quot;, wo lange gr&auml;serne Korridore zu verschiedenen
 kleineren Puzzles hinf&uuml;hren. Aber ganz genauso trifft dies auch auf den 
-diesj&auml;hrigen Level des Jahres zu; Anstelle der Erforschung einer weit 
+diesj&auml;hrigen Level des Jahres zu. Anstelle der Erforschung einer weit 
 ausgedehnten Landschaft, erfordert die L&ouml;sung dieses Puzzles wirklich 
 die Erforschung aller Wechselwirkungen zwischen den vorhandenen Objekten. 
 Der Level mag nicht allzu gro&szlig; sein, nur zwei Screens, aber die 
 potentielle Anzahl an verschiedenen L&ouml;sungsans&auml;tzen ist gewaltig. In der 
 Tat glaube ich, dass dies auf viele der siegreichen Levels dieses Jahr 
-zutrifft; Jeder einzelne pr&auml;sentiert dem Spieler eine Vielzahl 
+zutrifft; jeder einzelne pr&auml;sentiert dem Spieler eine Vielzahl 
 verschiedener Optionen, sei es den L&ouml;sungsweg betreffend oder die 
 Anwendung bestimmter Elemente, und bietet eine komplexe Aufgabe, die sich
 ganz offensichtlich allein mit den vorhandenen Objekten nicht l&ouml;sen l&auml;sst,
@@ -245,9 +245,9 @@
 Die diesj&auml;hrige Auszeichnung f&uuml;r den &quot;Level des Jahres&quot; geht an einen
 gro&szlig;artigen Levelautoren, der im Verlauf der letzten Jahre viele 
 Landschaften von au&szlig;ergew&ouml;hnlicher Qualit&auml;t geschaffen hat. Die meisten 
-seiner Level beruhen auf einem einzigartigem Konzept oder Schema, das 
+seiner Level beruhen auf einem einzigartigen Konzept oder Schema, das 
 bisher noch nirgendwo anders zu sehen war &mdash; als Ergebnis davon 
-erscheinen sie zun&auml;chst beinahe unl&ouml;sbar zu sein bis man schlie&szlig;lich 
+erscheinen sie zun&auml;chst beinahe unl&ouml;sbar zu sein, bis man schlie&szlig;lich 
 den Schl&uuml;ssel zur L&ouml;sung gefunden hat, die sich dann in all ihrer 
 Eleganz vor dem Spieler entfaltet. Der Level des Jahres 2008 ist einer
 von den Leveln, durch die ein Geist von Erforschung und Neuerung weht, 
@@ -259,15 +259,17 @@
 Jacob Scott, Levelautor des Jahres 2007
 </div> 
 
+<p>
 Vielleicht m&ouml;chten Sie den Artikel &uuml;ber &quot;Houdini&quot; noch einmal lesen,
 Sie finden ihn <a href="$$lotm_200708$$">hier</a>.
+</p>
 
 <h3>Wir kommen zum Ende &hellip;</h3>
 
 <p>Mit diesen Worten beschlie&szlig;en wir unsere zweite Level-des-Monats-Serie, und
 gerade so wie letztes Jahr, ist es f&uuml;r uns an der Zeit, uns bei all den
 Kommentatoren und Autoren zu bedanken, die uns durch das letzte Jahr hindurch
-unterst&uuml;tzt haben, unser Dank geht an
+unterst&uuml;tzt haben. Unser Dank geht an
 Ryujun,
 Daydreamer,
 Ronald Lamprecht,
@@ -287,7 +289,7 @@
 und Xang
 f&uuml;r ihre Kommentare. Besonderer Dank geht an Ludmian Sedai, der den
 fantastischen Artikel &uuml;ber moonpearl's <a href="$$lotm_200807$$">&quot;Gods of
-Enigma II&quot;</a> verfasst hat; ebenso wie an Clifford J. Tasner, der, obwohl
+Enigma II&quot;</a> verfasst hat, an NObby f&uuml;r den ein oder anderen Artikel ;-) ; ebenso wie an Clifford J. Tasner, der, obwohl
 besch&auml;ftigt mit den immens wichtigen Wahlen zum Du-Wei&szlig;t-Schon-Wen, stets etwas
 Zeit f&uuml;r uns gefunden hat, unser Englisch testzulesen und uns mit Kommentaren
 zu versorgen. Ganz gro&szlig;er Dank geht an Yurij und Ludmian, die die immense Menge
@@ -298,24 +300,15 @@
 &ndash; die nat&uuml;rlich dieses Jahr fortsetzen werden.</p>
 
 <p>
-Ein besonderes Danke-Sch&ouml;n gilt NObby, dem Autor der Mehrzahl der LdM-Artikel
-in 2008; f&uuml;nf von ihnen stammen aus NObbys Feder, und ohne seine unumstrittenen
-Verdienste h&auml;tte die LdM-Kolumne garnicht &uuml;berlebt! Er verdient unseren
-h&ouml;chsten Respekt, als er in die Bresche sprang, die Andreas hinterlie&szlig;, als er
-im M&auml;rz '08 aufgeh&ouml;rt hat, Artikel zu schreiben. NObby, wir alle hoffen, noch
-mehr Artikel von Dir lesen zu k&ouml;nnen!
-</p>
-
-<p>
 Nat&uuml;rlich gilt unser Dank auch den Autoren der neun exzellenten Levels:
 Raoul Bourquin,
 Sven Siggelkow,
 Ronald Lamprecht,
 Jacob Scott,
 Jon 'WB' Sneyers,
-Moonpearl,
+Moonpearl
 und Lukas Sch&uuml;ller,
-ohne deren Levels es keinen Level-des-Monats gegeben h&auml;tte; danke an Euch, f&uuml;r
+ohne deren Levels es keinen Level-des-Monats gegeben h&auml;tte. Danke an Euch, f&uuml;r
 Eure best&auml;ndige Arbeit, und danke auch an all die anderen Levelautoren! Wie
 Daniel Heck gesagt hat:
 </p>
@@ -348,7 +341,7 @@
 der Abstimmung finden Sie <a href="$$eoya_2008_statistics$$">hier</a>.</p>
   
 <p>Bis dann,<br>
-<i>Andreas &amp; Harry</i></p>
+<i>Andreas, Harry &amp; NObby</i></p>
 
 </div>
 

Modified: feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-19 21:23:40 UTC (rev 1467)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-19 23:50:36 UTC (rev 1468)
@@ -283,15 +283,6 @@
 </p>
 
 <p>
-?????? ????????????? ??????????? NObby, ????? ??????????? ?????? ?? ??
-???????? ????; ???? ?? ??? ???? ???????? NObby, ? ????????? ?? ?????? ????
-?????????? ???, ??? ??????? ?????? ?????? ???? ??????! ?? ??? ????????
-??? ???? ???????? ????????????? ?? ??, ??? ?? ????? ????? Andreas'?, ?????
-??? ????????? ????????? ?????? ? ????? 2008-??. NObby, ??? ?? ????????
-????????? ??? ?????? ??????, ???????? ??-??? ?????? ????!
-</p>
-
-<p>
 ???????, ?? ?? ????? ?? ????????????? ??????? ?????? ???????????? ???????:
 Raoul Bourquin,
 Sven Siggelkow,
@@ -330,7 +321,7 @@
 ?? ?????? ????? <a href="$$eoya_2008_statistics$$">?????</a>.</p>
   
 <p>? ?????????,<br>
-<i>Andreas ? Harry</i></p>
+<i>Andreas, Harry ? NObby</i></p>
 
 </div>
 



From ral at mail.berlios.de  Tue Jan 20 00:56:21 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 20 Jan 2009 00:56:21 +0100
Subject: [Enigma-game-svn] r1469 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/stones
Message-ID: <200901192356.n0JNuLWJ017193@sheep.berlios.de>

Author: ral
Date: 2009-01-20 00:56:16 +0100 (Tue, 20 Jan 2009)
New Revision: 1469

Added:
   trunk/data/gfx32/sh_grate_cross.png
   trunk/data/gfx32/sh_grate_framed.png
   trunk/data/gfx32/st_blur_cross.png
   trunk/data/gfx32/st_blur_straight.png
   trunk/data/gfx32/st_grate_cross.png
   trunk/data/gfx32/st_grate_framed.png
   trunk/data/gfx40/sh_grate_cross.png
   trunk/data/gfx40/sh_grate_framed.png
   trunk/data/gfx40/st_blur_cross.png
   trunk/data/gfx40/st_blur_straight.png
   trunk/data/gfx40/st_grate_cross.png
   trunk/data/gfx40/st_grate_framed.png
   trunk/data/gfx48/sh_grate_cross.png
   trunk/data/gfx48/sh_grate_framed.png
   trunk/data/gfx48/st_blur_cross.png
   trunk/data/gfx48/st_blur_straight.png
   trunk/data/gfx48/st_grate_cross.png
   trunk/data/gfx48/st_grate_framed.png
Removed:
   trunk/data/gfx32/sh-grate1.png
   trunk/data/gfx32/sh-grate2.png
   trunk/data/gfx32/st-grate1.png
   trunk/data/gfx32/st-grate2.png
   trunk/data/gfx32/st-yinyang1.png
   trunk/data/gfx32/st-yinyang2.png
   trunk/data/gfx40/sh-grate1.png
   trunk/data/gfx40/sh-grate2.png
   trunk/data/gfx40/st-grate1.png
   trunk/data/gfx40/st-grate2.png
   trunk/data/gfx40/st-yinyang1.png
   trunk/data/gfx40/st-yinyang2.png
   trunk/data/gfx48/sh-grate1.png
   trunk/data/gfx48/sh-grate2.png
   trunk/data/gfx48/st-grate1.png
   trunk/data/gfx48/st-grate2.png
   trunk/data/gfx48/st-yinyang1.png
   trunk/data/gfx48/st-yinyang2.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones/SimpleStones.cc
   trunk/src/stones/SimpleStones.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- reengineering st-yinyang:
  - st-yinyang1 -> st_blur_cross
  - st-yinyang2 -> st_blur_straight
  - st-yinyang3 -> st_blur_magic
  - attribute flavor with type name "cross", "straight", "magic"
  - new graphic indicating color change instead of player change
- reengineering grates:
  - st-grate1 -> st_grate_cross
  - st-grate2 -> st_grate_framed
  - attribute flavor with type name "cross", "framed"
 

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/data/api1init.lua	2009-01-19 23:56:16 UTC (rev 1469)
@@ -217,6 +217,9 @@
     st_bluesand_new = "st-bigbluesand-new",
     st_bluesand_nes = "st-bigbluesand-nes",
     st_bluesand_nesw = "st-bigbluesand-nesw",
+    st_blur_cross = "st-yinyang1",
+    st_blur_magic = "st-yinyang3",
+    st_blur_straight = "st-yinyang2",
     st_boulder = "st-bolder",
     st_boulder_n = "st-bolder-n",
     st_boulder_e = "st-bolder-e",
@@ -290,6 +293,8 @@
     st_granite = "st-rock1",
     st_granite_hollow = "st-rock1_hole",
     st_granite_movable = "st-rock1_move",
+    st_grate_cross = "st-grate1",
+    st_grate_framed = "st-grate2",
     st_greenbrown = "st-greenbrown",
     st_greenbrown_hollow = "st-greenbrown_hole",
     st_greenbrown_movable = "st-greenbrown_move",
@@ -1018,8 +1023,7 @@
     st_mirror__trigger = "turn",
     st_oxyd__trigger = "open",
     st_passage__trigger = "signal",
-    ["st-plain__trigger"] = "signal",
-    ["st-plain_hole__trigger"] = "signal",
+    st_flat__trigger = "signal",
     st_polarswitch__onoff = "toggle",
     st_quake__trigger = "toggle",
     st_stoneimpulse__trigger = "signal",

Deleted: trunk/data/gfx32/sh-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/sh-grate2.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/sh_grate_cross.png (from rev 1465, trunk/data/gfx32/sh-grate1.png)

Copied: trunk/data/gfx32/sh_grate_framed.png (from rev 1465, trunk/data/gfx32/sh-grate2.png)

Deleted: trunk/data/gfx32/st-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-grate2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-yinyang1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-yinyang2.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx32/st_blur_cross.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/st_blur_cross.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx32/st_blur_straight.png (from rev 1465, trunk/data/gfx32/st-yinyang2.png)

Copied: trunk/data/gfx32/st_grate_cross.png (from rev 1465, trunk/data/gfx32/st-grate1.png)

Copied: trunk/data/gfx32/st_grate_framed.png (from rev 1465, trunk/data/gfx32/st-grate2.png)

Deleted: trunk/data/gfx40/sh-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/sh-grate2.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/sh_grate_cross.png (from rev 1465, trunk/data/gfx40/sh-grate1.png)

Copied: trunk/data/gfx40/sh_grate_framed.png (from rev 1465, trunk/data/gfx40/sh-grate2.png)

Deleted: trunk/data/gfx40/st-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-grate2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-yinyang1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-yinyang2.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx40/st_blur_cross.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx40/st_blur_cross.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx40/st_blur_straight.png (from rev 1465, trunk/data/gfx40/st-yinyang2.png)

Copied: trunk/data/gfx40/st_grate_cross.png (from rev 1465, trunk/data/gfx40/st-grate1.png)

Copied: trunk/data/gfx40/st_grate_framed.png (from rev 1465, trunk/data/gfx40/st-grate2.png)

Deleted: trunk/data/gfx48/sh-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/sh-grate2.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/sh_grate_cross.png (from rev 1465, trunk/data/gfx48/sh-grate1.png)

Copied: trunk/data/gfx48/sh_grate_framed.png (from rev 1465, trunk/data/gfx48/sh-grate2.png)

Deleted: trunk/data/gfx48/st-grate1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-grate2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-yinyang1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-yinyang2.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx48/st_blur_cross.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx48/st_blur_cross.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/data/gfx48/st_blur_straight.png (from rev 1465, trunk/data/gfx48/st-yinyang2.png)

Copied: trunk/data/gfx48/st_grate_cross.png (from rev 1465, trunk/data/gfx48/st-grate1.png)

Copied: trunk/data/gfx48/st_grate_framed.png (from rev 1465, trunk/data/gfx48/st-grate2.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/data/models-2d.lua	2009-01-19 23:56:16 UTC (rev 1469)
@@ -725,8 +725,8 @@
     DefImage("sh-solid")
     DefImage("sh-round")
     DefImage("sh-round2")
-    DefImage("sh-grate1")
-    DefImage("sh-grate2")
+    DefImage("sh_grate_cross")
+    DefImage("sh_grate_framed")
     DefImage("sh-grate3")
     DefImage("sh-glass")
     DefImage("sh-white4")
@@ -764,8 +764,8 @@
     DefStone("st_lightglass", "sh-glass")
     DefStone("st_darkglass", "sh-glass")
     DefStone("st_redfiber", "sh-glass")
-    DefStone("st-grate1", "sh-grate1")
-    DefStone("st-grate2", "sh-grate2")
+    DefStone("st_grate_cross", "sh_grate_cross")
+    DefStone("st_grate_framed", "sh_grate_framed")
     DefStone("st-grate3", "sh-grate3")
     DefStone("st_greenbrown", "sh-round")
     DefStone("st-key0", "sh-round", {filename="st-key1"})
@@ -796,8 +796,8 @@
     DefStone("st-whiteballs")
     DefStone("st_woven")
     DefStone("st_yellow")
-    DefStone("st-yinyang1")
-    DefStone("st-yinyang2")
+    DefStone("st_blur_straight")
+    DefStone("st_blur_cross")
 end
 
 ---------------------
@@ -1574,7 +1574,7 @@
 
 -- st-door_a --
 do
-    DefAlias("st-door_a-open", "st-grate1")
+    DefAlias("st-door_a-open", "st_grate_cross")
     DefAlias("st-door_a-closed", "st-oxyda")
     local f = BuildFrames({"st-door_a-closed", "st-door_a-open"},60)
     DefAnim("st-door_a-opening", f)
@@ -1593,7 +1593,7 @@
 
 -- st-door_c --
 do
-    DefAlias("st-door_c-open", "st-grate2")
+    DefAlias("st-door_c-open", "st_grate_framed")
     DefAlias("st-door_c-closed", "st_flat")
     frames=BuildFrames({"st-door_c-closed","st-door_c-open"},60)
     DefAnim("st-door_c-opening", frames)
@@ -1750,7 +1750,7 @@
     DefAlias("st-glass_move", "st-glass");
     DefAlias("st-laserbreak", "st_flat")
     DefAlias("st-laserbreak-anim", "st_flat_breaking")
-    DefAlias("st-yinyang3", "st-yinyang1")
+    DefAlias("st_blur_magic", "st_blur_cross")
 end
 
 -- Invisible stones --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/data/schemas/objects.xml	2009-01-19 23:56:16 UTC (rev 1469)
@@ -759,6 +759,18 @@
     <object name="st_bluesand_nesw">
       <attr name="connections" value="nesw"/>
     </object>
+    <object name="st_blur">
+      <attr name="flavor"/>
+    </object>
+    <object name="st_blur_cross">
+      <attr name="flavor" value="cross"/>
+    </object>
+    <object name="st_blur_magic">
+      <attr name="flavor" value="magic"/>
+    </object>
+    <object name="st_blur_straight">
+      <attr name="flavor" value="straight"/>
+    </object>
     <object name="st_boulder">
       <attr name="counterclock"/>
       <attr name="orientation"/>
@@ -1026,6 +1038,15 @@
     <object name="st_granite_movable">
       <attr name="movable" value="true"/>
     </object>
+    <object name="st_grate">
+      <attr name="flavor"/>
+    </object>
+    <object name="st_grate_cross">
+      <attr name="flavor" value="cross"/>
+    </object>
+    <object name="st_grate_framed">
+      <attr name="flavor" value="framed"/>
+    </object>
     <object name="st_greenbrown">
       <attr name="hollow" rw="r"/>
     </object>

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/ox_extra.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -138,9 +138,9 @@
     "st_purplemarble",   // OxydExtra stone 0x13
     UNUSED,              // OxydExtra stone 0x14
     "st_tigris",         // OxydExtra stone 0x15
-    "st-rock7",          // OxydExtra stone 0x16
+    "st_greengray",      // OxydExtra stone 0x16
     UNUSED,              // OxydExtra stone 0x17
-    "st-grate1",         // OxydExtra stone 0x18
+    "st_grate_cross",    // OxydExtra stone 0x18
     UNUSED,              // OxydExtra stone 0x19
     UNUSED,              // OxydExtra stone 0x1a
     UNUSED,              // OxydExtra stone 0x1b

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/ox_magnum.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -142,8 +142,8 @@
     UNUSED,                     // OxydMagnum stone 0x17
     UNUSED,                     // OxydMagnum stone 0x18
     "st_lightglass_hollow",     // OxydMagnum stone 0x19
-    "st-grate1",                // OxydMagnum stone 0x1a
-    "st-grate2",                // OxydMagnum stone 0x1b
+    "st_grate_cross",           // OxydMagnum stone 0x1a
+    "st_grate_framed",          // OxydMagnum stone 0x1b
     "st-bug",                   // OxydMagnum stone 0x1c
     UNUSED,                     // OxydMagnum stone 0x1d
     UNUSED,                     // OxydMagnum stone 0x1e
@@ -258,12 +258,12 @@
     "st_purplegray",            // OxydMagnum stone 0x8b
     "st_passage_white_square",  // OxydMagnum stone 0x8c
     "st_passage_black_square",  // OxydMagnum stone 0x8d
-    "st-yinyang2",              // OxydMagnum stone 0x8e
+    "st_blur_straight",         // OxydMagnum stone 0x8e
     UNUSED,                     // OxydMagnum stone 0x8f
     "st_redrock",               // OxydMagnum stone 0x90 (Level 89 only)
     UNUSED,                     // OxydMagnum stone 0x91
     "st_fourswitch",            // OxydMagnum stone 0x92 (Level 51 only)
-    "st-yinyang1",              // OxydMagnum stone 0x93
+    "st_blur_cross",            // OxydMagnum stone 0x93
     "st-break_acwhite",         // OxydMagnum stone 0x94
     "st-break_acblack",         // OxydMagnum stone 0x95
     "st_charge_plus",           // OxydMagnum stone 0x96

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/ox_oxyd1.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -174,8 +174,8 @@
     "st_flat_hollow",           // Oxyd1 stone 0x17
     "st-oxyd-0x18",             // Oxyd1 stone 0x18
     "st_door_c_open",           // Oxyd1 stone 0x19
-    "st-grate1",                // Oxyd1 stone 0x1a
-    "st-grate2",                // Oxyd1 stone 0x1b
+    "st_grate_cross",           // Oxyd1 stone 0x1a
+    "st_grate_framed",          // Oxyd1 stone 0x1b
     "st-bug",                   // Oxyd1 stone 0x1c
     "st-surprise",              // Oxyd1 stone 0x1d
     "st-chameleon",             // Oxyd1 stone 0x1e
@@ -290,12 +290,12 @@
     "st_bluesand",              // Oxyd1 stone 0x8b
     "st_passage_white_square",  // Oxyd1 stone 0x8c
     "st_passage_black_square",  // Oxyd1 stone 0x8d
-    "st-yinyang2",              // Oxyd1 stone 0x8e
+    "st_blur_straight",         // Oxyd1 stone 0x8e
     UNUSED,                     // Oxyd1 stone 0x8f
     "st-whiteballs",            // Oxyd1 stone 0x90
     "st-blackballs",            // Oxyd1 stone 0x91
     "st_fourswitch",            // Oxyd1 stone 0x92
-    "st-yinyang1",              // Oxyd1 stone 0x93
+    "st_blur_cross",            // Oxyd1 stone 0x93
     "st-break_acwhite",         // Oxyd1 stone 0x94
     "st-break_acblack",         // Oxyd1 stone 0x95
     "st_charge_plus",           // Oxyd1 stone 0x96

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/ox_peroxyd.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -212,7 +212,7 @@
     "st_tigris",                // PerOxyd stone 0x15
     "st_greengray",             // PerOxyd stone 0x16
     "st-white1",                // PerOxyd stone 0x17 (Looks a little bit different, but function should be the same.)
-    "st-grate1",                // PerOxyd stone 0x18
+    "st_grate_cross",           // PerOxyd stone 0x18
     UNUSED,                     // PerOxyd stone 0x19
     "st-surprise",              // PerOxyd stone 0x1a
     "st-chameleon",             // PerOxyd stone 0x1b (levels: 23 142 178 183)
@@ -313,7 +313,7 @@
     "st_passage_black_square",  // PerOxyd stone 0x7a (Can be either st-black1 or st-black4)
     "st_metal_hollow",          // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
     0,                          // PerOxyd stone 0x7c (probably complex stone, behavior unknown)(only levels: 23 142, these levels are identical!)
-    "st-yinyang3",              // PerOxyd stone 0x7d
+    "st_blur_magic",            // PerOxyd stone 0x7d
     "st-break_acwhite",         // PerOxyd stone 0x7e
     "st-break_acblack",         // PerOxyd stone 0x7f
     "st_charge_plus",           // PerOxyd stone 0x80

Modified: trunk/src/stones/SimpleStones.cc
===================================================================
--- trunk/src/stones/SimpleStones.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/stones/SimpleStones.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -22,13 +22,65 @@
 #include "stones/SimpleStones.hh"
 #include "errors.hh"
 //#include "main.hh"
+#include "player.hh"
+#include "server.hh"
 #include "world.hh"
 
 namespace enigma {
 
+/* -------------------- Blur stone -------------------- */
+    BlurStone::BlurStone(int type) : Stone ("st_blur") {
+        state = type;
+    }
+    
+    std::string BlurStone::getClass() const {
+        return "st_blur";
+    }
+
+    void BlurStone::setAttr(const string& key, const Value &val) {
+        if (key == "flavor" && isDisplayable()) {
+            std::string fs = val.to_string();
+            if (fs == "straight") state = STRAIGHT;
+            else if (fs == "cross") state = CROSS;
+            else if (fs == "magic") state = MAGIC;
+            else ASSERT(false, XLevelRuntime, ecl::strf("Blur stone set known flavor%s", fs.c_str()).c_str());
+            return; 
+        } else
+            Stone::setAttr(key, val);
+    }
+
+    Value BlurStone::getAttr(const std::string &key) const {
+        if (key == "flavor") {             // used by validator to identify charge stone subkinds
+            return (state == STRAIGHT) ? "straight" : (state == CROSS ? "cross" : "magic"); 
+        } else
+            return Stone::getAttr(key);
+    }
+    
+    void BlurStone::setState(int extState) {
+        // block any calls
+    }
+
+    void BlurStone::init_model() {
+        set_model(state == STRAIGHT ? "st_blur_straight" : "st_blur_cross");
+    }
+    
+    void BlurStone::actor_hit(const StoneContact &sc) {
+        Value color = sc.actor->getAttr("color");
+        if (state != MAGIC || player::WieldedItemIs (sc.actor, "it_magicwand") 
+                || player::WieldedItemIs (sc.actor, "it_brush")) {
+            if (color && ((state == STRAIGHT && color == WHITE) || (state >= CROSS && color == BLACK))) {
+                sound_event("yinyang");
+                transform("st_passage_white_square");
+            } else if (color && ((state == STRAIGHT && color == BLACK) || (state >= CROSS && color == WHITE))) {
+                sound_event("yinyang");
+                transform("st_passage_black_square");
+            }
+        }
+    }
+
 /* -------------------- Charge stone -------------------- */
 
-    ChargeStone::ChargeStone(double charge) : Stone("st_charge") {
+    ChargeStone::ChargeStone(double charge) : Stone ("st_charge") {
         Stone::setAttr("charge", charge);
     }
     
@@ -88,13 +140,70 @@
             other->add_force (distortedVelocity(sc.actor->get_vel(), 20));
         }
     }
+
+/* -------------------- Grate stone -------------------- */
+    GrateStone::GrateStone(int type) : Stone ("st_grate") {
+        state = type;
+    }
     
+    std::string GrateStone::getClass() const {
+        return "st_grate";
+    }
+
+    void GrateStone::setAttr(const string& key, const Value &val) {
+        if (key == "flavor" && isDisplayable()) {
+            std::string fs = val.to_string();
+            if (fs == "cross") state = CROSS;
+            else if (fs == "framed") state = FRAMED;
+            else ASSERT(false, XLevelRuntime, ecl::strf("Grate stone set known flavor%s", fs.c_str()).c_str());
+            return; 
+        } else
+            Stone::setAttr(key, val);
+    }
+
+    Value GrateStone::getAttr(const std::string &key) const {
+        if (key == "flavor") {             // used by validator to identify charge stone subkinds
+            return (state == CROSS) ? "cross" : "framed"; 
+        } else
+            return Stone::getAttr(key);
+    }
+    
+    void GrateStone::setState(int extState) {
+        // block any calls
+    }
+
+    void GrateStone::init_model() {
+        set_model(state == CROSS ? "st_grate_cross" : "st_grate_framed");
+    }
+    
+    bool GrateStone::is_floating() const {
+        return true;
+    }
+    
+    bool GrateStone::is_transparent(Direction) const {
+        return true;
+    }
+    
+    StoneResponse GrateStone::collision_response(const StoneContact &sc) {
+        if (server::GameCompatibility == GAMET_OXYD1) {
+            return STONE_PASS;
+        } else
+            return sc.actor->is_on_floor() ? STONE_PASS : STONE_REBOUND;
+    }
+    
     BOOT_REGISTER_START
+        BootRegister(new BlurStone(0), "st_blur");
+        BootRegister(new BlurStone(0), "st_blur_straight");
+        BootRegister(new BlurStone(1), "st_blur_cross");
+        BootRegister(new BlurStone(2), "st_blur_magic");
         BootRegister(new ChargeStone(0.0), "st_charge");
         BootRegister(new ChargeStone(0.0), "st_charge_zero");
         BootRegister(new ChargeStone(1.0), "st_charge_plus");
         BootRegister(new ChargeStone(-1.0), "st_charge_minus");
         BootRegister(new FlashStone(), "st_flash");
+        BootRegister(new GrateStone(0), "st_grate");
+        BootRegister(new GrateStone(0), "st_grate_cross");
+        BootRegister(new GrateStone(1), "st_grate_framed");
     BOOT_REGISTER_END
 
 } // namespace enigma

Modified: trunk/src/stones/SimpleStones.hh
===================================================================
--- trunk/src/stones/SimpleStones.hh	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/stones/SimpleStones.hh	2009-01-19 23:56:16 UTC (rev 1469)
@@ -27,6 +27,35 @@
 namespace enigma {
 
     /** 
+     * BlurStone (old YinYang)
+     */
+    class BlurStone : public Stone {
+        CLONEOBJ(BlurStone);
+    private:
+        enum iState {
+            STRAIGHT,   ///<  encoded flavor 
+            CROSS,      ///< 
+            MAGIC      ///< 
+        };
+    public:
+        BlurStone(int type);
+        
+         // Object interface
+        virtual std::string getClass() const;        
+        virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual void actor_hit(const StoneContact &sc);
+    };
+    
+    /** 
      * ChargeStone
      */
     class ChargeStone : public Stone {
@@ -64,9 +93,40 @@
         virtual std::string getClass() const;
 
         // Stone interface
-        virtual void actor_hit (const StoneContact &sc);
+        virtual void actor_hit(const StoneContact &sc);
     };
 
+    /** 
+     * GrateStone
+     */
+    class GrateStone : public Stone {
+        CLONEOBJ(GrateStone);
+
+    private:
+        enum iState {
+            CROSS,      ///< 
+            FRAMED      ///< 
+        };
+    public:
+        GrateStone(int type);
+        
+         // Object interface
+        virtual std::string getClass() const;        
+        virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual bool is_transparent(Direction d) const;
+        virtual StoneResponse collision_response(const StoneContact &sc);
+    };
+
 } // namespace enigma
 
 #endif /*SIMPLESTONES_HH*/

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/stones.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -419,7 +419,7 @@
 
         void actor_hit (const StoneContact &) {
             static const char *stonename[] = {
-                "st-grate1",
+                "st_grate_cross",
                 "st_death",
                 "st-surprise",
                 "st_lightglass_hollow",

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-19 23:50:36 UTC (rev 1468)
+++ trunk/src/stones_simple.cc	2009-01-19 23:56:16 UTC (rev 1469)
@@ -309,18 +309,6 @@
         }
     };
 
-    class Grate1 : public GrateBase {
-        CLONEOBJ(Grate1);
-    public:
-        Grate1() : GrateBase("st-grate1") {}
-    };
-
-    class Grate2 : public GrateBase {
-        CLONEOBJ(Grate2);
-    public:
-        Grate2() : GrateBase("st-grate2") {}
-    };
-
     /*! Horses and small marbles can move through this stone, but
       normal marbles can't. */
     class Grate3 : public GrateBase {
@@ -547,57 +535,7 @@
     DEF_TRAITSM(Break_bolder, "st-break_bolder", st_break_bolder, MOVABLE_BREAKABLE);
 }
 
-//----------------------------------------
-// Stone_movebreak
-//----------------------------------------
 
-/** \page st-rock3_movebreak Breakable Movable Stone
-
-This stone can be destroyed by an actor having a
-hammer and by laser, dynamite, bombs and bombstones.
-
-\subsection stone_breake Example
-\verbatim
-set_stone("st-rock3_movebreak", 10,10)
-\endverbatim
-
-\image html st-rock3.png
-*/
-namespace
-{
-    class Stone_movebreak : public BreakableStone {
-        CLONEOBJ(Stone_movebreak);
-        DECL_TRAITS;
-    public:
-        Stone_movebreak()
-        {}
-
-        void processLight(Direction d) {
-        }
-
-        string get_break_anim() const  {
-            return "st-rock3_break-anim";
-        }
-        bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it_hammer");
-        }
-
-        void actor_hit(const StoneContact &sc) {
-            if (may_be_broken_by(sc.actor))
-                break_me();
-//             else
-//                 maybe_push_stone (sc);
-        }
-        void on_impulse(const Impulse& impulse) {
-            move_stone(impulse.dir);
-        }
-
-    private:
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_NO_STONE; }
-    };
-    DEF_TRAITSM(Stone_movebreak, "st-rock3_movebreak", st_movebreak, MOVABLE_IRREGULAR);
-}
-
 //----------------------------------------
 // Break_acwhite
 //----------------------------------------
@@ -943,75 +881,6 @@
     return Stone::message(m);
 }
 
-/* -------------------- YinYang stones -------------------- */
-namespace
-{
-    class YinYangStone : public Stone {
-    public:
-        YinYangStone(const char *kind) : Stone(kind)
-        {}
-
-    protected:
-        void turn_white(const char *stonename = "st_passage_white_square") {
-            sound_event("yinyang");
-            ReplaceStone (get_pos(), MakeStone(stonename));
-        }
-        void turn_black(const char *stonename = "st_passage_black_square") {
-            sound_event("yinyang");
-            ReplaceStone (get_pos(), MakeStone(stonename));
-        }
-        
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_HOLLOW; }
-    };
-
-    class YinYangStone1 : public YinYangStone {
-        CLONEOBJ(YinYangStone1);
-    public:
-        YinYangStone1() : YinYangStone("st-yinyang1") {}
-
-    private:
-        void actor_hit(const StoneContact &sc) {
-            Value color = sc.actor->getAttr("color");
-            if      (color && color == BLACK) turn_white();
-            else if (color && color == WHITE) turn_black();
-        }
-    };
-
-    class YinYangStone2 : public YinYangStone {
-        CLONEOBJ(YinYangStone2);
-    public:
-        YinYangStone2() : YinYangStone("st-yinyang2") {}
-    private:
-        void actor_hit(const StoneContact &sc) {
-            Value color = sc.actor->getAttr("color");
-            if      (color && color == BLACK) turn_black();
-            else if (color && color == WHITE) turn_white();
-        }
-    };
-
-
-    /*! A Per.Oxyd compatible YinYang stone that must be activated
-      with a magic wand or a brush. */
-    class YinYangStone3 : public YinYangStone {
-        CLONEOBJ(YinYangStone3);
-    public:
-        YinYangStone3() : YinYangStone("st-yinyang3") {}
-    private:
-        void actor_hit(const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it_magicwand") ||
-                player::WieldedItemIs (sc.actor, "it_brush"))
-            {
-                Value color = sc.actor->getAttr("color");
-                if      (color && color == BLACK) 
-                    turn_white("st_passage_white_square");
-                else if (color && color == WHITE) 
-                    turn_black("st_passage_black_square");
-            }
-        }
-    };
-}
-
-
 /* -------------------- BombStone -------------------- */
 
 namespace
@@ -1135,21 +1004,14 @@
 
     Register(new DummyStone);
     Register(new EasyModeStone);
-    Register(new Grate1);
-    Register(new Grate2);
     Register(new Grate3);
     Register(new InvisibleMagic);
     Register(new LaserBreakable);
     Register(new MagicStone);
     Register(new Stone_break("st-stone_break"));
     Register(new Stone_break("st-break_gray"));
-    Register(new Stone_movebreak);
     Register(new Stonebrush);
     Register(new ThiefStone);
-
-    Register(new YinYangStone1);
-    Register(new YinYangStone2);
-    Register(new YinYangStone3);
 }
 
 } // namespace enigma



From andreasl at mail.berlios.de  Tue Jan 20 01:11:38 2009
From: andreasl at mail.berlios.de (andreasl at mail.berlios.de)
Date: Tue, 20 Jan 2009 01:11:38 +0100
Subject: [Enigma-game-svn] r1470 - in homepage: images/articles images/lotm
	input input/articles input/lotm
Message-ID: <200901200011.n0K0Bc3s000801@sheep.berlios.de>

Author: andreasl
Date: 2009-01-20 01:11:08 +0100 (Tue, 20 Jan 2009)
New Revision: 1470

Added:
   homepage/images/articles/eoya_2008.png
   homepage/images/articles/eoya_2008_a.png
   homepage/images/articles/eoya_2008_b.png
   homepage/images/articles/eoya_2008_c.png
   homepage/images/articles/eoya_2008_d.png
   homepage/images/articles/eoya_2008_e.png
   homepage/images/articles/eoya_2008_f.png
   homepage/input/articles/eoya_2008.html
   homepage/input/articles/eoya_2008_de.html
   homepage/input/articles/eoya_2008_ru.html
   homepage/input/articles/eoya_2008_statistics.html
   homepage/input/articles/eoya_2008_statistics_de.html
   homepage/input/articles/eoya_2008_statistics_ru.html
Modified:
   homepage/images/lotm/lotm-history.png
   homepage/input/faq_core_ru.html
   homepage/input/hp_archive.html
   homepage/input/hp_archive_de.html
   homepage/input/hp_archive_ru.html
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/infobox_ru.html
   homepage/input/lotm/lotm_archive_data.lua
   homepage/input/lotm/lotm_core.html
   homepage/input/lotm/lotm_core_de.html
   homepage/input/lotm/lotm_core_ru.html
   homepage/input/output-files.lua
   homepage/input/support_ru.html
Log:
Homepage:
 - Merged LotM-Feature branch back to homepage.
Note:
 - Homepage and hp_lotm are not synchronous due to rev 1449.
Todo:
 - Upload


Copied: homepage/images/articles/eoya_2008.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008.png)

Copied: homepage/images/articles/eoya_2008_a.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_a.png)

Copied: homepage/images/articles/eoya_2008_b.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_b.png)

Copied: homepage/images/articles/eoya_2008_c.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_c.png)

Copied: homepage/images/articles/eoya_2008_d.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_d.png)

Copied: homepage/images/articles/eoya_2008_e.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_e.png)

Copied: homepage/images/articles/eoya_2008_f.png (from rev 1468, feature_branches/hp_lotm/images/articles/eoya_2008_f.png)

Modified: homepage/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Copied: homepage/input/articles/eoya_2008.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008.html)

Copied: homepage/input/articles/eoya_2008_de.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008_de.html)

Copied: homepage/input/articles/eoya_2008_ru.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008_ru.html)

Copied: homepage/input/articles/eoya_2008_statistics.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008_statistics.html)

Copied: homepage/input/articles/eoya_2008_statistics_de.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008_statistics_de.html)

Copied: homepage/input/articles/eoya_2008_statistics_ru.html (from rev 1468, feature_branches/hp_lotm/input/articles/eoya_2008_statistics_ru.html)

Modified: homepage/input/faq_core_ru.html
===================================================================
--- homepage/input/faq_core_ru.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/faq_core_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -102,14 +102,14 @@
 ?? ?????? ??? ????????? ??? ?????????? ??????, ??? ? ??????????
 ????????????? ?? ???????? ?????? ? ????????????? (??????? &quot;???? ????????&quot;).</p>
 <p>
-If you are using GNOME, you can run this in a terminal window:
+???? ?? ??????????? GNOME, ?? ?? ?????? ????????? ? ???? ????????? ????????? ???????:
 <pre>
 gnome-screensaver-command --inhibit
 </pre>
-(it will not quit&mdash;just leave it running!) Then run Enigma. When you're done
-with Enigma, press Ctrl+C on the &quot;inhibit&quot; command, and your screen
-saver should be working again. Closing the terminal window should also stop the
-&quot;inhibit&quot; command.
+(??? ?? ?????????? &mdash; ????? ?????????? ????????!) ????? ????????? Enigma. ????? ?????????
+?????? ? Enigma, ??????? Ctrl+C ? ???? ? ???????? &quot;inhibit&quot;, ? ??? ????????? ??????
+????????? ???? ??????. ??????? &quot;inhibit&quot; ?????? ??????????? ? ????? ????, ??? ??
+???????? ???? ?????????.
 </p>
 
 

Modified: homepage/input/hp_archive.html
===================================================================
--- homepage/input/hp_archive.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/hp_archive.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -30,6 +30,10 @@
   </li>
   <li><a href="$$marbleous_3$$">Marbleous! &mdash; The Novice, Part 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">End of Year Awards 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">End of Year Awards 2008 - Pure Statistics</a>
+  </li>
 </ul>
 
 

Modified: homepage/input/hp_archive_de.html
===================================================================
--- homepage/input/hp_archive_de.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/hp_archive_de.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -30,5 +30,9 @@
   </li>
   <li><a href="$$marbleous_3$$">Gemurmel! &mdash; Der Neuling, Teil 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">Jahresendauszeichnungen 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">Jahresendauszeichnungen 2008 - Pure Statistiken</a>
+  </li>
 </ul>
 

Modified: homepage/input/hp_archive_ru.html
===================================================================
--- homepage/input/hp_archive_ru.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/hp_archive_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -29,4 +29,8 @@
   </li>
   <li><a href="$$marbleous_3$$">???????????! &mdash; ???????? ?? ???????, ????? 3</a>
   </li>
+  <li><a href="$$eoya_2008$$">??????? ????? ???? 2008</a>
+  </li>
+  <li><a href="$$eoya_2008_statistics$$">??????? ????? ???? 2008 - ?????????????? ?????</a>
+  </li>
 </ul>

Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/infobox.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -4,6 +4,15 @@
          Read <a href="$$marbleous_3$$">here</a> about the newest adventure of
          our &quot;novice&quot;, his experiences and thoughts!
 
+         <h3>End-of-Year Awards</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="Which might be the Level of the Year?" border="0"></a>
+         <div class="imagetitle">
+           The best levels of 2008 are chosen and the Level of the Year 2008
+           has been determined - find out who got the awards
+           <a href="$$eoya_2008$$">here</a>!
+         </div>
+         
          <h3>Level of the Month</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
@@ -11,12 +20,14 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>Independent Article</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
+         -->
          
          <!--
          <h3>April Fool's Day '08</h3>
@@ -26,18 +37,7 @@
            <a href="$$april_2008$$">&quot;The Three Clouds&quot;</a>
          </div>
          -->
-         
-         <!--
-         <h3>End-of-Year Awards</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="Which might be the Level of the Year?" border="0"></a>
-         <div class="imagetitle">
-           The best levels of 2007 are chosen and the Level of the Year 2007
-           has been determined - find out who got the awards
-           <a href="$$eoya_2007$$">here</a>!
-         </div>
-         -->
-         
+                  
          <h3>PAR and Hcp Recalibration</h3>
 	 Due to the increasing number of score submitters we are now able to
 	 base the PAR value mainly on given scores. The effect of users who

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/infobox_de.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -3,6 +3,15 @@
          <h3>Gemurmel!</h3>
          Lesen Sie <a href="$$marbleous_3$$">hier</a> &uuml;ber das neueste
          Abenteuer unseres &quot;Neulings&quot;, seine Erfahrungen und Gedanken!
+
+         <h3>Jahresend-<br>auszeichnungen</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="Welches mag der Level des Jahres sein?" border="0"></a>
+         <div class="imagetitle">
+           Die besten Levels aus 2008 sind gew&auml;hlt und der Level des
+           Jahres 2008 steht fest - finden Sie <a href="$$eoya_2008$$">hier</a>
+           raus, wer die Preise gewonnen hat!
+         </div>
          
          <h3>Level des Monats</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
@@ -11,12 +20,14 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>Unabh&auml;ngiger Artikel</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
+         -->
          
          <!--
          <h3>Aprilscherz '08</h3>
@@ -27,17 +38,6 @@
          </div>
          -->
          
-         <!--
-         <h3>Jahresend-<br>auszeichnungen</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="Welches mag der Level des Jahres sein?" border="0"></a>
-         <div class="imagetitle">
-           Die besten Levels aus 2007 sind gew&auml;hlt und der Level des
-           Jahres 2007 steht fest - finden Sie <a href="$$eoya_2007$$">hier</a>
-           raus, wer die Preise gewonnen hat!
-         </div>
-         -->
-
          <h3>PAR und Hcp Recalibration</h3>
 	 Aufgrund der gestiegenen Anzahl an Einsendungen von Ergebnissen
 	 k&ouml;nnen die PAR Werte nun haups&auml;chlich auf den Spielresultaten

Modified: homepage/input/infobox_ru.html
===================================================================
--- homepage/input/infobox_ru.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/infobox_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -3,7 +3,14 @@
          <h3>???????????!</h3>
          <a href="$$marbleous_3$$">?????</a> ????? ???????? ? ????????? ????????????
 	  ?????? &quot;???????&quot;, ? ??? ????? ? ????????????!
-
+	  
+         <h3>??????? ????? ????</h3>
+         <a href="$$eoya_2008$$"><img src="images/articles/eoya_2008.png"
+         alt="????? ????? ???? ??????? ?????" border="0"></a>
+         <div class="imagetitle">
+           ?????? ?????? 2008 ???????, ? ??????? ???? 2008 ????????? - ???????, ??? ??????? ??????? <a href="$$eoya_2008$$">?????</a>!
+         </div>
+         
          <h3>??????? ??????</h3>
          <a href="$$lotm_current$$"><img src="$$lotm_current_image$$"
          alt="$$lotm_expansion$$" border="0"></a>
@@ -11,13 +18,15 @@
            <a href="$$lotm_current$$">&quot;$$lotm_current_name$$&quot;</a>
          </div>
 
+         <!--
          <h3>????????? ??????</h3>
          <a href="$$level_andreas11$$"><img src="images/articles/level_andreas11_a.png"
          alt="Patterns of Impulse" border="0"></a>
          <div class="imagetitle">
            <a href="$$level_andreas11$$">&quot;Patterns of Impulse&quot;</a>
          </div>
-         
+         -->
+
          <!--
          <h3>?????? ?????? '08</h3>
          <a href="$$april_2008$$"><img src="$$imagedir$$/articles/april_2008.png"
@@ -27,22 +36,13 @@
          </div>
          -->
          
-         <!--
-         <h3>??????? ????? ????</h3>
-         <a href="$$eoya_2007$$"><img src="images/articles/eoya_2007.png"
-         alt="????? ????? ???? ??????? ?????" border="0"></a>
-         <div class="imagetitle">
-           ?????? ?????? 2007 ???????, ? ??????? ???? 2007 ????????? - ??????? ??? ??????? ??????? <a href="$$eoya_2007$$">?????</a>!
-         </div>
-         -->
-
          <h3>???????????? PAR ? Hcp</h3>
 	 ?? ????????? ????????? ????? ??????????? ???????????, ?? ??????
 	 ????? ?????????? ???????? PAR ??????????????? ?? ?????????? ?????. ???????
 	 ?????????????, ??????? ?? ?????? ???????, ?????? ?????? ??????? ?? 
 	 ?????????. ????? ???????, ???????? PAR ?????? ????? ????? ?????????????. 
 	 ??? ???????? ??????, ???????? HCP ?????????? ?? ????????? ???????? ??? 
-	 ??????????? ?????????????, ? ??? ?? ?????? ????????? ?? ????????
+	 ??????????? ?????????????, ? ??? ?? ?????? ????????? ?? ????????
 	 <a href="$$statistics$$">??????????</a>.
 
          <h3>??????</h3>

Modified: homepage/input/lotm/lotm_archive_data.lua
===================================================================
--- homepage/input/lotm/lotm_archive_data.lua	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/lotm/lotm_archive_data.lua	2009-01-20 00:11:08 UTC (rev 1470)
@@ -180,6 +180,8 @@
 
 level_archive_data = {}
 
+-- EoYA 2007
+
 level_archive_data[1] = {
   link = "$$eoya_2007$$#best_onescreener",
   occasion = "Best Onescreener 2007",
@@ -252,6 +254,8 @@
   position_num = "5100"
 }
 
+-- during 2008
+
 level_archive_data[9] = {
   link = "$$april_2008$$",
   occasion = "April Fool's Day Joke 2008",
@@ -270,28 +274,84 @@
   position_num = "4044"
 }
 
+-- EoYA 2008
+
+level_archive_data[11] = {
+  link = "$$eoya_2008$$#best_meditation",
+  occasion = "Best Meditation 2008",
+  name = "Mountain Climbing",
+  author = "Joseph Dunne",
+  position = "VII/22",
+  position_num = "7022"
+}
+
+level_archive_data[12] = {
+  link = "$$eoya_2008$$#best_action_level",
+  occasion = "Best Action Level 2008",
+  name = "Diving",
+  author = "Joona Laire",
+  position = "VII/2",
+  position_num = "7002"
+}
+
+level_archive_data[13] = {
+  link = "$$eoya_2008$$#best_onescreener",
+  occasion = "Best Onescreener 2008",
+  name = "Industrial Puzzles",
+  author = "Raoul Bourquin",
+  position = "VI/98",
+  position_num = "6098"
+}
+
+level_archive_data[14] = {
+  link = "$$eoya_2008$$#best_design",
+  occasion = "Best Design 2008",
+  name = "Temple of Gold",
+  author = "Jacob Scott",
+  position = "VII/24",
+  position_num = "7024"
+}
+
+level_archive_data[15] = {
+  link = "$$eoya_2008$$#funniest_level",
+  occasion = "Funniest Level 2008",
+  name = "What's the Problem?",
+  author = "Sven Siggelkow",
+  position = "IV/49",
+  position_num = "4049"
+}
+
+level_archive_data[16] = {
+  link = "$$eoya_2008$$#loty",
+  occasion = "Level of the Year 2008",
+  name = "Houdini",
+  author = "Ronald Lamprecht",
+  position = "VI/74",
+  position_num = "6074"
+}
+
 -- LotM variable data
 -- format: Level Title, current_rating, current_votes, additional text
 
-lotm_rating(    "Island Labyrinth",  9.29,  14,  "(1 down)")
+lotm_rating(    "Island Labyrinth",  9.27,  15,  "(1 up)")
 lotm_rating(  "Pneumatic Delivery",  8.22,  18,  "")
-lotm_rating(    "The Aztec Temple",  9.08,  13,  "")
-lotm_rating("Labyrinth of Puzzles",  8.78,  18,  "")
-lotm_rating(           "Elaborate",  8.62,  13,  "")
-lotm_rating(             "Houdini",  9.36,  11,  "(2 up)")
+lotm_rating(    "The Aztec Temple",  8.87,  15,  "")
+lotm_rating("Labyrinth of Puzzles",  8.74,  19,  "")
+lotm_rating(           "Elaborate",  8.64,  14,  "")
+lotm_rating(             "Houdini",  9.36,  11,  "")
 lotm_rating(           "Tool Time",  8.21,  24,  "")
 lotm_rating(         "Quadropolis",  9.17,  12,  "")
-lotm_rating(      "Big Adventures",  8.40,  25,  "(1 down)")
-lotm_rating(      "Temple of Gold",  9.30,  10,  "(1 down)")
-lotm_rating(      "Puzzle Puzzles",  8.56,   9,  "")
+lotm_rating(      "Big Adventures",  8.40,  25,  "")
+lotm_rating(      "Temple of Gold",  9.27,  11,  "")
+lotm_rating(      "Puzzle Puzzles",  8.60,  10,  "")
 lotm_rating(      "Psycho Pushing",  8.17,  12,  "")
 lotm_rating(  "Turnstiles for Two",  8.29,   7,  "")
 lotm_rating(     "Pleasure Garden",  8.38,  16,  "")
-lotm_rating(      "Block its way!",  8.00,  19,  "")
-lotm_rating(   "Gods of Enigma II",  8.42,  19,  "(1 up)")
+lotm_rating(      "Block its way!",  7.85,  20,  "")
+lotm_rating(   "Gods of Enigma II",  8.42,  19,  "")
 lotm_rating( "River of Challenges",  8.36,  11,  "")
 lotm_rating(  "Industrial Puzzles",  8.55,  11,  "")
-lotm_rating(          "Procrustes",  7.75,  16,  "<b>(newcomer)</b>")
+lotm_rating(          "Procrustes",  7.71,  17,  "<b>(newcomer)</b>")
 
 -- Don't forget to adjust the archive dates:
 

Modified: homepage/input/lotm/lotm_core.html
===================================================================
--- homepage/input/lotm/lotm_core.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/lotm/lotm_core.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -33,7 +33,8 @@
   </table>
 
   <p>You may find the article about the <b>End-of-Year-Awards 2007</b>
-  <a href="$$eoya_2007$$">here</a>.</p>
+  <a href="$$eoya_2007$$">here</a>,
+  <b>2008</b> <a href="$$eoya_2008$$">here</a>.</p>
   
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: homepage/input/lotm/lotm_core_de.html
===================================================================
--- homepage/input/lotm/lotm_core_de.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/lotm/lotm_core_de.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -35,7 +35,8 @@
   </table>
 
   <p>Sie finden den Artikel zu den <b>Jahresendauszeichnungen 2007</b>
-  <a href="$$eoya_2007$$">hier</a>.</p>
+  <a href="$$eoya_2007$$">hier</a>,
+  <b>2008</b> <a href="$$eoya_2008$$">hier</a>.</p>
 
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: homepage/input/lotm/lotm_core_ru.html
===================================================================
--- homepage/input/lotm/lotm_core_ru.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/lotm/lotm_core_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -7,9 +7,9 @@
   ?????? ? ???????????? ? ????? ??????? ??????.</p>
 
   <p>????? ??????????? ?????? ??????. ? ?????? ???? ??????? ???????? ???????? ?????????????,
-  ????? ? ??????? ?? ??? - ?????????? ?????????????, ????????? ???? ???????.</p>
+  ????? ? ??????? ?? ??? &mdash; ?????????? ?????????????, ????????? ???? ???????.</p>
 
-  <p>?????? ?? <b>$$lotm_archive_data_from$$</b>, ??????????? ?? $$kind_of_order$$:</p>
+  <p>?????? ?? <b>$$lotm_archive_data_from$$</b>, ??????????? $$kind_of_order$$:</p>
 
   <table>
     <colgroup>
@@ -30,7 +30,8 @@
   </table>
 
   <p>?? ?????? ????? ?????? ? <b>???????? ????? ???? 2007</b>
-  <a href="$$eoya_2007$$">?????</a>.</p>
+  <a href="$$eoya_2007$$">?????</a>,
+  <b>2008</b> &mdash; <a href="$$eoya_2008$$">?????</a>.</p>
   
   <div class="lotmhistory">
     <a href="$$imagedir$$/lotm/lotm-history.png">

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/output-files.lua	2009-01-20 00:11:08 UTC (rev 1470)
@@ -508,6 +508,29 @@
 }
 
 ----------------------------------------------------------------------
+-- End of Year Awards 2008
+----------------------------------------------------------------------
+html.eoya_2008 = {
+    outfile = "eoya_2008.html",
+    title = "End of Year Awards 2008",
+    title_de = "Jahresendauszeichnungen 2008",
+    title_ru = "??????? ????? ???? 2008",
+    --es-- title_es = "End of Year Awards 2008",
+    rightcolumn = {},
+    body = {"articles/eoya_2008"}
+}    
+
+html.eoya_2008_statistics = {
+    outfile = "eoya_2008_statistics.html",
+    title = "End of Year Awards 2008 - Pure Statistics",
+    title_de = "Jahresendauszeichnungen 2008 - Pure Statistiken",
+    title_ru = "??????? ????? ???? 2008 - ?????? ??????????",
+    --es-- title_es = "End of Year Awards 2008",
+    rightcolumn = {},
+    body = {"articles/eoya_2008_statistics"}
+}
+
+----------------------------------------------------------------------
 -- April 2008 ("The Three Clouds")
 ----------------------------------------------------------------------
 

Modified: homepage/input/support_ru.html
===================================================================
--- homepage/input/support_ru.html	2009-01-19 23:56:16 UTC (rev 1469)
+++ homepage/input/support_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
@@ -151,8 +151,7 @@
 <h3><a class="arrowup" href="$$support$$"><img src="$$imagedir$$/nav_up.gif" alt="Up" border="0" title="back to top"></a>
   <a name="donation">??????</a></h3>
 
-  <p>??? ?????? ????????, ????? ???????????? ????? ??????????? ?????????? ?????????? ????????
-  Enigma. ????????????? ????? ?????, ???????????? ?? ??????? 'Enigma' ? ????????, ???????
-  ??? ???????? Enigma. ???? ?? ????????, ??? ??? ???????? ????, ????????
-  ??? ????????? ?? <a href="mailto:donation at enigma-game.org" >donation at enigma-game.org</a>
-  ? ?? ????? ??? ???? ?????????????, ??????????????? ??? Enigma.</p>
+  <p>?? ?????? ?? ?????, ?? ?????? ?? ?????? ??????????? ?????????? ?????????? ?????????? Enigma. ???? ?? ?? ????????????
+  ???? ????????? ????? ??? ?????, ??????? ?? ?????? ???? ?? ????????? ?? Enigma ? ????????, ??? ??????? ?? ??? ????????
+  ????. ???? ?? ????????, ??? ??? ???? ?? ???????????, ???????? ??? ?? <a href="mailto:donation at enigma-game.org" >donation at enigma-game.org</a>,
+  ? ?? ??????? ???? ??? ?????????????.</p>



From ged at mail.berlios.de  Tue Jan 20 09:26:14 2009
From: ged at mail.berlios.de (ged at mail.berlios.de)
Date: Tue, 20 Jan 2009 09:26:14 +0100
Subject: [Enigma-game-svn] r1471 - feature_branches/hp_lotm/input/articles
	homepage/input/articles
Message-ID: <200901200826.n0K8QExP001699@sheep.berlios.de>

Author: ged
Date: 2009-01-20 09:26:04 +0100 (Tue, 20 Jan 2009)
New Revision: 1471

Modified:
   feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
   homepage/input/articles/eoya_2008_ru.html
Log:
Homepage:
- Russian translation for some new words at EoYA


Modified: feature_branches/hp_lotm/input/articles/eoya_2008_ru.html
===================================================================
--- feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
+++ feature_branches/hp_lotm/input/articles/eoya_2008_ru.html	2009-01-20 08:26:04 UTC (rev 1471)
@@ -272,7 +272,7 @@
 ? Xang
 ?? ?? ???????????. ????????? ??????? Ludmian Sedai, ??????? ??????? ??????????????
 ?????? ? <a href="$$lotm_200807$$">&quot;Gods of Enigma II&quot;</a> ?? moonpearl,
-? ????? Clifford J. Tasner, ???????, ?? ?????? ?? ????????? ??????? ?????
+NObby ?? ????????? ?????? ;-), ? ????? Clifford J. Tasner, ???????, ?? ?????? ?? ????????? ??????? ?????
 ??????? ???????? ????-??????-????, ?????? ??????? ??????? ????? ? ??? ???,
 ????? ????????? ??? ?????????? ? ???????? ???? ???????????. ??????? ???????
 Yurij ? Ludmian, ??????? ???????? ???????? ????? ?????? ???? ???????? ???????? ??

Modified: homepage/input/articles/eoya_2008_ru.html
===================================================================
--- homepage/input/articles/eoya_2008_ru.html	2009-01-20 00:11:08 UTC (rev 1470)
+++ homepage/input/articles/eoya_2008_ru.html	2009-01-20 08:26:04 UTC (rev 1471)
@@ -272,7 +272,7 @@
 ? Xang
 ?? ?? ???????????. ????????? ??????? Ludmian Sedai, ??????? ??????? ??????????????
 ?????? ? <a href="$$lotm_200807$$">&quot;Gods of Enigma II&quot;</a> ?? moonpearl,
-? ????? Clifford J. Tasner, ???????, ?? ?????? ?? ????????? ??????? ?????
+NObby ?? ????????? ?????? ;-), ? ????? Clifford J. Tasner, ???????, ?? ?????? ?? ????????? ??????? ?????
 ??????? ???????? ????-??????-????, ?????? ??????? ??????? ????? ? ??? ???,
 ????? ????????? ??? ?????????? ? ???????? ???? ???????????. ??????? ???????
 Yurij ? Ludmian, ??????? ???????? ???????? ????? ?????? ???? ???????? ???????? ??



From ral at mail.berlios.de  Tue Jan 20 20:03:14 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 20 Jan 2009 20:03:14 +0100
Subject: [Enigma-game-svn] r1472 - in trunk: data src src/stones
Message-ID: <200901201903.n0KJ3EAg018901@sheep.berlios.de>

Author: ral
Date: 2009-01-20 20:03:12 +0100 (Tue, 20 Jan 2009)
New Revision: 1472

Modified:
   trunk/data/models-2d.lua
   trunk/src/stones.hh
   trunk/src/stones/GlassStones.hh
   trunk/src/stones/PuzzleStone.cc
   trunk/src/stones/StandardStones.hh
   trunk/src/stones/VolcanoStone.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- fix puzzle - missed fl_gray renaming
- fix volcano - missed model st_flat renaming
- fix plaster - missed model st_flat renaming
- fix stone invisible - missed model st_greenbrown renaming


Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/data/models-2d.lua	2009-01-20 19:03:12 UTC (rev 1472)
@@ -1106,6 +1106,7 @@
     local images = DefSubimages("st_flat-break", {h=6})
     DefAnim("flat_break-anim",BuildFrames(images,50))
     DefSolidStone("st_flat_breaking", "flat_break-anim")
+    DefAlias("st_plaster_breaking", "st_flat_breaking")
 end
 
 -- st-rock3-falling --

Modified: trunk/src/stones/GlassStones.hh
===================================================================
--- trunk/src/stones/GlassStones.hh	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones/GlassStones.hh	2009-01-20 19:03:12 UTC (rev 1472)
@@ -25,8 +25,23 @@
 
 namespace enigma {
 
-    /** 
+    /**
+     *
+     * Different kinds of glassstones:
+     *  Stone:                 visible:     invisible:   lasertransparent:
+     *  st-glass               -            pass         Y
+     *  st-glass1              -            pass         Y
+     *  st-glass1_hole         pass         pass         Y
+     *  st-glass2              -            pass         N
+     *  st-glass2_hole         pass         pass         Y
+     *  st-glass3              -            -            Y
      * 
+     * Different kinds of movable glassstones:
+     *  Stone:                 visible:     invisible:   lasertransparent:
+     *  st-glass_move          push         pass         Y
+     *  st-glass1_move         push         push         Y
+     *  st-glass2_move         push         push         N
+     *
      */
     class GlassStone : public Stone {
         CLONEOBJ(GlassStone);

Modified: trunk/src/stones/PuzzleStone.cc
===================================================================
--- trunk/src/stones/PuzzleStone.cc	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones/PuzzleStone.cc	2009-01-20 19:03:12 UTC (rev 1472)
@@ -256,7 +256,7 @@
     void PuzzleStone::on_floor_change() {
         if (state == FALLING) {
             state = FALLEN;   // we need to mark the puzzle as the floor set recalls this methods
-            SetFloor(get_pos(), MakeFloor("fl-gray"));
+            SetFloor(get_pos(), MakeFloor("fl_gray"));
             KillStone(get_pos());
         }
     }

Modified: trunk/src/stones/StandardStones.hh
===================================================================
--- trunk/src/stones/StandardStones.hh	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones/StandardStones.hh	2009-01-20 19:03:12 UTC (rev 1472)
@@ -52,8 +52,6 @@
         virtual Value message(const Message &m);
         
         // StateObject interface
-//        virtual int maxState() const;
-//        virtual int externalState() const;
         virtual void setState(int extState);
 
         // GridObject interface

Modified: trunk/src/stones/VolcanoStone.cc
===================================================================
--- trunk/src/stones/VolcanoStone.cc	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones/VolcanoStone.cc	2009-01-20 19:03:12 UTC (rev 1472)
@@ -76,7 +76,7 @@
     void VolcanoStone::init_model() {
         switch (state) {
             case FINISHED:
-            case INACTIVE: set_model("st-plain"); break;
+            case INACTIVE: set_model("st_flat"); break;
             case ACTIVE:   set_anim("st-farting"); break;
             case BREAKING: set_anim("st-fartbreak-anim"); break;
             case NEW:      set_anim("it-seed-growing"); break;

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones.hh	2009-01-20 19:03:12 UTC (rev 1472)
@@ -58,11 +58,8 @@
         st_disco,
         st_door,
         st_easymode,
-        st_explosion,
         st_fakeoxyda,
         st_quake,
-        st_firebreak,
-        st_firebreak_move,
         st_floppy,
         st_fourswitch,
         st_greenbrown,
@@ -71,18 +68,10 @@
         st_laserbreak,
         st_magic,
         st_mirror,
-        st_movebreak,
         st_oneway,
         st_oxyd_0x18,
         st_peroxyd_0xb8,
         st_peroxyd_0xb9,
-        st_plain,
-        st_plain_break,
-        st_plain_breaking,
-        st_plain_cracked,
-        st_plain_falling,
-        st_plain_hole,
-        st_plain_move,
         st_pull,
         st_puzzle,
         st_rotator,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-20 08:26:04 UTC (rev 1471)
+++ trunk/src/stones_simple.cc	2009-01-20 19:03:12 UTC (rev 1472)
@@ -762,7 +762,7 @@
                 if (player::WieldedItemIs (sc.actor, "it_magicwand")) {
                     sound_event ("stonepaint");
                     state = STONE;
-                    set_model("st-greenbrown");
+                    set_model("st_greenbrown");
                     MaybeRecalcLight(get_pos());
                 }
             }



From raoul at mail.berlios.de  Tue Jan 20 23:28:22 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Tue, 20 Jan 2009 23:28:22 +0100
Subject: [Enigma-game-svn] r1473 - in trunk/data/levels: enigma_cross
	enigma_i enigma_iii enigma_iv enigma_v enigma_vi enigma_vii
	enigma_viii
Message-ID: <200901202228.n0KMSMj2004207@sheep.berlios.de>

Author: raoul
Date: 2009-01-20 23:28:18 +0100 (Tue, 20 Jan 2009)
New Revision: 1473

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/enigma0_92_3.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_i/ant01_2.xml
   trunk/data/levels/enigma_i/index.xml
   trunk/data/levels/enigma_iii/duffy09_2.xml
   trunk/data/levels/enigma_iii/duffy107_2.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/ant22_2.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/ant21_2.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/raoul14_2.xml
   trunk/data/levels/enigma_vi/raoul19_1.xml
   trunk/data/levels/enigma_vii/andreas46_3.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley02_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley05_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas47_1.xml
   trunk/data/levels/enigma_viii/andreas49_1.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull15_1.xml
   trunk/data/levels/enigma_viii/devnull16_1.xml
   trunk/data/levels/enigma_viii/duffy180_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke07_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral26_1.xml
   trunk/data/levels/enigma_viii/raywick05_1.xml
Log:
-> Level updates for renamings of grates, yinyang and plain stones


Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -23,7 +23,7 @@
     <level _seq="15" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Knock Knock!" _xpath="enigma_ii/nat03_1" author="Nat Pryce" ctrl="force" easy="false" id="nat3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Slalom Skiing" _xpath="enigma_ii/martin93_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin93" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Puzzle Hacker" _xpath="enigma_i/ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="18" _title="Puzzle Hacker" _xpath="enigma_i/ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Sok It To 'Em" _xpath="enigma_i/nat07_1" author="Nat Pryce" ctrl="force" easy="false" id="nat7" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="enigma_i/siegfried39_1" author="anonymous" ctrl="force" easy="false" id="meditation6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Push? Pull!" _xpath="enigma_iii/siegfried01_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level1c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -115,7 +115,7 @@
     <level _seq="107" _title="The Turtle" _xpath="enigma_iii/ant05_1" author="Petr Machata" ctrl="force" easy="false" id="ant05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Grow Your Own" _xpath="enigma_iii/nat36_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="- Meditation -" _xpath="enigma_ii/siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="111" _title="The Disappearing Block" _xpath="enigma_ii/duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="112" _title="Space Fishing" _xpath="enigma_iii/martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Robbery" _xpath="enigma_iv/ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>
@@ -133,9 +133,9 @@
     <level _seq="125" _title="Boulder-Puzzle" _xpath="enigma_iv/duffy06_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy6" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Wild" _xpath="enigma_iii/ant28_1" author="Petr Machata" ctrl="force" easy="false" id="ant28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="The Document" _xpath="enigma_i/duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Double-Maze" _xpath="enigma_iii/duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="129" _title="- Meditation -" _xpath="enigma_peroxyd/peroxydlink60_2" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation17" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="3" score="2" target="time" unit="duration"/>
+    <level _seq="130" _title="Chained" _xpath="enigma_iv/ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="4" score="2" target="time" unit="duration"/>
     <level _seq="131" _title="Just a Maze?" _xpath="enigma_vi/duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="The Race" _xpath="enigma_iv/duffy11_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy11" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Double-Spiral" _xpath="enigma_iv/duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="13" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_3.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_cross/enigma0_92_3.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="12" title="Enigma 0.92 - 3"/>
+  <info enigma="1.00" group="Facets" location="15300" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma 0.92 - 3"/>
 
   <attributes/>
 
@@ -45,7 +45,7 @@
     <level _seq="37" _title="Termites" _xpath="enigma_iv/duffy104_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy104" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Drunkard's Walk" _xpath="enigma_iv/duffy105_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy105" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="39" _title="Under the Radar" _xpath="enigma_iv/duffy106_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy106" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Break Down the Wall" _xpath="enigma_iii/duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Break Down the Wall" _xpath="enigma_iii/duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Security Guards" _xpath="enigma_i/duffy108_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy108" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="42" _title="One-Way Streets" _xpath="enigma_iii/duffy109_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy109" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Clear the Path" _xpath="enigma_v/duffy110_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy110" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -158,12 +158,12 @@
     <level _seq="150" _title="Evil" _xpath="enigma_vi/spaceman04_1" author="Spaceman" ctrl="force" easy="false" id="spaceman4" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Meditation Disturbance" _xpath="enigma_vi/ral04_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="152" _title="Banana Republic" _xpath="enigma_v/alain26_2" author="Alain Busser" ctrl="force" easy="true" id="alain26" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="153" _title="Zeus" _xpath="enigma_vi/raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="154" _title="Rhapsody on Cracks" _xpath="enigma_vi/ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="155" _title="Prepare Your Defense" _xpath="enigma_vi/duffy132_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy132" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="156" _title="Cold Way" _xpath="enigma_vi/raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="157" _title="Laserpowered" _xpath="enigma_vi/raoul20_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul20" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="158" _title="Oxydmoron" _xpath="enigma_vi/raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="158" _title="Oxydmoron" _xpath="enigma_vi/raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="159" _title="Bomb raider" _xpath="enigma_vi/alain27_1" author="Alain Busser" ctrl="force" easy="true" id="alain27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="160" _title="Dancing on Light Beams" _xpath="enigma_vi/andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -33,7 +33,7 @@
     <level _seq="25" _title="Puppet" _xpath="enigma_vii/pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="Restless Meditation" _xpath="enigma_vii/ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Ghost Driver" _xpath="enigma_vii/duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Re-entry Circuit" _xpath="enigma_vii/pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Not Fast Enough" _xpath="enigma_vii/jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="30" _title="Give Way" _xpath="enigma_vii/just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Give more Way" _xpath="enigma_vii/just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -59,17 +59,17 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Remote Meditation" _xpath="enigma_vii/dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Crawling the Abyss" _xpath="enigma_vii/sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="65" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,32 +79,32 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="41" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="41" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="30" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="76" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
-    <level _seq="96" _title="Wierdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="96" _title="Wierdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Push Wires" _xpath="enigma_viii/ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Wired Five" _xpath="enigma_viii/ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Wireban Premiere" _xpath="enigma_viii/ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -119,24 +119,24 @@
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="145" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="12" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="146" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_i/ant01_2.xml
===================================================================
--- trunk/data/levels/enigma_i/ant01_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_i/ant01_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puzzle Hacker" el:subtitle="" el:id="ant01"/>
-      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2002 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,8 +19,8 @@
 ti["-"] = {"fl_lawn"}
 ti[":"] = {"fl_abyss"}
 ti["#"] = {"st_redbrown"}
-ti["W"] = {"st-grate2"}
-ti["X"] = {"st-grate1"}
+ti["W"] = {"st_grate_framed"}
+ti["X"] = {"st_grate_cross"}
 ti["O"] = {"st_oxyd"}
 ti["puzzle"] = {"st_puzzle", cluster="%%"}
 ti["trigger"] = {"it_trigger", target="door%%"}

Modified: trunk/data/levels/enigma_i/index.xml
===================================================================
--- trunk/data/levels/enigma_i/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_i/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="13" title="Enigma I"/>
+  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma I"/>
 
   <attributes/>
 
@@ -81,7 +81,7 @@
     <level _seq="73" _title="Formentera!" _xpath="./luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Ibiza!" _xpath="./ralf02_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_2" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Cage The Lions" _xpath="./duffy47_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy47" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="78" _title="Confetti" _xpath="./duffy74_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy74" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Why So Slow?" _xpath="./jc03_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc03" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iii/duffy09_2.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy09_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iii/duffy09_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Double-Maze" el:subtitle="" el:id="duffy9"/>
-      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,9 +17,9 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_lawn"}
 ti["#"] = {"st_redbrown"}
-ti["X"] = {"st-grate1", name="maze1#"}
+ti["X"] = {"st_grate_cross", name="maze1#"}
 ti["G"] = {"st_rawglass", name="maze2#"}
-ti["H"] = {"st-grate2"}
+ti["H"] = {"st_grate_framed"}
 ti["A"] = {"st_switch", target="exchange_mazes", instant=true}
 ti["O"] = {"st_oxyd", name="oxyd1#"}
 ti["o"] = {"st_oxyd", name="oxyd2#"}

Modified: trunk/data/levels/enigma_iii/duffy107_2.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy107_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iii/duffy107_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Break Down the Wall" el:subtitle="" el:id="duffy107"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -17,7 +17,7 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_rock"}
 ti["#"] = {"st_granite"}
-ti["G"] = ti({"st-grate1"}) .. {"it_meditation_hollow"}
+ti["G"] = ti({"st_grate_cross"}) .. {"it_meditation_hollow"}
 ti["R"] = {"st_oneway", color=BLACK, orientation=EAST}
 ti["s"] = {"it_seed"}
 ti["o"] = {"st_oxyd", name="left#"}

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma III"/>
 
   <attributes/>
 
@@ -64,7 +64,7 @@
     <level _seq="56" _title="Space Fishing" _xpath="./martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Manamana" _xpath="./just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Sacrifice" _xpath="./duffy49_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy49" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="Double-Maze" _xpath="./duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="Double-Maze" _xpath="./duffy09_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy9" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="./nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
@@ -76,7 +76,7 @@
     <level _seq="68" _title="Bowling" _xpath="./martin80_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin80" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="69" _title="Slinky Mayhem" _xpath="./duffy64_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy64" rel="2" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="70" _title="Overwhelming" _xpath="./duffy65_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy65" rel="2" rev="3" score="1" target="time" unit="duration"/>
-    <level _seq="71" _title="Break Down the Wall" _xpath="./duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="71" _title="Break Down the Wall" _xpath="./duffy107_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy107" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="One-Way Streets" _xpath="./duffy109_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy109" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Killer Hills" _xpath="./luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="The Exchange" _xpath="./raywick04_1" author="Ray Wick" ctrl="force" easy="false" id="RayWick004" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/ant22_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant22_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iv/ant22_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chained" el:subtitle="" el:id="ant22"/>
-      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti["."] = {"fl_abyss"}
 ti["-"] = {"fl_metal_7"}
 ti["#"] = {"st_metal"}
-ti["x"] = {"st-grate1"}
+ti["x"] = {"st_grate_cross"}
 ti["0"] = {"st_oxyd", name="grp0#"}
 ti["1"] = {"st_oxyd", name="grp1#"}
 ti["2"] = {"st_oxyd", name="grp2#"}

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="13" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="14" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -56,7 +56,7 @@
 ti["o"] = {"st_oxyd"} .. ti["l"]
 ti["z"] = {"#ac_marble_black"} .. ti["l"]
 ti["y"] = {"ac_marble_white", 0, 0.5, adhesion=0} .. ti["l"]
-ti["g"] = {"st-grate1"} .. ti["l"]
+ti["g"] = {"st_grate_cross"} .. ti["l"]
 ti["x"] = {"it_trap", state=OPEN} .. ti["."]
 ti["S"] = {"it-spring1"} .. ti["l"]
 ti["F"] = {"it-flagblack"} .. ti["l"]

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma IV"/>
 
   <attributes/>
 
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Slide it in" _xpath="./ss13_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss13" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Switch-Switch" _xpath="./raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Slinky-Racing" _xpath="./duffy14_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="3" score="2" target="time" unit="duration"/>
+    <level _seq="13" _title="Chained" _xpath="./ant22_2" author="Petr Machata" ctrl="force" easy="true" id="ant22" rel="2" rev="4" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Too Hot" _xpath="./martin94_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin94" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Graduated Puzzles" _xpath="./duffy94_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy94" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="16" _title="Running Stone" _xpath="./christophanita01_1" author="Christoph &amp; Anita" ctrl="force" easy="false" id="christophanita_runningstone" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_v/ant21_2.xml
===================================================================
--- trunk/data/levels/enigma_v/ant21_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_v/ant21_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Draggers" el:subtitle="" el:id="ant21"/>
-      <el:version el:score="1" el:release="2" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,7 +22,7 @@
 ti[":"] = ti[" "] .. ti({"it_seed"}) .. {"st-chameleon"}
 ti["d"] = {"it-document", text="text1"}
 ti["#"] = {"st_granite"}
-ti["X"] = {"st-grate1"}
+ti["X"] = {"st_grate_cross"}
 ti["^"] = {"st_boulder", name="boulders#", orientation=NORTH}
 ti["B"] = {"st_oxyd", oxydcolor=OXYD_BLUE, flavor="d"}
 ti["R"] = {"st_oxyd", oxydcolor=OXYD_RED, flavor="d"}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma V"/>
 
   <attributes/>
 
@@ -21,7 +21,7 @@
     <level _seq="13" _title="Sentry Duty" _xpath="./nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Thievish Alleys" _xpath="./andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Solvable?" _xpath="./barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="7" score="1" target="time" unit="duration"/>
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="13" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="12" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="13" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,7 +28,7 @@
 ti["T "] = {"st-thief"}
 ti["C "] = {"st_coinslot", target="door3"}
 ti["B "] = {"st-bombs"}
-ti["X "] = {"st-grate2"}
+ti["X "] = {"st_grate_framed"}
 ti["M "] = {"st_blocker"}
 ti["W "] = {"st_box_wood"}
 if wo["IsDifficult"] then
@@ -90,7 +90,7 @@
 ti["@ "] = {"#ac_marble_black"}
 
 local resolver = res.composer(ti)
-w, h = wo(resolver, "  ", {
+wo(resolver, "  ", {
 "# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # ",
 "#         =f  V     =g        #*        =p        =i        =k        =;    # ",
 "#   @         F                                                             # ",

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VI"/>
 
   <attributes/>
 
@@ -17,7 +17,7 @@
     <level _seq="9" _title="Im-pull-se" _xpath="./ralf07_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf07" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Meditation Disturbance" _xpath="./ral04_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060429ral006" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Cold Way" _xpath="./raoul21_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul21" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Oxydmoron" _xpath="./raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="12" _title="Oxydmoron" _xpath="./raoul14_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul14" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="13" _title="Rhapsody on Cracks" _xpath="./ral06_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060510ral008" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Red Herrings" _xpath="./andy01_3" author="Andy Geldmacher" ctrl="force" easy="false" id="20070116money001" rel="3" rev="1" score="3" target="time" unit="duration"/>
     <level _seq="15" _title="Step gently!" _xpath="./malla03_2" author="Manuel K?nig" ctrl="force" easy="true" id="malla03" rel="2" rev="2" score="2" target="time" unit="duration"/>
@@ -36,7 +36,7 @@
     <level _seq="28" _title="Holes!" _xpath="./edward14_1" author="Edward" ctrl="force" easy="false" id="edward14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Chessing Positions" _xpath="./raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="- Meditation -" _xpath="./raoul24_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul24" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Zeus" _xpath="./raoul19_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul19" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Sisyphus" _xpath="./nat13_1" author="Nat Pryce" ctrl="force" easy="false" id="nat13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Ben Hur" _xpath="./ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Troy" _xpath="./andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/raoul14_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul14_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vi/raoul14_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Oxydmoron" el:subtitle="" el:id="raoul14"/>
-      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
 
 ti[" "] = {"fl_water"}
 ti["-"] = {"fl_concrete"}
-ti["Y"] = ti["-"] .. ti({"it_yinyang"}) .. {"st-yinyang1"}
+ti["Y"] = ti["-"] .. ti({"it_yinyang"}) .. {"st_blur_cross"}
 ti["1"] = ti["-"] .. {"#ac_marble_black"}
 ti["2"] = ti["-"] .. {"#ac_marble_white"}
 ti["W"] = ti["-"] .. {"st_passage", flavor="frame", color=col}

Modified: trunk/data/levels/enigma_vi/raoul19_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vi/raoul19_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Zeus" el:subtitle="The master of flashes" el:id="raoul19"/>
-      <el:version el:score="1" el:release="1" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="raoul at users.berlios.de" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,9 +19,9 @@
 ti["~"] = {"fl_water"}
 ti["A"] = {"st_bluesand", cluster=1}
 ti["B"] = {"st_bluesand", cluster=2}
-ti["X"] = {"st-grate1"}
+ti["X"] = {"st_grate", flavor="cross"}
 ti["!"] = {"st_flash"}
-ti["W"] = {"st_passage_white_frame"}
+ti["W"] = {"st_passage", color=WHITE, flavor="frame"}
 ti["O"] = {"st_oxyd", flavor="d"}
 ti["1"] = {"#ac_marble_black", owner=0}
 ti["2"] = {"#ac_marble_white", essential=1}
@@ -58,7 +58,7 @@
     "BBBBBABABABABAAAAAAA"}
 end
 
-w, h = wo(ti, " ", map)
+wo(ti, " ", map)
 wo:shuffleOxyd()
  ]]></el:luamain>
     <el:i18n>

Modified: trunk/data/levels/enigma_vii/andreas46_3.xml
===================================================================
--- trunk/data/levels/enigma_vii/andreas46_3.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/andreas46_3.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Tinker, Tailor" el:subtitle="" el:id="andreas46"/>
-      <el:version el:score="2" el:release="4" el:revision="10" el:status="released"/>
+      <el:version el:score="2" el:release="4" el:revision="11" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -28,8 +28,8 @@
 ti["S*"] = {"st_scissors", name = "scissors%%", target = "call_scissors"}
 ti["C "] = {"st_scissors", name = "scissors_central", target = "call_scissors"}
 ti["X*"] = {"st_lightglass"} .. ti({"#ac_horse", name = "horse%%"})
-ti["s*"] = {"st-grate2", name = "parascissors%%"}
-ti["c "] = {"st-grate2", name = "parascissors_central"}
+ti["s*"] = {"st_grate_framed", name = "parascissors%%"}
+ti["c "] = {"st_grate_framed", name = "parascissors_central"}
 ti["x*"] = {"st_lightglass_hollow", name = "paraplace%%"}
 ti["u "] = {"st_switch", target = "next_pattern"}
 ti["v "] = {"st_switch", target = "solve"}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="32" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="33" title="Enigma VII"/>
 
   <attributes/>
 
@@ -57,7 +57,7 @@
     <level _seq="49" _title="Puppet" _xpath="./pulley06_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley06" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Restless Meditation" _xpath="./ral09_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070623ral914" rel="2" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Ghost Driver" _xpath="./duffy176_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy176" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Re-entry Circuit" _xpath="./pulley05_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley05" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Not Fast Enough" _xpath="./jet04_3" author="James Taylor, Ronald Lamprecht" ctrl="force" easy="true" id="20070413jet001" rel="3" rev="3" score="3" target="time" unit="duration"/>
     <level _seq="54" _title="Give Way" _xpath="./just20_1" author="JuSt" ctrl="force" easy="false" id="just20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Give more Way" _xpath="./just21_2" author="JuSt" ctrl="force" easy="true" id="just21" rel="2" rev="3" score="2" target="time" unit="duration"/>
@@ -83,17 +83,17 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="11" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Remote Meditation" _xpath="./dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Crawling the Abyss" _xpath="./sph02_1" author="ShadowPhrogg32642342" ctrl="force" easy="true" id="sph02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="10" score="2" target="time" unit="duration"/>
+    <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="89" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="41" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="42" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti["& "] = {"st-stone_break"}
 ti["' "] = {"st_rawglass_movable"}
 ti["( "] = {"st_pinkbumps"}
-ti[") "] = {"st-grate1"}
+ti[") "] = {"st_grate_cross"}
 ti["h "] = {"it_strip", connections="ew"}
 ti["* "] = {"st_brick"}
 ti["+ "] = {"st_mirror_triangle", movable=false, transparent=false, orientation=EAST}
@@ -95,7 +95,7 @@
 ti["m "] = {"it-springboard"}
 ti["O "] = {"st_purplegray"}
 ti["P "] = {"st-grate3"}
-ti["R "] = {"st-grate2"}
+ti["R "] = {"st_grate_framed"}
 ti[" 7"] = {"fl_space"}
 ti["S "] = {"st-break_invisible"}
 ti[" 8"] = {"fl_bluegray"}
@@ -114,7 +114,7 @@
 ti["~m"] = ti[" :"] .. {"st_rawglass_movable"}
 ti["=m"] = ti[" ,"] .. {"st_rawglass_movable"}
 ti["mm"] = ti[" %"] .. {"st_rawglass"}
-ti["~g"] = ti[" %"] .. {"st-grate1"}
+ti["~g"] = ti[" %"] .. {"st_grate_cross"}
 ti["h-"] = ti["~g"] .. {"it_strip", connections="ew"}
 ti["nn"] = ti[" 3"] .. {"st_actorimpulse_invisible"}
 ti["n-"] = ti[" 5"] .. {"st_actorimpulse_invisible"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:37$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:38$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -45,8 +45,8 @@
 ti["' "] = {"st_door", faces="ns", name="dolli2"}
 ti["( "] = {"st_actorimpulse_invisible"}
 ti[" &"] = {"fl_aquamarine"}
-ti[") "] = {"st-grate1"}
-ti["a1"] = ti[" !"] .. {"st-grate1"}
+ti[") "] = {"st_grate_cross"}
+ti["a1"] = ti[" !"] .. {"st_grate_cross"}
 ti["* "] = {"st_mirror", movable=true, transparent=false}
 ti["+ "] = {"st_darkgray"}
 ti[" '"] = {"fl_water"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 41 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 42 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti[" #"] = {"fl_blueslab"}
 ti[" $"] = {"fl_ivory"}
 ti["$ "] = {"st_knight"}
-ti["% "] = {"st-grate1"}
+ti["% "] = {"st_grate_cross"}
 ti[" %"] = {"fl_abyss"}
 ti[" &"] = {"fl_water"}
 ti[" '"] = {"fl_sahara"}
@@ -96,7 +96,7 @@
 ti["z6"] = ti["l6"] .. {"it_cherry"}
 ti["z7"] = ti[" !"] .. {"st_box_wood"}
 ti["z8"] = ti[" !"] .. {"st_oneway_black_w"}
-ti["z9"] = ti[" !"] .. {"st-grate1"}
+ti["z9"] = ti[" !"] .. {"st_grate_cross"}
 ti["g5"] = ti["z9"] .. {"it_crack_l"}
 ti["l7"] = ti["l5"] .. {"it_extralife"}
 ti["z1"] = ti[" 4"] .. {"it_key", code=1}

Modified: trunk/data/levels/enigma_vii/pulley02_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Action Potential" el:subtitle="" el:id="pulley02"/>
-      <el:version el:score="1" el:release="2" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti["?"] = {"fl_sand"}
 ti["."] = ti[" "] .. {"st_stoneimpulse_hollow"}
 ti[","] = ti[" "] .. {"st_stoneimpulse"}
-ti[":"] = ti[" "] .. {"st-grate1"}
+ti[":"] = ti[" "] .. {"st_grate_cross"}
 ti["*"] = ti[" "] .. {"st_lightglass"}
 ti["v"] = ti[" "] .. {"st_boulder_s"}
 ti["w"] = {"fl_red"} .. ti({"st_box_wood"})

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="11" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="12" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -47,7 +47,7 @@
 ti["H"] = ti[" "] .. {"st_oneway_white", state=EAST}
 ti["I"] = ti["f"] .. {"st_invisible"} --Invisible stone on black floor
 ti["J"] = ti["y"] .. {"st_passage_black_slash"} --Black grill on blue floor
-ti["K"] = ti["y"] .. {"st-grate1"} --Grate on blue floor
+ti["K"] = ti["y"] .. {"st_grate_cross"} --Grate on blue floor
 ti["L"] = ti[" "] .. {"it_landmine"}
 ti["M"] = ti[" "] .. {"it_spoon"}
 ti["N"] = ti[" "] .. {"it-dynamite"}

Modified: trunk/data/levels/enigma_vii/pulley05_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/pulley05_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Re-entry Circuit" el:subtitle="" el:id="pulley05"/>
-      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="8" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,27 +18,27 @@
 ti["l"] = ti[" "] .. {"st_stoneimpulse_new", orientation = SOUTH, hollow = true}
 ti["o"] = ti[" "] .. {"st_stoneimpulse_hollow"}
 ti["w"] = ti[" "] .. {"st_box_wood"}
-ti["x"] = ti[" "] .. {"st-grate1"}
+ti["x"] = ti[" "] .. {"st_grate_cross"}
 ti["0"] = ti[" "] .. {"st_oxyd"}
 ti["B"] = ti[" "] .. {"#ac_marble_black"}
 
-w, h = wo(ti, " ",{
- "bbbbbbbbbbbbbbbbbbbb",
- "b0o o oOooo ooo oo0b",
- "bOOOObob bbbObObOOOb",
- "b   o oboOO o o o ob",
- "boOOObOOo   ObObObob",
- "bo    o OOOOObOOObob",
- "bOOOOOowlB  o      b",
- "b      OOOOOOOOwObob",
- "boOOwObowo    OOOOob",
- "bo ooOoo OOOOx o xxb",
- "bOOb b www  OowOwOOb",
- "b0oooO oooooO oooo0b",
- "bbbbbbbbbbbbbbbbbbbb"})
+wo(ti, " ",{
+    "bbbbbbbbbbbbbbbbbbbb",
+    "b0o o oOooo ooo oo0b",
+    "bOOOObob bbbObObOOOb",
+    "b   o oboOO o o o ob",
+    "boOOObOOo   ObObObob",
+    "bo    o OOOOObOOObob",
+    "bOOOOOowlB  o      b",
+    "b      OOOOOOOOwObob",
+    "boOOwObowo    OOOOob",
+    "bo ooOoo OOOOx o xxb",
+    "bOOb b www  OowOwOOb",
+    "b0oooO oooooO oooo0b",
+    "bbbbbbbbbbbbbbbbbbbb"})
 
 wo:shuffleOxyd()
-    ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">
         <el:english el:translate="false"/>

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="15" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="16" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,13 +19,13 @@
     <el:luamain><![CDATA[
 ti[" "] = {"fl_brick"}
 ti["1"] = ti[" "] .. {"st_scissors", action="callback", target="Grow1"} -- Orin being eaten by Audrey II
-ti["2"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow2"} -- Orin swallowed by Audrey II
+ti["2"] = (ti[" "] .. {"st_grate_cross"}) .. {"it_trigger", action="callback", target="Grow2"} -- Orin swallowed by Audrey II
 ti["3"] = ti[" "] .. {"st_scissors", action="callback", target="Grow3"} -- Mushnik being eaten by Audrey II
-ti["4"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow4"} -- Mushnik swallowed by Audrey II
+ti["4"] = (ti[" "] .. {"st_grate_cross"}) .. {"it_trigger", action="callback", target="Grow4"} -- Mushnik swallowed by Audrey II
 ti["5"] = ti[" "] .. {"st_scissors", action="callback", target="Grow5"} -- Audrey being eaten by Audrey II
-ti["6"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow6"} -- Audrey swallowed by Audrey II
+ti["6"] = (ti[" "] .. {"st_grate_cross"}) .. {"it_trigger", action="callback", target="Grow6"} -- Audrey swallowed by Audrey II
 ti["7"] = (ti({"fl-gradient15"}) .. {"it_trigger", action="callback", target="Grow7"}) .. {"st_oneway_w"} -- Seymour being eaten by Audrey II
-ti["8"] = (ti[" "] .. {"st-grate1"}) .. {"it_trigger", action="callback", target="Grow8"} -- Seymour swallowed by Audrey II
+ti["8"] = (ti[" "] .. {"st_grate_cross"}) .. {"it_trigger", action="callback", target="Grow8"} -- Seymour swallowed by Audrey II
 ti["9"] = ti[" "] .. {"st_door", name="Door1", flavor="a"} -- Mushnik's door
 ti["0"] = ti[" "] .. {"st_door", name="Door2", flavor="a"} -- Audrey's door
 ti["!"] = (ti({"fl_bright"}) .. {"st_plaster_hollow"}) .. {"it_rubberband", anchor2="Orin", length=1,strength=10}
@@ -49,18 +49,18 @@
 ti["d"] = ti[" "] .. {"st_redrock"} --Walls
 ti["e"] = {"fl-gradient16"} .. ti({"st_nil"})
 ti["f"] = {"fl_lawn"} --Audrey's floor
-ti["g"] = ti[" "] .. {"st-grate1"}
+ti["g"] = ti[" "] .. {"st_grate_cross"}
 ti["h"] = (ti({"fl_bright"}) .. {"it_hammer"}) .. {"st_plaster_hollow"}
 ti["i"] = {"fl_mortar"} .. ti({"st_beads"}) --Window
 ti["j"] = {"fl_bright"} --Orin's floor
 ti["k"] = ti[" "] .. {"st_redbrown"} --Audrey's Walls
 ti["m"] = {"fl_plank"} .. ti({"it_coin_l"})
-ti["n"] = {"fl-gradient13"} .. ti({"st-grate1"})
+ti["n"] = {"fl-gradient13"} .. ti({"st_grate_cross"})
 ti["o"] = (ti[" "] .. {"it_meditation_hollow", essential=1}) .. {"st_camouflage"}
-ti["p"] = ti[" "] .. {"st-plain"}
+ti["p"] = ti[" "] .. {"st_flat"}
 ti["q"] = ti[" "] .. {"st_woven"}
 ti["s"] = {"fl-gradient14"} .. ti({"st_nil"})
-ti["t"] = (ti({"fl-gradient14"}) .. {"st-grate1"}) .. {"it-burnable"}
+ti["t"] = (ti({"fl-gradient14"}) .. {"st_grate_cross"}) .. {"it-burnable"}
 ti["w"] = {"fl-gradient15"} .. ti({"st_nil"})
 ti["x"] = ti[" "] .. {"st_scissors"}
 ti["y"] = {"fl_woven"}
@@ -79,7 +79,7 @@
 ti["Y"] = ti[" "] .. {"st-grate3"}
 ti["M"] = ti["Y"] .. {"#ac_horse", strength=3, name="horse", destination={"d1","d2","d3","d4"}} -- Chiffon, Crystal, Ronnette
 ti["O"] = ti[" "] .. {"st_panel", cluster=1}
-ti["P"] = {"fl_bright"} .. ti({"st-plain_break"})
+ti["P"] = {"fl_bright"} .. ti({"st_flat_breakable"})
 ti["Q"] = ti[" "] .. {"st_plaster_hollow"}
 ti["R"] = ti[" "] .. {"st_plaster"}
 ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}

Modified: trunk/data/levels/enigma_viii/andreas47_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/andreas47_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Show Jumper" el:subtitle="" el:id="andreas47"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
 ti["+"] = ti["&"] --.. {"st_yellow"}
 ti["*"] = ti["&"]
 ti["%"] = ti["+"]
-ti["."] = ti["_"] --.. {"st-grate1"}
+ti["."] = ti["_"] --.. {"st_grate_cross"}
 ti["@"] = ti["+"] .. {"#ac_pearl_white"}
 ti["1"] = ti[" "] .. {"st_window_sw", secure = true}
 ti["2"] = ti[" "] .. {"st_window_s", secure = true}

Modified: trunk/data/levels/enigma_viii/andreas49_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/andreas49_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Wierdly Wired" el:subtitle="" el:id="andreas49"/>
-      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti["c"] = {"fl_platinum", friction = 3.5, mouseforce = 4.0}
 ti["_"] = {"fl_water"}
 ti["@"] = {"#ac_marble_black"}
-ti["w"] = {"st-plain_move", "wood#"}
+ti["w"] = {"st_flat_movable", "wood#"}
 ti["t"] = {"it_trigger", "trigger#"}
 ti["d"] = {"st_blocker", "door#"}
 ti["o"] = {"st_oxyd", oxydcolor = OXYD_YELLOW, flavor = "a"}

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="24" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="25" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -48,8 +48,8 @@
 ti["mailer"] = {"st_mail_s"}
 ti["m"] = ti["mailer"] .. {"it_pipe_sw"}
 ti["M"] = ti["mailer"] .. {"it_pipe_es"}
-ti["x"] = {"st-grate1"}
-ti["X"] = ti["."] .. {"st-grate1"}
+ti["x"] = {"st_grate_cross"}
+ti["X"] = ti["."] .. {"st_grate_cross"}
 ti["="] = ti["."] .. {"st_door", faces = "ns"}
 ti["o"] = {"st_oxyd"}
 ti[":"] = {"fl_bridge_bn", name = "bridgeFloppyBlack#"}

Modified: trunk/data/levels/enigma_viii/devnull15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="On belay?" el:subtitle="" el:id="devnull15"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
     ti["@"] = ti["."] .. {"#ac_marble_white", owner = 0, controllers = 1}
 end
 
-ti["x"] = ti[" "] .. {"st-grate1"}
+ti["x"] = ti[" "] .. {"st_grate_cross"}
 ti["r"] = ti["."] .. {"st_rotator", movable = true}
 ti["s"] = ti["."] .. {"st_swap"}
 ti["w"] = ti["."] .. {"st_box_wood"}

Modified: trunk/data/levels/enigma_viii/devnull16_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hang-dogging?" el:subtitle="" el:id="devnull16"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 end
 
 ti[" "] = {"fl_abyss"}
-ti["."] = ti[" "] .. {"st-grate1"}
+ti["."] = ti[" "] .. {"st_grate_cross"}
 ti["T"] = {"it_trigger", target = "grateKiller"}
 if wo["IsDifficult"] then
     ti[":"] = {"fl_bridge_gc", state = CLOSED}
@@ -31,21 +31,21 @@
     ti["t"] = ti[":"] ..ti["T"]
     ti["r"] = ti["t"] .. {"st_rotator", counterclock = true}
     ti["R"] = ti["t"] .. {"st_rotator", counterclock = false}
-    ti["g"] = ti[" "] .. {"st-grate1"}
+    ti["g"] = ti[" "] .. {"st_grate_cross"}
     ti["@"] = ti[":"] .. {"#ac_marble_black", owner = 0}
 else
     ti[":"] = {"fl_dark"}
     ti["X"] = ti["."]
-    ti["Y"] = ti[":"] .. {"st-grate1"}
+    ti["Y"] = ti[":"] .. {"st_grate_cross"}
     ti["!"] = ti[":"] .. {"it-pin"}
     ti["t"] = ti[":"] ..ti["T"]
     ti["r"] = ti["t"]
     ti["R"] = ti["t"]
-    ti["g"] = ti[":"] .. {"st-grate1"}
+    ti["g"] = ti[":"] .. {"st_grate_cross"}
     ti["@"] = ti[":"] .. {"#ac_marble_white", owner = 0, controllers = 1}
 end
-ti["G"] = ti[":"] .. {"st-grate1"}
-ti["x"] = ti[" "] .. {"st-grate1"}
+ti["G"] = ti[":"] .. {"st_grate_cross"}
+ti["x"] = ti[" "] .. {"st_grate_cross"}
 ti["1"] = ti[" "] .. {"st_swap", name = "swapper01"}
 ti["2"] = ti[" "] .. {"st_swap", name = "swapper02"}
 ti["3"] = ti[" "] .. {"st_swap", name = "swapper03"}

Modified: trunk/data/levels/enigma_viii/duffy180_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/duffy180_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="See Saw Meditation" el:subtitle="" el:id="duffy180"/>
-      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti[" "] = {"fl_lawn"}
 ti["~"] = {"fl_water"}
 ti["#"] = {"st_tigris"}
-ti["g"] = {"st-grate1"}
+ti["g"] = {"st_grate_cross"}
 ti["P"] = {"st_pull"}
 ti["S"] = {"st_switch", target="med#*", action="flip"}
 ti["*"] = {"st_brownie"}
@@ -37,7 +37,7 @@
     ti["H"] = {"it_meditation_hill", "med#"}
 end
 
-w, h = wo(ti, " ", {
+wo(ti, " ", {
     "~~~~~~~~~~~~~~~~~~~~",
     "#########~~#########",
     "#       #~~#       #",

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -1,35 +1,35 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="41" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="29" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="30" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="76" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
-    <level _seq="21" _title="Wierdly Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Wierdly Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="9" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Push Wires" _xpath="./ral24_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080708ral196" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Wired Five" _xpath="./ral25_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080721ral073" rel="1" rev="130" score="1" target="time" unit="duration"/>
-    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="129" score="1" target="time" unit="duration"/>
+    <level _seq="24" _title="Wireban Premiere" _xpath="./ral26_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080715ral161" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
@@ -42,24 +42,24 @@
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="145" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="12" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="146" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="29" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["+ "] = {"st_actorimpulse_invisible"}
 ti["G "] = {"st_rawglass"}
 ti["m "] = {"st_rawglass_movable"}
-ti["X "] = {"st-grate1"}
+ti["X "] = {"st_grate_cross"}
 ti["P "] = {"st_pull"}
 ti["W "] = ti["P "] .. {"it_wormhole",range=0,strength=0, state=OFF}
 ti["^ "] = {"st_oneway_black_n"}

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 16 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti["B "] = {"st_swap"}
 ti["C "] = {"st_box_wood"}
 ti["F "] = {"st_quake"}
-ti["D "] = ti[" ~"] .. {"st-grate1"}
+ti["D "] = ti[" ~"] .. {"st_grate_cross"}
 ti["E "] = ti[" ~"] .. {"st_rawglass_movable"}
 ti["  "] = {"fl_metal_7", friction=4.0}
 ti[" ."] = {"fl_abyss"}
@@ -41,7 +41,7 @@
 ti["U1"] = {"st_passage_black_frame"}
 ti["ic"] = {"st-stone_break"}
 ti["h "] = {"st_bluegray_hollow"}
-ti["Xn"] = ti["nn"] .. {"st-grate1"}
+ti["Xn"] = ti["nn"] .. {"st_grate_cross"}
 ti[" b"] = ti["  "] .. {"it-blackbomb"}
 ti["i "] = ti["  "] .. {"it-dynamite"}
 ti["ih"] = ti["  "] .. {"it_hammer"}
@@ -91,7 +91,7 @@
 ti["O "] = {"st_rotator_ccw", movable=false}
 ti["Z "] = {"st_timer",action="callback",target="hux",interval=11.9,invisible=0}
 ti["l "] = ti[" n"] .. {"st_polarswitch"}
-ti["mm"] = ti[" ~"] .. {"st-grate1"}
+ti["mm"] = ti[" ~"] .. {"st_grate_cross"}
 ti["* "] = ti["mm"] .. {"#ac_marble_black"}
 ti["+ "] = {"#ac_rotor", range=2, strength=2, gohome=false}
 

Modified: trunk/data/levels/enigma_viii/mecke07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios I" el:subtitle="Use the Lightpassenger" el:id="mecke48"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 20 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 21 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -19,7 +19,7 @@
 ti["# "] = {"st_lightpassenger"}
 ti[" i"] = {"st_lightpassenger"}
 ti[" l"] = {"fl_sahara"}
-ti["X "] = {"st-grate1"}
+ti["X "] = {"st_grate_cross"}
 ti["* "] = ti[" _"] ..  {"#ac_marble_black"}
 ti[" ,"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}
@@ -50,7 +50,7 @@
 ti["G "] = {"st_yellow"}
 ti["P "] = ti[" n"] ..{"st_pull"}
 ti["g "] = {"it_glasses"}
-ti["T "] = ti["g "] .. {"st-grate1"}
+ti["T "] = ti["g "] .. {"st_grate_cross"}
 ti["J "] = {"#ac_top", range=1, strength=1}
 ti["= "] = {"#ac_horse"}
 ti["$1"] = {"it_trigger", target="olli1"}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 22 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
 ti[" l"] = ti["  "] ..{"it_meditation_bump"}
 ti[" m"] = {"fl_sahara"}
 ti[" c"] = {"it_brush"}
-ti["X "] = ti[" m"] ..{"st-grate1"}
+ti["X "] = ti[" m"] ..{"st_grate_cross"}
 ti[" _"] = {"fl_swamp"}
 ti[" ,"] = {"fl_red"}
 ti[" ~"] = {"fl_water"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 29 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 30 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -33,9 +33,9 @@
 ti[" ("] = {"fl_space"}
 ti["& "] = {"st_yellow"}
 ti["' "] = {"st_actorimpulse"}
-ti["( "] = {"st-grate1"}
-ti["i1"] = ti[" ."] .. {"st-grate1"}
-ti["i2"] = ti[" ,"] .. {"st-grate1"}
+ti["( "] = {"st_grate_cross"}
+ti["i1"] = ti[" ."] .. {"st_grate_cross"}
+ti["i2"] = ti[" ,"] .. {"st_grate_cross"}
 ti[" 1"] = {"fl_rough"}
 ti[") "] = {"st_bluesand"}
 ti["f "] = {"it_coffee"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 30 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -46,7 +46,7 @@
 ti[" i"] = ti["U1"] .. {"fl_inverse"}
 ti[" w"] = ti["U1"] .. {"fl_water"}
 ti[" e"] = ti[" i"] .. {"it_hammer"}
-ti["u "] = ti[" _"] .. {"st-grate2"}
+ti["u "] = ti[" _"] .. {"st_grate_framed"}
 ti["x "] = ti[" ("] .. {"it_brush"}
 ti["D1"] = {"st_death"}
 ti["D2"] = {"st_death_invisible"}
@@ -94,7 +94,7 @@
 ti["o "] = {"it-springboard"}
 ti["j "] = {"it_magicwand"}
 ti[" z"] = {"it-booze"}
-ti["P "] = {"st-grate1"}
+ti["P "] = {"st_grate_cross"}
 ti["9 "] = {"st_turnstile"} 
 ti["a "] = {"st_turnstilearm", orientation=NORTH}
 ti["q "] = {"st_turnstilearm", orientation=SOUTH}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -30,12 +30,12 @@
 ti[" +"] = {"fl_sahara"}
 ti["yi"] = ti[" +"] .. {"it_yinyang"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
-ti["X~"] = ti[" ~"] .. {"st-grate1"}
-ti["Xw"] = ti[" w"] .. {"st-grate1"}
-ti["X'"] = ti[" '"] .. {"st-grate1"}
-ti["Xi"] = ti[" i"] .. {"st-grate1"}
-ti["Xb"] = ti[" b"] .. {"st-grate1"}
-ti["X&"] = ti[" &"] .. {"st-grate1"}
+ti["X~"] = ti[" ~"] .. {"st_grate_cross"}
+ti["Xw"] = ti[" w"] .. {"st_grate_cross"}
+ti["X'"] = ti[" '"] .. {"st_grate_cross"}
+ti["Xi"] = ti[" i"] .. {"st_grate_cross"}
+ti["Xb"] = ti[" b"] .. {"st_grate_cross"}
+ti["X&"] = ti[" &"] .. {"st_grate_cross"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
 ti["0~"] = ti[" ~"] .. {"st-coffee"}
@@ -56,11 +56,11 @@
 ti["Sw"] = ti[" w"] .. {"st_swap"}
 ti["Tw"] = ti[" w"] .. {"st-thief"}
 ti["y~"] = ti[" ~"] .. {"it_yinyang"}
-ti["Y~"] = ti[" ~"] .. {"st-yinyang1"}
-ti["Y&"] = ti[" &"] .. {"st-yinyang1"}
-ti["Y!"] = ti[" !"] .. {"st-yinyang1"}
-ti["Y'"] = ti[" '"] .. {"st-yinyang1"}
-ti["Yw"] = ti[" w"] .. {"st-yinyang1"}
+ti["Y~"] = ti[" ~"] .. {"st_blur_cross"}
+ti["Y&"] = ti[" &"] .. {"st_blur_cross"}
+ti["Y!"] = ti[" !"] .. {"st_blur_cross"}
+ti["Y'"] = ti[" '"] .. {"st_blur_cross"}
+ti["Yw"] = ti[" w"] .. {"st_blur_cross"}
 ti["++"] = ti[" +"] .. {"st_granite_hollow"}
 ti["+i"] = ti[" i"] .. {"st_granite_hollow"}
 ti["A~"] = ti[" ~"] .. {"st_actorimpulse"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:13$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:14$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -43,7 +43,7 @@
 ti[" )"] = {"fl-gradient12"}
 ti[" *"] = {"fl-gradient4"}
 ti["- "] = {"st_boulder_w"}
-ti[". "] = {"st-grate1"}
+ti[". "] = {"st_grate_cross"}
 ti[" d"] = ti["hh"] .. {"it-dynamite"}
 ti["c "] = {"it_crack_l"}
 ti["? "] = {"it_seed_volcano"}
@@ -94,7 +94,7 @@
     ti["ee"] = ti[" $"] .. {"st_yellow"}
     ti["ex"] = ti["ef"] .. {"it_squashed"}
     ti["eo"] = ti["ef"] .. {"it_squashed"}
-    ti["R "] = {"st-grate1"}
+    ti["R "] = {"st_grate_cross"}
     ti["Q "] = {"st_purplegray"}
     ti["S "] = {"st_scissors"}
 end

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 31 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,7 +34,7 @@
 ti[" )"] = {"fl_yinyang_yin"}
 ti["+ "] = {"st_passage_white_cross"}
 ti[", "] = {"st_passage_black_cross"}
-ti["- "] = {"st-grate1"}
+ti["- "] = {"st_grate_cross"}
 ti["ny"] = ti[" ("]..{"st-stone_break"}
 ti["nw"] = ti[" '"]..{"st-stone_break"}
 ti["nn"] = ti["ny"]..{"it_seed_fake"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 41 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 42 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -26,7 +26,7 @@
 ti["! "] = {"st_pinkbumps"}
 ti[" #"] = {"fl_metal_7"}
 ti["# "] = {"st_oneway_black_s"}
-ti["$ "] = {"st-grate1"}
+ti["$ "] = {"st_grate_cross"}
 ti["% "] = {"st_oneway_black_n"}
 ti["& "] = {"st_camouflage"}
 ti["gg"] = ti[" !"] .. {"it-springboard"}
@@ -74,7 +74,7 @@
 ti["2 "] = {"st_actorimpulse"}
 ti["3 "] = {"st-break_invisible"}
 ti["mm"] = ti["mn"] .. {"it_magicwand"}
-ti["4 "] = {"st-yinyang1"}
+ti["4 "] = {"st_blur_cross"}
 ti["5 "] = {"st_passage_white_cross"}
 ti["ss"] = ti[" ("] .. {"it_shogun_s"}
 ti["sm"] = ti[" &"] .. {"it_shogun_m"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:76$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:77$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,7 +43,7 @@
 ti["b "] = {"st_puzzle_yellow_ns"}
 ti["n "] = {"st_puzzle_yellow_ne"}
 ti["* "] = {"st_puzzle_yellow_new"}
-ti["+ "] = {"st-grate1"}
+ti["+ "] = {"st_grate_cross"}
 ti[", "] = {"st_puzzle_yellow_sw"}
 ti["- "] = {"st_puzzle_yellow_ew"}
 ti[". "] = {"st_oxyd_a"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 29 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 30 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -36,7 +36,7 @@
 ti["% "] = {"st_redfiber"}
 ti["& "] = {"st_darkglass"}
 ti["' "] =  ti[" O"] .. {"it_strip_ns"}
-ti["z "] = {"st-grate2"}
+ti["z "] = {"st_grate_framed"}
 ti["u "] = {"st_stoneimpulse_hollow"}
 ti["o "] = {"st_stoneimpulse"}
 ti["+ "] = {"st_pinkbumps"}
@@ -117,7 +117,7 @@
 ti["B "] = {"st_swap"}
 ti["C "] = {"st_box_wood"}
 ti["T "] = {"st-thief"}
-ti["D "] = ti[" ~"] .. {"st-grate1"}
+ti["D "] = ti[" ~"] .. {"st_grate_cross"}
 ti["E "] = {"st_rawglass_movable"}
 ti["F "] = {"st_rawglass"}
 ti["! "] = ti[" ."] .. {"it_wrench"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 11 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,6 @@
 else
     ti["  "] = {"fl_rough"}
     ti[" v"] = {"fl_bluegreen"}
-
 end
 
 ti["' "] = {"it_trap"}
@@ -53,12 +52,12 @@
 ti["r "] = {"st_brownie"}
 ti["U1"] = {"st_passage_white_frame"}
 ti["U2"] = {"st_passage_black_frame"}
-ti["U5"] = {"st-yinyang1"}
+ti["U5"] = {"st_blur_cross"}
 ti[" i"] = ti["U1"] .. {"fl_inverse"}
 ti["ii"] = ti["U2"] .. {"fl_inverse"}
 ti[" w"] = ti["U1"] .. {"fl_water"}
 ti[" e"] = ti[" i"] .. {"it_hammer"}
-ti["u "] = ti[" _"] .. {"st-grate2"}
+ti["u "] = ti[" _"] .. {"st_grate_framed"}
 ti["x "] = ti["  "] .. {"it_squashed"}
 ti["G "] = ti[" _"] .. {"st_rawglass"}
 ti["D1"] = ti["G "] .. {"it_death"}
@@ -124,7 +123,7 @@
 ti["o "] = {"it-springboard"}
 ti["j "] = {"it_magicwand"}
 ti[" z"] = {"it-dynamite"}
-ti["P "] = {"st-grate1"}
+ti["P "] = {"st_grate_cross"}
 ti["9 "] = {"st_turnstile_green"}
 ti["99"] = {"st_turnstile_red"}
 ti["a "] = {"st_turnstilearm", orientation=NORTH}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -30,12 +30,12 @@
 ti[" x"] = {"fl-gradient3"}
 ti["jj"] = {"it_crack_l"}
 ti["o "] = ti[" ~"] .. {"st_oxyd", flavor="d"}
-ti["X~"] = ti[" ~"] .. {"st-grate1"}
-ti["Xw"] = ti[" w"] .. {"st-grate1"}
-ti["X'"] = ti[" '"] .. {"st-grate1"}
-ti["Xi"] = ti[" i"] .. {"st-grate1"}
-ti["Xb"] = ti[" b"] .. {"st-grate1"}
-ti["X&"] = ti[" &"] .. {"st-grate1"}
+ti["X~"] = ti[" ~"] .. {"st_grate_cross"}
+ti["Xw"] = ti[" w"] .. {"st_grate_cross"}
+ti["X'"] = ti[" '"] .. {"st_grate_cross"}
+ti["Xi"] = ti[" i"] .. {"st_grate_cross"}
+ti["Xb"] = ti[" b"] .. {"st_grate_cross"}
+ti["X&"] = ti[" &"] .. {"st_grate_cross"}
 ti["Th"] = ti[" i"] .. {"st_yellow"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
@@ -62,12 +62,12 @@
 ti["Td"] = ti[" r"] .. {"st_disco_medium"}
 ti["TT"] = ti[" ="] .. {"st-thief"}
 ti["y~"] = ti[" ~"] .. {"it_yinyang"}
-ti["Y~"] = ti[" ~"] .. {"st-yinyang1"}
-ti["Y&"] = ti[" &"] .. {"st-yinyang1"}
-ti["Y!"] = ti[" !"] .. {"st-yinyang1"}
-ti["Y'"] = ti[" '"] .. {"st-yinyang1"}
-ti["Yw"] = ti[" w"] .. {"st-yinyang1"}
-ti["Yx"] = ti[" ~"] .. {"st-yinyang2"}
+ti["Y~"] = ti[" ~"] .. {"st_blur_cross"}
+ti["Y&"] = ti[" &"] .. {"st_blur_cross"}
+ti["Y!"] = ti[" !"] .. {"st_blur_cross"}
+ti["Y'"] = ti[" '"] .. {"st_blur_cross"}
+ti["Yw"] = ti[" w"] .. {"st_blur_cross"}
+ti["Yx"] = ti[" ~"] .. {"st_blur_straight"}
 ti["++"] = ti[" &"] .. {"st_swap"}
 ti["2&"] = ti[" &"] .. {"st_brake"}
 ti["A~"] = ti[" ~"] .. {"st_actorimpulse"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 145 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 146 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -235,10 +235,10 @@
 ti["P#"] = ti[";;"] .. {"st_pull"}
 ti["P_"] = ti["__"] .. {"st_pull"}
 ti["T#"] = ti["  "] .. {"st-thief"}
-ti["F,"] = ti[",,"] .. {"st-grate1"}
-ti["F:"] = ti["::"] .. {"st-grate1"}
-ti["F'"] = ti["''"] .. {"st-grate1"}
-ti["F."] = ti[".."] .. {"st-grate1"}
+ti["F,"] = ti[",,"] .. {"st_grate_cross"}
+ti["F:"] = ti["::"] .. {"st_grate_cross"}
+ti["F'"] = ti["''"] .. {"st_grate_cross"}
+ti["F."] = ti[".."] .. {"st_grate_cross"}
 ti["FA"] = ti[".."] .. {"st_quake"}
 ti["S#"] = ti[",,"] .. {"st_scissors"}
 ti["SS"] = {"st_scissors"}
@@ -295,14 +295,14 @@
 ti["TL"] = ti[",,"] .. {"st_timer", target="do_curse_legs", name="timer_curse_legs", state=OFF}
 ti["ON"] = ti["^^"] .. {"st_oneway_n"}
 ti["OS"] = ti["^^"] .. {"st_oneway_s"}
-ti["PA"] = ti["__"] .. {"st-plain"}
-ti["P%"] = ti["%."] .. {"st-plain"}
-ti["Pm"] = ti["%."] .. {"st-plain_move"}
-ti["Ph"] = ti["%."] .. {"st-plain_hole"}
-ti["Pc"] = ti["%."] .. {"st-plain_break"}
-ti["Pf"] = ti["%f"] .. {"st-plain_break"}
-ti["P."] = ti["_."] .. {"st-plain_break"}
-ti["PC"] = ti[".."] .. {"st-plain_break"}
+ti["PA"] = ti["__"] .. {"st_flat"}
+ti["P%"] = ti["%."] .. {"st_flat"}
+ti["Pm"] = ti["%."] .. {"st_flat_movable"}
+ti["Ph"] = ti["%."] .. {"st_flat_hollow"}
+ti["Pc"] = ti["%."] .. {"st_flat_breakable"}
+ti["Pf"] = ti["%f"] .. {"st_flat_breakable"}
+ti["P."] = ti["_."] .. {"st_flat_breakable"}
+ti["PC"] = ti[".."] .. {"st_flat_breakable"}
 ti["PB"] = ti[".."] .. {"st-bug"}
 ti["TT"] = ti["tt"] .. {"st-thief"}
 ti["D1"] = ti[".."] .. {"st_blocker", "door1#"}

Modified: trunk/data/levels/enigma_viii/ral26_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/ral26_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Wireban Premiere" el:subtitle="" el:id="20080715ral161"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 129 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 130 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 ti[" "] = {"fl_platinum", friction=7, adhesion=1.8}
 ti["."] = {"fl_abyss"}
 ti["#"] = {"st_concrete"}
-ti["+"] = {"st-grate1"}
+ti["+"] = {"st_grate_cross"}
 ti["w"] = {"st_brownie", "wood1"}
 ti["W"] = {"st_brownie", "wood2"}
 ti["D"] = {"st_door_a", "door1"}

Modified: trunk/data/levels/enigma_viii/raywick05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-20 19:03:12 UTC (rev 1472)
+++ trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-20 22:28:18 UTC (rev 1473)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Impulsive Order" el:subtitle="" el:id="raywick5"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Ray Wick" el:email=""/>
       <el:copyright>Copyright ? 2008 Ray Wick</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,16 +25,16 @@
 ti["K"] = {"fl_abyss"}
 ti["#"] = {"st_redbrown"}
 ti["g"] = {"st_rawglass"}
-ti["G"] = {"st-grate2"}
+ti["G"] = {"st_grate_framed"}
 ti["+"] = {"st_box_wood"}
-ti["v"] = {"st_oneway_s"}
-ti[">"] = {"st_oneway_e"}
-ti["<"] = {"st_oneway_w"}
+ti["v"] = {"st_oneway", orientation=SOUTH}
+ti[">"] = {"st_oneway", orientation=EAST}
+ti["<"] = {"st_oneway", orientation=WEST}
 ti["1"] = {"st_door", name="door1", flavor="d", faces="ew"}
 ti["2"] = {"st_stoneimpulse", name="inner#"}
 ti["4"] = {"st_stoneimpulse"}
 ti["5"] = {"st_stoneimpulse", name="outer#"}
-ti["L"] = {"st_laser_s", name="laser1"}
+ti["L"] = {"st_laser", name="laser1", orientation=SOUTH}
 ti["M"] = {"st_mirror", transparent=true, orientation=0}
 ti["Z"] = {"st_shogun_sml"}
 ti["x"] = {"it-blackbomb"}



From ral at mail.berlios.de  Wed Jan 21 21:22:19 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 21 Jan 2009 21:22:19 +0100
Subject: [Enigma-game-svn] r1474 - in trunk/src: . floors others stones
Message-ID: <200901212022.n0LKMJhp002302@sheep.berlios.de>

Author: ral
Date: 2009-01-21 21:22:19 +0100 (Wed, 21 Jan 2009)
New Revision: 1474

Modified:
   trunk/src/ObjectValidator.cc
   trunk/src/floors/FloodStream.cc
   trunk/src/others/Wire.cc
   trunk/src/stones/YieldingStone.cc
   trunk/src/stones/YieldingStone.hh
   trunk/src/world.cc
Log:
Trunk 1.1:
- fix some critical missing initializations
- fix a critical return value


Modified: trunk/src/ObjectValidator.cc
===================================================================
--- trunk/src/ObjectValidator.cc	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/ObjectValidator.cc	2009-01-21 20:22:19 UTC (rev 1474)
@@ -256,7 +256,7 @@
     void ObjectValidator::scanAttributeElement(DOMElement *attribElement) {
         std::string name = XMLtoUtf8(attribElement->getAttribute(Utf8ToXML("name").x_str())).c_str();
         std::string typeName = XMLtoUtf8(attribElement->getAttribute(Utf8ToXML("type").x_str())).c_str();
-        validationType valType;
+        validationType valType = VAL_NIL;
         if (typeName == "bool")
             valType = VAL_BOOL;
         else if (typeName == "int")

Modified: trunk/src/floors/FloodStream.cc
===================================================================
--- trunk/src/floors/FloodStream.cc	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/floors/FloodStream.cc	2009-01-21 20:22:19 UTC (rev 1474)
@@ -47,7 +47,8 @@
 
     // temporary hack for backward compatibility during reengineering
     const char * FloodStream::get_kind() const {
-        return (getClass() + ((getAttr("faces").to_string() == "nesw") ? "_framed" : "")).c_str();
+        static std::string kind =  (getAttr("faces").to_string() == "nesw") ? getClass() + "_framed" : getClass();
+        return kind .c_str();
     }
         
     Value FloodStream::message(const Message &m) {

Modified: trunk/src/others/Wire.cc
===================================================================
--- trunk/src/others/Wire.cc	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/others/Wire.cc	2009-01-21 20:22:19 UTC (rev 1474)
@@ -23,7 +23,7 @@
 #include "world.hh"
 
 namespace enigma {
-    Wire::Wire() {
+    Wire::Wire() : Other(), anchor1 (NULL), anchor2 (NULL), model (NULL) {
     }
     
     std::string Wire::getClass() const {

Modified: trunk/src/stones/YieldingStone.cc
===================================================================
--- trunk/src/stones/YieldingStone.cc	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/stones/YieldingStone.cc	2009-01-21 20:22:19 UTC (rev 1474)
@@ -23,6 +23,9 @@
 #include "world.hh"
 
 namespace enigma {
+    YieldingStone::YieldingStone() : Stone(), yieldedStone (NULL), yieldedModel (NULL) {
+    }
+    
     void YieldingStone::dispose() {
          if (yieldedStone != NULL) {
             SendMessage(yieldedStone, "disconnect");

Modified: trunk/src/stones/YieldingStone.hh
===================================================================
--- trunk/src/stones/YieldingStone.hh	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/stones/YieldingStone.hh	2009-01-21 20:22:19 UTC (rev 1474)
@@ -29,6 +29,7 @@
     class YieldingStone : public Stone {
         
     public:
+        YieldingStone();
         void dispose();
         
     protected:

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-20 22:28:18 UTC (rev 1473)
+++ trunk/src/world.cc	2009-01-21 20:22:19 UTC (rev 1474)
@@ -226,7 +226,7 @@
 World::World(int ww, int hh) : fields(ww,hh), preparing_level(true),
         leftmost_actor (NULL), rightmost_actor (NULL), numMeditatists (0), 
         indispensableHollows (0), engagedIndispensableHollows(0), engagedDispensableHollows (0),
-        scrambleIntensity(10) // difficult default
+        registerCriticalPositions (false), scrambleIntensity(10) // difficult default
         {
     w = ww;
     h = hh;
@@ -668,7 +668,7 @@
         return;
 
     bool isWindow = stone->get_traits().id == st_window;
-    DirectionBits wsides;
+    DirectionBits wsides = NODIRBIT;
     if (isWindow) {
         wsides = stone->getFaces(a->is_invisible());
     }



From ral at mail.berlios.de  Wed Jan 21 21:55:33 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 21 Jan 2009 21:55:33 +0100
Subject: [Enigma-game-svn] r1475 - in trunk/src: . floors
Message-ID: <200901212055.n0LKtXpM006889@sheep.berlios.de>

Author: ral
Date: 2009-01-21 21:55:31 +0100 (Wed, 21 Jan 2009)
New Revision: 1475

Modified:
   trunk/src/enigma-lua.pkg
   trunk/src/floors/FloodStream.cc
   trunk/src/lua-display.cc
   trunk/src/lua-display.hh
   trunk/src/lua-ecl.cc
   trunk/src/lua-ecl.hh
   trunk/src/lua-editor.cc
   trunk/src/lua-editor.hh
   trunk/src/lua-enigma.cc
   trunk/src/lua-enigma.hh
   trunk/src/lua-global.cc
   trunk/src/lua-global.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- fix FloodStream broken on false patch r1474
- some code cleanups:
  - remove old simple stone with Lua functions DefineSimpleStone, DefineSimpleStoneMovable
Note:
- a few levels depending on these undocumented functions need to be rewritten


Modified: trunk/src/enigma-lua.pkg
===================================================================
--- trunk/src/enigma-lua.pkg	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/enigma-lua.pkg	2009-01-21 20:55:31 UTC (rev 1475)
@@ -92,8 +92,6 @@
     Object *GetNamedObject(const char *name);
 
     void Resize(int w, int h);
-    void DefineSimpleStone(const char *kind, const char *sound, int hollow, int glass);
-    void DefineSimpleStoneMovable(const char *kind, const char *sound, int glass);
     void DefineSimpleFloor(const char *kind, double friction, double mousefactor,
                            bool burnable, const char *firetransform);
 }

Modified: trunk/src/floors/FloodStream.cc
===================================================================
--- trunk/src/floors/FloodStream.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/floors/FloodStream.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -47,8 +47,20 @@
 
     // temporary hack for backward compatibility during reengineering
     const char * FloodStream::get_kind() const {
-        static std::string kind =  (getAttr("faces").to_string() == "nesw") ? getClass() + "_framed" : getClass();
-        return kind .c_str();
+        if (getAttr("faces").to_string() == "nesw")
+            switch (getTyp()) { 
+                case WATER : return "fl_water_framed";
+                case WOOD :  return "fl_wood_framed";
+                case HAY :   return "fl_hay_framed";
+                case ROCK :  return "fl_rock_framed";
+            }
+        else
+            switch (getTyp()) { 
+                case WATER : return "fl_water";
+                case WOOD :  return "fl_wood";
+                case HAY :   return "fl_hay";
+                case ROCK :  return "fl_rock";
+            }   
     }
         
     Value FloodStream::message(const Message &m) {

Modified: trunk/src/lua-display.cc
===================================================================
--- trunk/src/lua-display.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-display.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: display
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 #ifndef __cplusplus

Modified: trunk/src/lua-display.hh
===================================================================
--- trunk/src/lua-display.hh	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-display.hh	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: display
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 /* Exported function */

Modified: trunk/src/lua-ecl.cc
===================================================================
--- trunk/src/lua-ecl.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-ecl.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: px
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 #ifndef __cplusplus

Modified: trunk/src/lua-ecl.hh
===================================================================
--- trunk/src/lua-ecl.hh	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-ecl.hh	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: px
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 /* Exported function */

Modified: trunk/src/lua-editor.cc
===================================================================
--- trunk/src/lua-editor.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-editor.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: editor
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 #ifndef __cplusplus

Modified: trunk/src/lua-editor.hh
===================================================================
--- trunk/src/lua-editor.hh	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-editor.hh	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: editor
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 /* Exported function */

Modified: trunk/src/lua-enigma.cc
===================================================================
--- trunk/src/lua-enigma.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-enigma.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: enigma
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 #ifndef __cplusplus
@@ -930,72 +930,6 @@
 }
 #endif //#ifndef TOLUA_DISABLE
 
-/* function: DefineSimpleStone */
-#ifndef TOLUA_DISABLE_tolua_enigma_world_DefineSimpleStone00
-static int tolua_enigma_world_DefineSimpleStone00(lua_State* tolua_S)
-{
-#ifndef TOLUA_RELEASE
- tolua_Error tolua_err;
- if (
-     !tolua_isstring(tolua_S,1,0,&tolua_err) ||
-     !tolua_isstring(tolua_S,2,0,&tolua_err) ||
-     !tolua_isnumber(tolua_S,3,0,&tolua_err) ||
-     !tolua_isnumber(tolua_S,4,0,&tolua_err) ||
-     !tolua_isnoobj(tolua_S,5,&tolua_err)
- )
-  goto tolua_lerror;
- else
-#endif
- {
-  const char* kind = ((const char*)  tolua_tostring(tolua_S,1,0));
-  const char* sound = ((const char*)  tolua_tostring(tolua_S,2,0));
-  int hollow = ((int)  tolua_tonumber(tolua_S,3,0));
-  int glass = ((int)  tolua_tonumber(tolua_S,4,0));
-  {
-   DefineSimpleStone(kind,sound,hollow,glass);
-  }
- }
- return 0;
-#ifndef TOLUA_RELEASE
- tolua_lerror:
- tolua_error(tolua_S,"#ferror in function 'DefineSimpleStone'.",&tolua_err);
- return 0;
-#endif
-}
-#endif //#ifndef TOLUA_DISABLE
-
-/* function: DefineSimpleStoneMovable */
-#ifndef TOLUA_DISABLE_tolua_enigma_world_DefineSimpleStoneMovable00
-static int tolua_enigma_world_DefineSimpleStoneMovable00(lua_State* tolua_S)
-{
-#ifndef TOLUA_RELEASE
- tolua_Error tolua_err;
- if (
-     !tolua_isstring(tolua_S,1,0,&tolua_err) ||
-     !tolua_isstring(tolua_S,2,0,&tolua_err) ||
-     !tolua_isnumber(tolua_S,3,0,&tolua_err) ||
-     !tolua_isnoobj(tolua_S,4,&tolua_err)
- )
-  goto tolua_lerror;
- else
-#endif
- {
-  const char* kind = ((const char*)  tolua_tostring(tolua_S,1,0));
-  const char* sound = ((const char*)  tolua_tostring(tolua_S,2,0));
-  int glass = ((int)  tolua_tonumber(tolua_S,3,0));
-  {
-   DefineSimpleStoneMovable(kind,sound,glass);
-  }
- }
- return 0;
-#ifndef TOLUA_RELEASE
- tolua_lerror:
- tolua_error(tolua_S,"#ferror in function 'DefineSimpleStoneMovable'.",&tolua_err);
- return 0;
-#endif
-}
-#endif //#ifndef TOLUA_DISABLE
-
 /* function: DefineSimpleFloor */
 #ifndef TOLUA_DISABLE_tolua_enigma_world_DefineSimpleFloor00
 static int tolua_enigma_world_DefineSimpleFloor00(lua_State* tolua_S)
@@ -1257,8 +1191,6 @@
    tolua_function(tolua_S,"MakeStone",tolua_enigma_world_MakeStone00);
    tolua_function(tolua_S,"GetNamedObject",tolua_enigma_world_GetNamedObject00);
    tolua_function(tolua_S,"Resize",tolua_enigma_world_Resize00);
-   tolua_function(tolua_S,"DefineSimpleStone",tolua_enigma_world_DefineSimpleStone00);
-   tolua_function(tolua_S,"DefineSimpleStoneMovable",tolua_enigma_world_DefineSimpleStoneMovable00);
    tolua_function(tolua_S,"DefineSimpleFloor",tolua_enigma_world_DefineSimpleFloor00);
   tolua_endmodule(tolua_S);
   tolua_module(tolua_S,"video",0);

Modified: trunk/src/lua-enigma.hh
===================================================================
--- trunk/src/lua-enigma.hh	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-enigma.hh	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: enigma
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 /* Exported function */

Modified: trunk/src/lua-global.cc
===================================================================
--- trunk/src/lua-global.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-global.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: global
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 #ifndef __cplusplus

Modified: trunk/src/lua-global.hh
===================================================================
--- trunk/src/lua-global.hh	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/lua-global.hh	2009-01-21 20:55:31 UTC (rev 1475)
@@ -1,6 +1,6 @@
 /*
 ** Lua binding: global
-** Generated automatically by tolua++-1.0.92 on Mon Dec  8 13:32:36 2008.
+** Generated automatically by tolua++-1.0.92 on Tue Jan 20 20:18:15 2009.
 */
 
 /* Exported function */

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-21 20:22:19 UTC (rev 1474)
+++ trunk/src/stones_simple.cc	2009-01-21 20:55:31 UTC (rev 1475)
@@ -33,192 +33,6 @@
 namespace enigma {
 
 
-/* -------------------- SimpleStoneTraits -------------------- */
-
-namespace
-{
-    /*! This class stores some atrributes for SimpleStones.  Only one
-      instance is created for each type of SimpleStone. */
-
-    struct SimpleStoneTraits {
-        string sound;           // collision sound
-        bool   hollow;          // whether stone is hollow
-        bool   glass;           // whether it's a glass stone
-
-        // static list of all allocated SimpleStoneTraits (never freed yet)
-        static vector<SimpleStoneTraits*> simple_stone_traits;
-
-        SimpleStoneTraits(const string& sound_, bool hollow_, bool glass_)
-        : sound(sound_) , hollow(hollow_) , glass(glass_)
-        {}
-
-    public:
-        SimpleStoneTraits() {}
-
-//         static void clear() {
-//             vector<SimpleStoneTraits*>::iterator i = simple_stone_traits.begin();
-//             vector<SimpleStoneTraits*>::iterator e = simple_stone_traits.end();
-//             for (; i != e; ++e)
-//                 delete simple_stone_traits[i];
-//             simple_stone_traits.clear();
-//         }
-
-        static const SimpleStoneTraits* Register(const string& sound_, bool hollow_, bool glass_) {
-            simple_stone_traits.push_back(new SimpleStoneTraits(sound_, hollow_, glass_));
-            return simple_stone_traits.back();
-        }
-    };
-
-    vector<SimpleStoneTraits*> SimpleStoneTraits::simple_stone_traits;
-}
-
-
-/* -------------------- SimpleStone -------------------- */
-
-namespace
-{
-    class SimpleStone : public Stone {
-    public:
-        SimpleStone(const string &knd, const string & snd, 
-                    bool hollow, bool is_glass)
-        : Stone(knd.c_str()), 
-          traits(SimpleStoneTraits::Register(snd, hollow, is_glass)),
-          sunglasses(false)
-        {}
-    private:
-        SimpleStone(const SimpleStone& other)
-        : Stone(other.get_kind()), traits(other.traits),
-          sunglasses(false)
-        {}
-
-        Stone *clone() { return new SimpleStone(*this); }
-        void dispose() { delete this; }
-
-        const char *collision_sound() {
-            return traits->sound.c_str();
-        }
-
-        /** Different kinds of glassstones:
-         *  Stone:                 visible:     invisible:   lasertransparent:
-         *  st-glass               -            pass         Y
-         *  st-glass1              -            pass         Y
-         *  st-glass1_hole         pass         pass         Y
-         *  st-glass2              -            pass         N
-         *  st-glass2_hole         pass         pass         Y
-         *  st-glass3              -            -            Y
-         */
-        StoneResponse collision_response(const StoneContact &sc) {
-            if (traits->hollow)
-                return STONE_PASS;
-            if (sc.actor->is_invisible() && ((traits->glass && !is_kind("st-glass3")) || is_kind("st-beads")) )
-                return STONE_PASS;
-            return Stone::collision_response(sc);
-        }
-
-        bool is_sticky (const Actor *actor) const {
-            if (traits->glass || is_kind("st-beads"))
-                return !actor->is_invisible();
-            return Stone::is_sticky(actor);
-        }
-
-        bool is_floating() const {
-            return traits->hollow;
-        }
-
-        bool is_transparent (Direction dir) const {
-            if (traits->hollow || (traits->glass && !is_kind("st-glass2")) )
-                return true;
-            return Stone::is_transparent(dir);
-        }
-
-        virtual Value message(const Message &m)
-        {
-            if (traits->hollow && m.message == "_glasses") {
-                if (to_int(m.value) & Glasses::HOLLOW) {  // hollow
-                    if (!sunglasses) {
-                        sunglasses = true;
-                        set_model( "invisible");
-                    }
-                }
-                else {
-                    if (sunglasses) {
-                        sunglasses = false;
-                        set_model (this->get_kind());
-                    }
-                }
-                return Value();
-            }
-            return Stone::message(m);
-        }
-
-        const SimpleStoneTraits *traits; // owned by simple_stone_traits
-        bool sunglasses; // seen through glasses
-    };
-}
-
-
-/* -------------------- SimpleStoneMovable -------------------- */
-
-namespace
-{
-    class SimpleStoneMovable : public Stone {
-    public:
-        SimpleStoneMovable(const string &knd, const string & snd, bool is_glass)
-        : Stone (knd.c_str()), 
-          traits(SimpleStoneTraits::Register(snd, false, is_glass))
-        {}
-
-    private:
-        SimpleStoneMovable(const SimpleStoneMovable& other)
-        : Stone (other.get_kind()), 
-          traits (other.traits)
-        {}
-
-        Stone *clone() { return new SimpleStoneMovable(*this); }
-        void dispose() { delete this; }
-
-        const char *collision_sound() {
-            return traits->sound.c_str();
-        }
-
-        /** Different kinds of movable glassstones:
-         *  Stone:                 visible:     invisible:   lasertransparent:
-         *  st-glass_move          push         pass         Y
-         *  st-glass1_move         push         push         Y
-         *  st-glass2_move         push         push         N
-         */
-        StoneResponse collision_response(const StoneContact &sc) {
-            if (traits->glass && sc.actor->is_invisible() && is_kind("st-glass_move"))
-                return STONE_PASS;
-            return Stone::collision_response(sc);
-        }
-
-        bool is_sticky (const Actor *actor) const {
-            if (traits->glass)
-                return !actor->is_invisible();
-            return Stone::is_sticky(actor);
-        }
-
-        bool is_transparent (Direction dir) const {
-            if (traits->glass && !is_kind("st-glass2_move"))
-                return true;
-            return Stone::is_transparent(dir);
-        }
-
-        const SimpleStoneTraits *traits; // owned by simple_stone_traits
-
-        const StoneTraits &get_traits() const
-        {
-            static StoneTraits simple_stone_movable_traits = {
-                "INVALID", st_INVALID, stf_none, material_stone, 1.0,
-                MOVABLE_STANDARD
-            };
-            return simple_stone_movable_traits;
-        }    
-    };
-}
-
-
 /* -------------------- DummyStone -------------------- */
 
 namespace
@@ -972,20 +786,6 @@
 
 /* -------------------- Functions -------------------- */
 
-void DefineSimpleStone(const std::string &kind, 
-                              const std::string &sound,
-                              int hollow, int glass)
-{
-    Register(new SimpleStone(kind, sound, hollow != 0, glass != 0));
-}
-
-void DefineSimpleStoneMovable(const std::string &kind, 
-                                     const std::string &sound, 
-                                     int glass)
-{
-    Register(new SimpleStoneMovable(kind, sound, glass != 0));
-}
-
 void Init_simple()
 {
     Register(new BlockStone);



From ral at mail.berlios.de  Thu Jan 22 00:24:33 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 22 Jan 2009 00:24:33 +0100
Subject: [Enigma-game-svn] r1476 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src
Message-ID: <200901212324.n0LNOXlN021585@sheep.berlios.de>

Author: ral
Date: 2009-01-22 00:24:30 +0100 (Thu, 22 Jan 2009)
New Revision: 1476

Added:
   trunk/data/gfx32/st_break_black.png
   trunk/data/gfx32/st_break_boulder.png
   trunk/data/gfx32/st_break_oxydc.png
   trunk/data/gfx32/st_break_plain.png
   trunk/data/gfx32/st_break_white.png
   trunk/data/gfx40/st_break_black.png
   trunk/data/gfx40/st_break_boulder.png
   trunk/data/gfx40/st_break_oxydc.png
   trunk/data/gfx40/st_break_plain.png
   trunk/data/gfx40/st_break_white.png
   trunk/data/gfx48/st_break_black.png
   trunk/data/gfx48/st_break_boulder.png
   trunk/data/gfx48/st_break_oxydc.png
   trunk/data/gfx48/st_break_plain.png
   trunk/data/gfx48/st_break_white.png
Removed:
   trunk/data/gfx32/st-break.png
   trunk/data/gfx32/st-break_acblack.png
   trunk/data/gfx32/st-break_acwhite.png
   trunk/data/gfx32/st-break_bolder.png
   trunk/data/gfx32/st-break_gray.png
   trunk/data/gfx32/st-stone_break.png
   trunk/data/gfx40/st-break.png
   trunk/data/gfx40/st-break_acblack.png
   trunk/data/gfx40/st-break_acwhite.png
   trunk/data/gfx40/st-break_bolder.png
   trunk/data/gfx40/st-break_gray.png
   trunk/data/gfx40/st-stone_break.png
   trunk/data/gfx48/st-break.png
   trunk/data/gfx48/st-break_acblack.png
   trunk/data/gfx48/st-break_acwhite.png
   trunk/data/gfx48/st-break_bolder.png
   trunk/data/gfx48/st-break_gray.png
   trunk/data/gfx48/st-stone_break.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- reengineering of breakable stones:
  - renaming:
    st-stone_break -> st_break_oxydc
    st-break_gray -> st_break_plain
    st-break_bolder -> st_break_boulder
    st-break_acblack -> st_break_black
    st-break_acwhite -> st_break_white
    st-bug -> st_break_bug
    st-laserbreak -> st_break_laser
  - all these stones are now one class, st_break is st_break_plain


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/data/api1init.lua	2009-01-21 23:24:30 UTC (rev 1476)
@@ -232,6 +232,13 @@
     st_box_wood_h = "st-wood1",
     st_box_wood_v = "st-wood2",
     st_brake = "st-brake",
+    st_break_black = "st-break_acblack",
+    st_break_boulder = "st-break_bolder",
+    st_break_bug = "st-bug",
+    st_break_laser = "st-laserbreak",
+    st_break_oxydc = "st-stone_break",
+    st_break_plain = "st-break_gray",
+    st_break_white = "st-break_acwhite",
     st_brick = "st-brick",
     st_brick_w = "st-bigbrick-w",
     st_brick_s = "st-bigbrick-s",

Deleted: trunk/data/gfx32/st-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-break_acblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-break_acwhite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-break_bolder.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-break_gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-stone_break.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_break_black.png (from rev 1474, trunk/data/gfx32/st-break_acblack.png)

Copied: trunk/data/gfx32/st_break_boulder.png (from rev 1474, trunk/data/gfx32/st-break_bolder.png)

Copied: trunk/data/gfx32/st_break_oxydc.png (from rev 1474, trunk/data/gfx32/st-stone_break.png)

Copied: trunk/data/gfx32/st_break_plain.png (from rev 1474, trunk/data/gfx32/st-break_gray.png)

Copied: trunk/data/gfx32/st_break_white.png (from rev 1474, trunk/data/gfx32/st-break_acwhite.png)

Deleted: trunk/data/gfx40/st-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-break_acblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-break_acwhite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-break_bolder.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-break_gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-stone_break.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_break_black.png (from rev 1474, trunk/data/gfx40/st-break_acblack.png)

Copied: trunk/data/gfx40/st_break_boulder.png (from rev 1474, trunk/data/gfx40/st-break_bolder.png)

Copied: trunk/data/gfx40/st_break_oxydc.png (from rev 1474, trunk/data/gfx40/st-stone_break.png)

Copied: trunk/data/gfx40/st_break_plain.png (from rev 1474, trunk/data/gfx40/st-break_gray.png)

Copied: trunk/data/gfx40/st_break_white.png (from rev 1474, trunk/data/gfx40/st-break_acwhite.png)

Deleted: trunk/data/gfx48/st-break.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-break_acblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-break_acwhite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-break_bolder.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-break_gray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-stone_break.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_break_black.png (from rev 1474, trunk/data/gfx48/st-break_acblack.png)

Copied: trunk/data/gfx48/st_break_boulder.png (from rev 1474, trunk/data/gfx48/st-break_bolder.png)

Copied: trunk/data/gfx48/st_break_oxydc.png (from rev 1474, trunk/data/gfx48/st-stone_break.png)

Copied: trunk/data/gfx48/st_break_plain.png (from rev 1474, trunk/data/gfx48/st-break_gray.png)

Copied: trunk/data/gfx48/st_break_white.png (from rev 1474, trunk/data/gfx48/st-break_acwhite.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/data/models-2d.lua	2009-01-21 23:24:30 UTC (rev 1476)
@@ -885,11 +885,11 @@
 
 -- st-break_*, breakable stones --
 do
-    DefSolidStoneWithAnim ("st-stone_break", 10, 50)
-    DefSolidStoneWithAnim ("st-break_bolder", 10, 50)
-    DefRoundStoneWithAnim ("st-break_acwhite", 10, 50)
-    DefRoundStoneWithAnim ("st-break_acblack", 10, 50)
-    DefRoundStoneWithAnim ("st-break_gray", 10, 50)
+    DefSolidStoneWithAnim ("st_break_oxydc", 10, 50)
+    DefSolidStoneWithAnim ("st_break_boulder", 10, 50)
+    DefRoundStoneWithAnim ("st_break_white", 10, 50)
+    DefRoundStoneWithAnim ("st_break_black", 10, 50)
+    DefRoundStoneWithAnim ("st_break_plain", 10, 50)
 end
 
 -- st-chage-plus, st-charge-zero, st-charge-minus --
@@ -1746,11 +1746,12 @@
 -- Simple stone aliases --
 --------------------------
 do
-    DefAlias("st-breaking", "st_flat_breaking")
+    DefAlias("st_break_bug", "st-bug")
+    DefAlias("st_break_bug-anim", "st_flat_breaking")
     DefAlias("st-explosion", "expl")
     DefAlias("st-glass_move", "st-glass");
-    DefAlias("st-laserbreak", "st_flat")
-    DefAlias("st-laserbreak-anim", "st_flat_breaking")
+    DefAlias("st_break_laser", "st_flat")
+    DefAlias("st_break_laser-anim", "st_flat_breaking")
     DefAlias("st_blur_magic", "st_blur_cross")
 end
 

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/data/schemas/objects.xml	2009-01-21 23:24:30 UTC (rev 1476)
@@ -810,6 +810,34 @@
     <object name="st_brake">
       <msg name="_explosion"/>
     </object>
+    <object name="st_break">
+      <attr name="flavor"/>
+      <msg name="ignite"/>
+      <msg name="_bombstone"/>
+      <msg name="_explosion"/>
+      <msg name="_trigger"/>
+    </object>
+    <object name="st_break_black">
+      <attr name="flavor" value="black"/>
+    </object>
+    <object name="st_break_boulder">
+      <attr name="flavor" value="boulder"/>
+    </object>
+    <object name="st_break_bug">
+      <attr name="flavor" value="bug"/>
+    </object>
+    <object name="st_break_laser">
+      <attr name="flavor" value="laser"/>
+    </object>
+    <object name="st_break_oxydc">
+      <attr name="flavor" value="oxydc"/>
+    </object>
+    <object name="st_break_plain">
+      <attr name="flavor" value="plain"/>
+    </object>
+    <object name="st_break_white">
+      <attr name="flavor" value="white"/>
+    </object>
     <object name="st_brick" super="st_clusterstone"/>
     <object name="st_brick_w">
       <attr name="connections" value="w"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/Makefile.am	2009-01-21 23:24:30 UTC (rev 1476)
@@ -268,6 +268,8 @@
 	stones/BoulderStone.hh	\
 	stones/BrakeStone.cc	\
 	stones/BrakeStone.hh	\
+	stones/BreakStone.cc	\
+	stones/BreakStone.hh	\
 	stones/ChessStone.cc	\
 	stones/ChessStone.hh	\
 	stones/ClusterStone.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/ox_extra.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -209,7 +209,7 @@
     UNUSED,              // OxydExtra stone 0x5a
     UNUSED,              // OxydExtra stone 0x5b
     UNUSED,              // OxydExtra stone 0x5c
-    "st-stone_break",    // OxydExtra stone 0x5d
+    "st_break_oxydc",    // OxydExtra stone 0x5d
     UNUSED,              // OxydExtra stone 0x5e
     UNUSED,              // OxydExtra stone 0x5f
     UNUSED,              // OxydExtra stone 0x60

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/ox_magnum.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -144,7 +144,7 @@
     "st_lightglass_hollow",     // OxydMagnum stone 0x19
     "st_grate_cross",           // OxydMagnum stone 0x1a
     "st_grate_framed",          // OxydMagnum stone 0x1b
-    "st-bug",                   // OxydMagnum stone 0x1c
+    "st_break_bug",             // OxydMagnum stone 0x1c
     UNUSED,                     // OxydMagnum stone 0x1d
     UNUSED,                     // OxydMagnum stone 0x1e
     "st_brick",                 // OxydMagnum stone 0x1f
@@ -264,8 +264,8 @@
     UNUSED,                     // OxydMagnum stone 0x91
     "st_fourswitch",            // OxydMagnum stone 0x92 (Level 51 only)
     "st_blur_cross",            // OxydMagnum stone 0x93
-    "st-break_acwhite",         // OxydMagnum stone 0x94
-    "st-break_acblack",         // OxydMagnum stone 0x95
+    "st_break_white",           // OxydMagnum stone 0x94
+    "st_break_black",           // OxydMagnum stone 0x95
     "st_charge_plus",           // OxydMagnum stone 0x96
     "st_charge_minus",          // OxydMagnum stone 0x97
     "st_charge_zero",           // OxydMagnum stone 0x98

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/ox_oxyd1.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -176,7 +176,7 @@
     "st_door_c_open",           // Oxyd1 stone 0x19
     "st_grate_cross",           // Oxyd1 stone 0x1a
     "st_grate_framed",          // Oxyd1 stone 0x1b
-    "st-bug",                   // Oxyd1 stone 0x1c
+    "st_break_bug",             // Oxyd1 stone 0x1c
     "st-surprise",              // Oxyd1 stone 0x1d
     "st-chameleon",             // Oxyd1 stone 0x1e
     "st_brick",                 // Oxyd1 stone 0x1f
@@ -247,7 +247,7 @@
     "st_puzzle_yellow_e",       // Oxyd1 stone 0x60
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
     "st_metal_hollow",          // Oxyd1 stone 0x62
-    "st-laserbreak",            // Oxyd1 stone 0x63
+    "st_break_laser",           // Oxyd1 stone 0x63
     "st-fakeoxyda",             // Oxyd1 stone 0x64
     UNUSED,                     // Oxyd1 stone 0x65
     "st_disco_medium",          // Oxyd1 stone 0x66
@@ -296,8 +296,8 @@
     "st-blackballs",            // Oxyd1 stone 0x91
     "st_fourswitch",            // Oxyd1 stone 0x92
     "st_blur_cross",            // Oxyd1 stone 0x93
-    "st-break_acwhite",         // Oxyd1 stone 0x94
-    "st-break_acblack",         // Oxyd1 stone 0x95
+    "st_break_white",           // Oxyd1 stone 0x94
+    "st_break_black",           // Oxyd1 stone 0x95
     "st_charge_plus",           // Oxyd1 stone 0x96
     "st_charge_minus",          // Oxyd1 stone 0x97
     "st_charge_zero",           // Oxyd1 stone 0x98

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/ox_peroxyd.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -281,7 +281,7 @@
     "st_puzzle_blue_e",         // PerOxyd stone 0x5a
     "st_puzzle_blue_nesw",      // PerOxyd stone 0x5b
     "st_puzzle_blue_nesw_hollow", // PerOxyd stone 0x5c
-    "st-laserbreak",            // PerOxyd stone 0x5d
+    "st_break_laser",           // PerOxyd stone 0x5d
     "st-coffee",                // PerOxyd stone 0x5e
     "st_shogun",                // PerOxyd stone 0x5f (oxyd with a hole, movable ... strange stone! st-shogun as workaround, only link level 74)
     "st_disco_dark",            // PerOxyd stone 0x60
@@ -314,8 +314,8 @@
     "st_metal_hollow",          // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
     0,                          // PerOxyd stone 0x7c (probably complex stone, behavior unknown)(only levels: 23 142, these levels are identical!)
     "st_blur_magic",            // PerOxyd stone 0x7d
-    "st-break_acwhite",         // PerOxyd stone 0x7e
-    "st-break_acblack",         // PerOxyd stone 0x7f
+    "st_break_white",           // PerOxyd stone 0x7e
+    "st_break_black",           // PerOxyd stone 0x7f
     "st_charge_plus",           // PerOxyd stone 0x80
     "st_charge_minus",          // PerOxyd stone 0x81
     "st_charge_zero",           // PerOxyd stone 0x82

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/stones.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -462,50 +462,50 @@
 
 
 /* -------------------- Breaking stone -------------------- */
-namespace
-{
-    
-    // only used by Bug stone as replacement!
-    
-    class BreakingStone : public Stone {
-        CLONEOBJ(BreakingStone);
-        DECL_TRAITS;
-
-        void init_model() {
-            sound_event("stonedestroy");
-            set_anim("st-breaking");
-        }
-
-        void animcb() {
-            KillStone(get_pos());
-        }
-    public:
-        BreakingStone()
-        {}
-    };
-    DEF_TRAITSM(BreakingStone, "st-breaking", st_breaking, MOVABLE_BREAKABLE);
-}
-
-
-/* -------------------- Bug stone -------------------- */
-namespace
-{
-    class BugStone : public Stone {
-        CLONEOBJ(BugStone);
-        DECL_TRAITS;
-    public:
-        BugStone()
-        {}
-
-        void actor_hit (const StoneContact &sc) {
-            if (get_id(sc.actor) == ac_bug) {
-                ReplaceStone(get_pos(), MakeStone("st-breaking"));
-            }
-        }
-    };
-    DEF_TRAITSM(BugStone, "st-bug", st_bug, MOVABLE_BREAKABLE);
-}
-
+//namespace
+//{
+//    
+//    // only used by Bug stone as replacement!
+//    
+//    class BreakingStone : public Stone {
+//        CLONEOBJ(BreakingStone);
+//        DECL_TRAITS;
+//
+//        void init_model() {
+//            sound_event("stonedestroy");
+//            set_anim("st-breaking");
+//        }
+//
+//        void animcb() {
+//            KillStone(get_pos());
+//        }
+//    public:
+//        BreakingStone()
+//        {}
+//    };
+//    DEF_TRAITSM(BreakingStone, "st-breaking", st_breaking, MOVABLE_BREAKABLE);
+//}
+//
+//
+///* -------------------- Bug stone -------------------- */
+//namespace
+//{
+//    class BugStone : public Stone {
+//        CLONEOBJ(BugStone);
+//        DECL_TRAITS;
+//    public:
+//        BugStone()
+//        {}
+//
+//        void actor_hit (const StoneContact &sc) {
+//            if (get_id(sc.actor) == ac_bug) {
+//                ReplaceStone(get_pos(), MakeStone("st-breaking"));
+//            }
+//        }
+//    };
+//    DEF_TRAITSM(BugStone, "st-bug", st_bug, MOVABLE_BREAKABLE);
+//}
+//
 /* -------------------- Black- and Whiteballs Stones -------------------- */
 
 namespace
@@ -627,8 +627,8 @@
     Register (new BlackBallsStone);
     Register (new WhiteBallsStone);
     Register (new FakeOxydA);
-    Register (new BreakingStone);
-    Register (new BugStone);
+//    Register (new BreakingStone);
+//    Register (new BugStone);
 
     // Init stones from stones_simple.cc and stones_complex.cc:
     Init_simple();

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/stones.hh	2009-01-21 23:24:30 UTC (rev 1476)
@@ -43,12 +43,14 @@
         st_block,
         st_boulder,
         st_brake,
-        st_break_acblack,
-        st_break_acwhite,
-        st_break_bolder,
+        st_break_black,
+        st_break_boulder,
+        st_break_bug,
+        st_break_laser,
+        st_break_oxydc,
+        st_break_plain,
+        st_break_white,
         st_break_invisible,
-        st_breaking,
-        st_bug,
         st_chameleon,
         st_chess,
         st_coffee,
@@ -65,7 +67,6 @@
         st_greenbrown,
         st_key,
         st_knight,
-        st_laserbreak,
         st_magic,
         st_mirror,
         st_oneway,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-21 20:55:31 UTC (rev 1475)
+++ trunk/src/stones_simple.cc	2009-01-21 23:24:30 UTC (rev 1476)
@@ -214,55 +214,55 @@
 //
 // breakable stones can be destroyed using
 // hammer, laser, dynamite, bombs or bombstones
+//
+//namespace 
+//{
+//    class BreakableStone : public Stone {
+//    public:
+//        BreakableStone(const char *kind) : Stone(kind), state(IDLE) {}
+//        BreakableStone() : state(IDLE) {}
+//    protected:
+//        void break_me() {
+//            if (state == IDLE) {
+//                state = BREAK;
+//                sound_event ("stonedestroy");
+//                set_anim(get_break_anim());
+//            }
+//        }
+//        
+//        virtual Value message(const Message &m) {
+//            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
+//                break_me();
+//                return Value();
+//            }
+//            return Stone::message(m);
+//        }
+//    private:
+//        const char *collision_sound() { return "stone"; }
+//
+//        void actor_hit(const StoneContact &sc) {
+//            if (may_be_broken_by(sc.actor))
+//                break_me();
+//        }
+//        void processLight(Direction d) {
+//            break_me();
+//        }
+//        void animcb() {
+//            KillStone(get_pos());
+//        }
+//
+//        virtual string get_break_anim() const  {
+//            return string(get_kind())+"-anim";
+//        }
+//        virtual bool may_be_broken_by(Actor *a) const = 0;
+//
+//        // variables:
+//
+//        enum State { IDLE, BREAK };
+//        State state;
+//    };
+//}
 
-namespace 
-{
-    class BreakableStone : public Stone {
-    public:
-        BreakableStone(const char *kind) : Stone(kind), state(IDLE) {}
-        BreakableStone() : state(IDLE) {}
-    protected:
-        void break_me() {
-            if (state == IDLE) {
-                state = BREAK;
-                sound_event ("stonedestroy");
-                set_anim(get_break_anim());
-            }
-        }
-        
-        virtual Value message(const Message &m) {
-            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
-                break_me();
-                return Value();
-            }
-            return Stone::message(m);
-        }
-    private:
-        const char *collision_sound() { return "stone"; }
-
-        void actor_hit(const StoneContact &sc) {
-            if (may_be_broken_by(sc.actor))
-                break_me();
-        }
-        void processLight(Direction d) {
-            break_me();
-        }
-        void animcb() {
-            KillStone(get_pos());
-        }
-
-        virtual string get_break_anim() const  {
-            return string(get_kind())+"-anim";
-        }
-        virtual bool may_be_broken_by(Actor *a) const = 0;
-
-        // variables:
-
-        enum State { IDLE, BREAK };
-        State state;
-    };
-}
-
 //----------------------------------------
 // Stone_break
 //----------------------------------------
@@ -279,37 +279,37 @@
 
 \image html st-stone_break.png
 */
-namespace
-{
-    class Stone_break : public BreakableStone {
-        CLONEOBJ(Stone_break);
-        DECL_TRAITS;
-    public:
-        Stone_break(const char *kind) : BreakableStone(kind) { }
-    private:
-        bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it_hammer");
-        }
-    };
-    DEF_TRAITSM(Stone_break, "INVALID", st_INVALID, MOVABLE_BREAKABLE);
-    
-    class LaserBreakable : public BreakableStone {
-        CLONEOBJ (LaserBreakable);
-        DECL_TRAITS;
+//namespace
+//{
+//    class Stone_break : public BreakableStone {
+//        CLONEOBJ(Stone_break);
+//        DECL_TRAITS;
+//    public:
+//        Stone_break(const char *kind) : BreakableStone(kind) { }
+//    private:
+//        bool may_be_broken_by(Actor *a) const {
+//            return player::WieldedItemIs (a, "it_hammer");
+//        }
+//    };
+//    DEF_TRAITSM(Stone_break, "INVALID", st_INVALID, MOVABLE_BREAKABLE);
+//    
+//    class LaserBreakable : public BreakableStone {
+//        CLONEOBJ (LaserBreakable);
+//        DECL_TRAITS;
+//
+//        void actor_hit(const StoneContact &) {
+//        }
+//        bool may_be_broken_by(Actor *) const {
+//            return false;
+//        }
+//    public:
+//        LaserBreakable()
+//        {}
+//    };
+//    DEF_TRAITSM(LaserBreakable, "st-laserbreak", st_laserbreak, MOVABLE_BREAKABLE);
+//}
+//
 
-        void actor_hit(const StoneContact &) {
-        }
-        bool may_be_broken_by(Actor *) const {
-            return false;
-        }
-    public:
-        LaserBreakable()
-        {}
-    };
-    DEF_TRAITSM(LaserBreakable, "st-laserbreak", st_laserbreak, MOVABLE_BREAKABLE);
-}
-
-
 //----------------------------------------
 // Break_bolder
 //----------------------------------------
@@ -326,30 +326,30 @@
 
 \image html st-break_bolder.png
 */
-namespace
-{
-    class Break_bolder : public BreakableStone {
-        CLONEOBJ(Break_bolder);
-        DECL_TRAITS;
-    public:
-        Break_bolder()
-        {}
-    private:
-        bool may_be_broken_by(Actor *a) const {
-            return player::WieldedItemIs (a, "it_hammer");
-        }
-        virtual Value message(const Message &m) {
-            if (m.message == "_trigger") {
-                break_me();
-                return Value();
-            }
-            return BreakableStone::message(m);
-        }
-    };
-    DEF_TRAITSM(Break_bolder, "st-break_bolder", st_break_bolder, MOVABLE_BREAKABLE);
-}
+//namespace
+//{
+//    class Break_bolder : public BreakableStone {
+//        CLONEOBJ(Break_bolder);
+//        DECL_TRAITS;
+//    public:
+//        Break_bolder()
+//        {}
+//    private:
+//        bool may_be_broken_by(Actor *a) const {
+//            return player::WieldedItemIs (a, "it_hammer");
+//        }
+//        virtual Value message(const Message &m) {
+//            if (m.message == "_trigger") {
+//                break_me();
+//                return Value();
+//            }
+//            return BreakableStone::message(m);
+//        }
+//    };
+//    DEF_TRAITSM(Break_bolder, "st-break_bolder", st_break_bolder, MOVABLE_BREAKABLE);
+//}
+//
 
-
 //----------------------------------------
 // Break_acwhite
 //----------------------------------------
@@ -366,23 +366,23 @@
 
 \image html st-break_acwhite.png
 */
-namespace
-{
-    class Break_acwhite : public BreakableStone {
-        CLONEOBJ(Break_acwhite);
-        DECL_TRAITS;
-    public:
-        Break_acwhite()
-        {}
-    private:
-        bool may_be_broken_by(Actor *a) const {
-            Value color = a->getAttr("color");
-            return color && color == WHITE &&
-                player::WieldedItemIs (a, "it_hammer");
-        }
-    };
-    DEF_TRAITSM(Break_acwhite, "st-break_acwhite", st_break_acwhite, MOVABLE_BREAKABLE);
-}
+//namespace
+//{
+//    class Break_acwhite : public BreakableStone {
+//        CLONEOBJ(Break_acwhite);
+//        DECL_TRAITS;
+//    public:
+//        Break_acwhite()
+//        {}
+//    private:
+//        bool may_be_broken_by(Actor *a) const {
+//            Value color = a->getAttr("color");
+//            return color && color == WHITE &&
+//                player::WieldedItemIs (a, "it_hammer");
+//        }
+//    };
+//    DEF_TRAITSM(Break_acwhite, "st-break_acwhite", st_break_acwhite, MOVABLE_BREAKABLE);
+//}
 
 //----------------------------------------
 // Break_acblack
@@ -400,23 +400,23 @@
 
 \image html st-break_acblack.png
 */
-namespace
-{
-    class Break_acblack : public BreakableStone {
-        CLONEOBJ(Break_acblack);
-        DECL_TRAITS;
-    public:
-        Break_acblack()
-        {}
-    private:
-        bool may_be_broken_by(Actor *a) const {
-            Value color = a->getAttr("color");
-            return color && color == BLACK &&
-                player::WieldedItemIs (a, "it_hammer");
-        }
-    };
-    DEF_TRAITSM(Break_acblack, "st-break_acblack", st_break_acblack, MOVABLE_BREAKABLE);
-}
+//namespace
+//{
+//    class Break_acblack : public BreakableStone {
+//        CLONEOBJ(Break_acblack);
+//        DECL_TRAITS;
+//    public:
+//        Break_acblack()
+//        {}
+//    private:
+//        bool may_be_broken_by(Actor *a) const {
+//            Value color = a->getAttr("color");
+//            return color && color == BLACK &&
+//                player::WieldedItemIs (a, "it_hammer");
+//        }
+//    };
+//    DEF_TRAITSM(Break_acblack, "st-break_acblack", st_break_acblack, MOVABLE_BREAKABLE);
+//}
 
 /* -------------------- BrickMagic -------------------- */
 
@@ -793,9 +793,9 @@
     //Register(new BombStone("st-dynamite", "it-dynamite"));
     //Register(new BombStone("st-whitebombs", "it-whitebomb"));
 
-    Register(new Break_acblack);
-    Register(new Break_acwhite);
-    Register(new Break_bolder);
+//    Register(new Break_acblack);
+//    Register(new Break_acwhite);
+//    Register(new Break_bolder);
     Register(new Break_invisible);
 
     Register(new BrickMagic);
@@ -806,10 +806,10 @@
     Register(new EasyModeStone);
     Register(new Grate3);
     Register(new InvisibleMagic);
-    Register(new LaserBreakable);
+//    Register(new LaserBreakable);
     Register(new MagicStone);
-    Register(new Stone_break("st-stone_break"));
-    Register(new Stone_break("st-break_gray"));
+//    Register(new Stone_break("st-stone_break"));
+//    Register(new Stone_break("st-break_gray"));
     Register(new Stonebrush);
     Register(new ThiefStone);
 }



From ral at mail.berlios.de  Thu Jan 22 01:20:02 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 22 Jan 2009 01:20:02 +0100
Subject: [Enigma-game-svn] r1477 - in trunk/src: . stones
Message-ID: <200901220020.n0M0K2lG005222@sheep.berlios.de>

Author: ral
Date: 2009-01-22 01:20:00 +0100 (Thu, 22 Jan 2009)
New Revision: 1477

Added:
   trunk/src/stones/BreakStone.cc
   trunk/src/stones/BreakStone.hh
Modified:
   trunk/src/stones.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- add missing class st_break

Added: trunk/src/stones/BreakStone.cc
===================================================================
--- trunk/src/stones/BreakStone.cc	2009-01-21 23:24:30 UTC (rev 1476)
+++ trunk/src/stones/BreakStone.cc	2009-01-22 00:20:00 UTC (rev 1477)
@@ -0,0 +1,128 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/BreakStone.hh"
+#include "player.hh"
+#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    BreakStone::BreakStone(int type) {
+        objFlags |= type << 24;
+    }
+    
+    std::string BreakStone::getClass() const {
+        return "st_break";
+    }
+    
+    Value BreakStone::getAttr(const std::string &key) const {
+        if (key == "flavor") {
+            std::string kind = get_traits().name;
+            return kind.substr(8);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value BreakStone::message(const Message &m) {
+        if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
+            if (typ() != BUG)
+                doBreak();
+            return Value();
+        } else if (m.message == "_trigger") {
+            if (typ() == BOULDER)
+                doBreak();
+            return Value();
+        }
+        return Stone::message(m);
+    }
+   
+    void BreakStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void BreakStone::init_model() {
+        if (state == BREAKING)
+            set_anim(std::string(get_traits().name) + "-anim");
+        else
+            set_model(get_traits().name);
+    }
+    
+    void BreakStone::processLight(Direction d) {
+        if (typ() != BUG)
+            doBreak();
+    }
+    
+    void BreakStone::animcb() {
+        KillStone(get_pos());
+    }
+
+    void BreakStone::actor_hit(const StoneContact &sc) {
+        int t = typ();
+        Value color = sc.actor->getAttr("color");
+        if ((player::WieldedItemIs(sc.actor, "it_hammer") &&  (t == PLAIN || t == OXYDC || t == BOULDER
+                || (color && ((color == BLACK && t == ACBLACK)||(color == WHITE && t == ACWHITE)))))
+                || (t == BUG && get_id(sc.actor) == ac_bug))
+            doBreak();
+        else 
+            Stone::actor_hit(sc);
+    }
+
+    const char *BreakStone::collision_sound() {
+        return "stone";
+    }
+    
+    int BreakStone::typ() const {
+        return (objFlags & OBJBIT_SUBTYP) >> 24;
+    }
+    
+    void BreakStone::doBreak() {
+        if (state == IDLE) {
+            state = BREAKING;
+            sound_event("stonedestroy");
+            init_model();
+        }
+    }
+    
+    int BreakStone::traitsIdx() const {
+        return typ();
+    }
+        
+    StoneTraits BreakStone::traits[7] = {
+        {"st_break_plain", st_break_plain, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_black", st_break_black, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_white", st_break_white, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_oxydc", st_break_oxydc, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_boulder", st_break_boulder, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_bug", st_break_bug, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+        {"st_break_laser", st_break_laser, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new BreakStone(0), "st_break");
+        BootRegister(new BreakStone(0), "st_break_plain");
+        BootRegister(new BreakStone(1), "st_break_black");
+        BootRegister(new BreakStone(2), "st_break_white");
+        BootRegister(new BreakStone(3), "st_break_oxydc");
+        BootRegister(new BreakStone(4), "st_break_boulder");
+        BootRegister(new BreakStone(5), "st_break_bug");
+        BootRegister(new BreakStone(6), "st_break_laser");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/BreakStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/BreakStone.hh
===================================================================
--- trunk/src/stones/BreakStone.hh	2009-01-21 23:24:30 UTC (rev 1476)
+++ trunk/src/stones/BreakStone.hh	2009-01-22 00:20:00 UTC (rev 1477)
@@ -0,0 +1,84 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef BREAKSTONE_HH
+#define BREAKSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class BreakStone : public Stone {
+        CLONEOBJ(BreakStone);
+        DECL_TRAITS_ARRAY(7, traitsIdx());
+    private:
+        enum iState {
+            IDLE,         ///< 
+            BREAKING      ///< 
+        };
+
+        enum BreakStoneTyp {
+            PLAIN = 0,
+            ACBLACK,
+            ACWHITE,
+            OXYDC,
+            BOULDER,
+            BUG,
+            LASER
+        };
+
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_SUBTYP   =   15<<24,    ///<  
+        };
+        
+    public:
+        BreakStone(int type);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void processLight(Direction d);   // direction of laserbeam
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Stone interface
+        virtual void actor_hit(const StoneContact &sc);
+        virtual const char *collision_sound();
+
+    private:
+        int typ() const;
+        void doBreak();
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/BreakStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-21 23:24:30 UTC (rev 1476)
+++ trunk/src/stones.cc	2009-01-22 00:20:00 UTC (rev 1477)
@@ -461,51 +461,6 @@
 }
 
 
-/* -------------------- Breaking stone -------------------- */
-//namespace
-//{
-//    
-//    // only used by Bug stone as replacement!
-//    
-//    class BreakingStone : public Stone {
-//        CLONEOBJ(BreakingStone);
-//        DECL_TRAITS;
-//
-//        void init_model() {
-//            sound_event("stonedestroy");
-//            set_anim("st-breaking");
-//        }
-//
-//        void animcb() {
-//            KillStone(get_pos());
-//        }
-//    public:
-//        BreakingStone()
-//        {}
-//    };
-//    DEF_TRAITSM(BreakingStone, "st-breaking", st_breaking, MOVABLE_BREAKABLE);
-//}
-//
-//
-///* -------------------- Bug stone -------------------- */
-//namespace
-//{
-//    class BugStone : public Stone {
-//        CLONEOBJ(BugStone);
-//        DECL_TRAITS;
-//    public:
-//        BugStone()
-//        {}
-//
-//        void actor_hit (const StoneContact &sc) {
-//            if (get_id(sc.actor) == ac_bug) {
-//                ReplaceStone(get_pos(), MakeStone("st-breaking"));
-//            }
-//        }
-//    };
-//    DEF_TRAITSM(BugStone, "st-bug", st_bug, MOVABLE_BREAKABLE);
-//}
-//
 /* -------------------- Black- and Whiteballs Stones -------------------- */
 
 namespace
@@ -627,8 +582,6 @@
     Register (new BlackBallsStone);
     Register (new WhiteBallsStone);
     Register (new FakeOxydA);
-//    Register (new BreakingStone);
-//    Register (new BugStone);
 
     // Init stones from stones_simple.cc and stones_complex.cc:
     Init_simple();

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-21 23:24:30 UTC (rev 1476)
+++ trunk/src/stones_simple.cc	2009-01-22 00:20:00 UTC (rev 1477)
@@ -205,219 +205,7 @@
     
 };
 
-
 
-// -----------------------
-//      BreakableStone
-// -----------------------
-// base class for Stone_break, Break_Bolder, Break_acwhite and Break_acblack
-//
-// breakable stones can be destroyed using
-// hammer, laser, dynamite, bombs or bombstones
-//
-//namespace 
-//{
-//    class BreakableStone : public Stone {
-//    public:
-//        BreakableStone(const char *kind) : Stone(kind), state(IDLE) {}
-//        BreakableStone() : state(IDLE) {}
-//    protected:
-//        void break_me() {
-//            if (state == IDLE) {
-//                state = BREAK;
-//                sound_event ("stonedestroy");
-//                set_anim(get_break_anim());
-//            }
-//        }
-//        
-//        virtual Value message(const Message &m) {
-//            if (m.message =="ignite" || m.message == "_explosion" || m.message == "_bombstone") {
-//                break_me();
-//                return Value();
-//            }
-//            return Stone::message(m);
-//        }
-//    private:
-//        const char *collision_sound() { return "stone"; }
-//
-//        void actor_hit(const StoneContact &sc) {
-//            if (may_be_broken_by(sc.actor))
-//                break_me();
-//        }
-//        void processLight(Direction d) {
-//            break_me();
-//        }
-//        void animcb() {
-//            KillStone(get_pos());
-//        }
-//
-//        virtual string get_break_anim() const  {
-//            return string(get_kind())+"-anim";
-//        }
-//        virtual bool may_be_broken_by(Actor *a) const = 0;
-//
-//        // variables:
-//
-//        enum State { IDLE, BREAK };
-//        State state;
-//    };
-//}
-
-//----------------------------------------
-// Stone_break
-//----------------------------------------
-
-/** \page st-stone_break Breakable Stone
-
-This stone can be destroyed by an actor having a
-hammer and by laser, dynamite, bombs and bombstones.
-
-\subsection stone_breake Example
-\verbatim
-set_stone("st-stone_break", 10,10)
-\endverbatim
-
-\image html st-stone_break.png
-*/
-//namespace
-//{
-//    class Stone_break : public BreakableStone {
-//        CLONEOBJ(Stone_break);
-//        DECL_TRAITS;
-//    public:
-//        Stone_break(const char *kind) : BreakableStone(kind) { }
-//    private:
-//        bool may_be_broken_by(Actor *a) const {
-//            return player::WieldedItemIs (a, "it_hammer");
-//        }
-//    };
-//    DEF_TRAITSM(Stone_break, "INVALID", st_INVALID, MOVABLE_BREAKABLE);
-//    
-//    class LaserBreakable : public BreakableStone {
-//        CLONEOBJ (LaserBreakable);
-//        DECL_TRAITS;
-//
-//        void actor_hit(const StoneContact &) {
-//        }
-//        bool may_be_broken_by(Actor *) const {
-//            return false;
-//        }
-//    public:
-//        LaserBreakable()
-//        {}
-//    };
-//    DEF_TRAITSM(LaserBreakable, "st-laserbreak", st_laserbreak, MOVABLE_BREAKABLE);
-//}
-//
-
-//----------------------------------------
-// Break_bolder
-//----------------------------------------
-
-/** \page st-break_bolder Breakable Stone
-
-This stone can be destroyed by an actor having a hammer and by laser,
-dynamite, bombs and bombstones, bolder
-
-\subsection break_bolder Example
-\verbatim
-set_stone("st-break_bolder", 10,10)
-\endverbatim
-
-\image html st-break_bolder.png
-*/
-//namespace
-//{
-//    class Break_bolder : public BreakableStone {
-//        CLONEOBJ(Break_bolder);
-//        DECL_TRAITS;
-//    public:
-//        Break_bolder()
-//        {}
-//    private:
-//        bool may_be_broken_by(Actor *a) const {
-//            return player::WieldedItemIs (a, "it_hammer");
-//        }
-//        virtual Value message(const Message &m) {
-//            if (m.message == "_trigger") {
-//                break_me();
-//                return Value();
-//            }
-//            return BreakableStone::message(m);
-//        }
-//    };
-//    DEF_TRAITSM(Break_bolder, "st-break_bolder", st_break_bolder, MOVABLE_BREAKABLE);
-//}
-//
-
-//----------------------------------------
-// Break_acwhite
-//----------------------------------------
-
-/** \page st-break_acwhite Breakable Stone
-
-This stone can be destroyed by actor (whiteball) having a
-hammer and by laser, dynamite, bombs and bombstones.
-
-\subsection break_acwhite Example
-\verbatim
-set_stone("st-break_acwhite", 10,10)
-\endverbatim
-
-\image html st-break_acwhite.png
-*/
-//namespace
-//{
-//    class Break_acwhite : public BreakableStone {
-//        CLONEOBJ(Break_acwhite);
-//        DECL_TRAITS;
-//    public:
-//        Break_acwhite()
-//        {}
-//    private:
-//        bool may_be_broken_by(Actor *a) const {
-//            Value color = a->getAttr("color");
-//            return color && color == WHITE &&
-//                player::WieldedItemIs (a, "it_hammer");
-//        }
-//    };
-//    DEF_TRAITSM(Break_acwhite, "st-break_acwhite", st_break_acwhite, MOVABLE_BREAKABLE);
-//}
-
-//----------------------------------------
-// Break_acblack
-//----------------------------------------
-
-/** \page st-break_acblack Breakable Stone
-
-This stone can be destroyed by actor (blackball) having a
-hammer.
-
-\subsection break_acblack Example
-\verbatim
-set_stone("st-break_acblack", 10,10)
-\endverbatim
-
-\image html st-break_acblack.png
-*/
-//namespace
-//{
-//    class Break_acblack : public BreakableStone {
-//        CLONEOBJ(Break_acblack);
-//        DECL_TRAITS;
-//    public:
-//        Break_acblack()
-//        {}
-//    private:
-//        bool may_be_broken_by(Actor *a) const {
-//            Value color = a->getAttr("color");
-//            return color && color == BLACK &&
-//                player::WieldedItemIs (a, "it_hammer");
-//        }
-//    };
-//    DEF_TRAITSM(Break_acblack, "st-break_acblack", st_break_acblack, MOVABLE_BREAKABLE);
-//}
-
 /* -------------------- BrickMagic -------------------- */
 
 /** \page st-brick_magic Magic Brick Stone
@@ -793,9 +581,6 @@
     //Register(new BombStone("st-dynamite", "it-dynamite"));
     //Register(new BombStone("st-whitebombs", "it-whitebomb"));
 
-//    Register(new Break_acblack);
-//    Register(new Break_acwhite);
-//    Register(new Break_bolder);
     Register(new Break_invisible);
 
     Register(new BrickMagic);
@@ -806,10 +591,7 @@
     Register(new EasyModeStone);
     Register(new Grate3);
     Register(new InvisibleMagic);
-//    Register(new LaserBreakable);
     Register(new MagicStone);
-//    Register(new Stone_break("st-stone_break"));
-//    Register(new Stone_break("st-break_gray"));
     Register(new Stonebrush);
     Register(new ThiefStone);
 }



From raoul at mail.berlios.de  Thu Jan 22 23:17:38 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 22 Jan 2009 23:17:38 +0100
Subject: [Enigma-game-svn] r1478 - in trunk/data/levels: enigma_cross
	enigma_iv enigma_v enigma_vi enigma_vii enigma_viii
Message-ID: <200901222217.n0MMHcKE016800@sheep.berlios.de>

Author: raoul
Date: 2009-01-22 23:17:36 +0100 (Thu, 22 Jan 2009)
New Revision: 1478

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/ant21_2.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_vi/andreas31_1.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
Log:
-> Level updates for new breakstones


Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -115,7 +115,7 @@
     <level _seq="107" _title="The Turtle" _xpath="enigma_iii/ant05_1" author="Petr Machata" ctrl="force" easy="false" id="ant05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Grow Your Own" _xpath="enigma_iii/nat36_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="- Meditation -" _xpath="enigma_ii/siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="111" _title="The Disappearing Block" _xpath="enigma_ii/duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="112" _title="Space Fishing" _xpath="enigma_iii/martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Robbery" _xpath="enigma_iv/ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -169,7 +169,7 @@
     <level _seq="161" _title="- Meditation -" _xpath="enigma_vi/alain25_2" author="Alain Busser + Raoul Bourquin" ctrl="force" easy="true" id="alain25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="162" _title="Checkmate I" _xpath="enigma_vi/andreas29_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="163" _title="The Stable" _xpath="enigma_vi/andreas30_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas30" rel="2" rev="2" score="2" target="time" unit="duration"/>
-    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="164" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="enigma_vi/andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="165" _title="Chessing Positions" _xpath="enigma_vi/raoul22_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="166" _title="Twisting by the pool" _xpath="enigma_vi/alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="167" _title="Hot Meditation" _xpath="enigma_vi/ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -59,7 +59,7 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="13" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,18 +79,18 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="38" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="42" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="43" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="31" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
@@ -110,9 +110,9 @@
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
@@ -120,9 +120,9 @@
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="146" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="147" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -133,10 +133,10 @@
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="14" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="15" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -69,10 +69,10 @@
 ti["M"] = {"#ac_rotor", owner=1, adhesion=0, range=4, strength=-5} .. ti["l"]
 ti["N"] = {"#ac_top", owner=1, adhesion=0, range=8, strength=20} .. ti["i"]
 ti["R"] = {"st_oneway", orientation=EAST} .. ti["l"]
-ti["J"] = {"st-break_acwhite"}
+ti["J"] = {"st_break_white"}
 ti["D"] = {"it-dynamite"}
 ti["t"] = {"it_hammer"}
-ti["H"] = {"st-stone_break"}
+ti["H"] = {"st_break_oxydc"}
 ti["f"] = {"st_actorimpulse_invisible"}
 ti["q"] = {"st_passage_black_frame"} .. ti["l"]
 ti["w"] = {"st_passage_white_frame"} .. ti["l"]

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_v/ant21_2.xml
===================================================================
--- trunk/data/levels/enigma_v/ant21_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_v/ant21_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Draggers" el:subtitle="" el:id="ant21"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,7 +34,7 @@
     ti["-"] = ti[" "]
 else
     ti[","] = ti[" "] .. {"it_crack_l"}
-    ti["-"] = {"st-break_bolder"}
+    ti["-"] = {"st_break_boulder"}
 end
 
 wo(ti, " ", {

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="20" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma V"/>
 
   <attributes/>
 
@@ -21,7 +21,7 @@
     <level _seq="13" _title="Sentry Duty" _xpath="./nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Thievish Alleys" _xpath="./andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Solvable?" _xpath="./barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="7" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/andreas31_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vi/andreas31_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chess, Bugs &amp; Rock'n'Roll" el:subtitle="" el:id="andreas31"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006, 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -61,7 +61,7 @@
 ti["!  "] = {"fl_wood"}
 ti[" ! "] = {"st_redrock"}  -- st_purplegray
 ti[" # "] = {"st_oxyd", flavor = "b"}
-ti[" $ "] = {"st-bug"}
+ti[" $ "] = {"st_break_bug"}
 ti[" T "] = {"it_trigger", target = "trigger_call"}
 ti["  !"] = {"ac_bug"}
 ti["  #"] = {"#ac_marble_black", adhesion = 2.0}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma VI"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Dancing on Light Beams" _xpath="./andreas28_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas28" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Wormhole Madness!" _xpath="./edward24_1" author="Edward" ctrl="force" easy="false" id="edward24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Alcatraz" _xpath="./ralf14_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="47" _title="Chess, Bugs &amp; Rock'n'Roll" _xpath="./andreas31_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas31" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Oiltrace" _xpath="./raoul25_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Simple Space" _xpath="./ulf02_1" author="Ulf Stegemann" ctrl="force" easy="false" id="20060628ulf002" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="33" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="34" title="Enigma VII"/>
 
   <attributes/>
 
@@ -83,7 +83,7 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="12" score="2" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="13" score="2" target="time" unit="duration"/>
     <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="38" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="43" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -22,7 +22,7 @@
 ti[" &"] = {"fl_metal_7", friction=4.0}
 ti["$ "] = {"st-thief"}
 ti["% "] = {"st_passage_black_cross"}
-ti["& "] = {"st-stone_break"}
+ti["& "] = {"st_break_oxydc"}
 ti["' "] = {"st_rawglass_movable"}
 ti["( "] = {"st_pinkbumps"}
 ti[") "] = {"st_grate_cross"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:38$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:39$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -91,8 +91,8 @@
 ti["? "] = {"st_brownie"}
 ti["g "] = {"it_glasses"}
 ti["f "] = {"it-flagblack"}
-ti["@ "] = {"st-stone_break"}
-ti["st"] = ti[" #"] .. {"st-stone_break"}
+ti["@ "] = {"st_break_oxydc"}
+ti["st"] = ti[" #"] .. {"st_break_oxydc"}
 ti["sy"] = ti["st"] .. {"it_seed"}
 ti["sz"] = ti["st"] .. {"it_shogun_l"}
 ti["A "] = {"st_door", faces="ew", name="doorwand"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 42 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 43 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -41,7 +41,7 @@
 ti[" -"] = {"fl-gradient11"}
 ti[" ."] = {"fl-gradient12"}
 ti["b "] = {"it_brush"}
-ti["* "] = {"st-break_bolder"}
+ti["* "] = {"st_break_boulder"}
 ti[" /"] = {"fl_aquamarine"}
 ti["+ "] = {"st_rawglass_movable"}
 ti[", "] = {"st_door", faces="ew"}
@@ -84,7 +84,7 @@
 ti["? "] = {"st_fake_oxydd"}
 ti["@ "] = {"st_rawglass"}
 ti["A "] = {"st_door", state=OPEN, faces="ns"}
-ti["W "] = {"st-stone_break"}
+ti["W "] = {"st_break_oxydc"}
 ti["gg"] = ti[" %"] .. {"it_strip", connections="ns"}
 ti["l3"] = ti[" !"] .. {"st-brick_magic"}
 ti["l4"] = ti[" i"] .. {"st_passage_black_frame"}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="12" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="13" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -62,7 +62,7 @@
 ti["W"] = ti[" "] .. {"#ac_rotor", name="RGuard2", gohome=0} -- Lone Ranger's Guard
 ti["X"] = ti[" "] .. {"#ac_rotor", name="RGuard3", gohome=0} -- Lone Ranger's Guard
 ti["Y"] = ti["y"] .. {"st_passage_white_slash"} --White grill on blue floor
-ti["Z"] = (ti[" "] .. {"it_death"}) .. {"st-break_gray"} --Tomb door with corpse
+ti["Z"] = (ti[" "] .. {"it_death"}) .. {"st_break_plain"} --Tomb door with corpse
 ti["0"] = ti[" "] .. {"st_oxyd"}
 ti["1"] = ti[" "] .. {"st_key", code="1", action="toggle", target="Door1"}
 ti["2"] = ti[" "] .. {"st_key", code="2", action="toggle", target="Door2"}
@@ -75,7 +75,7 @@
 ti["%"] = ti[" "] .. {"st_death_invisible"}
 ti["&"] = ti[" "] .. {"st_actorimpulse_invisible"}
 ti["*"] = ti[" "] .. {"#ac_rotor", range=5, strength=100}
-ti[":"] = ti[" "] .. {"st-break_gray"} -- Tomb doors
+ti[":"] = ti[" "] .. {"st_break_plain"} -- Tomb doors
 ti["v"] = {"fl-gradient14"} -- Down
 ti["<"] = {"fl-gradient15"} -- Left
 ti[">"] = {"fl-gradient16"} -- Right

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="14" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="15" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -71,7 +71,7 @@
 ti["W0"] = {"st_turnstilearm_w"} .. ti[" 0"]
 ti["S0"] = {"st_turnstilearm_s"} .. ti[" 0"]
 ti["T0"] = {"st_turnstile"} .. ti[" 0"]
-ti["B0"] = {"st-stone_break"} .. ti[" 0"]
+ti["B0"] = {"st_break_oxydc"} .. ti[" 0"]
 ti["s0"] = {"it_spade"} .. ti[" 0"]
 
 for j = 1, 5 do

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -1,21 +1,21 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="43" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="30" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="31" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
@@ -35,17 +35,17 @@
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="146" score="2" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="147" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="12" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="13" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -56,10 +56,10 @@
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="30" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,7 +39,7 @@
 ti["nn"] = ti[" ,"] .. {"it_magicwand"}
 ti["Y "] = {"st_darkglass_movable"}
 ti["U1"] = {"st_passage_black_frame"}
-ti["ic"] = {"st-stone_break"}
+ti["ic"] = {"st_break_oxydc"}
 ti["h "] = {"st_bluegray_hollow"}
 ti["Xn"] = ti["nn"] .. {"st_grate_cross"}
 ti[" b"] = ti["  "] .. {"it-blackbomb"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:36$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:37$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -62,9 +62,8 @@
 ti["j "] = {"st_disco_light"}
 ti["~1"] = ti["~ "] ..{"st_disco_light"}
 ti["J "] = {"st-stoneimpulse-hollow"}
-ti["U "] = {"st-break_invisible"}
-ti["UU"] = {"st-break_acblack"}
-ti["4U"] = ti["4 "] ..{"st-break_acblack"}
+ti["UU"] = {"st_break_black"}
+ti["4U"] = ti["4 "] ..{"st_break_black"}
 ti["T "] = {"st_passage_black_frame"}
 ti["; "] = ti["T "] ..{"it-flagblack"}
 ti["h "] = {"st_oneway_e"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 30 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 31 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -26,7 +26,7 @@
 ti["# "] = {"st_plaster"}
 ti[" $"] = {"fl_abyss"}
 ti[" %"] = {"fl_ivory"}
-ti["$ "] = {"st-stone_break"}
+ti["$ "] = {"st_break_oxydc"}
 ti["% "] = {"st_purplegray"}
 ti[" &"] = {"fl_water"}
 ti[" '"] = {"fl_bluegray"}
@@ -93,7 +93,7 @@
 ti["w1"] = ti["w4"] .. {"it_wormhole", destination = po(48.5, 39.5),range=10, strength=10}
 ti["w2"] = ti[" 1"] .. {"it_wormhole", destination = po(40.5, 18.5),range=10, strength=10}
 ti["w3"] = ti[" #"] .. {"it_wormhole", destination = po(20.5, 25.5),range=10, strength=10}
-ti["7 "] = {"st-break_bolder"}
+ti["7 "] = {"st_break_boulder"}
 ti[": "] = {"st_oneway_black_n"}
 ti["Y "] = {"st_oneway_black_s"}
 ti[" 2"] = {"fl_gravel"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -32,7 +32,7 @@
 ti[" _"] = {"fl_swamp"}
 ti[" ."] = {"fl_space"}
 ti[" ("] = {"fl-gradient", type=3}
-ti["t "] = {"st-stone_break"}
+ti["t "] = {"st_break_oxydc"}
 ti["# "] = {"st_lightpassenger"}
 ti["K "] = {"st_knight"}
 ti["B "] = {"st-brick_magic"}
@@ -68,7 +68,7 @@
 ti["4 "] = ti[" f"] ..{"st_oneway_w"}
 ti["6 "] = {"st_oneway_e"}
 ti["8 "] = {"st_oneway_black_n"}
-ti["Q "] = {"st-stone_break"}
+ti["Q "] = {"st_break_oxydc"}
 ti["m "] = ti[" _"] .. {"st_mirror_slab", movable=false, transparent=true, orientation=0}
 ti["M1"] = ti[" _"] .. {"st_mirror_slab", movable=false, transparent=false, orientation=2}
 ti["M2"] = ti[" _"] .. {"st_mirror_slab", movable=false, orientation=1}
@@ -84,8 +84,8 @@
 ti[":8"] = {"st_door", name="door#8", flavor="d", faces="ew"}
 ti[":9"] = {"st_door", name="door#9", flavor="d", faces="ew"}
 ti["? "] = ti[" ~"] .. {"st_actorimpulse_invisible"}
-ti["z "] = ti[" v"] .. {"st-stone_break"}
-ti["N "] = ti[" v"] .. {"st-stone_break"}
+ti["z "] = ti[" v"] .. {"st_break_oxydc"}
+ti["N "] = ti[" v"] .. {"st_break_oxydc"}
 ti["- "] = ti[" ~"] .. {"it_strip_ew"}
 ti["b "] = ti[" ~"] .. {"it-booze"}
 ti["h2"] = ti["h1"] .. {"it_cherry"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:14$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:15$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -64,7 +64,7 @@
 ti["z "] = {"it-document", text="text1"}
 ti["3 "] = {"st_actorimpulse"}
 ti["k "] = {"it_cherry"}
-ti["4 "] = {"st-break_bolder"}
+ti["4 "] = {"st_break_boulder"}
 ti["i "] = {"it_seed"}
 ti["w "] = {"it-flagwhite"}
 ti["5 "] = {"st-thief"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -30,13 +30,13 @@
 ti["' "] = {"st_yellow"}
 ti[" '"] = {"fl_bluegray"}
 ti["( "] = {"st-grate3"}
-ti["* "] = {"st-stone_break"}
+ti["* "] = {"st_break_oxydc"}
 ti[" )"] = {"fl_yinyang_yin"}
 ti["+ "] = {"st_passage_white_cross"}
 ti[", "] = {"st_passage_black_cross"}
 ti["- "] = {"st_grate_cross"}
-ti["ny"] = ti[" ("]..{"st-stone_break"}
-ti["nw"] = ti[" '"]..{"st-stone_break"}
+ti["ny"] = ti[" ("]..{"st_break_oxydc"}
+ti["nw"] = ti[" '"]..{"st_break_oxydc"}
 ti["nn"] = ti["ny"]..{"it_seed_fake"}
 ti["nm"] = ti["nw"]..{"it_seed_fake"}
 ti[". "] = {"st-block"}
@@ -72,7 +72,7 @@
 ti["C "] = {"st_puzzle", connections="nsw"}
 ti["pp"] = ti[" !"]..{"it_pipe", connections="ew"}
 ti["pd"] = ti[" ("]..{"it_pipe", connections="ew"}
-ti["D "] = {"st-break_bolder"}
+ti["D "] = {"st_break_boulder"}
 ti["pa"] = ti[" $"]..{"it_pipe", connections="sw"}
 ti["pb"] = ti[" $"]..{"it_pipe", connections="ne"}
 ti["pc"] = ti[" ("]..{"it_pipe", connections="es"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 42 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 43 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -45,8 +45,8 @@
 ti["- "] = {"st_knight"}
 ti[". "] = {"st_boulder_e"}
 ti[" ("] = {"fl_aquamarine"}
-ti["A "] = {"st-break_bolder"}
-ti["jj"] = ti[" !"] .. {"st-break_bolder"}
+ti["A "] = {"st_break_boulder"}
+ti["jj"] = ti[" !"] .. {"st_break_boulder"}
 ti["t1"] = ti[" !"] .. {"it_trigger", target="olli1",action="toggle"}
 ti["t2"] = ti[" !"] .. {"it_trigger", target="olli2",action="toggle"}
 ti["t3"] = ti[" !"] .. {"it_trigger", target="olli3",action="toggle"}
@@ -86,7 +86,7 @@
 ti["8 "] = {"st_rotator_ccw", movable=false}
 ti["9 "] = {"st_death_invisible"}
 ti["q1"] = ti[" !"] .. {"it_coin_s"}
-ti[": "] = {"st-stone_break"}
+ti[": "] = {"st_break_oxydc"}
 ti["; "] = {"st_fake_oxydd"}
 ti["= "] = {"st_bluegray_hollow"}
 ti["&d"] = ti[" &"] .. {"it_death"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 30 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -57,7 +57,7 @@
 ti["SB"] = {"st_passage_black_frame"}
 ti["SP"] = {"st_chess_black"}
 ti["SW"] = {"st_chess_white"}
-ti["ZZ"] = ti[" ."] .. {"st-stone_break"}
+ti["ZZ"] = ti[" ."] .. {"st_break_oxydc"}
 ti[" ;"] = {"fl_swamp"}
 ti["R "] = {"st_redrock"}
 ti[" j"] = {"it_crack_m"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 12 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti[" _"] = {"fl_swamp"}
 ti["'_"] = ti["' "] .. {"fl_swamp"}
 ti[" ."] = {"fl_space"}
-ti["t "] = {"st-stone_break"}
+ti["t "] = {"st_break_oxydc"}
 ti["# "] = {"st_panel"}
 ti["K "] = {"st_rawglass_movable"}
 ti["K1"] = {"st_rawglass_movable", name="movy1"}
@@ -84,7 +84,7 @@
 ti["4 "] = ti[" f"] ..{"st_oneway", orientation=WEST}
 ti["6 "] = {"st_oneway", orientation=EAST}
 ti["8 "] = {"st_oneway_white", orientation=NORTH}
-ti["Q "] = {"st-stone_break"}
+ti["Q "] = {"st_break_oxydc"}
 ti["wn"] = ti["  "] .. {"st_window_n",secure=true}
 ti["X1"] = ti[" ~"] .. {"st_oxyd", flavor="a", name="oxyy1"}
 ti["X2"] = ti[" ~"] .. {"st_oxyd", flavor="a", name="oxyy2"}
@@ -112,8 +112,8 @@
 ti[":7"] = {"st_door", name="door#7", flavor="d", faces="ew"}
 ti[":8"] = {"st_door", name="door#8", flavor="d", faces="ew"}
 ti["! "] = ti[" ~"] .. {"st_actorimpulse_invisible"}
-ti["z "] = ti[" v"] .. {"st-stone_break"}
-ti["N "] = ti[" v"] .. {"st-stone_break"}
+ti["z "] = ti[" v"] .. {"st_break_oxydc"}
+ti["N "] = ti[" v"] .. {"st_break_oxydc"}
 ti["- "] = ti[" ~"] .. {"it_strip_ew"}
 ti["h2"] = ti["h1"] .. {"it_cherry"}
 ti["h3"] = ti["h1"] .. {"it-dynamite"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-22 00:20:00 UTC (rev 1477)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-22 22:17:36 UTC (rev 1478)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 146 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 147 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -213,8 +213,8 @@
 ti["M:"] = ti["::"] .. {"st_box"}
 ti["MB"] = ti["c'"] .. {"st_brownie"}
 ti["M."] = ti[".."] .. {"st_brownie"}
-ti["W."] = ti[".."] .. {"st-break_acwhite"}
-ti["S."] = ti[".."] .. {"st-break_acblack"}
+ti["W."] = ti[".."] .. {"st_break_white"}
+ti["S."] = ti[".."] .. {"st_break_black"}
 ti["R0"] = ti["  "] .. {"st_tigris"}
 ti["R1"] = ti["::"] .. {"st_granite"}
 ti["R6"] = ti["::"] .. {"st_granite_movable"}
@@ -303,7 +303,7 @@
 ti["Pf"] = ti["%f"] .. {"st_flat_breakable"}
 ti["P."] = ti["_."] .. {"st_flat_breakable"}
 ti["PC"] = ti[".."] .. {"st_flat_breakable"}
-ti["PB"] = ti[".."] .. {"st-bug"}
+ti["PB"] = ti[".."] .. {"st_break_bug"}
 ti["TT"] = ti["tt"] .. {"st-thief"}
 ti["D1"] = ti[".."] .. {"st_blocker", "door1#"}
 ti["D2"] = ti[".."] .. {"st_blocker", "door2#"}



From ral at mail.berlios.de  Sat Jan 24 00:28:59 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 24 Jan 2009 00:28:59 +0100
Subject: [Enigma-game-svn] r1479 - trunk/src
Message-ID: <200901232328.n0NNSxZ8022573@sheep.berlios.de>

Author: ral
Date: 2009-01-24 00:28:58 +0100 (Sat, 24 Jan 2009)
New Revision: 1479

Modified:
   trunk/src/Object.cc
   trunk/src/Value.cc
   trunk/src/Value.hh
   trunk/src/WorldProxy.cc
   trunk/src/enigma.cc
   trunk/src/enigma.hh
   trunk/src/lua.cc
   trunk/src/world.cc
   trunk/src/world.hh
   trunk/src/world_internal.hh
Log:
Trunk 1.1:
- fix typo in group:subGroup evaluation of second argument
- fix argument checking for group index write access: numbers not allowed
- Value: 
  - add type GRIDPOS besides POSITION to distinguish origional meaning
  - add position retrieval for Values that describe objects or named positions
  - add method ecl::V2 centeredPos() to retrieve a position vector that is
    centered to the grid for GRIDPOS and objects aligned to grids
- attribute "destination" as supported by ac_horse, it_wormhole, it_vortex
  - allow named position strings, thus being able to add multiple pure position
    destinations
  - named floor destinations being killed remain valid as they are now
    interpreted as named positions
- add global attribute "GlobalForce" as a constant force applied to every
    actor, the value is position like vector


Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/Object.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004,2005 Daniel Heck
- * Copyright (C) 2007, 2008 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -362,31 +362,20 @@
     
     bool Object::getDestinationByIndex(int idx, ecl::V2 &dstpos) const {
         int i = 0;  // counter for destination candidates
-        Value dest = getAttr("destination");
-        if (dest.getType() == Value::POSITION && idx == 0) {
-            // arbitrary precision position as destination
-            dstpos = dest;
-            return true;
-        } else {
-            // evaluate destination objects in sequence up to "idx"
-            TokenList tl = dest;  // convert any object type value to a tokenlist 
-            for (TokenList::iterator tit = tl.begin(); tit != tl.end(); ++tit) {
-                ObjectList ol = (*tit).getObjectList(this);  // convert next token to an objectlist
-                for (ObjectList::iterator oit = ol.begin(); oit != ol.end(); ++oit) {
-                    GridObject *go = dynamic_cast<GridObject *>(*oit);  // get the object
-                    if (go != NULL) {   // no actors and deleted objects as destination!
-                        GridPos p = go->get_pos();
-                        if (IsInsideLevel(p)) {   // no objects in inventory,...
-                            if (i == idx) {
-                                dstpos = p.center();
-                                return true;
-                            } else
-                                i++;
-                        }
-                    }
+        TokenList tl = getAttr("destination");  // expand any tokens to a list of values 
+        for (TokenList::iterator tit = tl.begin(); tit != tl.end(); ++tit) {
+            PositionList pl = (*tit).getPositionList(this);  // convert next token to a list of positions
+            for (PositionList::iterator pit = pl.begin(); pit != pl.end(); ++pit) {
+                ecl::V2 pos = (*pit).centeredPos();
+                if (IsInsideLevel(pos))  {  // no positions in inventory,..
+                    if (i == idx) {
+                        dstpos = pos;
+                        return true;
+                    } else
+                        i++;
                 }
             }
-        }
+        }        
         return false;
     }
     

Modified: trunk/src/Value.cc
===================================================================
--- trunk/src/Value.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/Value.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004 Daniel Heck
- * Copyright (C) 2007 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -125,7 +125,7 @@
          val.dval[1] = pos[1];
     }
     
-    Value::Value(GridPos gpos) : type (POSITION) {
+    Value::Value(GridPos gpos) : type (GRIDPOS) {
          val.dval[0] = gpos.x;
          val.dval[1] = gpos.y;
     }
@@ -133,6 +133,7 @@
     Value::Value(Type t) : type (t) {
         switch (t) {
             case POSITION :
+            case GRIDPOS :
                 val.dval[1] = 0;
                 // fall thorough
             case DOUBLE :
@@ -213,6 +214,7 @@
                 case NAMEDOBJECT :
                     return strcmp(val.str, other.val.str) == 0;
                 case POSITION :
+                case GRIDPOS :
                     return (val.dval[0] == other.val.dval[0]) && (val.dval[1] == other.val.dval[1]);
             }
         return true;
@@ -293,6 +295,8 @@
             case NAMEDOBJECT:
             case STRING:
             case GROUP:
+            case POSITION:
+            case GRIDPOS:
                 result.push_back(*this);
                 break;
             case TOKENS:
@@ -323,22 +327,34 @@
     }
     
     Value::operator ecl::V2() const {
+        Object *obj = NULL;
         switch (type) {
-            case POSITION: {
+            case POSITION:
+            case GRIDPOS:
                 return ecl::V2(val.dval[0], val.dval[1]);
-            }
-            default:
-                return ecl::V2(0, 0);
+            case NAMEDOBJECT:
+            case STRING:
+            case OBJECT:
+                obj = *this;
+                if (obj != NULL)
+                    switch (obj->getObjectType()) {
+                        case Object::STONE :
+                        case Object::FLOOR :
+                        case Object::ITEM  :
+                            return dynamic_cast<GridObject *>(obj)->get_pos();
+                        case Object::ACTOR :
+                            return dynamic_cast<Actor *>(obj)->get_pos();
+                    }
+                else if (type != OBJECT)
+                    return GetNamedPosition(val.str);
         }
+        // all other cases
+        return ecl::V2(-1, -1);
     }
     
     Value::operator GridPos() const {
-        switch (type) {
-            case POSITION:
-                return GridPos(round_down<int>(val.dval[0]), round_down<int>(val.dval[1]));
-            default:
-                return GridPos(0, 0);
-        }
+        ecl::V2 pos = *this;
+        return GridPos(pos);
     }
     
     Value::operator const char*() const {
@@ -421,6 +437,33 @@
         }
     }
     
+    ecl::V2 Value::centeredPos() const {
+        Object *obj = NULL;
+        switch (type) {
+            case POSITION:
+                return ecl::V2(val.dval[0], val.dval[1]);
+            case GRIDPOS:
+                return ecl::V2(val.dval[0] + 0.5, val.dval[1] + 0.5);
+            case NAMEDOBJECT:
+            case STRING:
+            case OBJECT:
+                obj = *this;
+                if (obj != NULL)
+                    switch (obj->getObjectType()) {
+                        case Object::STONE :
+                        case Object::FLOOR :
+                        case Object::ITEM  :
+                            return dynamic_cast<GridObject *>(obj)->get_pos().center();
+                        case Object::ACTOR :
+                            return dynamic_cast<Actor *>(obj)->get_pos();
+                    }
+                else if (type != OBJECT)
+                    return GetNamedPosition(val.str).centeredPos();
+        }
+        // all other cases
+        return ecl::V2(-1, -1);        
+    }
+    
     ObjectList Value::getObjectList(const Object *reference) const {
         ObjectList result;
         switch (type) {
@@ -452,6 +495,40 @@
         return result;
     }
     
+    PositionList Value::getPositionList(const Object *reference) const {
+        PositionList result;
+        switch (type) {
+            case STRING:
+                if (std::string(val.str).find_first_of("*?") != std::string::npos) {
+                    // wildcards in object name - we need to add all objects
+                    result = GetNamedPositionList(val.str, reference);
+                    break;
+                }
+                // else it is a single object name - fall through not possible
+                
+                
+                
+            case NAMEDOBJECT:
+            case OBJECT:
+                result.push_back(*this);
+                break;
+            case GROUP:
+                std::vector<std::string> vs;
+                ecl::split_copy(std::string(val.str), ',', back_inserter(vs));
+                for (std::vector<std::string>::iterator it = vs.begin(); it != vs.end(); ++it) {
+                    if (it->size() > 0) {
+                        if ((*it)[0] == '#') {
+                            result.push_back(Object::getObject(atoi((*it).c_str() + 1)));
+                        } else {
+                            result.push_back(GetNamedPosition(*it));
+                        }
+                    }
+                }
+                break;
+        }
+        return result;
+    }
+    
     bool Value::finalizeNearestObjectReference(const Object *reference) {
         if (type == STRING && std::string(val.str).find("@@") != 0 && std::string(val.str).find("@") == 0
                 && std::string(val.str).find_first_of("*?") != std::string::npos) {

Modified: trunk/src/Value.hh
===================================================================
--- trunk/src/Value.hh	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/Value.hh	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2004 Daniel Heck
- * Copyright (C) 2007 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -94,6 +94,7 @@
                       ///< identifier.
             GROUP,    ///< Value is a group of objects.
             POSITION, ///< Value is a position
+            GRIDPOS,  ///< Value is a grid position
             TOKENS,   ///< Value is a list of token values
             NAMEDOBJECT  ///< internal Value type for named objects - public type is OBJECT
         };
@@ -236,9 +237,19 @@
         bool to_bool() const;
         
         /**
+         * Returns the value converted to a vector position with a centering of all
+         * grid position type values. GRIDPOS type values as well as all positions of
+         * GridObject's will be return as grid centered vector positions, while true
+         * vector position values and positions of Actor's will be returned as is.
+         * Other values will return a position of (-1, -1) indicating a false position 
+         */
+        ecl::V2 centeredPos() const;
+        
+        /**
          * 
          */
         ObjectList getObjectList(const Object *reference = NULL) const;
+        PositionList getPositionList(const Object *reference =NULL) const;
         bool finalizeNearestObjectReference(const Object *reference = NULL);
     private:
         void clear();      ///< Release resources and assign type NIL

Modified: trunk/src/WorldProxy.cc
===================================================================
--- trunk/src/WorldProxy.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/WorldProxy.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,5 +1,5 @@
 /*
- * Copyright (C) 2007,2008 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -86,6 +86,8 @@
             return server::Fragility;
         } else if (key == "FrictionStrength") {
             return server::FrictionFactor;
+        } else if (key == "GlobalForce") {
+            return GetGlobalForce();
         } else if (key == "MeditationStrength") {
             return server::HoleForce;
         } else if (key == "MagnetStrength") {
@@ -172,6 +174,8 @@
             server::Fragility = val;
         } else if (key == "FrictionStrength") {
             server::FrictionFactor = val;
+        } else if (key == "GlobalForce") {
+            SetGlobalForce(val);
         } else if (key == "MeditationStrength") {
             server::HoleForce = val;
         } else if (key == "MagnetStrength") {

Modified: trunk/src/enigma.cc
===================================================================
--- trunk/src/enigma.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/enigma.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -147,7 +147,11 @@
   y (round_down<int>(p[1])) 
 {}
 
+    GridPos::operator ecl::V2() const {
+        return ecl::V2(x, y);
+    }
 
+
 std::ostream& operator<<(std::ostream& os, const GridPos& val)
 {
     return os << '(' << val.x << ',' << val.y << ')';

Modified: trunk/src/enigma.hh
===================================================================
--- trunk/src/enigma.hh	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/enigma.hh	2009-01-23 23:28:58 UTC (rev 1479)
@@ -156,6 +156,11 @@
         explicit GridPos(const ecl::V2& p);
         void move(Direction dir);
         ecl::V2 center() const;
+        
+        /**
+         * Conversion of a value to a position vector.
+         */
+        operator ecl::V2() const;
     };
 
     GridPos move(GridPos p, Direction dir);

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/lua.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004 Daniel Heck
- * Copyright (C) 2007,2008 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -420,6 +420,7 @@
             pushNewGroup(L, val);
             break;
         case Value::POSITION:
+        case Value::GRIDPOS:
             pushNewPosition(L, val);
             break;
         case Value::TOKENS: {
@@ -804,7 +805,7 @@
     ecl::V2 v;
     v[0] = lua_tonumber(L, 1);
     v[1] = lua_tonumber(L, 2);
-    SetConstantForce (v);
+    SetGlobalForce(v);
     return 0;
 }
 
@@ -2862,7 +2863,7 @@
 MethodMap groupMethodeMap;
 
 static int dispatchGroupWriteAccess(lua_State *L) {
-    if (!(lua_isstring(L, 2))) {
+    if (!(lua_isstring(L, 2)) || lua_type(L, 2) == LUA_TNUMBER) {
         throwLuaError(L, "Group: illegal attribute write access");
         return 0;
     }
@@ -2980,7 +2981,7 @@
     }
     if (lua_gettop(L) == 3 && lua_isnumber(L, 2) && lua_isnumber(L, 3)) {
         start = lua_tointeger(L, 2) - 1;
-        end = lua_tointeger(L, 2);
+        end = lua_tointeger(L, 3);
         if (end < 0) {
             end = start - end;
         }

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/world.cc	2009-01-23 23:28:58 UTC (rev 1479)
@@ -1,6 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004,2005 Daniel Heck
- * Copyright (C) 2007,2008, 2009 Ronald Lamprecht
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -226,7 +226,7 @@
 World::World(int ww, int hh) : fields(ww,hh), preparing_level(true),
         leftmost_actor (NULL), rightmost_actor (NULL), numMeditatists (0), 
         indispensableHollows (0), engagedIndispensableHollows(0), engagedDispensableHollows (0),
-        registerCriticalPositions (false), scrambleIntensity(10) // difficult default
+        globalForce (0, 0), registerCriticalPositions (false), scrambleIntensity(10) // difficult default
         {
     w = ww;
     h = hh;
@@ -374,9 +374,9 @@
     return Value(GridPos(-1, -1));
 }
 
-PositionList World::getPositionList(const std::string &tmpl) {
+PositionList World::getPositionList(const std::string &tmpl, const Object *reference) {
     PositionList positions;
-    ObjectList objects = get_group(tmpl);
+    ObjectList objects = get_group(tmpl, reference);
     for (ObjectList::iterator itr = objects.begin(); itr != objects.end(); ++itr) {
         switch ((*itr)->getObjectType()) {
             case Object::STONE :
@@ -570,7 +570,7 @@
     if (a->is_on_floor()) {
         if (Floor *floor = a->m_actorinfo.field->floor) {
             // Constant force
-            f += flatForce;
+            f += globalForce;
 
             // Mouse force
             if (a->get_controllers() != 0) {
@@ -1744,8 +1744,8 @@
     return level->getNamedPosition(name);    
 }
 
-PositionList GetNamedPositionList(const string &tmpl) {
-    return level->getPositionList(tmpl);    
+PositionList GetNamedPositionList(const string &tmpl, const Object *reference) {
+    return level->getPositionList(tmpl, reference);    
 }
 
 bool IsLevelBorder(const GridPos &p) {
@@ -1756,6 +1756,10 @@
     return level->contains(p);
 }
 
+bool IsInsideLevel(const ecl::V2 &p) {
+    return level->contains(p);
+}
+
 /* -------------------- Force fields -------------------- */
 
 void AddForceField(ForceField *ff)
@@ -1767,10 +1771,13 @@
     level->remove (ff);
 }
 
-void SetConstantForce (V2 force) {
-    level->flatForce = force;
+void SetGlobalForce(V2 force) {
+    level->globalForce = force;
 }
 
+ecl::V2 GetGlobalForce() {
+    return level->globalForce;
+}
 
 /* -------------------- Signals, Messages, Actions -------------------- */
 

Modified: trunk/src/world.hh
===================================================================
--- trunk/src/world.hh	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/world.hh	2009-01-23 23:28:58 UTC (rev 1479)
@@ -160,6 +160,7 @@
 
     bool IsLevelBorder(const GridPos &p);
     bool IsInsideLevel(const GridPos &p);
+    bool IsInsideLevel(const ecl::V2 &p);
     Object *GetObject(const GridLoc &l);
 
 /* -------------------- Named Objects -------------------- */
@@ -173,7 +174,7 @@
 
     void NamePosition(Value po, const string &name);
     Value GetNamedPosition(const string &name);
-    PositionList GetNamedPositionList(const std::string &templ);
+    PositionList GetNamedPositionList(const std::string &templ, const Object *reference = NULL);
 
 /* -------------------- Force Fields -------------------- */
 
@@ -181,9 +182,9 @@
     void RemoveForceField (ForceField *ff);
     void SetMouseForce (V2 f);
 
-    void SetConstantForce (V2 force);
+    void SetGlobalForce(V2 force);
+    ecl::V2 GetGlobalForce();
 
-
 /* -------------------- Other Objects -------------------- */
 
     void AddOther(Other *o);

Modified: trunk/src/world_internal.hh
===================================================================
--- trunk/src/world_internal.hh	2009-01-22 22:17:36 UTC (rev 1478)
+++ trunk/src/world_internal.hh	2009-01-23 23:28:58 UTC (rev 1479)
@@ -259,6 +259,10 @@
             return (p.x>=0 && p.y>=0 && p.x<w && p.y<h);
         }
 
+        bool contains(const ecl::V2 &p) {
+            return (p[0]>=0 && p[1]>=0 && p[0]<w && p[1]<h);
+        }
+
         bool is_border(const GridPos &p);
 
         Field *get_field (GridPos p) {
@@ -274,7 +278,7 @@
         std::list<Object *> get_group(const std::string &tmpl, const Object *reference = NULL);
         void namePosition(Value po, const std::string &name);
         Value getNamedPosition(const std::string &name);
-        PositionList getPositionList(const std::string &tmpl);
+        PositionList getPositionList(const std::string &tmpl, const Object *reference = NULL);
         
         void tick (double dtime);
         void remove (ForceField *ff);
@@ -331,7 +335,7 @@
         OtherList            others;
         RubberbandList       rubberbands;
         MouseForce           m_mouseforce;
-        V2                   flatForce;
+        ecl::V2              globalForce;
         int                  scrambleIntensity;
         int                  numMeditatists; 
         int                  indispensableHollows;



From ral at mail.berlios.de  Sat Jan 24 17:16:44 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Sat, 24 Jan 2009 17:16:44 +0100
Subject: [Enigma-game-svn] r1480 - team_levelpacks/team_test_new_api
Message-ID: <200901241616.n0OGGinj023204@sheep.berlios.de>

Author: ral
Date: 2009-01-24 17:16:32 +0100 (Sat, 24 Jan 2009)
New Revision: 1480

Added:
   team_levelpacks/team_test_new_api/ralT075_1.xml
Modified:
   team_levelpacks/team_test_new_api/ralT016_1.xml
   team_levelpacks/team_test_new_api/ralT026_1.xml
   team_levelpacks/team_test_new_api/ralT027_1.xml
   team_levelpacks/team_test_new_api/ralT030_1.xml
   team_levelpacks/team_test_new_api/ralT046_1.xml
   team_levelpacks/team_test_new_api/ralT047_1.xml
   team_levelpacks/team_test_new_api/ralT049_1.xml
   team_levelpacks/team_test_new_api/ralT052_1.xml
   team_levelpacks/team_test_new_api/ralT055_1.xml
   team_levelpacks/team_test_new_api/ralT061_1.xml
   team_levelpacks/team_test_new_api/ralT062_1.xml
   team_levelpacks/team_test_new_api/ralT068_1.xml
   team_levelpacks/team_test_new_api/ralT072_1.xml
   team_levelpacks/team_test_new_api/raoulT03_1.xml
   team_levelpacks/team_test_new_api/raoulT05_1.xml
   team_levelpacks/team_test_new_api/raoulT09_1.xml
Log:
Test Level new API:
- updates for trunk r1479
- added level for plaster and breakable stones
- ralT026 Horse test level expanded


Modified: team_levelpacks/team_test_new_api/ralT016_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT016_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -27,7 +27,7 @@
 ti["l"] = {"st_lightpassenger_off"}
 ti["B"] = {"st_boulder_n"}
 ti["W"] = {"st_passage_white"}
-ti["P"] = {"st-plain"}
+ti["P"] = {"st_flat"}
 ti["p"] = {"st_polarswitch"}
 ti["E"] = {"st_laser_e", state = ON}
 ti["e"] = {"st_laser_n", state = ON}

Modified: team_levelpacks/team_test_new_api/ralT026_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT026_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -18,21 +18,18 @@
 wo["ConserveLevel"] = true
 
 ti[" "] = {"fl_sahara"}
-ti["1"] = {"fl_rock", name="d1"}
-ti["2"] = {"fl_rock", name="d2"}
-ti["3"] = {"fl_rock", name="d3"}
-ti["4"] = {"fl_rock", name="d4"}
-ti["5"] = {"fl_rock", name="d5"}
-ti["6"] = {"fl_rock", name="d6"}
-ti["h"] = ti[" "] .. {"ac_horse", name="horse", destination={"d1","d2","d3","d4","d5","d6"}}
-ti["i"] = {"fl_rock", name="i1"}
-ti["j"] = {"fl_rock", name="i2"}
-ti["k"] = {"fl_rock", name="i3"}
-ti["l"] = {"fl_rock", name="i4"}
-ti["s"] = ti[" "] .. {"st_switch", target="innercircle"}
-ti["a"] = ti[" "] .. {"#ac_marble"}
+ti["outer"] = {"fl_rock", name="outer%%"}
+ti["inner"] = {"fl_rock", name="inner%%"}
+ti["h"] = {"#ac_horse", name="horse", destination={"outer%1","outer%2","outer%3","outer%4","outer%5","outer%6"}}
+ti["s"] = {"st_switch", target="innercircle"}
+ti["a"] = {"#ac_marble"}
+ti["water"] = {"fl_water", name="water%%"}
+ti["H"] = {"#ac_horse", destination={"water%1","water%2","water%3","water%4"}}
+ti["B"] = {"st_box"}
 
-w, h = wo(ti, " ", {
+resolver = res.autotile(ti, {"1", "6", "outer"}, {"i", "l", "inner"},
+        {"I", "L", "water"})
+w, h = wo(resolver, " ", {
 "                    ",
 "                    ",
 "     6        1     ",
@@ -45,12 +42,24 @@
 "       j    k       ",
 "                    ",
 "     4        3     ",
+"                    ",
+"                    ",
+"                    ",
+"                    ",
+"                    ",
+"  B  I      J B     ",
+"                    ",
+"        H           ",
+"                    ",
+"  B  L      K  B    ",
+"                    ",
+"                    ",
 "                    "
 })
 
 function innercircle(value, sender)
     -- demo mixture string tokens with a group
-    circle = grp(no["i1"],no["i2"],no["i3"],no["i4"])
+    circle = grp(no["inner%1"], no["inner%2"],no["inner%3"],no["inner%4"])
     horse = no["horse"]
     dest = horse["destination"]
     if value then

Modified: team_levelpacks/team_test_new_api/ralT027_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT027_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT027_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -24,6 +24,7 @@
 ti["n"] = {"it_blocker_new"}                  
 ti["B"] = {"st_blocker"}
 ti["N"] = {"st_blocker_new"}
+ti["c"] = {"st_break_boulder"}
 
 ti["W"] = {"st_boulder_w"}
 ti["w"] = ti["n"] .. {"st_boulder_w"}
@@ -44,12 +45,12 @@
 ti["1"] = (ti[" "] .. {"#ac_marble"}) .. {"it_magicwand"}
 
 w, h = wo(ti, " ", {
-"                    ",
+"         v          ",
 "    BBBBnwbbbbb     ",
 "    bbbbbvNBBBB     ",
+"    cccc v        ",
 "                    ",
 "                    ",
-"                    ",
 "        Ss         E",
 "         Ht         ",
 "           1        ",

Modified: team_levelpacks/team_test_new_api/ralT030_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT030_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -39,7 +39,7 @@
 ti["k"] = ti[" "] .. {"st_laserswitch"}
 ti["L"] = ti[" "] .. {"st_laser_n", "Laser"}
 
-ti["+"] = ti[" "] .. {"st-grate1"}
+ti["+"] = ti[" "] .. {"st_grate"}
 ti["."] = ti[" "] .. {"it_seed"}
 
 

Modified: team_levelpacks/team_test_new_api/ralT046_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT046_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -26,14 +26,14 @@
 ti["# "] = {"st_granite"}
 ti["W "] = {"st_box"}
 ti["X "] = {"st_oxyd"}
-ti["G "] = {"st-grate1"}
+ti["G "] = {"st_grate_cross"}
 
 ti["2 "] = {"it_coin_s"}
 ti["s "] = {"it_seed"}
 ti["c "] = {"it_cherry"}
 ti["h "] = {"it_hammer"}
 
-ti["k "] = {"it_key"} .. ti({"st-glass1"})
+ti["k "] = {"it_key"} .. ti({"st_lightglass"})
 
 ti["xx"] = {"#ac_marble"} 
 

Modified: team_levelpacks/team_test_new_api/ralT047_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT047_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -26,7 +26,7 @@
 ti["#  "] = {"st_granite"}
 ti["W  "] = {"st_box"}
 ti["X  "] = {"st_oxyd"}
-ti["G  "] = {"st-grate1"}
+ti["G  "] = {"st_grate"}
 
 ti[" 2 "] = {"it_coin_s"}
 ti[" s "] = {"it_seed"}

Modified: team_levelpacks/team_test_new_api/ralT049_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -23,6 +23,7 @@
 ti[" "] = {"fl_sahara"}
 ti["!"] = {"st_death_invisible"}
 ti["H"] = {"st_camouflage_hollow"}
+ti["F"] = {"st_flat_hollow"}
 ti["L"] = {"st_lightpassenger", state=OFF}
 ti["l"] = {"st_switch", target="newlp"}
 ti["A"] = {"st_actorimpulse_invisible"}
@@ -53,7 +54,7 @@
 
 w, h = wo(ti, " ", {
 "!!!             HHHH",
-"                    ",
+"                  FF",
 " f       Nn       g ",
 "                    ",
 "                    ",

Modified: team_levelpacks/team_test_new_api/ralT052_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT052_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT052_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -52,7 +52,7 @@
 --wo["FollowThreshold"] = po(2.5, 1.5)
 
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-grate1"}
+ti["#"] = {"st_grate"}
 
 ti["V"] = {"it_vortex_open", "vortex1", destination="vortex2"}
 ti["v"] = {"it_vortex_open", "vortex2", destination="vortex1"}

Modified: team_levelpacks/team_test_new_api/ralT055_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -28,8 +28,8 @@
 ti["h"] = {"st_box_hay"}
 ti["r"] = {"st_box_rock"}
 ti["b"] = {"st-block"}
-ti["f"] = {"st-firebreak_move"}
-ti["p"] = {"st-plain_move"}
+ti["f"] = {"st_flat_moveburnable"}
+ti["p"] = {"st_flat_movable"}
 
 ti["s"] = {"st_switch", target="flood"}
 
@@ -37,8 +37,8 @@
 ti["H"] = ti["~"] .. {"st_box_hay"}
 ti["R"] = ti["~"] .. {"st_box_rock"}
 ti["B"] = ti["~"] .. {"st-block"}
-ti["F"] = ti["~"] .. {"st-firebreak_move"}
-ti["P"] = ti["~"] .. {"st-plain_move"}
+ti["F"] = ti["~"] .. {"st_flat_moveburnable"}
+ti["P"] = ti["~"] .. {"st_flat_movable"}
 
 ti["S"] = ti["~"] .. {"st_swap"}
 

Modified: team_levelpacks/team_test_new_api/ralT061_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT061_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -33,7 +33,7 @@
 ti["W"] = {"st_box", "wood2"}
 ti["c"] = {"it_coin_s"}
 
-ti["g"] = {"st-grate1"}
+ti["g"] = {"st_grate"}
 
 ti["L"] = {"st_laser_e", state=ON}
 ti["l"] = {"st_polarswitch"}

Modified: team_levelpacks/team_test_new_api/ralT062_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT062_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -20,7 +20,7 @@
 ti[" "] = {"fl_sahara"}
 ti["#"] = {"st_granite"}
 
-ti["-"] = {"st-grate1"}
+ti["-"] = {"st_grate"}
 ti["+"] = {"it_trigger", target="laser"}
 
 ti["."] = {"it_seed_volcano"}

Modified: team_levelpacks/team_test_new_api/ralT068_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT068_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT068_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -31,7 +31,7 @@
 ti["T"] = {"st_switch", target="closed", action_1="open", action_0="close"}
 
 ti["w"] = {"st_box"}
-ti["g"] = {"st-glass_move"}
+ti["g"] = {"st_rawglass_movable"}
 ti["c"] = {"it_cherry"}
 ti["s"] = {"it-spring1"}
 ti["p"] = {"st_pull"}

Modified: team_levelpacks/team_test_new_api/ralT072_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT072_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -36,8 +36,8 @@
 ti["e"] = {"st_door_d", "doore", faces="ns"} .. ti["."]
 ti["E"] = {"st_switch", target="doore"}
 
-ti["g"] = {"st-glass_move"}
-ti["x"] = {"st-grate1"} .. ti["."]
+ti["g"] = {"st_rawglass_movable"}
+ti["x"] = {"st_grate"} .. ti["."]
 ti["^"] = {"st_oneway_n"} .. ti["."]
 
 ti["@"] = {"#ac_marble"} 

Added: team_levelpacks/team_test_new_api/ralT075_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -0,0 +1,82 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test PlasterBreak new API" el:subtitle="" el:id="20090118ral237"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2009 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl_sahara"}
+ti["."] = {"st_granite"}
+ti["#"] = {"st_plaster"}
+ti["~"] = {"st_plaster_movebreakable"}
+ti[":"] = {"st_plaster_breakable"}
+ti["-"] = {"st_plaster_movable"}
+ti["O"] = {"st_plaster_hollow"}
+
+ti["b"] = {"st_break"}
+ti["p"] = {"st_break_plain"}
+ti["o"] = {"st_break_oxydc"}
+ti["c"] = {"st_break_black"}
+ti["d"] = {"st_break_bug"}
+ti["l"] = {"st_break_laser"}
+ti["w"] = {"st_break_white"}
+ti["e"] = {"st_break_boulder"}
+
+ti["n"] = {"st_laser_n", state=ON}
+ti["N"] = {"st_polarswitch", state=OFF}
+ti["B"] = {"st_boulder_w"}
+
+
+ti["@"] = {"#ac_marble"} .. ti{"it_hammer"}
+ti["1"] = {"#ac_marble_white"} .. ti{"it_hammer"}
+ti["2"] = {"#ac_bug"}
+
+wo(ti, " ", {
+   "####################",
+   "#                  #",
+   "#   -    :     ~   #",
+   "#                  #",
+   "#                  #",
+   "#                  #",
+   "#       @          #",
+   "#                  #",
+   "#                  #",
+   "#                  #",
+   "#OOO    #    .     #",
+   "#####              #",
+   "########## #########",
+   "#                  #",
+   "# 1             2  #",
+   "#                  #",
+   "#                  #",
+   "# b p o c d l w ebB#",
+   "#                  #",
+   "#                  #",
+   "#                  #",
+   "#                  #",
+   "# N N N N N N N N  #",
+   "# n n n n n n n n  #",
+   "####################",
+})
+
+
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_new_api/ralT075_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native

Modified: team_levelpacks/team_test_new_api/raoulT03_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -23,7 +23,7 @@
 ti["0"] = {"#ac_marble_black"}
 ti["'"] = {"#ac_marble_white"}
 
-ti["#"] = {"st-glass"}
+ti["#"] = {"st_rawglass"}
 ti["+"] = {"st_window_nesw"}
 ti["-"] = {"st_window_nesw", secure=true}
 ti["a"] = {"st_window_nes"}

Modified: team_levelpacks/team_test_new_api/raoulT05_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT05_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/raoulT05_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -46,7 +46,7 @@
 
 
 ti["w"] = {"st_box"}
-ti["v"] = {"st-plain_move"}
+ti["v"] = {"st_flat_movable"}
 
 ti["A"] = {"#ac_marble"} .. ti["a"]
 

Modified: team_levelpacks/team_test_new_api/raoulT09_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT09_1.xml	2009-01-23 23:28:58 UTC (rev 1479)
+++ team_levelpacks/team_test_new_api/raoulT09_1.xml	2009-01-24 16:16:32 UTC (rev 1480)
@@ -16,16 +16,16 @@
     </el:info>
     <el:luamain><![CDATA[
 ti[" "] = {"fl_sahara"}
-ti["#"] = {"st-glass"}
-ti["a"] = {"st-glass1"}
-ti["b"] = {"st-glass2"}
-ti["c"] = {"st-glass3"}
-ti["M"] = {"st-glass_move"}
-ti["1"] = {"st-glass1_move"}
-ti["2"] = {"st-glass2_move"}
-ti["h"] = {"st-glass1_hole"}
-ti["H"] = {"st-glass2_hole"}
-ti["B"] = {"st-beads"}
+ti["#"] = {"st_rawglass"}
+ti["a"] = {"st_lightglass"}
+ti["b"] = {"st_darkglass"}
+ti["c"] = {"st_redfiber"}
+ti["M"] = {"st_rawglass_movable"}
+ti["1"] = {"st_lightglass_movable"}
+ti["2"] = {"st_darkglass_movable"}
+ti["h"] = {"st_lightglass_hollow"}
+ti["H"] = {"st_darkglass_hollow"}
+ti["B"] = {"st_beads"}
 ti["w"] = {"st_window", faces="nesw"}
 ti["P"] = {"st_polarswitch", state=ON}
 ti["L"] = {"st_laser", orientation=EAST, state=ON}



From ral at mail.berlios.de  Sat Jan 24 21:59:27 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 24 Jan 2009 21:59:27 +0100
Subject: [Enigma-game-svn] r1481 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/actors src/floors src/stones
Message-ID: <200901242059.n0OKxRXJ000092@sheep.berlios.de>

Author: ral
Date: 2009-01-24 21:59:23 +0100 (Sat, 24 Jan 2009)
New Revision: 1481

Added:
   trunk/data/gfx32/st_plop_slate.png
   trunk/data/gfx40/st_plop_slate.png
   trunk/data/gfx48/st_plop_slate.png
   trunk/src/floors/ThiefFloor.cc
   trunk/src/floors/ThiefFloor.hh
   trunk/src/stones/ThiefStone.cc
   trunk/src/stones/ThiefStone.hh
Removed:
   trunk/data/gfx32/st-block.png
   trunk/data/gfx40/st-block.png
   trunk/data/gfx48/st-block.png
Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/actors.hh
   trunk/src/actors/KillerActor.cc
   trunk/src/actors/KillerActor.hh
   trunk/src/floors.cc
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones/GreenBrownStone.cc
   trunk/src/stones/SimpleStones.cc
   trunk/src/stones/SimpleStones.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- fix st_greenbrown_movable that had been marked hollow
- fix typo on constant "NNW"
- reengineering of thieves:
  - st-thief -> st_thief
  - fl-thief -> fl_thief
  - thieves do no longer steal from rotor, top, horse, bug
  - floor thieves do steal only from actors that are on floor
- all actors can drop items
- reengineering of st-block
  - new stone class: st_plop that falls in water, swamp, abyss with a plop
  - st_plop_slate is successor of st-block


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/data/api1init.lua	2009-01-24 20:59:23 UTC (rev 1481)
@@ -116,6 +116,7 @@
     fl_space = "fl-space",
     fl_stone = "fl-stone",
     fl_swamp = "fl-swamp",
+    fl_thief = "fl-thief",
     fl_tigris = "fl-tigris",
     fl_trigger = "fl-trigger",
     fl_water = "fl-water",
@@ -394,10 +395,11 @@
     st_plaster_movable = "st-rock3_move",
     st_plaster_breakable = "st-rock3_break",
     st_plaster_movebreakable = "st-rock3_movebreak",
-    
+    st_plop = "st-block",
     st_pull = "st-pull",
     st_purplegray = "st-rock6",
     st_purplemarble = "st-rock4",
+    
     st_puzzle = "st-puzzle",
     st_puzzle_blue_w = "st-puzzle-w",
     st_puzzle_blue_s = "st-puzzle-s",
@@ -461,6 +463,7 @@
     st_switch = "st-switch",
     st_switch_black = "st-switch_black",
     st_switch_white = "st-switch_white",
+    st_thief = "st-thief",
     st_tigris = "st-rock5",
     st_timer = "st-timer",
     st_turnstile_red = "st-turnstile",

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/data/api2init.lua	2009-01-24 20:59:23 UTC (rev 1481)
@@ -134,7 +134,7 @@
 SSW = po(-1, 2)
 WSW = po(-2, 1)
 WNW = po(-2, -1)
-NNW = po(-2, -1)
+NNW = po(-1, -2)
 
 -- essential
 DISPENSIBLE   = 0

Deleted: trunk/data/gfx32/st-block.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_plop_slate.png (from rev 1479, trunk/data/gfx32/st-block.png)

Deleted: trunk/data/gfx40/st-block.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_plop_slate.png (from rev 1479, trunk/data/gfx40/st-block.png)

Deleted: trunk/data/gfx48/st-block.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_plop_slate.png (from rev 1479, trunk/data/gfx48/st-block.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/data/models-2d.lua	2009-01-24 20:59:23 UTC (rev 1481)
@@ -746,7 +746,7 @@
     DefStone("st-black3")
     DefStone("st-black4", "sh-white4")
     DefStone("st-blackballs")
-    DefStone("st-block")
+    DefStone("st_plop_slate")
     DefStone("st_bluegray", "sh-round")
     DefStone("st-brake", "sh-brake")
     DefStone("st_brownie", "sh-round")
@@ -1647,9 +1647,9 @@
     local f1 = BuildFrames(names, 80)
     DefAnim("pre-st-thief-emerge", f1)
     DefAnim("pre-st-thief-retreat", ReverseFrames(f1))
-    DefRoundStone("st-thief", stonebase)
-    DefRoundStone("st-thief-emerge", "pre-st-thief-emerge")
-    DefRoundStone("st-thief-retreat", "pre-st-thief-retreat")
+    DefRoundStone("st_thief", stonebase)
+    DefRoundStone("st_thief_emerge", "pre-st-thief-emerge")
+    DefRoundStone("st_thief_retreat", "pre-st-thief-retreat")
 
     -- Creating st-thief-captured
     --
@@ -1658,7 +1658,7 @@
 
     local img2 = DefSubimages("st-thief-captured", {h = 12})
     local f2 = BuildFrames(img2, 80)
-    DefAnim("st-thief-captured", f2)
+    DefAnim("st_thief_captured", f2)
 
     -- Creating fl-thief
 
@@ -1678,10 +1678,10 @@
       end
       local f3 = BuildFrames(floornames[k], 80)
       local f4 = BuildFrames(floorcaptured[k], 80)
-      DefAlias("fl-thief"..k, floorbases[k])
-      DefAnim("fl-thief"..k.."-emerge", f3)
-      DefAnim("fl-thief"..k.."-retreat", ReverseFrames(f3))
-      DefAnim("fl-thief"..k.."-captured", f4)
+      DefAlias("fl_thief"..k, floorbases[k])
+      DefAnim("fl_thief"..k.."_emerge", f3)
+      DefAnim("fl_thief"..k.."_retreat", ReverseFrames(f3))
+      DefAnim("fl_thief"..k.."_captured", f4)
     end
 
 --do

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/data/schemas/objects.xml	2009-01-24 20:59:23 UTC (rev 1481)
@@ -335,6 +335,9 @@
       <attr name="adhesion" default="1.0"/>
       <attr name="$heattransform" default="fl_dunes"/>
     </object>
+    <object name="fl_thief">
+      <msg name="_capture"/>
+    </object>
     <object name="fl_water" super="fl_floodstream">
       <attr name="friction" default="5.0"/>
       <attr name="adhesion" default="1.0"/>
@@ -1328,6 +1331,8 @@
       <attr name="movable" value="true"/>
       <attr name="breakable" value="true"/>
     </object>
+    <object name="st_plop"/>
+    <object name="st_plop_slate" init="true"/>
     <object name="st_polarswitch">
       <msg name="on"/>
       <msg name="off"/>
@@ -1470,6 +1475,9 @@
     <object name="st_switch_white">
       <attr name="color" value="1"/>
     </object>
+    <object name="st_thief">
+      <msg name="_capture"/>
+    </object>
     <object name="st_tigris"/>
     <object name="st_timer">
       <attr name="invisible"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/Makefile.am	2009-01-24 20:59:23 UTC (rev 1481)
@@ -160,6 +160,8 @@
 	floors/FloodStream.hh	\
 	floors/SimpleFloors.cc	\
 	floors/SimpleFloors.hh	\
+	floors/ThiefFloor.cc	\
+	floors/ThiefFloor.hh	\
 	gui/ErrorMenu.cc	\
 	gui/ErrorMenu.hh	\
 	gui/GameMenu.cc		\
@@ -348,6 +350,8 @@
 	stones/SwapStone.hh	\
 	stones/Switch.cc	\
 	stones/Switch.hh	\
+	stones/ThiefStone.cc	\
+	stones/ThiefStone.hh	\
 	stones/TimerStone.cc	\
 	stones/TimerStone.hh	\
 	stones/Turnstile.cc	\

Modified: trunk/src/actors/KillerActor.cc
===================================================================
--- trunk/src/actors/KillerActor.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/actors/KillerActor.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -44,6 +44,10 @@
     bool Killer::is_dead() const {
         return false;
     }
+    
+    bool Killer::has_shield() const {
+        return false;
+    }
 
     void Killer::on_collision(Actor *a) {
         SendMessage(a, "_shatter");

Modified: trunk/src/actors/KillerActor.hh
===================================================================
--- trunk/src/actors/KillerActor.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/actors/KillerActor.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -41,6 +41,7 @@
 
         // Actor interface
         virtual bool is_dead() const;
+        virtual bool has_shield() const;
         virtual void on_collision(Actor *a);
     };
 

Modified: trunk/src/actors.hh
===================================================================
--- trunk/src/actors.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/actors.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -138,10 +138,10 @@
         virtual bool is_drunken() const { return false; }
         virtual bool is_invisible() const { return false; }
 
-        virtual bool can_drop_items() const { return false; }
+        virtual bool can_drop_items() const { return true; }
         virtual bool can_move() const;
         virtual bool can_be_warped() const { return false; }
-        virtual bool has_shield() const { return false; }
+        virtual bool has_shield() const { return true; }
 
         virtual void init();
 

Added: trunk/src/floors/ThiefFloor.cc
===================================================================
--- trunk/src/floors/ThiefFloor.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/floors/ThiefFloor.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -0,0 +1,158 @@
+/*
+ * Copyright (C) 2007 Andreas Lochmann
+ * Copyright (C) 2007 Raoul Bourquin
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "floors/ThiefFloor.hh"
+#include "errors.hh"
+#include "Inventory.hh"
+#include "items/GlassesItem.hh"
+#include "player.hh"
+#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    ThiefFloor::ThiefFloor() : Floor("fl_thief", 2.0, 1), victimId (0), bag (NULL) {
+        
+    }
+    
+    ThiefFloor::~ThiefFloor() {
+        if (bag != NULL)
+            delete bag;
+    }
+
+    std::string ThiefFloor::getClass() const {
+        return "fl_thief";
+    }
+    
+    Value ThiefFloor::message(const Message &m) {
+        if (m.message == "_capture" && state == IDLE && isDisplayable()) {            
+            // add items on grid pos that can be picked up to our bag
+            Item * it =  GetItem(get_pos());
+            if (it != NULL && !(it->get_traits().flags & itf_static) && bag != NULL) {
+                dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
+            }
+            // drop bag if pos is not occupied by a static item
+            if (GetItem(get_pos()) == NULL) {
+                SetItem(get_pos(), bag);
+                bag = NULL;
+            }
+            state = CAPTURED;
+            init_model();
+            return true;
+        }
+        return Floor::message(m);
+    }
+   
+    void ThiefFloor::setState(int extState) {
+        // block all state writes
+    }
+    
+    void ThiefFloor::on_creation(GridPos p) {
+        objFlags |= (IntegerRand(0, 3) << 24);
+        Floor::on_creation(p);
+    }
+    
+    void ThiefFloor::init_model() {
+        std::string basename = ecl::strf("fl_thief%d", ((objFlags & OBJBIT_MODEL) >> 24) + 1);
+        switch (state) {
+            case IDLE:
+                set_model(basename); 
+                break;
+            case EMERGING:
+                set_anim(basename + "_emerge");
+                break;
+            case RETREATING:
+                set_anim(basename + "_retreat");
+                break;
+            case CAPTURED:
+                set_anim(basename + "_captured");
+                break;
+        }
+    }
+    
+    void ThiefFloor::actor_enter(Actor *a) {
+        if (state == IDLE && a->is_on_floor()) {
+            state = EMERGING;
+            victimId = a->getId();
+            init_model();
+        }
+    }
+
+    void ThiefFloor::animcb() {
+        switch (state) {
+            case EMERGING:
+                doSteal();
+                state = RETREATING;
+                init_model();
+                break;
+            case RETREATING:
+                state = IDLE;
+                init_model();
+                break;
+            case CAPTURED:
+                KillStone(get_pos());
+                break;
+            default:
+                ASSERT(0, XLevelRuntime, "ThiefFloor: animcb called with inconsistent state");
+        }
+    }
+
+    void ThiefFloor::doSteal() {
+        bool didSteal = false;
+        
+        // the actor that hit the thief may no longer exist!
+        if (Actor *victim = dynamic_cast<Actor *>(Object::getObject(victimId))) {
+            if (Value owner = victim->getAttr("owner")) {
+                if (!(victim->has_shield())) {
+                    enigma::Inventory *inv = player::GetInventory(owner);
+                    if (inv && inv->size() > 0) {
+                        if (bag == NULL) {
+                            bag = MakeItem("it-bag");
+                            bag->setOwnerPos(get_pos());
+                        }
+                        int i = IntegerRand(0, int (inv->size()-1));
+                        dynamic_cast<ItemHolder *>(bag)->add_item(inv->yield_item(i));
+                        didSteal = true;
+                        Glasses::updateGlasses();
+                        player::RedrawInventory(inv);
+                    }
+                }
+            }
+        }
+        // steal from grid
+        if(Item *it = GetItem(get_pos())) {
+            if (!(it->get_traits().flags & itf_static)) {
+                if (bag == NULL) {
+                    bag = MakeItem("it-bag");
+                    bag->setOwnerPos(get_pos());                
+                }
+                dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
+                didSteal = true;
+            }
+        }
+        if (didSteal)
+            sound_event("thief");
+    }
+        
+    BOOT_REGISTER_START
+        BootRegister(new ThiefFloor(), "fl_thief");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/floors/ThiefFloor.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/floors/ThiefFloor.hh
===================================================================
--- trunk/src/floors/ThiefFloor.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/floors/ThiefFloor.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -0,0 +1,75 @@
+/*
+ * Copyright (C) 2007 Andreas Lochmann
+ * Copyright (C) 2007 Raoul Bourquin
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef THIEFFLOOR_HH
+#define THIEFFLOOR_HH
+
+#include "floors.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class ThiefFloor : public Floor {
+        CLONEOBJ(ThiefFloor);
+        
+    private:
+        enum iState {
+            IDLE,         ///< 
+            EMERGING,     ///< 
+            RETREATING,   ///< 
+            CAPTURED      ///< 
+        };
+        
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MODEL =   2<<24,   ///< 
+        };
+
+    public:
+        ThiefFloor();
+        ~ThiefFloor();
+
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        virtual void on_creation(GridPos p);
+        virtual void actor_enter(Actor *a);
+                
+        // ModelCallback interface  - Animation callback
+        virtual void animcb();
+
+    private:
+        int victimId;
+        Item  *bag;
+        
+        // Private methods.
+        void doSteal();
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/floors/ThiefFloor.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/floors.cc
===================================================================
--- trunk/src/floors.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/floors.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -613,140 +613,11 @@
 }
 
 
-/* -------------------- Thief Floor -------------------- */
-namespace{
-    class Thief : public Floor {
-        CLONEOBJ(Thief);
-    public:
-        Thief();
-        ~Thief();
-    private:
-        string modelname;
-        enum State { IDLE, EMERGING, RETREATING, CAPTURED } state;
-        Actor *m_affected_actor;
-        int affected_player;
-        Item *bag;
-        string get_modelname();
-        void init_model();
-        void actor_enter(Actor* a);
-        void animcb();
-        void steal();
-        virtual Value message(const Message &m);        
-    };
-}
 
-Thief::Thief() : Floor("fl-thief", 2.0, 1), state(IDLE), m_affected_actor (0),
-        affected_player (-1), modelname(""), bag(NULL) {
-}
-
-Thief::~Thief() {
-    if (bag != NULL)
-        delete bag;
-}
-
-string Thief::get_modelname() {
-    if(modelname == "") {
-        // initialize on first call
-        modelname = ecl::strf("fl-thief%d", IntegerRand(1, 4));
-    }
-    return modelname;
-}
-
-void Thief::init_model() {
-    set_model(get_modelname());
-}
-
-void Thief::actor_enter(Actor *a) {
-    ActorID id = get_id(a);
-    if (state == IDLE) {
-        set_anim(get_modelname() + string("-emerge"));
-        state = EMERGING;
-        m_affected_actor = a;
-        affected_player = -1;
-        if (Value v = m_affected_actor->getAttr("owner")) affected_player = v;
-    }
-}
-
-void Thief::animcb() {
-    switch (state) {
-    case EMERGING:
-        steal();
-        state = RETREATING;
-        set_anim(get_modelname() + string("-retreat"));
-        break;
-    case RETREATING:
-        state = IDLE;
-        init_model();
-        break;
-    case CAPTURED:
-        // Floor is not killed or replaced - it just keeps inactive.
-        init_model();
-        break;
-    default:
-        ASSERT(0, XLevelRuntime, "Thief (floor): animcb called with inconsistent state");
-    }
-}
-
-void Thief::steal() 
-{
-    bool didSteal = false;
-    // steal from player -- the actor that hit the thief may no longer exist!
-    if (m_affected_actor && affected_player >= 0 &&
-            player::HasActor(affected_player, m_affected_actor) && 
-            !m_affected_actor->has_shield()) {
-        enigma::Inventory *inv = player::GetInventory(m_affected_actor);
-        if (inv && inv->size() > 0) {
-            if (bag == NULL) {
-                bag = MakeItem("it-bag");
-                bag->setOwnerPos(get_pos());
-            }
-            int i = IntegerRand (0, int (inv->size()-1));
-            dynamic_cast<ItemHolder *>(bag)->add_item(inv->yield_item(i));
-            Glasses::updateGlasses();
-            player::RedrawInventory (inv);
-            didSteal = true;
-        }
-    }
-    // steal from grid
-    if(Item *it = GetItem(get_pos())) {
-        if (!(it->get_traits().flags & itf_static)) {
-            if (bag == NULL) {
-                bag = MakeItem("it-bag");
-                bag->setOwnerPos(get_pos());                
-            }
-            dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
-            didSteal = true;
-        }
-    }
-    if (didSteal)
-        sound_event("thief");
-}
-
-Value Thief::message(const Message &m) {
-    if(m.message == "_capture" && state == IDLE) {
-        state = CAPTURED;
-        Item * it =  GetItem(get_pos());
-        
-        // add items on grid pos that can be picked up to our bag
-        if (it != NULL && !(it->get_traits().flags & itf_static) && bag != NULL) {
-            dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
-        }
-        // drop bag if pos is not occupied by a static item
-        if (GetItem(get_pos()) == NULL)
-            SetItem(get_pos(), bag);
-        bag = NULL;
-        set_anim(get_modelname() + string("-captured"));
-        return true;
-    }
-    return Floor::message(m);
-}
-
-
 void InitFloors()
 {
     // Floors (most floors are defined in init.lua)
     Register(new DummyFloor);
-    Register(new Thief);
 
     Register(new Gradient);
     Register("fl-gradient1", new Gradient(1));

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/ox_extra.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -217,7 +217,7 @@
     UNUSED,              // OxydExtra stone 0x62
     UNUSED,              // OxydExtra stone 0x63
     "st_coinslot_instant", // OxydExtra stone 0x64
-    "st-thief",          // OxydExtra stone 0x65
+    "st_thief",          // OxydExtra stone 0x65
     "st_shogun_s",       // OxydExtra stone 0x66
     UNUSED,              // OxydExtra stone 0x67
     UNUSED,              // OxydExtra stone 0x68

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/ox_magnum.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -223,7 +223,7 @@
     "st-bombs",                 // OxydMagnum stone 0x68 (common was 'st-shogun-l')
     "st-flash",                 // OxydMagnum stone 0x69
     "st_coinslot_instant",      // OxydMagnum stone 0x6a
-    "st-thief",                 // OxydMagnum stone 0x6b
+    "st_thief",                 // OxydMagnum stone 0x6b
     "st_shogun_s",              // OxydMagnum stone 0x6c
     "st_stoneimpulse",          // OxydMagnum stone 0x6d
     "st_laserflop",             // OxydMagnum stone 0x6e

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/ox_oxyd1.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -255,7 +255,7 @@
     "st-bombs",                 // Oxyd1 stone 0x68
     "st-flash",                 // Oxyd1 stone 0x69
     "st_coinslot_instant",      // Oxyd1 stone 0x6a
-    "st-thief",                 // Oxyd1 stone 0x6b
+    "st_thief",                 // Oxyd1 stone 0x6b
     "st_shogun_s",              // Oxyd1 stone 0x6c
     "st_stoneimpulse",          // Oxyd1 stone 0x6d
     "st_laserflop",             // Oxyd1 stone 0x6e

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/ox_peroxyd.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -289,7 +289,7 @@
     "st-bombs",                 // PerOxyd stone 0x62
     "st_flash",                 // PerOxyd stone 0x63
     "st_coinslot_instant",      // PerOxyd stone 0x64
-    "st-thief",                 // PerOxyd stone 0x65
+    "st_thief",                 // PerOxyd stone 0x65
     "st_shogun_s",              // PerOxyd stone 0x66
     "st_shogun_m",              // PerOxyd stone 0x67
     "st_shogun_l",              // PerOxyd stone 0x68

Modified: trunk/src/stones/GreenBrownStone.cc
===================================================================
--- trunk/src/stones/GreenBrownStone.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones/GreenBrownStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -124,7 +124,7 @@
     BOOT_REGISTER_START
         BootRegister(new GreenBrownStone(false, false), "st_greenbrown");
         BootRegister(new GreenBrownStone(true, false),  "st_greenbrown_hollow");
-        BootRegister(new GreenBrownStone(true, true),  "st_greenbrown_movable");
+        BootRegister(new GreenBrownStone(false, true),  "st_greenbrown_movable");
         BootRegister(new GreenBrownStone(false, false, true),  "st_greenbrown_growing");
     BOOT_REGISTER_END
 

Modified: trunk/src/stones/SimpleStones.cc
===================================================================
--- trunk/src/stones/SimpleStones.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones/SimpleStones.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -20,6 +20,7 @@
  */
 
 #include "stones/SimpleStones.hh"
+#include "client.hh"
 #include "errors.hh"
 //#include "main.hh"
 #include "player.hh"
@@ -191,6 +192,33 @@
             return sc.actor->is_on_floor() ? STONE_PASS : STONE_REBOUND;
     }
     
+/* -------------------- Plop stone -------------------- */
+    PlopStone::PlopStone() : Stone () {
+    }
+    
+    std::string PlopStone::getClass() const {
+        return "st_plop";
+    }
+        
+    void PlopStone::init_model() {
+        set_model("st_plop_slate");
+    }
+    
+    void PlopStone::on_floor_change() {
+        if (Floor *fl = GetFloor(get_pos())) {
+            const std::string &k = fl->get_kind();
+            if (k=="fl_water" || k=="fl_abyss" || k == "fl_swamp") {
+                sound_event("drown");
+                client::Msg_Sparkle(get_pos().center());
+                KillStone(get_pos());
+            }
+        }
+    }
+    
+    DEF_TRAITSM(PlopStone, "st_plop", st_plop, MOVABLE_STANDARD);
+
+
+
     BOOT_REGISTER_START
         BootRegister(new BlurStone(0), "st_blur");
         BootRegister(new BlurStone(0), "st_blur_straight");
@@ -204,6 +232,8 @@
         BootRegister(new GrateStone(0), "st_grate");
         BootRegister(new GrateStone(0), "st_grate_cross");
         BootRegister(new GrateStone(1), "st_grate_framed");
+        BootRegister(new PlopStone(), "st_plop");
+        BootRegister(new PlopStone(), "st_plop_slate");
     BOOT_REGISTER_END
 
 } // namespace enigma

Modified: trunk/src/stones/SimpleStones.hh
===================================================================
--- trunk/src/stones/SimpleStones.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones/SimpleStones.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -127,6 +127,24 @@
         virtual StoneResponse collision_response(const StoneContact &sc);
     };
 
+    /** 
+     * PlopStone
+     */
+   class PlopStone : public Stone {
+        CLONEOBJ(PlopStone);
+        DECL_TRAITS;
+    public:
+        PlopStone();
+        
+         // Object interface
+        virtual std::string getClass() const;        
+        
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual void on_floor_change();
+   };
 } // namespace enigma
 
 #endif /*SIMPLESTONES_HH*/

Added: trunk/src/stones/ThiefStone.cc
===================================================================
--- trunk/src/stones/ThiefStone.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones/ThiefStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -0,0 +1,149 @@
+/*
+ * Copyright (C) 2007 Andreas Lochmann
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/ThiefStone.hh"
+#include "errors.hh"
+#include "Inventory.hh"
+#include "items/GlassesItem.hh"
+#include "player.hh"
+#include "world.hh"
+//#include "main.hh"
+
+namespace enigma {
+    ThiefStone::ThiefStone() : Stone(), victimId (0), bag (NULL) {
+        
+    }
+    
+    ThiefStone::~ThiefStone() {
+        if (bag != NULL)
+            delete bag;
+    }
+
+    std::string ThiefStone::getClass() const {
+        return "st_thief";
+    }
+    
+    Value ThiefStone::message(const Message &m) {
+        if (m.message == "signal" && server::GameCompatibility != GAMET_ENIGMA) {
+            performAction(!m.value.to_bool());  // inverse signal multiplier
+            return Value();
+        } else if (m.message == "_capture" && state == IDLE && isDisplayable()) {            
+            // add items on grid pos that can be picked up to our bag
+            Item * it =  GetItem(get_pos());
+            if (it != NULL && !(it->get_traits().flags & itf_static) && bag != NULL) {
+                dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
+            }
+            // drop bag if pos is not occupied by a static item
+            if (GetItem(get_pos()) == NULL) {
+                SetItem(get_pos(), bag);
+                bag = NULL;
+            }
+            state = CAPTURED;
+            init_model();
+            return true;
+        }
+        return Stone::message(m);
+    }
+   
+    void ThiefStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void ThiefStone::init_model() {
+        switch (state) {
+            case IDLE:
+                set_model("st_thief"); 
+                break;
+            case EMERGING:
+                set_anim("st_thief_emerge");
+                break;
+            case RETREATING:
+                set_anim("st_thief_retreat");
+                break;
+            case CAPTURED:
+                set_anim("st_thief_captured");
+                break;
+        }
+    }
+    
+    void ThiefStone::animcb() {
+        switch (state) {
+            case EMERGING:
+                doSteal();
+                state = RETREATING;
+                init_model();
+                break;
+            case RETREATING:
+                state = IDLE;
+                init_model();
+                break;
+            case CAPTURED:
+                KillStone(get_pos());
+                break;
+            default:
+                ASSERT(0, XLevelRuntime, "ThiefStone: animcb called with inconsistent state");
+        }
+    }
+
+    const char *ThiefStone::collision_sound() {
+        return "cloth";
+    }
+    
+    void ThiefStone::actor_touch(const StoneContact &sc) {
+        actor_hit(sc);   // even a slight touch should steal from the actor:
+    }
+    
+    void ThiefStone::actor_hit(const StoneContact &sc) {
+        if (state == IDLE) {
+            state = EMERGING;
+            victimId = sc.actor->getId();
+            init_model();
+        }
+    }
+
+    void ThiefStone::doSteal() {
+        // the actor that hit the thief may no longer exist!
+        if (Actor *victim = dynamic_cast<Actor *>(Object::getObject(victimId))) {
+            if (Value owner = victim->getAttr("owner")) {
+                if (!(victim->has_shield())) {
+                    enigma::Inventory *inv = player::GetInventory(owner);
+                    if (inv && inv->size() > 0) {
+                        if (bag == NULL) {
+                            bag = MakeItem("it-bag");
+                            bag->setOwnerPos(get_pos());
+                        }
+                        int i = IntegerRand(0, int (inv->size()-1));
+                        dynamic_cast<ItemHolder *>(bag)->add_item(inv->yield_item(i));
+                        Glasses::updateGlasses();
+                        player::RedrawInventory(inv);
+                        sound_event("thief");
+                    }
+                }
+            }
+        }
+    }
+    
+    DEF_TRAITSM(ThiefStone, "st_thief", st_thief, MOVABLE_BREAKABLE);
+    
+    BOOT_REGISTER_START
+        BootRegister(new ThiefStone(), "st_thief");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/ThiefStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/ThiefStone.hh
===================================================================
--- trunk/src/stones/ThiefStone.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones/ThiefStone.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -0,0 +1,75 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef THIEFSTONE_HH
+#define THIEFSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class ThiefStone : public Stone {
+        CLONEOBJ(ThiefStone);
+        DECL_TRAITS;
+        
+    private:
+        enum iState {
+            IDLE,         ///< 
+            EMERGING,     ///< 
+            RETREATING,   ///< 
+            CAPTURED      ///< 
+        };
+        
+    public:
+        ThiefStone();
+        ~ThiefStone();
+        
+        // Object interface
+        virtual std::string getClass() const;        
+//        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Stone interface
+        virtual const char *collision_sound();
+        virtual void actor_touch(const StoneContact &sc);
+        virtual void actor_hit(const StoneContact &sc);
+
+    private:
+        int victimId;
+        Item  *bag;
+        
+        void doSteal();
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/ThiefStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -425,7 +425,7 @@
                 "st_lightglass_hollow",
                 "st-magic",
                 "st_knight",
-                "st-thief",
+                "st_thief",
                 "st_flat_breakable",
                 "st_flat_breaking"
             };

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones.hh	2009-01-24 20:59:23 UTC (rev 1481)
@@ -40,7 +40,6 @@
         st_passage_black_slash,
         st_passage_black_cross,
         st_passage_black_frame,
-        st_block,
         st_boulder,
         st_brake,
         st_break_black,
@@ -73,6 +72,7 @@
         st_oxyd_0x18,
         st_peroxyd_0xb8,
         st_peroxyd_0xb9,
+        st_plop,
         st_pull,
         st_puzzle,
         st_rotator,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-24 16:16:32 UTC (rev 1480)
+++ trunk/src/stones_simple.cc	2009-01-24 20:59:23 UTC (rev 1481)
@@ -176,36 +176,6 @@
     DEF_TRAITS(ChameleonStone, "st-chameleon", st_chameleon);
 }
 
-/* -------------------- BlockStone -------------------- */
-
-namespace
-{
-    class BlockStone : public Stone {
-        CLONEOBJ(BlockStone);
-        DECL_TRAITS;
-    public:
-        BlockStone()
-        {}
-    private:
-        V2 get_center() const {
-            return get_pos().center();
-        }
-
-        void on_floor_change() {
-            if (Floor *fl=GetFloor(get_pos())) {
-                const string &k = fl->get_kind();
-                if (k=="fl_water" || k=="fl_abyss" || k == "fl_swamp") {
-                    client::Msg_Sparkle (get_center());
-                    KillStone(get_pos());
-                }
-            }
-        }
-    };
-    DEF_TRAITSM(BlockStone, "st-block", st_block, MOVABLE_STANDARD);
-    
-};
-
-
 /* -------------------- BrickMagic -------------------- */
 
 /** \page st-brick_magic Magic Brick Stone
@@ -373,116 +343,6 @@
     };
 }
 
-
-/* -------------------- Thief -------------------- */
-namespace
-{
-    /*! Steals one item from the player's inventory when hit. */
-    class ThiefStone : public Stone {
-        CLONEOBJ(ThiefStone);
-        DECL_TRAITS;
-
-        enum State { IDLE, EMERGING, RETREATING, CAPTURED } state;
-        Actor *m_affected_actor;
-        Item * bag;
-    public:
-        ThiefStone();
-        virtual ~ThiefStone();
-    private:
-        void steal_from_player();
-
-        void actor_hit(const StoneContact &sc);
-        // even a slight touch should steal from the actor: 
-        void actor_touch(const StoneContact &sc) { actor_hit(sc); }
-        void animcb();
-        virtual Value message(const Message &m);        
-
-        const char *collision_sound() { return "cloth"; }
-        int affected_player;
-    };
-    DEF_TRAITSM(ThiefStone, "st-thief", st_thief, MOVABLE_BREAKABLE);
-}
-
-ThiefStone::ThiefStone() 
-: state(IDLE), m_affected_actor (0), affected_player (-1), bag(NULL) {}
-
-ThiefStone::~ThiefStone() {
-    if (bag != NULL)
-        delete bag;
-}
-
-void ThiefStone::actor_hit(const StoneContact &sc) {
-    ActorID id = get_id(sc.actor);
-    if (state == IDLE) {
-        set_anim("st-thief-emerge");
-        state = EMERGING;
-        m_affected_actor = sc.actor;
-        affected_player = m_affected_actor->getDefaultedAttr("owner", -1);
-    }
-}
-
-void ThiefStone::animcb() {
-    switch (state) {
-    case EMERGING:
-        steal_from_player();
-        state = RETREATING;
-        set_anim("st-thief-retreat");
-        break;
-    case RETREATING:
-        state = IDLE;
-        init_model();
-        break;
-    case CAPTURED:
-        KillStone(get_pos());
-        break;
-    default:
-        ASSERT(0, XLevelRuntime, "ThiefStone: animcb called with inconsistent state");
-    }
-}
-
-void ThiefStone::steal_from_player() 
-{
-    // the actor that hit the thief may no longer exist!
-    if (m_affected_actor && affected_player >= 0 &&
-            player::HasActor(affected_player, m_affected_actor) && 
-            !m_affected_actor->has_shield()) {
-        enigma::Inventory *inv = player::GetInventory(m_affected_actor);
-        if (inv && inv->size() > 0) {
-            if (bag == NULL) {
-                bag = MakeItem("it-bag");
-                bag->setOwnerPos(get_pos());
-            }
-            int i = IntegerRand (0, int (inv->size()-1));
-            dynamic_cast<ItemHolder *>(bag)->add_item(inv->yield_item(i));
-            Glasses::updateGlasses();
-            player::RedrawInventory (inv);
-            sound_event("thief");
-        }
-    }
-}
-
-Value ThiefStone::message(const Message &m) {
-    if(m.message == "signal" && server::GameCompatibility != GAMET_ENIGMA) {
-        performAction(!m.value.to_bool());  // inverse signal multiplier
-        return Value();
-    } else if (m.message == "_capture" && state == IDLE) {
-        state = CAPTURED;
-        Item * it =  GetItem(get_pos());
-        
-        // add items on grid pos that can be picked up to our bag
-        if (it != NULL && !(it->get_traits().flags & itf_static) && bag != NULL) {
-            dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));
-        }
-        // drop bag if pos is not occupied by a static item
-        if (GetItem(get_pos()) == NULL)
-            SetItem(get_pos(), bag);
-        bag = NULL;
-        set_anim(string(get_kind()) + "-captured");
-        return true;
-    }
-    return Stone::message(m);
-}
-
 /* -------------------- BombStone -------------------- */
 
 namespace
@@ -576,7 +436,6 @@
 
 void Init_simple()
 {
-    Register(new BlockStone);
     Register(new BombStone("st-bombs", "it-blackbomb"));
     //Register(new BombStone("st-dynamite", "it-dynamite"));
     //Register(new BombStone("st-whitebombs", "it-whitebomb"));
@@ -593,7 +452,6 @@
     Register(new InvisibleMagic);
     Register(new MagicStone);
     Register(new Stonebrush);
-    Register(new ThiefStone);
 }
 
 } // namespace enigma



From ral at mail.berlios.de  Sun Jan 25 00:53:56 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 25 Jan 2009 00:53:56 +0100
Subject: [Enigma-game-svn] r1482 - in trunk: data data/schemas src src/stones
Message-ID: <200901242353.n0ONruLE003496@sheep.berlios.de>

Author: ral
Date: 2009-01-25 00:53:46 +0100 (Sun, 25 Jan 2009)
New Revision: 1482

Added:
   trunk/src/stones/GhostStone.cc
   trunk/src/stones/GhostStone.hh
   trunk/src/stones/MagicStone.cc
   trunk/src/stones/MagicStone.hh
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones/BreakStone.cc
   trunk/src/stones/FakeStone.cc
   trunk/src/stones/FakeStone.hh
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- renaming:
  - st-brick_magic -> st_magic_brick alias st_magic
  - st-coffee -> st_magic_oxydc
  - st-fakeoxyda -> st_magic_oxyda
  - st-stonebrush -> st_ghost_purplemarble alias st_ghost
  - st-invisible_magic -> st_ghost_greenbrown
  - st-break_invisible -> st_ghost_break

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/data/api1init.lua	2009-01-24 23:53:46 UTC (rev 1482)
@@ -298,6 +298,9 @@
     st_flat_moveburnable = "st-firebreak_move",
     st_floppy = "st-floppy",
     st_fourswitch = "st-fourswitch",
+    st_ghost_break = "st-break_invisible",
+    st_ghost_greenbrown = "st-invisible_magic",
+    st_ghost_purplemarble = "st-stonebrush",
     st_granite = "st-rock1",
     st_granite_hollow = "st-rock1_hole",
     st_granite_movable = "st-rock1_move",
@@ -322,6 +325,9 @@
     st_lightglass_movable = "st-glass1_move",
     st_lightpassenger = "st-lightpassenger",
     st_lightpassenger_off = "st-lightpassenger_off",
+    st_magic_brick = "st-brick_magic",
+    st_magic_oxyda = "st-fakeoxyda",
+    st_magic_oxydc = "st-coffee",
     st_mail_w = "st-mail-w",
     st_mail_s = "st-mail-s",
     st_mail_e = "st-mail-e",

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/data/models-2d.lua	2009-01-24 23:53:46 UTC (rev 1482)
@@ -828,7 +828,7 @@
     DefSubimages("st-bigbrick", {modelname="st-bigbrickx",w=4,h=4})
     for i=1,16 do DefSolidStone("st-bigbrick"..i, "st-bigbrickx"..i) end
     DefSolidStone("st-brick", "st-bigbrickx1")
-    DefSolidStone("st-brick_magic", "st-bigbrickx1")
+    DefSolidStone("st_magic_brick", "st-bigbrickx1")
 end
 
 -- st-bigpanel --
@@ -1543,7 +1543,7 @@
 
 -- st-coffee --
 do
-    DefAlias("st-coffee", "st-oxydc")
+    DefAlias("st_magic_oxydc", "st-oxydc")
 end
 
 -- st-doorh, st-doorv --
@@ -1603,7 +1603,7 @@
 
 -- st-fakeoxyda --
 do
-    DefAlias("st-fakeoxyda", "st-oxyda")
+    DefAlias("st_magic_oxyda", "st-oxyda")
 end
 
 -- st-fart --
@@ -1758,11 +1758,8 @@
 -- Invisible stones --
 do
     DefAlias("st-actorimpulse_invisible", "invisible")
-    DefAlias("st-break_invisible", "invisible")
     DefAlias("st-death_invisible", "invisible")
     DefAlias("st_invisible", "invisible")
-    DefAlias("st-invisible_magic", "invisible")
-    DefAlias("st-stonebrush", "invisible")
 end
 
 --------------------------------------------------------------------------------

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/data/schemas/objects.xml	2009-01-24 23:53:46 UTC (rev 1482)
@@ -1060,6 +1060,18 @@
       <msg name="signal"/>
       <msg name="_trigger"/>
     </object>
+    <object name="st_ghost">
+      <attr name="flavor"/>
+    </object>
+    <object name="st_ghost_break">
+      <attr name="flavor" value="break"/>
+    </object>
+    <object name="st_ghost_greenbrown">
+      <attr name="flavor" value="greenbrown"/>
+    </object>
+    <object name="st_ghost_purplemarble">
+      <attr name="flavor" value="purplemarble"/>
+    </object>
     <object name="st_granite">
       <attr name="hollow" rw="r"/>
     </object>
@@ -1181,6 +1193,18 @@
       <msg name="_init"/>
       <msg name="_model_reanimated"/>
     </object>
+    <object name="st_magic">
+      <attr name="flavor"/>
+    </object>
+    <object name="st_magic_brick">
+      <attr name="flavor" value="brick"/>
+    </object>
+    <object name="st_magic_oxyda">
+      <attr name="flavor" value="oxyda"/>
+    </object>
+    <object name="st_magic_oxydc">
+      <attr name="flavor" value="oxydc"/>
+    </object>
     <object name="st_metal">
       <attr name="hollow" rw="r"/>
     </object>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/Makefile.am	2009-01-24 23:53:46 UTC (rev 1482)
@@ -296,6 +296,8 @@
 	stones/FloppySwitch.hh	\
 	stones/FourSwitch.cc	\
 	stones/FourSwitch.hh	\
+	stones/GhostStone.cc	\
+	stones/GhostStone.hh	\
 	stones/GlassStones.cc	\
 	stones/GlassStones.hh	\
 	stones/GreenBrownStone.cc	\
@@ -310,6 +312,8 @@
 	stones/LaserSwitch.hh	\
 	stones/LightPassengerStone.cc	\
 	stones/LightPassengerStone.hh	\
+	stones/MagicStone.cc	\
+	stones/MagicStone.hh	\
 	stones/MailStone.cc	\
 	stones/MailStone.hh	\
 	stones/MirrorStone.cc	\

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/ox_magnum.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -216,7 +216,7 @@
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
     "st_metal_hollow",          // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
     "st_flat_breakable",        // OxydMagnum stone 0x63
-    "st-fakeoxyda",             // OxydMagnum stone 0x64
+    "st_magic_oxyda",           // OxydMagnum stone 0x64
     UNUSED,                     // OxydMagnum stone 0x65
     UNUSED,                     // OxydMagnum stone 0x66
     UNUSED,                     // OxydMagnum stone 0x67

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/ox_oxyd1.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -248,7 +248,7 @@
     "st_puzzle_yellow_nesw",    // Oxyd1 stone 0x61
     "st_metal_hollow",          // Oxyd1 stone 0x62
     "st_break_laser",           // Oxyd1 stone 0x63
-    "st-fakeoxyda",             // Oxyd1 stone 0x64
+    "st_magic_oxyda",           // Oxyd1 stone 0x64
     UNUSED,                     // Oxyd1 stone 0x65
     "st_disco_medium",          // Oxyd1 stone 0x66
     "st_disco_light",           // Oxyd1 stone 0x67

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/ox_peroxyd.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -216,7 +216,7 @@
     UNUSED,                     // PerOxyd stone 0x19
     "st-surprise",              // PerOxyd stone 0x1a
     "st-chameleon",             // PerOxyd stone 0x1b (levels: 23 142 178 183)
-    "st-brick_magic",           // PerOxyd stone 0x1c
+    "st_magic_brick",           // PerOxyd stone 0x1c
     "st_camouflage",            // PerOxyd stone 0x1d (green camouflage piece)(if st-camouflage is implemented, put it in here)
     "st_camouflage",            // PerOxyd stone 0x1e (green camouflage piece)
     UNUSED,                     // PerOxyd stone 0x1f
@@ -282,7 +282,7 @@
     "st_puzzle_blue_nesw",      // PerOxyd stone 0x5b
     "st_puzzle_blue_nesw_hollow", // PerOxyd stone 0x5c
     "st_break_laser",           // PerOxyd stone 0x5d
-    "st-coffee",                // PerOxyd stone 0x5e
+    "st_magic_oxydc",           // PerOxyd stone 0x5e
     "st_shogun",                // PerOxyd stone 0x5f (oxyd with a hole, movable ... strange stone! st-shogun as workaround, only link level 74)
     "st_disco_dark",            // PerOxyd stone 0x60
     "st_disco_medium",          // PerOxyd stone 0x61
@@ -306,7 +306,7 @@
     "st_door_d",                // PerOxyd stone 0x73
     "st_door_d_ew",             // PerOxyd stone 0x74
     "st_metal",                 // PerOxyd stone 0x75
-    "st-stonebrush",            // PerOxyd stone 0x76
+    "st_ghost_purplemarble",    // PerOxyd stone 0x76
     "st_door_d_open",           // PerOxyd stone 0x77
     "st_door_d_ew_open",        // PerOxyd stone 0x78
     "st_passage_white_square",  // PerOxyd stone 0x79 (Can be either st-white1 or st-white4)

Modified: trunk/src/stones/BreakStone.cc
===================================================================
--- trunk/src/stones/BreakStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/BreakStone.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -35,7 +35,7 @@
     Value BreakStone::getAttr(const std::string &key) const {
         if (key == "flavor") {
             std::string kind = get_traits().name;
-            return kind.substr(8);
+            return kind.substr(9);
         }
         return Stone::getAttr(key);
     }

Modified: trunk/src/stones/FakeStone.cc
===================================================================
--- trunk/src/stones/FakeStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/FakeStone.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -23,8 +23,9 @@
 //#include "main.hh"
 
 namespace enigma {
-    FakeStone::FakeStone(int subtyp) : Stone() {
+    FakeStone::FakeStone(int subtyp, int initState) : Stone() {
         objFlags |= (subtyp << 24);
+        state = initState;
     }
     
     std::string FakeStone::getClass() const {
@@ -132,6 +133,7 @@
         BootRegister(new FakeStone(1), "st_fake_oxyda");
         BootRegister(new FakeStone(2), "st_fake_oxydb");
         BootRegister(new FakeStone(3), "st_fake_oxydc");
+        BootRegister(new FakeStone(3, 1), "st_fake_oxydc_open");
         BootRegister(new FakeStone(4), "st_fake_oxydd");
         BootRegister(new FakeStone(5), "st_fake_oxyde");
     BOOT_REGISTER_END

Modified: trunk/src/stones/FakeStone.hh
===================================================================
--- trunk/src/stones/FakeStone.hh	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/FakeStone.hh	2009-01-24 23:53:46 UTC (rev 1482)
@@ -50,7 +50,7 @@
             OXYDE
         };
     public:
-        FakeStone(int subtyp);
+        FakeStone(int subtyp, int initState =IDLE);
         
         // Object interface
         virtual std::string getClass() const;

Added: trunk/src/stones/GhostStone.cc
===================================================================
--- trunk/src/stones/GhostStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/GhostStone.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -0,0 +1,91 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/GhostStone.hh"
+//#include "main.hh"
+#include "player.hh"
+
+namespace enigma {
+    GhostStone::GhostStone(int type) {
+        state = type;
+    }
+    
+    std::string GhostStone::getClass() const {
+        return "st_ghost";
+    }
+    
+    Value GhostStone::getAttr(const std::string &key) const {
+        if (key == "flavor") {
+            std::string kind = get_traits().name;
+            return kind.substr(9);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    void GhostStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void GhostStone::init_model() {
+        set_model("invisible");
+    }
+    
+    bool GhostStone::is_transparent (Direction) const {
+        return state != PURPLEMARBLE;
+    }
+    
+    void GhostStone::actor_hit(const StoneContact &sc) {
+        if (state == PURPLEMARBLE && player::WieldedItemIs(sc.actor, "it_brush")) {
+            sound_event ("stonepaint");
+            if (server::GameCompatibility == GAMET_PEROXYD)
+                transform("st_fake_oxydc_open");
+            else 
+                transform("st_purplemarble");
+        } else if (state == GREENBROWN && player::WieldedItemIs(sc.actor, "it_magicwand")) {
+            sound_event ("stonepaint");
+            transform("st_greenbrown");
+        } else if (state == BREAK && player::WieldedItemIs(sc.actor, "it_brush")) {
+            sound_event ("stonepaint");
+            transform("st_break_oxydc");
+        }
+    }
+    
+    const char *GhostStone::collision_sound() {
+        return state == GREENBROWN ? "cloth" : "stone";
+    }
+    
+    int GhostStone::traitsIdx() const {
+        return state;
+    }
+        
+    StoneTraits GhostStone::traits[3] = {
+        {"st_ghost_purplemarble", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_ghost_greenbrown", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_ghost_break", st_ghost_break, stf_none, material_stone, 1.0, MOVABLE_BREAKABLE},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new GhostStone(0), "st_ghost");
+        BootRegister(new GhostStone(0), "st_ghost_purplemarble");
+        BootRegister(new GhostStone(1), "st_ghost_greenbrown");
+        BootRegister(new GhostStone(2), "st_ghost_break");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/GhostStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/GhostStone.hh
===================================================================
--- trunk/src/stones/GhostStone.hh	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/GhostStone.hh	2009-01-24 23:53:46 UTC (rev 1482)
@@ -0,0 +1,65 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef GHOSTSTONE_HH
+#define GHOSTSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /**
+     *
+     */
+    class GhostStone : public Stone {
+        CLONEOBJ(GhostStone);
+        DECL_TRAITS_ARRAY(3, traitsIdx());
+    private:
+        enum iState {
+            PURPLEMARBLE,
+            GREENBROWN,
+            BREAK
+        };
+        
+    public:
+        GhostStone(int type);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual bool is_transparent(Direction d) const;
+        virtual void actor_hit (const StoneContact &sc);
+        virtual const char *collision_sound();
+
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/GhostStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/MagicStone.cc
===================================================================
--- trunk/src/stones/MagicStone.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/MagicStone.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -0,0 +1,80 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "stones/MagicStone.hh"
+//#include "main.hh"
+#include "player.hh"
+
+namespace enigma {
+    MagicStone::MagicStone(int type) {
+        state = type;
+    }
+    
+    std::string MagicStone::getClass() const {
+        return "st_magic";
+    }
+    
+    Value MagicStone::getAttr(const std::string &key) const {
+        if (key == "flavor") {
+            std::string kind = get_traits().name;
+            return kind.substr(9);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    void MagicStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void MagicStone::init_model() {
+        set_model(get_traits().name);
+    }
+    
+    void MagicStone::actor_hit(const StoneContact &sc) {
+        if (state == BRICK && player::WieldedItemIs(sc.actor, "it_magicwand")) {
+            sound_event ("stonepaint");
+            transform("st_rawglass");
+        } else if (state == OXYDA) {
+            sound_event ("stonetransform");
+            transform("st_lightglass_movable");
+        } else if (state == OXYDC) {
+            sound_event ("stonetransform");
+            transform("st_rawglass_movable");
+        }
+    }
+    
+   int MagicStone::traitsIdx() const {
+        return state;
+    }
+        
+    StoneTraits MagicStone::traits[3] = {
+        {"st_magic_brick", st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_magic_oxyda", st_magic_oxyda, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {"st_magic_oxydc", st_magic_oxydc, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new MagicStone(0), "st_magic");
+        BootRegister(new MagicStone(0), "st_magic_brick");
+        BootRegister(new MagicStone(1), "st_magic_oxyda");
+        BootRegister(new MagicStone(2), "st_magic_oxydc");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/MagicStone.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/MagicStone.hh
===================================================================
--- trunk/src/stones/MagicStone.hh	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones/MagicStone.hh	2009-01-24 23:53:46 UTC (rev 1482)
@@ -0,0 +1,62 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef MAGICSTONE_HH
+#define MAGICSTONE_HH
+
+#include "stones.hh"
+
+#include "stones_internal.hh"
+
+namespace enigma {
+
+    /**
+     *
+     */
+    class MagicStone : public Stone {
+        CLONEOBJ(MagicStone);
+        DECL_TRAITS_ARRAY(3, traitsIdx());
+    private:
+        enum iState {
+            BRICK,
+            OXYDA,
+            OXYDC
+        };
+        
+    public:
+        MagicStone(int type);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &key) const;
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual void actor_hit (const StoneContact &sc);
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/MagicStone.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -439,28 +439,6 @@
     DEF_TRAITS(SurpriseStone, "st-surprise", st_surprise);
 }
 
-
-/* -------------------- Coffee stone -------------------- */
-namespace
-{
-    class CoffeeStone : public Stone {
-        CLONEOBJ(CoffeeStone);
-        DECL_TRAITS;
-    public:
-        CoffeeStone()
-        {}
-
-        void actor_hit (const StoneContact &) {
-            sound_event ("stonetransform");
-            ReplaceStone(get_pos(), MakeStone("st_rawglass_movable"));
-        }
-    private:
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_STANDARD; }
-    };
-    DEF_TRAITS(CoffeeStone, "st-coffee", st_coffee);
-}
-
-
 /* -------------------- Black- and Whiteballs Stones -------------------- */
 
 namespace
@@ -548,28 +526,6 @@
     };
 }
 
-/* -------------------- Unimplemented stones -------------------- */
-
-namespace
-{
-    class FakeOxydA : public Stone {
-        CLONEOBJ(FakeOxydA);
-        DECL_TRAITS;
-    public:
-        FakeOxydA()
-        {}
-
-        void actor_hit (const StoneContact &) {
-            sound_event ("stonetransform");
-            ReplaceStone(get_pos(), MakeStone("st_lightglass_movable"));
-        }
-    private:
-        FreezeStatusBits get_freeze_bits() { return FREEZEBIT_STANDARD; }
-    };
-    DEF_TRAITS(FakeOxydA, "st-fakeoxyda", st_fakeoxyda);
-}
-
-
 // --------------------------------------------------------------------------------
 
 void InitStones() {
@@ -578,10 +534,8 @@
 
     Register (new SpitterStone);
     Register (new SurpriseStone);
-    Register (new CoffeeStone);
     Register (new BlackBallsStone);
     Register (new WhiteBallsStone);
-    Register (new FakeOxydA);
 
     // Init stones from stones_simple.cc and stones_complex.cc:
     Init_simple();

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones.hh	2009-01-24 23:53:46 UTC (rev 1482)
@@ -49,17 +49,17 @@
         st_break_oxydc,
         st_break_plain,
         st_break_white,
-        st_break_invisible,
+        st_ghost_break,
         st_chameleon,
         st_chess,
-        st_coffee,
+        st_magic_oxydc,
         st_coinslot,
         st_death,
         st_death_invisible,
         st_disco,
         st_door,
         st_easymode,
-        st_fakeoxyda,
+        st_magic_oxyda,
         st_quake,
         st_floppy,
         st_fourswitch,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-24 20:59:23 UTC (rev 1481)
+++ trunk/src/stones_simple.cc	2009-01-24 23:53:46 UTC (rev 1482)
@@ -176,173 +176,6 @@
     DEF_TRAITS(ChameleonStone, "st-chameleon", st_chameleon);
 }
 
-/* -------------------- BrickMagic -------------------- */
-
-/** \page st-brick_magic Magic Brick Stone
-
-This stone does initially look like a "st-brick". If touched by the
-actor, having a magic wand, it turns into a "st-glass" stone and
-allows lasers to go through it.
-
-\subsection brick_magicke Example
-\verbatim
-set_stone("st-brick_magic", 10,10)
-\endverbatim
-
-\image html st-brick.png
-*/
-namespace
-{
-    class BrickMagic : public Stone {
-        CLONEOBJ(BrickMagic);
-        const char *collision_sound() {return "stone";}
-    public:
-        BrickMagic() : Stone("st-brick_magic") {}
-    private:
-        void actor_hit(const StoneContact &sc) {
-            if (player::WieldedItemIs (sc.actor, "it_magicwand")) {
-                sound_event ("stonepaint");
-                ReplaceStone (get_pos(), MakeStone("st_rawglass"));
-            }
-        }
-    };
-}
-
-/* -------------------- Stonebrush -------------------- */
-
-/** \page st-stonebrush Brush Stone
-
-This stone is initially invisible. If touched by an actor
-having a brush it turns into a "st-rock4".
-
-\subsection stonebrushe Example
-\verbatim
-set_stone("st-stonebrush", 10,10)
-\endverbatim
-
-\image html st-rock4.png
-*/
-namespace
-{
-    class Stonebrush : public Stone {
-        CLONEOBJ(Stonebrush);
-        const char *collision_sound() {return "stone";}
-    public:
-        Stonebrush() : Stone("st-stonebrush"), state(INVISIBLE) {}
-    private:
-        enum State { INVISIBLE, BRUSH } state;
-
-        void actor_hit(const StoneContact &sc) {
-            if( state == INVISIBLE) {
-                if (player::WieldedItemIs (sc.actor, "it_brush")) {
-                    sound_event ("stonepaint");
-                    state = BRUSH;
-                    if (server::GameCompatibility == GAMET_PEROXYD) {
-                        set_model("st-likeoxydc-open");
-                    }
-                    else {
-                        set_model("st_purplemarble");
-                    }
-                }
-            }
-        }
-    };
-}
-
-//----------------------------------------
-// Break_invisible
-//----------------------------------------
-
-/** \page st-break_invisible Brush Stone
-
-This stone is initially invisible. If touched by an actor having a
-brush it turns into a "st_stone_break".  This stone can be destroyed
-by an actor having a hammer.
-
-\subsection break_invisible Example
-\verbatim
-set_stone("st-break_invisible", 10,10)
-\endverbatim
-
-\image html st-stone_break.png
-*/
-namespace
-{
-    class Break_invisible : public Stone {
-        CLONEOBJ(Break_invisible);
-        DECL_TRAITS;
-        const char *collision_sound() {return "stone";}
-    public:
-        Break_invisible() : state(INVISIBLE) {}
-    private:
-        enum State { INVISIBLE, BRUSH, DESTROY };
-        State state;
-        void actor_hit(const StoneContact &sc) {
-            if (state == INVISIBLE) {
-                if (player::WieldedItemIs (sc.actor, "it_brush")) {
-                    sound_event ("stonepaint");
-                    state = BRUSH;
-                    set_model("st-stone_break");
-                }
-            }
-            else if (state == BRUSH) {
-                if (player::WieldedItemIs (sc.actor, "it_hammer")) {
-                    sound_event ("stonedestroy");
-                    state = DESTROY;
-                    set_anim("st-stone_break-anim");
-                }
-            }
-        }
-        void animcb() {
-            if (state == DESTROY)
-                KillStone(get_pos());
-        }
-    };
-    DEF_TRAITSM(Break_invisible, "st-break_invisible", st_break_invisible,
-                MOVABLE_BREAKABLE);
-}
-
-//----------------------------------------
-// Invisible Magic
-//----------------------------------------
-
-/** \page st-invisible_magic Magic Invisible Stone
-
-This stone is initially invisible, and laserlight can pass through.
-If touched by an actor having a magic wand, it will mutate into a
-"st-greenbrown" and laserlight is blocked.
-
-\subsection invisible_magice Example
-\verbatim
-set_stone("st-invisible_magic", 10,10)
-\endverbatim
-
-\image html st-greenbrown.png
-*/
-namespace
-{
-    class InvisibleMagic : public Stone {
-        CLONEOBJ(InvisibleMagic);
-        const char *collision_sound() {return "cloth";}
-    public:
-        InvisibleMagic() : Stone("st-invisible_magic"), state(INVISIBLE) {}
-    private:
-        enum State { INVISIBLE, STONE } state;
-
-        void actor_hit(const StoneContact &sc) {
-            if (state == INVISIBLE) {
-                if (player::WieldedItemIs (sc.actor, "it_magicwand")) {
-                    sound_event ("stonepaint");
-                    state = STONE;
-                    set_model("st_greenbrown");
-                    MaybeRecalcLight(get_pos());
-                }
-            }
-        }
-        bool is_transparent (Direction) const { return state==INVISIBLE; }
-    };
-}
-
 /* -------------------- BombStone -------------------- */
 
 namespace
@@ -440,18 +273,12 @@
     //Register(new BombStone("st-dynamite", "it-dynamite"));
     //Register(new BombStone("st-whitebombs", "it-whitebomb"));
 
-    Register(new Break_invisible);
-
-    Register(new BrickMagic);
-
     Register(new ChameleonStone);
 
     Register(new DummyStone);
     Register(new EasyModeStone);
     Register(new Grate3);
-    Register(new InvisibleMagic);
     Register(new MagicStone);
-    Register(new Stonebrush);
 }
 
 } // namespace enigma



From raoul at mail.berlios.de  Sun Jan 25 01:48:33 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sun, 25 Jan 2009 01:48:33 +0100
Subject: [Enigma-game-svn] r1483 - in trunk/data/levels: enigma_cross
	enigma_ii enigma_iv enigma_tutorial enigma_v enigma_vi
	enigma_vii enigma_viii
Message-ID: <200901250048.n0P0mXmi003978@sheep.berlios.de>

Author: raoul
Date: 2009-01-25 01:48:29 +0100 (Sun, 25 Jan 2009)
New Revision: 1483

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_ii/martin27_2.xml
   trunk/data/levels/enigma_iv/ant23_2.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_iv/mp03_1.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ral10_2.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/johann03_1.xml
   trunk/data/levels/enigma_viii/mecke03_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke17_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/mecke31_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral30_1.xml
Log:
-> Level updates for latest renamings (ghost, thief)


Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -17,7 +17,7 @@
     <level _seq="9" _title="Floppy Swapping" _xpath="enigma_ii/martin19_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="enigma_i/siegfried33_1" author="anonymous" ctrl="force" easy="false" id="meditation1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Push Them In" _xpath="enigma_ii/nat05_1" author="Andreas Persenius, Nat Pryce" ctrl="force" easy="false" id="nat5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Ice Skating" _xpath="enigma_i/siegfried22_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Lasers 101" _xpath="enigma_i/daniel08_1" author="Daniel Heck" ctrl="force" easy="false" id="lasers101" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -144,7 +144,7 @@
     <level _seq="136" _title="Dependants" _xpath="enigma_iii/ant25_2" author="Petr Machata" ctrl="force" easy="true" id="ant25" rel="2" rev="2" score="2" target="time" unit="duration"/>
     <level _seq="137" _title="Question of Speed" _xpath="enigma_ii/siegfried32_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="138" _title="Pain" _xpath="enigma_iv/ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="139" _title="- Meditation -" _xpath="enigma_iv/ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="139" _title="- Meditation -" _xpath="enigma_iv/ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="140" _title="Domain of Mysteries" _xpath="enigma_ii/siegfried31_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11a" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>
 

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -94,7 +94,7 @@
     <level _seq="86" _title="Bolder Run" _xpath="enigma_iv/just02_1" author="JuSt" ctrl="force" easy="false" id="just02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Laser Pushing" _xpath="enigma_iv/just04_1" author="JuSt" ctrl="force" easy="false" id="just04" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Friction Nightmare" _xpath="enigma_iv/luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="10" score="1" target="time" unit="duration"/>
@@ -195,7 +195,7 @@
     <level _seq="187" _title="- Meditation -" _xpath="enigma_vi/andreas36_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas36" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="188" _title="Troy" _xpath="enigma_vi/andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="189" _title="Ben Hur" _xpath="enigma_vi/ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
-    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="104" score="1" target="time" unit="duration"/>
+    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="105" score="1" target="time" unit="duration"/>
     <level _seq="191" _title="Janus" _xpath="enigma_vi/andreas38_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="192" _title="Phaeton" _xpath="enigma_vi/andreas39_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="31" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -59,7 +59,7 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,25 +79,25 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="39" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="43" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="78" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
@@ -108,21 +108,21 @@
     <level _seq="100" _title="Microwire" _xpath="enigma_viii/ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="101" _title="More Microwire" _xpath="enigma_viii/ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="38" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="132" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="147" score="2" target="time" unit="duration"/>
-    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="148" score="2" target="time" unit="duration"/>
+    <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -132,12 +132,12 @@
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="14" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma II"/>
 
   <attributes/>
 
@@ -96,7 +96,7 @@
     <level _seq="88" _title="Shifting Shoals" _xpath="./nat28_1" author="Nat Pryce" ctrl="force" easy="false" id="nat28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pentomino V" _xpath="./ralf20_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="Washing Machine" _xpath="./duffy45_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy45" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="91" _title="It's Magic" _xpath="./martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="It's Magic" _xpath="./martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Dirt Clod" _xpath="./xerxes02_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Painting" _xpath="./siegfried21_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Snowing" _xpath="./duffy120_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy120" rel="2" rev="3" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/martin27_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin27_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_ii/martin27_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="It's Magic" el:subtitle="" el:id="martin27"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -18,7 +18,7 @@
 ti[" "] = {"fl_brick"}
 ti["#"] = {"st_brick"}
 ti["*"] = {"st_rawglass"}
-ti["!"] = {"st-brick_magic"}
+ti["!"] = {"st_magic_brick"}
 ti[">"] = {"st_laser", name="laser", orientation=EAST, state=ON}
 ti["/"] = {"st_mirror", orientation=WEST}
 ti["<"] = {"st_mirror", flavor="triangle", orientation=WEST}

Modified: trunk/data/levels/enigma_iv/ant23_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ant23_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_iv/ant23_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="- Meditation -" el:subtitle="" el:id="ant23"/>
-      <el:version el:score="1" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
     ti["T"] = {"it_trigger", target="m%%", action="flip"}
     ti["U"] = ti({"it_meditation_hill", "m%%"}) .. {"st_door", flavor="b", state=OPEN}
 end
-ti["W"] = {"st-block", name="boxes#"}
+ti["W"] = {"st_plop_slate", name="boxes#"}
 ti["@"] = {"#ac_pearl", name="balls#", target="@boxes#*"}
 
 local resolver = res.autotile(ti, {"a", "d", "T"}, {"A", "D", "U"})

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="15" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="16" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -61,7 +61,7 @@
 ti["S"] = {"it-spring1"} .. ti["l"]
 ti["F"] = {"it-flagblack"} .. ti["l"]
 ti["O"] = {"it_extralife"} .. ti["l"]
-ti["T"] = {"st-thief"} .. ti["="]
+ti["T"] = {"st_thief"} .. ti["="]
 ti["B"] = {"st_invisible"} .. ti["A"]
 ti["a"] = {"st_greenbrown_hollow"} .. ti["A"]
 ti["b"] = ti["%"] .. ti["A"]

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma IV"/>
 
   <attributes/>
 
@@ -35,7 +35,7 @@
     <level _seq="27" _title="Robbery" _xpath="./ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="28" _title="The Life Game" _xpath="./alain13_1" author="Alain Busser" ctrl="force" easy="false" id="alain13" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Where is it?" _xpath="./barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="- Meditation -" _xpath="./ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="- Meditation -" _xpath="./ant23_2" author="Petr Machata" ctrl="force" easy="true" id="ant23" rel="2" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Eternal Circulation" _xpath="./raoul03_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="Under the Radar" _xpath="./duffy106_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy106" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Double-Spiral" _xpath="./duffy17_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy17" rel="2" rev="2" score="2" target="time" unit="duration"/>
@@ -91,7 +91,7 @@
     <level _seq="83" _title="Friction Nightmare" _xpath="./luc01_1" author="Lukas Sch?ller" ctrl="force" easy="true" id="luc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Prison Yard" _xpath="./nat20_1" author="Nat Pryce" ctrl="force" easy="true" id="nat20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Bad Nightmare" _xpath="./duffy117_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy117" rel="2" rev="3" score="2" target="time" unit="duration"/>
-    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="86" _title="Laser Games" _xpath="./mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Worse Nightmare" _xpath="./duffy124_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy124" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="88" _title="Squaring the Circle" _xpath="./nat16_1" author="Nat Pryce" ctrl="force" easy="true" id="nat16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pain" _xpath="./ant27_1" author="Petr Machata" ctrl="force" easy="false" id="ant27" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_iv/mp03_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_iv/mp03_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Laser Games" el:subtitle="" el:id="mp03"/>
-      <el:version el:score="1" el:release="1" el:revision="9" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
       <el:author el:name="moonpearl"/>
       <el:copyright>Copyright ? moonpearl</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,7 +16,7 @@
 
 ti["  "] = ti({"fl_blueslab", checkerboard = 1}) .. {"fl_redslab", checkerboard = 0}
 ti["# "] = {"st_purplemarble"}
-ti["= "] = {"st-block"}
+ti["= "] = {"st_plop_slate"}
 ti["^ "] = {"st_laser", state = ON, orientation = NORTH}
 ti["$ "] = {"st_oxyd", flavor = "b"}
 ti["@ "] = {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="12" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="13" title="Tutorial"/>
 
   <attributes/>
 
@@ -56,7 +56,7 @@
     <level _seq="48" _title="Brittle Floor!" _xpath="enigma_iii/martin91_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin91" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Inverted Laser Spiral" _xpath="enigma_ii/duffy42_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy42" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="enigma_i/siegfried35_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation14" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="9" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Items" _xpath="./a_tut05" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Flying" _xpath="enigma_i/luc07_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc07" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Annoying little balls" _xpath="enigma_i/wb09_2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb9" rel="2" rev="0" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma V"/>
 
   <attributes/>
 
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="13" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="14" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 ti["> "] = {"st_boulder", "boulder3", orientation=EAST}
 ti["| "] = {"st_door", flavor="d", faces="ew"}
 ti["- "] = {"st_door", flavor="d", faces="ns"}
-ti["T "] = {"st-thief"}
+ti["T "] = {"st_thief"}
 ti["C "] = {"st_coinslot", target="door3"}
 ti["B "] = {"st-bombs"}
 ti["X "] = {"st_grate_framed"}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma VI"/>
 
   <attributes/>
 
@@ -58,7 +58,7 @@
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="104" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="105" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ral10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Bodyguard" el:subtitle="In the line of thieves" el:id="20060730ral012"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 104 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 105 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -15,7 +15,7 @@
 wo["ConserveLevel"] = false
 
 ti[" "] = {"fl_bluegray"}
-ti["."] = {"fl-thief"}
+ti["."] = {"fl_thief"}
 ti["#"] = {"st_rawglass"}
 ti["+"] = {"st_rawglass", "doorA#"}
 ti["*"] = {"st_rawglass", "doorB#"}
@@ -36,11 +36,11 @@
 ti["h"] = ti["."] .. {"#ac_horse", strength=1, destination={"ip%1", "ip%2","ip%3", "ip%4"}}
 
 ti["T"] = {"it-document", text="help_keys"}
-ti["template_inner"] = {"fl-thief", "ip%%"}
+ti["template_inner"] = {"fl_thief", "ip%%"}
 
 if wo["IsDifficult"] then
     ti[","] = ti["."]
-    ti["template_outer"] = {"fl-thief", "op%%"}
+    ti["template_outer"] = {"fl_thief", "op%%"}
     ti["template_K"] = ti["#"]
     ti["template_P"] = {"st_key", code="%%", target={"@doorA#*", "@doorB#*"}, action={"kill","kill"}}
 else

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="34" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="35" title="Enigma VII"/>
 
   <attributes/>
 
@@ -83,7 +83,7 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="13" score="2" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="14" score="2" target="time" unit="duration"/>
     <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="39" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="40" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="44" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 34 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti["! "] = {"st_death"}
 ti["# "] = {"st_granite"}
 ti[" &"] = {"fl_metal_7", friction=4.0}
-ti["$ "] = {"st-thief"}
+ti["$ "] = {"st_thief"}
 ti["% "] = {"st_passage_black_cross"}
 ti["& "] = {"st_break_oxydc"}
 ti["' "] = {"st_rawglass_movable"}
@@ -89,7 +89,7 @@
 ti["J "] = {"st_passage_white_cross"}
 ti["K "] = {"st_fake_oxydd"}
 ti["j "] = {"it_crack_l"}
-ti["L "] = {"st-coffee"}
+ti["L "] = {"st_magic_oxydc"}
 ti["M "] = {"st_shogun_sml"}
 ti["N "] = {"st_door_a"}
 ti["m "] = {"it-springboard"}
@@ -97,7 +97,7 @@
 ti["P "] = {"st-grate3"}
 ti["R "] = {"st_grate_framed"}
 ti[" 7"] = {"fl_space"}
-ti["S "] = {"st-break_invisible"}
+ti["S "] = {"st_ghost_break"}
 ti[" 8"] = {"fl_bluegray"}
 ti["T "] = {"st_boulder_s"}
 ti[" 9"] = {"fl_hay"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:39$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:40$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -19,7 +19,7 @@
 
 ti[" !"] = {"fl_abyss"}
 ti[" ,"] = {"fl_red"}
-ti["! "] = {"st-block"}
+ti["! "] = {"st_plop_slate"}
 ti[" #"] = {"fl_yinyang_yin"}
 ti["# "] = {"st_death"}
 ti[" $"] = {"fl_metal_7"}
@@ -51,7 +51,7 @@
 ti["+ "] = {"st_darkgray"}
 ti[" '"] = {"fl_water"}
 ti[", "] = {"st_granite_hollow"}
-ti["- "] = {"st-thief"}
+ti["- "] = {"st_thief"}
 ti[". "] = {"st_puzzle_yellow", connections="es"}
 ti["p2"] = ti[" #"] .. {"st_puzzle_yellow", connections="es"}
 ti["/ "] = {"st_puzzle_yellow", connections="ns"}
@@ -71,8 +71,8 @@
 ti["L7"] = ti[" #"] .. {"st_laser_e", name="ox7"}
 ti["4 "] = {"st_puzzle_yellow", connections="sw"}
 ti["p3"] = ti[" #"] .. {"st_puzzle_yellow", connections="sw"}
-ti["5 "] = {"st-break_invisible"}
-ti["y1"] = ti[" !"] .. {"st-break_invisible"}
+ti["5 "] = {"st_ghost_break"}
+ti["y1"] = ti[" !"] .. {"st_ghost_break"}
 ti["y2"] = ti["y1"] .. {"it-puller-s"}
 ti["y3"] = ti[" #"] .. {"it-puller-s"}
 ti["y4"] = ti[" #"] .. {"st_mirror", movable=true, transparent=false}
@@ -126,7 +126,7 @@
 ti["a6"] = ti["a5"] .. {"#ac_top", range=1, strength=1}
 ti["se"] = ti[" #"] .. {"it_seed"}
 ti["sc"] = ti[" *"] .. {"it_cherry"}
-ti["sb"] = ti[" )"] .. {"st-block"}
+ti["sb"] = ti[" )"] .. {"st_plop_slate"}
 ti["ss"] = ti["sb"] .. {"it-springboard"}
 ti["l1"] = ti["p1"] .. {"it_extralife"}
 ti["l2"] = ti["p2"] .. {"it_extralife"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 43 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 44 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -51,7 +51,7 @@
 ti["/ "] = {"st_oneway_black_e"}
 ti["P "] = {"st_oneway_black_s"}
 ti["c "] = {"it_crack_l"}
-ti["0 "] = {"st-brick_magic"}
+ti["0 "] = {"st_magic_brick"}
 ti["1 "] = {"st_granite_hollow"}
 ti["B "] = {"st_passage_black_frame"}
 ti["2 "] = {"st_boulder_w"}
@@ -86,7 +86,7 @@
 ti["A "] = {"st_door", state=OPEN, faces="ns"}
 ti["W "] = {"st_break_oxydc"}
 ti["gg"] = ti[" %"] .. {"it_strip", connections="ns"}
-ti["l3"] = ti[" !"] .. {"st-brick_magic"}
+ti["l3"] = ti[" !"] .. {"st_magic_brick"}
 ti["l4"] = ti[" i"] .. {"st_passage_black_frame"}
 ti["l5"] = ti[" $"] .. {"st_rawglass_movable"}
 ti["l6"] = ti[" $"] .. {"st_rawglass"}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="13" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="14" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,7 +31,7 @@
 ti["q"] = ti[" "] .. {"st_redrock"} -- SUN RAY
 ti["r"] = {"fl_red"} -- SUN
 ti["s"] = ti[" "] .. {"st_scissors"}
-ti["t"] = ti[" "] .. {"st-thief"}
+ti["t"] = ti[" "] .. {"st_thief"}
 ti["u"] = ti[" "] .. {"st_box_wood"}
 ti["w"] = ti[" "] .. {"st_passage_white_slash"}
 ti["x"] = ti[" "] .. {"it_death"} -- Corpse
@@ -56,7 +56,7 @@
 ti["Q"] = ti[" "] .. {"#ac_rotor", range=10, gohome=0}
 ti["R"] = ti["r"] .. {"st_invisible"} --Invisible stone on red floor
 ti["S"] = ti[" "] .. {"st_door_a", name="Door2"} -- Silver's prison door
-ti["T"] = ti["y"] .. {"st-thief"} --Thief on blue floor
+ti["T"] = ti["y"] .. {"st_thief"} --Thief on blue floor
 ti["U"] = ti[" "] .. {"it_crack_l"}
 ti["V"] = ti[" "] .. {"#ac_rotor", name="RGuard1", gohome=0} -- Lone Ranger's Guard
 ti["W"] = ti[" "] .. {"#ac_rotor", name="RGuard2", gohome=0} -- Lone Ranger's Guard

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -1,28 +1,28 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="34" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="31" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="77" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="78" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
-    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
@@ -33,19 +33,19 @@
     <level _seq="25" _title="Microwire" _xpath="./ral27_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral427" rel="1" rev="128" score="1" target="time" unit="duration"/>
     <level _seq="26" _title="More Microwire" _xpath="./ral28_1" author="Ronald Lamprecht" ctrl="force" easy="false" id="20080717ral282" rel="1" rev="130" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="38" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="131" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="132" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="23" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="147" score="2" target="time" unit="duration"/>
-    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="13" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="148" score="2" target="time" unit="duration"/>
+    <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -55,12 +55,12 @@
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
-    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="31" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/johann03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/johann03_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Cross Mail" el:subtitle="The level goes on" el:id="johann03"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="Johann Freymuth" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Johann Freymuth</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -36,7 +36,7 @@
 ti["X"] = ti["x"] .. {"st_darkglass"}
 ti["M"] = {"st_mail_e"}
 ti["U"] = {"st_mail_n"}
-ti["I"] = {"st-break_invisible"}
+ti["I"] = {"st_ghost_break"}
 ti["O"] = {"st_oxyd", name="oxydstone#"}
 ti["i"] = {"st_switch", target="setv"}
 ti["j"] = {"st_switch", target="seth"}

Modified: trunk/data/levels/enigma_viii/mecke03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke03_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Balance Beam" el:subtitle="Balance Beam" el:id="mecke03"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 36 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 37 $" el:status="released"/>
       <el:author  el:name="mecke"/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,7 +34,7 @@
 ti["e"] = {"st_window_e"}
 ti["1"] = {"st_window_es"}
 ti["P"] = {"st-stoneimpulse-hollow"}
-ti["Q"] = {"st-break_invisible"}
+ti["Q"] = {"st_ghost_break"}
 ti["T"] = {"st_yellow"}
 ti["!"] = {"it_death"}
 ti["B"] = {"st_rawglass"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:37$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:38$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -74,7 +74,7 @@
 ti["F2"] = ti["* "] .. {"st_rawglass_movable","dd2"}
 ti["! "] = ti["4 "] ..{"it_death"}
 ti["B "] = {"st_rawglass"}
-ti["C "] = ti["  "] .. {"st-brick_magic"}
+ti["C "] = ti["  "] .. {"st_magic_brick"}
 ti["D "] = ti["~ "] .. {"st_rawglass"}
 ti["E "] = ti["? "] .. {"it_extralife"}
 ti["ee"] = ti["  "] .. {"it_extralife"}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 23 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 24 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -18,7 +18,7 @@
 wo["ConserveLevel"] = true
 wo["ExtralifeGlasses"] = wo["ExtralifeGlasses"] + SPOT_ACTORIMPULSE
 
-ti[" t"] = {"fl-thief"}
+ti[" t"] = {"fl_thief"}
 ti["  "] = {"fl_rough"}
 ti[" q"] = {"fl_aquamarine"}
 ti[" i"] = ti[" q"] ..{"it_crack_l", fragility=0}
@@ -35,7 +35,7 @@
 ti["E "] = {"st_lightpassenger_off"}
 ti["O "] = {"st_rotator_ccw", movable=false}
 ti["Q "] = {"st_rotator_ccw", movable=true}
-ti["T "] = {"st-thief"}
+ti["T "] = {"st_thief"}
 ti["Y "] = {"st_rawglass_movable"}
 ti["B "] = {"it_trigger",target="laser1"}
 ti["C "] = {"it_trigger",target="laser2"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 31 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -100,7 +100,7 @@
 ti[" 3"] = {"fl_yinyang_yin"}
 ti["; "] = {"st_knight"}
 ti["< "] = {"st_laser_e", name="lezy1"}
-ti["= "] = {"st-thief"}
+ti["= "] = {"st_thief"}
 ti["u "] = {"st_box_wood"}
 ti[" 4"] = {"fl_mortar"}
 ti["> "] = {"st_quake"}
@@ -112,7 +112,7 @@
 ti[" 7"] = {"fl-gradient3"}
 ti["B "] = {"st_boulder_w"}
 ti["V "] = {"st_passage_black_frame"}
-ti["C "] = {"st-break_invisible"}
+ti["C "] = {"st_ghost_break"}
 ti["D "] = {"st_bluegray"}
 ti["X "] = {"st_bluegray_hollow"}
 ti[" 8"] = {"fl_sahara"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["E"] = {"st_window_n"}
 ti["P"] = {"st_bluegray"}
 ti["p"] = ti["H"] .. {"it-spring1"}
-ti["Q"] = {"st-break_invisible"}
+ti["Q"] = {"st_ghost_break"}
 ti["q"] = {"it-booze-broken"}
 ti["i"] = {"it_sensor"}
 ti["t"] = {"it_meditation_bump"}
@@ -60,14 +60,14 @@
 ti["?"] = ti["~"] .. {"st_actorimpulse"}
 ti["Y"] = ti[" "] .. {"it_wormhole"}
 ti[";"] = ti[" "] .. {"it-document", text="text1"}
-ti["1"] = ti["r"] .. {"st-block", "df1"}
-ti["2"] = ti["r"] .. {"st-block", "df2"}
-ti["3"] = ti["r"] .. {"st-block", "df3"}
-ti["4"] = ti["r"] .. {"st-block", "df4"}
-ti["5"] = ti["r"] .. {"st-block", "df5"}
-ti["6"] = ti["r"] .. {"st-block", "df6"}
-ti["7"] = ti["r"] .. {"st-block", "df7"}
-ti["8"] = ti["r"] .. {"st-block", "df8"}
+ti["1"] = ti["r"] .. {"st_plop_slate", "df1"}
+ti["2"] = ti["r"] .. {"st_plop_slate", "df2"}
+ti["3"] = ti["r"] .. {"st_plop_slate", "df3"}
+ti["4"] = ti["r"] .. {"st_plop_slate", "df4"}
+ti["5"] = ti["r"] .. {"st_plop_slate", "df5"}
+ti["6"] = ti["r"] .. {"st_plop_slate", "df6"}
+ti["7"] = ti["r"] .. {"st_plop_slate", "df7"}
+ti["8"] = ti["r"] .. {"st_plop_slate", "df8"}
 ti["l"] = ti["!"] .. {"st_polarswitch"}
 ti["Z"] = {"st_timer",action="callback",target="hux",interval=11.9,invisible=0}
 ti["g"] = ti[" "] .. {"it_vortex_open", name="vortex1", destination="vortex2"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,10 +35,10 @@
 ti["t "] = {"st_break_oxydc"}
 ti["# "] = {"st_lightpassenger"}
 ti["K "] = {"st_knight"}
-ti["B "] = {"st-brick_magic"}
+ti["B "] = {"st_magic_brick"}
 ti["O "] = {"st_rotator_ccw", movable=true}
 ti["R "] = {"st_rubberband"}
-ti["T "] = {"st-thief"}
+ti["T "] = {"st_thief"}
 ti["Y "] = {"st_rawglass"}
 ti["r "] = {"st_brownie"}
 ti["U1"] = {"st_passage_black_frame"}

Modified: trunk/data/levels/enigma_viii/mecke17_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke17_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation I" el:subtitle="Alternation in a Blue Area" el:id="mecke17"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -38,7 +38,7 @@
 ti["X&"] = ti[" &"] .. {"st_grate_cross"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
-ti["0~"] = ti[" ~"] .. {"st-coffee"}
+ti["0~"] = ti[" ~"] .. {"st_magic_oxydc"}
 ti["H'"] = ti[" '"] .. {"st_passage_black_square"}
 ti["B!"] = ti[" !"] .. {"st_passage_black_frame"}
 ti["B&"] = ti[" &"] .. {"st_passage_black_frame"}
@@ -54,7 +54,7 @@
 ti["2r"] = ti[" r"] .. {"st_rawglass_movable"}
 ti["CW"] = ti[" w"] .. {"st_chess_white"}
 ti["Sw"] = ti[" w"] .. {"st_swap"}
-ti["Tw"] = ti[" w"] .. {"st-thief"}
+ti["Tw"] = ti[" w"] .. {"st_thief"}
 ti["y~"] = ti[" ~"] .. {"it_yinyang"}
 ti["Y~"] = ti[" ~"] .. {"st_blur_cross"}
 ti["Y&"] = ti[" &"] .. {"st_blur_cross"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:15$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:16$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -58,7 +58,7 @@
 ti[" ,"] = {"fl_gravel"}
 ti[" -"] = {"fl_redslab"}
 ti["1 "] = {"st_rawglass"}
-ti["2 "] = {"st-block"}
+ti["2 "] = {"st_plop_slate"}
 ti[" ."] = {"fl_swamp"}
 ti[" /"] = {"fl_blueslab"}
 ti["z "] = {"it-document", text="text1"}
@@ -67,7 +67,7 @@
 ti["4 "] = {"st_break_boulder"}
 ti["i "] = {"it_seed"}
 ti["w "] = {"it-flagwhite"}
-ti["5 "] = {"st-thief"}
+ti["5 "] = {"st_thief"}
 ti["y "] = {"it_sword"}
 ti["x "] = {"it_hammer"}
 ti["m "] = {"it_coin_l"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,8 +39,8 @@
 ti["nw"] = ti[" '"]..{"st_break_oxydc"}
 ti["nn"] = ti["ny"]..{"it_seed_fake"}
 ti["nm"] = ti["nw"]..{"it_seed_fake"}
-ti[". "] = {"st-block"}
-ti["/ "] = {"st-break_invisible"}
+ti[". "] = {"st_plop_slate"}
+ti["/ "] = {"st_ghost_break"}
 ti["0 "] = {"st_puzzle", connections="e"}
 ti["1 "] = {"st_purplegray"}
 ti["2 "] = {"st_puzzle", connections="s"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 43 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 44 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -61,7 +61,7 @@
 ti["t7"] = ti[" !"] .. {"it_trigger", target="tessi2#*",action="toggle"}
 ti["* "] = ti[" !"] .. {"st_laser_s", name="lessi1",state=OFF}
 ti["ll"] = ti[" !"] .. {"st_laser_s", name="lessi2#",state=OFF}
-ti["mn"] = ti[" !"] .. {"st-break_invisible"}
+ti["mn"] = ti[" !"] .. {"st_ghost_break"}
 ti["k1"] = ti["jj"] .. {"it_key", code=1}
 ti["k2"] = ti["jj"] .. {"it_key", code=2}
 ti["k3"] = ti["jj"] .. {"it_key", code=3}
@@ -72,7 +72,7 @@
 ti["1 "] = {"st_floppy", target= "olli8"}
 ti[" )"] = {"fl_yinyang_yang"}
 ti["2 "] = {"st_actorimpulse"}
-ti["3 "] = {"st-break_invisible"}
+ti["3 "] = {"st_ghost_break"}
 ti["mm"] = ti["mn"] .. {"it_magicwand"}
 ti["4 "] = {"st_blur_cross"}
 ti["5 "] = {"st_passage_white_cross"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:77$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:78$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -25,7 +25,7 @@
 
 ti[" !"] = {"fl_swamp"}
 ti["! "] = {"st_death"}
-ti["c "] = {"st-block"}
+ti["c "] = {"st_plop_slate"}
 ti[" #"] = {"fl_metal_7"}
 ti[" $"] = {"fl_water"}
 ti["# "] = {"st_oneway_black_n"}
@@ -103,7 +103,7 @@
 ti["U "] = {"st_purplegray"}
 ti[" >"] = {"fl_gravel"}
 ti[" ?"] = {"fl_fake_abyss"}
-ti["W "] = {"st-break_invisible"}
+ti["W "] = {"st_ghost_break"}
 ti["X "] = {"st_window_s"}
 ti["Y "] = {"st_floppy",target="door4#*"}
 ti["^ "] = {"st_lightpassenger_off"}
@@ -231,7 +231,7 @@
    ti["LZ"] = ti[" ;"] .. {"it-burnable_oil"}
 else
    ti["i+"] = ti[" +"] .. {"it-dynamite"}
-   ti["rt"] = ti[" '"] .. {"st-break_invisible"}
+   ti["rt"] = ti[" '"] .. {"st_ghost_break"}
    ti["rr"] = ti["rt"] .. {"#ac_rotor", range=3, strength=3}
    ti["ww"] = {"fl_swamp"}
    ti["))"] = ti[" l"] .. {"it-burnable_oil"}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 31 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -47,7 +47,7 @@
 ti["0 "] = {"st_brownie"}
 ti["1 "] = {"st_redbrown"}
 ti["2 "] = {"st_greenbrown-growing"}
-ti["3 "] = {"st-blocker-growing"}
+ti["3 "] = {"st_plop_slateer-growing"}
 ti["4 "] = {"st_darkglass_hollow"}
 ti["5 "] = {"st_brownpyramide"}
 ti["6 "] = {"st_metal"}
@@ -116,7 +116,7 @@
 ti["A "] = {"st_brake"}
 ti["B "] = {"st_swap"}
 ti["C "] = {"st_box_wood"}
-ti["T "] = {"st-thief"}
+ti["T "] = {"st_thief"}
 ti["D "] = ti[" ~"] .. {"st_grate_cross"}
 ti["E "] = {"st_rawglass_movable"}
 ti["F "] = {"st_rawglass"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 13 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,11 +43,11 @@
 ti["K3"] = {"st_rawglass_movable", name="movy3"}
 ti["K4"] = {"st_rawglass_movable", name="movy4"}
 ti["K5"] = {"st_rawglass_movable", name="movy5"}
-ti["B "] = {"st-brick_magic"}
+ti["B "] = {"st_magic_brick"}
 ti["O "] = {"st_rotator_ccw", movable=true}
 ti["R "] = {"st_rubberband"}
 ti["T "] = {"st_bluegray"}
-ti["TH"] = {"st-thief"}
+ti["TH"] = {"st_thief"}
 ti["Y "] = {"st_rawglass"}
 ti["r "] = {"st_brownie"}
 ti["U1"] = {"st_passage_white_frame"}
@@ -63,7 +63,7 @@
 ti["D1"] = ti["G "] .. {"it_death"}
 ti["D2"] = {"st_death_invisible"}
 ti["D3"] = ti["D2"] .. {"it_umbrella_new"}
-ti["D4"] = ti["'_"] .. {"st-break_invisible"}
+ti["D4"] = ti["'_"] .. {"st_ghost_break"}
 ti["H "] = ti[" i"] .. {"st_key", code=1, target={"door#7"}}
 ti["L1"] = ti[" _"] .. {"st_laser_e", name="laser1", state=ON}
 ti["L2"] = ti[" _"] .. {"st_laser_w", name="laser2", state=OFF}

Modified: trunk/data/levels/enigma_viii/mecke31_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/mecke31_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Alternation II" el:subtitle="Alternation in a Dark Area" el:id="mecke31"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
       <el:author el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -39,7 +39,7 @@
 ti["Th"] = ti[" i"] .. {"st_yellow"}
 ti["yw"] = ti[" w"] .. {"it_yinyang"}
 ti["#w"] = ti["yw"] .. {"#ac_marble_black"}
-ti["0~"] = ti[" ~"] .. {"st-coffee"}
+ti["0~"] = ti[" ~"] .. {"st_magic_oxydc"}
 ti["H'"] = ti[" '"] .. {"st_passage_black_square"}
 ti["B!"] = ti[" !"] .. {"st_passage_black_frame"}
 ti["B&"] = ti[" &"] .. {"st_passage_black_frame"}
@@ -60,7 +60,7 @@
 ti["dd"] = ti[" ~"] .. {"it_death"}
 ti["Tw"] = ti["dd"] .. {"st_disco_medium"}
 ti["Td"] = ti[" r"] .. {"st_disco_medium"}
-ti["TT"] = ti[" ="] .. {"st-thief"}
+ti["TT"] = ti[" ="] .. {"st_thief"}
 ti["y~"] = ti[" ~"] .. {"it_yinyang"}
 ti["Y~"] = ti[" ~"] .. {"st_blur_cross"}
 ti["Y&"] = ti[" &"] .. {"st_blur_cross"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 147 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 148 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -52,7 +52,7 @@
 ti["OE"] = {"st_oxyd_d"}
 ti[":;"] = {"fl_blueslab"}
 ti["=="] = {"fl_wood"}
-ti["tt"] = {"fl-thief"}
+ti["tt"] = {"fl_thief"}
 ti["$$"] = {"fl_yinyang_yang"}
 ti["gs"] = {"fl-gradient", type=1}
 ti["gw"] = {"fl-gradient", type=4}
@@ -234,7 +234,7 @@
 ti["RY"] = ti["::"] .. {"st_rotator_cw", movable=true}
 ti["P#"] = ti[";;"] .. {"st_pull"}
 ti["P_"] = ti["__"] .. {"st_pull"}
-ti["T#"] = ti["  "] .. {"st-thief"}
+ti["T#"] = ti["  "] .. {"st_thief"}
 ti["F,"] = ti[",,"] .. {"st_grate_cross"}
 ti["F:"] = ti["::"] .. {"st_grate_cross"}
 ti["F'"] = ti["''"] .. {"st_grate_cross"}
@@ -242,7 +242,7 @@
 ti["FA"] = ti[".."] .. {"st_quake"}
 ti["S#"] = ti[",,"] .. {"st_scissors"}
 ti["SS"] = {"st_scissors"}
-ti["B#"] = ti[".."] .. {"st-block"}
+ti["B#"] = ti[".."] .. {"st_plop_slate"}
 ti["B,"] = ti[",,"] .. {"st_door_d", "ali_barber", faces="ew"}
 ti["K0"] = ti["  "] .. {"st_key", code=0, target="predecessor"}
 ti["B0"] = ti[",,"] .. {"st_door_d", "predecessor", faces="ew"}
@@ -304,7 +304,7 @@
 ti["P."] = ti["_."] .. {"st_flat_breakable"}
 ti["PC"] = ti[".."] .. {"st_flat_breakable"}
 ti["PB"] = ti[".."] .. {"st_break_bug"}
-ti["TT"] = ti["tt"] .. {"st-thief"}
+ti["TT"] = ti["tt"] .. {"st_thief"}
 ti["D1"] = ti[".."] .. {"st_blocker", "door1#"}
 ti["D2"] = ti[".."] .. {"st_blocker", "door2#"}
 ti["D3"] = ti[".."] .. {"st_blocker", "door3#"}

Modified: trunk/data/levels/enigma_viii/ral30_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-24 23:53:46 UTC (rev 1482)
+++ trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-25 00:48:29 UTC (rev 1483)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Scarlet's Necklace" el:subtitle="Who did broke the pearl necklace?" el:id="20080814ral422"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 131 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 132 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 ti["="] = {"fl_bridge_bw", "bridge#"}
 ti["x"] = {"it_shogun_s", "x%%"}
 
-ti["A"] = {"st-block", "pearl#"}
+ti["A"] = {"st_plop_slate", "pearl#"}
 ti["B"] = {"st_brownie", "pearl#"}
 ti["C"] = {"st_redbrown_movable", "pearl#"}
 ti["D"] = {"st_granite_movable", "pearl#"}



From ral at mail.berlios.de  Sun Jan 25 19:17:11 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 25 Jan 2009 19:17:11 +0100
Subject: [Enigma-game-svn] r1484 - in trunk: data src
Message-ID: <200901251817.n0PIHBEA026559@sheep.berlios.de>

Author: ral
Date: 2009-01-25 19:17:10 +0100 (Sun, 25 Jan 2009)
New Revision: 1484

Modified:
   trunk/data/api1init.lua
   trunk/src/Value.cc
Log:
Trunk 1.1: new API reengineering
- fix r1479: missing case clause for destinations given by position values

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-25 00:48:29 UTC (rev 1483)
+++ trunk/data/api1init.lua	2009-01-25 18:17:10 UTC (rev 1484)
@@ -771,18 +771,18 @@
      if key == "targetx" then
          local d = enigma._GetAttrib(obj, "destination")
          if (en.usertype(d) == "position") then
-             _val = po(val + 0, d.y)
+             _val = po(0 + val, d.y)
          else
-             _val = po(val + 0, 0)
+             _val = po(0 + val, 0)
          end
          _key = "destination"
      end
      if key == "targety" then
          local d = enigma._GetAttrib(obj, "destination")
          if (en.usertype(d) == "position") then
-             _val = po(d.x, val + 0)
+             _val = po(d.x, 0 + val)
          else
-             _val = po(0, val + 0)
+             _val = po(0, 0 + val)
          end
          _key = "destination"
      end

Modified: trunk/src/Value.cc
===================================================================
--- trunk/src/Value.cc	2009-01-25 00:48:29 UTC (rev 1483)
+++ trunk/src/Value.cc	2009-01-25 18:17:10 UTC (rev 1484)
@@ -504,12 +504,11 @@
                     result = GetNamedPositionList(val.str, reference);
                     break;
                 }
-                // else it is a single object name - fall through not possible
-                
-                
-                
+                // else fall through
             case NAMEDOBJECT:
             case OBJECT:
+            case POSITION:
+            case GRIDPOS:
                 result.push_back(*this);
                 break;
             case GROUP:



From ral at mail.berlios.de  Sun Jan 25 22:58:45 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 25 Jan 2009 22:58:45 +0100
Subject: [Enigma-game-svn] r1485 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/items
Message-ID: <200901252158.n0PLwjcZ025056@sheep.berlios.de>

Author: ral
Date: 2009-01-25 22:58:42 +0100 (Sun, 25 Jan 2009)
New Revision: 1485

Added:
   trunk/data/gfx32/it_document.png
   trunk/data/gfx32/it_pencil.png
   trunk/data/gfx32/it_puller.png
   trunk/data/gfx40/it_document.png
   trunk/data/gfx40/it_pencil.png
   trunk/data/gfx40/it_puller.png
   trunk/data/gfx48/it_document.png
   trunk/data/gfx48/it_pencil.png
   trunk/data/gfx48/it_puller.png
   trunk/src/items/CrossItem.cc
   trunk/src/items/CrossItem.hh
   trunk/src/items/DocumentItem.cc
   trunk/src/items/DocumentItem.hh
   trunk/src/items/Landmine.cc
   trunk/src/items/Landmine.hh
   trunk/src/items/PullerItem.cc
   trunk/src/items/PullerItem.hh
   trunk/src/items/TrapItem.cc
   trunk/src/items/TrapItem.hh
Removed:
   trunk/data/gfx32/it-document.png
   trunk/data/gfx32/it-pencil.png
   trunk/data/gfx32/it-puller.png
   trunk/data/gfx40/it-document.png
   trunk/data/gfx40/it-pencil.png
   trunk/data/gfx40/it-puller.png
   trunk/data/gfx48/it-document.png
   trunk/data/gfx48/it-pencil.png
   trunk/data/gfx48/it-puller.png
Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/items.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/ox_magnum.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/oxyd.cc
Log:
Trunk 1.1: new API reengineering
- reenigineering document item:
  - renaming it-document -> it_document
- reengineering pencil:
  - renaming it-pencil -> it_pencil
  - no more marking on floor bridges
  - pencil transfers identity on floor marking to the resulting cross
- reengineering puller item - renaming:
  - it-puller-w -> it_puller_w
  - it-puller-s -> it_puller_s
  - it-puller-e -> it_puller_e
  - it-puller-n -> it_puller_n
- some code cleanup

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/data/api1init.lua	2009-01-25 21:58:42 UTC (rev 1485)
@@ -145,6 +145,7 @@
     it_crack_m = "it-crack2",
     it_crack_l = "it-crack3",
     it_cross = "it-cross",
+    it_document = "it-document",
     it_extralife = "it-extralife",
     it_death = "it-death",
     it_floppy = "it-floppy",
@@ -160,6 +161,7 @@
     it_meditation_dent = "it-tinyhollow",
     it_meditation_bump = "it-tinyhill",
     it_meditation_hill = "it-hill",
+    it_pencil = "it-pencil",
     it_pipe_w = "it-pipe-w",
     it_pipe_s = "it-pipe-s",
     it_pipe_sw = "it-pipe-sw",
@@ -170,6 +172,10 @@
     it_pipe_nw = "it-pipe-wn",
     it_pipe_ns = "it-pipe-v",
     it_pipe_ne = "it-pipe-ne",
+    it_puller_w = "it-puller-w",
+    it_puller_s = "it-puller-s",
+    it_puller_e = "it-puller-e",
+    it_puller_n = "it-puller-n",
     it_ring = "it-ring",
     it_rubberband = "it-rubberband",
     it_seed = "it-seed",

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/data/api2init.lua	2009-01-25 21:58:42 UTC (rev 1485)
@@ -519,7 +519,7 @@
         if tile == nil then
             tile = subtile
         else
-            tile = tile .. subtile
+            tile = subtile .. tile
         end
         if #key == 3 then
             subkey = string.sub(key, 1, i-1) .. " " .. string.sub(key, i+1)

Deleted: trunk/data/gfx32/it-document.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-pencil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-puller.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_document.png (from rev 1483, trunk/data/gfx32/it-document.png)

Copied: trunk/data/gfx32/it_pencil.png (from rev 1483, trunk/data/gfx32/it-pencil.png)

Copied: trunk/data/gfx32/it_puller.png (from rev 1483, trunk/data/gfx32/it-puller.png)

Deleted: trunk/data/gfx40/it-document.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-pencil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-puller.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_document.png (from rev 1483, trunk/data/gfx40/it-document.png)

Copied: trunk/data/gfx40/it_pencil.png (from rev 1483, trunk/data/gfx40/it-pencil.png)

Copied: trunk/data/gfx40/it_puller.png (from rev 1483, trunk/data/gfx40/it-puller.png)

Deleted: trunk/data/gfx48/it-document.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-pencil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-puller.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_document.png (from rev 1483, trunk/data/gfx48/it-document.png)

Copied: trunk/data/gfx48/it_pencil.png (from rev 1483, trunk/data/gfx48/it-pencil.png)

Copied: trunk/data/gfx48/it_puller.png (from rev 1483, trunk/data/gfx48/it-puller.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/data/models-2d.lua	2009-01-25 21:58:42 UTC (rev 1485)
@@ -455,13 +455,13 @@
         "it-blocker",
         "it-booze",
         "it-booze-broken",
-        "it-document",
+        "it_document",
         "it-drop",
         "it-dynamite",
         "it-flagblack",
         "it-flagwhite",
         "it-odometer",
-        "it-pencil",
+        "it_pencil",
         "it-pin",
         "it_ring",
         "it_spade",
@@ -645,10 +645,10 @@
 
 -- it-puller --
 do
-    local images = {"it-puller-n", "it-puller-e", "it-puller-s", "it-puller-w"}
-    DefTiles("it-puller", images)
+    local images = {"it_puller_n", "it_puller_e", "it_puller_s", "it_puller_w"}
+    DefTiles("it_puller", images)
     local frames = BuildFrames(images, 100)
-    DefAnim("it-puller-active", RepeatAnim(frames, 4), false)
+    DefAnim("it_puller_active", RepeatAnim(frames, 4), false)
 end
 
 -- it-seed --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/data/schemas/objects.xml	2009-01-25 21:58:42 UTC (rev 1485)
@@ -79,6 +79,7 @@
     <attr name="steady" type="bool" default="false" rw="rw"/>
     <attr name="strength" type="double" default="1" rw="rw"/>
     <attr name="target" type="tokens" default="nil" rw="rw"/>
+    <attr name="text" type="string" default="nil" rw="rw"/>
     <attr name="transparent" type="bool" default="false" rw="rw"/>
     <attr name="threshold" type="double" default="0" rw="rw"/>
     <attr name="velocity_x" type="double" default="nil" rw="rw"/>
@@ -420,6 +421,9 @@
       <msg name="signal"/>
     </object>
     <object name="it_death"/>
+    <object name="it_document">
+      <attr name="text"/>
+    </object>
     <object name="it_extralife"/>
     <object name="it_extralife_new" init="true"/>
     <object name="it_floppy"/>
@@ -476,6 +480,7 @@
     <object name="it_meditation_volcano">
       <attr name="state" value="3"/>
     </object>
+    <object name="it_pencil"/>
     <object name="it_pipe">
       <attr name="connections"/>
       <msg name="_explosion"/>
@@ -510,6 +515,21 @@
     <object name="it_pipe_ne">
       <attr name="connections" value="ne"/>
     </object>
+    <object name="it_puller">
+      <attr name="orientation"/>
+    </object>
+    <object name="it_puller_w">
+      <attr name="orientation" value="0"/>
+    </object>
+    <object name="it_puller_s">
+      <attr name="orientation" value="1"/>
+    </object>
+    <object name="it_puller_e">
+      <attr name="orientation" value="2"/>
+    </object>
+    <object name="it_puller_n">
+      <attr name="orientation" value="3"/>
+    </object>
     <object name="it_rubberband">
       <attr name="anchor2"/>
       <attr name="strength" default="10"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/Makefile.am	2009-01-25 21:58:42 UTC (rev 1485)
@@ -210,18 +210,26 @@
 	items/Coin.hh		\
 	items/Crack.cc		\
 	items/Crack.hh		\
+	items/CrossItem.cc	\
+	items/CrossItem.hh	\
+	items/DocumentItem.cc	\
+	items/DocumentItem.hh	\
 	items/ExtraLife.cc	\
 	items/ExtraLife.hh	\
 	items/GlassesItem.cc	\
 	items/GlassesItem.hh	\
 	items/Hammer.cc		\
 	items/Hammer.hh		\
+	items/Landmine.cc	\
+	items/Landmine.hh	\
 	items/Magnet.cc		\
 	items/Magnet.hh		\
 	items/Meditation.cc	\
 	items/Meditation.hh	\
 	items/PipeItem.cc	\
 	items/PipeItem.hh	\
+	items/PullerItem.cc	\
+	items/PullerItem.hh	\
 	items/RubberbandItem.cc	\
 	items/RubberbandItem.hh	\
 	items/SeedItem.cc	\
@@ -236,6 +244,8 @@
 	items/StripItem.hh	\
 	items/Sword.cc		\
 	items/Sword.hh		\
+	items/TrapItem.cc	\
+	items/TrapItem.hh	\
 	items/Trigger.cc	\
 	items/Trigger.hh	\
 	items/Umbrella.cc	\

Added: trunk/src/items/CrossItem.cc
===================================================================
--- trunk/src/items/CrossItem.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/CrossItem.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,79 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/CrossItem.hh"
+//#include "errors.hh"
+//#include "main.hh"
+//#include "player.hh"
+#include "server.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    CrossItem::~CrossItem() {
+        GameTimer.remove_alarm(this);
+    }
+    
+    Value CrossItem::message(const Message &m) {
+        if (server::GameCompatibility == enigma::GAMET_PEROXYD) {
+            // CrossItemes can be used to invert signals in Per.Oxyd
+            if (m.message == "signal") {
+                performAction(!m.value.to_bool()); // convert 1/0 values to true/false
+                return Value();
+            }
+        } else if (enigma_server::GameCompatibility == GAMET_ENIGMA) {
+            if (m.message == "_brush") {
+                KillItem(this->get_pos());
+                return Value();
+            }
+        }
+        return Item::message(m);
+    }
+    
+    void CrossItem::setState(int extState) {
+        return;   // ignore any write attempts
+    }
+
+    void CrossItem::actor_enter(Actor *a) {
+        if ((state == 0) && a->getAttr("owner")) {
+            state = 1;
+            GameTimer.set_alarm (this, getAttr("interval"));
+        }
+    }
+
+    void CrossItem::actor_leave(Actor *) {
+        if (state == 1) {
+            GameTimer.remove_alarm (this);
+            state = 0;
+        }
+    }
+
+    void CrossItem::alarm() {
+        state = 0;
+        performAction(true);
+    }
+    
+    DEF_ITEMTRAITSF(CrossItem, "it_cross", it_cross, itf_static);
+
+    BOOT_REGISTER_START
+        BootRegister(new CrossItem(), "it_cross");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/CrossItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/CrossItem.hh
===================================================================
--- trunk/src/items/CrossItem.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/CrossItem.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,52 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef CROSSITEM_HH
+#define CROSSITEM_HH
+
+#include "items.hh"
+
+#include "util.hh"
+
+namespace enigma {
+    /**
+     */
+    class CrossItem : public Item, public TimeHandler {
+        CLONEOBJ(CrossItem);
+        DECL_ITEMTRAITS;
+
+    public:
+        virtual ~CrossItem();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+        
+        // Item interface
+        virtual void actor_enter(Actor *a);
+        virtual void actor_leave(Actor *a);
+
+        // TimeHandler interface
+        virtual void alarm();
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/CrossItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/DocumentItem.cc
===================================================================
--- trunk/src/items/DocumentItem.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/DocumentItem.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,71 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/DocumentItem.hh"
+#include "client.hh"
+//#include "errors.hh"
+//#include "main.hh"
+//#include "player.hh"
+#include "lev/Proxy.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    DocumentItem::DocumentItem() : Item() {
+    }
+    
+    Value DocumentItem::message(const Message &m) {
+        bool explode = false;
+
+        if (m.message == "ignite") {
+            // dynamite does not blow up Documents in Oxyd1
+            explode = server::GameCompatibility != GAMET_OXYD1;
+        } else if (m.message == "_explosion" || m.message == "_bombstone") {
+            explode = true;
+        } else {
+            return Item::message(m);
+        }
+
+        if (explode)
+            replace("it-explosion1");
+        return Value();
+    }
+    
+    ItemAction DocumentItem::activate(Actor *a, GridPos) {
+        if (Value v = getAttr("text")) {
+            std::string txt(v);
+            lev::Proxy *level = lev::Proxy::loadedLevel();
+            // after complete switch to Proxy as levelloader the following
+            // conditional can be abolished
+            if (level)
+                // translate text
+                txt = level->getLocalizedString(txt);
+            client::Msg_ShowText(txt, true);
+        }
+        return ITEM_KILL;          // remove from inventory
+    }
+
+    DEF_ITEMTRAITSF(DocumentItem, "it_document", it_document, itf_inflammable);
+
+    BOOT_REGISTER_START
+        BootRegister(new DocumentItem(), "it_document");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/DocumentItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/DocumentItem.hh
===================================================================
--- trunk/src/items/DocumentItem.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/DocumentItem.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,43 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef DOCUMENTITEM_HH
+#define DOCUMENTITEM_HH
+
+#include "items.hh"
+
+namespace enigma {
+    /**
+     */
+    class DocumentItem : public Item {
+        CLONEOBJ(DocumentItem);
+        DECL_ITEMTRAITS;
+
+    public:
+        DocumentItem();
+
+        // Object interface
+        virtual Value message(const Message &m);
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/DocumentItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/Landmine.cc
===================================================================
--- trunk/src/items/Landmine.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/Landmine.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,58 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/Landmine.hh"
+//#include "errors.hh"
+//#include "main.hh"
+//#include "player.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    Landmine::Landmine() {
+    }
+    
+    bool Landmine::actor_hit (Actor *a) {
+        const double ITEM_RADIUS = 0.3;
+        if (!a->is_flying()) {
+            double dist = length(a->get_pos() - get_pos().center());
+            if (dist < ITEM_RADIUS)
+                explode();
+        }
+        return false;
+    }
+    
+    void Landmine::on_stonehit(Stone *st) { 
+        explode();
+    }
+    
+    void Landmine::explode() {
+        sound_event ("landmine");
+        replace("it-explosion2");
+    }
+
+    DEF_ITEMTRAITSF(Landmine, "it_landmine", it_landmine, itf_static);
+        
+
+    BOOT_REGISTER_START
+        BootRegister(new Landmine(), "it_landmine");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/Landmine.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/Landmine.hh
===================================================================
--- trunk/src/items/Landmine.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/Landmine.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,44 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef LANDMINEITEM_HH
+#define LANDMINEITEM_HH
+
+#include "items.hh"
+
+namespace enigma {
+    /**
+     */
+    class Landmine : public Item {
+        CLONEOBJ(Landmine);
+        DECL_ITEMTRAITS;
+
+    public:
+        Landmine();
+
+        // Item interface
+        virtual bool actor_hit(Actor *a);
+        virtual void on_stonehit(Stone *st);
+    
+    private:
+        void explode();
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/Landmine.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/PullerItem.cc
===================================================================
--- trunk/src/items/PullerItem.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/PullerItem.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,100 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/PullerItem.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    PullerItem::PullerItem(int dir) {
+        objFlags |= (dir << 24);
+    }
+    
+    std::string PullerItem::getClass() const {
+        return "it_puller";
+    }
+    
+    void PullerItem::setAttr(const string& key, const Value &val) {
+        if (key == "orientation") {
+            objFlags = (objFlags & ~OBJBIT_ORIENTATION) | ((int)(val) >> 24);
+        }
+        Item::setAttr(key, val);
+    }
+
+    Value PullerItem::getAttr(const std::string &key) const {
+        if (key == "orientation") {
+            return orientation();
+        }
+        return Item::getAttr(key);
+    }
+    
+    void PullerItem::animcb() {
+        Direction dir = (Direction)orientation();
+        
+        // usage within a st-window
+        Stone *stone = GetStone(get_pos());
+        if (stone && (stone->getClass() == "st_window") &&
+                to_bool(SendMessage(stone, "inner_pull", dir))) {
+        }
+        
+        // usage in front of a stone
+        else {
+            GridPos stonepos = move(get_pos(), reverse(dir));
+            send_impulse(stonepos, dir);
+        }
+        
+        sound_event ("dynamite");
+        replace("it-explosion1");
+    }
+    
+    bool PullerItem::isStatic() const {
+        return state == ACTIVE;  // active puller is static
+    }
+
+    void PullerItem::on_drop(Actor *) {
+        // the puller needs to be dropped first before we can activate it
+        state = ACTIVE;
+        set_anim("it_puller_active");
+        sound_event("puller");
+    }
+    
+    int PullerItem::orientation() const {
+        return (objFlags & OBJBIT_ORIENTATION) >> 24;
+    }
+
+    ItemTraits PullerItem::traits[4] = {
+        { "it_puller_w", it_puller_w, itf_none, 0.0 },
+        { "it_puller_s", it_puller_s, itf_none, 0.0 },
+        { "it_puller_e", it_puller_e, itf_none, 0.0 },
+        { "it_puller_n", it_puller_n, itf_none, 0.0 },
+    };
+        
+
+    BOOT_REGISTER_START
+        BootRegister(new PullerItem(0), "it_puller");
+        BootRegister(new PullerItem(0), "it_puller_w");
+        BootRegister(new PullerItem(1), "it_puller_s");
+        BootRegister(new PullerItem(2), "it_puller_e");
+        BootRegister(new PullerItem(3), "it_puller_n");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/PullerItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/PullerItem.hh
===================================================================
--- trunk/src/items/PullerItem.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/PullerItem.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,61 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef PULLERITEM_HH
+#define PULLERITEM_HH
+
+#include "items.hh"
+
+namespace enigma {
+    /**
+     */
+    class PullerItem : public Item {
+        CLONEOBJ(PullerItem);
+        DECL_ITEMTRAITS_ARRAY(4, orientation());
+
+    private:
+        enum iState {
+            IDLE, 
+            ACTIVE 
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_ORIENTATION =   3<<24,    ///<
+        };
+         
+    public:
+        PullerItem(int dir);
+
+        // Object interface
+        virtual std::string getClass() const;
+        virtual void setAttr(const string& key, const Value &val);
+        virtual Value getAttr(const std::string &key) const;
+
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Item interface
+        virtual bool isStatic() const;
+        virtual void on_drop(Actor *a);
+    
+    private:
+        int orientation() const;
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/PullerItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/SimpleItems.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -97,12 +97,50 @@
     
     DEF_ITEMTRAITSF(DeathItem, "it_death", it_death, itf_static | itf_indestructible);
 
+/* -------------------- Pencil -------------------- */
+
+    Pencil::Pencil() {
+    }
+    
+    ItemAction Pencil::activate(Actor *a, GridPos p) {
+        if (enigma_server::GameCompatibility == GAMET_ENIGMA) {
+            if (Item *it=GetItem(p)) {
+                return ITEM_KEEP;
+            }
+            // If the actor is flying and tries to make a cross, drop the it-pencil
+            if (a->is_flying()) {
+                return ITEM_DROP;
+            }
+
+            Floor *fl = GetFloor(p);
+            std::string floor = fl->getClass();
+
+            /* do not allow markings on this floortypes:
+               fl_abyss, fl_water, fl_swamp
+               fl-bridge[{-closed,-open}]?
+               markings on fl_ice will result as it-crack1
+            */
+            if (floor == "fl_abyss" || floor == "fl_water" || floor == "fl_swamp" || floor == "fl_bridge" ) {
+                return ITEM_KEEP;
+            } else if (floor == "fl_ice") {
+                SetItem(p, MakeItem("it_crack_s"));
+            } else {
+                Item *newItem = MakeItem("it_cross");
+                transferIdentity(newItem);
+                SetItem(p, newItem);
+            }
+            return ITEM_KILL;
+        }
+    }
+    
+    DEF_ITEMTRAITS(Pencil, "it_pencil", it_pencil);
+    
 /* -------------------- Ring -------------------- */
 
     Ring::Ring() {
     }
     
-    ItemAction Ring::activate(Actor *a, GridPos) {
+    ItemAction Ring::activate(Actor *a, GridPos p) {
         if (ExchangeMarbles(a)) {
             sound_event("switchmarbles");
         }
@@ -189,6 +227,7 @@
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");
+        BootRegister(new Pencil(), "it_pencil");
         BootRegister(new Ring(), "it_ring");
         BootRegister(new Spade(), "it_spade");
         BootRegister(new Spoon(), "it_spoon");

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/SimpleItems.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -111,6 +111,21 @@
     DEF_ITEM(Key, "it_key", it_key);
 
     /**
+     * Pencil
+     */
+    class Pencil : public Item {
+        CLONEOBJ(Pencil);
+        DECL_ITEMTRAITS;
+
+    public:
+        Pencil();
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+
+
+    /**
      * Ring
      */
     class Ring : public Item {

Added: trunk/src/items/TrapItem.cc
===================================================================
--- trunk/src/items/TrapItem.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/TrapItem.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,77 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/TrapItem.hh"
+//#include "errors.hh"
+//#include "main.hh"
+//#include "player.hh"
+#include "items/GlassesItem.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    TrapItem::TrapItem() {
+    }
+    
+    Value TrapItem::message(const Message &m) {
+        if (m.message == "_glasses") {
+            if (isDisplayable())
+                init_model();            
+        }
+        return Item::message(m);
+    }
+    
+    void TrapItem::setState(int extState) {
+        if (state == 0) {       // no toggle back of a broken (open) trap
+            state == extState;
+            init_model();
+        }
+    }
+    
+    void TrapItem::init_model() {
+        if (state == 0 && ((server::GlassesVisibility & Glasses::TRAP) == 0))
+            set_model("invisible");
+        else
+            set_model("it_trap");
+        
+    }
+    
+    void TrapItem::animcb() {
+        init_model();
+    }
+    
+    bool TrapItem::actor_hit(Actor *a) {
+        if (!a->is_flying()) {
+            SendMessage(a, "_fall");
+            if (state == 0) {
+                state = 1;
+                set_anim("it_trap_breaking");
+            }
+        }
+        return false;
+    }
+        
+    DEF_ITEMTRAITSF(TrapItem, "it_trap", it_trap, itf_static | itf_fireproof);
+
+    BOOT_REGISTER_START
+        BootRegister(new TrapItem(), "it_trap");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/TrapItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/TrapItem.hh
===================================================================
--- trunk/src/items/TrapItem.hh	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items/TrapItem.hh	2009-01-25 21:58:42 UTC (rev 1485)
@@ -0,0 +1,52 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef TRAPITEM_HH
+#define TRAPITEM_HH
+
+#include "items.hh"
+
+namespace enigma {
+    /**
+     */
+    class TrapItem : public Item {
+        CLONEOBJ(TrapItem);
+        DECL_ITEMTRAITS;
+    
+    public:
+        TrapItem();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+        
+        // GridObject interface
+        virtual void init_model();
+
+        // ModelCallback interface
+        virtual void animcb();
+
+        // Item interface
+        virtual bool actor_hit(Actor *a);        
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/TrapItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/items.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -419,54 +419,6 @@
 }
 
 
-
-
-/* -------------------- Document -------------------- */
-namespace
-{
-    class Document : public Item {
-        CLONEOBJ(Document);
-        DECL_ITEMTRAITS;
-
-        ItemAction activate(Actor *, GridPos)
-        {
-            if (Value v = getAttr("text")) {
-                std::string txt(v);
-                lev::Proxy *level = lev::Proxy::loadedLevel();
-                // after complete switch to Proxy as levelloader the following
-                // conditional can be abolished
-                if (level)
-                    // translate text
-                    txt = level->getLocalizedString(txt);
-                client::Msg_ShowText (txt, true);
-            }
-            return ITEM_KILL;	       // remove from inventory
-        }
-        virtual Value message(const Message &m) {
-            bool explode = false;
-
-            if (m.message == "ignite") {
-                // dynamite does not blow up Documents in Oxyd1
-                explode = server::GameCompatibility != GAMET_OXYD1;
-            } else if (m.message == "_explosion" || m.message == "_bombstone") {
-                explode = true;
-            } else {
-                return Item::message(m);
-            }
-
-            if (explode)
-                replace("it-explosion1");
-            return Value();
-        }
-    public:
-        Document() {
-            setAttr("text", "");
-        }
-    };
-    DEF_ITEMTRAITSF(Document, "it-document", it_document, itf_inflammable);
-}
-
-
 /* -------------------- Dynamite -------------------- */
 namespace
 {
@@ -677,71 +629,6 @@
                 itf_static | itf_indestructible | itf_fireproof);
 }
 
-/* -------------------- Pullers -------------------- */
-namespace
-{
-    class Puller : public Item {
-        CLONEOBJ (Puller);
-        DECL_ITEMTRAITS_ARRAY(4, get_orientation());
-
-        bool active;
-        Direction m_direction;
-
-        void on_drop(Actor *) { activate(); }
-
-        void activate() {
-            active=true;
-            set_anim("it-puller-active");
-            sound_event ("puller");
-        }
-        void animcb() {
-            Direction dir = get_orientation();
-            
-            // usage within a st-window
-            Stone *stone = GetStone(get_pos());
-            if (stone && (stone->get_traits().id == st_window) &&
-                    to_bool(SendMessage(stone, "inner_pull", dir))) {
-            }
-            
-            // usage in front of a stone
-            else {
-                GridPos   stonepos = move(get_pos(), reverse(dir));
-                send_impulse(stonepos, dir);
-            }
-            
-            sound_event ("dynamite");
-            replace("it-explosion1");
-        }
-
-	Direction get_orientation() const {
-	    return m_direction;
-	}
-
-        Puller(Direction dir)
-        : active(false), m_direction(dir)
-	{ }
-    
-        virtual bool isStatic() const {
-            return active;  // active puller is static
-        }
-        
-    public:
-        static void setup() {
-            RegisterItem (new Puller(NORTH));
-            RegisterItem (new Puller(EAST));
-            RegisterItem (new Puller(SOUTH));
-            RegisterItem (new Puller(WEST));
-        }
-    };
-
-    ItemTraits Puller::traits[4] = {
-        { "it-puller-w", it_puller_w, itf_none, 0.0 },
-        { "it-puller-s", it_puller_s, itf_none, 0.0 },
-        { "it-puller-e", it_puller_e, itf_none, 0.0 },
-        { "it-puller-n", it_puller_n, itf_none, 0.0 },
-    };
-}
-
 /* -------------------- Debris -------------------- */
 namespace
 {
@@ -1129,184 +1016,6 @@
                 itf_invisible | itf_fireproof);
 }
 
-/* -------------------- Invisible Trap -------------------- */
-    class Trap : public Item {
-        CLONEOBJ(Trap);
-        DECL_ITEMTRAITS;
-    
-    public:
-        Trap();
-        
-        // Object interface
-        virtual Value message(const Message &m);
-        
-        // StateObject interface
-        virtual void setState(int extState);
-        
-        // GridObject interface
-        virtual void init_model();
-
-        // ModelCallback interface
-        virtual void animcb();
-
-        // Item interface
-        virtual bool actor_hit(Actor *a);        
-    };
-    
-    Trap::Trap() {
-    }
-    
-    Value Trap::message(const Message &m) {
-        if (m.message == "_glasses") {
-            if (isDisplayable())
-                init_model();            
-        }
-        return Item::message(m);
-    }
-    
-    void Trap::setState(int extState) {
-        if (state == 0) {       // no toggle back of a broken (open) trap
-            state == extState;
-            init_model();
-        }
-    }
-    
-    void Trap::init_model() {
-        if (state == 0 && ((server::GlassesVisibility & Glasses::TRAP) == 0))
-            set_model("invisible");
-        else
-            set_model("it_trap");
-        
-    }
-    
-    void Trap::animcb() {
-        init_model();
-    }
-    
-    bool Trap::actor_hit(Actor *a) {
-        if (!a->is_flying()) {
-            SendMessage(a, "_fall");
-            if (state == 0) {
-                state = 1;
-                set_anim("it_trap_breaking");
-            }
-        }
-        return false;
-    }
-        
-    DEF_ITEMTRAITSF(Trap, "it_trap", it_trap, itf_static | itf_fireproof);
-
-
-/* -------------------- Landmine -------------------- */
-    class Landmine : public Item {
-        CLONEOBJ(Landmine);
-        DECL_ITEMTRAITS;
-
-    public:
-        Landmine();
-
-        // Item interface
-        virtual bool actor_hit(Actor *a);
-        virtual void on_stonehit(Stone *st);
-    
-    private:
-        void explode();
-    };
-
-    Landmine::Landmine() {
-    }
-    
-    bool Landmine::actor_hit (Actor *a) {
-        const double ITEM_RADIUS = 0.3;
-        if (!a->is_flying()) {
-            double dist = length(a->get_pos() - get_pos().center());
-            if (dist < ITEM_RADIUS)
-                explode();
-        }
-        return false;
-    }
-    
-    void Landmine::on_stonehit(Stone *st) { 
-        explode();
-    }
-    
-	void Landmine::explode() {
-        sound_event ("landmine");
-        replace("it-explosion2");
-	}
-
-    DEF_ITEMTRAITSF(Landmine, "it_landmine", it_landmine, itf_static);
-
-
-/* -------------------- Cross -------------------- */
-    class Cross : public Item, public TimeHandler {
-        CLONEOBJ(Cross);
-        DECL_ITEMTRAITS;
-
-    public:
-        virtual ~Cross();
-        
-        // Object interface
-        virtual Value message(const Message &m);
-        
-        // StateObject interface
-        virtual void setState(int extState);
-        
-        // Item interface
-        virtual void actor_enter(Actor *a);
-        virtual void actor_leave(Actor *a);
-
-        // TimeHandler interface
-        virtual void alarm();
-    };
-        
-    Cross::~Cross() {
-        GameTimer.remove_alarm(this);
-    }
-    
-    Value Cross::message(const Message &m) {
-        if (server::GameCompatibility == enigma::GAMET_PEROXYD) {
-            // Crosses can be used to invert signals in Per.Oxyd
-            if (m.message == "signal") {
-                performAction(!m.value.to_bool()); // convert 1/0 values to true/false
-                return Value();
-            }
-        } else if (enigma_server::GameCompatibility == GAMET_ENIGMA) {
-            if (m.message == "_brush") {
-                KillItem(this->get_pos());
-                return Value();
-            }
-        }
-        return Item::message(m);
-    }
-    
-    void Cross::setState(int extState) {
-        return;   // ignore any write attempts
-    }
-
-    void Cross::actor_enter(Actor *a) {
-        if ((state == 0) && a->getAttr("owner")) {
-            state = 1;
-            GameTimer.set_alarm (this, getAttr("interval"));
-        }
-    }
-
-    void Cross::actor_leave(Actor *) {
-        if (state == 1) {
-            GameTimer.remove_alarm (this);
-            state = 0;
-        }
-    }
-
-    void Cross::alarm() {
-        state = 0;
-        performAction(true);
-    }
-    
-    DEF_ITEMTRAITSF(Cross, "it_cross", it_cross, itf_static);
-
-
-
 /* -------------------- Bag -------------------- */
 namespace
 {
@@ -1410,49 +1119,6 @@
     DEF_ITEMTRAITS(Bag, "it-bag", it_bag);
 }
 
-/* -------------------- pencil -------------------- */
-namespace
-{
-    class Pencil : public Item {
-        CLONEOBJ(Pencil);
-        DECL_ITEMTRAITS;
-
-        ItemAction activate(Actor * a, GridPos p) {
-            if (enigma_server::GameCompatibility == GAMET_ENIGMA) {
-                if (Item *it=GetItem(p)) {
-                    return ITEM_KEEP;
-                }
-                // If the actor is flying and tries to make a cross, drop the it-pencil
-                if (a->is_flying()) {
-                    return ITEM_DROP;
-                }
-
-                Floor *fl = GetFloor(p);
-                string model = fl->get_kind();
-
-                /* do not allow markings on this floortypes:
-                   fl_abyss, fl_water, fl_swamp
-                   fl-bridge[{-closed,-open}]?
-                   markings on fl_ice will result as it-crack1
-                */
-                if (model == "fl_abyss" || model == "fl_water" || model == "fl_swamp") {
-                    return ITEM_KEEP;
-                } else  if (model == "fl_ice") {
-                    SetItem (p, MakeItem("it_crack_s"));
-                } else {
-                    SetItem (p, MakeItem("it_cross"));
-                }
-                return ITEM_KILL;
-            }
-        }
-
-    public:
-        Pencil() {}
-    };
-
-    DEF_ITEMTRAITS(Pencil, "it-pencil", it_pencil);
-}
-
 /* -------------------- it-surprise -------------------- */
 namespace
 {
@@ -1572,9 +1238,7 @@
     RegisterItem (new Booze);
     RegisterItem (new BrokenBooze);
     Burnable::setup();
-    RegisterItem (new Cross);
     RegisterItem (new Debris);
-    RegisterItem (new Document);
     RegisterItem (new Drop);
     RegisterItem (new Dummyitem);
     RegisterItem (new Dynamite);
@@ -1586,15 +1250,11 @@
     Extinguisher::setup();
     RegisterItem (new FlagBlack);
     RegisterItem (new FlagWhite);
-    RegisterItem (new Trap);
-    RegisterItem (new Landmine);
     RegisterItem (new Odometer);
     RegisterItem (new OnePKillStone);
     RegisterItem (new OxydBridge);
     RegisterItem (new OxydBridgeActive);
-    RegisterItem (new Pencil);
     RegisterItem (new Pin);
-    Puller::setup();
     RegisterItem (new Spring1);
     RegisterItem (new Spring2);
     RegisterItem (new Springboard);

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/ox_magnum.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -390,9 +390,9 @@
     UNUSED,        // OxydMagnum item 0x61 (rev. breaking are)
     UNUSED,        // OxydMagnum item 0x62 (player exchange)
     "it_trigger",       // OxydMagnum item 0x63
-    "it-puller-n",      // OxydMagnum item 0x64
-    "it-puller-s",      // OxydMagnum item 0x65
-    "it-puller-w",      // OxydMagnum item 0x66
-    "it-puller-e",      // OxydMagnum item 0x67
+    "it_puller_n",      // OxydMagnum item 0x64
+    "it_puller_s",      // OxydMagnum item 0x65
+    "it_puller_w",      // OxydMagnum item 0x66
+    "it_puller_e",      // OxydMagnum item 0x67
     // codes >= 0x68 are unused
 };

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/ox_peroxyd.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -446,7 +446,7 @@
     "it_trigger",                 // 0x40
     "it_brush",                   // 0x41
     "it_banana",                  // 0x42
-    "it-pencil",                  // 0x43
+    "it_pencil",                  // 0x43
     "it_brake",                   // 0x44
     "it_squashed",                // 0x45
     "it_blocker",                 // 0x46
@@ -454,10 +454,10 @@
     "it_wrench",                  // 0x48
     UNUSED,                  // 0x49
     "it-odometer",                // 0x4a
-    "it-puller-n",                // 0x4b
-    "it-puller-s",                // 0x4c
-    "it-puller-w",                // 0x4d
-    "it-puller-e",                // 0x4e
+    "it_puller_n",                // 0x4b
+    "it_puller_s",                // 0x4c
+    "it_puller_w",                // 0x4d
+    "it_puller_e",                // 0x4e
     UNUSED,                       // 0x4f
     UNUSED,                       // 0x50
     IT_MISSING,                   // 0x51 puller left, active

Modified: trunk/src/oxyd.cc
===================================================================
--- trunk/src/oxyd.cc	2009-01-25 18:17:10 UTC (rev 1484)
+++ trunk/src/oxyd.cc	2009-01-25 21:58:42 UTC (rev 1485)
@@ -376,11 +376,11 @@
     switch (type) {
         case 0x00: break;           // ignore
         case 0x02:                  // note 1
-    	    it = MakeItem("it-document");
+    	    it = MakeItem("it_document");
     	    it->setAttr ("text", convert_encoding(level.getNoteText(0, lang)).c_str());
             break;
         case 0x03:                  // note 2
-            it = MakeItem("it-document");
+            it = MakeItem("it_document");
             it->setAttr ("text", convert_encoding(level.getNoteText(1, lang)).c_str());
             break;
         case 0x14:                  // key a



From ral at mail.berlios.de  Mon Jan 26 22:18:23 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Mon, 26 Jan 2009 22:18:23 +0100
Subject: [Enigma-game-svn] r1486 - team_levelpacks/team_test_new_api
Message-ID: <200901262118.n0QLINfk001800@sheep.berlios.de>

Author: ral
Date: 2009-01-26 22:18:06 +0100 (Mon, 26 Jan 2009)
New Revision: 1486

Modified:
   team_levelpacks/team_test_new_api/ralT014_1.xml
   team_levelpacks/team_test_new_api/ralT025_1.xml
   team_levelpacks/team_test_new_api/ralT031_1.xml
   team_levelpacks/team_test_new_api/ralT042_1.xml
   team_levelpacks/team_test_new_api/ralT049_1.xml
   team_levelpacks/team_test_new_api/ralT054_1.xml
   team_levelpacks/team_test_new_api/ralT055_1.xml
   team_levelpacks/team_test_new_api/ralT075_1.xml
   team_levelpacks/team_test_new_api/raoulT03_1.xml
Log:
Test Level new API:
- updates for trunk r1485
- some level fixes


Modified: team_levelpacks/team_test_new_api/ralT014_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT014_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -35,8 +35,8 @@
 ti["h"] = {"st_chess_black", name="chess#"}
 ti["o"] = {"st_oxyd"}
 ti["B"] = {"it-bag"}
-ti["T"] = {"st-thief"}
-ti["t"] = {"fl-thief"}
+ti["T"] = {"st_thief"}
+ti["t"] = {"fl_thief"}
 ti["1"] = {"it_coffee", "coffee1"}
 ti["2"] = {"it_coffee", "coffee2"}
 ti["3"] = {"it_coffee", "coffee3"}

Modified: team_levelpacks/team_test_new_api/ralT025_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT025_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT025_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -23,16 +23,18 @@
 ti["#"] = {"st-rock1"}
 ti["y"] = {"it_magicwand"}
 
-ti["s"] = {"st_switch", name="swo#", state=1}
-ti["S"] = {"st_switch", name="sw#"}
-ti["T"] = {"st_switch", name="swt#"}
-ti["D"] = {"st-door-v", name="do#"}
+ti["s"] = {"st_switch", name="swo", state=1}
+ti["S"] = {"st_switch", name="sw"}
+ti["1"] = {"st_switch", name="swt1"}
+ti["2"] = {"st_switch", name="swt2"}
+ti["3"] = {"st_switch", name="swt3"}
+ti["4"] = {"st_switch", name="swt4"}
 ti["R"] = {"st_boulder_n", name="boulder"}
 ti["L"] = {"st_laserswitch", target="door1", action="signal"}
 
-ti["f"] = {"st_fourswitch", target="swo#1", action="signal"}
-ti["F"] = {"st_fourswitch", target="sw#1", action="signal", inverse=true}
-ti["g"] = {"st_fourswitch", name="fourstate", target_3="swt#1", target_2="swt#2", target_1="swt#3", target_0="swt#4", action="signal"}
+ti["f"] = {"st_fourswitch", target="swo", action="signal"}
+ti["F"] = {"st_fourswitch", target="sw", action="signal", inverse=true}
+ti["g"] = {"st_fourswitch", name="fourstate", target_3="swt1", target_2="swt2", target_1="swt3", target_0="swt4", action="signal"}
 ti["G"] = {"st_fourswitch", target="boulder", action="orientate"}
 
 ti["h"] = {"st_fourswitch", name="f#"}
@@ -50,17 +52,17 @@
 ti["H"] = {"st_fourswitch", counterclock=true, name="anticlock"}
 
 
-ti["1"] = {"#ac_marble"}
+ti["@"] = {"#ac_marble"}
 
 w, h = wo(ti, " ", {
 "            f  s    ",
 "            F  S    ",
-"        t   g  T    ",
-"H       t      T    ",
-"        t      T    ",
-"        t      T    ",
+"        t   g  1    ",
+"H       t      2    ",
+"        t      3    ",
+"        t      4    ",
 "            G  R    ",
-"        1           ",
+"        @           ",
 "        y           ",
 "h u                 ",
 "h U                 ",

Modified: team_levelpacks/team_test_new_api/ralT031_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT031_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -48,7 +48,7 @@
 
 
 ti["W"] = ti[" "] .. {"st_box"}
-ti["U"] = ti[" "] .. {"st-block"}
+ti["U"] = ti[" "] .. {"st_plop"}
 ti["V"] = ti[" "] .. {"st_brownie"}
 ti["u"] = ti[" "] .. {"it-spring1"}
 ti["v"] = ti[" "] .. {"st_brake"}

Modified: team_levelpacks/team_test_new_api/ralT042_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT042_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT042_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -46,7 +46,7 @@
 ti["h"] = {"it_hammer"}
 ti["m"] = {"it_magicwand"}
 ti["b"] = {"it_brush"}
-ti["p"] = {"it-pencil"}
+ti["p"] = {"it_pencil"}
 
 ti["B"] = {"st_boulder_s"}
 

Modified: team_levelpacks/team_test_new_api/ralT049_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT049_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -44,8 +44,8 @@
 ti["x"] = {"it_glasses", "myglasses"}
 ti["X"] = {"st_switch", target="breakglasses"}
 
-ti["T"] = {"st-thief"}
-ti["t"] = {"fl-thief"}
+ti["T"] = {"st_thief"}
+ti["t"] = {"fl_thief"}
 
 ti["b"] = {"it-bag"}
 ti["y"] = {"it_yinyang"}

Modified: team_levelpacks/team_test_new_api/ralT054_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT054_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -22,7 +22,7 @@
 ti["+"] = {"st_granite", "rock"}
 ti["~"] = {"fl_water"}
 
-ti["p"] = {"it-puller-w"}
+ti["p"] = {"it_puller_w"}
 ti["m"] = {"it_magicwand"}
 ti["t"] = {"it_wrench"}
 

Modified: team_levelpacks/team_test_new_api/ralT055_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT055_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -27,7 +27,7 @@
 ti["w"] = {"st_box_wood"}
 ti["h"] = {"st_box_hay"}
 ti["r"] = {"st_box_rock"}
-ti["b"] = {"st-block"}
+ti["b"] = {"st_plop"}
 ti["f"] = {"st_flat_moveburnable"}
 ti["p"] = {"st_flat_movable"}
 
@@ -36,7 +36,7 @@
 ti["W"] = ti["~"] .. {"st_box_wood"}
 ti["H"] = ti["~"] .. {"st_box_hay"}
 ti["R"] = ti["~"] .. {"st_box_rock"}
-ti["B"] = ti["~"] .. {"st-block"}
+ti["B"] = ti["~"] .. {"st_plop_slate"}
 ti["F"] = ti["~"] .. {"st_flat_moveburnable"}
 ti["P"] = ti["~"] .. {"st_flat_movable"}
 

Modified: team_levelpacks/team_test_new_api/ralT075_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -38,24 +38,41 @@
 ti["N"] = {"st_polarswitch", state=OFF}
 ti["B"] = {"st_boulder_w"}
 
+ti["M"] = {"st_magic_brick"}
+ti["L"] = {"st_magic_oxydc"}
+ti["K"] = {"st_magic_oxyda"}
+ti["m"] = {"it_magicwand"}
+ti["f"] = {"it_brush"}
 
+ti["s"] = {"it_pencil", "pen"}
+ti["*"] = {"it_wormhole", destination="pen"}
+
+ti["5"] = {"it_puller_w"}
+ti["6"] = {"it_puller_s"}
+ti["7"] = {"it_puller_e"}
+ti["8"] = {"it_puller_n"}
+
+ti["E"] = {"st_ghost_purplemarble"}
+ti["F"] = {"st_ghost_greenbrown"}
+ti["G"] = {"st_ghost_break"}
+
 ti["@"] = {"#ac_marble"} .. ti{"it_hammer"}
 ti["1"] = {"#ac_marble_white"} .. ti{"it_hammer"}
 ti["2"] = {"#ac_bug"}
 
 wo(ti, " ", {
    "####################",
-   "#                  #",
+   "#                 s#",
    "#   -    :     ~   #",
    "#                  #",
-   "#                  #",
-   "#                  #",
-   "#       @          #",
-   "#                  #",
-   "#                  #",
-   "#                  #",
-   "#OOO    #    .     #",
-   "#####              #",
+   "# E f              #",
+   "#             m    #",
+   "# F     @     M   5#",
+   "#                 6#",
+   "# G           L   7",
+   "#                 8#",
+   "#OOO    #     K    #",
+   "#####             *#",
    "########## #########",
    "#                  #",
    "# 1             2  #",
@@ -71,7 +88,7 @@
    "####################",
 })
 
-
+wo:add(YIN, ti["f"] .. ti["5"] .. {"it_banana"} .. ti["m"])
   ]]></el:luamain>
     <el:i18n>
 	 <el:string el:key="title">

Modified: team_levelpacks/team_test_new_api/raoulT03_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-25 21:58:42 UTC (rev 1485)
+++ team_levelpacks/team_test_new_api/raoulT03_1.xml	2009-01-26 21:18:06 UTC (rev 1486)
@@ -57,8 +57,8 @@
 ti[":"] = {"it-dynamite"}
 ti["I"] = {"st_stoneimpulse"}
 ti["&"] = {"st-bombs"}
-ti["W"] = {"it-puller-w"}
-ti["E"] = {"it-puller-e"}
+ti["W"] = {"it_puller_w"}
+ti["E"] = {"it_puller_e"}
 ti["F"] = {"st_fourswitch", target="pullwindow", action="inner_pull"}
 ti["G"] = {"st_window", faces="ws", "pullwindow"}
 ti["L"] = {"st_laser_w", "laser"}



From ral at mail.berlios.de  Tue Jan 27 00:20:55 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 27 Jan 2009 00:20:55 +0100
Subject: [Enigma-game-svn] r1487 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/floors src/items src/stones
Message-ID: <200901262320.n0QNKtEa018436@sheep.berlios.de>

Author: ral
Date: 2009-01-27 00:20:47 +0100 (Tue, 27 Jan 2009)
New Revision: 1487

Added:
   trunk/data/gfx32/it_bag.png
   trunk/data/gfx32/st_dongle.png
   trunk/data/gfx40/it_bag.png
   trunk/data/gfx40/st_dongle.png
   trunk/data/gfx48/it_bag.png
   trunk/data/gfx48/st_dongle.png
   trunk/src/items/BagItem.cc
   trunk/src/items/BagItem.hh
Removed:
   trunk/data/gfx32/it-bag.png
   trunk/data/gfx32/st-magic.png
   trunk/data/gfx40/it-bag.png
   trunk/data/gfx40/st-magic.png
   trunk/data/gfx48/it-bag.png
   trunk/data/gfx48/st-magic.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/floors/ThiefFloor.cc
   trunk/src/items.cc
   trunk/src/lua.cc
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.cc
   trunk/src/stones.hh
   trunk/src/stones/CompatibilityStones.cc
   trunk/src/stones/CompatibilityStones.hh
   trunk/src/stones/FlatStone.cc
   trunk/src/stones/ThiefStone.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: new API reengineering
- reenigineering bag item:
  - renaming it-bag -> it_bag
- extend wo:add()
  - wo:add( YIN | YANG, tile | table)  to add arbitrary, non static, items to
      the player's inventories
  - wo:add(no["mybag"], tile | table)  to add arbitrary, non static, items to
      existing bag items - the bags may even be part of an inventory or another
      bag
- remove/rename old st-magic:
  - new name st_dongle
  - this stone will not be available in new API, it remains for compatibility
    issues


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/data/api1init.lua	2009-01-26 23:20:47 UTC (rev 1487)
@@ -131,6 +131,7 @@
     fl_yinyang_yin = "fl-acblack",
     fl_yinyang_yang = "fl-acwhite",    
     it_banana = "it-banana",
+    it_bag = "it-bag",
     it_blocker = "it-blocker",
     it_blocker_new = "it-blocker-new",
     it_brake = "it-brake",
@@ -276,6 +277,7 @@
     st_chess_white = "st-chess_white",
     st_coinslot = "st-coinslot",
     st_concrete = "st-rock8",
+    st_dongle = "st-magic",
     st_darkglass = "st-glass2",
     st_darkglass_hollow = "st-glass2_hole",
     st_darkglass_movable = "st-glass2_move",

Deleted: trunk/data/gfx32/it-bag.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_bag.png (from rev 1483, trunk/data/gfx32/it-bag.png)

Deleted: trunk/data/gfx32/st-magic.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_dongle.png (from rev 1483, trunk/data/gfx32/st-magic.png)

Deleted: trunk/data/gfx40/it-bag.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_bag.png (from rev 1483, trunk/data/gfx40/it-bag.png)

Deleted: trunk/data/gfx40/st-magic.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_dongle.png (from rev 1483, trunk/data/gfx40/st-magic.png)

Deleted: trunk/data/gfx48/it-bag.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_bag.png (from rev 1483, trunk/data/gfx48/it-bag.png)

Deleted: trunk/data/gfx48/st-magic.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_dongle.png (from rev 1483, trunk/data/gfx48/st-magic.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/data/models-2d.lua	2009-01-26 23:20:47 UTC (rev 1487)
@@ -450,7 +450,7 @@
 
 do
     itemlist = {
-        "it-bag",
+        "it_bag",
         "it-blackbomb",
         "it-blocker",
         "it-booze",
@@ -1042,15 +1042,15 @@
     DefAnim("st-lightpassenger-break-hv", BuildFrames(anim_hv, 50), false)
 end
 
--- st-magic :-) --
+-- st_dongle :-) --
 do
-    local img = DefSubimages("st-magic", {h=4, modelname="st-magic-fg"})
+    local img = DefSubimages("st_dongle", {h=4, modelname="st_dongle-fg"})
     local nlist = {}
     for i=1, table.getn(img) do
-        nlist[i] = "st-magic"..i
+        nlist[i] = "st_dongle"..i
         DefRoundStone(nlist[i], img[i])
     end
-    display.DefineRandModel("st-magic", table.getn(nlist), nlist)
+    display.DefineRandModel("st_dongle", table.getn(nlist), nlist)
 end
 
 -- st-mail --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/data/schemas/objects.xml	2009-01-26 23:20:47 UTC (rev 1487)
@@ -377,6 +377,7 @@
     <object name="fl_yinyang_yang">
       <attr name="state" value="1"/>
     </object>
+    <object name="it_bag"/>
     <object name="it_blocker_new" init="true">
     </object>
     <object name="it_brake"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/Makefile.am	2009-01-26 23:20:47 UTC (rev 1487)
@@ -202,6 +202,8 @@
 	gui/TextField.hh	\
 	gui/widgets.cc		\
 	gui/widgets.hh		\
+	items/BagItem.cc	\
+	items/BagItem.hh	\
 	items/BrakeItem.cc	\
 	items/BrakeItem.hh	\
 	items/BlockerItem.cc	\

Modified: trunk/src/floors/ThiefFloor.cc
===================================================================
--- trunk/src/floors/ThiefFloor.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/floors/ThiefFloor.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -124,7 +124,7 @@
                     enigma::Inventory *inv = player::GetInventory(owner);
                     if (inv && inv->size() > 0) {
                         if (bag == NULL) {
-                            bag = MakeItem("it-bag");
+                            bag = MakeItem("it_bag");
                             bag->setOwnerPos(get_pos());
                         }
                         int i = IntegerRand(0, int (inv->size()-1));
@@ -140,7 +140,7 @@
         if(Item *it = GetItem(get_pos())) {
             if (!(it->get_traits().flags & itf_static)) {
                 if (bag == NULL) {
-                    bag = MakeItem("it-bag");
+                    bag = MakeItem("it_bag");
                     bag->setOwnerPos(get_pos());                
                 }
                 dynamic_cast<ItemHolder *>(bag)->add_item(YieldItem(get_pos()));

Added: trunk/src/items/BagItem.cc
===================================================================
--- trunk/src/items/BagItem.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/items/BagItem.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -0,0 +1,130 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2007,2008,2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/BagItem.hh"
+#include "errors.hh"
+//#include "main.hh"
+#include "items/GlassesItem.hh"
+#include "Inventory.hh"
+#include "player.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    BagItem::BagItem() {
+    }
+    
+    BagItem::~BagItem() {
+        // Bags on the grid are disposed, but bags in the inventory need to be
+        // delete their contents on the destructor
+        ecl::delete_sequence (m_contents.begin(), m_contents.end());
+    }
+    
+    BagItem * BagItem::clone() {
+        ASSERT(is_empty(), XLevelRuntime, "Bag:: Clone of a full bag!");
+        return new BagItem(*this);
+    }
+
+    void BagItem::dispose() {
+        Item * it = yield_first();
+        while (it != NULL) {
+            DisposeObject(it);
+            it = yield_first();
+        }
+        delete this;
+    }
+
+    std::string BagItem::getClass() const {
+        return "it_bag";
+    }
+    
+    void BagItem::on_creation(GridPos p) {
+        GridObject::on_creation(p);
+        for (std::vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
+            (*itr)->setOwnerPos(p);
+    }
+
+    void BagItem::on_removal(GridPos p) {
+        GridObject::on_removal(p);
+        for (std::vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
+            (*itr)->setOwner(-1);            
+    }
+    
+    void BagItem::setOwner(int player) {
+        GridObject::setOwner(player);
+        for (std::vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
+            (*itr)->setOwner(player);            
+    }
+
+    void BagItem::setOwnerPos(GridPos p) {
+        GridObject::setOwnerPos(p);
+        for (std::vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
+            (*itr)->setOwnerPos(p);
+    }
+        
+    bool BagItem::actor_hit(Actor *a) {
+        if (Item::actor_hit(a)) {
+            if (Inventory *inv = player::MayPickup(a, NULL)) {
+                std::vector<Item *>::size_type oldSize = m_contents.size();
+                inv->takeItemsFrom(this);
+                Glasses::updateGlasses();
+                if (oldSize != m_contents.size() && !inv->willAddItem(this)) {
+                    // some items have been picked up but the bag will not
+                    // be picked up (and cause the following actions)
+                    player::RedrawInventory (inv);
+                    sound_event ("pickup");
+                }
+                return true;
+            }
+        }
+        return false;
+    }
+    
+    // ItemHolder interface
+    bool BagItem::is_full() const {
+        return m_contents.size() >= BAGSIZE;
+    }
+    void BagItem::add_item(Item *it) {
+        // thieves may add items beyond pick up limit BAGSIZE
+        m_contents.insert (m_contents.begin(), it);
+        it->setOwnerPos(get_pos());  // item is at same position as bag
+    }
+
+    bool BagItem::is_empty() const {
+        return m_contents.size() == 0;
+    }
+
+    Item * BagItem::yield_first() {
+        if (m_contents.size() > 0) {
+            Item *it = m_contents[0];
+            m_contents.erase (m_contents.begin());
+            it->setOwner(-1);  // no owner
+            return it;
+        }
+        return NULL;
+    }
+    
+    DEF_ITEMTRAITS(BagItem, "it_bag", it_bag);    
+
+    BOOT_REGISTER_START
+        BootRegister(new BagItem(), "it_bag");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/BagItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/BagItem.hh
===================================================================
--- trunk/src/items/BagItem.hh	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/items/BagItem.hh	2009-01-26 23:20:47 UTC (rev 1487)
@@ -0,0 +1,65 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef BAGITEM_HH
+#define BAGITEM_HH
+
+#include "items.hh"
+#include "Inventory.hh"
+#include <vector>
+
+namespace enigma {
+    /**
+     */
+    class BagItem : public Item, public ItemHolder {
+        DECL_ITEMTRAITS;
+
+    private:
+       enum { BAGSIZE = 13 };
+         
+    public:
+        BagItem();
+        ~BagItem();
+
+        // Object interface
+        virtual BagItem *clone();
+        virtual void dispose();
+        virtual std::string getClass() const;
+ 
+        // GridObject interface
+        virtual void on_creation(GridPos p);
+        virtual void on_removal(GridPos p);
+        virtual void setOwner(int player);
+        virtual void setOwnerPos(GridPos po);
+
+        // Item interface
+        virtual bool actor_hit(Actor *a);
+    
+        // ItemHolder interface
+        virtual bool is_full() const;
+        virtual bool is_empty() const;
+        virtual void add_item (Item *it);
+        virtual Item *yield_first();
+        
+    private:
+        std::vector<Item *> m_contents;
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/BagItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/items.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -1016,109 +1016,7 @@
                 itf_invisible | itf_fireproof);
 }
 
-/* -------------------- Bag -------------------- */
-namespace
-{
-    class Bag : public Item, public enigma::ItemHolder {
-        DECL_ITEMTRAITS;
 
-        enum { BAGSIZE = 13 };
-        vector<Item *> m_contents;
-
-        // Item interface
-        bool actor_hit (Actor *a) {
-            if (Item::actor_hit(a)) {
-                if (Inventory *inv = player::MayPickup(a, NULL)) {
-                    std::vector<Item *>::size_type oldSize = m_contents.size();
-                    inv->takeItemsFrom(this);
-                    Glasses::updateGlasses();
-                    if (oldSize != m_contents.size() && !inv->willAddItem(this)) {
-                        // some items have been picked up but the bag will not
-                        // be picked up (and cause the following actions)
-                        player::RedrawInventory (inv);
-                        sound_event ("pickup");
-                    }
-                    return true;
-                }
-            }
-            return false;
-        }
-
-    public:
-        virtual Bag * clone() {
-            ASSERT(is_empty(), XLevelRuntime, "Bag:: Clone of a full bag!");
-            return new Bag(*this);
-        }
-
-        virtual void dispose() {
-            Item * it = yield_first();
-            while (it != NULL) {
-                DisposeObject(it);
-                it = yield_first();
-            }
-            delete this;
-        }
-
-        virtual void on_creation (GridPos p) {
-            GridObject::on_creation(p);
-            for (vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
-                (*itr)->setOwnerPos(p);
-        }
-    
-        virtual void on_removal (GridPos p) {
-            GridObject::on_removal(p);
-            for (vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
-                (*itr)->setOwner(-1);            
-        }
-        
-        virtual void setOwner(int player) {
-            GridObject::setOwner(player);
-            for (vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
-                (*itr)->setOwner(player);            
-        }
-    
-        virtual void setOwnerPos(GridPos p) {
-            GridObject::setOwnerPos(p);
-            for (vector<Item *>::iterator itr = m_contents.begin(); itr != m_contents.end(); ++itr)
-                (*itr)->setOwnerPos(p);
-        }
-    	
-        // ItemHolder interface
-        virtual bool is_full() const {
-            return m_contents.size() >= BAGSIZE;
-        }
-        virtual void add_item (Item *it) {
-            // thieves may add items beyond pick up limit BAGSIZE
-            m_contents.insert (m_contents.begin(), it);
-            it->setOwnerPos(get_pos());  // item is at same position as bag
-        }
-
-        virtual bool is_empty() const {
-            return m_contents.size() == 0;
-        }
-
-        virtual Item *yield_first() {
-            if (m_contents.size() > 0) {
-                Item *it = m_contents[0];
-                m_contents.erase (m_contents.begin());
-                it->setOwner(-1);  // no owner
-                return it;
-            }
-            return NULL;
-        }
-
-        Bag()
-        {}
-
-        ~Bag() {
-            // Bags on the grid are disposed, but bags in the inventory need to be
-            // delete their contents on the destructor
-            ecl::delete_sequence (m_contents.begin(), m_contents.end());
-        }
-    };
-    DEF_ITEMTRAITS(Bag, "it-bag", it_bag);
-}
-
 /* -------------------- it-surprise -------------------- */
 namespace
 {
@@ -1232,7 +1130,6 @@
 
 void InitItems()
 {
-    RegisterItem (new Bag);
     RegisterItem (new BlackBomb);
     RegisterItem (new BlackBombBurning);
     RegisterItem (new Booze);

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/lua.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -26,6 +26,9 @@
 #include "server.hh"
 #include "SoundEffectManager.hh"
 #include "options.hh"
+#include "player.hh"
+#include "Inventory.hh"
+#include "ItemHolder.hh"
 #include "WorldProxy.hh"
 #include "lev/Index.hh"
 #include "lev/Proxy.hh"
@@ -2067,7 +2070,7 @@
 }
 
 
-static int setObjectByTable(lua_State *L, double x, double y, bool onlyFloors = false) {
+static int setObjectByTable(lua_State *L, double x, double y, bool onlyFloors = false, ItemHolder *itemHolder =NULL) {
     // table at -1 
     int xi = round_down<int>(x);
     int yi = round_down<int>(y);
@@ -2117,69 +2120,83 @@
     }
     lua_pop(L, 1);   // object type
     setObjectAttributes(obj, L);
-    switch (obj->getObjectType()) {
-        case Object::FLOOR :
-            if (Value odd = obj->getAttr("checkerboard")) {
-                if ((xi+yi)%2 != (int)odd) {
-                    DisposeObject(obj);
-                    break;
-                }
-            }
-            SetFloor(GridPos(xi,yi), dynamic_cast<Floor *>(obj));
-            break;
-        case Object::STONE :
-            if (!onlyFloors) {
+    if (itemHolder != NULL) {
+        if (obj->getObjectType() != Object::ITEM) {
+            DisposeObject(obj);
+            throwLuaError(L, "Attempt to add an object to a bag or inventory that is no item");
+        } else {
+            Item * it = dynamic_cast<Item *>(obj);
+            if (it->isStatic()) {
+                DisposeObject(obj);
+                throwLuaError(L, "Attempt to add a static item to a bag or inventory");
+            } else
+                itemHolder->add_item(it);
+        }
+    } else {
+        switch (obj->getObjectType()) {
+            case Object::FLOOR :
                 if (Value odd = obj->getAttr("checkerboard")) {
                     if ((xi+yi)%2 != (int)odd) {
                         DisposeObject(obj);
                         break;
                     }
                 }
-                SetStone(GridPos(xi,yi), dynamic_cast<Stone *>(obj));
-            } else {
-                DisposeObject(obj);
-            }
-            break;
-        case Object::ITEM  :
-            if (!onlyFloors) {
-                if (Value odd = obj->getAttr("checkerboard")) {
-                    if ((xi+yi)%2 != (int)odd) {
-                        DisposeObject(obj);
-                        break;
+                SetFloor(GridPos(xi,yi), dynamic_cast<Floor *>(obj));
+                break;
+            case Object::STONE :
+                if (!onlyFloors) {
+                    if (Value odd = obj->getAttr("checkerboard")) {
+                        if ((xi+yi)%2 != (int)odd) {
+                            DisposeObject(obj);
+                            break;
+                        }
                     }
+                    SetStone(GridPos(xi,yi), dynamic_cast<Stone *>(obj));
+                } else {
+                    DisposeObject(obj);
                 }
-                SetItem(GridPos(xi,yi), dynamic_cast<Item *>(obj));
-            } else {
-                DisposeObject(obj);
-            }
-            break;
-        case Object::ACTOR :
-            if (!onlyFloors) {
-                lua_rawgeti(L, -1, 2);
-                if (lua_isnumber(L, -1))
-                    x += lua_tonumber(L, -1);
-                lua_rawgeti(L, -2, 3);
-                if (lua_isnumber(L, -1))
-                    y += lua_tonumber(L, -1);
-                lua_pop(L, 2);               
-                if (IsInsideLevel(GridPos(round_down<int>(x), round_down<int>(y)))) 
-                    AddActor(x, y, dynamic_cast<Actor *>(obj));
-                else
-                    throwLuaError(L, "World: actor addition to position outside of world");
-            } else
-                DisposeObject(obj);
-            break;
-        case Object::OTHER :
-            if (x < 0)
-                AddOther(dynamic_cast<Other *>(obj));
-            break;
-        default :
-            throwLuaError(L, "World set of unknown object");
+                break;
+            case Object::ITEM  :
+                if (!onlyFloors) {
+                    if (Value odd = obj->getAttr("checkerboard")) {
+                        if ((xi+yi)%2 != (int)odd) {
+                            DisposeObject(obj);
+                            break;
+                        }
+                    }
+                    SetItem(GridPos(xi,yi), dynamic_cast<Item *>(obj));
+                } else {
+                    DisposeObject(obj);
+                }
+                break;
+            case Object::ACTOR :
+                if (!onlyFloors) {
+                    lua_rawgeti(L, -1, 2);
+                    if (lua_isnumber(L, -1))
+                        x += lua_tonumber(L, -1);
+                    lua_rawgeti(L, -2, 3);
+                    if (lua_isnumber(L, -1))
+                        y += lua_tonumber(L, -1);
+                    lua_pop(L, 2);               
+                    if (IsInsideLevel(GridPos(round_down<int>(x), round_down<int>(y)))) 
+                        AddActor(x, y, dynamic_cast<Actor *>(obj));
+                    else
+                        throwLuaError(L, "World: actor addition to position outside of world");
+                } else
+                    DisposeObject(obj);
+                break;
+            case Object::OTHER :
+                if (x < 0)
+                    AddOther(dynamic_cast<Other *>(obj));
+                break;
+            default :
+                throwLuaError(L, "World set of unknown object");
+        }
     }
     return 0;
 }
 
-static int setObjectByTile(lua_State *L, double x, double y, bool onlyFloors = false) {
+static int setObjectByTile(lua_State *L, double x, double y, bool onlyFloors = false, ItemHolder *itemHolder =NULL) {
     // tile at -1
     
     // this is a recursive function - ensure enough space on the stack
@@ -2189,16 +2206,16 @@
     lua_getmetatable(L, -1);
     lua_rawgeti(L, -1, 1);    // first tile part
     if (is_tile(L, -1))
-        setObjectByTile(L, x, y, onlyFloors);
+        setObjectByTile(L, x, y, onlyFloors, itemHolder);
     else
-        setObjectByTable(L, x, y, onlyFloors);
+        setObjectByTable(L, x, y, onlyFloors, itemHolder);
     lua_pop(L, 1);  // tile or table
     lua_rawgeti(L, -1, 2);    // second optional tile part
     if (!lua_isnil(L, -1)) {
         if (is_tile(L, -1))
-            setObjectByTile(L, x, y, onlyFloors);
+            setObjectByTile(L, x, y, onlyFloors, itemHolder);
         else
-            setObjectByTable(L, x, y, onlyFloors);
+            setObjectByTable(L, x, y, onlyFloors, itemHolder);
     }
     lua_pop(L, 2);  // tile or table or nil + metatable
     return 0;
@@ -2556,6 +2573,22 @@
             setObjectByTable(L, -1, -1);
         else // is tile
             setObjectByTile(L, -1, -1);
+    } else if (lua_isnumber(L, 2) && (is_tile(L, 3)  || is_table(L, 3))) {
+        int player = lua_tointeger(L, 2);
+        if (player != YIN && player != YANG)
+            throwLuaError(L, "World attempt to add objects to not existing player");
+        if (is_table(L, -1))
+            setObjectByTable(L, -1, -1, false, player::GetInventory(player));
+        else // is tile
+            setObjectByTile(L, -1, -1, false, player::GetInventory(player));         
+    } else if (is_object(L, 2) && (is_tile(L, 3)  || is_table(L, 3))) {
+        ItemHolder *ih = dynamic_cast<ItemHolder *>(to_object(L, 2));
+        if (ih == NULL)
+            throwLuaError(L, "World attempt to add objects to an object that can not take other objects");
+        if (is_table(L, -1))
+            setObjectByTable(L, -1, -1, false, ih);
+        else // is tile
+            setObjectByTile(L, -1, -1, false, ih);         
     }
     return 0;
 }

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/ox_extra.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -347,7 +347,7 @@
     UNUSED,                  // OxydExtra item 0x24
     UNUSED,                  // OxydExtra item 0x25
     UNUSED,                  // OxydExtra item 0x26
-    "it-bag",                     // OxydExtra item 0x27
+    "it_bag",                     // OxydExtra item 0x27
     UNUSED,                  // OxydExtra item 0x28
     UNUSED,                  // OxydExtra item 0x29
     "it_sensor",                  // OxydExtra item 0x2a

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/ox_magnum.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -330,7 +330,7 @@
     "it_seed",          // OxydMagnum item 0x25
     "it-spring2",       // OxydMagnum item 0x26
     "it-spring1",       // OxydMagnum item 0x27
-    "it-bag",           // OxydMagnum item 0x28
+    "it_bag",           // OxydMagnum item 0x28
     "it_magnet_off",    // OxydMagnum item 0x29
     "it_inversesensor", // OxydMagnum item 0x2a
     "it_sensor",        // OxydMagnum item 0x2b

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/ox_oxyd1.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -346,7 +346,7 @@
     "it_seed",                    // 0x25
     "it-spring2",                 // 0x26
     "it-spring1",                 // 0x27
-    "it-bag",                     // 0x28
+    "it_bag",                     // 0x28
     "it_magnet_off",              // 0x29
     "it_inversesensor",           // 0x2a
     "it_sensor",                  // 0x2b

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/ox_peroxyd.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -40,7 +40,7 @@
     case 0x39: case 0x3a: case 0x3b:
         // Create magic stones only if they are absolutely necessary
         if (level.getRequireMagicPiece())
-            st = MakeStone ("st-magic");
+            st = MakeStone ("st_dongle");
         break;
     default:
         st = OxydLoader::make_stone (type, x, y);
@@ -245,9 +245,9 @@
     "st_oneway_white_e",        // PerOxyd stone 0x36
     "st_oneway_white_n",        // PerOxyd stone 0x37
     "st_oneway_white_s",        // PerOxyd stone 0x38
-    "st-magic",                 // PerOxyd stone 0x39 ('st-magic')
-    "st-magic",                 // PerOxyd stone 0x3a ('st-magic')
-    "st-magic",                 // PerOxyd stone 0x3b ('st-magic')
+    "st_dongle",                 // PerOxyd stone 0x39 ('st-magic')
+    "st_dongle",                 // PerOxyd stone 0x3a ('st-magic')
+    "st_dongle",                 // PerOxyd stone 0x3b ('st-magic')
     "st_actorimpulse",          // PerOxyd stone 0x3c
     "st_actorimpulse_invisible", // PerOxyd stone 0x3d
     "st-laser-1",               // PerOxyd stone 0x3e  The laser-names are fake names!
@@ -418,7 +418,7 @@
     "it_seed",                    // 0x24
     "it-spring2",                 // 0x25
     "it-spring1",                 // 0x26
-    "it-bag",                     // 0x27
+    "it_bag",                     // 0x27
     "it_magnet_off",              // 0x28
     "it_sensor_filter0",          // 0x29
     "it_sensor_filter1",          // 0x2a

Modified: trunk/src/stones/CompatibilityStones.cc
===================================================================
--- trunk/src/stones/CompatibilityStones.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones/CompatibilityStones.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -19,12 +19,59 @@
 
 #include "stones/CompatibilityStones.hh"
 #include "errors.hh"
+#include "client.hh"
 //#include "main.hh"
 
 namespace enigma {
 
 /* -------------------- Oxyd compatibility stones -------------------- */
 
+/* -------------------- DongleStone -------------------- */
+
+    DongleStone::DongleStone() {
+    }
+    
+    void DongleStone::actor_hit(const StoneContact &sc) {
+        if (sc.actor->getAttr("owner") && 
+            sc.actor->get_vel() * sc.normal < -4)
+        {
+            KillStone(get_pos());
+            client::Msg_ShowText("We don't sell books..", false, 2.0);
+        }
+    }
+    
+    DEF_TRAITSM(DongleStone, "st_dongle", st_dongle, MOVABLE_BREAKABLE);
+
+
+    /**  st-easymode Easy-Mode Stone
+    
+    In easy game mode this stone converts the floor at its
+    position to fl-normal.
+    In normal game mode the stone kills any item at its position.
+    Then in both modes it kills itself.
+    
+    E.g. it can be used to hide water-barriers or to insert helper
+    items that make the level easier in easy game mode.
+    */
+    
+    EasyModeStone::EasyModeStone() {
+    }
+    
+    Value EasyModeStone::message(const Message &m) {
+        if (m.message == "_init") {
+            if (server::GetDifficulty() == DIFFICULTY_EASY) {
+                SetFloor (get_pos(), MakeFloor ("fl_metal_7n"));
+            } else {
+                KillItem (get_pos());
+            }
+            KillStone (get_pos());
+            return Value();
+        }
+        return Stone::message(m);
+    }
+
+    DEF_TRAITSM(EasyModeStone, "st-easymode", st_easymode, MOVABLE_BREAKABLE);
+
     /* I have no idea what these stones are _really_ supposed to do;
        they seemingly do not appear in the landscape and they create
        normal floor tiles on creation.  Other than that... who
@@ -62,6 +109,8 @@
     DEF_TRAITSM(Oxyd_0x18, "st-oxyd-0x18", st_oxyd_0x18, MOVABLE_BREAKABLE);
     
     BOOT_REGISTER_START
+        BootRegister(new DongleStone(), "st_dongle");
+        BootRegister(new EasyModeStone(), "st-easymode");
         BootRegister(new Peroxyd_0xb8(), "st-peroxyd-0xb8");
         BootRegister(new Peroxyd_0xb9(), "st-peroxyd-0xb9");
         BootRegister(new Oxyd_0x18(), "st-oxyd-0x18");

Modified: trunk/src/stones/CompatibilityStones.hh
===================================================================
--- trunk/src/stones/CompatibilityStones.hh	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones/CompatibilityStones.hh	2009-01-26 23:20:47 UTC (rev 1487)
@@ -25,6 +25,26 @@
 
 namespace enigma {
 
+    class DongleStone : public Stone {
+        CLONEOBJ(DongleStone);
+        DECL_TRAITS;
+    public:
+        DongleStone();
+        
+        // Stone interface
+        virtual void actor_hit (const StoneContact &sc);
+    };
+    
+    class EasyModeStone : public Stone {
+        CLONEOBJ(EasyModeStone);
+        DECL_TRAITS;
+    public:
+        EasyModeStone();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
     /** 
      * 
      */

Modified: trunk/src/stones/FlatStone.cc
===================================================================
--- trunk/src/stones/FlatStone.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones/FlatStone.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -167,7 +167,7 @@
         if (((objFlags & OBJBIT_BREAKABLE) || state == CRACKED) && player::WieldedItemIs(sc.actor, "it_hammer"))
             doBreak();
         else if ((state == IDLE && !(objFlags & (OBJBIT_BREAKABLE | OBJBIT_HOLLOW))) &&
-                (player::WieldedItemIs(sc.actor, "it-pencil"))) {
+                (player::WieldedItemIs(sc.actor, "it_pencil"))) {
             enigma::Inventory *inv = player::GetInventory(sc.actor);
             if (inv && inv->size() > 0) {
                 delete inv->yield_item(0);

Modified: trunk/src/stones/ThiefStone.cc
===================================================================
--- trunk/src/stones/ThiefStone.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones/ThiefStone.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -126,7 +126,7 @@
                     enigma::Inventory *inv = player::GetInventory(owner);
                     if (inv && inv->size() > 0) {
                         if (bag == NULL) {
-                            bag = MakeItem("it-bag");
+                            bag = MakeItem("it_bag");
                             bag->setOwnerPos(get_pos());
                         }
                         int i = IntegerRand(0, int (inv->size()-1));

Modified: trunk/src/stones.cc
===================================================================
--- trunk/src/stones.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -423,7 +423,7 @@
                 "st_death",
                 "st-surprise",
                 "st_lightglass_hollow",
-                "st-magic",
+                "st_dongle",
                 "st_knight",
                 "st_thief",
                 "st_flat_breakable",

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones.hh	2009-01-26 23:20:47 UTC (rev 1487)
@@ -66,7 +66,7 @@
         st_greenbrown,
         st_key,
         st_knight,
-        st_magic,
+        st_dongle,
         st_mirror,
         st_oneway,
         st_oxyd_0x18,

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2009-01-26 21:18:06 UTC (rev 1486)
+++ trunk/src/stones_simple.cc	2009-01-26 23:20:47 UTC (rev 1487)
@@ -56,53 +56,6 @@
     };
 }
 
-
-/* -------------------- EasyModeStone -------------------- */
-
-/** \page st-easymode Easy-Mode Stone
-
-In easy game mode this stone converts the floor at its
-position to fl-normal.
-In normal game mode the stone kills any item at its position.
-Then in both modes it kills itself.
-
-E.g. it can be used to hide water-barriers or to insert helper
-items that make the level easier in easy game mode.
-
-\subsection easye Example
-\verbatim
-set_stone("st-easymode", 10,10)
-\endverbatim
-
-\ref it-easymode
-*/
-
-namespace
-{
-    class EasyModeStone : public Stone {
-        CLONEOBJ(EasyModeStone);
-        DECL_TRAITS;
-
-        virtual Value message(const Message &m) {
-            if (m.message == "_init") {
-                if (server::GetDifficulty() == DIFFICULTY_EASY) {
-                    SetFloor (get_pos(), MakeFloor ("fl_metal_7n"));
-                } else {
-                    KillItem (get_pos());
-                }
-                KillStone (get_pos());
-                return Value();
-            }
-            return Stone::message(m);
-        }
-    public:
-        EasyModeStone() 
-        {}
-    };
-    DEF_TRAITSM(EasyModeStone, "st-easymode", st_easymode, MOVABLE_BREAKABLE);
-}
-
-
 /* -------------------- Grates -------------------- */
 
 namespace
@@ -242,29 +195,6 @@
     }
 }
 
-
-/* -------------------- MagicStone -------------------- */
-namespace
-{
-    class MagicStone : public Stone {
-        CLONEOBJ(MagicStone);
-        DECL_TRAITS;
-        void actor_hit(const StoneContact &sc) {
-            if (sc.actor->getAttr("owner") && 
-                sc.actor->get_vel() * sc.normal < -4)
-            {
-                KillStone(get_pos());
-                client::Msg_ShowText ("We don't sell books..", false, 2.0);
-            }
-        }
-    public:
-        MagicStone()
-        {}
-    };
-    DEF_TRAITSM(MagicStone, "st-magic", st_magic, MOVABLE_BREAKABLE);
-}
-
-
 /* -------------------- Functions -------------------- */
 
 void Init_simple()
@@ -276,9 +206,7 @@
     Register(new ChameleonStone);
 
     Register(new DummyStone);
-    Register(new EasyModeStone);
     Register(new Grate3);
-    Register(new MagicStone);
 }
 
 } // namespace enigma



From ral at mail.berlios.de  Wed Jan 28 00:59:39 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 28 Jan 2009 00:59:39 +0100
Subject: [Enigma-game-svn] r1488 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/items
Message-ID: <200901272359.n0RNxdOs031306@sheep.berlios.de>

Author: ral
Date: 2009-01-28 00:59:33 +0100 (Wed, 28 Jan 2009)
New Revision: 1488

Added:
   trunk/data/gfx32/it_pin.png
   trunk/data/gfx32/it_weight.png
   trunk/data/gfx40/it_pin.png
   trunk/data/gfx40/it_weight.png
   trunk/data/gfx48/it_pin.png
   trunk/data/gfx48/it_weight.png
Removed:
   trunk/data/gfx32/it-pin.png
   trunk/data/gfx32/it-weight.png
   trunk/data/gfx40/it-pin.png
   trunk/data/gfx40/it-weight.png
   trunk/data/gfx48/it-pin.png
   trunk/data/gfx48/it-weight.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Inventory.cc
   trunk/src/Inventory.hh
   trunk/src/actors.cc
   trunk/src/actors.hh
   trunk/src/enigma.hh
   trunk/src/items.cc
   trunk/src/items/BagItem.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/world.cc
   trunk/src/world.hh
Log:
Trunk 1.1: new API reengineering
- reenigineering weight item:
  - renaming it-weight -> it_weight
  - add attribute "mass", default 10.0
  - fix weight feature:
    - all actors owned by a player are affected
    - it_weight mass counts if item is in inventory or in a bag in the inventory
    - mass is reduced as soon as it_weight leaves inventory
- reengineering pin item:
  - renaming it-pin -> it_pin
  - fix pin feature:
    - pin is active as long as a single pin is in top level of inventory
    - pin affects all actors owned by the player
    - when no pin remains in inventory, the effects do stop
    - pins in a bag do not effect the actors
- fix never working drunken actor force algorithm
Note:
- the drunken algorithm has to checked with existing levels and may require
  some polishing


Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/data/api1init.lua	2009-01-27 23:59:33 UTC (rev 1488)
@@ -163,6 +163,7 @@
     it_meditation_bump = "it-tinyhill",
     it_meditation_hill = "it-hill",
     it_pencil = "it-pencil",
+    it_pin = "it-pin",
     it_pipe_w = "it-pipe-w",
     it_pipe_s = "it-pipe-s",
     it_pipe_sw = "it-pipe-sw",
@@ -197,6 +198,7 @@
     it_vortex = "it-vortex-open",
     it_vortex_open = "it-vortex-open",
     it_vortex_closed = "it-vortex-closed",
+    it_weight = "it-weight",
     it_wormhole_on = "it-wormhole",
     it_wormhole_off = "it-wormhole-off",
     it_wrench = "it-wrench",

Deleted: trunk/data/gfx32/it-pin.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-weight.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_pin.png (from rev 1483, trunk/data/gfx32/it-pin.png)

Copied: trunk/data/gfx32/it_weight.png (from rev 1483, trunk/data/gfx32/it-weight.png)

Deleted: trunk/data/gfx40/it-pin.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-weight.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_pin.png (from rev 1483, trunk/data/gfx40/it-pin.png)

Copied: trunk/data/gfx40/it_weight.png (from rev 1483, trunk/data/gfx40/it-weight.png)

Deleted: trunk/data/gfx48/it-pin.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-weight.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_pin.png (from rev 1483, trunk/data/gfx48/it-pin.png)

Copied: trunk/data/gfx48/it_weight.png (from rev 1483, trunk/data/gfx48/it-weight.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/data/models-2d.lua	2009-01-27 23:59:33 UTC (rev 1488)
@@ -462,14 +462,14 @@
         "it-flagwhite",
         "it-odometer",
         "it_pencil",
-        "it-pin",
+        "it_pin",
         "it_ring",
         "it_spade",
         "it_spoon",
         "it-spring1",
         "it-spring2",
         "it-surprise",
-        "it-weight",
+        "it_weight",
         "it-whitebomb"
     }
 

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/data/schemas/objects.xml	2009-01-27 23:59:33 UTC (rev 1488)
@@ -54,6 +54,7 @@
     <attr name="invisible" type="bool" default="false" rw="rw"/>
     <attr name="length" type="double" default="1" rw="rw"/>
     <attr name="loop" type="bool" default="true" rw="rw"/>
+    <attr name="mass" type="double" default="1" rw="rw"/>
     <attr name="max" type="double" default="0" rw="rw"/>
     <attr name="min" type="double" default="0" rw="rw"/>
     <attr name="movable" type="bool" default="false" rw="rw"/>
@@ -482,6 +483,7 @@
       <attr name="state" value="3"/>
     </object>
     <object name="it_pencil"/>
+    <object name="it_pin"/>
     <object name="it_pipe">
       <attr name="connections"/>
       <msg name="_explosion"/>
@@ -656,6 +658,9 @@
     <object name="it_vortex_open">
       <attr name="state" value="1"/>
     </object>
+    <object name="it_weight">
+      <attr name="mass" default="10.0"/>
+    </object>
     <object name="it_wormhole">
       <attr name="destination"/>
       <attr name="interval" default="0"/>

Modified: trunk/src/Inventory.cc
===================================================================
--- trunk/src/Inventory.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/Inventory.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -16,13 +16,18 @@
  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
  */
 #include "Inventory.hh"
+#include "errors.hh"
 #include "items.hh"
+#include "world.hh"
 #include "ecl_util.hh"
 #include <algorithm>
 
 using enigma::Inventory;
 using enigma::Item;
 
+
+namespace enigma {
+
 typedef std::vector<Item*> ItemList;
 
 /** The maximum number of items that may be stored in an inventory.
@@ -30,8 +35,8 @@
 unsigned const Inventory::max_items = 12;
 
 
-Inventory::Inventory() : m_items()
-{}
+Inventory::Inventory() : m_items () {
+}
 
 
 Inventory::~Inventory() 
@@ -39,6 +44,21 @@
     ecl::delete_sequence (m_items.begin(), m_items.end());
 }
 
+
+    std::string Inventory::getClass() const {
+        return "Inventory";
+    }
+    
+    Object *Inventory::clone() {
+        ASSERT(false, XLevelRuntime, "Inventory attempt to clone");
+        return this;
+    }
+    
+    void Inventory::dispose() {
+        ASSERT(false, XLevelRuntime, "Inventory attempt to dispose");
+    }
+
+
 void Inventory::assignOwner(int playerId) {
     ownerId = playerId;
 }
@@ -115,9 +135,12 @@
         // first item is a bag and not full and add item is not an empty bag
         firstHolder->add_item (i);
     }
-    else {
-        m_items.insert (m_items.begin(), i);
+    else if (m_items.size() < max_items) {
+        m_items.insert(m_items.begin(), i);
         i->setOwner(ownerId);
+    } else {
+        // someone did try to add an object without prior checking our size
+        DisposeObject(i);
     }
 }
 
@@ -174,3 +197,5 @@
     }
     return -1;
 }
+
+} // namespace enigma

Modified: trunk/src/Inventory.hh
===================================================================
--- trunk/src/Inventory.hh	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/Inventory.hh	2009-01-27 23:59:33 UTC (rev 1488)
@@ -19,6 +19,7 @@
 #ifndef INVENTORY_HH_INCLUDED
 #define INVENTORY_HH_INCLUDED
 
+#include "Object.hh"
 #include "ItemHolder.hh"
 #include <string>
 #include <vector>
@@ -27,11 +28,16 @@
 namespace enigma
 {
     class Item;
-    class Inventory : public ItemHolder {
+    class Inventory : public Object, public ItemHolder {
     public:
         Inventory();
         ~Inventory();
 
+        // Object interface
+        virtual Object *clone();
+        virtual void dispose();
+        virtual std::string getClass() const;
+
         // ---------- ItemHolder interface ----------
         bool is_full() const;
         virtual bool is_empty() const;

Modified: trunk/src/actors.cc
===================================================================
--- trunk/src/actors.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/actors.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -21,10 +21,11 @@
 #include "errors.hh"
 #include "enigma.hh"
 #include "player.hh"
+#include "Inventory.hh"
 #include "SoundEffectManager.hh"
 #include "server.hh"
 #include "world.hh"
-//#include "main.hh"
+#include "main.hh"
 
 #include <iostream>
 #include <set>
@@ -131,6 +132,18 @@
             m_actorinfo.vel = ecl::V2();
         } else if (m.message == "_revive") {
             m_actorinfo.vel = m_actorinfo.frozen_vel;        
+        } else if (m.message == "_update_mass") {
+            if (getAttr("owner") == m.value) {
+                m_actorinfo.mass = get_traits().default_mass + 
+                        (double)(player::GetInventory(this)->getAttr("mass"));
+                ASSERT(m_actorinfo.mass > 0, XLevelRuntime, "Actor mass <= 0!");
+                Log << "Actor new mass " << m_actorinfo.mass << "\n";
+            }
+        } else if (m.message == "_update_pin") {
+            if (getAttr("owner") == m.value) {
+                spikes = (player::GetInventory(this)->find("it_pin")) != -1;
+                Log << "Actor has spikes " << spikes << "\n";
+            }
         }
         return StateObject::message(m);
     }

Modified: trunk/src/actors.hh
===================================================================
--- trunk/src/actors.hh	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/actors.hh	2009-01-27 23:59:33 UTC (rev 1488)
@@ -174,7 +174,7 @@
         }
 
         bool has_spikes() const { return spikes; }
-        void set_spikes(bool has) { spikes = has; }
+//        void set_spikes(bool has) { spikes = has; }
 
         static double get_max_radius(); // max. radius of all actors
 

Modified: trunk/src/enigma.hh
===================================================================
--- trunk/src/enigma.hh	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/enigma.hh	2009-01-27 23:59:33 UTC (rev 1488)
@@ -190,6 +190,7 @@
     };
 
     enum GridLayerBits {
+        GRID_NONE_BIT   = 0,
         GRID_FLOOR_BIT  = 1,
         GRID_ITEMS_BIT  = 2,
         GRID_STONES_BIT = 4

Modified: trunk/src/items/BagItem.cc
===================================================================
--- trunk/src/items/BagItem.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/items/BagItem.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -103,8 +103,11 @@
     }
     void BagItem::add_item(Item *it) {
         // thieves may add items beyond pick up limit BAGSIZE
-        m_contents.insert (m_contents.begin(), it);
-        it->setOwnerPos(get_pos());  // item is at same position as bag
+        m_contents.insert(m_contents.begin(), it);
+        if (getOwner().getType() == Value::NIL)
+            it->setOwnerPos(get_pos());  // item is at same position as bag
+        else
+            it->setOwner(getOwner());
     }
 
     bool BagItem::is_empty() const {
@@ -114,8 +117,8 @@
     Item * BagItem::yield_first() {
         if (m_contents.size() > 0) {
             Item *it = m_contents[0];
-            m_contents.erase (m_contents.begin());
-            it->setOwner(-1);  // no owner
+            m_contents.erase(m_contents.begin());
+            it->setOwnerPos(GridPos(-1, -1));  // no owner
             return it;
         }
         return NULL;

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/items/SimpleItems.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -20,6 +20,7 @@
 
 #include "items/SimpleItems.hh"
 //#include "errors.hh"
+#include "Inventory.hh"
 //#include "main.hh"
 #include "player.hh"
 #include "SoundEffectManager.hh"
@@ -135,6 +136,21 @@
     
     DEF_ITEMTRAITS(Pencil, "it_pencil", it_pencil);
     
+/* -------------------- Pin -------------------- */
+    Pin::Pin() {
+    }
+    
+    void Pin::setOwner(int player) {
+        Value oldPlayer = getOwner();
+        Item::setOwner(player);
+        if (oldPlayer.getType() != Value::NIL && oldPlayer != -1 ) {
+            BroadcastMessage("_update_pin", oldPlayer, GRID_NONE_BIT, true);            
+        }
+        if (player != -1) {
+            BroadcastMessage("_update_pin", player, GRID_NONE_BIT, true);
+        }
+    }
+    DEF_ITEMTRAITS(Pin, "it_pin", it_pin);
 /* -------------------- Ring -------------------- */
 
     Ring::Ring() {
@@ -197,6 +213,47 @@
 
     DEF_ITEMTRAITSF(Squashed, "it_squashed", it_squashed, itf_static);
 
+/* -------------------- Weight item -------------------- */
+    Weight::Weight() {
+    }
+    
+    void Weight::setAttr(const string& key, const Value &val) {
+        if (key == "mass") {
+            double oldMass = getAttr("mass");
+            double newMass = val;
+            if (newMass != oldMass && newMass > 0) {
+                Item::setAttr("mass", newMass);
+                Value owner = getOwner();
+                if (owner.getType() != Value::NIL) {
+                    Inventory *i = player::GetInventory(owner);
+                    i->setAttr("mass", (double)i->getAttr("mass") + newMass - oldMass);
+                    BroadcastMessage("_update_mass", owner, GRID_NONE_BIT, true);
+                }
+            }
+        }
+    }        
+        
+    void Weight::setOwner(int player) {
+        Value oldPlayer = getOwner();
+        Item::setOwner(player);
+        if (oldPlayer.getType() != Value::NIL && oldPlayer != -1 ) {
+            Inventory *i = player::GetInventory(oldPlayer);
+            i->setAttr("mass", (double)i->getAttr("mass") - (double)getAttr("mass"));
+            BroadcastMessage("_update_mass", oldPlayer, GRID_NONE_BIT, true);            
+        }
+        if (player != -1) {
+            Inventory *i = player::GetInventory(player);
+            i->setAttr("mass", (double)i->getAttr("mass") + (double)getAttr("mass"));
+            BroadcastMessage("_update_mass", player, GRID_NONE_BIT, true);
+        }
+    }
+
+    ItemAction Weight::activate(Actor *, GridPos p) {
+        return ITEM_KEEP;
+    }
+    
+    DEF_ITEMTRAITS(Weight, "it_weight", it_weight);
+
 /* -------------------- YinYang item -------------------- */
     Yinyang::Yinyang() {
     }
@@ -228,10 +285,12 @@
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");
         BootRegister(new Pencil(), "it_pencil");
+        BootRegister(new Pin(), "it_pin");
         BootRegister(new Ring(), "it_ring");
         BootRegister(new Spade(), "it_spade");
         BootRegister(new Spoon(), "it_spoon");
         BootRegister(new Squashed(), "it_squashed");
+        BootRegister(new Weight(), "it_weight");
         BootRegister(new Wrench(), "it_wrench");
         BootRegister(new Yinyang(), "it_yinyang");
     BOOT_REGISTER_END

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/items/SimpleItems.hh	2009-01-27 23:59:33 UTC (rev 1488)
@@ -126,6 +126,19 @@
 
 
     /**
+     * Pin
+     */
+    class Pin : public Item {
+        CLONEOBJ(Pin);
+        DECL_ITEMTRAITS;
+    public:
+        Pin();
+        
+        // GridObject interface
+        virtual void setOwner(int player);
+    };
+
+    /**
      * Ring
      */
     class Ring : public Item {
@@ -183,6 +196,25 @@
     };
 
     /**
+     * Weight
+     */
+    class Weight : public Item {
+        CLONEOBJ(Weight);
+        DECL_ITEMTRAITS;
+    public:
+        Weight();
+        
+        // Object interface
+        virtual void setAttr(const string& key, const Value &val);
+        
+        // GridObject interface
+        virtual void setOwner(int player);
+
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+    };
+
+    /**
      * Wrench
      */
     DEF_ITEM(Wrench, "it_wrench", it_wrench);

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/items.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -180,41 +180,6 @@
     };
     DEF_ITEMTRAITSF(Dummyitem, "it-dummy", it_dummy, itf_fireproof);
 
-/* -------------------- Weight -------------------- */
-
-    class Weight : public Item {
-        CLONEOBJ(Weight);
-        DECL_ITEMTRAITS;
-
-        void on_pickup(Actor *a) {
-           ActorInfo *ai = a->get_actorinfo();
-           ai->mass += 10.0;
-        }
-        ItemAction activate(Actor *, GridPos) {
-            return ITEM_KEEP;
-        }
-    public:
-	Weight() {}
-    };
-    DEF_ITEMTRAITS(Weight, "it-weight", it_weight);
-
-/* -------------------- Pin -------------------- */
-
-    class Pin : public Item {
-        CLONEOBJ(Pin);
-        DECL_ITEMTRAITS;
-
-        void on_pickup(Actor *a) {
-            a->set_spikes(true);
-        }
-        void on_drop(Actor *a) {
-            a->set_spikes(false);
-        }
-    public:
-        Pin() {}
-    };
-    DEF_ITEMTRAITS(Pin, "it-pin", it_pin);
-
 /* -------------------- Booze -------------------- */
 
 namespace
@@ -1151,13 +1116,11 @@
     RegisterItem (new OnePKillStone);
     RegisterItem (new OxydBridge);
     RegisterItem (new OxydBridgeActive);
-    RegisterItem (new Pin);
     RegisterItem (new Spring1);
     RegisterItem (new Spring2);
     RegisterItem (new Springboard);
     RegisterItem (new SurpriseItem);
     RegisterItem (new TwoPKillStone);
-    RegisterItem (new Weight);
     RegisterItem (new WhiteBomb);
 }
 

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/ox_extra.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -343,7 +343,7 @@
     UNUSED,                  // OxydExtra item 0x20
     "it_spade",                   // OxydExtra item 0x21
     "it-surprise",                // OxydExtra item 0x22
-    "it-pin",                     // OxydExtra item 0x23
+    "it_pin",                     // OxydExtra item 0x23
     UNUSED,                  // OxydExtra item 0x24
     UNUSED,                  // OxydExtra item 0x25
     UNUSED,                  // OxydExtra item 0x26

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/ox_magnum.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -326,7 +326,7 @@
     "it_pipe_ew",        // OxydMagnum item 0x21
     "it_spade",         // OxydMagnum item 0x22
     UNUSED,        // OxydMagnum item 0x23
-    "it-pin",           // OxydMagnum item 0x24
+    "it_pin",           // OxydMagnum item 0x24
     "it_seed",          // OxydMagnum item 0x25
     "it-spring2",       // OxydMagnum item 0x26
     "it-spring1",       // OxydMagnum item 0x27

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/ox_oxyd1.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -342,7 +342,7 @@
     "it_pipe_ew",                 // 0x21
     "it_spade",                   // 0x22
     "it-surprise",                // 0x23
-    "it-pin",                     // 0x24
+    "it_pin",                     // 0x24
     "it_seed",                    // 0x25
     "it-spring2",                 // 0x26
     "it-spring1",                 // 0x27

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/ox_peroxyd.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -414,7 +414,7 @@
     "it_pipe_ew",                  // 0x20
     "it_spade",                   // 0x21
     "it-surprise",                // 0x22
-    "it-pin",                     // 0x23
+    "it_pin",                     // 0x23
     "it_seed",                    // 0x24
     "it-spring2",                 // 0x25
     "it-spring1",                 // 0x26

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/world.cc	2009-01-27 23:59:33 UTC (rev 1488)
@@ -473,11 +473,11 @@
 }
 
 
-void World::tick (double dtime)
+void World::tick(double dtime)
 {
     // dtime is always 0.01 (cf. server.cc)
 
-    move_actors (dtime);
+    move_actors(dtime);
     tick_sound_dampings();
 
     // Tell floors and items about new stones.
@@ -486,7 +486,7 @@
     changed_stones.clear();
     
 
-    m_mouseforce.tick (dtime);
+    m_mouseforce.tick(dtime);
     for_each (forces.begin(), forces.end(),
               bind2nd(mem_fun(&ForceField::tick), dtime));
 
@@ -547,9 +547,11 @@
     V2 f = mforce;
     if (a->get_controllers() != 0) {
         if (a->is_drunken()) {
+            double time = fmod(server::LevelTime, 2.0) - 1.0;
             // rotate mouse force by random angle
             double maxangle = M_PI * 0.7;
-            double angle = DoubleRand (-maxangle, maxangle);
+            double angle = maxangle * time;
+//            double angle = DoubleRand (-maxangle, maxangle);
             f = V2(f[0]*cos(angle) - f[1]*sin(angle),
                    f[0]*sin(angle) + f[1]*cos(angle));
         }
@@ -1918,30 +1920,38 @@
 }
 
 
-void BroadcastMessage (const std::string& msg, 
-                              const Value& value, 
-                              GridLayerBits grids)
-{
+void BroadcastMessage (const std::string& msg, const Value& value, GridLayerBits grids, 
+        bool actors, bool others) {
     int  width     = level->w;
     int  height    = level->h;
     bool to_floors = (grids & GRID_FLOOR_BIT) != 0;
     bool to_items  = (grids & GRID_ITEMS_BIT) != 0;
     bool to_stones = (grids & GRID_STONES_BIT) != 0;
 
-    for (int y = 0; y<height; ++y) {
-        for (int x = 0; x<width; ++x) {
-            GridPos p(x, y);
-            Field *f = level->get_field(p);
-            if (to_floors && f->floor) SendMessage (f->floor, msg, value);
-            if (to_items && f->item)  SendMessage (f->item,  msg, value);
-            if (to_stones && f->stone) SendMessage (f->stone, msg, value);
+    if (grids != 0) {
+        for (int y = 0; y<height; ++y) {
+            for (int x = 0; x<width; ++x) {
+                GridPos p(x, y);
+                Field *f = level->get_field(p);
+                if (to_floors && f->floor) SendMessage (f->floor, msg, value);
+                if (to_items && f->item)  SendMessage (f->item,  msg, value);
+                if (to_stones && f->stone) SendMessage (f->stone, msg, value);
+            }
         }
     }
+    if (actors) {
+        for (ActorList::iterator itr = level->actorlist.begin(); itr != level->actorlist.end(); ++itr) {
+            SendMessage(*itr, msg, value);
+        }
+    }
+    if (others) {
+        for (OtherList::iterator oit = level->others.begin(); oit != level->others.end(); ++oit) {
+            SendMessage(*oit, msg, value);
+        }
+    }
 }
 
 
-
-
 namespace
 {
     void explosion(GridPos source, GridPos dest, const char * explosion_item)

Modified: trunk/src/world.hh
===================================================================
--- trunk/src/world.hh	2009-01-26 23:20:47 UTC (rev 1487)
+++ trunk/src/world.hh	2009-01-27 23:59:33 UTC (rev 1488)
@@ -208,7 +208,7 @@
     void AddSignal (const GridLoc &src, const GridLoc &dst, const string &msg);
 
     void BroadcastMessage (const std::string& msg, const Value& value, 
-                           GridLayerBits grids);
+                           GridLayerBits grids, bool actors =false, bool others =false);
 
     Value SendMessage (Object *obj, const string &msg, const Value& value = Value(), Object *sender = NULL);
     Value SendMessage (Object *obj, const Message &m);



From ral at mail.berlios.de  Wed Jan 28 01:12:50 2009
From: ral at mail.berlios.de (ral at mail.berlios.de)
Date: Wed, 28 Jan 2009 01:12:50 +0100
Subject: [Enigma-game-svn] r1489 - team_levelpacks/team_test_new_api
Message-ID: <200901280012.n0S0CoRT014763@sheep.berlios.de>

Author: ral
Date: 2009-01-28 01:12:41 +0100 (Wed, 28 Jan 2009)
New Revision: 1489

Added:
   team_levelpacks/team_test_new_api/ralT076_1.xml
   team_levelpacks/team_test_new_api/ralT077_1.xml
Modified:
   team_levelpacks/team_test_new_api/ralT075_1.xml
Log:
Test Level new API:
- added levels for thieves, weight, pin


Modified: team_levelpacks/team_test_new_api/ralT075_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-27 23:59:33 UTC (rev 1488)
+++ team_levelpacks/team_test_new_api/ralT075_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
@@ -52,6 +52,8 @@
 ti["7"] = {"it_puller_e"}
 ti["8"] = {"it_puller_n"}
 
+ti["T"] = {"it-bag", "bag"}
+
 ti["E"] = {"st_ghost_purplemarble"}
 ti["F"] = {"st_ghost_greenbrown"}
 ti["G"] = {"st_ghost_break"}
@@ -69,10 +71,10 @@
    "#             m    #",
    "# F     @     M   5#",
    "#                 6#",
-   "# G           L   7",
+   "# G           L   7#",
    "#                 8#",
    "#OOO    #     K    #",
-   "#####             *#",
+   "#####T            *#",
    "########## #########",
    "#                  #",
    "# 1             2  #",
@@ -88,7 +90,9 @@
    "####################",
 })
 
-wo:add(YIN, ti["f"] .. ti["5"] .. {"it_banana"} .. ti["m"])
+wo:add(YIN, ti["f"] .. ti["5"] .. {"it_banana"} .. ti["m"] .. {"it-bag", "bag2"})
+wo:add(no["bag"], ti["7"] .. {"it_cherry"} .. ti["m"])
+wo:add(no["bag2"], ti["8"] .. {"it_coin_s"})
   ]]></el:luamain>
     <el:i18n>
 	 <el:string el:key="title">

Added: team_levelpacks/team_test_new_api/ralT076_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT076_1.xml	2009-01-27 23:59:33 UTC (rev 1488)
+++ team_levelpacks/team_test_new_api/ralT076_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
@@ -0,0 +1,56 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test Thieves new API" el:subtitle="" el:id="20090124ral532"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2009 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl_sahara"}
+ti["."] = {"fl_thief"}
+ti["T"] = {"st_thief"}
+ti["#"] = {"st_granite"}
+ti["c"] = {"it_cherry"}
+ti["x"] = {"it-springboard"}
+
+
+ti["@"] = {"#ac_marble"} 
+ti["o"] = {"#ac_killer", controllers=1, owner=YIN} 
+ti["O"] = {"#ac_horse", controllers=1, owner=YIN, adhesion=1} 
+
+w, h = wo(ti, " ", {
+"   #                ",
+"   #         ....   ",
+"   #        x....   ",
+"o  #        x....   ",
+"   #         ....   ",
+"O  #   @            ",
+"   #ccccccccc      T",
+"   #ccccccccc      T",
+"   #ccccccccc      T",
+"   #               T",
+"   #       ###      ",
+" ###       #        ",
+"                    "
+})
+
+
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: team_levelpacks/team_test_new_api/ralT076_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native

Added: team_levelpacks/team_test_new_api/ralT077_1.xml
===================================================================
--- team_levelpacks/team_test_new_api/ralT077_1.xml	2009-01-27 23:59:33 UTC (rev 1488)
+++ team_levelpacks/team_test_new_api/ralT077_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
@@ -0,0 +1,85 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Test Weigth, Pin new API" el:subtitle="" el:id="20090127ral637"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision$" el:status="experimental"/>
+      <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
+      <el:copyright>Copyright ? 2009 Ronald Lamprecht</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.10">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:comments>
+      </el:comments>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+
+
+wo["ConserveLevel"] = true
+
+ti[" "] = {"fl_sahara"}
+ti["."] = {"fl_ice"}
+
+if wo["IsDifficult"] then
+    ti["1"] = {"#ac_marble"}
+    ti["2"] = {"it_nil"}
+else
+    ti["2"] = {"#ac_pearl", controllers=CTRL_YIN}
+    ti["1"] = {"#ac_marble", owner=YANG, controllers=CTRL_YANG}
+end
+ti["M"] = {"st_mail_e"}
+ti["b"] = {"it_bag"}
+ti["B"] = {"it_bag", "heavybag"}
+ti["Y"] = {"it_yinyang"}
+
+ti["w"] = {"it_weight"}
+ti["x"] = {"it_weight", mass=1}
+ti["y"] = {"it_weight", mass=3}
+ti["z"] = {"it_weight", "varyweight", mass=4}
+
+ti["Z"] = {"st_switch", target="vary"}
+
+ti["p"] = {"it_pin"}
+ti["P"] = {"it_bag", "pinbag"}
+
+ti["d"] = {"it-booze"}
+
+
+w, h = wo(ti, " ", {
+"   ww  xx  yy  z  Z ",
+"                  M ",
+"b                 M ",
+"b        2        M ",
+"b      1    2     M ",
+"         2        M ",
+"B                   ",
+"                  Y ",
+"p                 Y ",
+"p                   ",
+"p                ddd",
+"       .......   ddd",
+"P      .......      "
+})
+
+function vary(value, sender)
+    if value then
+        no["varyweight"]["mass"] = 6.2
+    else
+        no["varyweight"]["mass"] = 4
+    end
+end
+
+wo:add(YIN, {"it_weight", mass=2.1})
+wo:add(no["heavybag"], {"it_weight", mass=7})
+wo:add(no["pinbag"], ti["p"])
+  ]]></el:luamain>
+    <el:i18n>
+	 <el:string el:key="title">
+	   <el:english el:translate="false"/>
+	 </el:string>
+   </el:i18n>
+  </el:protected>
+</el:level>
+


Property changes on: team_levelpacks/team_test_new_api/ralT077_1.xml
___________________________________________________________________
Name: svn:keywords
   + Revision
Name: svn:eol-style
   + native



From raoul at mail.berlios.de  Wed Jan 28 03:24:13 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Wed, 28 Jan 2009 03:24:13 +0100
Subject: [Enigma-game-svn] r1490 - in trunk/data/levels: enigma_cross
	enigma_ii enigma_iii enigma_iv enigma_tutorial enigma_v
	enigma_vi enigma_vii enigma_viii
Message-ID: <200901280224.n0S2OD7Z003738@sheep.berlios.de>

Author: raoul
Date: 2009-01-28 03:24:09 +0100 (Wed, 28 Jan 2009)
New Revision: 1490

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_1.xml
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_ii/index.xml
   trunk/data/levels/enigma_ii/martin27_2.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_iv/ralf09_2.xml
   trunk/data/levels/enigma_tutorial/a_tut07.xml
   trunk/data/levels/enigma_tutorial/index.xml
   trunk/data/levels/enigma_tutorial/m_tut9.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/ant21_2.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/ral10_2.xml
   trunk/data/levels/enigma_vii/huesing01_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley02_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/devnull03_1.xml
   trunk/data/levels/enigma_viii/devnull08_1.xml
   trunk/data/levels/enigma_viii/devnull15_1.xml
   trunk/data/levels/enigma_viii/devnull16_1.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/pulley16_3.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/ral30_1.xml
   trunk/data/levels/enigma_viii/raywick05_1.xml
   trunk/data/levels/enigma_viii/welcometopack8_1.xml
Log:
-> Level updates for latest new API item reengineerings



Modified: trunk/data/levels/enigma_cross/enigma0_92_1.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_cross/enigma0_92_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma 0.92 - 1"/>
+  <info enigma="1.00" group="Facets" location="15100" network="false" owner="Enigma Team" release="1" revision="19" title="Enigma 0.92 - 1"/>
 
   <attributes/>
 
@@ -17,7 +17,7 @@
     <level _seq="9" _title="Floppy Swapping" _xpath="enigma_ii/martin19_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="- Meditation -" _xpath="enigma_i/siegfried33_1" author="anonymous" ctrl="force" easy="false" id="meditation1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Push Them In" _xpath="enigma_ii/nat05_1" author="Andreas Persenius, Nat Pryce" ctrl="force" easy="false" id="nat5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="It's Magic" _xpath="enigma_ii/martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Ice Skating" _xpath="enigma_i/siegfried22_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level7a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Lasers 101" _xpath="enigma_i/daniel08_1" author="Daniel Heck" ctrl="force" easy="false" id="lasers101" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="The Grim Reaper" _xpath="enigma_i/daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -115,7 +115,7 @@
     <level _seq="107" _title="The Turtle" _xpath="enigma_iii/ant05_1" author="Petr Machata" ctrl="force" easy="false" id="ant05" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Grow Your Own" _xpath="enigma_iii/nat36_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="- Meditation -" _xpath="enigma_ii/siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="110" _title="Draggers" _xpath="enigma_v/ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="111" _title="The Disappearing Block" _xpath="enigma_ii/duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="112" _title="Space Fishing" _xpath="enigma_iii/martin73_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin73" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Robbery" _xpath="enigma_iv/ant29_2" author="Petr Machata" ctrl="force" easy="false" id="ant29" rel="2" rev="1" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -83,7 +83,7 @@
     <level _seq="75" _title="Switch-Switch" _xpath="enigma_iv/raywick02_2" author="Ray Wick" ctrl="force" easy="false" id="RayWick002" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="76" _title="Turbulence" _xpath="enigma_i/duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Shrinking Pits" _xpath="enigma_v/duffy23_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy23" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Run Like Hell" _xpath="enigma_iv/ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Be Faster!" _xpath="enigma_iv/martin98_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin98" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Teamwork" _xpath="enigma_iii/duffy25_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy25" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Lock Them In" _xpath="enigma_iii/duffy26_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy26" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="17" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -67,7 +67,7 @@
     <level _seq="59" _title="Manamana" _xpath="enigma_iii/just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="enigma_iii/nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Don't Touch" _xpath="enigma_iii/raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bump Ahead" _xpath="enigma_iii/illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Killer Hills" _xpath="enigma_iii/luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Fox in the Henhouse" _xpath="enigma_iii/nat26_1" author="Nat Pryce" ctrl="force" easy="false" id="nat26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -97,7 +97,7 @@
     <level _seq="89" _title="Laser Games" _xpath="enigma_iv/mp03_1" author="moonpearl" ctrl="force" easy="false" id="mp03" rel="1" rev="10" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="April 1st" _xpath="enigma_v/alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Send me the keys !" _xpath="enigma_v/alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Laser Path" _xpath="enigma_v/andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Hobbyte" _xpath="enigma_v/alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Water Castle" _xpath="enigma_v/luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Moving Puzzles" _xpath="enigma_v/luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -195,7 +195,7 @@
     <level _seq="187" _title="- Meditation -" _xpath="enigma_vi/andreas36_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas36" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="188" _title="Troy" _xpath="enigma_vi/andreas37_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas37" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="189" _title="Ben Hur" _xpath="enigma_vi/ral13_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061011ral390" rel="1" rev="58" score="1" target="time" unit="duration"/>
-    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="105" score="1" target="time" unit="duration"/>
+    <level _seq="190" _title="Bodyguard" _xpath="enigma_vi/ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="106" score="1" target="time" unit="duration"/>
     <level _seq="191" _title="Janus" _xpath="enigma_vi/andreas38_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="192" _title="Phaeton" _xpath="enigma_vi/andreas39_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="193" _title="Ariadne" _xpath="enigma_vi/andreas40_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas40" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="31" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="32" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -59,11 +59,11 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="14" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Remote Meditation" _xpath="enigma_vii/dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Triggered Triggers" _xpath="enigma_vii/just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Lady in Red" _xpath="enigma_vii/just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -71,7 +71,7 @@
     <level _seq="63" _title="Bold Boulder" _xpath="enigma_vii/ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Tinker, Tailor" _xpath="enigma_vii/andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="65" _title="Elbow Society" _xpath="enigma_vii/andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="66" _title="Watchmaker" _xpath="enigma_vii/huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Map it out II" _xpath="enigma_vii/manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="68" _title="Underground Temple" _xpath="enigma_vii/joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="69" _title="Mountain Climbing III" _xpath="enigma_vii/joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,17 +79,17 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="35" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="40" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="41" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="45" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="35" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
@@ -98,7 +98,7 @@
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
+    <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="95" _title="Vanity's Constrictions" _xpath="enigma_viii/andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="96" _title="Wierdly Wired" _xpath="enigma_viii/andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -112,32 +112,32 @@
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="132" score="1" target="time" unit="duration"/>
+    <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="133" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="148" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="149" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="121" _title="Multi-lane" _xpath="enigma_viii/devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="122" _title="See Saw Meditation" _xpath="enigma_viii/duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="123" _title="Under control?" _xpath="enigma_viii/devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="124" _title=" - Meditation - " _xpath="enigma_viii/devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/index.xml
===================================================================
--- trunk/data/levels/enigma_ii/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_ii/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="15" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma II"/>
 
   <attributes/>
 
@@ -96,7 +96,7 @@
     <level _seq="88" _title="Shifting Shoals" _xpath="./nat28_1" author="Nat Pryce" ctrl="force" easy="false" id="nat28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pentomino V" _xpath="./ralf20_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="Washing Machine" _xpath="./duffy45_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy45" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="91" _title="It's Magic" _xpath="./martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="It's Magic" _xpath="./martin27_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Dirt Clod" _xpath="./xerxes02_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Painting" _xpath="./siegfried21_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="94" _title="Snowing" _xpath="./duffy120_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy120" rel="2" rev="3" score="2" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_ii/martin27_2.xml
===================================================================
--- trunk/data/levels/enigma_ii/martin27_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_ii/martin27_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="It's Magic" el:subtitle="" el:id="martin27"/>
-      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
@@ -26,7 +26,7 @@
 ti["S"] = {"st_switch", target="laser"}
 ti["O"] = {"st_oxyd"}
 ti["m"] = {"it_magicwand"}
-ti["d"] = {"it-document", text="text1"}
+ti["d"] = {"it_document", text="text1"}
 ti["@"] = {"#ac_marble_black"}
 
 wo(ti, " ", {

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Castle" el:subtitle="" el:id="andreas04"/>
-      <el:version el:score="1" el:release="1" el:revision="13" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="14" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -81,7 +81,7 @@
 ti["  % "]={"it_hammer"}
 ti["  ' "]={"it_seed"}
 ti["  ( "]={"it-extralife"}
-ti["  & "]={"it-document", text = "text1"}
+ti["  & "]={"it_document", text = "text1"}
 if wo["CreatingPreview"] then
   ti["   !"] = {}
 else

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="16" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma III"/>
 
   <attributes/>
 
@@ -69,7 +69,7 @@
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Emergency Exit" _xpath="./ss05_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="13" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="The Safe" _xpath="./siegfried77_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried77" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Block its way!" _xpath="./wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="67" _title="Bump Ahead" _xpath="./illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="16" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="17" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -84,7 +84,7 @@
 ti[":"] = {"st_charge_zero"} .. ti["A"]
 ti[";"] = {"st_invisible", "whitegate"} .. ti["l"]
 ti["2"] = {"st_switch", target="whiteswitch"} .. ti["l"]
-ti["m"] = {"it-document", text="text1"} .. ti["l"]
+ti["m"] = {"it_document", text="text1"} .. ti["l"]
 
 if wo["IsDifficult"] then
     ti["p"] = ti["l"]

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma IV"/>
 
   <attributes/>
 
@@ -62,7 +62,7 @@
     <level _seq="54" _title="Fire Safety" _xpath="./duffy83_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy83" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Easily Inflammable" _xpath="./martin95_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin95" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="56" _title="The Builder" _xpath="./ss09_2" author="Sven Siggelkow" ctrl="force" easy="false" id="ss9" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="57" _title="Run Like Hell" _xpath="./ralf09_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf09" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="What a Mess" _xpath="./duffy68_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy68" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="59" _title="Sleeping Serpent" _xpath="./raoul10_1" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- No Meditation -" _xpath="./ralf08_2" author="Ralf Westram" ctrl="force" easy="false" id="ralf08" rel="2" rev="2" score="1" target="time" unit="duration"/>
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="17" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_iv/ralf09_2.xml
===================================================================
--- trunk/data/levels/enigma_iv/ralf09_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_iv/ralf09_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Run Like Hell" el:subtitle="" el:id="ralf09"/>
-      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Ralf Westram" el:email="amgine at reallysoft.de" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Ralf Westram</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -21,7 +21,7 @@
 ti["v"] = {"st_boulder", orientation=SOUTH}
 ti["o"] = {"st_oxyd", "oxyds1#"}
 ti["O"] = {"st_oxyd", "oxyds2#"}
-ti["d"] = {"it-document", text="text1"}
+ti["d"] = {"it_document", text="text1"}
 ti["@"] = {"#ac_marble_black"}
 
 wo(ti, " ",

Modified: trunk/data/levels/enigma_tutorial/a_tut07.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_tutorial/a_tut07.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,16 +3,15 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Chess Stones" el:subtitle="" el:id="c_tut01"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
-      <el:author  el:name="Raoul Bourquin, ShadowPhrogg32642342, Andreas Lochmann" el:email="" el:homepage=""/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+      <el:author el:name="Raoul Bourquin, ShadowPhrogg32642342, Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Raoul Bourquin, Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
       <el:compatibility el:enigma="1.10">
         <el:dependency el:path="lib/libmath" el:id="lib/libmath" el:release="1" el:preload="true"/>
       </el:compatibility>
       <el:modes el:easy="false" el:single="true" el:network="false"/>
-      <el:comments>
-      </el:comments>
+      <el:comments></el:comments>
       <el:score el:easy="-" el:difficult="2:18"/>
     </el:info>
     <el:luamain><![CDATA[
@@ -35,8 +34,8 @@
 ti["S"] = ti["."] .. {"st_switch", target="let_marble_run"}
 ti["d"] = ti["."] .. {"st_door", name="first_door", flavor="a"}
 ti["t"] = ti["."] .. {"it_trigger", target="first_door"}
-ti["i"] = ti["."] .. {"it-document", text="text1"}
-ti["I"] = ti["."] .. {"it-document", text="text2"}
+ti["i"] = ti["."] .. {"it_document", text="text1"}
+ti["I"] = ti["."] .. {"it_document", text="text2"}
 ti["x"] = ti[" "] .. {"st_oxyd", flavor="d"}
 
 w, h = wo(ti, " ", {

Modified: trunk/data/levels/enigma_tutorial/index.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_tutorial/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="13" title="Tutorial"/>
+  <info enigma="1.00" group="Enigma" location="10100" network="false" owner="Enigma Team" release="1" revision="14" title="Tutorial"/>
 
   <attributes/>
 
@@ -16,7 +16,7 @@
     <level _seq="8" _title="Meditation 2" _xpath="./m_med2" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_med2" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="9" _title="Movement 4" _xpath="./m_tut7" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut7" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="10" _title="Movement 5" _xpath="./m_tut8" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut8" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="4" score="2" target="time" unit="duration"/>
+    <level _seq="11" _title="Floors 1" _xpath="./m_tut9" author="Martin Hawlisch" ctrl="force" easy="true" id="m_tutor/m_tut9" rel="3" rev="5" score="2" target="time" unit="duration"/>
     <level _seq="12" _title="Floors 2" _xpath="./m_tut10" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="13" _title="Floors 3" _xpath="./m_tut11" author="Martin Hawlisch" ctrl="force" easy="false" id="m_tutor/m_tut11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Doors and Triggers" _xpath="./a_tut01" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut01" rel="1" rev="1" score="1" target="time" unit="duration"/>
@@ -69,7 +69,7 @@
     <level _seq="61" _title="Is It Easy?" _xpath="enigma_i/martin06_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Beam0r" _xpath="enigma_ii/peter01_1" author="Peter Santo" ctrl="force" easy="false" id="peter_001" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Slalom Skiing" _xpath="enigma_ii/martin93_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin93" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Chess Stones" _xpath="./a_tut07" author="Raoul Bourquin, ShadowPhrogg32642342, Andreas Lochmann" ctrl="force" easy="false" id="c_tut01" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Chess Stones" _xpath="./a_tut07" author="Raoul Bourquin, ShadowPhrogg32642342, Andreas Lochmann" ctrl="force" easy="false" id="c_tut01" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Bye!" _xpath="./a_tut06" author="Andreas Lochmann" ctrl="force" easy="false" id="a_tut06" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Advanced Tutorial" _xpath="./adv_tutorial" author="Jacob Scott" ctrl="force" easy="false" id="m_tutor/adv_tutorial" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_tutorial/m_tut9.xml
===================================================================
--- trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_tutorial/m_tut9.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,20 +3,16 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Floors 1" el:subtitle="" el:id="m_tutor/m_tut9"/>
-      <el:version el:score="2" el:release="3" el:revision="4" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="5" el:status="released"/>
       <el:author  el:name="Martin Hawlisch" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Martin Hawlisch</el:copyright>
       <el:license el:type="GPL version 2" el:open="true"/>
       <el:compatibility el:enigma="1.10"/>
       <el:modes el:easy="true" el:single="true" el:network="false"/>
-      <el:comments>
-        <el:code>Lua 5.1 and XML and new API converted by Leveladministrators</el:code>
-      </el:comments>
+      <el:comments><el:code>New API converted by R. Bourquin</el:code></el:comments>
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-oxyd_default_flavor = "d"
-
 ti[" "] = {"fl_lawn_b"}
 ti["1"] = {"fl_lawn"}
 ti["2"] = {"fl_lawn_c1"}
@@ -34,10 +30,9 @@
 ti["S"] = {"fl_space"}
 ti["C"] = {"fl_sand"}
 ti["#"] = {"st_fake_oxyda"}
-ti["d"] = ti["1"] .. {"it-document", text="text1"}
+ti["d"] = ti["1"] .. {"it_document", text="text1"}
 ti["o"] = ti["C"] .. {"#ac_marble_black"}
 ti["0"] = {"st_oxyd", flavor="d"}
-
 if wo["IsDifficult"] then
     ti["Q"] = {"st_oxyd", flavor="d"}
 else

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Path" el:subtitle="" el:id="andreas06"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2005 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -68,7 +68,7 @@
 
 if wo["IsDifficult"] then
   wo["ConserveLevel"] = false
-  wo[{5, 2}] = {"it-document", text = "text1"}
+  wo[{5, 2}] = {"it_document", text = "text1"}
 end
 
 wo:shuffleOxyd()

Modified: trunk/data/levels/enigma_v/ant21_2.xml
===================================================================
--- trunk/data/levels/enigma_v/ant21_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_v/ant21_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Draggers" el:subtitle="" el:id="ant21"/>
-      <el:version el:score="1" el:release="2" el:revision="3" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="4" el:status="released"/>
       <el:author  el:name="Petr Machata" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Petr Machata</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -20,7 +20,7 @@
 ti[" "] = {"fl_metal"}
 ti["."] = {"fl_abyss"}
 ti[":"] = ti[" "] .. ti({"it_seed"}) .. {"st-chameleon"}
-ti["d"] = {"it-document", text="text1"}
+ti["d"] = {"it_document", text="text1"}
 ti["#"] = {"st_granite"}
 ti["X"] = {"st_grate_cross"}
 ti["^"] = {"st_boulder", name="boulders#", orientation=NORTH}

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma V"/>
 
   <attributes/>
 
@@ -9,7 +9,7 @@
     <level _seq="1" _title="Welcome" _xpath="./welcometopack5_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="April 1st" _xpath="./alain11_1" author="Alain Busser" ctrl="force" easy="false" id="alain11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Send me the keys !" _xpath="./alain09_1" author="Alain Busser" ctrl="force" easy="false" id="alain09" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="Laser Path" _xpath="./andreas06_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas06" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Hobbyte" _xpath="./alain15_1" author="Alain Busser" ctrl="force" easy="false" id="alain15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Water Castle" _xpath="./luc21_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc21" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Moving Puzzles" _xpath="./luc13_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc13" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -21,7 +21,7 @@
     <level _seq="13" _title="Sentry Duty" _xpath="./nat25_1" author="Nat Pryce" ctrl="force" easy="true" id="nat25" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Thievish Alleys" _xpath="./andreas33_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas33" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Solvable?" _xpath="./barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="3" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Draggers" _xpath="./ant21_2" author="Petr Machata" ctrl="force" easy="true" id="ant21" rel="2" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Break and Enter" _xpath="./siegfried16_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level5b" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Double play" _xpath="./just06_1" author="JuSt" ctrl="force" easy="false" id="just06" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="Oxyd-Puzzle" _xpath="./raoul05_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul05" rel="2" rev="7" score="1" target="time" unit="duration"/>
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="14" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="14" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="15" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -68,12 +68,12 @@
 ti[" ;"] = {"it_brush"}
 ti[" +"] = {"it_meditation_bump"}
 ti[" v"] = {"it_meditation_hollow"}
-ti[" d"] = {"it-document", text="text2"}
+ti[" d"] = {"it_document", text="text2"}
 ti[" -"] = {"it_meditation_dent"}
 ti[" w"] = {"it_whitebomb"}
 ti[" !"] = {"it_wormhole", "worm5", destination="destination5", strength=5}
 ti[" o"] = {"it_spade"}
-ti[" x"] = {"it-document", text="text2"}
+ti[" x"] = {"it_document", text="text2"}
 ti[" 1"] = {"it_trigger", invisible=true, target="box", _box=1}
 ti["1 "] = {"st_door", "door1", flavor="d", faces="ew"}
 ti[" 2"] = {"it_trigger", target="box", _box=2}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="31" title="Enigma VI"/>
 
   <attributes/>
 
@@ -58,7 +58,7 @@
     <level _seq="50" _title="Hot Meditation" _xpath="./ral08_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060527ral010" rel="1" rev="42" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Just a Maze?" _xpath="./duffy12_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy12" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Checkmate II" _xpath="./andreas35_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas35" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="105" score="1" target="time" unit="duration"/>
+    <level _seq="53" _title="Bodyguard" _xpath="./ral10_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060730ral012" rel="2" rev="106" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="be quick or be dead" _xpath="./illmind12_1" author="illmind" ctrl="force" easy="true" id="illmind12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="55" _title="Puzzle Puzzles" _xpath="./raoul26_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul26" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Tarzan" _xpath="./ulf03_1" author="Ulf Stegemann" ctrl="force" easy="true" id="20060629ulf003" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/ral10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vi/ral10_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Bodyguard" el:subtitle="In the line of thieves" el:id="20060730ral012"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 105 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 106 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2006 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["H"] = ti["."] .. {"#ac_horse", strength=1, destination={"op%1", "op%2","op%3", "op%4"}}
 ti["h"] = ti["."] .. {"#ac_horse", strength=1, destination={"ip%1", "ip%2","ip%3", "ip%4"}}
 
-ti["T"] = {"it-document", text="help_keys"}
+ti["T"] = {"it_document", text="help_keys"}
 ti["template_inner"] = {"fl_thief", "ip%%"}
 
 if wo["IsDifficult"] then

Modified: trunk/data/levels/enigma_vii/huesing01_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/huesing01_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
      <el:info el:type="level">
        <el:identity el:title="Watchmaker" el:subtitle="Mend the clockwork" el:id="huesing01"/>
-       <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
+       <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
        <el:author el:name="Johannes H?sing" el:email="hannes at ruhrau.de" el:homepage="http://derwisch.wikidot.com"/>
        <el:copyright>Copyright ? 2008 Johannes H?sing </el:copyright>
        <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["6"] = {"it_trigger", target={"door#3","door#2"}, action_1={"open","close"}, action_0={"nope","nope"}}
 ti["7"] = {"it_trigger", target={"door#8","door#5"}, action_1={"open","close"}, action_0={"nope","nope"}}
 ti["8"] = {"it_trigger", target={"door#1","door#4"}, action_1={"open","close"}, action_0={"nope","nope"}}
-ti["D"] = ti["+"] .. {"it-document", text="text1"}
+ti["D"] = ti["+"] .. {"it_document", text="text1"}
 
 ti["0"] = {"ac_marble_black", 0.0, 0.5}
 

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="35" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="36" title="Enigma VII"/>
 
   <attributes/>
 
@@ -83,11 +83,11 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="14" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="7" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Remote Meditation" _xpath="./dpl02_1" author="Dominik Leipold" ctrl="force" easy="true" id="dpl02" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="84" _title="Triggered Triggers" _xpath="./just19_1" author="JuSt" ctrl="force" easy="true" id="just19" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Lady in Red" _xpath="./just30_1" author="Just" ctrl="force" easy="true" id="just30" rel="1" rev="3" score="1" target="time" unit="duration"/>
@@ -95,7 +95,7 @@
     <level _seq="87" _title="Bold Boulder" _xpath="./ral14_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20061124ral279" rel="1" rev="127" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Tinker, Tailor" _xpath="./andreas46_3" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas46" rel="4" rev="11" score="2" target="time" unit="duration"/>
     <level _seq="89" _title="Elbow Society" _xpath="./andreas45_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas45" rel="2" rev="6" score="2" target="time" unit="duration"/>
-    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="5" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Watchmaker" _xpath="./huesing01_1" author="Johannes H?sing" ctrl="force" easy="false" id="huesing01" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="Map it out II" _xpath="./manuel01_1" author="Manuel Eisentraut" ctrl="force" easy="true" id="manuel01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Underground Temple" _xpath="./joe12_2" author="Joseph Dunne" ctrl="force" easy="true" id="joe_12" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="93" _title="Mountain Climbing III" _xpath="./joe26_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="35" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="40" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="41" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="45" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -121,20 +121,20 @@
 ti["ni"] = ti[" )"] .. {"it_coffee"}
 ti["x "] = {"#ac_marble_black"}
 ti["r "] = {"#ac_top", range=1, strength=1}
-ti["p1"] = ti[" $"] .. {"it-document", text="text1"}
-ti["p2"] = ti[" !"] .. {"it-document", text="text2"}
-ti["p3"] = ti[" -"] .. {"it-document", text="text3"}
-ti["p4"] = ti[" -"] .. {"it-document", text="text4"}
-ti["p5"] = ti[" -"] .. {"it-document", text="text5"}
-ti["p6"] = ti[" 2"] .. {"it-document", text="text6"}
-ti["p7"] = ti[" 2"] .. {"it-document", text="text7"}
-ti["q1"] = ti[" 4"] .. {"it-document", text="text8"}
-ti["q2"] = ti[" 0"] .. {"it-document", text="text9"}
-ti["q3"] = ti[" ,"] .. {"it-document", text="text10"}
-ti["q4"] = ti[" 2"] .. {"it-document", text="text11"}
-ti["q5"] = ti[" ."] .. {"it-document", text="text12"}
-ti["q6"] = ti[" /"] .. {"it-document", text="text13"}
-ti["q7"] = ti[" :"] .. {"it-document", text="text14"}
+ti["p1"] = ti[" $"] .. {"it_document", text="text1"}
+ti["p2"] = ti[" !"] .. {"it_document", text="text2"}
+ti["p3"] = ti[" -"] .. {"it_document", text="text3"}
+ti["p4"] = ti[" -"] .. {"it_document", text="text4"}
+ti["p5"] = ti[" -"] .. {"it_document", text="text5"}
+ti["p6"] = ti[" 2"] .. {"it_document", text="text6"}
+ti["p7"] = ti[" 2"] .. {"it_document", text="text7"}
+ti["q1"] = ti[" 4"] .. {"it_document", text="text8"}
+ti["q2"] = ti[" 0"] .. {"it_document", text="text9"}
+ti["q3"] = ti[" ,"] .. {"it_document", text="text10"}
+ti["q4"] = ti[" 2"] .. {"it_document", text="text11"}
+ti["q5"] = ti[" ."] .. {"it_document", text="text12"}
+ti["q6"] = ti[" /"] .. {"it_document", text="text13"}
+ti["q7"] = ti[" :"] .. {"it_document", text="text14"}
 ti["k1"] = ti[" 4"] .. {"it_key", code=1}
 ti["k2"] = ti[" !"] .. {"it_key", code=2}
 ti["k3"] = ti["=m"] .. {"it_coin_m"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:40$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:41$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -73,10 +73,10 @@
 ti["p3"] = ti[" #"] .. {"st_puzzle_yellow", connections="sw"}
 ti["5 "] = {"st_ghost_break"}
 ti["y1"] = ti[" !"] .. {"st_ghost_break"}
-ti["y2"] = ti["y1"] .. {"it-puller-s"}
-ti["y3"] = ti[" #"] .. {"it-puller-s"}
+ti["y2"] = ti["y1"] .. {"it_puller_s"}
+ti["y3"] = ti[" #"] .. {"it_puller_s"}
 ti["y4"] = ti[" #"] .. {"st_mirror", movable=true, transparent=false}
-ti["y5"] = ti["y4"] .. {"it-puller-s"}
+ti["y5"] = ti["y4"] .. {"it_puller_s"}
 ti["X "] = {"#ac_marble_black"}
 ti["oo"] = ti[" #"] .. {"st_oxyd_a"}
 ti["7 "] = {"st_laserswitch", target="door3"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 44 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 45 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -148,7 +148,7 @@
     ti["l9"] = ti[" &"] .. {"fl_ice"}
     ti["a3"] = ti[" !"] .. {"it-flagblack"}
     ti["a4"] = ti[" !"] .. {"it_extralife"}
-    ti["a5"] = ti[" !"] .. {"it-pin"}
+    ti["a5"] = ti[" !"] .. {"it_pin"}
     ti["a6"] = ti[" !"] .. {"fl_metal_7", friction=4.0}
 end
 

Modified: trunk/data/levels/enigma_vii/pulley02_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/pulley02_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Action Potential" el:subtitle="" el:id="pulley02"/>
-      <el:version el:score="1" el:release="2" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="8" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -176,7 +176,7 @@
 wo:shuffleOxyd()
 
 wo[{29, 42.5}] = {"ac_marble_black"}
-wo[{32, 43}] = {"it-document", text="text1"}
+wo[{32, 43}] = {"it_document", text="text1"}
 
 SynapseOn = {"fl_redslab"}
 if wo ["IsDifficult"] then

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="14" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="15" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -152,12 +152,12 @@
 --|         1    1   |2    2    3    3  | 4    4    5    5 |  6    6    7    7|   8    8    9   9|
 --|1   5    0    5   |0    5    0    5  | 0    5    0    5 |  0    5    0    5|   0    5    0   4|
 
-wo[{10, 6}] = {"it-document", text="text1"} -- Introduction
-wo[{10, 13}] = {"it-document", text="text2"} -- Reminder about disguise
-wo[{22, 55}] = {"it-document", text="text3"} -- John Reid's grave
-wo[{89, 13}] = {"it-document", text="text4"} -- Silver released
-wo[{93, 9}] = {"it-document", text="text5"} -- The End, cue end credits!
-wo[{1, 59}] = {"it-document", text="text6"} -- Empty tomb
+wo[{10, 6}] = {"it_document", text="text1"} -- Introduction
+wo[{10, 13}] = {"it_document", text="text2"} -- Reminder about disguise
+wo[{22, 55}] = {"it_document", text="text3"} -- John Reid's grave
+wo[{89, 13}] = {"it_document", text="text4"} -- Silver released
+wo[{93, 9}] = {"it_document", text="text5"} -- The End, cue end credits!
+wo[{1, 59}] = {"it_document", text="text6"} -- Empty tomb
 
 wo:add({"ot_rubberband", anchor1="Ranger", anchor2="RGuard1", length=5, strength=20, max=5.05, min=4.95})
 wo:add({"ot_rubberband", anchor1="Ranger", anchor2="RGuard2", length=5, strength=20, max=5.05, min=4.95})

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="16" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="17" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -120,10 +120,10 @@
  "d_dzz.Tdzz,zz,TzzdKdYYYYYYYYYYYYYYY]YYkffffffkAEAEkffffffk", --23
  "ddddddddddddddddddddYY{YYYYYYYYYYYYYYYkkkkkkkkkkkkkkkkkkkk"})
 
-wo[{4, 5}] = {"it-document", text="feed"} -- Feed Me
-wo[{38, 6}] = {"it-document", text="Orin"} -- Orin Quote
-wo[{38, 21}] = {"it-document", text="Audrey"} -- Audrey Quote
-wo[{19, 20}] = {"it-document", text="Mushnik"} -- Mushnik Quote
+wo[{4, 5}] = {"it_document", text="feed"} -- Feed Me
+wo[{38, 6}] = {"it_document", text="Orin"} -- Orin Quote
+wo[{38, 21}] = {"it_document", text="Audrey"} -- Audrey Quote
+wo[{19, 20}] = {"it_document", text="Mushnik"} -- Mushnik Quote
 
 function Grow1() -- Grows Audrey II
   wo:drawMap(ti, po(2,6), " ", {
@@ -143,7 +143,7 @@
     "accccca",
     "aaaaaaa",
     " acaaa "})
-  wo[{5, 3}] = {"it-document", text="OrinD"} -- Orin Death Quote
+  wo[{5, 3}] = {"it_document", text="OrinD"} -- Orin Death Quote
 end
 
 function Grow3() -- Grows Audrey II
@@ -167,7 +167,7 @@
     "accccccaa",
     "aaaaaaaay",
     " acacaaa "})
-  wo[{10, 5}] = {"it-document", text="MushnikD"} -- Mushnik Death Quote
+  wo[{10, 5}] = {"it_document", text="MushnikD"} -- Mushnik Death Quote
 end
 
 function Grow5() -- Grows Audrey II
@@ -193,7 +193,7 @@
     "accccccccaaa  ",
     "aaaaaaaaaa    ",
     "aaacacacaa    "})
-  wo[{15, 5}] = {"it-document", text="AudreyD"} -- Audrey Death Quote
+  wo[{15, 5}] = {"it_document", text="AudreyD"} -- Audrey Death Quote
 end
 
 function Grow7() -- Grows Audrey II

Modified: trunk/data/levels/enigma_viii/devnull03_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/devnull03_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Multi-lane" el:subtitle="" el:id="devnull03"/>
-      <el:version el:score="1" el:release="1" el:revision="25" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="26" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -75,8 +75,8 @@
 ti["S"] = ti["w"] .. {"it_seed"}
 ti["t"] = {"it_wrench"}
 ti["y"] = ti["w"] .. {"it_yinyang"}
-ti["%"] = ti["."] .. {"it-document", text = "doc1"}
-ti["z"] = {"it-document", text = "BzG"}
+ti["%"] = ti["."] .. {"it_document", text = "doc1"}
+ti["z"] = {"it_document", text = "BzG"}
 ti["U"] = {"st_floppy", name = "floppyU", action = "toggle", target = "bridgeFloppyBlack#*"}
 ti["V"] = {"st_floppy", name = "floppyV", action = "toggle", target = "bridgeFloppyWhite#*"}
 ti["G"] = {"st_switch", name = "switchG", action = "toggle", target = "laserS1"}
@@ -96,7 +96,7 @@
     ti["~"] = {"fl_bluegray"}
     ti["("] = {"fl_bridge_gc", state = CLOSED}
     ti[";"] = ti["("] .. {"it_yinyang"}
-    ti["R"] = ti["~"] .. {"it-document", text = "doc2"}
+    ti["R"] = ti["~"] .. {"it_document", text = "doc2"}
     ti["&"] = ti["."] .. {"it_wormhole", destination = po(94.5, 6.5), strength = 1.0, range = 1.0}
     ti["["] = ti["("] .. {"it_sensor", name = "sensorEW01", action = "callback", target ="sensorEasyWhite01", invisible = true}
     ti["]"] = ti["."] .. {"it_sensor", name = "sensorEB01", action = "callback", target ="sensorEasyBlack01", invisible = true}
@@ -266,8 +266,8 @@
 if wo["IsDifficult"] then
     wo:drawMap(ti, po(38, 0), normalCenterMap)
 else
-    wo[{ 1, 5}] = {"it-pin"}
-    wo[{94, 5}] = {"it-pin"}
+    wo[{ 1, 5}] = {"it_pin"}
+    wo[{94, 5}] = {"it_pin"}
     wo[{94, 6}] = {"it_wormhole", destination = po(19.5,18.5), strength = 1.0, range = 1.0}
     wo[{22, 7}] = {"it_nil"}    -- white yinyang
     wo[{69, 9}] = {"it_nil"}    -- black yinyang

Modified: trunk/data/levels/enigma_viii/devnull08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/devnull08_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Relaxing at the sea" el:subtitle="" el:id="devnull08"/>
-      <el:version el:score="1" el:release="1" el:revision="19" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="20" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -31,7 +31,7 @@
 ti["p "] = {"st_box_rock"}
 ti["R "] = {"st_darkgray"}
 ti["w "] = {"st_box_wood"}
-ti["% "] = {"it-document", text = "text1"}
+ti["% "] = {"it_document", text = "text1"}
 ti["5 "] = {"it_meditation_hollow", essential = 0}
 ti["6 "] = {"it_meditation_hollow", essential = 1}
 ti["7 "] = {"it_meditation_hollow", essential = 1}

Modified: trunk/data/levels/enigma_viii/devnull15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/devnull15_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="On belay?" el:subtitle="" el:id="devnull15"/>
-      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="8" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
     ti["@"] = ti["."] .. {"#ac_marble_black", owner = 0}
 else
     ti["."] = {"fl_dark"}
-    ti["a"] = ti["."] .. {"it-pin"}
+    ti["a"] = ti["."] .. {"it_pin"}
     ti["A"] = ti["."] .. {"st_swap", name = "anchR01"}
     ti["H"] = ti[" "] .. {"st_pull"}
     ti["L"] = {"st_switch_white", name = "switchH", action = "toggle", target = "@laserW#*"}

Modified: trunk/data/levels/enigma_viii/devnull16_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/devnull16_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Hang-dogging?" el:subtitle="" el:id="devnull16"/>
-      <el:version el:score="1" el:release="1" el:revision="6" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="7" el:status="released"/>
       <el:author  el:name="/dev/null" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 dev0</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -37,7 +37,7 @@
     ti[":"] = {"fl_dark"}
     ti["X"] = ti["."]
     ti["Y"] = ti[":"] .. {"st_grate_cross"}
-    ti["!"] = ti[":"] .. {"it-pin"}
+    ti["!"] = ti[":"] .. {"it_pin"}
     ti["t"] = ti[":"] ..ti["T"]
     ti["r"] = ti["t"]
     ti["R"] = ti["t"]

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -1,20 +1,20 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
-    <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="35" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
@@ -23,7 +23,7 @@
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="9" score="3" target="time" unit="duration"/>
+    <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Vanity's Constrictions" _xpath="./andreas53_2" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas53" rel="2" rev="10" score="2" target="time" unit="duration"/>
     <level _seq="21" _title="Wierdly Wired" _xpath="./andreas49_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas49" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -37,30 +37,30 @@
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="39" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
-    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="132" score="1" target="time" unit="duration"/>
+    <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="133" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="148" score="2" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="149" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
-    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="44" _title="Multi-lane" _xpath="./devnull03_1" author="/dev/null" ctrl="force" easy="true" id="devnull03" rel="1" rev="26" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="See Saw Meditation" _xpath="./duffy180_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy180" rel="1" rev="6" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Under control?" _xpath="./devnull09_1" author="/dev/null" ctrl="force" easy="true" id="devnull09" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="47" _title=" - Meditation - " _xpath="./devnull12_1" author="/dev/null" ctrl="force" easy="true" id="devnull12" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="6" score="1" target="time" unit="duration"/>
+    <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="32" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="33" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -62,9 +62,9 @@
 ti["h "] = {"it_hammer"}
 ti["- "] = {"it_strip_ew"}
 ti["w "] = {"it_wormhole",range=0,strength=0, state=OFF}
-ti["p "] = {"it-puller-n"}
-ti["q "] = {"it-puller-s"}
-ti["t "] = {"it-document",text="text1"}
+ti["p "] = {"it_puller_n"}
+ti["q "] = {"it_puller_s"}
+ti["t "] = {"it_document",text="text1"}
 ti["M "] = ti["m "] .. {"it-spring2"}
 ti["* "] = ti[" +"] .. {"#ac_marble_black"}
 ti["L1"] = {"st_laser_s",name="laser1", state=OFF}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:38$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:39$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -90,9 +90,9 @@
 ti["$ "] = ti["9 "] .. {"#ac_top", range=2, strength=2}
 ti["% "] = ti["9 "] .. {"#ac_top", range=7, strength=6}
 ti["X "] = {"st_oxyd", flavor="d"}
-ti["( "] = ti["1 "] .. {"it-puller-e"}
-ti[") "] = ti["3 "] .. {"it-puller-w"}
-ti["^ "] = ti["  "] .. {"it-puller-n"}
+ti["( "] = ti["1 "] .. {"it_puller_e"}
+ti[") "] = ti["3 "] .. {"it_puller_w"}
+ti["^ "] = ti["  "] .. {"it_puller_n"}
 ti[". "] = ti["y "] .. {"it_strip"}
 ti["m "] = ti["y "] .. {"it_strip_sw"}
 ti["p "] = ti["  "] .. {"it_strip_ew"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 16 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,7 +43,7 @@
 ti["W"] = {"it_magicwand"}
 ti["T"] = {"st_yellow"}
 ti["!"] = {"it_death"}
-ti["d"] = {"it-document",text= "?"}
+ti["d"] = {"it_document",text= "?"}
 ti["%"] = {"it_sword"}
 ti["B"] = {"st_rawglass"}
 ti["C"] = {"st_timer",interval=4,action="toggle",target="laser1",invisible=0}
@@ -59,7 +59,7 @@
 ti["&"] = ti[" "] .. {"#ac_bug"}
 ti["?"] = ti["~"] .. {"st_actorimpulse"}
 ti["Y"] = ti[" "] .. {"it_wormhole"}
-ti[";"] = ti[" "] .. {"it-document", text="text1"}
+ti[";"] = ti[" "] .. {"it_document", text="text1"}
 ti["1"] = ti["r"] .. {"st_plop_slate", "df1"}
 ti["2"] = ti["r"] .. {"st_plop_slate", "df2"}
 ti["3"] = ti["r"] .. {"st_plop_slate", "df3"}

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:16$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:17$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -51,7 +51,7 @@
 ti["l "] = {"it_landmine"}
 ti[" u"] = ti["hh"] .. {"it_umbrella"}
 ti["/ "] = {"st_death"}
-ti[" p"] = ti["hh"] .. {"it-pencil"}
+ti[" p"] = ti["hh"] .. {"it_pencil"}
 ti["0 "] = {"st_quake"}
 ti[" f"] = ti["hh"] .. {"it_coffee"}
 ti["q "] = {"it_coffee"}
@@ -61,7 +61,7 @@
 ti["2 "] = {"st_plop_slate"}
 ti[" ."] = {"fl_swamp"}
 ti[" /"] = {"fl_blueslab"}
-ti["z "] = {"it-document", text="text1"}
+ti["z "] = {"it_document", text="text1"}
 ti["3 "] = {"st_actorimpulse"}
 ti["k "] = {"it_cherry"}
 ti["4 "] = {"st_break_boulder"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 34 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -83,8 +83,8 @@
 ti["oo"] = ti[" $"]..{"it_spoon"}
 ti["H "] = {"st_oneway_black_e"}
 ti["::"] = ti[" '"]..{"it_crack_m"}
-ti["d1"] = ti[" $"] .. {"it-document", text="beginning"}
-ti["gg"] = ti[" ("]..{"it-puller-e"}
+ti["d1"] = ti[" $"] .. {"it_document", text="beginning"}
+ti["gg"] = ti[" ("]..{"it_puller_e"}
 ti["JJ"] = ti[" %"]..{"#ac_top", range=1, strength=1}
 ti["ff"] = ti[" ("]..{"it-flagblack"}
 ti["J "] = {"st_oneway_black_n"}
@@ -113,7 +113,7 @@
     ti["w6"] = ti[" ("]..{"it_wormhole", destination = po(66.5, 31.5),range=10, strength=10}
     ti["w7"] = ti[" ("]..{"fl_sahara"}
     ti["aa"] = ti["< "]..{"fl_abyss"}
-    ti["pe"] = ti[" '"]..{"it-puller-e"}
+    ti["pe"] = ti[" '"]..{"it_puller_e"}
     ti["ei"] = ti[" ("]..{"fl_sahara"}
 else
     ti["w1"] = ti[" &"]..{"it_wormhole", destination = po(28.5, 31.5),range=3, strength=3}

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 32 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -135,7 +135,7 @@
 ti["O2"] = {"st_oneway",color=BLACK,state=SOUTH}
 ti["O3"] = {"st_oneway",color=BLACK,state=WEST}
 ti["O4"] = {"st_oneway",color=BLACK,state=NORTH}
-ti["DG"] = {"it-bag"}
+ti["DG"] = {"it_bag"}
 ti[" f"] = ti[" 2"] .. {"st_window_e",secure=true}
 ti[" g"] = ti[" 2"] .. {"st_window_s",secure=true}
 ti[" h"] = ti[" 2"] .. {"st_window_w",secure=true}

Modified: trunk/data/levels/enigma_viii/pulley16_3.xml
===================================================================
--- trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/pulley16_3.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Color Maze" el:subtitle="" el:id="pulley16"/>
-      <el:version el:score="3" el:release="3" el:revision="9" el:status="released"/>
+      <el:version el:score="3" el:release="3" el:revision="10" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -35,7 +35,7 @@
 ti["g"] = ti["$"] .. {"st_door", flavor="d", faces="ns", state=OPEN}
 ti["G"] = ti["$"] .. {"st_door", flavor="d", faces="ew", state=OPEN}
 
-ti["d"] = {"it-document", text="text1"}
+ti["d"] = {"it_document", text="text1"}
 ti["5"] = ti["b"] .. ti["d"]
 ti["6"] = ti["O"] .. ti["d"]
 ti["7"] = ti["r"] .. ti["d"]

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 148 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 149 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -90,8 +90,8 @@
 ti[",g"] = ti[",,"] .. {"it_glasses", state=SPOT_DEATH}
 ti["$g"] = ti["$$"] .. {"it_glasses", state=SPOT_DEATH}
 ti[",a"] = ti[",,"] .. {"it_floppy"}
-ti[",p"] = ti[",,"] .. {"it-pencil"}
-ti[",t"] = ti[",,"] .. {"it-document", text="mystic"}
+ti[",p"] = ti[",,"] .. {"it_pencil"}
+ti[",t"] = ti[",,"] .. {"it_document", text="mystic"}
 ti[" k"] = ti["_f"] .. {"it_cherry"}
 ti[" e"] = ti["  "] .. {"it-extinguisher_medium"}
 ti["%l"] = ti["%%"] .. {"it_extralife"}
@@ -118,22 +118,22 @@
 ti["k1"] = ti["  "] .. {"it_key", code=1}
 ti["k3"] = ti["~~"] .. {"it_key", code=3}
 ti["k4"] = ti["%%"] .. {"it_key", code=4}
-ti["d1"] = ti[",,"] .. {"it-document", text="welcome"}
-ti["d2"] = ti[",,"] .. {"it-document", text="rainmaker"}
-ti["d3"] = ti[",,"] .. {"it-document", text="bug"}
-ti["d4"] = ti[",,"] .. {"it-document", text="barber"}
-ti["d5"] = ti[",,"] .. {"it-document", text="predecessor"}
-ti["d6"] = ti[";;"] .. {"it-document", text="curse"}
-ti["d7"] = ti["  "] .. {"it-document", text="repair"}
-ti["d8"] = ti["  "] .. {"it-document", text="mailbox"}
-ti["d9"] = ti["$$"] .. {"it-document", "docinvoice", text="invoice"}
-ti["da"] = ti["  "] .. {"it-document", text="holy"}
-ti["db"] = ti[";;"] .. {"it-document", text="death"}
-ti["dc"] = ti["  "] .. {"it-document", text="fire"}
-ti["dd"] = ti["  "] .. {"it-document", text="research"}
-ti["de"] = ti[";;"] .. {"it-document", text="noitem"}
-ti["df"] = ti["%%"] .. {"it-document", text="thieves"}
-ti["dg"] = ti["''"] .. {"it-document", text="children"}
+ti["d1"] = ti[",,"] .. {"it_document", text="welcome"}
+ti["d2"] = ti[",,"] .. {"it_document", text="rainmaker"}
+ti["d3"] = ti[",,"] .. {"it_document", text="bug"}
+ti["d4"] = ti[",,"] .. {"it_document", text="barber"}
+ti["d5"] = ti[",,"] .. {"it_document", text="predecessor"}
+ti["d6"] = ti[";;"] .. {"it_document", text="curse"}
+ti["d7"] = ti["  "] .. {"it_document", text="repair"}
+ti["d8"] = ti["  "] .. {"it_document", text="mailbox"}
+ti["d9"] = ti["$$"] .. {"it_document", "docinvoice", text="invoice"}
+ti["da"] = ti["  "] .. {"it_document", text="holy"}
+ti["db"] = ti[";;"] .. {"it_document", text="death"}
+ti["dc"] = ti["  "] .. {"it_document", text="fire"}
+ti["dd"] = ti["  "] .. {"it_document", text="research"}
+ti["de"] = ti[";;"] .. {"it_document", text="noitem"}
+ti["df"] = ti["%%"] .. {"it_document", text="thieves"}
+ti["dg"] = ti["''"] .. {"it_document", text="children"}
 ti["ph"] = ti["$$"] .. {"it_pipe_ew"}
 ti["pH"] = ti[",,"] .. {"it_pipe_ew"}
 ti["pv"] = ti["$$"] .. {"it_pipe_ns"}
@@ -146,8 +146,8 @@
 ti["pC"] = ti[",,"] .. {"it_pipe_es"}
 ti["pd"] = ti["$$"] .. {"it_pipe_sw"}
 ti["pD"] = ti[",,"] .. {"it_pipe_sw"}
-ti["pn"] = ti[";;"] .. {"it-puller-n"}
-ti["pe"] = ti["gs"] .. {"it-puller-e"}
+ti["pn"] = ti[";;"] .. {"it_puller_n"}
+ti["pe"] = ti["gs"] .. {"it_puller_e"}
 ti["g1"] = {"it_rubberband", anchor2="kid1", min=0.55, max=0.65}
 ti["g2"] = {"it_rubberband", anchor2="kid2", min=1.00, max=1.10}
 ti["g3"] = {"it_rubberband", anchor2="kid3", min=1.45, max=1.55}
@@ -200,7 +200,7 @@
 ti["H7"] = ti["g7"] .. {"st_greenbrown_hollow"}
 ti["H8"] = ti["g8"] .. {"st_greenbrown_hollow"}
 ti["Hc"] = ti[";c"] .. {"st_greenbrown_hollow"}
-ti["HF"] = ti["He"] .. {"it-document", text="trapped"}
+ti["HF"] = ti["He"] .. {"it_document", text="trapped"}
 ti["I#"] = ti["  "] .. {"st_stoneimpulse"}
 ti["IM"] = ti["''"] .. {"st_stoneimpulse_movable"}
 ti["I."] = ti[".."] .. {"st_stoneimpulse"}
@@ -552,7 +552,7 @@
 did_run_escape = false
 function escape()
     if did_run_escape ==  false then
-        wo[no["escape_pos"]] = {"it-document", text="escape"}
+        wo[no["escape_pos"]] = {"it_document", text="escape"}
         did_run_escape = true
     end
     local y = no["escape_pos"].y + 1
@@ -565,13 +565,13 @@
 function curse_brittle(value, sender)
     if did_curse_brittle == false then
         wo[sender + {-1, -3}] = {"it_crack_m"}
-        wo[sender] = {"it-document", text="curse_brittle"}
+        wo[sender] = {"it_document", text="curse_brittle"}
     end
     did_curse_brittle = true
 end
 
 function curse_legs(value, sender)
-    wo[sender] = {"it-document", text="curse_legs"}
+    wo[sender] = {"it_document", text="curse_legs"}
     no["timer_curse_legs"]:on()
 end
 
@@ -631,7 +631,7 @@
     local a = no["tutoxyd"]
     local solved = #no["tutpuz#*"] == 0
     if (not solved) then
-        wo[a + {1,3}] = {"it-document", text="puzzle"}
+        wo[a + {1,3}] = {"it_document", text="puzzle"}
         wo[a + {13,3}] = {"it_cherry"}
     else
         wo:drawRect(a + {1, -1}, 13, 9, {"st_nil"})
@@ -669,14 +669,14 @@
             (k2.x >= xa and k2.x <= xb and k2.y >= ya and k2.y <= yb) and
             (k3.x >= xa and k3.x <= xb and k3.y >= ya and k3.y <= yb) and
             (k4.x >= xa and k4.x <= xb and k4.y >= ya and k4.y <= yb)) then
-        wo[sender] = {"it-document", text="bye"}
+        wo[sender] = {"it_document", text="bye"}
         did_say_bye = true
     end
 end
 
 if not wo["IsDifficult"] then
     wo[no["docinvoice"]] = {"it_nil"}
-    wo[no["door8"] - {2, 0}] = {"it-document", text="invoice"}
+    wo[no["door8"] - {2, 0}] = {"it_document", text="invoice"}
 
     wo:drawMap(ti, no["oil_shop"] + {0, 1}, "  ",
                 {"nipHpVpV",

Modified: trunk/data/levels/enigma_viii/ral30_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/ral30_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Scarlet's Necklace" el:subtitle="Who did broke the pearl necklace?" el:id="20080814ral422"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 132 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 133 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -43,7 +43,7 @@
 ti[")"] = {"st_window_es", secure=true}
 ti["("] = {"st_window_sw", secure=true}
 
-ti["d"] = {"it-document", text="story"}
+ti["d"] = {"it_document", text="story"}
 
 if wo["IsDifficult"] then
     ti["S"] = {"st_coinslot", target="check"}

Modified: trunk/data/levels/enigma_viii/raywick05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -91,7 +91,7 @@
     "#########gg#########"})
 
 wo:shuffleOxyd()
-  ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
      <el:string el:key="title">
        <el:english el:translate="false"/>

Modified: trunk/data/levels/enigma_viii/welcometopack8_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/welcometopack8_1.xml	2009-01-28 00:12:41 UTC (rev 1489)
+++ trunk/data/levels/enigma_viii/welcometopack8_1.xml	2009-01-28 02:24:09 UTC (rev 1490)
@@ -3,12 +3,11 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Welcome" el:subtitle="" el:id="welcometopack8"/>
-      <el:version el:score="1" el:release="1" el:revision="4" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="5" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.1">
-      </el:compatibility>
+      <el:compatibility el:enigma="1.1"/>
       <el:modes el:easy="true" el:single="true" el:network="false"/>
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
@@ -21,34 +20,33 @@
 ti["u"] = {"st_oxyd", name="group2#"}
 ti["v"] = {"st_oxyd", name="group3#"}
 ti["w"] = {"st_oxyd", name="group4#"}
-ti["A"] = {"#ac_marble_black"}
-ti["D"] = {"it-document", text="text1"}
-
+ti["@"] = {"#ac_marble_black"}
+ti["d"] = {"it_document", text="text1"}
 if wo["IsDifficult"] then
-    ti["T"] = {"st_timer", target="quake", action="toggle", interval=30}
-    ti["F"] = {"st_quake", "quake"}
+    ti["T"] = {"st_timer", target="quake", interval=30.0}
+    ti["Q"] = {"st_quake", name="quake"}
 else
     ti["T"] = ti[" "]
-    ti["F"] = ti[" "]
+    ti["Q"] = ti[" "]
 end
 
-w, h = wo(ti, " ", {
-"####################",
-"#        TF        #",
-"#                  #",
-"#    t        u    #",
-"#  t    t  u    u  #",
-"#     t      u     #",
-"#  v     AD     u  #",
-"#     v      w     #",
-"#  v    v  w    w  #",
-"#    v        w    #",
-"#                  #",
-"#                  #",
-"####################"
-})
+wo(ti, " ", {
+    "####################",
+    "#        TQ        #",
+    "#                  #",
+    "#    t        u    #",
+    "#  t    t  u    u  #",
+    "#     t      u     #",
+    "#  v     @d     u  #",
+    "#     v      w     #",
+    "#  v    v  w    w  #",
+    "#    v        w    #",
+    "#                  #",
+    "#                  #",
+    "####################"})
+
 wo:shuffleOxyd({"group1#*", max=2},{"group2#*", max=2},{"group3#*", max=2},{"group4#*", max=2})
-    ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">
         <el:english el:translate="true"/>



From ral at mail.berlios.de  Thu Jan 29 00:42:02 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Thu, 29 Jan 2009 00:42:02 +0100
Subject: [Enigma-game-svn] r1491 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/gui src/items src/lev
Message-ID: <200901282342.n0SNg2bh014789@sheep.berlios.de>

Author: ral
Date: 2009-01-29 00:41:44 +0100 (Thu, 29 Jan 2009)
New Revision: 1491

Added:
   trunk/data/gfx32/it_extinguisher.png
   trunk/data/gfx32/it_spring_drop.png
   trunk/data/gfx32/it_spring_keep.png
   trunk/data/gfx32/it_springboard.png
   trunk/data/gfx40/it_extinguisher.png
   trunk/data/gfx40/it_spring_drop.png
   trunk/data/gfx40/it_spring_keep.png
   trunk/data/gfx40/it_springboard.png
   trunk/data/gfx48/it_extinguisher.png
   trunk/data/gfx48/it_spring_drop.png
   trunk/data/gfx48/it_spring_keep.png
   trunk/data/gfx48/it_springboard.png
   trunk/src/items/Extinguisher.cc
   trunk/src/items/Extinguisher.hh
Removed:
   trunk/data/gfx32/it-extinguisher.png
   trunk/data/gfx32/it-spring1.png
   trunk/data/gfx32/it-spring2.png
   trunk/data/gfx32/it-springboard.png
   trunk/data/gfx40/it-extinguisher.png
   trunk/data/gfx40/it-spring1.png
   trunk/data/gfx40/it-spring2.png
   trunk/data/gfx40/it-springboard.png
   trunk/data/gfx48/it-extinguisher.png
   trunk/data/gfx48/it-spring1.png
   trunk/data/gfx48/it-spring2.png
   trunk/data/gfx48/it-springboard.png
Modified:
   trunk/data/api1init.lua
   trunk/data/api2init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/gui/LevelInspector.cc
   trunk/src/gui/LevelWidget.cc
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/lev/PersistentIndex.cc
   trunk/src/lev/Proxy.cc
   trunk/src/lev/Proxy.hh
   trunk/src/lev/RatingManager.cc
   trunk/src/lev/ScoreManager.cc
   trunk/src/lua.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/server.cc
Log:
Trunk 1.1: new API reengineering
- new object method "sound":
  - obj:sound("soundname", vol) plays a sound for grid based objects
- evaluation of XML level mode attribute "network":
  - levels with network flag true get it_yinyang added to both inventories
- reengineering extinguisher:
  - it-extinguisher -> it_extinguisher, it_extinguisher_full
  - it-extinguisher_medium -> it_extinguisher_medium
  - it-extinguisher_empty -> it_extinguisher_empty
  - full usage of StateObject:
    - old attribute "load" -> "state"
    - toggle fills up the extinguisher
- reengineering springs:
  - it-spring1 -> it_spring, it_spring_keep
  - it-spring2 -> it_spring_drop
- reengineering springboard:
  - it-springboard -> it_springboard
  - fix active area from circle to square

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/data/api1init.lua	2009-01-28 23:41:44 UTC (rev 1491)
@@ -147,6 +147,9 @@
     it_crack_l = "it-crack3",
     it_cross = "it-cross",
     it_document = "it-document",
+    it_extinguisher_empty = "it-extinguisher_empty",
+    it_extinguisher_medium = "it-extinguisher_medium",
+    it_extinguisher_full = "it-extinguisher",
     it_extralife = "it-extralife",
     it_death = "it-death",
     it_floppy = "it-floppy",
@@ -185,6 +188,9 @@
     it_seed_volcano = "it-seed_volcano",
     it_spade = "it-spade",
     it_spoon = "it-spoon",
+    it_spring_keep = "it-spring1",
+    it_spring_drop = "it-spring2",
+    it_springboard = "it-springboard",
     it_squashed = "it-squashed",
     it_shogun_s = "it-shogun-s",
     it_shogun_m = "it-shogun-m",
@@ -761,6 +767,9 @@
      if key == "value" then
          _key = "coin_value"
      end
+     if key == "load" then
+         _key = "state"
+     end
      if key == "force" and (_obj_name == "st-actorimpulse" or
              _obj_name == "st-actorimpulse_invisible" or _obj_name == "ac-horse" or
              _obj_name == "ac-rotor" or _obj_name == "ac-top")  then
@@ -915,6 +924,9 @@
      if key == "on" then
          _key = "state"
      end
+     if key == "load" then
+         _key = "state"
+     end
      if key == "blinking" then
          _key = "state"
      end

Modified: trunk/data/api2init.lua
===================================================================
--- trunk/data/api2init.lua	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/data/api2init.lua	2009-01-28 23:41:44 UTC (rev 1491)
@@ -78,6 +78,8 @@
 LARGE     = 2
 YIN       = 0
 YANG      = 1
+EMPTY     = 0
+FULL      = 2
 
 -- color
 BLACK  = 0

Deleted: trunk/data/gfx32/it-extinguisher.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-spring1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-spring2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-springboard.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_extinguisher.png (from rev 1483, trunk/data/gfx32/it-extinguisher.png)

Copied: trunk/data/gfx32/it_spring_drop.png (from rev 1483, trunk/data/gfx32/it-spring2.png)

Copied: trunk/data/gfx32/it_spring_keep.png (from rev 1483, trunk/data/gfx32/it-spring1.png)

Copied: trunk/data/gfx32/it_springboard.png (from rev 1483, trunk/data/gfx32/it-springboard.png)

Deleted: trunk/data/gfx40/it-extinguisher.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-spring1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-spring2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-springboard.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_extinguisher.png (from rev 1483, trunk/data/gfx40/it-extinguisher.png)

Copied: trunk/data/gfx40/it_spring_drop.png (from rev 1483, trunk/data/gfx40/it-spring2.png)

Copied: trunk/data/gfx40/it_spring_keep.png (from rev 1483, trunk/data/gfx40/it-spring1.png)

Copied: trunk/data/gfx40/it_springboard.png (from rev 1483, trunk/data/gfx40/it-springboard.png)

Deleted: trunk/data/gfx48/it-extinguisher.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-spring1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-spring2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-springboard.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_extinguisher.png (from rev 1483, trunk/data/gfx48/it-extinguisher.png)

Copied: trunk/data/gfx48/it_spring_drop.png (from rev 1483, trunk/data/gfx48/it-spring2.png)

Copied: trunk/data/gfx48/it_spring_keep.png (from rev 1483, trunk/data/gfx48/it-spring1.png)

Copied: trunk/data/gfx48/it_springboard.png (from rev 1483, trunk/data/gfx48/it-springboard.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/data/models-2d.lua	2009-01-28 23:41:44 UTC (rev 1491)
@@ -466,8 +466,8 @@
         "it_ring",
         "it_spade",
         "it_spoon",
-        "it-spring1",
-        "it-spring2",
+        "it_spring_keep",
+        "it_spring_drop",
         "it-surprise",
         "it_weight",
         "it-whitebomb"
@@ -523,7 +523,7 @@
 
 -- it-extinguisher --
 do
-    DefTiles("it-extinguisher", {"it-extinguisher", "it-extinguisher_medium", "it-extinguisher_empty"})
+    DefTiles("it_extinguisher", {"it_extinguisher_full", "it_extinguisher_medium", "it_extinguisher_empty"})
 end
 
 -- it-dummy
@@ -681,10 +681,10 @@
 
 -- it-springboard --
 do
-    local images = {"it-springboard1", "it-springboard2"}
-    DefTiles ("it-springboard", images)
-    DefAlias ("it-springboard", images[1])
-    DefAnim("it-springboard_anim", BuildFrames(ReverseFrames(images),120))
+    local images = {"it_springboard1", "it_springboard2"}
+    DefTiles ("it_springboard", images)
+    DefAlias ("it_springboard", images[1])
+    DefAnim("it_springboard_anim", BuildFrames(ReverseFrames(images),120))
 end
 
 -- it-vortex --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/data/schemas/objects.xml	2009-01-28 23:41:44 UTC (rev 1491)
@@ -426,6 +426,18 @@
     <object name="it_document">
       <attr name="text"/>
     </object>
+     <object name="it_extinguisher">
+      <attr name="state" max="2"/>
+    </object>
+    <object name="it_extinguisher_empty">
+      <attr name="state" value="0"/>
+    </object>
+    <object name="it_extinguisher_medium">
+      <attr name="state" value="1"/>
+    </object>
+    <object name="it_extinguisher_full">
+      <attr name="state" value="2"/>
+    </object>
     <object name="it_extralife"/>
     <object name="it_extralife_new" init="true"/>
     <object name="it_floppy"/>
@@ -576,6 +588,15 @@
     <object name="it_shogun_l">
       <attr name="flavor" value="l"/>
     </object>
+    <object name="it_spring">
+    </object>
+    <object name="it_spring_keep">
+      <attr name="state" value="0"/>
+    </object>
+    <object name="it_spring_drop">
+      <attr name="state" value="1"/>
+    </object>
+    <object name="it_springboard"/>
     <object name="it_squashed">
       <msg name="_brush"/>
     </object>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/Makefile.am	2009-01-28 23:41:44 UTC (rev 1491)
@@ -216,6 +216,8 @@
 	items/CrossItem.hh	\
 	items/DocumentItem.cc	\
 	items/DocumentItem.hh	\
+	items/Extinguisher.cc	\
+	items/Extinguisher.hh	\
 	items/ExtraLife.cc	\
 	items/ExtraLife.hh	\
 	items/GlassesItem.cc	\

Modified: trunk/src/gui/LevelInspector.cc
===================================================================
--- trunk/src/gui/LevelInspector.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/gui/LevelInspector.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -215,7 +215,7 @@
         std::string tmp, tmp2;
         lev::RatingManager *theRatingMgr = lev::RatingManager::instance();
         lev::ScoreManager  *theScoreMgr = lev::ScoreManager::instance();
-        withEasy = aLevel->hasEasymode();
+        withEasy = aLevel->hasEasyMode();
         ratingInherited = theScoreMgr->isRatingInherited(aLevel);
         ecl::Font *menufont = enigma::GetFont("menufont");
         levelPathString = 

Modified: trunk/src/gui/LevelWidget.cc
===================================================================
--- trunk/src/gui/LevelWidget.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/gui/LevelWidget.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -243,7 +243,7 @@
             //   Silver + Gold: Level beaten in all modes - easy available
             Surface *useAsEasy = NULL;
             Surface *useAsDifficult = NULL;
-            if (proxy->hasEasymode()) {
+            if (proxy->hasEasyMode()) {
                 useAsEasy = img_feather;
                 if (scoreMgr->isSolved(proxy, DIFFICULTY_EASY))
                     useAsEasy = img_easy;
@@ -274,7 +274,7 @@
             if (scoreMgr->bestScoreReached(proxy, app.state->getInt("Difficulty"))) {
                 blit(gc, x+35, y+5, 
                         (app.state->getInt("Difficulty") != DIFFICULTY_HARD &&
-                        proxy->hasEasymode()) ? img_wrEasy : img_wrDifficult);
+                        proxy->hasEasyMode()) ? img_wrEasy : img_wrDifficult);
             } else if (scoreMgr->parScoreReached(proxy, app.state->getInt("Difficulty"))){
                 blit(gc, x+30, y+12, img_par);
             }

Added: trunk/src/items/Extinguisher.cc
===================================================================
--- trunk/src/items/Extinguisher.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items/Extinguisher.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -0,0 +1,110 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/Extinguisher.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "player.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    Extinguisher::Extinguisher(int load) {
+        state = load;
+    }
+    
+    std::string Extinguisher::getClass() const {
+        return "it_extinguisher";
+    }
+    
+    int Extinguisher::maxState() const {
+        return FULL;
+    }
+    
+    void Extinguisher::toggleState() {
+        if (state < FULL)
+            setState(state + 1);
+    }
+    
+    void Extinguisher::setState(int extState) {
+        Item::setState(extState);
+        if (!isDisplayable())
+            player::RedrawInventory();            
+    }
+    
+    void Extinguisher::init_model() {
+        set_model(get_traits().name);
+    }
+    
+    ItemAction Extinguisher::activate(Actor* a, GridPos p) {
+        if (state >= MEDIUM) {
+            extinguish(p);
+            extinguish(move(p, NORTH));
+            extinguish(move(p, SOUTH));
+            extinguish(move(p, EAST));
+            extinguish(move(p, WEST));
+            if (state == FULL) {
+                // full extinguisher has a larger range
+                extinguish(move(p, NORTH, NORTH));
+                extinguish(move(p, NORTH, EAST));
+                extinguish(move(p, SOUTH, SOUTH));
+                extinguish(move(p, SOUTH, WEST));
+                extinguish(move(p, EAST, EAST));
+                extinguish(move(p, EAST, SOUTH));
+                extinguish(move(p, WEST, WEST));
+                extinguish(move(p, WEST, NORTH));
+            }
+            --state;
+    
+            // Redraw the player's inventory, the visual representation of
+            // the extinguisher has changed.
+            player::RedrawInventory();
+        } else
+            return ITEM_DROP;
+    }
+
+    void Extinguisher::extinguish(GridPos p) {
+        if (Item *it = GetItem(p)) {
+            // try to extinguish fire - burnable items
+            SendMessage (it, "extinguish");
+        } else {
+            // set extinguishing foam to prevent upcoming fire
+            SetItem (p, MakeItem("it-burnable_fireproof"));
+        }
+    }
+    
+    int Extinguisher::traitsIdx() const {
+        return state;
+    }
+    
+    ItemTraits Extinguisher::traits[3] = {
+        {"it_extinguisher_empty",  it_extinguisher_empty,  itf_none, 0.0},
+        {"it_extinguisher_medium", it_extinguisher_medium, itf_fireproof, 0.0},
+        {"it_extinguisher_full",   it_extinguisher,        itf_fireproof, 0.0},
+    };
+
+    BOOT_REGISTER_START
+        BootRegister(new Extinguisher(2), "it_extinguisher");
+        BootRegister(new Extinguisher(0), "it_extinguisher_empty");
+        BootRegister(new Extinguisher(1), "it_extinguisher_medium");
+        BootRegister(new Extinguisher(2), "it_extinguisher_full");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/Extinguisher.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/Extinguisher.hh
===================================================================
--- trunk/src/items/Extinguisher.hh	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items/Extinguisher.hh	2009-01-28 23:41:44 UTC (rev 1491)
@@ -0,0 +1,65 @@
+/*
+ * Copyright (C) 2008 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef EXTINGUISHERITEM_HH
+#define EXTINGUISHERITEM_HH
+
+#include "items.hh"
+
+//#include "enigma.hh"
+
+namespace enigma {
+    /**
+     */
+
+    class Extinguisher : public Item {
+        CLONEOBJ(Extinguisher);
+        DECL_ITEMTRAITS_ARRAY(3, traitsIdx());
+
+    private:
+        enum iState {
+            EMPTY      =  0,       ///< 
+            MEDIUM     =  1,       ///< 
+            FULL       =  2       ///<
+        };
+
+    public:
+        Extinguisher(int load);
+        
+        // Object interface
+        virtual std::string getClass() const;
+
+        // StateObject interface
+        virtual int maxState() const;
+        virtual void toggleState();
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+        
+    private:
+        void extinguish(GridPos p);
+        int traitsIdx() const;
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/Extinguisher.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items/SimpleItems.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -196,6 +196,62 @@
 
     DEF_ITEMTRAITS(Spoon, "it_spoon", it_spoon);
 
+/* -------------------- Spring -------------------- */
+    Spring::Spring(int type) {
+        state = type;
+    }
+    
+    void Spring::setState(int extState) {
+        // block all write attempts
+    }
+    
+    ItemAction Spring::activate(Actor *a, GridPos p) {
+        if (state == KEEP) {
+            SendMessage(a, "_jump");
+            return ITEM_KEEP;
+        } else if (state == DROP) {
+            Item *it = GetItem(p);
+            if (!it || has_flags(it, itf_static)) {
+                SendMessage(a, "_jump");
+                return ITEM_DROP;  // drop if grid has no item
+            } else {
+                // don't jump if a regular item is on the grid
+                return ITEM_KEEP;
+            }
+        }
+    }
+    
+    int Spring::traitsIdx() const {
+        return state;
+    }
+    
+    ItemTraits Spring::traits[2] = {
+        {"it_spring_keep", it_spring_keep,  itf_none, 0.0},
+        {"it_spring_drop", it_spring_drop,  itf_none, 0.0},
+    };
+
+/* -------------------- Springboard -------------------- */
+    Springboard::Springboard() {
+    }
+    
+    bool Springboard::actor_hit(Actor *a) {
+        const double MAXDIST = 0.3;
+        double ycenter = get_pos().y + 0.5;
+        double xcenter = get_pos().x + 0.5;
+        ecl::V2 apos = a->get_pos();
+        if ((fabs(apos[1] - ycenter) <= MAXDIST) && (fabs(apos[0] - xcenter) <= MAXDIST)) {
+            set_anim("it_springboard_anim");
+            SendMessage(a, "_jump");
+        }
+        return false;
+    }
+
+    void Springboard::animcb() {
+        set_model("it_springboard");
+    }
+
+    DEF_ITEMTRAITSF(Springboard, "it_springboard", it_springboard, itf_static);
+    
 /* -------------------- Squashed Cherry -------------------- */
 
     Squashed::Squashed() {
@@ -289,6 +345,10 @@
         BootRegister(new Ring(), "it_ring");
         BootRegister(new Spade(), "it_spade");
         BootRegister(new Spoon(), "it_spoon");
+        BootRegister(new Spring(0), "it_spring");
+        BootRegister(new Spring(0), "it_spring_keep");
+        BootRegister(new Spring(1), "it_spring_drop");
+        BootRegister(new Springboard(), "it_springboard");
         BootRegister(new Squashed(), "it_squashed");
         BootRegister(new Weight(), "it_weight");
         BootRegister(new Wrench(), "it_wrench");

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items/SimpleItems.hh	2009-01-28 23:41:44 UTC (rev 1491)
@@ -180,8 +180,48 @@
         virtual ItemAction activate(Actor* a, GridPos p);
     };
 
+    /**
+     * Spring
+     */
+    class Spring : public Item {
+        CLONEOBJ(Spring);
+        DECL_ITEMTRAITS_ARRAY(2, traitsIdx());
+    private:
+        enum iState {
+            KEEP     =  0,    ///< 
+            DROP     =  1     ///< 
+        };
+    public:
+        Spring(int type);
+        
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // Item interface
+        virtual ItemAction activate(Actor* a, GridPos p);
+        
+    private:
+        int traitsIdx() const;
+    };
     
     /**
+     * Spring
+     */
+    class Springboard : public Item {
+        CLONEOBJ(Springboard);
+        DECL_ITEMTRAITS;
+
+    public:
+        Springboard();
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // ItemObject interface
+        virtual bool actor_hit(Actor *a);
+    };
+
+    /**
      * Squashed
      */
     class Squashed : public Item {

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -235,83 +235,6 @@
     DEF_ITEMTRAITSF(BrokenBooze, "it-booze-broken", it_booze_broken, itf_static | itf_indestructible);
 }
 
-/* -------------------- Springs -------------------- */
-
-/** \page it-spring Spring
-
-Activating a spring will make the marble jump.
-A jumping marble does not fall into abyss or water.
-
-Springs come in two flavors: it-spring1 stays in the inventory,
-whereas it-spring2 drops to the floor when you activate it.
-
-\image html it-spring1.png
-*/
-namespace
-{
-    class Spring1 : public Item {
-        CLONEOBJ(Spring1);
-        DECL_ITEMTRAITS;
-    public:
-        Spring1() {}
-    private:
-        ItemAction activate(Actor *a, GridPos)
-        {
-            SendMessage(a, "_jump");
-            return ITEM_KEEP;
-        }
-    };
-    DEF_ITEMTRAITS(Spring1, "it-spring1", it_spring1);
-
-    class Spring2 : public Item {
-        CLONEOBJ(Spring2);
-        DECL_ITEMTRAITS;
-    public:
-        Spring2() {}
-    private:
-        ItemAction activate(Actor *a, GridPos p)
-        {
-            Item *it = GetItem(p);
-            if (!it || has_flags(it, itf_static)) {
-                SendMessage(a, "_jump");
-                return ITEM_DROP;  // drop if grid has no item
-            } else {
-                // don't jump if a regular item is on the grid
-                return ITEM_KEEP;
-            }
-        }
-    };
-    DEF_ITEMTRAITS(Spring2, "it-spring2", it_spring2);
-}
-
-
-/* -------------------- Springboard -------------------- */
-namespace
-{
-    class Springboard : public Item {
-        CLONEOBJ(Springboard);
-        DECL_ITEMTRAITS;
-
-        bool actor_hit(Actor *a) {
-            const double ITEM_RADIUS = 0.3;
-            ecl::V2 item_center(get_pos().x + 0.5, get_pos().y + 0.5);
-            double dist = length(a->get_pos() - item_center);
-            if (dist < ITEM_RADIUS) {
-                set_anim("it-springboard_anim");
-                SendMessage(a, "_jump");
-            }
-            return false;
-        }
-
-        void animcb() {
-            set_model("it-springboard");
-        }
-    public:
-        Springboard() {}
-    };
-    DEF_ITEMTRAITSF(Springboard, "it-springboard", it_springboard, itf_static);
-}
-
 /* -------------------- Explosion -------------------- */
 namespace
 {
@@ -700,78 +623,6 @@
 }
 
 
-/* -------------------- Fire Extinguisher -------------------- */
-namespace
-{
-    /*! This items can extinguish burning floor. */
-    class Extinguisher : public Item {
-        CLONEOBJ(Extinguisher);
-        DECL_ITEMTRAITS_ARRAY(3, get_load());
-    public:
-        static void setup() {
-            RegisterItem (new Extinguisher(0));
-            RegisterItem (new Extinguisher(1));
-            RegisterItem (new Extinguisher(2));
-        }
-
-    private:
-        Extinguisher (int load) {
-    	    setAttr("load", load);
-        }
-
-        int get_load() const { return ecl::Clamp<int>(getAttr("load"),0,2); }
-        void set_load (int load) { setAttr("load", ecl::Clamp<int>(load,0,2)); }
-
-        void extinguish (GridPos p) {
-            if (Item *it = GetItem(p)) {
-                SendMessage (it, "extinguish");
-            } else {
-                SetItem (p, MakeItem("it-burnable_fireproof"));
-            }
-        }
-
-        /* ---------- Item interface ---------- */
-
-        ItemAction activate(Actor *a, GridPos p);
-    };
-
-    ItemTraits Extinguisher::traits[3] = {
-        {"it-extinguisher_empty",  it_extinguisher_empty,  itf_none, 0.0},
-        {"it-extinguisher_medium", it_extinguisher_medium, itf_fireproof, 0.0},
-        {"it-extinguisher",        it_extinguisher,        itf_fireproof, 0.0},
-    };
-}
-
-ItemAction Extinguisher::activate(Actor *a, GridPos p)
-{
-    int load = get_load();
-    if (load > 0) {
-        extinguish (p);
-        extinguish (move(p, NORTH));
-        extinguish (move(p, SOUTH));
-        extinguish (move(p, EAST));
-        extinguish (move(p, WEST));
-        if (load > 1) {
-            // full extinguisher has a larger range
-            extinguish (move(p, NORTH, NORTH));
-            extinguish (move(p, NORTH, EAST));
-            extinguish (move(p, SOUTH, SOUTH));
-            extinguish (move(p, SOUTH, WEST));
-            extinguish (move(p, EAST, EAST));
-            extinguish (move(p, EAST, SOUTH));
-            extinguish (move(p, WEST, WEST));
-            extinguish (move(p, WEST, NORTH));
-        }
-        set_load(load - 1);
-
-        // Redraw the player's inventory, the visual representation of
-        // the extinguisher has changed.
-        player::RedrawInventory();
-    }
-    return ITEM_DROP;
-}
-
-
 /* -------------------- Flags -------------------- */
 
 namespace
@@ -898,11 +749,11 @@
         // before stones are created.
         if (server::GetDifficulty() == DIFFICULTY_EASY) {
             if (Stone *st = GetStone (get_pos())) {
-                if (st->is_kind ("st-death") ||
-                    st->is_kind ("st-flash") ||
-                    st->is_kind ("st-thief"))
+                if (st->is_kind ("st_death") ||
+                    st->is_kind ("st_flash") ||
+                    st->is_kind ("st_thief"))
                 {
-                    SetStone (get_pos(), MakeStone ("st-plain"));
+                    SetStone (get_pos(), MakeStone ("st_flat"));
                 }
                 else
                     KillStone(get_pos());
@@ -993,7 +844,7 @@
         void on_drop (Actor *) {
             static char *items[] = {
                 "it_umbrella",
-                "it-spring1",
+                "it_spring_keep",
                 "it-dynamite",
                 "it_coffee",
                 "it_hammer"
@@ -1109,16 +960,12 @@
     RegisterItem (new Explosion1);
     RegisterItem (new Explosion2);
     RegisterItem (new Explosion3);
-    Extinguisher::setup();
     RegisterItem (new FlagBlack);
     RegisterItem (new FlagWhite);
     RegisterItem (new Odometer);
     RegisterItem (new OnePKillStone);
     RegisterItem (new OxydBridge);
     RegisterItem (new OxydBridgeActive);
-    RegisterItem (new Spring1);
-    RegisterItem (new Spring2);
-    RegisterItem (new Springboard);
     RegisterItem (new SurpriseItem);
     RegisterItem (new TwoPKillStone);
     RegisterItem (new WhiteBomb);

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/items.hh	2009-01-28 23:41:44 UTC (rev 1491)
@@ -117,8 +117,8 @@
         it_signalfilter1,
         it_spade,
         it_spoon,
-        it_spring1,
-        it_spring2,
+        it_spring_keep,
+        it_spring_drop,
         it_springboard,
         it_squashed,
         it_strip,

Modified: trunk/src/lev/PersistentIndex.cc
===================================================================
--- trunk/src/lev/PersistentIndex.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lev/PersistentIndex.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -770,7 +770,7 @@
             levelElem->setAttribute( Utf8ToXML("rev").x_str(),
                     Utf8ToXML(ecl::strf("%d",level->getRevisionNumber())).x_str());
             levelElem->setAttribute( Utf8ToXML("easy").x_str(),
-                    Utf8ToXML(level->hasEasymode() ? "true" : "false").x_str());
+                    Utf8ToXML(level->hasEasyMode() ? "true" : "false").x_str());
             std::string control;
             switch (variations[i].ctrl) {
             case lev::force:

Modified: trunk/src/lev/Proxy.cc
===================================================================
--- trunk/src/lev/Proxy.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lev/Proxy.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -251,7 +251,7 @@
     std::set<std::string> Proxy::getLevelIds(bool withEasy) {
         std::set<std::string> result;
         for (std::map<std::string, Proxy *>::iterator i= cache.begin(); i != cache.end(); i++) {
-            if ((*i).second->hasEasymode() == withEasy)
+            if ((*i).second->hasEasyMode() == withEasy)
                 result.insert((*i).second->getId());
         }
         return result;
@@ -272,7 +272,7 @@
             isLibraryFlag (proxyIsLibrary), normPathType(thePathType), normLevelPath(theNormLevelPath), 
             id(levelId), title(levelTitle), author(levelAuthor),
             scoreVersion(levelScoreVersion), releaseVersion(levelRelease),
-            revisionNumber(levelRevision), hasEasymodeFlag(levelHasEasymode), 
+            revisionNumber(levelRevision), hasEasyModeFlag(levelHasEasymode), 
             engineCompatibility(levelCompatibilty), levelStatus (status), 
             scoreUnit (duration), doc(NULL) {
     }
@@ -401,7 +401,7 @@
         
         // create new proxy
         return registerLevel(std::string("./")+filenameBase, newPackPath, id, title,
-                        author, scoreVersion, releaseVersion, hasEasymodeFlag, 
+                        author, scoreVersion, releaseVersion, hasEasyModeFlag, 
                         engineCompatibility, levelStatus, revisionNumber);
     }
     
@@ -605,7 +605,9 @@
                 getRevisionNumber();
                 getLevelStatus();
                 getAuthor();
-                hasEasymode();
+                hasEasyMode();
+                hasSingleMode();
+                hasNetworkMode();
                 getScoreUnit();
                 getEngineCompatibility();
                 if (!onlyMetadata){   
@@ -624,6 +626,7 @@
         if (this == currentLevel) {    // just level - no libs
             server::SetCompatibility(this);
             server::EnigmaCompatibility = getEnigmaCompatibility();
+            server::TwoPlayerGame = hasNetworkMode();
             server::LevelStatus = getLevelStatus();
             if (server::EnigmaCompatibility < 1.10) {
                 server::AllowSingleOxyds = true;
@@ -1011,17 +1014,39 @@
         return title;
     }
 
-    bool Proxy::hasEasymode() {
+    bool Proxy::hasEasyMode() {
         if (doc != NULL) {
             DOMElement *modesElem = 
                     dynamic_cast<DOMElement *>(infoElem->getElementsByTagNameNS(
                     levelNS, Utf8ToXML("modes").x_str())->item(0));
-            hasEasymodeFlag = boolValue(modesElem->getAttributeNS(levelNS, 
+            hasEasyModeFlag = boolValue(modesElem->getAttributeNS(levelNS, 
                         Utf8ToXML("easy").x_str()));
         }
-        return hasEasymodeFlag;
+        return hasEasyModeFlag;
     }
 
+    bool Proxy::hasSingleMode() {
+        if (doc != NULL) {
+            DOMElement *modesElem = 
+                    dynamic_cast<DOMElement *>(infoElem->getElementsByTagNameNS(
+                    levelNS, Utf8ToXML("modes").x_str())->item(0));
+            hasSingleModeFlag = boolValue(modesElem->getAttributeNS(levelNS, 
+                        Utf8ToXML("single").x_str()));
+        }
+        return hasSingleModeFlag;
+    }
+
+    bool Proxy::hasNetworkMode() {
+        if (doc != NULL) {
+            DOMElement *modesElem = 
+                    dynamic_cast<DOMElement *>(infoElem->getElementsByTagNameNS(
+                    levelNS, Utf8ToXML("modes").x_str())->item(0));
+            hasNetworkModeFlag = boolValue(modesElem->getAttributeNS(levelNS, 
+                        Utf8ToXML("network").x_str()));
+        }
+        return hasNetworkModeFlag;
+    }
+
     std::string Proxy::getContact() {
         std::string contact;
         if (doc != NULL) {

Modified: trunk/src/lev/Proxy.hh
===================================================================
--- trunk/src/lev/Proxy.hh	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lev/Proxy.hh	2009-01-28 23:41:44 UTC (rev 1491)
@@ -109,7 +109,9 @@
         levelStatusType getLevelStatus();
         std::string getAuthor();
         std::string getTitle(); // english title
-        bool hasEasymode();
+        bool hasEasyMode();
+        bool hasSingleMode();
+        bool hasNetworkMode();
         std::string getContact();
         std::string getHomepage();
         controlType getControl();
@@ -161,7 +163,9 @@
         int releaseVersion;
         int revisionNumber;
         levelStatusType levelStatus;
-        bool hasEasymodeFlag;
+        bool hasEasyModeFlag;
+        bool hasSingleModeFlag;
+        bool hasNetworkModeFlag;
         scoreUnitType scoreUnit;
         /**
          * The compatibility that needs to be preset on level load.

Modified: trunk/src/lev/RatingManager.cc
===================================================================
--- trunk/src/lev/RatingManager.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lev/RatingManager.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -519,7 +519,7 @@
     }
     
     short RatingManager::getBestScore(Proxy *levelProxy, int difficulty) {
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         switch (difficulty) {
             case DIFFICULTY_EASY:
@@ -556,7 +556,7 @@
     }
     
     std::string RatingManager::getBestScoreHolder(Proxy *levelProxy, int difficulty, int cut) {
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         switch (difficulty) {
             case DIFFICULTY_EASY:
@@ -602,7 +602,7 @@
     
     
     short RatingManager::getParScore(Proxy *levelProxy, int difficulty) {
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         switch (difficulty) {
             case DIFFICULTY_EASY:

Modified: trunk/src/lev/ScoreManager.cc
===================================================================
--- trunk/src/lev/ScoreManager.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lev/ScoreManager.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -518,7 +518,7 @@
     bool ScoreManager::isSolved(lev::Proxy *levelProxy, int difficulty) {
         ecl::Assert <XFrontend> (difficulty >= DIFFICULTY_EASY &&  
                 difficulty <= DIFFICULTY_ANY, "ScoreManager::isSolved illegal difficulty");
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         DOMElement * level = getLevel(levelProxy);
@@ -533,7 +533,7 @@
     bool ScoreManager::isOutdated(lev::Proxy *levelProxy, int difficulty) {
         ecl::Assert <XFrontend> (difficulty >= DIFFICULTY_EASY &&  
                 difficulty <= DIFFICULTY_HARD, "ScoreManager::isOutdated illegal difficulty");
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         DOMElement * level = getLevel(levelProxy);
@@ -552,7 +552,7 @@
     int ScoreManager::getBestUserScore(lev::Proxy *levelProxy, int difficulty) {
         ecl::Assert <XFrontend> (difficulty >= DIFFICULTY_EASY &&  
                 difficulty <= DIFFICULTY_HARD, "ScoreManager::getBestUserScore illegal difficulty");
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         DOMElement * level = getLevel(levelProxy);
@@ -572,7 +572,7 @@
         if (levelProxy->getLevelStatus() != lev::STATUS_RELEASED)
             return;
         
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         if (score > SCORE_MAX)
@@ -686,7 +686,7 @@
     }
     
     bool ScoreManager::bestScoreReached(lev::Proxy *levelProxy, int difficulty) {
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         int bestUserScore = getBestUserScore(levelProxy, difficulty);
@@ -695,7 +695,7 @@
     }
     
     bool ScoreManager::parScoreReached(lev::Proxy *levelProxy, int difficulty) {
-        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasymode())
+        if (difficulty == DIFFICULTY_EASY && !levelProxy->hasEasyMode())
             difficulty = DIFFICULTY_HARD;
         
         int bestUserScore = getBestUserScore(levelProxy, difficulty);

Modified: trunk/src/lua.cc
===================================================================
--- trunk/src/lua.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/lua.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -1773,6 +1773,32 @@
     return 0;
 }
 
+static int objectSound(lua_State *L) {
+    if (lua_gettop(L) < 1 || !is_object(L, 1)) {
+        throwLuaError(L, "Syntax error - usage of '.' instead of ':'");
+        return 0;        
+    }
+    if (!(lua_gettop(L) >= 2 && lua_isstring(L, 2))) {
+        throwLuaError(L, "Sound name expected as first argument");
+        return 0;        
+    }
+    double vol = 1.0;
+    if (lua_gettop(L) >=3 && lua_isnumber(L, 3))
+        vol = lua_tonumber(L, 3);
+    
+    GridObject *gobj = dynamic_cast<GridObject*>(to_object(L, 1));
+    if (gobj != NULL) {
+        if (!gobj->sound_event(lua_tostring(L, 2), vol)) {
+            //throwLuaError(L, strf("Can't find sound '%s'", soundname).c_str());
+            // Don't throw an error when no sound file was found.
+            // Remember that user sound sets might be incomplete, and
+            // absolutely correct levels could throw an error here.
+            // Instead, write the "silence string" to the command line:
+            sound::WriteSilenceString(lua_tostring(L, 2));
+        }
+    }
+    return 0;
+}
 
 
 static int xyPosition(lua_State *L) {
@@ -3287,6 +3313,7 @@
     {objectGetKind,                 "kind"},
     {killObject,                    "kill"},
     {objectMessage,                 "message"},
+    {objectSound,                   "sound"},
     {setAttributes,                 "set"},
     {xyObject,                      "xy"},
     {0,0}

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/ox_magnum.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -328,8 +328,8 @@
     UNUSED,        // OxydMagnum item 0x23
     "it_pin",           // OxydMagnum item 0x24
     "it_seed",          // OxydMagnum item 0x25
-    "it-spring2",       // OxydMagnum item 0x26
-    "it-spring1",       // OxydMagnum item 0x27
+    "it_spring_drop",   // OxydMagnum item 0x26
+    "it_spring_keep",   // OxydMagnum item 0x27
     "it_bag",           // OxydMagnum item 0x28
     "it_magnet_off",    // OxydMagnum item 0x29
     "it_inversesensor", // OxydMagnum item 0x2a
@@ -344,7 +344,7 @@
     "it_meditation_dent",   // OxydMagnum item 0x33
     "it_strip_ns",      // OxydMagnum item 0x34
     "it_strip_ew",      // OxydMagnum item 0x35
-    "it-springboard",   // OxydMagnum item 0x36
+    "it_springboard",   // OxydMagnum item 0x36
     IT_MISSING,       // OxydMagnum item 0x37
     "it-bridge-oxyd",   // OxydMagnum item 0x38
     UNUSED,        // OxydMagnum item 0x39
@@ -366,7 +366,7 @@
     UNUSED,        // OxydMagnum item 0x49
     UNUSED,        // OxydMagnum item 0x4a
     UNUSED,        // OxydMagnum item 0x4b
-    "it-springboard",   // OxydMagnum item 0x4c
+    "it_springboard",   // OxydMagnum item 0x4c
     UNUSED,        // OxydMagnum item 0x4d
     UNUSED,        // OxydMagnum item 0x4e
     UNUSED,        // OxydMagnum item 0x4f

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/ox_oxyd1.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -344,8 +344,8 @@
     "it-surprise",                // 0x23
     "it_pin",                     // 0x24
     "it_seed",                    // 0x25
-    "it-spring2",                 // 0x26
-    "it-spring1",                 // 0x27
+    "it_spring_drop",             // 0x26
+    "it_spring_keep",             // 0x27
     "it_bag",                     // 0x28
     "it_magnet_off",              // 0x29
     "it_inversesensor",           // 0x2a
@@ -360,7 +360,7 @@
     "it_meditation_dent",         // 0x33
     "it_strip_ns",                // 0x34
     "it_strip_ew",                // 0x35
-    "it-springboard",             // 0x36
+    "it_springboard",             // 0x36
     "it-bridge-oxyd",             // 0x37 bridge active
     "it-bridge-oxyd",             // 0x38 bridge inactive
     "it-bridge-oxyd_active",      // 0x39 walkable bridge (?"

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/ox_peroxyd.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -416,8 +416,8 @@
     "it-surprise",                // 0x22
     "it_pin",                     // 0x23
     "it_seed",                    // 0x24
-    "it-spring2",                 // 0x25
-    "it-spring1",                 // 0x26
+    "it_spring_board",            // 0x25
+    "it_spring_keep",             // 0x26
     "it_bag",                     // 0x27
     "it_magnet_off",              // 0x28
     "it_sensor_filter0",          // 0x29
@@ -433,7 +433,7 @@
     "it_meditation_dent",         // 0x33
     "it_strip_ns",                // 0x34
     "it_strip_ew",                // 0x35
-    "it-springboard",             // 0x36
+    "it_springboard",             // 0x36
     IT_MISSING,                   // 0x37
     "it-bridge-oxyd",             // 0x38
     UNUSED,                  // 0x39

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-01-28 02:24:09 UTC (rev 1490)
+++ trunk/src/server.cc	2009-01-28 23:41:44 UTC (rev 1491)
@@ -517,7 +517,7 @@
     // ------------------------------ quick options
     else if (cmd == "easy") {
         if (app.state->getInt("Difficulty") == DIFFICULTY_HARD) {
-            if (curProxy->hasEasymode()) {
+            if (curProxy->hasEasyMode()) {
                 client::Msg_ShowText("Restarting in easy mode", false, 2);
                 app.state->setProperty("Difficulty", DIFFICULTY_EASY);
                 server::Msg_Command("restart");
@@ -531,7 +531,7 @@
     else if (cmd == "noeasy") {
         if (app.state->getInt("Difficulty") == DIFFICULTY_EASY) {
             app.state->setProperty("Difficulty", DIFFICULTY_HARD);
-            if (curProxy->hasEasymode()) {
+            if (curProxy->hasEasyMode()) {
                 client::Msg_ShowText("Restarting in normal mode", false, 2);
                 server::Msg_Command("restart");
             }
@@ -639,7 +639,7 @@
     lev::Index *ind = lev::Index::getCurrentIndex();
     lev::Proxy *curProxy = ind->getCurrent();
     int i= app.state->getInt("Difficulty");
-    if (i == DIFFICULTY_EASY && !server::CreatingPreview && curProxy->hasEasymode())
+    if (i == DIFFICULTY_EASY && !server::CreatingPreview && curProxy->hasEasyMode())
         return DIFFICULTY_EASY;
     else
         return DIFFICULTY_HARD;



From raoul at mail.berlios.de  Thu Jan 29 02:38:08 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 29 Jan 2009 02:38:08 +0100
Subject: [Enigma-game-svn] r1492 - in trunk/data/levels: enigma_cross
	enigma_iv enigma_v enigma_vii enigma_viii
Message-ID: <200901290138.n0T1c8od001316@sheep.berlios.de>

Author: raoul
Date: 2009-01-29 02:38:01 +0100 (Thu, 29 Jan 2009)
New Revision: 1492

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke01_1.xml
   trunk/data/levels/enigma_viii/mecke07_1.xml
   trunk/data/levels/enigma_viii/mecke08_1.xml
   trunk/data/levels/enigma_viii/mecke10_2.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke15_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke21_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
   trunk/data/levels/enigma_viii/raywick05_1.xml
Log:
-> Level updates for latest new API items 


Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="17" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="18" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="32" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="33" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -79,24 +79,24 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="36" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="41" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="45" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="46" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="82" _title="Red Cave" _xpath="enigma_viii/mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="45" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Status code 302" _xpath="enigma_viii/devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="84" _title="A Screenful of Secrets" _xpath="enigma_viii/mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="78" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="79" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Cross Mail" _xpath="enigma_viii/johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Color Maze" _xpath="enigma_viii/pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
     <level _seq="94" _title="Earthlink" _xpath="enigma_viii/pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -119,10 +119,10 @@
     <level _seq="111" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="149" score="2" target="time" unit="duration"/>
+    <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="150" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -137,7 +137,7 @@
     <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="17" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="18" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -58,7 +58,7 @@
 ti["y"] = {"ac_marble_white", 0, 0.5, adhesion=0} .. ti["l"]
 ti["g"] = {"st_grate_cross"} .. ti["l"]
 ti["x"] = {"it_trap", state=OPEN} .. ti["."]
-ti["S"] = {"it-spring1"} .. ti["l"]
+ti["S"] = {"it_spring_keep"} .. ti["l"]
 ti["F"] = {"it-flagblack"} .. ti["l"]
 ti["O"] = {"it_extralife"} .. ti["l"]
 ti["T"] = {"st_thief"} .. ti["="]

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="17" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="18" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="23" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma V"/>
 
   <attributes/>
 
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="15" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="16" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -58,7 +58,7 @@
 ti[" a"] = {"it_coin_s"}
 ti[" k"] = {"it_key"}
 ti[" j"] = {"it_key", code=0}
-ti[" s"] = {"it-springboard"}
+ti[" s"] = {"it_springboard"}
 ti[" ^"] = {"it_meditation_hill"}
 ti[" f"] = {"it_floppy"}
 ti[" ."] = {"it_seed"}

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="36" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="37" title="Enigma VII"/>
 
   <attributes/>
 
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="36" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="41" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="45" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="37" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="42" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="46" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -92,7 +92,7 @@
 ti["L "] = {"st_magic_oxydc"}
 ti["M "] = {"st_shogun_sml"}
 ti["N "] = {"st_door_a"}
-ti["m "] = {"it-springboard"}
+ti["m "] = {"it_springboard"}
 ti["O "] = {"st_purplegray"}
 ti["P "] = {"st-grate3"}
 ti["R "] = {"st_grate_framed"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:41$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:42$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -127,7 +127,7 @@
 ti["se"] = ti[" #"] .. {"it_seed"}
 ti["sc"] = ti[" *"] .. {"it_cherry"}
 ti["sb"] = ti[" )"] .. {"st_plop_slate"}
-ti["ss"] = ti["sb"] .. {"it-springboard"}
+ti["ss"] = ti["sb"] .. {"it_springboard"}
 ti["l1"] = ti["p1"] .. {"it_extralife"}
 ti["l2"] = ti["p2"] .. {"it_extralife"}
 ti["l3"] = ti["p3"] .. {"it_extralife"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 45 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 46 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -36,7 +36,7 @@
 ti["' "] = {"st_actorimpulse_invisible"}
 ti[" i"] = {"fl_ice"}
 ti["e "] = {"it_extralife"}
-ti["s "] = {"it-spring2"}
+ti["s "] = {"it_spring_drop"}
 ti["v "] = {"it_strip", connections="ns"}
 ti[" -"] = {"fl-gradient11"}
 ti[" ."] = {"fl-gradient12"}
@@ -55,7 +55,7 @@
 ti["1 "] = {"st_granite_hollow"}
 ti["B "] = {"st_passage_black_frame"}
 ti["2 "] = {"st_boulder_w"}
-ti["o "] = {"it-springboard"}
+ti["o "] = {"it_springboard"}
 ti["3 "] = {"st_door", faces="ns"}
 ti["f "] = {"it_coffee"}
 ti["g "] = {"it-blackbomb"}

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -1,27 +1,27 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="27" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="35" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="36" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
-    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="44" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Red Cave" _xpath="./mecke21_2" author="mecke" ctrl="force" easy="true" id="mecke21" rel="2" rev="45" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Status code 302" _xpath="./devnull02_1" author="/dev/null" ctrl="force" easy="true" id="devnull02" rel="1" rev="5" score="1" target="time" unit="duration"/>
-    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="32" score="1" target="time" unit="duration"/>
+    <level _seq="9" _title="A Screenful of Secrets" _xpath="./mecke01_1" author="mecke" ctrl="force" easy="true" id="mecke01" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="21" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="78" score="1" target="time" unit="duration"/>
+    <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="79" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
-    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="11" score="1" target="time" unit="duration"/>
+    <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="12" score="1" target="time" unit="duration"/>
     <level _seq="17" _title="Cross Mail" _xpath="./johann03_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann03" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="18" _title="Color Maze" _xpath="./pulley16_3" author="Mark Pulley" ctrl="force" easy="false" id="pulley16" rel="3" rev="10" score="3" target="time" unit="duration"/>
     <level _seq="19" _title="Earthlink" _xpath="./pulley15_1" author="Mark Pulley" ctrl="force" easy="true" id="pulley15" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -42,10 +42,10 @@
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="133" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
-    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="24" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="149" score="2" target="time" unit="duration"/>
+    <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="150" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -60,7 +60,7 @@
     <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="16" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="17" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke01_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke01_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="A Screenful of Secrets" el:subtitle="My First Level" el:id="mecke01"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -65,7 +65,7 @@
 ti["p "] = {"it_puller_n"}
 ti["q "] = {"it_puller_s"}
 ti["t "] = {"it_document",text="text1"}
-ti["M "] = ti["m "] .. {"it-spring2"}
+ti["M "] = ti["m "] .. {"it_spring_drop"}
 ti["* "] = ti[" +"] .. {"#ac_marble_black"}
 ti["L1"] = {"st_laser_s",name="laser1", state=OFF}
 ti["L2"] = {"st_laser_s",name="laser2", state=OFF}
@@ -87,7 +87,7 @@
 else
     ti["x1"] = ti["G "] .. ti[" h"]
     ti["x2"] = ti[" h"]
-    ti["x3"] = ti[" b"] .. ti["X "] .. {"it-spring2"}
+    ti["x3"] = ti[" b"] .. ti["X "] .. {"it_spring_drop"}
     ti["x4"] = ti[" b"] .. ti["X "] .. {"it_cherry"}
     ti["x5"] = ti["X "] .. ti[" b"]
     ti["x6"] = ti["G "]

Modified: trunk/data/levels/enigma_viii/mecke07_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke07_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios I" el:subtitle="Use the Lightpassenger" el:id="mecke48"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 21 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 22 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -44,7 +44,7 @@
 ti["x4"] = ti[" ~"] .. {"st_oxyd", flavor="a",name="olli4"}
 ti["x5"] = ti[" ~"] .. {"st_oxyd", flavor="a",name="olli5"}
 ti["x6"] = ti[" ~"] .. {"st_oxyd", flavor="a",name="olli6"}
-ti["o "] = {"it-springboard"}
+ti["o "] = {"it_springboard"}
 ti[" j"] = {"it_magicwand"}
 ti["S "] = ti[" n"] ..{"st_passage_black_frame"}
 ti["G "] = {"st_yellow"}

Modified: trunk/data/levels/enigma_viii/mecke08_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke08_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Helios II" el:subtitle="Use the Lightpassenger" el:id="mecke08"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 24 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 25 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -59,7 +59,7 @@
 ti["x5"] = ti[" ~"] .. {"st_oxyd", flavor="a",name="olli5"}
 ti["x6"] = ti[" ~"] .. {"st_oxyd", flavor="a",name="olli6"}
 ti["e "] = {"it_extralife"}
-ti["o "] = {"it-springboard"}
+ti["o "] = {"it_springboard"}
 ti[" j"] = {"it_magicwand"}
 ti["S "] = ti[" n"] ..{"st_passage_white_frame"}
 ti["G "] = {"st_yellow"}

Modified: trunk/data/levels/enigma_viii/mecke10_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke10_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Southside Life" el:subtitle="...Enjoy!" el:id="mecke10" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 32 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 33 $" el:status="released" />
       <el:author el:name="mecke" el:email="" el:homepage="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -119,7 +119,7 @@
 ti["E "] = {"st_boulder_s"}
 ti["F "] = {"st_passage_black_cross"}
 ti["G "] = {"st_boulder_n"}
-ti["s "] = {"it-springboard"}
+ti["s "] = {"it_springboard"}
 ti["j "] = {"it_magicwand"}
 ti["hh"] = ti[" &"] .. {"it_strip", connections="ew"}
 ti["x "] = {"#ac_marble_black"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 16 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,7 +34,7 @@
 ti["e"] = {"st_window_e"}
 ti["E"] = {"st_window_n"}
 ti["P"] = {"st_bluegray"}
-ti["p"] = ti["H"] .. {"it-spring1"}
+ti["p"] = ti["H"] .. {"it_spring_keep"}
 ti["Q"] = {"st_ghost_break"}
 ti["q"] = {"it-booze-broken"}
 ti["i"] = {"it_sensor"}

Modified: trunk/data/levels/enigma_viii/mecke15_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke15_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour I" el:subtitle="Open the Doors" el:id="mecke15"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -91,7 +91,7 @@
 ti["h2"] = ti["h1"] .. {"it_cherry"}
 ti["h3"] = ti["h1"] .. {"it_glasses"}
 ti["5 "] = {"it_key", code=1}
-ti["o "] = {"it-springboard"}
+ti["o "] = {"it_springboard"}
 ti["j "] = {"it_magicwand"}
 ti[" z"] = {"it-booze"}
 ti["P "] = {"st_grate_cross"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 35 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -58,7 +58,7 @@
 ti["; "] = {"st_puzzle", connections="ns"}
 ti["< "] = {"st_puzzle", hollow=true, connections="nesw"}
 ti["= "] = {"st_puzzle", connections="ne"}
-ti["~~"] = ti[" )"]..{"it-springboard"}
+ti["~~"] = ti[" )"]..{"it_springboard"}
 ti["> "] = {"st_puzzle", connections="ew"}
 ti[" *"] = {"fl_fake_abyss"}
 ti["tt"] = ti[" )"]..{"it_trigger", target="laserhi"}

Modified: trunk/data/levels/enigma_viii/mecke21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke21_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Red Cave" el:subtitle="In Red Light" el:id="mecke21" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 44 $" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 45 $" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -29,7 +29,7 @@
 ti["$ "] = {"st_grate_cross"}
 ti["% "] = {"st_oneway_black_n"}
 ti["& "] = {"st_camouflage"}
-ti["gg"] = ti[" !"] .. {"it-springboard"}
+ti["gg"] = ti[" !"] .. {"it_springboard"}
 ti["' "] = {"st_boulder_w"}
 ti[" $"] = {"fl_space"}
 ti["( "] = {"st_death"}
@@ -79,7 +79,7 @@
 ti["ss"] = ti[" ("] .. {"it_shogun_s"}
 ti["sm"] = ti[" &"] .. {"it_shogun_m"}
 ti["sn"] = ti[" ("] .. {"it_shogun_m"}
-ti["yy"] = ti["mn"] .. {"it-spring2"}
+ti["yy"] = ti["mn"] .. {"it_spring_drop"}
 ti["sl"] = ti[" !"] .. {"it_shogun_l"}
 ti[" *"] = {"fl_swamp"}
 ti["7 "] = {"st_rotator_cw", movable=false}
@@ -123,7 +123,7 @@
     ti["ei"] = ti[" !"] .. {"it_death"}
     ti["ec"] = ti[" !"] .. {"fl_red"}
     ti["eq"] = ti["mn"] .. {"it_spoon"}
-    ti["qq"] = ti["fg"] .. {"it-spring2"}
+    ti["qq"] = ti["fg"] .. {"it_spring_drop"}
     ti["~~"] = {"fl_water"}
 else
     ti["pd"] = {"fl_red"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:78$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:79$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -113,8 +113,8 @@
 ti["o;"] = ti[" ;"] .. {"it-burnable_oil"}
 ti["o!"] = ti[" !"] .. {"it-burnable_oil"}
 ti["g;"] = ti[" ;"] .. {"it_glasses_broken"}
-ti["sb"] = ti[" *"] .. {"it-springboard"}
-ti["sl"] = ti[" l"] .. {"it-springboard"}
+ti["sb"] = ti[" *"] .. {"it_springboard"}
+ti["sl"] = ti[" l"] .. {"it_springboard"}
 ti["wb"] = ti[" !"] .. {"it_wormhole"}
 ti["?!"] = ti[" !"] .. {"st_rawglass"}
 ti["c?"] = ti["?!"] .. {"it_coin_m"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 14 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -120,7 +120,7 @@
 ti["gt"] = {"it_glasses", state = SPOT_TRAP}
 ti["gd"] = {"it_glasses", state = SPOT_DEATH}
 ti["5 "] = {"it_key", code=1}
-ti["o "] = {"it-springboard"}
+ti["o "] = {"it_springboard"}
 ti["j "] = {"it_magicwand"}
 ti[" z"] = {"it-dynamite"}
 ti["P "] = {"st_grate_cross"}

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 149 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 150 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -93,7 +93,7 @@
 ti[",p"] = ti[",,"] .. {"it_pencil"}
 ti[",t"] = ti[",,"] .. {"it_document", text="mystic"}
 ti[" k"] = ti["_f"] .. {"it_cherry"}
-ti[" e"] = ti["  "] .. {"it-extinguisher_medium"}
+ti[" e"] = ti["  "] .. {"it_extinguisher_medium"}
 ti["%l"] = ti["%%"] .. {"it_extralife"}
 ti[" m"] = ti["  "] .. {"it_landmine"}
 ti[" o"] = ti["  "] .. {"it-burnable_oil"}

Modified: trunk/data/levels/enigma_viii/raywick05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-28 23:41:44 UTC (rev 1491)
+++ trunk/data/levels/enigma_viii/raywick05_1.xml	2009-01-29 01:38:01 UTC (rev 1492)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Impulsive Order" el:subtitle="" el:id="raywick5"/>
-      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="12" el:status="released"/>
       <el:author  el:name="Ray Wick" el:email=""/>
       <el:copyright>Copyright ? 2008 Ray Wick</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -38,7 +38,7 @@
 ti["M"] = {"st_mirror", transparent=true, orientation=0}
 ti["Z"] = {"st_shogun_sml"}
 ti["x"] = {"it-blackbomb"}
-ti["s"] = ti["G"] .. {"it-spring1"}
+ti["s"] = ti["G"] .. {"it_spring_keep"}
 ti["z"] = {"it_shogun_l", action="open", target="door1"}
 ti["B"] = {"it_trigger", action_1="signal", action_0="nop", target="outer#*"}
 ti["C"] = {"it_trigger", action_1="signal", action_0="nop", target="inner#*"}



From ral at mail.berlios.de  Fri Jan 30 00:50:46 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 30 Jan 2009 00:50:46 +0100
Subject: [Enigma-game-svn] r1493 - in trunk: data/schemas src
Message-ID: <200901292350.n0TNokoB004550@sheep.berlios.de>

Author: ral
Date: 2009-01-30 00:50:37 +0100 (Fri, 30 Jan 2009)
New Revision: 1493

Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Object.cc
   trunk/src/Object.hh
   trunk/src/Value.cc
   trunk/src/Value.hh
   trunk/src/world.cc
   trunk/src/world.hh
   trunk/src/world_internal.hh
Log:
Trunk 1.1:
- add safe actions:
  - new boolean attribute "safeaction", default false
  - on safeaction==true all action will be delayed and performed without the
    sender being part of the call stack
  - it is safe to kill the sender within the initiated safe action chain
- target attribute with self reference:
  - a string "@" as part of a target token evaluates to the sender object itself
  - actions can be performed on sender object itself
  - an object can kill itself (use safeaction=true)


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/data/schemas/objects.xml	2009-01-29 23:50:37 UTC (rev 1493)
@@ -71,6 +71,7 @@
     <attr name="push_directions" type="string" default="nil" rw="rw"/>
     <attr name="range" type="double" default="1.0" rw="rw"/>
     <attr name="rubbers" type="group" default="nil" rw="r"/>
+    <attr name="safeaction" type="bool" default="false" rw="rw"/>
     <attr name="secure" type="bool" default="false" rw="rw"/>
     <attr name="scissor" type="bool" default="false" rw="rw"/>
     <attr name="scratches" type="string" default="" rw="rw"/>
@@ -167,6 +168,7 @@
       <attr name="inverse"/>
       <attr name="name"/>
       <attr name="nopaction"/>
+      <attr name="safeaction"/>
       <attr name="state"/>
       <attr name="target"/>
       <action type="bool"/>

Modified: trunk/src/Object.cc
===================================================================
--- trunk/src/Object.cc	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/Object.cc	2009-01-29 23:50:37 UTC (rev 1493)
@@ -302,6 +302,7 @@
         
         TokenList::iterator ait = actions.begin();
         std::string action;  // empty string as default
+        bool secure = getAttr("safeaction").to_bool();
         for (TokenList::iterator tit = targets.begin(); tit != targets.end(); ++tit) {
             action = (ait != actions.end()) ? ait->to_string() : "";
             
@@ -310,8 +311,12 @@
                 if ((action == "callback" || action.empty()) && (tit->getType() == Value::STRING)) { 
 //                        && lua::IsFunc(lua::LevelState(), tit->get_string())) {
                     // it is an existing callback function
-                    if (lua::CallFunc(lua::LevelState(), tit->get_string(), messageValue, this, !action.empty()) != lua::NO_LUAERROR) {
-                        throw XLevelRuntime(std::string("callback '") + tit->get_string() + "' failed:\n"+lua::LastError(lua::LevelState()));
+                    if (secure) {
+                        PerformSecureAction(this->getId(), true, !action.empty(), tit->get_string(), messageValue);
+                    } else {
+                        if (lua::CallFunc(lua::LevelState(), tit->get_string(), messageValue, this, !action.empty()) != lua::NO_LUAERROR) {
+                            throw XLevelRuntime(std::string("callback '") + tit->get_string() + "' failed:\n"+lua::LastError(lua::LevelState()));
+                        }
                     }
                 }
                 // else ignore this no longer valid target
@@ -331,7 +336,10 @@
                         }
                         // check if message is valid, otherwise ignore message
                         if (obj_action != "nop" && (*oit)->validateMessage(obj_action, messageValue))
-                            SendMessage(*oit, Message(obj_action, messageValue, this));                    
+                            if (secure)
+                                PerformSecureAction(this->getId(), false, (*oit)->getId(), obj_action, messageValue);
+                            else
+                                SendMessage(*oit, Message(obj_action, messageValue, this));                    
                     }
                 }
             }
@@ -360,7 +368,7 @@
      */
     
     
-    bool Object::getDestinationByIndex(int idx, ecl::V2 &dstpos) const {
+    bool Object::getDestinationByIndex(int idx, ecl::V2 &dstpos) {
         int i = 0;  // counter for destination candidates
         TokenList tl = getAttr("destination");  // expand any tokens to a list of values 
         for (TokenList::iterator tit = tl.begin(); tit != tl.end(); ++tit) {

Modified: trunk/src/Object.hh
===================================================================
--- trunk/src/Object.hh	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/Object.hh	2009-01-29 23:50:37 UTC (rev 1493)
@@ -223,7 +223,7 @@
          * @arg destpos  return value for position that is centered to a grid
          * @return       validity of position at given index
          */
-        bool getDestinationByIndex(int idx, ecl::V2 &dstpos) const;
+        bool getDestinationByIndex(int idx, ecl::V2 &dstpos);
         
         /**
          * A central managed container for 32 single bit flags to be used by 

Modified: trunk/src/Value.cc
===================================================================
--- trunk/src/Value.cc	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/Value.cc	2009-01-29 23:50:37 UTC (rev 1493)
@@ -464,7 +464,7 @@
         return ecl::V2(-1, -1);        
     }
     
-    ObjectList Value::getObjectList(const Object *reference) const {
+    ObjectList Value::getObjectList(Object *reference) const {
         ObjectList result;
         switch (type) {
             case STRING:
@@ -472,6 +472,10 @@
                     // wildcards in object name - we need to add all objects
                     result = GetNamedGroup(val.str, reference);
                     break;
+                } else if (std::string(val.str) == "@") {
+                    // self reference
+                    result.push_back(reference);
+                    break;
                 }
                 // else it is a single object name - fall through
             case NAMEDOBJECT:
@@ -495,7 +499,7 @@
         return result;
     }
     
-    PositionList Value::getPositionList(const Object *reference) const {
+    PositionList Value::getPositionList(Object *reference) const {
         PositionList result;
         switch (type) {
             case STRING:
@@ -528,7 +532,7 @@
         return result;
     }
     
-    bool Value::finalizeNearestObjectReference(const Object *reference) {
+    bool Value::finalizeNearestObjectReference(Object *reference) {
         if (type == STRING && std::string(val.str).find("@@") != 0 && std::string(val.str).find("@") == 0
                 && std::string(val.str).find_first_of("*?") != std::string::npos) {
             //
@@ -544,7 +548,7 @@
                 }
             }
             // otherwise it resolves to no object
-            type = NAMEDOBJECT;
+            type = OBJECT;
             val.dval[0] = 0;
             return true;
         }

Modified: trunk/src/Value.hh
===================================================================
--- trunk/src/Value.hh	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/Value.hh	2009-01-29 23:50:37 UTC (rev 1493)
@@ -248,9 +248,9 @@
         /**
          * 
          */
-        ObjectList getObjectList(const Object *reference = NULL) const;
-        PositionList getPositionList(const Object *reference =NULL) const;
-        bool finalizeNearestObjectReference(const Object *reference = NULL);
+        ObjectList getObjectList(Object *reference = NULL) const;
+        PositionList getPositionList(Object *reference =NULL) const;
+        bool finalizeNearestObjectReference(Object *reference = NULL);
     private:
         void clear();      ///< Release resources and assign type NIL
 

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/world.cc	2009-01-29 23:50:37 UTC (rev 1493)
@@ -279,7 +279,7 @@
     return NULL;
 }
 
-std::list<Object *> World::get_group(const std::string &tmpl, const Object *reference) {
+std::list<Object *> World::get_group(const std::string &tmpl, Object *reference) {
     std::list<Object *> result;
     ecl::Dict<Object *>::iterator it = m_objnames.begin();
     std::string pattern = tmpl;
@@ -289,6 +289,10 @@
         pattern.erase(0, 1); // erase the leading @
         if (pattern.size() > 0 && pattern[0] == '@') {
             pattern.erase(0, 1); // erase the leading @@
+        } else {
+            // a single "@" is a self reference
+            result.push_back(reference);
+            return result;
         }
         if (reference != NULL)
             nearest = true;
@@ -374,7 +378,7 @@
     return Value(GridPos(-1, -1));
 }
 
-PositionList World::getPositionList(const std::string &tmpl, const Object *reference) {
+PositionList World::getPositionList(const std::string &tmpl, Object *reference) {
     PositionList positions;
     ObjectList objects = get_group(tmpl, reference);
     for (ObjectList::iterator itr = objects.begin(); itr != objects.end(); ++itr) {
@@ -479,6 +483,7 @@
 
     move_actors(dtime);
     tick_sound_dampings();
+    doPerformPendingActions();
 
     // Tell floors and items about new stones.
     for (unsigned i=0; i<changed_stones.size(); ++i)
@@ -493,6 +498,7 @@
     GameTimer.tick(dtime);
 
     PerformRecalcLight(false);   // recalculate laser beams if necessary
+    doPerformPendingActions();
     // do kill lasered actors in same time step
     for (unsigned i=0; i < actorlist.size(); ++i) {
         Item *it = actorlist[i]->get_actorinfo()->field->item;
@@ -502,6 +508,20 @@
     }
 }
 
+void World::doPerformPendingActions() {
+    for (std::list<Action>::iterator itr = actionList.begin(); itr != actionList.end(); ++itr) {
+        if ((*itr).isCallback) {
+            if (lua::CallFunc(lua::LevelState(), (*itr).name, (*itr).val, Object::getObject((*itr).senderId), (*itr).targetId) != lua::NO_LUAERROR) {
+                throw XLevelRuntime(std::string("delayed callback '") + (*itr).name + "' failed:\n"+lua::LastError(lua::LevelState()));
+            }
+        } else {
+            SendMessage(Object::getObject((*itr).targetId), 
+                    Message((*itr).name, (*itr).val, Object::getObject((*itr).senderId)));
+        }
+    }
+    actionList.clear();
+}
+
 /* ---------- Puzzle scrambling -------------------- */
 
 void World::add_scramble(GridPos p, Direction dir)
@@ -1734,7 +1754,7 @@
     return level->get_named(name);
 }
 
-std::list<Object *> GetNamedGroup(const std::string &name, const Object *reference) {
+std::list<Object *> GetNamedGroup(const std::string &name, Object *reference) {
     return level->get_group(name, reference);
 }
 
@@ -1746,7 +1766,7 @@
     return level->getNamedPosition(name);    
 }
 
-PositionList GetNamedPositionList(const string &tmpl, const Object *reference) {
+PositionList GetNamedPositionList(const string &tmpl, Object *reference) {
     return level->getPositionList(tmpl, reference);    
 }
 
@@ -1951,6 +1971,9 @@
     }
 }
 
+void PerformSecureAction(int senderId, bool isCallback, int targetId, std::string name, Value val) {
+    level->actionList.push_back(Action(senderId, isCallback, targetId, name, val));
+}
 
 namespace
 {

Modified: trunk/src/world.hh
===================================================================
--- trunk/src/world.hh	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/world.hh	2009-01-29 23:50:37 UTC (rev 1493)
@@ -57,6 +57,18 @@
         }
     };
 
+    struct Action {
+        int         senderId;
+        bool        isCallback;
+        int         targetId;  // target object id for message, flag expectFunction for callback
+        std::string name;      // action name for message, function name for callback
+        Value       val;
+        
+        Action(int senderId_, bool isCallback_, int targetId_, std::string name_, Value val_) : 
+                senderId (senderId_), isCallback (isCallback_), targetId (targetId_), name (name_), val (val_) {
+        }
+    };
+    
     struct Message {
         // Variables
         std::string message;
@@ -168,13 +180,13 @@
     void    NameObject (Object *obj, const string &name);
     void    UnnameObject (Object *obj);
     Object *GetNamedObject (const string &name);
-    std::list<Object *> GetNamedGroup(const std::string &templ, const Object *reference = NULL);
+    std::list<Object *> GetNamedGroup(const std::string &templ, Object *reference = NULL);
 
 /* -------------------- Named Positions -------------------- */
 
     void NamePosition(Value po, const string &name);
     Value GetNamedPosition(const string &name);
-    PositionList GetNamedPositionList(const std::string &templ, const Object *reference = NULL);
+    PositionList GetNamedPositionList(const std::string &templ, Object *reference = NULL);
 
 /* -------------------- Force Fields -------------------- */
 
@@ -213,7 +225,9 @@
     Value SendMessage (Object *obj, const string &msg, const Value& value = Value(), Object *sender = NULL);
     Value SendMessage (Object *obj, const Message &m);
 
+/* -------------------- Secure Delayed Actions -------------------- */
 
+    void PerformSecureAction(int senderId, bool isCallback, int targetId, std::string name, Value val);
 
 /* -------------------- Actors -------------------- */
 

Modified: trunk/src/world_internal.hh
===================================================================
--- trunk/src/world_internal.hh	2009-01-29 01:38:01 UTC (rev 1492)
+++ trunk/src/world_internal.hh	2009-01-29 23:50:37 UTC (rev 1493)
@@ -275,10 +275,10 @@
         void    name_object (Object *obj, const string &name);
         void    unname (Object *);
         Object *get_named (const string &);
-        std::list<Object *> get_group(const std::string &tmpl, const Object *reference = NULL);
+        std::list<Object *> get_group(const std::string &tmpl, Object *reference = NULL);
         void namePosition(Value po, const std::string &name);
         Value getNamedPosition(const std::string &name);
-        PositionList getPositionList(const std::string &tmpl, const Object *reference = NULL);
+        PositionList getPositionList(const std::string &tmpl, Object *reference = NULL);
         
         void tick (double dtime);
         void remove (ForceField *ff);
@@ -319,6 +319,7 @@
         void handle_stone_contacts(unsigned actoridx);
         void stone_change (GridPos p);
         void tick_sound_dampings ();
+        void doPerformPendingActions();
 
     public:
     
@@ -348,6 +349,7 @@
         std::vector<GridPos> changed_stones;
         std::list<GridPos>   collisionCriticalPositions;  // stones set to positions after collision check
         bool                 registerCriticalPositions;
+        std::list<Action> actionList;       // pending delayed actions for secure performance
 
         SoundDampingList     sound_dampings; // see SoundEffectManager for details
 



From ral at mail.berlios.de  Fri Jan 30 23:03:48 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 30 Jan 2009 23:03:48 +0100
Subject: [Enigma-game-svn] r1494 - in trunk: data/schemas src src/others
Message-ID: <200901302203.n0UM3mWw028908@sheep.berlios.de>

Author: ral
Date: 2009-01-30 23:03:47 +0100 (Fri, 30 Jan 2009)
New Revision: 1494

Added:
   trunk/src/others/CounterGadget.cc
   trunk/src/others/CounterGadget.hh
Modified:
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/world.cc
Log:
Trunk 1.1:
- fix r1493 broken nearest object code
- add new other gadget "ot_counter":
  - counts action messages "signal" received from triggers, sensors, switches
  - current count as attribute "state" that should be preset to the initial
    value of counting objects
  - by usage of state dependent target/actions attributes the counter acts
    on specific count values


Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-29 23:50:37 UTC (rev 1493)
+++ trunk/data/schemas/objects.xml	2009-01-30 22:03:47 UTC (rev 1494)
@@ -703,6 +703,9 @@
     <object name="it_wrench"/>
     <object name="ot" abstract="true">
     </object>
+    <object name="ot_counter">
+      <msg name="signal"/>
+    </object>
     <object name="ot_rubberband">
       <attr name="anchor1"/>
       <attr name="anchor2"/>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-29 23:50:37 UTC (rev 1493)
+++ trunk/src/Makefile.am	2009-01-30 22:03:47 UTC (rev 1494)
@@ -270,6 +270,8 @@
 	lev/ScoreManager.hh	\
 	lev/VolatileIndex.cc	\
 	lev/VolatileIndex.hh	\
+	others/CounterGadget.cc	\
+	others/CounterGadget.hh	\
 	others/Other.cc		\
 	others/Other.hh		\
 	others/Rubberband.cc	\

Added: trunk/src/others/CounterGadget.cc
===================================================================
--- trunk/src/others/CounterGadget.cc	2009-01-29 23:50:37 UTC (rev 1493)
+++ trunk/src/others/CounterGadget.cc	2009-01-30 22:03:47 UTC (rev 1494)
@@ -0,0 +1,59 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "others/CounterGadget.hh"
+#include "errors.hh"
+#include "main.hh"
+#include "world.hh"
+
+namespace enigma {
+    CounterGadget::CounterGadget() : Other() {
+    }
+    
+    std::string CounterGadget::getClass() const {
+        return "ot_counter";
+    }
+
+    void CounterGadget::setAttr(const std::string &key, const Value &val) {
+        if (key == "state") {
+            state = val;
+        }
+        Other::setAttr(key, val);
+    }
+    
+    Value CounterGadget::message(const Message &m) {
+        if (m.message == "signal") {
+            if (m.value.to_bool()) {
+                state++;
+            } else {
+                state--;
+            }
+            if (Value stateTarget = getAttr(ecl::strf("target_%d", state))) {
+                performAction(true);
+            }
+            return Value();
+        }
+        return Other::message(m);
+    }
+
+    BOOT_REGISTER_START
+        BootRegister(new CounterGadget(), "ot_counter");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/others/CounterGadget.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/others/CounterGadget.hh
===================================================================
--- trunk/src/others/CounterGadget.hh	2009-01-29 23:50:37 UTC (rev 1493)
+++ trunk/src/others/CounterGadget.hh	2009-01-30 22:03:47 UTC (rev 1494)
@@ -0,0 +1,48 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef COUNTERGADGET_HH
+#define COUNTERGADGET_HH
+
+#include "others/Other.hh"
+#include "display.hh"
+#include "stones.hh"
+
+/* -------------------- Other -------------------- */
+
+
+namespace enigma {
+    
+    class CounterGadget : public Other {
+        CLONEOBJ(CounterGadget)
+
+    public:
+        CounterGadget();
+        
+        // Object interface
+        virtual std::string getClass() const;
+        virtual void setAttr(const std::string &key, const Value &val);
+//        virtual Value getAttr(const std::string &key) const;
+        virtual Value message(const Message &m);
+        
+    private:
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/others/CounterGadget.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-01-29 23:50:37 UTC (rev 1493)
+++ trunk/src/world.cc	2009-01-30 22:03:47 UTC (rev 1494)
@@ -287,12 +287,12 @@
     double mindist = -1;
     if (pattern.size() > 0 && pattern[0] == '@') {
         pattern.erase(0, 1); // erase the leading @
-        if (pattern.size() > 0 && pattern[0] == '@') {
-            pattern.erase(0, 1); // erase the leading @@
-        } else {
+        if (pattern.size() == 0) {
             // a single "@" is a self reference
             result.push_back(reference);
             return result;
+        } else if (pattern[0] == '@') {
+            pattern.erase(0, 1); // erase the leading @@
         }
         if (reference != NULL)
             nearest = true;



From ral at mail.berlios.de  Sat Jan 31 01:27:02 2009
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 31 Jan 2009 01:27:02 +0100
Subject: [Enigma-game-svn] r1495 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/schemas src src/actors src/items
Message-ID: <200901310027.n0V0R2il007610@sheep.berlios.de>

Author: ral
Date: 2009-01-31 01:26:52 +0100 (Sat, 31 Jan 2009)
New Revision: 1495

Added:
   trunk/data/gfx32/it_burnable_ash.png
   trunk/data/gfx32/it_burnable_burning.png
   trunk/data/gfx32/it_burnable_fireproof.png
   trunk/data/gfx32/it_burnable_ignite.png
   trunk/data/gfx32/it_burnable_oil.png
   trunk/data/gfx32/it_flag_black.png
   trunk/data/gfx32/it_flag_white.png
   trunk/data/gfx40/it_burnable_ash.png
   trunk/data/gfx40/it_burnable_burning.png
   trunk/data/gfx40/it_burnable_fireproof.png
   trunk/data/gfx40/it_burnable_ignite.png
   trunk/data/gfx40/it_burnable_oil.png
   trunk/data/gfx40/it_flag_black.png
   trunk/data/gfx40/it_flag_white.png
   trunk/data/gfx48/it_burnable_ash.png
   trunk/data/gfx48/it_burnable_burning.png
   trunk/data/gfx48/it_burnable_fireproof.png
   trunk/data/gfx48/it_burnable_ignite.png
   trunk/data/gfx48/it_burnable_oil.png
   trunk/data/gfx48/it_flag_black.png
   trunk/data/gfx48/it_flag_white.png
   trunk/src/items/BurnableItem.cc
   trunk/src/items/BurnableItem.hh
   trunk/src/items/CompatibilityItems.cc
   trunk/src/items/CompatibilityItems.hh
Removed:
   trunk/data/gfx32/it-burnable_ash.png
   trunk/data/gfx32/it-burnable_burning.png
   trunk/data/gfx32/it-burnable_fireproof.png
   trunk/data/gfx32/it-burnable_ignite.png
   trunk/data/gfx32/it-burnable_oil.png
   trunk/data/gfx32/it-flagblack.png
   trunk/data/gfx32/it-flagwhite.png
   trunk/data/gfx40/it-burnable_ash.png
   trunk/data/gfx40/it-burnable_burning.png
   trunk/data/gfx40/it-burnable_fireproof.png
   trunk/data/gfx40/it-burnable_ignite.png
   trunk/data/gfx40/it-burnable_oil.png
   trunk/data/gfx40/it-flagblack.png
   trunk/data/gfx40/it-flagwhite.png
   trunk/data/gfx48/it-burnable_ash.png
   trunk/data/gfx48/it-burnable_burning.png
   trunk/data/gfx48/it-burnable_fireproof.png
   trunk/data/gfx48/it-burnable_ignite.png
   trunk/data/gfx48/it-burnable_oil.png
   trunk/data/gfx48/it-flagblack.png
   trunk/data/gfx48/it-flagwhite.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/src/Makefile.am
   trunk/src/actors/Balls.cc
   trunk/src/floors.cc
   trunk/src/items.cc
   trunk/src/items.hh
   trunk/src/items/Crack.cc
   trunk/src/items/Crack.hh
   trunk/src/items/Extinguisher.cc
   trunk/src/items/SimpleItems.cc
   trunk/src/items/SimpleItems.hh
   trunk/src/items/Umbrella.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/player.cc
   trunk/src/player.hh
   trunk/src/server.cc
Log:
Trunk 1.1: new API reengineering
- umbrella and god mode shield all actors of current initiating player
- reengineering burnable item - renaming:
  - it-burnable -> it_burnable_invisible, it_burnable
  - it-burnable_oil -> it_burnable_oil
  - it-burnable_ignited -> it_burnable_ignited
  - it-burnable_burning -> it_burnable_burning
  - it-burnable_ash -> it_burnable_ash
  - it-burnable_fireproof -> it_burnable_fireproof
  - message "trigger" substituted by "ignite"
- reengineering flags:
  - it-flagblack -> it_flag_black, it_flag
  - it-flagwhite -> it_flag_white
  - attribute "color"
- code cleanup

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/data/api1init.lua	2009-01-31 00:26:52 UTC (rev 1495)
@@ -136,6 +136,12 @@
     it_blocker_new = "it-blocker-new",
     it_brake = "it-brake",
     it_brush = "it-brush",
+    it_burnable_invisible = "it-burnable",
+    it_burnable_oil = "it-burnable_oil",
+    it_burnable_ignited = "it-burnable_ignited",
+    it_burnable_burning = "it-burnable_burning",
+    it_burnable_ash = "it-burnable_ash",
+    it_burnable_fireproof = "it-burnable_fireproof",
     it_cherry = "it-cherry",
     it_coffee = "it-coffee",
     it_coin_s = "it-coin1",
@@ -152,6 +158,8 @@
     it_extinguisher_full = "it-extinguisher",
     it_extralife = "it-extralife",
     it_death = "it-death",
+    it_flag_black = "it-flagblack",
+    it_flag_white = "it-flagwhite",
     it_floppy = "it-floppy",
     it_glasses = "it-glasses",
     it_glasses_broken = "it-glasses-broken",
@@ -1035,12 +1043,7 @@
     fl_bridge__signal = "toggle",
     it_blocker__trigger = "toggle",
     it_blocker__openclose = "toggle",
-    ["it-burnable__trigger"] = "ignite",
-    ["it-burnable_ignited__trigger"] = "ignite",
-    ["it-burnable_burning__trigger"] = "ignite",
-    ["it-burnable_fireproof__trigger"] = "ignite",
-    ["it-burnable_ash__trigger"] = "ignite",
-    ["it-burnable_oil__trigger"] = "ignite",
+    it_burnable__trigger = "ignite",
     it_magnet__onoff = "toggle",
     it_meditation__trigger = "flip",
     it_vortex__openclose = "toggle",

Deleted: trunk/data/gfx32/it-burnable_ash.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-burnable_burning.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-burnable_fireproof.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-burnable_ignite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-burnable_oil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-flagblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/it-flagwhite.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/it_burnable_ash.png (from rev 1492, trunk/data/gfx32/it-burnable_ash.png)

Copied: trunk/data/gfx32/it_burnable_burning.png (from rev 1492, trunk/data/gfx32/it-burnable_burning.png)

Copied: trunk/data/gfx32/it_burnable_fireproof.png (from rev 1492, trunk/data/gfx32/it-burnable_fireproof.png)

Copied: trunk/data/gfx32/it_burnable_ignite.png (from rev 1492, trunk/data/gfx32/it-burnable_ignite.png)

Copied: trunk/data/gfx32/it_burnable_oil.png (from rev 1492, trunk/data/gfx32/it-burnable_oil.png)

Copied: trunk/data/gfx32/it_flag_black.png (from rev 1494, trunk/data/gfx32/it-flagblack.png)

Copied: trunk/data/gfx32/it_flag_white.png (from rev 1494, trunk/data/gfx32/it-flagwhite.png)

Deleted: trunk/data/gfx40/it-burnable_ash.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-burnable_burning.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-burnable_fireproof.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-burnable_ignite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-burnable_oil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-flagblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/it-flagwhite.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/it_burnable_ash.png (from rev 1492, trunk/data/gfx40/it-burnable_ash.png)

Copied: trunk/data/gfx40/it_burnable_burning.png (from rev 1492, trunk/data/gfx40/it-burnable_burning.png)

Copied: trunk/data/gfx40/it_burnable_fireproof.png (from rev 1492, trunk/data/gfx40/it-burnable_fireproof.png)

Copied: trunk/data/gfx40/it_burnable_ignite.png (from rev 1492, trunk/data/gfx40/it-burnable_ignite.png)

Copied: trunk/data/gfx40/it_burnable_oil.png (from rev 1492, trunk/data/gfx40/it-burnable_oil.png)

Copied: trunk/data/gfx40/it_flag_black.png (from rev 1494, trunk/data/gfx40/it-flagblack.png)

Copied: trunk/data/gfx40/it_flag_white.png (from rev 1494, trunk/data/gfx40/it-flagwhite.png)

Deleted: trunk/data/gfx48/it-burnable_ash.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-burnable_burning.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-burnable_fireproof.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-burnable_ignite.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-burnable_oil.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-flagblack.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/it-flagwhite.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/it_burnable_ash.png (from rev 1492, trunk/data/gfx48/it-burnable_ash.png)

Copied: trunk/data/gfx48/it_burnable_burning.png (from rev 1492, trunk/data/gfx48/it-burnable_burning.png)

Copied: trunk/data/gfx48/it_burnable_fireproof.png (from rev 1492, trunk/data/gfx48/it-burnable_fireproof.png)

Copied: trunk/data/gfx48/it_burnable_ignite.png (from rev 1492, trunk/data/gfx48/it-burnable_ignite.png)

Copied: trunk/data/gfx48/it_burnable_oil.png (from rev 1492, trunk/data/gfx48/it-burnable_oil.png)

Copied: trunk/data/gfx48/it_flag_black.png (from rev 1494, trunk/data/gfx48/it-flagblack.png)

Copied: trunk/data/gfx48/it_flag_white.png (from rev 1494, trunk/data/gfx48/it-flagwhite.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/data/models-2d.lua	2009-01-31 00:26:52 UTC (rev 1495)
@@ -458,8 +458,8 @@
         "it_document",
         "it-drop",
         "it-dynamite",
-        "it-flagblack",
-        "it-flagwhite",
+        "it_flag_black",
+        "it_flag_white",
         "it-odometer",
         "it_pencil",
         "it_pin",
@@ -533,7 +533,7 @@
 
 -- Oil --
 do
-    DefSubimages("it-burnable_oil", {h=4})
+    DefSubimages("it_burnable_oil", {h=4})
 end
 
 -- Laserbeams --
@@ -590,17 +590,17 @@
 
 -- Burning Floor --
 do
-    local images = DefSubimages("it-burnable_ignite", {h=8})
+    local images = DefSubimages("it_burnable_ignite", {h=8})
     local frames = BuildFrames(images, 100)
-    DefAnim("it-burnable_ignited", frames)
+    DefAnim("it_burnable_ignited", frames)
 
-    local images = DefSubimages("it-burnable_burning", {h=8})
+    local images = DefSubimages("it_burnable_burning", {h=8})
     local frames = BuildFrames(images, 100)
-    DefAnim("it-burnable_burning", frames)
+    DefAnim("it_burnable_burning", frames)
 
     -- Simple fire related items:
-    DefImages({"it-burnable_ash", "it-burnable_fireproof"})
-    DefAlias("it-burnable", "invisible")
+    DefImages({"it_burnable_ash", "it_burnable_fireproof"})
+    DefAlias("it_burnable_invisible", "invisible")
 end
 
 -- it-coffee --

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/data/schemas/objects.xml	2009-01-31 00:26:52 UTC (rev 1495)
@@ -98,6 +98,7 @@
     <msg name="darken" type="nil"/>
     <msg name="disconnect" type="nil"/>
     <msg name="expl" type="nil"/>
+    <msg name="extinguish" type="nil"/>
     <msg name="fire" type="nil"/>
     <msg name="flip" type="nil"/>
     <msg name="forcefire" type="nil"/>
@@ -390,6 +391,31 @@
       <attr name="coin_value" default="3"/>
       <attr name="state" rw="r"/>
     </object>
+    <object name="it_burnable">
+      <attr name="state" max="5" rw="r"/>
+      <msg name="extinguish"/>
+      <msg name="ignite"/>
+      <msg name="_brush"/>
+      <msg name="_explosion"/>
+    </object>
+    <object name="it_burnable_invisible">
+      <attr name="state" value="0"/>
+    </object>
+    <object name="it_burnable_oil">
+      <attr name="state" value="1"/>
+    </object>
+    <object name="it_burnable_ignited">
+      <attr name="state" value="2"/>
+    </object>
+    <object name="it_burnable_burning">
+      <attr name="state" value="3"/>
+    </object>
+    <object name="it_burnable_ash">
+      <attr name="state" value="4"/>
+    </object>
+    <object name="it_burnable_fireproof">
+      <attr name="state" value="5"/>
+    </object>
     <object name="it_coin_s">
       <attr name="state" value="0"/>
     </object>
@@ -399,7 +425,7 @@
     <object name="it_coin_l">
       <attr name="state" value="2"/>
     </object>
-     <object name="it_crack">
+    <object name="it_crack">
       <attr name="state" min="-1" max="3"/>
       <attr name="fragility"/>
       <attr name="spreading"/>
@@ -418,7 +444,7 @@
     <object name="it_crack_l">
       <attr name="state" value="2"/>
     </object>
-   <object name="it_cross">
+    <object name="it_cross">
       <attr name="interval" default="10"/>
       <attr name="state" rw="r"/>
       <msg name="_brush"/>
@@ -428,7 +454,7 @@
     <object name="it_document">
       <attr name="text"/>
     </object>
-     <object name="it_extinguisher">
+    <object name="it_extinguisher">
       <attr name="state" max="2"/>
     </object>
     <object name="it_extinguisher_empty">
@@ -446,6 +472,15 @@
     <object name="it_glasses">
       <attr name="state" max="31"/>
     </object>
+    <object name="it_flag">
+      <attr name="color"/>
+    </object>
+    <object name="it_flag_black">
+      <attr name="color" value="0"/>
+    </object>
+    <object name="it_flag_white">
+      <attr name="color" value="1"/>
+    </object>
     <object name="it_glasses_broken">
       <attr name="state" value="0"/>
     </object>

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/Makefile.am	2009-01-31 00:26:52 UTC (rev 1495)
@@ -208,8 +208,12 @@
 	items/BrakeItem.hh	\
 	items/BlockerItem.cc	\
 	items/BlockerItem.hh	\
+	items/BurnableItem.cc	\
+	items/BurnableItem.hh	\
 	items/Coin.cc		\
 	items/Coin.hh		\
+	items/CompatibilityItems.cc	\
+	items/CompatibilityItems.hh	\
 	items/Crack.cc		\
 	items/Crack.hh		\
 	items/CrossItem.cc	\

Modified: trunk/src/actors/Balls.cc
===================================================================
--- trunk/src/actors/Balls.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/actors/Balls.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -119,7 +119,7 @@
         // Shield, booze and invisibility can be activated in all states except DEAD
     
         if (state != DEAD) {
-            if (m.message == "_shield") {
+            if (m.message == "_shield" && getAttr("owner") ==  m.value) {
                 m_shield_rest_time += SHIELD_TIME;
                 update_halo();
                 handled = true;

Modified: trunk/src/floors.cc
===================================================================
--- trunk/src/floors.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/floors.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -238,13 +238,13 @@
 }
 int Floor::get_fire_countdown() {
     if (Item *it = GetItem(get_pos()))
-        if (get_id(it) == it_burnable || get_id(it) == it_burnable_oil)
+        if (get_id(it) == it_burnable_invisible || get_id(it) == it_burnable_oil)
             return 0;
     return fire_countdown;
 }
 
 bool Floor::force_fire() {
-    SetItem(get_pos(), MakeItem("it-burnable_ignited"));
+    SetItem(get_pos(), MakeItem("it_burnable_ignited"));
     fire_countdown = 0;
     return true;
 }
@@ -404,7 +404,7 @@
         SetFloor(p, MakeFloor(get_firetransform().c_str()));
     // Remember, at this point "this" may be destroyed.
     if (!GetFloor(p)->has_firetype(flft_noash))
-        SetItem(p, MakeItem("it-burnable_ash"));
+        SetItem(p, MakeItem("it_burnable_ash"));
     return true; // fire extinguished  
 }
 
@@ -431,7 +431,7 @@
     if (cont_fire)
         // continue burning
         //   -> put animation
-        SetItem(p, MakeItem("it-burnable_burning"));
+        SetItem(p, MakeItem("it_burnable_burning"));
     else
         stop_fire(false);
 }
@@ -440,7 +440,7 @@
     if (Item *it = GetItem(get_pos())) {
         ItemID id = get_id(it);
         if (selector == flft_burnable || selector == flft_ignitable) {
-            if (  id == it_burnable || id == it_burnable_oil )
+            if (  id == it_burnable_invisible || id == it_burnable_oil )
                 return true;
             if (  id == it_burnable_ash     || id == it_burnable_fireproof
                || id == it_burnable_ignited || id == it_burnable_burning )

Added: trunk/src/items/BurnableItem.cc
===================================================================
--- trunk/src/items/BurnableItem.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/BurnableItem.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -0,0 +1,96 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/BurnableItem.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "world.hh"
+
+namespace enigma {
+
+    BurnableItem::BurnableItem(int type) {
+        state = type;
+    }
+    
+    std::string BurnableItem::getClass() const {
+        return "it_burnable";
+    }
+    
+    Value BurnableItem::message(const Message &m) {
+        if (m.message == "extinguish") {   // stop / never start burning
+            state = FIREPROOF;
+            init_model();
+            return Value();
+        } else if (m.message == "_brush" && (state == ASH || state == FIREPROOF)) {
+            kill();   // The brush cleans the floor
+            return Value();
+        } else if (Floor *fl = GetFloor(get_pos())) {
+            if (m.message == "ignite" || m.message == "_explosion")
+                return SendMessage(fl, "ignite");
+        }
+        return Item::message(m);
+    }
+    
+    void BurnableItem::setState(int extState) {
+        // ignore set state attempts
+    }
+    
+    void BurnableItem::init_model() {
+        if(state == OIL) {
+            set_model(ecl::strf("it_burnable_oil%d", IntegerRand(1, 4)));  // TODO store and keep model subtyp!
+        } else
+            Item::init_model();
+    }
+    
+    void BurnableItem::animcb() {
+        if(Floor *fl = GetFloor(get_pos()))
+            fl->on_burnable_animcb(state == IGNITE);
+    }
+    
+    bool BurnableItem::actor_hit(Actor *a) {
+        if (state == IGNITE || state == BURNING)
+            SendMessage(a, "_shatter");
+        return false;
+    }
+
+    int BurnableItem::traitsIdx() const {
+        return state;
+    }
+    
+    ItemTraits BurnableItem::traits[6] = {
+        {"it_burnable_invisible", it_burnable_invisible, itf_static, 0.0},
+        {"it_burnable_oil",       it_burnable_oil,       itf_static, 0.0},
+        {"it_burnable_ignited",   it_burnable_ignited,   itf_static | itf_animation | itf_fireproof, 0.0},
+        {"it_burnable_burning",   it_burnable_burning,   itf_static | itf_animation | itf_fireproof, 0.0},
+        {"it_burnable_ash",       it_burnable_ash,       itf_static | itf_fireproof, 0.0},
+        {"it_burnable_fireproof", it_burnable_fireproof, itf_static | itf_fireproof, 0.0},
+    };
+
+    BOOT_REGISTER_START
+        BootRegister(new BurnableItem(0), "it_burnable");
+        BootRegister(new BurnableItem(0), "it_burnable_invisible");
+        BootRegister(new BurnableItem(1), "it_burnable_oil");
+        BootRegister(new BurnableItem(2), "it_burnable_ignited");
+        BootRegister(new BurnableItem(3), "it_burnable_burning");
+        BootRegister(new BurnableItem(4), "it_burnable_ash");
+        BootRegister(new BurnableItem(5), "it_burnable_fireproof");
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/items/BurnableItem.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/BurnableItem.hh
===================================================================
--- trunk/src/items/BurnableItem.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/BurnableItem.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -0,0 +1,73 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef BURNABLEITEM_HH
+#define BURNABLEITEM_HH
+
+#include "items.hh"
+
+//#include "enigma.hh"
+
+namespace enigma {
+    /**
+     * Used for animations and interfaces of fire. Study 
+     * floors.hh and floors.cc for the fire implementation.
+     */
+
+    class BurnableItem : public Item {
+        CLONEOBJ(BurnableItem);
+        DECL_ITEMTRAITS_ARRAY(6, traitsIdx());
+
+    private:
+        enum iState {
+            IDLE       =  0,       ///< 
+            OIL        =  1,       ///< 
+            IGNITE     =  2,       ///<
+            BURNING    =  3,       ///<  
+            ASH        =  4,       ///<  
+            FIREPROOF  =  5,       ///<  
+        };
+
+    public:
+        BurnableItem(int type);
+        
+        // Object interface
+        virtual std::string getClass() const;
+        virtual Value message (const Message &m);
+
+        // StateObject interface
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // ModelCallback interface
+        virtual void animcb();
+        
+        // Item interface
+        virtual bool actor_hit(Actor *a);
+        
+    private:
+        void crack();
+        void spread();
+        int traitsIdx() const;
+    };
+   
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/BurnableItem.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/CompatibilityItems.cc
===================================================================
--- trunk/src/items/CompatibilityItems.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/CompatibilityItems.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -0,0 +1,173 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include "items/CompatibilityItems.hh"
+//#include "errors.hh"
+//#include "main.hh"
+#include "server.hh"
+#include "world.hh"
+
+namespace enigma {
+
+/* -------------------- EasyKeepStone -------------------- */
+
+    EasyKeepStone::EasyKeepStone() {
+    }
+    
+    Value EasyKeepStone::message(const Message &m) {
+        if (m.message == "_init") {
+            // does not work in on_creation() because items are created
+            // before stones are created.
+            if (server::GetDifficulty() == DIFFICULTY_HARD)
+                KillStone(get_pos());
+            kill();
+            return Value();
+        }
+        return Item::message(m);
+    }
+
+    DEF_ITEMTRAITSF(EasyKeepStone, "it-easykeepstone", it_easykeepstone,  itf_invisible | itf_fireproof);
+
+/* -------------------- EasyKillStone -------------------- */
+
+/*
+This item is never visible during the game.  Its only purpose is to
+modify the level if the difficulty mode is set to easy *before* the
+game starts.
+
+In easy game mode this item removes the stone at its position.  Then
+in both modes it kills itself.
+
+E.g. it can be used to hide walls in easy game mode.
+
+\ref st-easymode
+*/
+
+    EasyKillStone::EasyKillStone() {
+    }
+    
+    Value EasyKillStone::message(const Message &m) {
+        if (m.message == "_init") {
+            // does not work in on_creation() because items are created
+            // before stones are created.
+            if (server::GetDifficulty() == DIFFICULTY_EASY) {
+                if (Stone *st = GetStone (get_pos())) {
+                    if (st->is_kind ("st_death") ||
+                        st->is_kind ("st_flash") ||
+                        st->is_kind ("st_thief"))
+                    {
+                        SetStone (get_pos(), MakeStone ("st_flat"));
+                    }
+                    else
+                        KillStone(get_pos());
+                }
+            }
+            kill();
+            return Value();
+        }
+        return Item::message(m);
+    }
+    
+    DEF_ITEMTRAITSF(EasyKillStone, "it-easykillstone", it_easykillstone, itf_invisible | itf_fireproof);
+
+/* -------------------- SingleKillStone -------------------- */
+
+    OnePKillStone::OnePKillStone() {
+    }
+    
+    Value OnePKillStone::message(const Message &m) {
+        if (m.message == "_init") {
+            if (server::SingleComputerGame)
+                KillStone (get_pos());
+            kill();
+            return Value();
+        }
+        return Item::message(m);
+    }
+    
+    DEF_ITEMTRAITSF(OnePKillStone, "it-1pkillstone", it_1pkillstone, itf_invisible | itf_fireproof);
+
+/* -------------------- NetworkKillStone -------------------- */
+
+    TwoPKillStone::TwoPKillStone() {
+    }
+  
+    Value TwoPKillStone::message(const Message &m) {
+        if (m.message == "_init") {
+            if (!server::SingleComputerGame)
+                KillStone (get_pos());
+            kill();
+            return Value();
+        }
+        return Item::message(m);
+    }
+
+    DEF_ITEMTRAITSF(TwoPKillStone, "it-2pkillstone", it_2pkillstone, itf_invisible | itf_fireproof);
+
+//----------------------------------------
+// Bridge item (for Oxyd compatibility)
+//
+// Floor tiles seem to be static in Oxyd and cannot change dynamically
+// or be animated.  For this reason, every bridge floor in Oxyd has to
+// be combined with a bridge "item" that receives the signals, shows
+// the animation and sets or removes the floor.
+//----------------------------------------
+
+    OxydBridge::OxydBridge() {
+    }
+
+    Value OxydBridge::message(const Message &m) {
+        if (m.message == "signal") {
+            int ival = m.value;
+            Floor *floor = GetFloor (get_pos());
+            if (ival > 0)
+                SendMessage (floor, "close");
+            else
+                SendMessage (floor, "open");
+            return Value();
+        }
+        return Item::message(m);
+    }
+    
+    DEF_ITEMTRAITSF(OxydBridge, "it-bridge-oxyd", it_bridge_oxyd,
+            itf_static | itf_indestructible | itf_invisible | itf_fireproof);
+
+/* -------------------- OxydBridgeActive -------------------- */
+    OxydBridgeActive::OxydBridgeActive() {
+    }
+    
+    void OxydBridgeActive::on_creation (GridPos p) {
+        Floor *floor = GetFloor (p);
+        SendMessage (floor, "close");
+    }
+
+    DEF_ITEMTRAITSF(OxydBridgeActive, "it-bridge-oxyd_active", it_bridge_oxyd_active,
+            itf_static | itf_indestructible | itf_invisible | itf_fireproof);
+
+    BOOT_REGISTER_START
+        BootRegister(new EasyKeepStone(), "it-easykeepstone");
+        BootRegister(new EasyKillStone(), "it-easykillstone");
+        BootRegister(new OnePKillStone(), "it-1pkillstone");
+        BootRegister(new TwoPKillStone(), "it-2pkillstone");
+        BootRegister(new OxydBridge(), "it-bridge-oxyd");
+        BootRegister(new OxydBridgeActive(), "it-bridge-oxyd_active");
+    BOOT_REGISTER_END
+
+} // namespace enigma
+


Property changes on: trunk/src/items/CompatibilityItems.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/items/CompatibilityItems.hh
===================================================================
--- trunk/src/items/CompatibilityItems.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/CompatibilityItems.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -0,0 +1,107 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef COMPATIBILITYITEMS_HH
+#define COMPATIBILITYITEMS_HH
+
+#include "items.hh"
+
+#include "enigma.hh"
+
+namespace enigma {
+    /**
+     * EasyKeepStone
+     */
+    class EasyKeepStone : public Item {
+        CLONEOBJ(EasyKeepStone);
+        DECL_ITEMTRAITS;
+    public:
+        EasyKeepStone();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
+    /**
+     * EasyKillStone
+     */
+    class EasyKillStone : public Item {
+        CLONEOBJ(EasyKillStone);
+        DECL_ITEMTRAITS;
+    public:
+        EasyKillStone();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
+    /**
+     * OnePKillStone
+     */
+    class OnePKillStone : public Item {
+        CLONEOBJ (OnePKillStone);
+        DECL_ITEMTRAITS;
+    public:
+        OnePKillStone();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
+    /**
+     * TwoPKillStone
+     */
+    class TwoPKillStone : public Item {
+        CLONEOBJ (TwoPKillStone);
+        DECL_ITEMTRAITS;
+    public:
+        TwoPKillStone();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
+    /**
+     * OxydBridge
+     */
+    class OxydBridge : public Item {
+        CLONEOBJ(OxydBridge);
+        DECL_ITEMTRAITS;
+    public:
+        OxydBridge();
+        
+        // Object interface
+        virtual Value message(const Message &m);
+    };
+
+    /**
+     * OxydBridgeActive
+     */
+    class OxydBridgeActive : public OxydBridge {
+        CLONEOBJ(OxydBridgeActive);
+        DECL_ITEMTRAITS;
+    public:
+        OxydBridgeActive();
+        
+        // GridObject interface
+        virtual void on_creation(GridPos p);
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/items/CompatibilityItems.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/items/Crack.cc
===================================================================
--- trunk/src/items/Crack.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/Crack.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -78,12 +78,13 @@
         KillItem(p);
     }
     
-    void Crack::actor_enter(Actor *a) {
+    bool Crack::actor_hit(Actor *a) {
         if (a->is_on_floor()) {
             crack();
             if (state < DISSOLVING)
                 spread();
         }
+        return false;
     }
     
     void Crack::crack() {

Modified: trunk/src/items/Crack.hh
===================================================================
--- trunk/src/items/Crack.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/Crack.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -60,7 +60,7 @@
         virtual void animcb();
         
         // Item interface
-        virtual void actor_enter(Actor *a);
+        virtual bool actor_hit(Actor *a);
         
     private:
         void crack();

Modified: trunk/src/items/Extinguisher.cc
===================================================================
--- trunk/src/items/Extinguisher.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/Extinguisher.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -86,7 +86,7 @@
             SendMessage (it, "extinguish");
         } else {
             // set extinguishing foam to prevent upcoming fire
-            SetItem (p, MakeItem("it-burnable_fireproof"));
+            SetItem (p, MakeItem("it_burnable_fireproof"));
         }
     }
     

Modified: trunk/src/items/SimpleItems.cc
===================================================================
--- trunk/src/items/SimpleItems.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/SimpleItems.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -98,6 +98,29 @@
     
     DEF_ITEMTRAITSF(DeathItem, "it_death", it_death, itf_static | itf_indestructible);
 
+/* -------------------- Flag -------------------- */
+
+    FlagItem::FlagItem(int type) {
+        Item::setAttr("color", type);
+    }
+    
+    void FlagItem::on_drop(Actor *a) {
+        player::SetRespawnPositions(get_pos(), getAttr("color"));
+    }
+    
+    void FlagItem::on_pickup(Actor *a) {
+        player::RemoveRespawnPositions(getAttr("color"));
+    }
+    
+    int FlagItem::traitsIdx() const {
+        return getAttr("color");
+    }
+    
+    ItemTraits FlagItem::traits[2] = {
+        {"it_flag_black", it_flag_black,  itf_none, 0.0},
+        {"it_flag_white", it_flag_white,  itf_none, 0.0},
+    };
+
 /* -------------------- Pencil -------------------- */
 
     Pencil::Pencil() {
@@ -337,6 +360,9 @@
         BootRegister(new Cherry(), "it_cherry");
         BootRegister(new Coffee(), "it_coffee");
         BootRegister(new DeathItem(), "it_death");
+        BootRegister(new FlagItem(0), "it_flag");
+        BootRegister(new FlagItem(0), "it_flag_black");
+        BootRegister(new FlagItem(1), "it_flag_white");
         BootRegister(new Floppy(), "it_floppy");
         BootRegister(new MagicWand(), "it_magicwand");
         BootRegister(new Key(), "it_key");

Modified: trunk/src/items/SimpleItems.hh
===================================================================
--- trunk/src/items/SimpleItems.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/SimpleItems.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -96,6 +96,23 @@
     };
 
     /**
+     * FlagItem
+     */
+    class FlagItem : public Item {
+        CLONEOBJ(FlagItem);
+        DECL_ITEMTRAITS_ARRAY(2, traitsIdx());
+    public:
+        FlagItem(int type);
+        
+        // Item interface
+       virtual void on_drop(Actor *a);
+       virtual void on_pickup(Actor *a);
+        
+    private:
+        int traitsIdx() const;
+    };
+    
+    /**
      * Floppy
      */
     DEF_ITEM(Floppy, "it_floppy", it_floppy);

Modified: trunk/src/items/Umbrella.cc
===================================================================
--- trunk/src/items/Umbrella.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items/Umbrella.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -58,7 +58,7 @@
     }
     
     ItemAction Umbrella::activate(Actor *a, GridPos) {
-        SendMessage(a, "_shield");
+        BroadcastMessage("_shield", a->getAttr("owner"), GRID_NONE_BIT, true);
         return ITEM_KILL;
     }
     

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -540,299 +540,6 @@
                 itf_static | itf_animation | itf_indestructible | itf_fireproof);
 }
 
-
-/* -------------------- Burning floor -------------------- */
-
-namespace
-{
-    /* Used for animations and interfaces of fire. Study    */
-    /* floors.hh and floors.cc for the fire implementation. */
-
-    class Burnable : public Item {
-        CLONEOBJ(Burnable);
-        DECL_ITEMTRAITS_ARRAY(6, state);
-    public:
-        static void setup() {
-            RegisterItem (new Burnable(IDLE));
-            RegisterItem (new Burnable(IGNITE));
-            RegisterItem (new Burnable(BURNING));
-            RegisterItem (new Burnable(FIREPROOF));
-            RegisterItem (new Burnable(ASH));
-            RegisterItem (new Burnable(OIL));
-        }
-    private:
-        enum State { IDLE, IGNITE, BURNING, FIREPROOF, ASH, OIL };
-        Burnable (State initstate) {
-            state = initstate;
-        }
-        State state;
-
-        virtual Value message(const Message &m);
-        void animcb();
-        bool actor_hit(Actor *a);
-        void init_model();
-    };
-
-    ItemTraits Burnable::traits[6] = {
-        {"it-burnable",           it_burnable,           itf_static, 0.0},
-        {"it-burnable_ignited",   it_burnable_ignited,
-             itf_static | itf_animation | itf_fireproof, 0.0},
-        {"it-burnable_burning",   it_burnable_burning,
-             itf_static | itf_animation | itf_fireproof, 0.0},
-        {"it-burnable_fireproof", it_burnable_fireproof,
-             itf_static | itf_fireproof, 0.0},
-        {"it-burnable_ash",       it_burnable_ash,
-             itf_static | itf_fireproof, 0.0},
-        {"it-burnable_oil",       it_burnable_oil,       itf_static, 0.0},
-    };
-}
-
-Value Burnable::message(const Message &m) {
-    if (m.message == "extinguish") {   // stop / never start burning
-        state = FIREPROOF;
-        init_model();
-        return Value();
-    } else if (m.message == "_brush" && (state == ASH || state == FIREPROOF)) {
-        kill();   // The brush cleans the floor
-        return Value();
-    } else if (Floor *fl = GetFloor(get_pos())) {
-        if (m.message == "ignite" || m.message == "_explosion")
-            return SendMessage(fl, "ignite");
-    }
-    return Item::message(m);
-}
-
-void Burnable::animcb() {
-    if(Floor *fl = GetFloor(get_pos()))
-        fl->on_burnable_animcb(state == IGNITE);
-}
-
-bool Burnable::actor_hit(Actor *a) {
-    if (state == IGNITE || state == BURNING)
-        SendMessage(a, "_shatter");
-    return false;
-}
-
-void Burnable::init_model() {
-    if(state == OIL) {
-        string mymodel = "it-burnable_oil";
-        mymodel = mymodel + ecl::strf("%d", IntegerRand(1, 4));
-        set_model(mymodel.c_str());
-    } else
-        Item::init_model();
-}
-
-
-/* -------------------- Flags -------------------- */
-
-namespace
-{
-    /*! Flags can be used to set a new respawn point for the black or
-      white marble. */
-    class FlagBlack : public Item {
-        CLONEOBJ(FlagBlack);
-        DECL_ITEMTRAITS;
-
-        void on_drop(Actor *) {
-            player::SetRespawnPositions(get_pos(), true);
-        }
-        void on_pickup(Actor *) {
-            player::RemoveRespawnPositions(true);
-        }
-
-    public:
-        FlagBlack() {}
-    };
-    DEF_ITEMTRAITS(FlagBlack, "it-flagblack", it_flagblack);
-
-    class FlagWhite : public Item {
-        CLONEOBJ(FlagWhite);
-        DECL_ITEMTRAITS;
-
-        void on_drop(Actor *) {
-            player::SetRespawnPositions(get_pos(), false);
-        }
-        void on_pickup(Actor *) {
-            player::RemoveRespawnPositions(false);
-        }
-
-    public:
-        FlagWhite()
-        {}
-    };
-
-    DEF_ITEMTRAITS(FlagWhite, "it-flagwhite", it_flagwhite);
-}
-
-
-//----------------------------------------
-// Bridge item (for Oxyd compatibility)
-//
-// Floor tiles seem to be static in Oxyd and cannot change dynamically
-// or be animated.  For this reason, every bridge floor in Oxyd has to
-// be combined with a bridge "item" that receives the signals, shows
-// the animation and sets or removes the floor.
-//----------------------------------------
-namespace
-{
-    class OxydBridge : public Item {
-        CLONEOBJ(OxydBridge);
-        DECL_ITEMTRAITS;
-
-        virtual Value message(const Message &m) {
-            if (m.message == "signal") {
-                int ival = m.value;
-                Floor *floor = GetFloor (get_pos());
-                if (ival > 0)
-                    SendMessage (floor, "close");
-                else
-                    SendMessage (floor, "open");
-                return Value();
-            }
-            return Item::message(m);
-        }
-    public:
-        OxydBridge() {}
-    };
-    DEF_ITEMTRAITSF(OxydBridge, "it-bridge-oxyd", it_bridge_oxyd,
-                itf_static | itf_indestructible | itf_invisible | itf_fireproof);
-
-    class OxydBridgeActive : public OxydBridge {
-        CLONEOBJ(OxydBridgeActive);
-        DECL_ITEMTRAITS;
-
-        void on_creation (GridPos p) {
-            Floor *floor = GetFloor (p);
-            SendMessage (floor, "close");
-        }
-    public:
-        OxydBridgeActive() {}
-    };
-    DEF_ITEMTRAITSF(OxydBridgeActive, "it-bridge-oxyd_active", it_bridge_oxyd_active,
-                itf_static | itf_indestructible | itf_invisible | itf_fireproof);
-}
-
-
-/* -------------------- EasyKillStone -------------------- */
-
-/*
-This item is never visible during the game.  Its only purpose is to
-modify the level if the difficulty mode is set to easy *before* the
-game starts.
-
-In easy game mode this item removes the stone at its position.  Then
-in both modes it kills itself.
-
-E.g. it can be used to hide walls in easy game mode.
-
-\ref st-easymode
-*/
-
-namespace
-{
-    class EasyKillStone : public Item {
-        CLONEOBJ(EasyKillStone);
-        DECL_ITEMTRAITS;
-
-        virtual Value message(const Message &m);
-    public:
-        EasyKillStone() {}
-    };
-    DEF_ITEMTRAITSF(EasyKillStone, "it-easykillstone",
-                it_easykillstone, itf_invisible | itf_fireproof);
-}
-
-Value EasyKillStone::message(const Message &m)
-{
-    if (m.message == "_init") {
-        // does not work in on_creation() because items are created
-        // before stones are created.
-        if (server::GetDifficulty() == DIFFICULTY_EASY) {
-            if (Stone *st = GetStone (get_pos())) {
-                if (st->is_kind ("st_death") ||
-                    st->is_kind ("st_flash") ||
-                    st->is_kind ("st_thief"))
-                {
-                    SetStone (get_pos(), MakeStone ("st_flat"));
-                }
-                else
-                    KillStone(get_pos());
-            }
-        }
-        kill();
-        return Value();
-    }
-    return Item::message(m);
-}
-
-/* -------------------- EasyKeepStone -------------------- */
-namespace
-{
-    class EasyKeepStone : public Item {
-        CLONEOBJ(EasyKeepStone);
-        DECL_ITEMTRAITS;
-
-        virtual Value message(const Message &m) {
-            if (m.message == "_init") {
-                // does not work in on_creation() because items are created
-                // before stones are created.
-                if (server::GetDifficulty() == DIFFICULTY_HARD)
-                    KillStone(get_pos());
-                kill();
-                return Value();
-            }
-            return Item::message(m);
-        }
-    public:
-        EasyKeepStone() {}
-    };
-    DEF_ITEMTRAITSF(EasyKeepStone, "it-easykeepstone", it_easykeepstone,
-                itf_invisible | itf_fireproof);
-}
-
-/* -------------------- SingleKillStone -------------------- */
-namespace
-{
-    class OnePKillStone : public Item {
-        CLONEOBJ (OnePKillStone);
-        DECL_ITEMTRAITS;
-
-        virtual Value message (const Message &m) {
-            if (m.message == "_init") {
-                if (server::SingleComputerGame)
-                    KillStone (get_pos());
-                kill();
-                return Value();
-            }
-            return Item::message(m);
-        }
-    public:
-        OnePKillStone () {}
-    };
-    DEF_ITEMTRAITSF(OnePKillStone, "it-1pkillstone", it_1pkillstone,
-                itf_invisible | itf_fireproof);
-
-    class TwoPKillStone : public Item {
-        CLONEOBJ (TwoPKillStone);
-        DECL_ITEMTRAITS;
-
-        virtual Value message (const Message &m) {
-            if (m.message == "_init") {
-                if (!server::SingleComputerGame)
-                    KillStone (get_pos());
-                kill();
-                return Value();
-            }
-            return Item::message(m);
-        }
-    public:
-        TwoPKillStone () {}
-    };
-    DEF_ITEMTRAITSF(TwoPKillStone, "it-2pkillstone", it_2pkillstone,
-                itf_invisible | itf_fireproof);
-}
-
-
 /* -------------------- it-surprise -------------------- */
 namespace
 {
@@ -950,24 +657,15 @@
     RegisterItem (new BlackBombBurning);
     RegisterItem (new Booze);
     RegisterItem (new BrokenBooze);
-    Burnable::setup();
     RegisterItem (new Debris);
     RegisterItem (new Drop);
     RegisterItem (new Dummyitem);
     RegisterItem (new Dynamite);
-    RegisterItem (new EasyKillStone);
-    RegisterItem (new EasyKeepStone);
     RegisterItem (new Explosion1);
     RegisterItem (new Explosion2);
     RegisterItem (new Explosion3);
-    RegisterItem (new FlagBlack);
-    RegisterItem (new FlagWhite);
     RegisterItem (new Odometer);
-    RegisterItem (new OnePKillStone);
-    RegisterItem (new OxydBridge);
-    RegisterItem (new OxydBridgeActive);
     RegisterItem (new SurpriseItem);
-    RegisterItem (new TwoPKillStone);
     RegisterItem (new WhiteBomb);
 }
 

Modified: trunk/src/items.hh
===================================================================
--- trunk/src/items.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/items.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -40,7 +40,7 @@
         it_bridge_oxyd_active,
         it_booze_broken,
         it_brush,
-        it_burnable,
+        it_burnable_invisible,
         it_burnable_fireproof,
         it_burnable_ignited,
         it_burnable_burning,
@@ -73,8 +73,8 @@
         it_extinguisher_medium,
         it_extinguisher_empty,
         it_extralife,
-        it_flagblack,
-        it_flagwhite,
+        it_flag_black,
+        it_flag_white,
         it_floppy,
         it_glasses,
         it_glasses_broken,

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/ox_magnum.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -315,8 +315,8 @@
     "it_key_c",         // OxydMagnum item 0x16
     "it_floppy",        // OxydMagnum item 0x17
     "it_sword",         // OxydMagnum item 0x18
-    "it-flagwhite",     // OxydMagnum item 0x19
-    "it-flagblack",     // OxydMagnum item 0x1a
+    "it_flag_white",    // OxydMagnum item 0x19
+    "it_flag_black",    // OxydMagnum item 0x1a
     "it_ring",          // OxydMagnum item 0x1b
     "it_pipe_nw",       // OxydMagnum item 0x1c
     "it_pipe_sw",       // OxydMagnum item 0x1d

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/ox_oxyd1.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -331,8 +331,8 @@
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
     "it_sword",                   // 0x18
-    "it-flagwhite",               // 0x19
-    "it-flagblack",               // 0x1a
+    "it_flag_white",               // 0x19
+    "it_flag_black",               // 0x1a
     "it_ring",                    // 0x1b
     "it_pipe_nw",                 // 0x1c
     "it_pipe_sw",                 // 0x1d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/ox_peroxyd.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -403,8 +403,8 @@
     "it_key_b",                   // 0x15
     "it_key_c",                   // 0x16
     "it_floppy",                  // 0x17
-    "it-flagwhite",               // 0x18
-    "it-flagblack",               // 0x19
+    "it_flag_white",              // 0x18
+    "it_flag_black",              // 0x19
     "it_ring",                    // 0x1a
     "it_pipe_nw",                 // 0x1b
     "it_pipe_sw",                 // 0x1c

Modified: trunk/src/player.cc
===================================================================
--- trunk/src/player.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/player.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -292,7 +292,7 @@
 }
 
 /*! Sets respawn positions for black or white actors. */
-void player::SetRespawnPositions(GridPos pos, bool black) 
+void player::SetRespawnPositions(GridPos pos, Value color) 
 {
     ecl::V2 center = pos.center();
 
@@ -300,8 +300,8 @@
         vector<Actor *> &al = players[i].actors;
 
         for (unsigned j=0; j<al.size(); ++j) {
-            if (Value color = al[j]->getAttr("color")) {
-                if (color == (black ? BLACK : WHITE))
+            if (Value ac = al[j]->getAttr("color")) {
+                if (ac == color)
                     al[j]->set_respawnpos(center);
             }
         }
@@ -309,13 +309,13 @@
 }
 
 /*! Remove respawn positions for black or white actors */
-void player::RemoveRespawnPositions(bool black) {
+void player::RemoveRespawnPositions(Value color) {
     for (unsigned i=0; i<players.size(); ++i) {
         vector<Actor *> &al = players[i].actors;
 
         for (unsigned j=0; j<al.size(); ++j) {
-            if (Value color = al[j]->getAttr("color")) {
-                if (color == (black ? BLACK : WHITE))
+            if (Value ac = al[j]->getAttr("color")) {
+                if (ac == color)
                     al[j]->remove_respawnpos();
             }
         }

Modified: trunk/src/player.hh
===================================================================
--- trunk/src/player.hh	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/player.hh	2009-01-31 00:26:52 UTC (rev 1495)
@@ -64,8 +64,8 @@
 
         // set/remove respawn positions for all black or all white actors
         // (used when it-flagwhite/black is dropped)
-        void SetRespawnPositions(enigma::GridPos pos, bool black);
-        void RemoveRespawnPositions(bool black);
+        void SetRespawnPositions(enigma::GridPos pos, Value color);
+        void RemoveRespawnPositions(Value color);
 
         int      CurrentPlayer();
         void     SetCurrentPlayer(unsigned iplayer);

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-01-30 22:03:47 UTC (rev 1494)
+++ trunk/src/server.cc	2009-01-31 00:26:52 UTC (rev 1495)
@@ -502,7 +502,7 @@
 
     // ------------------------------ cheats
     else if (cmd == "god") {
-        SendMessage(player::GetMainActor(player::CurrentPlayer()), "_shield");
+        BroadcastMessage("_shield", player::CurrentPlayer(), GRID_NONE_BIT, true);
         client::Msg_Command("cheater");
     }
     else if (cmd == "collision") {



From raoul at mail.berlios.de  Sat Jan 31 02:28:51 2009
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 31 Jan 2009 02:28:51 +0100
Subject: [Enigma-game-svn] r1496 - in trunk/data/levels: enigma_cross
	enigma_iii enigma_iv enigma_v enigma_vi enigma_vii enigma_viii
Message-ID: <200901310128.n0V1Spha009150@sheep.berlios.de>

Author: raoul
Date: 2009-01-31 02:28:40 +0100 (Sat, 31 Jan 2009)
New Revision: 1496

Modified:
   trunk/data/levels/enigma_cross/enigma0_92_2.xml
   trunk/data/levels/enigma_cross/newlevels.xml
   trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
   trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/index.xml
   trunk/data/levels/enigma_iv/duffy73_3.xml
   trunk/data/levels/enigma_iv/index.xml
   trunk/data/levels/enigma_v/index.xml
   trunk/data/levels/enigma_v/ss03_3.xml
   trunk/data/levels/enigma_vi/index.xml
   trunk/data/levels/enigma_vi/raoul29_1.xml
   trunk/data/levels/enigma_vii/index.xml
   trunk/data/levels/enigma_vii/mecke09_2.xml
   trunk/data/levels/enigma_vii/mecke11_2.xml
   trunk/data/levels/enigma_vii/mecke12_2.xml
   trunk/data/levels/enigma_vii/pulley04_2.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/enigma_viii/andreas48_2.xml
   trunk/data/levels/enigma_viii/index.xml
   trunk/data/levels/enigma_viii/mecke02_1.xml
   trunk/data/levels/enigma_viii/mecke05_1.xml
   trunk/data/levels/enigma_viii/mecke13_1.xml
   trunk/data/levels/enigma_viii/mecke19_1.xml
   trunk/data/levels/enigma_viii/mecke20_2.xml
   trunk/data/levels/enigma_viii/mecke22_2.xml
   trunk/data/levels/enigma_viii/mecke23_1.xml
   trunk/data/levels/enigma_viii/mecke29_1.xml
   trunk/data/levels/enigma_viii/ral21_2.xml
Log:
-> Level updates for it_burnable_*, it_flag_*



Modified: trunk/data/levels/enigma_cross/enigma0_92_2.xml
===================================================================
--- trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_cross/enigma0_92_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma 0.92 - 2"/>
+  <info enigma="1.00" group="Facets" location="15200" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma 0.92 - 2"/>
 
   <attributes/>
 
@@ -52,7 +52,7 @@
     <level _seq="44" _title="Black Diamond Course" _xpath="enigma_iii/duffy28_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy28" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Hall of Glass" _xpath="enigma_i/martin86_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="2" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="When Gravity Fails" _xpath="enigma_ii/nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="47" _title="Psycho Pushing" _xpath="enigma_v/ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="17" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Walls Of Sadness" _xpath="enigma_iv/ss12_1" author="Sven Siggelkow" ctrl="force" easy="true" id="ss12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Unfair!" _xpath="enigma_iii/ant33_1" author="Petr Machata" ctrl="force" easy="false" id="ant33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Puzzle Blues" _xpath="enigma_ii/siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -153,7 +153,7 @@
     <level _seq="145" _title="Build Up and Tear Down" _xpath="enigma_v/duffy70_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy70" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="146" _title="Don't Be Greedy" _xpath="enigma_v/duffy71_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy71" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="147" _title="Where Am I?" _xpath="enigma_iv/duffy72_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy72" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="18" score="2" target="time" unit="duration"/>
+    <level _seq="148" _title="Bizarro World" _xpath="enigma_iv/duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="19" score="2" target="time" unit="duration"/>
     <level _seq="149" _title="Solvable?" _xpath="enigma_v/barry01_2" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry01" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="150" _title="Where is it?" _xpath="enigma_iv/barry02_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="151" _title="Tool Time" _xpath="enigma_ii/barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_cross/newlevels.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma 1.00 new"/>
+  <info enigma="1.00" group="Facets" location="15400" network="false" owner="Enigma Team" release="1" revision="30" title="Enigma 1.00 new"/>
 
   <attributes/>
 
@@ -67,7 +67,7 @@
     <level _seq="59" _title="Manamana" _xpath="enigma_iii/just07_1" author="JuSt" ctrl="force" easy="false" id="just07" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="Bad Flowers" _xpath="enigma_iii/nat30_1" author="Nat Pryce" ctrl="force" easy="true" id="nat30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Don't Touch" _xpath="enigma_iii/raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Laser Castle" _xpath="enigma_iii/andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Bump Ahead" _xpath="enigma_iii/illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Killer Hills" _xpath="enigma_iii/luc11_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Fox in the Henhouse" _xpath="enigma_iii/nat26_1" author="Nat Pryce" ctrl="force" easy="false" id="nat26" rel="1" rev="0" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_cross/newlevels_1.0.1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="21" title="Enigma 1.01 new"/>
+  <info enigma="1.00" group="Facets" location="15500" network="false" owner="Enigma Team" release="1" revision="22" title="Enigma 1.01 new"/>
 
   <attributes/>
 
@@ -26,7 +26,7 @@
     <level _seq="18" _title="Your Friend, the Light" _xpath="enigma_vi/just15_1" author="JuSt" ctrl="force" easy="true" id="just15" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="19" _title="jumping ball flash" _xpath="enigma_vi/illmind13_1" author="illmind" ctrl="force" easy="false" id="2007ill001" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="Cold Meditation" _xpath="enigma_vii/ral18_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070314ral728" rel="1" rev="67" score="1" target="time" unit="duration"/>
-    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="21" _title="Same task ..." _xpath="enigma_vi/raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="22" _title="Industrial Puzzles" _xpath="enigma_vi/raoul30_2" author="Raoul Bourquin" ctrl="force" easy="false" id="raoul30" rel="2" rev="7" score="2" target="time" unit="duration"/>
     <level _seq="23" _title="Odyssey" _xpath="enigma_vi/ant39_1" author="Petr Machata" ctrl="force" easy="false" id="ant39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Tandem Chess" _xpath="enigma_vi/luc34_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc342007" rel="1" rev="2" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_cross/newlevels_1.1.0.xml
===================================================================
--- trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_cross/newlevels_1.1.0.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="33" title="Enigma 1.1 new"/>
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="34" title="Enigma 1.1 new"/>
 
   <attributes/>
 
@@ -59,8 +59,8 @@
     <level _seq="51" _title="Swapping Puzzle II" _xpath="enigma_vii/joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Multiban" _xpath="enigma_vii/dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Riverside" _xpath="enigma_vii/johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="15" score="2" target="time" unit="duration"/>
-    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="The Lone Ranger" _xpath="enigma_vii/pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="55" _title="Little Shop Of Horrors" _xpath="enigma_vii/pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Spaceship Control" _xpath="enigma_vii/safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Ball Alley" _xpath="enigma_vii/johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Action Potential" _xpath="enigma_vii/pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
@@ -79,11 +79,11 @@
     <level _seq="71" _title="Pick-Up" _xpath="enigma_vii/joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="A Kind of Magic" _xpath="enigma_vii/just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Blue Screen Of Death" _xpath="enigma_vii/pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="42" score="1" target="time" unit="duration"/>
-    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="46" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Audience in Venice" _xpath="enigma_vii/mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="75" _title="Black Liberation" _xpath="enigma_vii/mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="76" _title="Jack-Of-All-Trades" _xpath="enigma_vii/mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="47" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Enigmaparcour I" _xpath="enigma_viii/mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Rhythm of Space" _xpath="enigma_viii/mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="The Show Jumper" _xpath="enigma_viii/andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="The Red Room" _xpath="enigma_viii/joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Enigmines" _xpath="enigma_viii/huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
@@ -93,7 +93,7 @@
     <level _seq="85" _title="Southside Life" _xpath="enigma_viii/mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Joona's Chess" _xpath="enigma_viii/joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="87" _title="Helios I" _xpath="enigma_viii/mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="79" score="1" target="time" unit="duration"/>
+    <level _seq="88" _title="The Green Hell" _xpath="enigma_viii/mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="80" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Tilt Board" _xpath="enigma_viii/ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="90" _title="4 - 8 - 4" _xpath="enigma_viii/dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="91" _title="Impulsive Order" _xpath="enigma_viii/raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="12" score="1" target="time" unit="duration"/>
@@ -110,9 +110,9 @@
     <level _seq="102" _title="Freestyle Microwire" _xpath="enigma_viii/ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="103" _title="Balance Beam" _xpath="enigma_viii/mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="104" _title="Colored Oxyds" _xpath="enigma_viii/andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="105" _title="Styles Change" _xpath="enigma_viii/andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="106" _title="Colored Turnstiles" _xpath="enigma_viii/andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="107" _title="Sanssouci" _xpath="enigma_viii/mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="40" score="1" target="time" unit="duration"/>
     <level _seq="108" _title="Wired Shogun" _xpath="enigma_viii/ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="109" _title="Scarlet's Necklace" _xpath="enigma_viii/ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="133" score="1" target="time" unit="duration"/>
     <level _seq="110" _title="- Meditation -" _xpath="enigma_viii/raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
@@ -120,9 +120,9 @@
     <level _seq="112" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="113" _title="Relaxing at the sea" _xpath="enigma_viii/devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="114" _title="Helios II" _xpath="enigma_viii/mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="150" score="2" target="time" unit="duration"/>
+    <level _seq="115" _title="Tutoxyd's Pyramid" _xpath="enigma_viii/ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="151" score="2" target="time" unit="duration"/>
     <level _seq="116" _title="Alternation I" _xpath="enigma_viii/mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="117" _title="Enigmaparcour II" _xpath="enigma_viii/mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="118" _title=" - Meditation - " _xpath="enigma_viii/devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="119" _title=" - Meditation - " _xpath="enigma_viii/devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="120" _title="- Meditation -" _xpath="enigma_viii/devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -133,11 +133,11 @@
     <level _seq="125" _title="On belay?" _xpath="enigma_viii/devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="126" _title="Hang-dogging?" _xpath="enigma_viii/devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="127" _title="Alternation II" _xpath="enigma_viii/mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="128" _title="Fifty Years Later ..." _xpath="enigma_viii/mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="129" _title="Turbulencia" _xpath="enigma_viii/mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="130" _title="Techno Voodoo" _xpath="enigma_viii/mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="131" _title="Plutos World" _xpath="enigma_viii/mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="132" _title="Plutos Confusion" _xpath="enigma_viii/mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="133" _title="Coober Pedy Opals" _xpath="enigma_viii/ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="134" _title="Butterfly Opals" _xpath="enigma_viii/ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="135" _title="Brilliant Opals" _xpath="enigma_viii/ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Castle" el:subtitle="" el:id="andreas04"/>
-      <el:version el:score="1" el:release="1" el:revision="14" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="15" el:status="released"/>
       <el:author  el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2006 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -303,7 +303,7 @@
 w, h = wo(res.composer(ti), "    ", map)
 
 if not wo["IsDifficult"] then
-  wo[{17, 9}] = {"it-flagblack"}
+  wo[{17, 9}] = {"it_flag_black"}
 end
 
 wo["SlopeForce"] = 30

Modified: trunk/data/levels/enigma_iii/index.xml
===================================================================
--- trunk/data/levels/enigma_iii/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_iii/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="17" title="Enigma III"/>
+  <info enigma="1.00" group="Enigma" location="10400" network="false" owner="Enigma Team" release="1" revision="18" title="Enigma III"/>
 
   <attributes/>
 
@@ -69,7 +69,7 @@
     <level _seq="61" _title="Fool the Warden" _xpath="./duffy37_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy37" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Don't Touch" _xpath="./raoul07_2" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul07" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="63" _title="Emergency Exit" _xpath="./ss05_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="14" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Laser Castle" _xpath="./andreas04_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas04" rel="1" rev="15" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="The Safe" _xpath="./siegfried77_1" author="Siegfried Fennig" ctrl="force" easy="false" id="siegfried77" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Block its way!" _xpath="./wb05_2" author="Jon 'WB' Sneyers" ctrl="force" easy="true" id="wb5" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="67" _title="Bump Ahead" _xpath="./illmind01_1" author="illmind" ctrl="force" easy="false" id="illmind01" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_iv/duffy73_3.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_iv/duffy73_3.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bizarro World" el:subtitle="" el:id="duffy73"/>
-      <el:version el:score="2" el:release="3" el:revision="18" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="19" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -59,7 +59,7 @@
 ti["g"] = {"st_grate_cross"} .. ti["l"]
 ti["x"] = {"it_trap", state=OPEN} .. ti["."]
 ti["S"] = {"it_spring_keep"} .. ti["l"]
-ti["F"] = {"it-flagblack"} .. ti["l"]
+ti["F"] = {"it_flag_black"} .. ti["l"]
 ti["O"] = {"it_extralife"} .. ti["l"]
 ti["T"] = {"st_thief"} .. ti["="]
 ti["B"] = {"st_invisible"} .. ti["A"]
@@ -91,7 +91,7 @@
     ti["c"] = ti["x"]
     ti["G"] = ti["#"]
 else
-    ti["p"] = {"it-flagblack"} .. ti["l"]
+    ti["p"] = {"it_flag_black"} .. ti["l"]
     ti["c"] = ti["@"]
     ti["G"] = ti["%"]
 end

Modified: trunk/data/levels/enigma_iv/index.xml
===================================================================
--- trunk/data/levels/enigma_iv/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_iv/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma IV"/>
+  <info enigma="1.00" group="Enigma" location="10500" network="false" owner="Enigma Team" release="1" revision="26" title="Enigma IV"/>
 
   <attributes/>
 
@@ -103,7 +103,7 @@
     <level _seq="95" _title="MetaPuzzle" _xpath="./ant03_1" author="Petr Machata" ctrl="force" easy="false" id="ant03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title=".c.R.e.A.z.Y.w.O.r.L.d." _xpath="./martin100_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin100" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Over the Lake" _xpath="./siegfried27_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="18" score="2" target="time" unit="duration"/>
+    <level _seq="98" _title="Bizarro World" _xpath="./duffy73_3" author="Jacob Scott" ctrl="force" easy="true" id="duffy73" rel="3" rev="19" score="2" target="time" unit="duration"/>
     <level _seq="99" _title="Little Puzzles" _xpath="./wb11_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb11" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="100" _title="Big Adventures" _xpath="./wb12_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb12" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: trunk/data/levels/enigma_v/index.xml
===================================================================
--- trunk/data/levels/enigma_v/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_v/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="24" title="Enigma V"/>
+  <info enigma="1.00" group="Enigma" location="10600" network="false" owner="Enigma Team" release="1" revision="25" title="Enigma V"/>
 
   <attributes/>
 
@@ -50,7 +50,7 @@
     <level _seq="42" _title="Choo-Choo" _xpath="./duffy22_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy22" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="Humid Maze" _xpath="./duffy133_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy133" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="44" _title="Turnstile City" _xpath="./duffy39_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy39" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="45" _title="Psycho Pushing" _xpath="./ss03_3" author="Sven Siggelkow" ctrl="force" easy="true" id="ss3" rel="3" rev="17" score="2" target="time" unit="duration"/>
     <level _seq="46" _title="Turnstile Maze" _xpath="./duffy53_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy53" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Swamp Stomp" _xpath="./ralf11_2" author="Ralf Westram" ctrl="force" easy="true" id="ralf11" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="48" _title="Crossfire" _xpath="./duffy56_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy56" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_v/ss03_3.xml
===================================================================
--- trunk/data/levels/enigma_v/ss03_3.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_v/ss03_3.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Psycho Pushing" el:subtitle="" el:id="ss3"/>
-      <el:version el:score="2" el:release="3" el:revision="16" el:status="released"/>
+      <el:version el:score="2" el:release="3" el:revision="17" el:status="released"/>
       <el:author  el:name="Sven Siggelkow" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Sven Siggelkow</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -63,7 +63,7 @@
 ti[" f"] = {"it_floppy"}
 ti[" ."] = {"it_seed"}
 ti[" *"] = {"it_magnet", state=ON}
-ti[" p"] = {"it-flagblack"}
+ti[" p"] = {"it_flag_black"}
 ti[" i"] = {"it_sword"}
 ti[" ;"] = {"it_brush"}
 ti[" +"] = {"it_meditation_bump"}

Modified: trunk/data/levels/enigma_vi/index.xml
===================================================================
--- trunk/data/levels/enigma_vi/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vi/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="31" title="Enigma VI"/>
+  <info enigma="1.00" group="Enigma" location="10700" network="false" owner="Enigma Team" release="1" revision="32" title="Enigma VI"/>
 
   <attributes/>
 
@@ -77,7 +77,7 @@
     <level _seq="69" _title="Devil's Bolder" _xpath="./just14_1" author="JuSt" ctrl="force" easy="true" id="just14" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="Twisting by the pool" _xpath="./alain23_1" author="Alain Busser" ctrl="force" easy="true" id="alain23" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Revolver" _xpath="./ral16_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070214ral703" rel="1" rev="59" score="1" target="time" unit="duration"/>
-    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="10" score="1" target="time" unit="duration"/>
+    <level _seq="72" _title="Same task ..." _xpath="./raoul29_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul29" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="ZigZag" _xpath="./ralf06_1" author="Ralf Westram" ctrl="force" easy="true" id="ralf06" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="74" _title="Houdini" _xpath="./ral11_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20060816ral719" rel="2" rev="58" score="2" target="time" unit="duration"/>
     <level _seq="75" _title="The wrong Place?" _xpath="./just17_1" author="JuSt" ctrl="force" easy="false" id="just17" rel="1" rev="1" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_vi/raoul29_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vi/raoul29_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,12 +3,11 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Same task ..." el:subtitle="... different Mirrors" el:id="raoul29"/>
-      <el:version el:score="1" el:release="1" el:revision="10" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="11" el:status="released"/>
       <el:author  el:name="Raoul Bourquin" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Raoul Bourquin</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
-      <el:compatibility el:enigma="1.10">
-      </el:compatibility>
+      <el:compatibility el:enigma="1.10"/>
       <el:modes el:easy="true" el:single="true" el:network="false"/>
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
@@ -17,15 +16,10 @@
 
 ti[" "] = {"fl_metal"}
 ti["-"] = {"fl_abyss"}
-if wo["IsDifficult"] then
-    ti["~"] = {"fl_abyss", friction=0.25}
-else
-    ti["~"] = {"fl_abyss", friction=0.1}
-end
 ti["G"] = {"st_darkglass"}
 ti["F"] = {"st_lightglass"}
-ti["w"] = ti[" "] .. {"it-flagwhite"}
-ti["b"] = ti[" "] .. {"it-flagblack"}
+ti["w"] = {"it_flag_white"}
+ti["b"] = {"it_flag_black"}
 ti["y"] = {"it_yinyang"}
 ti["h"] = {"st_mirror", flavor="slab", transparent=true, orientation=SOUTH}
 ti["v"] = {"st_mirror", flavor="slab", transparent=true, orientation=NORTH}
@@ -39,34 +33,33 @@
 ti["L"] = {"st_laser", orientation=WEST, name="l_west"}
 ti["l"] = {"st_laser", orientation=EAST, name="l_east"}
 ti["O"] = {"st_oxyd", flavor="b"}
-ti["A"] = ti["y"] .. {"#ac_marble_black", essential=1}
-ti["B"] = ti["y"] .. {"#ac_marble_white", essential=1}
-
-w, h = wo(ti, " ", {
-"-------G1~~2G-------",
-"GGOFFFFOGGGGOFFFFOGG",
-"GGh    hGGGFh    hFG",
-"OvP----PvOOvP----PvO",
-"F -    - GG -   w- F",
-"F - << - GG - |i - F",
-"F - A< - Ll - |B - F",
-"F - (< - GG - |i - F",
-"F -b   - GG -    - F",
-"OvP----PvOOvP----PvO",
-"GGh    hGGGFh    hFG",
-"GGOFFFFOGGGGOFFFFOGG",
-"-------G1~~2G-------"
-})
-
+ti["A"] = ti["y"] .. {"#ac_marble_black", essential=INDISPENSIBLE}
+ti["B"] = ti["y"] .. {"#ac_marble_white", essential=INDISPENSIBLE}
 if  wo["IsDifficult"]  then
-    wo[{10, 0.5}] = {"ac_rotor", strength=20, range=15, prefercurrent=1}
-    wo[{10, 12.5}] = {"ac_rotor", strength=20, range=15, prefercurrent=1}
+    ti["~"] = {"fl_abyss", friction=0.25}
+    ti["*"] = ti["~"] .. {"ac_rotor", 0.0, 0.5, strength=20, range=15, prefercurrent=1}
 else
-    wo[{10, 0.5}] = {"ac_rotor", strength=10, range=15, prefercurrent=1}
-    wo[{10, 12.5}] = {"ac_rotor", strength=10, range=15, prefercurrent=1}
+    ti["~"] = {"fl_abyss", friction=0.1}
+    ti["*"] = ti["~"] .. {"ac_rotor", 0.0, 0.5, strength=10, range=15, prefercurrent=1}
 end
+
+wo(ti, " ", {
+    "-------G1~*2G-------",
+    "GGOFFFFOGGGGOFFFFOGG",
+    "GGh    hGGGFh    hFG",
+    "OvP----PvOOvP----PvO",
+    "F -    - GG -   w- F",
+    "F - << - GG - |i - F",
+    "F - A< - Ll - |B - F",
+    "F - (< - GG - |i - F",
+    "F -b   - GG -    - F",
+    "OvP----PvOOvP----PvO",
+    "GGh    hGGGFh    hFG",
+    "GGOFFFFOGGGGOFFFFOGG",
+    "-------G1~*2G-------"})
+
 wo:shuffleOxyd()
-    ]]></el:luamain>
+ ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">
         <el:english el:translate="false"/>

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="37" title="Enigma VII"/>
+  <info enigma="1.00" group="Enigma" location="10800" network="false" owner="Enigma Team" release="1" revision="38" title="Enigma VII"/>
 
   <attributes/>
 
@@ -83,8 +83,8 @@
     <level _seq="75" _title="Swapping Puzzle II" _xpath="./joe22_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe22" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Multiban" _xpath="./dpl01_1" author="Dominik Leipold" ctrl="force" easy="false" id="dpl01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Riverside" _xpath="./johann02_2" author="Johann Freymuth" ctrl="force" easy="false" id="johann02" rel="2" rev="0" score="2" target="time" unit="duration"/>
-    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="15" score="2" target="time" unit="duration"/>
-    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="The Lone Ranger" _xpath="./pulley04_2" author="Mark Pulley" ctrl="force" easy="false" id="pulley04" rel="2" rev="16" score="2" target="time" unit="duration"/>
+    <level _seq="79" _title="Little Shop Of Horrors" _xpath="./pulley07_1" author="Mark Pulley" ctrl="force" easy="false" id="pulley07" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="Spaceship Control" _xpath="./safalra01_1" author="Safalra" ctrl="force" easy="false" id="safalra01" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Ball Alley" _xpath="./johann01_1" author="Johann Freymuth" ctrl="force" easy="false" id="johann01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Action Potential" _xpath="./pulley02_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley02" rel="2" rev="8" score="1" target="time" unit="duration"/>
@@ -103,9 +103,9 @@
     <level _seq="95" _title="Pick-Up" _xpath="./joe27_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="A Kind of Magic" _xpath="./just37_1" author="JuSt" ctrl="force" easy="true" id="JuStA Kind of Magic" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Blue Screen Of Death" _xpath="./pulley10_2" author="Mark Pulley" ctrl="force" easy="true" id="pulley10" rel="2" rev="1" score="2" target="time" unit="duration"/>
-    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="37" score="1" target="time" unit="duration"/>
-    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="42" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="46" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Audience in Venice" _xpath="./mecke09_2" author="mecke" ctrl="force" easy="true" id="mecke9" rel="2" rev="38" score="1" target="time" unit="duration"/>
+    <level _seq="99" _title="Black Liberation" _xpath="./mecke11_2" author="mecke" ctrl="force" easy="true" id="mecke11" rel="2" rev="43" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Jack-Of-All-Trades" _xpath="./mecke12_2" author="mecke" ctrl="force" easy="true" id="mecke12" rel="2" rev="47" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: trunk/data/levels/enigma_vii/mecke09_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/mecke09_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Audience in Venice" el:subtitle="Press the Triggers" el:id="mecke9"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 38 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -58,7 +58,7 @@
 ti["; "] = {"st_box_wood"}
 ti["< "] = {"st_mirror", movable=false, transparent=false, orientation=WEST}
 ti[" -"] = {"fl_sahara"}
-ti["f "] = {"it-flagblack"}
+ti["f "] = {"it_flag_black"}
 ti["> "] = {"st_boulder_n"}
 ti["? "] = {"st_bluesand"}
 ti[" ."] = {"fl_samba"}
@@ -84,7 +84,7 @@
 ti["H "] = {"st_redbrown"}
 ti[" 5"] = {"fl_lawn_e2"}
 ti["I "] = {"st_swap"}
-ti["z "] = {"it-flagwhite"}
+ti["z "] = {"it_flag_white"}
 ti[" 6"] = {"fl_lawn"}
 ti["J "] = {"st_passage_white_cross"}
 ti["K "] = {"st_fake_oxydd"}

Modified: trunk/data/levels/enigma_vii/mecke11_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/mecke11_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Black Liberation" el:subtitle="Black is Beautiful" el:id="mecke11" />
-      <el:version el:score="1" el:release="2" el:revision="$Revision:42$" el:status="released" />
+      <el:version el:score="1" el:release="2" el:revision="$Revision:43$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -90,7 +90,7 @@
 ti["> "] = {"st_death_invisible"}
 ti["? "] = {"st_brownie"}
 ti["g "] = {"it_glasses"}
-ti["f "] = {"it-flagblack"}
+ti["f "] = {"it_flag_black"}
 ti["@ "] = {"st_break_oxydc"}
 ti["st"] = ti[" #"] .. {"st_break_oxydc"}
 ti["sy"] = ti["st"] .. {"it_seed"}

Modified: trunk/data/levels/enigma_vii/mecke12_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/mecke12_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Jack-Of-All-Trades" el:subtitle="Find The Paradise" el:id="mecke12"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 46 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 47 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -146,7 +146,7 @@
     ti["a6"] = ti[" !"] .. {"it_death"}
 else
     ti["l9"] = ti[" &"] .. {"fl_ice"}
-    ti["a3"] = ti[" !"] .. {"it-flagblack"}
+    ti["a3"] = ti[" !"] .. {"it_flag_black"}
     ti["a4"] = ti[" !"] .. {"it_extralife"}
     ti["a5"] = ti[" !"] .. {"it_pin"}
     ti["a6"] = ti[" !"] .. {"fl_metal_7", friction=4.0}

Modified: trunk/data/levels/enigma_vii/pulley04_2.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/pulley04_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Lone Ranger" el:subtitle="" el:id="pulley04"/>
-      <el:version el:score="2" el:release="2" el:revision="15" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="16" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -26,7 +26,7 @@
 ti["l"] = {"fl_water"}
 ti["m"] = ti[" "] .. {"it_hammer"}
 ti["n"] = (ti[" "] .. {"it-drop"}) .. ti({"st-chameleon"})
-ti["o"] = {"fl_sand", secure=true} .. ti({"it-burnable_oil"})
+ti["o"] = {"fl_sand", secure=true} .. ti({"it_burnable_oil"})
 ti["p"] = {"fl_swamp"}
 ti["q"] = ti[" "] .. {"st_redrock"} -- SUN RAY
 ti["r"] = {"fl_red"} -- SUN
@@ -82,8 +82,8 @@
 ti["^"] = {"fl-gradient13"} -- Up
 ti["("] = (ti[" "] .. {"#ac_marble_white", owner=0, controllers=1, essential=-1, name="Ranger"})
 ti[")"] = (ti[" "] .. {"#ac_marble_black", owner=1, controllers=2, essential=-1, name="Tonto"}) .. ti({"it_yinyang"})
-ti["="] = ti["t"] .. {"it-flagwhite"}
-ti["-"] = ti["l"] .. {"it-flagblack"}
+ti["="] = ti["t"] .. {"it_flag_white"}
+ti["-"] = ti["l"] .. {"it_flag_black"}
 
 --|         1    1   |2    2    3    3  | 4    4    5    5 |  6    6    7    7|   8    8    9   9|
 --|1   5    0    5   |0    5    0    5  | 0    5    0    5 |  0    5    0    5|   0    5    0   4|

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Little Shop Of Horrors" el:subtitle="Watch out, here comes Audrey II!" el:id="pulley07"/>
-      <el:version el:score="1" el:release="1" el:revision="17" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="18" el:status="released"/>
       <el:author  el:name="Mark Pulley" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2007 Mark Pulley</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -60,7 +60,7 @@
 ti["p"] = ti[" "] .. {"st_flat"}
 ti["q"] = ti[" "] .. {"st_woven"}
 ti["s"] = {"fl-gradient14"} .. ti({"st_nil"})
-ti["t"] = (ti({"fl-gradient14"}) .. {"st_grate_cross"}) .. {"it-burnable"}
+ti["t"] = (ti({"fl-gradient14"}) .. {"st_grate_cross"}) .. {"it_burnable"}
 ti["w"] = {"fl-gradient15"} .. ti({"st_nil"})
 ti["x"] = ti[" "] .. {"st_scissors"}
 ti["y"] = {"fl_woven"}
@@ -82,9 +82,9 @@
 ti["P"] = {"fl_bright"} .. ti({"st_flat_breakable"})
 ti["Q"] = ti[" "] .. {"st_plaster_hollow"}
 ti["R"] = ti[" "] .. {"st_plaster"}
-ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it-burnable"}
+ti["S"] = (ti({"fl-gradient14"}) .. {"st_oneway", orientation=SOUTH}) .. {"it_burnable"}
 ti["T"] = {"fl_plank"} .. ti({"it_coffee"})
-ti["W"] = (ti({"fl-gradient15"}) .. {"st_oneway", orientation=WEST}) .. {"it-burnable"}
+ti["W"] = (ti({"fl-gradient15"}) .. {"st_oneway", orientation=WEST}) .. {"it_burnable"}
 ti["X"] = ti[" "] .. {"st_brick"}
 ti["["] = ti[" "] .. {"st-grate3", name="d1"}
 ti["]"] = ti[" "] .. {"st-grate3", name="d2"}

Modified: trunk/data/levels/enigma_viii/andreas48_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/andreas48_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Styles Change" el:subtitle="But dynamite is forever" el:id="andreas48"/>
-      <el:version el:score="2" el:release="2" el:revision="15" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="16" el:status="released"/>
       <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Andreas Lochmann</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -67,7 +67,7 @@
 ti["v0"] = {"it_vortex", "vortex#", autoclose = true, state = CLOSED} .. ti[" 0"]
 ti["M0"] = {"st_monoflop", "monoflop#", action = "signal"} .. ti[" 0"]
 ti["e0"] = {"it_extralife"} .. ti[" 0"]
-ti["f0"] = {"it-flagblack"} .. ti[" 0"]
+ti["f0"] = {"it_flag_black"} .. ti[" 0"]
 ti["W0"] = {"st_turnstilearm_w"} .. ti[" 0"]
 ti["S0"] = {"st_turnstilearm_s"} .. ti[" 0"]
 ti["T0"] = {"st_turnstile"} .. ti[" 0"]

Modified: trunk/data/levels/enigma_viii/index.xml
===================================================================
--- trunk/data/levels/enigma_viii/index.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/index.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="28" title="Enigma VIII"/>
+  <info enigma="1.00" group="Enigma" location="10900" network="false" owner="Enigma Team" release="1" revision="29" title="Enigma VIII"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack8_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack8" rel="1" rev="5" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Enigmaparcour I" _xpath="./mecke15_1" author="mecke" ctrl="force" easy="true" id="mecke15" rel="1" rev="34" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="36" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Rhythm of Space" _xpath="./mecke20_2" author="mecke" ctrl="force" easy="true" id="mecke20" rel="2" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="The Show Jumper" _xpath="./andreas47_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas47" rel="1" rev="11" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="The Red Room" _xpath="./joe29_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe29" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Enigmines" _xpath="./huffman01_1" author="Brian Huffman" ctrl="force" easy="true" id="huffman01" rel="1" rev="2" score="1" target="time" unit="duration"/>
@@ -18,7 +18,7 @@
     <level _seq="10" _title="Southside Life" _xpath="./mecke10_2" author="mecke" ctrl="force" easy="true" id="mecke10" rel="2" rev="33" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Joona's Chess" _xpath="./joona02_1" author="Joona Laire" ctrl="force" easy="true" id="joona02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="12" _title="Helios I" _xpath="./mecke07_1" author="mecke" ctrl="force" easy="false" id="mecke48" rel="1" rev="22" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="79" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="The Green Hell" _xpath="./mecke22_2" author="mecke" ctrl="force" easy="true" id="mecke22" rel="2" rev="80" score="1" target="time" unit="duration"/>
     <level _seq="14" _title="Tilt Board" _xpath="./ulf06_2" author="Ulf Stegemann" ctrl="force" easy="true" id="20080529ulf118" rel="2" rev="116" score="2" target="time" unit="duration"/>
     <level _seq="15" _title="4 - 8 - 4" _xpath="./dpl03_3" author="Dominik Leipold" ctrl="force" easy="true" id="20070821dpl003" rel="3" rev="4" score="3" target="time" unit="duration"/>
     <level _seq="16" _title="Impulsive Order" _xpath="./raywick05_1" author="Ray Wick" ctrl="force" easy="true" id="raywick5" rel="1" rev="12" score="1" target="time" unit="duration"/>
@@ -35,17 +35,17 @@
     <level _seq="27" _title="Freestyle Microwire" _xpath="./ral29_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080719ral530" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Balance Beam" _xpath="./mecke03_1" author="mecke" ctrl="force" easy="true" id="mecke03" rel="1" rev="37" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Colored Oxyds" _xpath="./andreas50_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas50" rel="1" rev="8" score="1" target="time" unit="duration"/>
-    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="15" score="2" target="time" unit="duration"/>
+    <level _seq="30" _title="Styles Change" _xpath="./andreas48_2" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas48" rel="2" rev="16" score="2" target="time" unit="duration"/>
     <level _seq="31" _title="Colored Turnstiles" _xpath="./andreas51_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas51" rel="1" rev="7" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="39" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Sanssouci" _xpath="./mecke05_1" author="mecke" ctrl="force" easy="true" id="mecke05" rel="1" rev="40" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Wired Shogun" _xpath="./ral34_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080828ral417" rel="1" rev="129" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Scarlet's Necklace" _xpath="./ral30_1" author="Ronald Lamprecht" ctrl="force" easy="true" id="20080814ral422" rel="1" rev="133" score="1" target="time" unit="duration"/>
     <level _seq="35" _title="- Meditation -" _xpath="./raoul31_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul31" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Relaxing at the sea" _xpath="./devnull08_1" author="/dev/null" ctrl="force" easy="true" id="devnull08" rel="1" rev="20" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="Helios II" _xpath="./mecke08_1" author="mecke" ctrl="force" easy="true" id="mecke08" rel="1" rev="25" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="150" score="2" target="time" unit="duration"/>
+    <level _seq="38" _title="Tutoxyd's Pyramid" _xpath="./ral21_2" author="Ronald Lamprecht" ctrl="force" easy="true" id="20070822ral291" rel="2" rev="151" score="2" target="time" unit="duration"/>
     <level _seq="39" _title="Alternation I" _xpath="./mecke17_1" author="mecke" ctrl="force" easy="false" id="mecke17" rel="1" rev="14" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="15" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Enigmaparcour II" _xpath="./mecke29_1" author="mecke" ctrl="force" easy="true" id="mecke29" rel="1" rev="16" score="1" target="time" unit="duration"/>
     <level _seq="41" _title=" - Meditation - " _xpath="./devnull07_1" author="/dev/null" ctrl="force" easy="true" id="devnull07" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="42" _title=" - Meditation - " _xpath="./devnull06_1" author="/dev/null" ctrl="force" easy="true" id="devnull06" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="- Meditation -" _xpath="./devnull04_1" author="/dev/null" ctrl="force" easy="true" id="devnull04" rel="1" rev="9" score="1" target="time" unit="duration"/>
@@ -56,11 +56,11 @@
     <level _seq="48" _title="On belay?" _xpath="./devnull15_1" author="/dev/null" ctrl="force" easy="true" id="devnull15" rel="1" rev="8" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hang-dogging?" _xpath="./devnull16_1" author="/dev/null" ctrl="force" easy="true" id="devnull16" rel="1" rev="7" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="Alternation II" _xpath="./mecke31_1" author="mecke" ctrl="force" easy="false" id="mecke31" rel="1" rev="15" score="1" target="time" unit="duration"/>
-    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="33" score="1" target="time" unit="duration"/>
-    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="51" _title="Fifty Years Later ..." _xpath="./mecke23_1" author="mecke" ctrl="force" easy="true" id="mecke23" rel="1" rev="34" score="1" target="time" unit="duration"/>
+    <level _seq="52" _title="Turbulencia" _xpath="./mecke19_1" author="mecke" ctrl="force" easy="true" id="mecke19" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="53" _title="Techno Voodoo" _xpath="./mecke06_1" author="mecke" ctrl="force" easy="false" id="mecke06" rel="1" rev="17" score="1" target="time" unit="duration"/>
-    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="18" score="1" target="time" unit="duration"/>
-    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="17" score="1" target="time" unit="duration"/>
+    <level _seq="54" _title="Plutos World" _xpath="./mecke02_1" author="mecke" ctrl="force" easy="false" id="mecke16" rel="1" rev="19" score="1" target="time" unit="duration"/>
+    <level _seq="55" _title="Plutos Confusion" _xpath="./mecke13_1" author="mecke" ctrl="force" easy="false" id="mecke30" rel="1" rev="18" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Coober Pedy Opals" _xpath="./ral35_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral610" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Butterfly Opals" _xpath="./ral36_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081207ral708" rel="1" rev="126" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="Brilliant Opals" _xpath="./ral37_1" author="Ronald Lamprecht, Andreas Lochmann" ctrl="force" easy="true" id="20081212ral162" rel="1" rev="126" score="1" target="time" unit="duration"/>

Modified: trunk/data/levels/enigma_viii/mecke02_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke02_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos World" el:subtitle="Deep ..." el:id="mecke16"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 19 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -66,7 +66,7 @@
 ti["y8"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle8"}
 ti["y9"] = ti[" ."] .. {"st_oxyd", flavor="a",name="olle9"}
 ti["T "] = ti[" ."] .. {"st_passage_black_frame"}
-ti[" !"] = ti["  "] .. {"it-burnable_burning"}
+ti[" !"] = ti["  "] .. {"it_burnable_burning"}
 ti["$1"] = {"it_trigger", target="olli1"}
 ti["$2"] = {"it_trigger", target="olli2"}
 ti["$3"] = {"it_trigger", target="olli3"}

Modified: trunk/data/levels/enigma_viii/mecke05_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke05_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Sanssouci" el:subtitle="A Baroque Game" el:id="mecke05"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision:39$" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision:40$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -65,7 +65,7 @@
 ti["UU"] = {"st_break_black"}
 ti["4U"] = ti["4 "] ..{"st_break_black"}
 ti["T "] = {"st_passage_black_frame"}
-ti["; "] = ti["T "] ..{"it-flagblack"}
+ti["; "] = ti["T "] ..{"it_flag_black"}
 ti["h "] = {"st_oneway_e"}
 ti["i "] = {"st_oneway_w"}
 ti["? "] = {"st_rawglass_movable"}

Modified: trunk/data/levels/enigma_viii/mecke13_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke13_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Plutos Confusion" el:subtitle="The other side ..." el:id="mecke30"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 17 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 18 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -78,8 +78,8 @@
 ti["n"] = ti[" "] .. ti["W"] .. {"st-chameleon"}
 ti["o"] = ti[" "] .. ti["m"] .. {"st-chameleon"}
 ti["O"] = ti[" "] .. {"st_lightglass_hollow"}
-ti["'"] = {"it-burnable_oil"}
-ti[":"] = {"it-burnable_burning"}
+ti["'"] = {"it_burnable_oil"}
+ti[":"] = {"it_burnable_burning"}
 
 w, h = wo(ti, " ", {
 "BTbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbwBTB",

Modified: trunk/data/levels/enigma_viii/mecke19_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke19_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulencia" el:subtitle="Meditation! Silence? ... Have a Look ..." el:id="mecke19" />
-      <el:version el:score="1" el:release="1" el:revision="$Revision:17$" el:status="released" />
+      <el:version el:score="1" el:release="1" el:revision="$Revision:18$" el:status="released" />
       <el:author el:name="mecke" el:email="" />
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true" />
@@ -66,7 +66,7 @@
 ti["k "] = {"it_cherry"}
 ti["4 "] = {"st_break_boulder"}
 ti["i "] = {"it_seed"}
-ti["w "] = {"it-flagwhite"}
+ti["w "] = {"it_flag_white"}
 ti["5 "] = {"st_thief"}
 ti["y "] = {"it_sword"}
 ti["x "] = {"it_hammer"}

Modified: trunk/data/levels/enigma_viii/mecke20_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke20_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Rhythm of Space" el:subtitle="Only A Labyrinth" el:id="mecke20"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision: 36 $" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision: 37 $" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -86,7 +86,7 @@
 ti["d1"] = ti[" $"] .. {"it_document", text="beginning"}
 ti["gg"] = ti[" ("]..{"it_puller_e"}
 ti["JJ"] = ti[" %"]..{"#ac_top", range=1, strength=1}
-ti["ff"] = ti[" ("]..{"it-flagblack"}
+ti["ff"] = ti[" ("]..{"it_flag_black"}
 ti["J "] = {"st_oneway_black_n"}
 ti["K "] = {"st_bluegray"}
 ti["L "] = {"st_mail_n"}

Modified: trunk/data/levels/enigma_viii/mecke22_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke22_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Green Hell" el:subtitle="Exploration Trip to Green Waters" el:id="mecke22"/>
-      <el:version el:score="1" el:release="2" el:revision="$Revision:79$" el:status="released"/>
+      <el:version el:score="1" el:release="2" el:revision="$Revision:80$" el:status="released"/>
       <el:author  el:name="mecke" el:email=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -110,8 +110,8 @@
 ti["f&"] = ti[" &"] .. {"it_floppy"}
 ti["<#"] = ti[" #"] .. {"st_passage_black_frame"}
 ti["m "] = ti["<#"] .. {"it_magicwand"}
-ti["o;"] = ti[" ;"] .. {"it-burnable_oil"}
-ti["o!"] = ti[" !"] .. {"it-burnable_oil"}
+ti["o;"] = ti[" ;"] .. {"it_burnable_oil"}
+ti["o!"] = ti[" !"] .. {"it_burnable_oil"}
 ti["g;"] = ti[" ;"] .. {"it_glasses_broken"}
 ti["sb"] = ti[" *"] .. {"it_springboard"}
 ti["sl"] = ti[" l"] .. {"it_springboard"}
@@ -218,8 +218,8 @@
    ti["i+"] = ti[" +"] .. {"it_seed_fake"}
    ti["rr"] = ti[" $"] .. {"#ac_rotor", range=3, strength=3}
    ti["ww"] = {"fl_water"}
-   ti["))"] = ti[" l"] .. {"it-burnable_burning"}
-   ti[")$"] = ti[" $"] .. {"it-burnable_burning"}
+   ti["))"] = ti[" l"] .. {"it_burnable_burning"}
+   ti[")$"] = ti[" $"] .. {"it_burnable_burning"}
    ti[" 4"] = {"fl-gradient1"}
    ti[" :"] = {"fl-gradient16"}
    ti[" <"] = {"fl-gradient5"}
@@ -228,13 +228,13 @@
    ti["h5"] = ti[" ,"] .. {"fl_bridge",name="olle5"}
    ti["n5"] = ti[" ;"] .. {"it_trigger",target="liz1#*"}
    ti["LL"] = ti[" +"] .. {"st_laser_n",name="liz1#",state=OFF}
-   ti["LZ"] = ti[" ;"] .. {"it-burnable_oil"}
+   ti["LZ"] = ti[" ;"] .. {"it_burnable_oil"}
 else
    ti["i+"] = ti[" +"] .. {"it-dynamite"}
    ti["rt"] = ti[" '"] .. {"st_ghost_break"}
    ti["rr"] = ti["rt"] .. {"#ac_rotor", range=3, strength=3}
    ti["ww"] = {"fl_swamp"}
-   ti["))"] = ti[" l"] .. {"it-burnable_oil"}
+   ti["))"] = ti[" l"] .. {"it_burnable_oil"}
    ti[")$"] = ti[" $"] .. {"fl_water"}
    ti[" 4"] = {"fl_lawn_d4"}
    ti[" :"] = {"fl_lawn_d4"}
@@ -243,7 +243,7 @@
    ti["r5"] = ti[" ;"] .. {"it_trigger", target={"olle5","liz1#*"}}
    ti["h5"] = ti[" ,"] .. {"fl_bridge",name="olle5"}
    ti["LL"] = ti[" +"] .. {"st_laser_n",name="liz1#",state=OFF}
-   ti["LZ"] = ti[" ;"] .. {"it-flagblack"}
+   ti["LZ"] = ti[" ;"] .. {"it_flag_black"}
 end
 
 local resolver = res.composer(ti)

Modified: trunk/data/levels/enigma_viii/mecke23_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke23_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Fifty Years Later ..." el:subtitle="Survival Training in wasted Landscapes ..." el:id="mecke23"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 33 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 34 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -69,7 +69,7 @@
 ti["= "] = ti[" ."] .. {"it_seed"}
 ti[" ="] = {"fl_water"}
 ti[" b"] = {"it-dynamite"}
-ti["!0"] = {"it-burnable_oil"}
+ti["!0"] = {"it_burnable_oil"}
 ti["ka"] = {"it_floppy"}
 ti["K1"] = {"st_floppy",target="ollf1"}
 ti[":1"] = {"st_door",faces="ns",name="ollf1"}
@@ -122,9 +122,9 @@
 ti["F "] = {"st_rawglass"}
 ti["! "] = ti[" ."] .. {"it_wrench"}
 ti["p1"] = ti[" a"] .. {"it_pipe",connections = "ew"}
-ti["p2"] = ti[" a"] .. {"it-flagblack"}
+ti["p2"] = ti[" a"] .. {"it_flag_black"}
 ti["p3"] = ti[" a"] .. {"it-pipe",connections = "ne"}
-ti["p4"] = ti[" a"] .. {"it-flagwhite"}
+ti["p4"] = ti[" a"] .. {"it_flag_white"}
 ti["sq"] = {"it_squashed"}
 ti["ex"] = {"it_extralife"}
 ti["t "] = {"it_trigger", target="@olli#*"}
@@ -206,8 +206,8 @@
 ti["^ "] = ti[" '"] .. {"st_boulder_n"}
 ti["v "] = ti[" '"] .. {"st_boulder_s"}
 ti["^1"] = ti["^ "] .. {"fl_water"}
-ti["//"] = {"it-burnable_burning"}
-ti["o/"] = {"it-burnable_oil"}
+ti["//"] = {"it_burnable_burning"}
+ti["o/"] = {"it_burnable_oil"}
 
 if wo ["IsDifficult"] then
     ti["oo"] = ti[" o"].. {"it_coffee"}
@@ -216,7 +216,7 @@
     ti["L3"] = {"st_oneway",state=WEST}
     ti["L4"] = {"st_oneway",state=NORTH}
 else
-    ti["oo"] = ti[" o"].. {"it-flagblack"}
+    ti["oo"] = ti[" o"].. {"it_flag_black"}
     ti["L1"] = {"st_passage_black_frame"}
     ti["L2"] = {"st_passage_black_frame"}
     ti["L3"] = {"st_passage_black_frame"}

Modified: trunk/data/levels/enigma_viii/mecke29_1.xml
===================================================================
--- trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/mecke29_1.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Enigmaparcour II" el:subtitle="Open the Doors" el:id="mecke29"/>
-      <el:version el:score="1" el:release="1" el:revision="$Revision: 15 $" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="$Revision: 16 $" el:status="released"/>
       <el:author  el:name="mecke" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2008 Thomas Bernhardt</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -190,12 +190,12 @@
 end
 
 function hux()
-    wo[{15,1}]= {"it-burnable_oil"}
-    wo[{17,1}]= {"it-burnable_oil"}
-    wo[{16,1}]= {"it-burnable_burning"}
-    wo[{15,3}]= {"it-burnable_oil"}
-    wo[{17,3}]= {"it-burnable_oil"}
-    wo[{16,3}]= {"it-burnable_burning"}
+    wo[{15,1}]= {"it_burnable_oil"}
+    wo[{17,1}]= {"it_burnable_oil"}
+    wo[{16,1}]= {"it_burnable_burning"}
+    wo[{15,3}]= {"it_burnable_oil"}
+    wo[{17,3}]= {"it_burnable_oil"}
+    wo[{16,3}]= {"it_burnable_burning"}
 end
 
 function wormy ()

Modified: trunk/data/levels/enigma_viii/ral21_2.xml
===================================================================
--- trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-31 00:26:52 UTC (rev 1495)
+++ trunk/data/levels/enigma_viii/ral21_2.xml	2009-01-31 01:28:40 UTC (rev 1496)
@@ -3,7 +3,7 @@
   <el:protected >
     <el:info el:type="level">
       <el:identity el:title="Tutoxyd's Pyramid" el:subtitle="Marble Jones I" el:id="20070822ral291"/>
-      <el:version el:score="2" el:release="2" el:revision="$Revision: 150 $" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="$Revision: 151 $" el:status="released"/>
       <el:author  el:name="Ronald Lamprecht" el:email="ral at users.berlios.de"/>
       <el:copyright>Copyright ? 2007,2008 Ronald Lamprecht</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -96,8 +96,8 @@
 ti[" e"] = ti["  "] .. {"it_extinguisher_medium"}
 ti["%l"] = ti["%%"] .. {"it_extralife"}
 ti[" m"] = ti["  "] .. {"it_landmine"}
-ti[" o"] = ti["  "] .. {"it-burnable_oil"}
-ti["$o"] = ti["$$"] .. {"it-burnable_oil"}
+ti[" o"] = ti["  "] .. {"it_burnable_oil"}
+ti["$o"] = ti["$$"] .. {"it_burnable_oil"}
 ti[" s"] = ti["  "] .. {"it_squashed"}
 ti[".s"] = ti[".."] .. {"it_squashed"}
 ti[";s"] = ti[";;"] .. {"it_squashed"}
@@ -111,7 +111,7 @@
 ti[";w"] = ti[";;"] .. {"it_magicwand"}
 ti["%w"] = ti["%%"] .. {"it_magicwand"}
 ti[";g"] = ti[";;"] .. {"it_glasses_broken"}
-ti["fw"] = ti["  "] .. {"it-flagwhite"}
+ti["fw"] = ti["  "] .. {"it_flag_white"}
 ti["ww"] = ti["  "] .. {"it_wormhole", range=0.5, destination="white_grave"}
 ti[" y"] = ti["  "] .. {"it_yinyang"}
 ti["k0"] = ti["  "] .. {"it_key", code=0}



