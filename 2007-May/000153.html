<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r716 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vii src/gui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r716%20-%20in%20branches/1.0%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_vii%20src/gui&In-Reply-To=%3C200705032255.l43MtTfN002662%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000152.html">
   <LINK REL="Next"  HREF="000154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r716 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vii src/gui</H1>
    <B>raoul at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r716%20-%20in%20branches/1.0%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_vii%20src/gui&In-Reply-To=%3C200705032255.l43MtTfN002662%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r716 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vii src/gui">raoul at mail.berlios.de
       </A><BR>
    <I>Fri May  4 00:55:29 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000152.html">[Enigma-game-svn] r715 - branches/1.0/src
</A></li>
        <LI>Next message: <A HREF="000154.html">[Enigma-game-svn] r717 - homepage/input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#153">[ date ]</a>
              <a href="thread.html#153">[ thread ]</a>
              <a href="subject.html#153">[ subject ]</a>
              <a href="author.html#153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: raoul
Date: 2007-05-04 00:55:27 +0200 (Fri, 04 May 2007)
New Revision: 716

Added:
   branches/1.0/data/levels/enigma_vii/duffy155_1.xml
   branches/1.0/data/levels/enigma_vii/ral20_1.xml
Modified:
   branches/1.0/data/levels/enigma_cross/newlevels_1.0.1.xml
   branches/1.0/data/levels/enigma_vii/index.xml
   branches/1.0/data/levels/enigma_vii/joe01_1.xml
   branches/1.0/src/gui/MainMenu.cc
Log:
-&gt; 2 new levels added
-&gt; Credits for Joseph Dunne



Modified: branches/1.0/data/levels/enigma_cross/newlevels_1.0.1.xml
===================================================================
--- branches/1.0/data/levels/enigma_cross/newlevels_1.0.1.xml	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/data/levels/enigma_cross/newlevels_1.0.1.xml	2007-05-03 22:55:27 UTC (rev 716)
@@ -58,6 +58,8 @@
     &lt;level _seq=&quot;50&quot; _title=&quot;Temple of Ganesha&quot; _xpath=&quot;enigma_vii/duffy154_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy154&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;51&quot; _title=&quot;Temple of Gold&quot; _xpath=&quot;enigma_vii/duffy151_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;duffy151&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;52&quot; _title=&quot;Advancing&quot; _xpath=&quot;enigma_vii/joe01_1&quot; author=&quot;Joseph Dunne&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;joe01&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;53&quot; _title=&quot;Free Riders&quot; _xpath=&quot;enigma_vii/duffy155_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy155&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;54&quot; _title=&quot;Meditation in Peace&quot; _xpath=&quot;enigma_vii/ral20_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20070502ral466&quot; rel=&quot;1&quot; rev=&quot;70&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
   &lt;/levels&gt;
 
 &lt;/index&gt;

Added: branches/1.0/data/levels/enigma_vii/duffy155_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/duffy155_1.xml	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/data/levels/enigma_vii/duffy155_1.xml	2007-05-03 22:55:27 UTC (rev 716)
@@ -0,0 +1,129 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;el:level xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:schemaLocation=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A> level.xsd&quot; xmlns:el=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A>&quot;&gt;
+  &lt;el:protected&gt;
+    &lt;el:info el:type=&quot;level&quot;&gt;
+      &lt;el:identity el:title=&quot;Free Riders&quot; el:subtitle=&quot;Left or Right Drive?&quot; el:id=&quot;duffy155&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
+      &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
+      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
+      &lt;el:compatibility el:enigma=&quot;0.92&quot;&gt;
+      &lt;/el:compatibility&gt;
+      &lt;el:modes el:easy=&quot;false&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
+      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;-&quot;/&gt;
+    &lt;/el:info&gt;
+    &lt;el:luamain&gt;&lt;![CDATA[
+rooms_wide=1
+rooms_high=1
+
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
+create_world( levelw, levelh)
+enigma.ConserveLevel=FALSE
+
+fill_floor(&quot;fl-hay&quot;, 0,0,levelw,levelh)
+
+function renderLine( line, pattern)
+    for i=1, strlen(pattern) do
+        local c = strsub( pattern, i, i)
+        if c ==&quot;#&quot; then
+            set_stone( &quot;st-greenbrown&quot;, i-1, line)
+        elseif c ==&quot;W&quot; then
+            set_stone( &quot;st-white4&quot;, i-1, line)
+        elseif c ==&quot;B&quot; then
+            set_stone( &quot;st-black4&quot;, i-1, line)
+        elseif c == &quot;o&quot; then
+            oxyd( i-1, line)
+        elseif c == &quot;*&quot; then
+            set_stone( &quot;st-brownie&quot;, i-1, line)
+        elseif c == &quot;!&quot; then
+            abyss(i-1,line)
+        elseif c == &quot;~&quot; then
+            set_floor(&quot;fl-water&quot;,i-1,line)
+        elseif c==&quot;z&quot; then
+            set_actor(&quot;ac-blackball&quot;, i-.5,line+.5, {player=0})
+            set_item(&quot;it-yinyang&quot;,i-1,line)
+        elseif c==&quot;y&quot; then
+            set_actor(&quot;ac-whiteball&quot;, i-.5,line+.5, {player=1})
+            set_item(&quot;it-yinyang&quot;,i-1,line)
+        elseif c == &quot;g&quot; then
+            draw_stones(&quot;st-grate1&quot;,{i-1,line}, {1,1}, 1)
+        elseif c==&quot;x&quot; then
+            puzzle(i-1,line,PUZ_1111)
+        elseif c==&quot;a&quot; then
+            set_item(&quot;it-trigger&quot;,i-1,line,{action=&quot;callback&quot;,target=&quot;funcc1&quot;})
+        elseif c==&quot;b&quot; then
+            set_item(&quot;it-trigger&quot;,i-1,line,{action=&quot;callback&quot;,target=&quot;funcc2&quot;})
+        end
+    end    
+end
+
+renderLine(00,&quot;####################&quot;)
+renderLine(01,&quot;#oW       x    x Bo#&quot;)
+renderLine(02,&quot;#W     x    x     B#&quot;)
+renderLine(03,&quot;#g    x x    x    g#&quot;)
+renderLine(04,&quot;#g xxx        xxx g#&quot;)
+renderLine(05,&quot;#gxx xx   x  xx xxg#&quot;)
+renderLine(06,&quot;#ax z xx    xx y xb#&quot;)
+renderLine(07,&quot;#gxx xx  x   xx xxg#&quot;)
+renderLine(08,&quot;#g xxx  x     xxx g#&quot;)
+renderLine(09,&quot;#g         x      g#&quot;)
+renderLine(10,&quot;#W      x x  x    B#&quot;)
+renderLine(11,&quot;#oW x            Bo#&quot;)
+renderLine(12,&quot;####################&quot;)
+
+oxyd_shuffle()
+
+ff1=0
+function funcc1()
+    if ff1==0 then
+        enigma.KillStone(1,6)
+        enigma.KillStone(2,6)
+        enigma.KillStone(3,6)
+        enigma.KillStone(4,6)
+        enigma.KillStone(5,6)
+        enigma.KillStone(6,6)
+        enigma.KillStone(7,6)
+        enigma.KillStone(8,6)
+        funcc3()
+        ff1=1
+    end
+end
+
+ff2=0
+function funcc2()
+    if ff2==0 then
+        enigma.KillStone(18,6)
+        enigma.KillStone(17,6)
+        enigma.KillStone(16,6)
+        enigma.KillStone(15,6)
+        enigma.KillStone(14,6)
+        enigma.KillStone(13,6)
+        enigma.KillStone(12,6)
+        enigma.KillStone(11,6)
+        funcc3()
+        ff2=1
+    end
+end
+
+ff3=0
+function funcc3()
+    if ff3==0 then
+        fill_floor(&quot;fl-water&quot;,9,0,2,13)
+        ff3=1
+    end
+end
+    ]]&gt;&lt;/el:luamain&gt;
+    &lt;el:i18n&gt;
+      &lt;el:string el:key=&quot;title&quot;&gt;
+        &lt;el:english el:translate=&quot;true&quot;/&gt;
+        &lt;el:translation el:lang=&quot;de&quot;&gt;Trittbrettfahrer&lt;/el:translation&gt;
+      &lt;/el:string&gt;
+      &lt;el:string el:key=&quot;subtitle&quot;&gt;
+        &lt;el:english el:translate=&quot;true&quot;/&gt;
+        &lt;el:translation el:lang=&quot;de&quot;&gt;Links- oder Rechtsverkehr&lt;/el:translation&gt;
+      &lt;/el:string&gt;
+    &lt;/el:i18n&gt;
+  &lt;/el:protected&gt;
+&lt;/el:level&gt;


Property changes on: branches/1.0/data/levels/enigma_vii/duffy155_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/1.0/data/levels/enigma_vii/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/index.xml	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/data/levels/enigma_vii/index.xml	2007-05-03 22:55:27 UTC (rev 716)
@@ -22,6 +22,8 @@
     &lt;level _seq=&quot;14&quot; _title=&quot;Cold Meditation&quot; _xpath=&quot;./ral18_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20070314ral728&quot; rel=&quot;1&quot; rev=&quot;67&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;15&quot; _title=&quot;Temple of Gold&quot; _xpath=&quot;./duffy151_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;duffy151&quot; rel=&quot;1&quot; rev=&quot;4&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;16&quot; _title=&quot;Advancing&quot; _xpath=&quot;./joe01_1&quot; author=&quot;Joseph Dunne&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;joe01&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;17&quot; _title=&quot;Free Riders&quot; _xpath=&quot;./duffy155_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy155&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;18&quot; _title=&quot;Meditation in Peace&quot; _xpath=&quot;./ral20_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20070502ral466&quot; rel=&quot;1&quot; rev=&quot;70&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
   &lt;/levels&gt;
 
 &lt;/index&gt;

Modified: branches/1.0/data/levels/enigma_vii/joe01_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/joe01_1.xml	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/data/levels/enigma_vii/joe01_1.xml	2007-05-03 22:55:27 UTC (rev 716)
@@ -14,7 +14,7 @@
       &lt;el:comments&gt;
         &lt;el:code&gt;Lua 5.1 and XML converted by Leveladministrators&lt;/el:code&gt;
       &lt;/el:comments&gt;
-      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;0:11&quot;/&gt;
+      &lt;el:score el:easy=&quot;-&quot; el:difficult=&quot;-&quot;/&gt;
     &lt;/el:info&gt;
     &lt;el:luamain&gt;&lt;![CDATA[
 cells={}

Added: branches/1.0/data/levels/enigma_vii/ral20_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/ral20_1.xml	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/data/levels/enigma_vii/ral20_1.xml	2007-05-03 22:55:27 UTC (rev 716)
@@ -0,0 +1,232 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;el:level xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:schemaLocation=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A> level.xsd&quot; xmlns:el=&quot;<A HREF="http://enigma-game.org/schema/level/1">http://enigma-game.org/schema/level/1</A>&quot;&gt;
+  &lt;el:protected &gt;
+    &lt;el:info el:type=&quot;level&quot;&gt;
+      &lt;el:identity el:title=&quot;Meditation in Peace&quot; el:subtitle=&quot;Funeral on Deep Sea&quot; el:id=&quot;20070502ral466&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;$Revision: 70 $&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:author  el:name=&quot;Ronald Lamprecht&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">ral at users.berlios.de</A>&quot;/&gt;
+      &lt;el:copyright&gt;Copyright &#169; 2006 Ronald Lamprecht&lt;/el:copyright&gt;
+      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
+      &lt;el:compatibility el:enigma=&quot;1.00&quot;&gt;
+      &lt;/el:compatibility&gt;
+      &lt;el:modes el:easy=&quot;true&quot; el:single=&quot;true&quot; el:network=&quot;false&quot;/&gt;
+      &lt;el:comments&gt;
+        &lt;el:credits el:showinfo=&quot;false&quot; el:showstart=&quot;false&quot;&gt;Thanks to Nat Pryce for his libs and code examples&lt;/el:credits&gt;
+        &lt;el:code&gt;Lua 5.1&lt;/el:code&gt;
+      &lt;/el:comments&gt;
+      &lt;el:score el:easy=&quot;2:10&quot; el:difficult=&quot;4:27&quot;/&gt;
+    &lt;/el:info&gt;
+    &lt;el:luamain&gt;&lt;![CDATA[
+enigma.ConserveLevel = TRUE
+math_floor = floor
+
+set_oxyd = oxyd
+
+function oxyd( x, y, tiles )
+    return set_oxyd( x, y )
+end
+
+function nothing(x, y, tiles)
+    -- create nothing
+end
+
+function horizontal_bolder(x,y,tiles)
+    if random() &gt;= 0.5 then
+        return set_stone( &quot;st-bolder-w&quot;, x, y )
+    else
+        return set_stone( &quot;st-bolder-e&quot;, x, y )
+    end
+end
+
+function vertical_bolder(x,y,tiles)
+    if random() &gt;= 0.5 then
+        return set_stone( &quot;st-bolder-n&quot;, x, y )
+    else
+        return set_stone( &quot;st-bolder-s&quot;, x, y )
+    end
+end
+
+function checkerboard_floor( type1, type2, attribs1, attribs2 )
+    return function( x, y, tiles )
+        if mod(x,2) == mod(y,2) then
+            return set_floor( type1, x, y, attribs1 or {} )
+        else
+            return set_floor( type2, x, y, attribs2 or {} )
+        end
+    end
+end
+
+function floor( floor_type, attribs )
+    return function( x, y, tiles )
+        return set_floor( floor_type, x, y, attribs or {} )
+    end
+end
+
+function stone( stone_type, attribs )
+    return function( x, y, tiles )
+        return set_stone( stone_type, x, y, attribs or {} )
+    end
+end
+
+function item( item_type, attribs )
+    return function( x, y, tiles )
+        return set_item( item_type, x, y, attribs or {} )
+    end
+end
+
+function actor( actor_type, attribs )
+    return function( x, y, tiles )
+        if (actor_type == &quot;ac-whiteball-small&quot;) then
+            return set_actor( actor_type, x+0.5, y, attribs or {} )
+        else
+            return set_actor( actor_type, x+0.5, y+0.5, attribs or {} )
+        end
+    end
+end
+
+function gradient( gradient_type )
+    return function( x, y, tiles )
+        return set_floor( &quot;fl-gradient&quot;, x, y, {type=gradient_type} )
+    end
+end
+
+function inherit(tile_type)
+    return function( x, y, tiles )
+        return create_tile( tiles, x, y, tile_type )
+    end
+end
+
+function group( array, constructor )
+    return function( x, y, tiles )
+        object = constructor( x, y, tiles )
+        tinsert( array, object )
+        return object
+    end
+end
+
+function difficulty( d, constructor )
+    if options.Difficulty == d then
+        return constructor
+    else
+        return nothing
+    end
+end
+
+function create_world_from_map( tiles, map )
+    create_world( strlen(map[1]), getn(map) )
+
+    for y = 1,getn(map) do
+        local line = map[y]
+        for x = 1,strlen(line) do
+            local tile = strchar(strbyte(line,x))
+            create_tile( tiles, x-1, y-1, tile )
+        end
+    end
+end
+
+function create_tile( tiles, x, y, tile_type )
+    local constructors = tiles[tile_type]
+
+    if constructors then
+    for i = 1,getn(constructors) do
+        constructors[i](x,y,tiles)
+    end
+    else
+    error(&quot;invalid tile identifier &quot; .. tile_type )
+    end
+end
+
+tiles = {}
+tiles[&quot; &quot;] = {floor(&quot;fl-wood&quot;)}
+tiles[&quot;~&quot;] = {floor(&quot;fl-water&quot;)}
+tiles[&quot;T&quot;] = {inherit(&quot;~&quot;), stone(&quot;st-timer&quot;,{invisible=1, interval=0.1, action=&quot;callback&quot;, target=&quot;wave&quot;})}
+if (difficult) then
+  tiles[&quot;#&quot;] = {inherit(&quot;~&quot;), stone(&quot;st-grate3&quot;)}
+else
+  tiles[&quot;#&quot;] = {inherit(&quot; &quot;), stone(&quot;st-metal&quot;)}
+end
+tiles[&quot;M&quot;] = {inherit(&quot; &quot;), stone(&quot;st-metal&quot;)}
+tiles[&quot;dy&quot;] = {inherit(&quot; &quot;), item(&quot;it-dynamite&quot;)}
+tiles[&quot;d&quot;] = {inherit(&quot;dy&quot;), stone(&quot;st-block&quot;)}
+tiles[&quot;wo1&quot;] = {inherit(&quot; &quot;), item(&quot;it-wormhole&quot;, {targetx=7.5, targety=1.5, strength=5, range=1})}
+tiles[&quot;wo2&quot;] = {inherit(&quot; &quot;), item(&quot;it-wormhole&quot;, {targetx=13.5, targety=4.5, strength=5, range=1})}
+tiles[&quot;wo3&quot;] = {inherit(&quot; &quot;), item(&quot;it-wormhole&quot;, {targetx=5.5, targety=6.5, strength=5, range=1})}
+tiles[&quot;wo4&quot;] = {inherit(&quot; &quot;), item(&quot;it-wormhole&quot;, {targetx=10.5, targety=10.5, strength=5, range=1})}
+tiles[&quot;A&quot;] = {inherit(&quot;wo1&quot;), stone(&quot;st-block&quot;)}
+tiles[&quot;B&quot;] = {inherit(&quot;wo2&quot;), stone(&quot;st-block&quot;)}
+tiles[&quot;C&quot;] = {inherit(&quot;wo3&quot;), stone(&quot;st-block&quot;)}
+tiles[&quot;D&quot;] = {inherit(&quot;wo4&quot;), stone(&quot;st-block&quot;)}
+tiles[&quot;h&quot;] = {inherit(&quot; &quot;), item(&quot;it-hollow&quot;, {essential=1})}
+tiles[&quot;S&quot;] = {inherit(&quot; &quot;), item(&quot;it-spade&quot;)}
+tiles[&quot;P&quot;] = {inherit(&quot; &quot;), item(&quot;it-pin&quot;)}
+tiles[&quot;t&quot;] = {inherit(&quot; &quot;), item(&quot;it-document&quot;, {text=&quot;Health&quot;})}
+
+tiles[&quot;1&quot;] = {inherit(&quot; &quot;), actor(&quot;ac-blackball&quot;, {name=&quot;black&quot;, essential=1, player=0, controllers=1})}
+tiles[&quot;2&quot;] = {inherit(&quot; &quot;), actor(&quot;ac-whiteball-small&quot;, {essential=1, player=0, controllers=0})}
+tiles[&quot;3&quot;] = {inherit(&quot;M&quot;), actor(&quot;ac-whiteball&quot;, {essential=0, player=0, controllers=1, name=&quot;white&quot;})}
+
+postinit = 0
+time = 5
+dir = 1
+function wave()
+    -- ugly workaround to use spikes for the black marble without giving
+    -- a chance to use a pin for the small white marbles
+    -- the white marble is needed to avoid level restarts
+    if (postinit == 1 and not difficult) then
+        enigma.SetAttrib(enigma.GetNamedObject(&quot;black&quot;), &quot;player&quot;, 0)
+        postinit = 2
+    end
+    if (postinit == 0 and not difficult) then
+        enigma.SetAttrib(enigma.GetNamedObject(&quot;black&quot;), &quot;player&quot;, 1)
+        set_item(&quot;it-pin&quot;, enigma.GetPos(enigma.GetNamedObject(&quot;black&quot;)))
+        postinit = 1
+    end
+
+    -- the deep sea
+    if (difficult) then
+        enigma.AddConstantForce(dir * 40,0)
+    else
+        enigma.AddConstantForce(dir * 30,0)
+    end
+    time = time + 1;
+    if (time == 10) then
+        time = 0
+        dir = -dir
+    end
+end
+
+create_world_from_map( tiles, {
+&quot;T#                #~ &quot;,
+&quot;~#   t  S   1     #~&quot;,
+&quot;~#              Cd#~&quot;,
+&quot;~#dD         h    #~&quot;,
+&quot;~#                #~&quot;,
+&quot;~#                #~&quot;,
+&quot;~#        h       #~&quot;,
+&quot;~#                #~&quot;,
+&quot;~#dA              #~&quot;,
+&quot;~#   h          Bd#~&quot;,
+&quot;~#                #~&quot;,
+&quot;~#                #~&quot;,
+&quot;~#      2222      #~3&quot;
+})
+
+--set_actor(&quot;ac-whiteball-small&quot;, 5.5, 9.5, {essential=1, player=0, controllers=0})
+oxyd_shuffle()
+
+    ]]&gt;&lt;/el:luamain&gt;
+    &lt;el:i18n&gt;
+      &lt;el:string el:key=&quot;title&quot;&gt;
+        &lt;el:english el:translate=&quot;false&quot;/&gt;
+      &lt;/el:string&gt;
+      &lt;el:string el:key=&quot;subtitle&quot;&gt;
+        &lt;el:english el:translate=&quot;true&quot;/&gt;
+        &lt;el:translation el:lang=&quot;de&quot;&gt;Bestattung auf hoher See&lt;/el:translation&gt;
+      &lt;/el:string&gt;
+      &lt;el:string el:key=&quot;Health&quot;&gt;
+        &lt;el:english el:translate=&quot;true&quot; &gt;Warning: Do not play this level for more than 10 minutes - you may suffer sea sickness yourself!&lt;/el:english&gt;
+        &lt;el:translation el:lang=&quot;de&quot;&gt;Warnung: Spielen Sie diesen Level nicht f&#252;r mehr als 10 Minuten - Sie k&#246;nnen selber an Seekrankheit leiden!&lt;/el:translation&gt;
+      &lt;/el:string&gt;
+    &lt;/el:i18n&gt;
+  &lt;/el:protected&gt;
+&lt;/el:level&gt;


Property changes on: branches/1.0/data/levels/enigma_vii/ral20_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/1.0/src/gui/MainMenu.cc
===================================================================
--- branches/1.0/src/gui/MainMenu.cc	2007-05-03 21:23:14 UTC (rev 715)
+++ branches/1.0/src/gui/MainMenu.cc	2007-05-03 22:55:27 UTC (rev 716)
@@ -161,6 +161,7 @@
         &quot;  Capkoh  (Level design)&quot;,
         &quot;  Christoph &amp; Anita  (Level design)&quot;,
         &quot;  &#1044;&#1088;&#1077;&#1084;&#1091;&#1082; &#1057;&#1077;&#1088;&#1075;&#1077;&#1081; - Serge Dremuk  (Russian translation)&quot;,
+        &quot;  Joseph Dunne  (Level design)&quot;,
         &quot;  Xerxes M. Dynatos  (Level design)&quot;,
         &quot;  Edward  (Level design)&quot;,
         &quot;  Stephanie Fabian  (Invaluable bug reports)&quot;,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000152.html">[Enigma-game-svn] r715 - branches/1.0/src
</A></li>
	<LI>Next message: <A HREF="000154.html">[Enigma-game-svn] r717 - homepage/input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#153">[ date ]</a>
              <a href="thread.html#153">[ thread ]</a>
              <a href="subject.html#153">[ subject ]</a>
              <a href="author.html#153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
