<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r736 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vi src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r736%20-%20in%20branches/1.0%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_vi%20src&In-Reply-To=%3C200705141623.l4EGNjat017056%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000172.html">
   <LINK REL="Next"  HREF="000174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r736 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vi src</H1>
    <B>raoul at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r736%20-%20in%20branches/1.0%3A%20data/levels/enigma_cross%0A%09data/levels/enigma_vi%20src&In-Reply-To=%3C200705141623.l4EGNjat017056%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r736 - in branches/1.0: data/levels/enigma_cross	data/levels/enigma_vi src">raoul at mail.berlios.de
       </A><BR>
    <I>Mon May 14 18:23:45 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000172.html">[Enigma-game-svn] r735 - branches/1.0/src
</A></li>
        <LI>Next message: <A HREF="000174.html">[Enigma-game-svn] r737 - branches/1.0/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#173">[ date ]</a>
              <a href="thread.html#173">[ thread ]</a>
              <a href="subject.html#173">[ subject ]</a>
              <a href="author.html#173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: raoul
Date: 2007-05-14 18:23:44 +0200 (Mon, 14 May 2007)
New Revision: 736

Modified:
   branches/1.0/data/levels/enigma_cross/newlevels.xml
   branches/1.0/data/levels/enigma_vi/index.xml
   branches/1.0/data/levels/enigma_vi/raoul21_1.xml
   branches/1.0/src/items.hh
Log:
-&gt; Fix crash in level &quot;Cold Way&quot;


Modified: branches/1.0/data/levels/enigma_cross/newlevels.xml
===================================================================
--- branches/1.0/data/levels/enigma_cross/newlevels.xml	2007-05-10 21:37:34 UTC (rev 735)
+++ branches/1.0/data/levels/enigma_cross/newlevels.xml	2007-05-14 16:23:44 UTC (rev 736)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;index xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:noNamespaceSchemaLocation=&quot;index.xsd&quot;&gt;
 
-  &lt;info enigma=&quot;1.00&quot; group=&quot;Facets&quot; location=&quot;15400&quot; network=&quot;false&quot; owner=&quot;Enigma Team&quot; release=&quot;1&quot; revision=&quot;3&quot; title=&quot;Enigma 1.00 new&quot;/&gt;
+  &lt;info enigma=&quot;1.00&quot; group=&quot;Facets&quot; location=&quot;15400&quot; network=&quot;false&quot; owner=&quot;Enigma Team&quot; release=&quot;1&quot; revision=&quot;4&quot; title=&quot;Enigma 1.00 new&quot;/&gt;
 
   &lt;attributes/&gt;
 
@@ -161,7 +161,7 @@
     &lt;level _seq=&quot;153&quot; _title=&quot;Zeus&quot; _xpath=&quot;enigma_vi/raoul19_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;raoul19&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;154&quot; _title=&quot;Rhapsody on Cracks&quot; _xpath=&quot;enigma_vi/ral06_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20060510ral008&quot; rel=&quot;1&quot; rev=&quot;42&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;155&quot; _title=&quot;Prepare Your Defense&quot; _xpath=&quot;enigma_vi/duffy132_1&quot; author=&quot;Jacob Scott&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;duffy132&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;156&quot; _title=&quot;Cold Way&quot; _xpath=&quot;enigma_vi/raoul21_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul21&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;156&quot; _title=&quot;Cold Way&quot; _xpath=&quot;enigma_vi/raoul21_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul21&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;157&quot; _title=&quot;Laserpowered&quot; _xpath=&quot;enigma_vi/raoul20_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;raoul20&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;158&quot; _title=&quot;Oxydmoron&quot; _xpath=&quot;enigma_vi/raoul14_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;raoul14&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;159&quot; _title=&quot;Bomb raider&quot; _xpath=&quot;enigma_vi/alain27_1&quot; author=&quot;Alain Busser&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;alain27&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: branches/1.0/data/levels/enigma_vi/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_vi/index.xml	2007-05-10 21:37:34 UTC (rev 735)
+++ branches/1.0/data/levels/enigma_vi/index.xml	2007-05-14 16:23:44 UTC (rev 736)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;index xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xsi:noNamespaceSchemaLocation=&quot;index.xsd&quot;&gt;
 
-  &lt;info enigma=&quot;1.00&quot; group=&quot;Enigma&quot; location=&quot;10700&quot; network=&quot;false&quot; owner=&quot;Enigma Team&quot; release=&quot;1&quot; revision=&quot;5&quot; title=&quot;Enigma VI&quot;/&gt;
+  &lt;info enigma=&quot;1.00&quot; group=&quot;Enigma&quot; location=&quot;10700&quot; network=&quot;false&quot; owner=&quot;Enigma Team&quot; release=&quot;1&quot; revision=&quot;6&quot; title=&quot;Enigma VI&quot;/&gt;
 
   &lt;attributes/&gt;
 
@@ -16,7 +16,7 @@
     &lt;level _seq=&quot;8&quot; _title=&quot;Orbitting&quot; _xpath=&quot;./andreas26_1&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas26&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;9&quot; _title=&quot;Im-pull-se&quot; _xpath=&quot;./ralf07_1&quot; author=&quot;Ralf Westram&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;ralf07&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;10&quot; _title=&quot;Meditation Disturbance&quot; _xpath=&quot;./ral04_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20060429ral006&quot; rel=&quot;1&quot; rev=&quot;33&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;11&quot; _title=&quot;Cold Way&quot; _xpath=&quot;./raoul21_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul21&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;11&quot; _title=&quot;Cold Way&quot; _xpath=&quot;./raoul21_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;raoul21&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;12&quot; _title=&quot;Oxydmoron&quot; _xpath=&quot;./raoul14_1&quot; author=&quot;Raoul Bourquin&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;raoul14&quot; rel=&quot;1&quot; rev=&quot;0&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;13&quot; _title=&quot;Rhapsody on Cracks&quot; _xpath=&quot;./ral06_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20060510ral008&quot; rel=&quot;1&quot; rev=&quot;42&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;14&quot; _title=&quot;Red Herrings&quot; _xpath=&quot;./andy01_2&quot; author=&quot;Andy Geldmacher&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;20070116money001&quot; rel=&quot;3&quot; rev=&quot;1&quot; score=&quot;3&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: branches/1.0/data/levels/enigma_vi/raoul21_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vi/raoul21_1.xml	2007-05-10 21:37:34 UTC (rev 735)
+++ branches/1.0/data/levels/enigma_vi/raoul21_1.xml	2007-05-14 16:23:44 UTC (rev 736)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Cold Way&quot; el:subtitle=&quot;&quot; el:id=&quot;raoul21&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Raoul Bourquin&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">raoul at users.berlios.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Raoul Bourquin&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -19,29 +19,37 @@
     &lt;/el:info&gt;
     &lt;el:luamain&gt;&lt;![CDATA[
 enigma.ConserveLevel = TRUE
+
 function file_oxyd(x,y,f)
     oxyd_default_flavor=f
     oxyd(x,y)
 end
+
 levelh=13
 levelw=20
+
 cells={}
 items={}
 stones={}
+
 stones[&quot; &quot;]=cell{}
 cells[&quot; &quot;]=cell{}
 items[&quot; &quot;]=cell{}
+
 cells[&quot;!&quot;]=cell{floor=&quot;fl-black&quot;}
 cells[&quot;-&quot;]=cell{floor=&quot;fl-light&quot;}
 cells[&quot; &quot;]=cell{floor=&quot;fl-water&quot;}
+
 stones[&quot;!&quot;]=cell{stone=&quot;st-glass&quot;}
 stones[&quot;C&quot;]=cell{stone=&quot;st-coffee&quot;}
 stones[&quot;L&quot;]=cell{stone=&quot;st-likeoxydc&quot;}
 stones[&quot;#&quot;]=cell{parent={{file_oxyd,&quot;c&quot;}}}
 stones[&quot;$&quot;]=cell{parent={{parent_itemfreeze, &quot;&quot;}}}
+
 items[&quot;p&quot;]=cell{item=&quot;it-pin&quot;}
 items[&quot;e&quot;]=cell{item=&quot;it-extralife&quot;}
 items[&quot;f&quot;]=cell{item=&quot;it-flagblack&quot;}
+
 level={&quot;!!!      !!      !!!&quot;,
        &quot;!!!      !!      !!!&quot;,
        &quot;!!!              !!!&quot;,
@@ -85,46 +93,63 @@
 create_world_by_map(level)
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
+
 oxyd_shuffle()
+
 itemfreeze_init(0,0,0.01)
+
 set_actor(&quot;ac-blackball&quot;,1.5,1.5,{player=0})
+
 --Doors
 set_item(&quot;it-trigger&quot;,5,5,{action=&quot;callback&quot;, target=&quot;openway1&quot;, invisible=true})
 function openway1()
+    enigma.KillItem(5,5)
     enigma.KillStone(3,12)
     set_item(&quot;it-trigger&quot;,3,12,{action=&quot;callback&quot;, target=&quot;openway3&quot;, invisible=true})
 end
+
 set_item(&quot;it-trigger&quot;,5,7,{action=&quot;callback&quot;, target=&quot;openway2&quot;, invisible=true})
 function openway2()
+    enigma.KillItem(5,7)
     enigma.KillStone(9,11)
 end
+
 function openway3()
+    enigma.KillItem(3,12)
     enigma.KillStone(10,11)
 end
+
 set_item(&quot;it-trigger&quot;,14,7,{action=&quot;callback&quot;, target=&quot;openway4&quot;, invisible=true})
 function openway4()
+    enigma.KillItem(14,7)
     enigma.KillStone(16,0)
     set_item(&quot;it-trigger&quot;,16,0,{action=&quot;callback&quot;, target=&quot;openway5&quot;, invisible=true})
 end
+
 function openway5()
+    enigma.KillItem(16,0)
     enigma.KillStone(11,2)
     set_item(&quot;it-trigger&quot;,11,2,{action=&quot;callback&quot;, target=&quot;openway6&quot;, invisible=true})
 end
+
 function openway6()
+    enigma.KillItem(11,2)
     set_floor(&quot;fl-black&quot;,10,3)
 end
+
 --traps:
 set_item(&quot;it-trigger&quot;,5,6,{action=&quot;callback&quot;, target=&quot;trap1&quot;, invisible=true})
 function trap1()
     set_stone(&quot;st-glass&quot;,4,6)
-    --enigma.KillItem(5,6)
-    --set_item(&quot;it-spoon&quot;,5,6)
+    enigma.KillItem(5,6)
+    set_item(&quot;it-spoon&quot;,5,6)
 end
+
 set_item(&quot;it-trigger&quot;,14,6,{action=&quot;callback&quot;, target=&quot;trap2&quot;, invisible=true})
 function trap2()
     set_stone(&quot;st-glass&quot;,15,6)
-    --enigma.KillItem(14,6)
-    --set_item(&quot;it-spoon&quot;,14,6)
+    enigma.KillItem(14,6)
+    set_item(&quot;it-spoon&quot;,14,6)
 end
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;

Modified: branches/1.0/src/items.hh
===================================================================
--- branches/1.0/src/items.hh	2007-05-10 21:37:34 UTC (rev 735)
+++ branches/1.0/src/items.hh	2007-05-14 16:23:44 UTC (rev 736)
@@ -109,8 +109,6 @@
         it_seed_nowood,
         it_seed_volcano,
         it_sensor,
-        // HOT FIX
-        //it_sherd,
         it_shogun_s,
         it_shogun_m,
         it_shogun_l,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000172.html">[Enigma-game-svn] r735 - branches/1.0/src
</A></li>
	<LI>Next message: <A HREF="000174.html">[Enigma-game-svn] r737 - branches/1.0/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#173">[ date ]</a>
              <a href="thread.html#173">[ thread ]</a>
              <a href="subject.html#173">[ subject ]</a>
              <a href="author.html#173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
