<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1083 - in trunk/data/levels: enigma_i enigma_ii	enigma_iii enigma_iv enigma_v enigma_vi enigma_vii lib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1083%20-%20in%20trunk/data/levels%3A%20enigma_i%20enigma_ii%0A%09enigma_iii%20enigma_iv%20enigma_v%20enigma_vi%20enigma_vii%20lib&In-Reply-To=%3C200803240201.m2O21vSV021860%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000515.html">
   <LINK REL="Next"  HREF="000517.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1083 - in trunk/data/levels: enigma_i enigma_ii	enigma_iii enigma_iv enigma_v enigma_vi enigma_vii lib</H1>
    <B>andreasl at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1083%20-%20in%20trunk/data/levels%3A%20enigma_i%20enigma_ii%0A%09enigma_iii%20enigma_iv%20enigma_v%20enigma_vi%20enigma_vii%20lib&In-Reply-To=%3C200803240201.m2O21vSV021860%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1083 - in trunk/data/levels: enigma_i enigma_ii	enigma_iii enigma_iv enigma_v enigma_vi enigma_vii lib">andreasl at mail.berlios.de
       </A><BR>
    <I>Mon Mar 24 03:01:57 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000515.html">[Enigma-game-svn] r1082 - trunk/doc/reference
</A></li>
        <LI>Next message: <A HREF="000517.html">[Enigma-game-svn] r1084 - in feature_branches/hp_lotm: images/lotm	input input/lotm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#516">[ date ]</a>
              <a href="thread.html#516">[ thread ]</a>
              <a href="subject.html#516">[ subject ]</a>
              <a href="author.html#516">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: andreasl
Date: 2008-03-24 03:01:53 +0100 (Mon, 24 Mar 2008)
New Revision: 1083

Modified:
   trunk/data/levels/enigma_i/andreas24_1.xml
   trunk/data/levels/enigma_i/jc01_1.xml
   trunk/data/levels/enigma_i/xerxes01_1.xml
   trunk/data/levels/enigma_ii/alain22_1.xml
   trunk/data/levels/enigma_ii/andreas15_1.xml
   trunk/data/levels/enigma_iii/andreas04_1.xml
   trunk/data/levels/enigma_iii/ant33_1.xml
   trunk/data/levels/enigma_iii/duffy92_1.xml
   trunk/data/levels/enigma_iii/illmind11_1.xml
   trunk/data/levels/enigma_iv/andreas09_1.xml
   trunk/data/levels/enigma_iv/duffy130_1.xml
   trunk/data/levels/enigma_iv/mp03_1.xml
   trunk/data/levels/enigma_v/andreas06_1.xml
   trunk/data/levels/enigma_v/andreas19_1.xml
   trunk/data/levels/enigma_v/just05_2.xml
   trunk/data/levels/enigma_v/just08_1.xml
   trunk/data/levels/enigma_v/mp01_1.xml
   trunk/data/levels/enigma_v/mp02_1.xml
   trunk/data/levels/enigma_v/nat21_1.xml
   trunk/data/levels/enigma_v/raoul23_1.xml
   trunk/data/levels/enigma_vi/duffy136_1.xml
   trunk/data/levels/enigma_vi/duffy143_1.xml
   trunk/data/levels/enigma_vi/just10_2.xml
   trunk/data/levels/enigma_vi/luc29_1.xml
   trunk/data/levels/enigma_vi/luc32_1.xml
   trunk/data/levels/enigma_vi/luc33_1.xml
   trunk/data/levels/enigma_vi/raoul20_1.xml
   trunk/data/levels/enigma_vii/duffy148_1.xml
   trunk/data/levels/enigma_vii/duffy153_1.xml
   trunk/data/levels/enigma_vii/duffy167_1.xml
   trunk/data/levels/enigma_vii/just19_1.xml
   trunk/data/levels/enigma_vii/just23_1.xml
   trunk/data/levels/enigma_vii/just30_1.xml
   trunk/data/levels/enigma_vii/pulley07_1.xml
   trunk/data/levels/lib/ralf_sokoban.xml
Log:
Trunk:
 - Corrected attributes in lots of levels and ralf_sokoban.
 - Small rewrite of duffy130, as triggers may now delete themselves.
Todo:
 - Check for correct type of attributes (e.g. strings instead of
   integers, integers instead of boolean, FALSE/TRUE instead of
   false/true)
 - Remove loop-attribute everywhere (it was defunc before).
Note:
 - Further development of API2 will need another level-repair round.


Modified: trunk/data/levels/enigma_i/andreas24_1.xml
===================================================================
--- trunk/data/levels/enigma_i/andreas24_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/andreas24_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Floppy Floors&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas24&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -64,7 +64,7 @@
 -- Switch and draw functions
 
 function switch(onoff, sender)
-  local j = trigger[enigma.GetAttrib(sender, &quot;mynumber&quot;)]
+  local j = trigger[enigma.GetAttrib(sender, &quot;_mynumber&quot;)]
   way[j] = 1 - way[j]
   drawstate(j)
   oxyd_closeall()
@@ -113,7 +113,7 @@
 for j = 1, 5 do
   cells[tostring(j)]=cell{parent={{set_myfloor, j}}}
   stones[tostring(j)]=cell{stone=
-       {&quot;st-floppy&quot;, {action = &quot;callback&quot;, target = &quot;switch&quot;, mynumber = j}}}
+       {&quot;st-floppy&quot;, {action = &quot;callback&quot;, target = &quot;switch&quot;, _mynumber = j}}}
 end
 stones[&quot;#&quot;]=cell{parent={{file_oxyd, &quot;b&quot;}}}
 items[&quot;!&quot;]=cell{item=&quot;it-floppy&quot;}

Modified: trunk/data/levels/enigma_i/jc01_1.xml
===================================================================
--- trunk/data/levels/enigma_i/jc01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/jc01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Hurry!&quot; el:subtitle=&quot;&quot; el:id=&quot;jc01&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jens-Christian Korth&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; year Jens-Christian Korth&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;Donated to Enigma under the projects license&quot; el:open=&quot;true&quot;/&gt;
@@ -72,7 +72,7 @@
 set_item(&quot;it-trigger&quot;, 13, 6, {action=&quot;callback&quot;, target=&quot;sw2&quot;})
 
 set_stone(&quot;st-timer&quot;, 12,5, 
-          {loop=0, action=&quot;callback&quot;, target=&quot;nextsec&quot;, interval=1})
+          {action=&quot;callback&quot;, target=&quot;nextsec&quot;, interval=1})
 set_stone(&quot;st-fart&quot;, 17,10, {name=&quot;fart&quot;})
 
 oxyd(14,2)

Modified: trunk/data/levels/enigma_i/xerxes01_1.xml
===================================================================
--- trunk/data/levels/enigma_i/xerxes01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_i/xerxes01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Encased&quot; el:subtitle=&quot;&quot; el:id=&quot;xerxes01&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Xerxes M. Dynatos&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 Xerxes M. Dynatos&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -78,7 +78,7 @@
             set_floor(&quot;fl-sand&quot;, i-1, line)
 
         elseif c == &quot;T&quot; then
-            set_stone(&quot;st-timer&quot;, i-1, line, {invisible=1,loop=9999, action=&quot;callback&quot;, target=&quot;funcTimer&quot;, interval=1})
+            set_stone(&quot;st-timer&quot;, i-1, line, {invisible=1, action=&quot;callback&quot;, target=&quot;funcTimer&quot;, interval=1})
             --set_stone( &quot;st-blue-sand&quot;, i-1, line)
 
         elseif c == &quot;S&quot; then

Modified: trunk/data/levels/enigma_ii/alain22_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/alain22_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_ii/alain22_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Road to Eden&quot; el:subtitle=&quot;&quot; el:id=&quot;alain22&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Alain Busser&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Alain Busser&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -47,11 +47,11 @@
             set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;, target=&quot;pursuit&quot;})
         elseif c==&quot;x&quot; then
             set_floor(&quot;fl-sand&quot;,i-1,line)
-            set_item(&quot;it-wormhole&quot;,i-1,line, {invisibble=1,targetx=&quot; 12.5&quot;,targety=&quot;30.5&quot;,strength=0,range=0})
+            set_item(&quot;it-wormhole&quot;,i-1,line, {targetx=&quot; 12.5&quot;,targety=&quot;30.5&quot;,strength=0,range=0})
             set_stone(&quot;st-chameleon&quot;,i-1,line)
         elseif c==&quot;q&quot; then
             set_floor(&quot;fl-sand&quot;,i-1,line)
-            set_item(&quot;it-wormhole&quot;,i-1,line, {invisibble=1,targetx=&quot; 30.5&quot;,targety=&quot;11.5&quot;,strength=0,range=0})
+            set_item(&quot;it-wormhole&quot;,i-1,line, {targetx=&quot; 30.5&quot;,targety=&quot;11.5&quot;,strength=0,range=0})
             set_stone(&quot;st-chameleon&quot;,i-1,line)
         elseif c==&quot;y&quot; then
             set_floor(&quot;fl-sand&quot;,i-1,line)

Modified: trunk/data/levels/enigma_ii/andreas15_1.xml
===================================================================
--- trunk/data/levels/enigma_ii/andreas15_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_ii/andreas15_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Spaceleast&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas15&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -117,8 +117,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetItem(8,6),&quot;force&quot;,10)
-SetAttrib(enigma.GetItem(11,6),&quot;force&quot;,10)
 oxyd_shuffle()
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;

Modified: trunk/data/levels/enigma_iii/andreas04_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/andreas04_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/andreas04_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laser Castle&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas04&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -350,11 +350,7 @@
 -- Signal (&quot;it(8 47)&quot;,&quot;fl(8 14)&quot;)
 SetAttrib(enigma.GetItem(5,4),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(6,16),&quot;invisible&quot;,FALSE)
-SetAttrib(enigma.GetStone(10,12),&quot;init&quot;,FALSE)
 SetAttrib(enigma.GetItem(10,31),&quot;text&quot;,&quot;text1&quot;)
-SetAttrib(enigma.GetStone(11,11),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(11,13),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(12,12),&quot;init&quot;,FALSE)
 SetAttrib(enigma.GetItem(15,5),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(18,17),&quot;invisible&quot;,FALSE)
 Signal (&quot;st(13 8)&quot;,&quot;st(11 11)&quot;)

Modified: trunk/data/levels/enigma_iii/ant33_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/ant33_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/ant33_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Unfair!&quot; el:subtitle=&quot;&quot; el:id=&quot;ant33&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Petr Machata&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2003 Petr Machata&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -52,7 +52,7 @@
 t1, t2, t3 = 0,0,0
 
 function test_C(onoff, sender)
-    local nr_tr = enigma.GetAttrib(sender, &quot;door_nr&quot;)
+    local nr_tr = enigma.GetAttrib(sender, &quot;_door_nr&quot;)
 
     if nr_tr == 1 then
         t1=1-t1
@@ -69,9 +69,9 @@
     end
 end
 
-cells[&quot;I&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, door_nr=1}}}
-cells[&quot;J&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, door_nr=2}}}
-cells[&quot;K&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, door_nr=3}}}
+cells[&quot;I&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, _door_nr=1}}}
+cells[&quot;J&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, _door_nr=2}}}
+cells[&quot;K&quot;]=cell{item={&quot;it-trigger&quot;, {action=&quot;callback&quot;, target=&quot;test_C&quot;, _door_nr=3}}}
 -- /Workaround
 
 cells[&quot;c&quot;]=cell{{{doorh, {name=&quot;doorC&quot;}}}}

Modified: trunk/data/levels/enigma_iii/duffy92_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/duffy92_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/duffy92_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Map It Out&quot; el:subtitle=&quot;&quot; el:id=&quot;duffy92&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2004 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -68,15 +68,15 @@
         elseif c==&quot;B&quot; then
             set_wormhole(i-1, line, 10.5, 6.5)
         elseif c==&quot;a&quot; then
-            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,direc=0})
+            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,_direc=0})
         elseif c==&quot;u&quot; then
-            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,direc=1})
+            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,_direc=1})
         elseif c==&quot;r&quot; then
-            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,direc=2})
+            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,_direc=2})
         elseif c==&quot;d&quot; then
-            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,direc=3})
+            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,_direc=3})
         elseif c==&quot;l&quot; then
-            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,direc=4})
+            set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;set_direc&quot;,_direc=4})
         elseif c==&quot; &quot; then
             set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1})
         end
@@ -185,7 +185,7 @@
 end
 
 function set_direc(onoff, sender)
-    direc = enigma.GetAttrib(sender, &quot;direc&quot;)
+    direc = enigma.GetAttrib(sender, &quot;_direc&quot;)
 end
 
 function calculate_position()

Modified: trunk/data/levels/enigma_iii/illmind11_1.xml
===================================================================
--- trunk/data/levels/enigma_iii/illmind11_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iii/illmind11_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Waterworld&quot; el:subtitle=&quot;&quot; el:id=&quot;illmind11&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;illmind&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">support at mag-heut.net</A>&quot; el:homepage=&quot;<A HREF="http://www.mag-heut.net/">http://www.mag-heut.net/</A>&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2003 illmind&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL version 2&quot; el:open=&quot;true&quot;/&gt;
@@ -74,7 +74,7 @@
 cells[&quot;*&quot;]=cell{floor=&quot;fl-gradient1&quot;}
 items[&quot;(&quot;]=cell{item=&quot;it-hill&quot;}
 function workingmagnet(x,y)
-  set_item(&quot;it-magnet&quot;, x, y, {on=TRUE, force=50});
+  set_item(&quot;it-magnet&quot;, x, y, {on=TRUE});
 end
 if difficult then
   items[&quot;)&quot;]=cell{parent={{workingmagnet}}}

Modified: trunk/data/levels/enigma_iv/andreas09_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/andreas09_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/andreas09_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;The Flagstone Reaper&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas09&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -201,8 +201,6 @@
 set_item(&quot;it-document&quot;, 17, 1, {text=&quot;text1&quot;})
 set_stone(&quot;st-timer&quot;, 0, 0, {action=&quot;callback&quot;, target=&quot;timercallback&quot;, interval=TIMERINT} )
 set_stone(&quot;st-fourswitch&quot;,posx,posy, {action=&quot;callback&quot;, target=&quot;hitclock&quot;})
-SetAttrib(enigma.GetStone(17,0),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(18,0),&quot;init&quot;,FALSE)
 Signal (&quot;st(19 1)&quot;,&quot;st(18 0)&quot;)
 Signal (&quot;st(19 1)&quot;,&quot;st(17 0)&quot;)
 oxyd_shuffle()

Modified: trunk/data/levels/enigma_iv/duffy130_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/duffy130_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/duffy130_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Limited Supplies&quot; el:subtitle=&quot;&quot; el:id=&quot;duffy130&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -54,61 +54,41 @@
         elseif c==&quot;~&quot; then
             set_floor(&quot;fl-water&quot;,i-1,line)
             set_item(&quot;it-trigger&quot;,i-1,line,{invisible=1,action=&quot;callback&quot;,target=&quot;funcc1&quot;})
-        elseif c==&quot;M&quot; then
-            set_stone(&quot;st-timer&quot;,i-1,line,{name=&quot;t1&quot;,loop=1,interval=.001,action=&quot;callback&quot;,target=&quot;funcctimer&quot;})
         end
     end
 end
 
-renderLine(00,&quot;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;M&quot;)
-renderLine(01,&quot;&amp;~o~~~~~~~~~~~~ ~~~&amp; &quot;)
-renderLine(02,&quot;&amp;~ ~~~ ~o~ ~ ~~~~o~&amp; &quot;)
-renderLine(03,&quot;&amp;~~~ ~~~~~~~~~ ~ ~~&amp; &quot;)
-renderLine(04,&quot;&amp;~~~~~~~~ ~~~~~~~~ &amp; &quot;)
-renderLine(05,&quot;&amp;~ o~ ~ ~~~~~~ ~~~~&amp; &quot;)
-renderLine(06,&quot;&amp;~~~~~~~~z~~o~~~~~~&amp; &quot;)
-renderLine(07,&quot;&amp;~ ~~~ ~~~~~~ ~~~~~&amp; &quot;)
-renderLine(08,&quot;&amp;~~~~~~~ ~~ ~~~~ ~~&amp; &quot;)
-renderLine(09,&quot;&amp;~ ~~~~o~~~~~~~~~~~&amp; &quot;)
-renderLine(10,&quot;&amp;~~~ ~ ~~~~~~ ~~ ~~&amp; &quot;)
-renderLine(11,&quot;&amp;o ~~~~~~~ ~~~~~~o~&amp; &quot;)
-renderLine(12,&quot;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; &quot;)
+renderLine(00,&quot;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&quot;)
+renderLine(01,&quot;&amp;~o~~~~~~~~~~~~ ~~~&amp;&quot;)
+renderLine(02,&quot;&amp;~ ~~~ ~o~ ~ ~~~~o~&amp;&quot;)
+renderLine(03,&quot;&amp;~~~ ~~~~~~~~~ ~ ~~&amp;&quot;)
+renderLine(04,&quot;&amp;~~~~~~~~ ~~~~~~~~ &amp;&quot;)
+renderLine(05,&quot;&amp;~ o~ ~ ~~~~~~ ~~~~&amp;&quot;)
+renderLine(06,&quot;&amp;~~~~~~~~z~~o~~~~~~&amp;&quot;)
+renderLine(07,&quot;&amp;~ ~~~ ~~~~~~ ~~~~~&amp;&quot;)
+renderLine(08,&quot;&amp;~~~~~~~ ~~ ~~~~ ~~&amp;&quot;)
+renderLine(09,&quot;&amp;~ ~~~~o~~~~~~~~~~~&amp;&quot;)
+renderLine(10,&quot;&amp;~~~ ~ ~~~~~~ ~~ ~~&amp;&quot;)
+renderLine(11,&quot;&amp;o ~~~~~~~ ~~~~~~o~&amp;&quot;)
+renderLine(12,&quot;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&quot;)
 
 oxyd_shuffle()
 
 ac1=enigma.GetNamedObject(&quot;ac1&quot;)
-t1=enigma.GetNamedObject(&quot;t1&quot;)
 
-enigma.SendMessage(t1,&quot;off&quot;,nil)
-
 num=1
-posx=0
-posy=0
-ff1=0
 
 bridges=24
 
 function funcc1()
     if (num&lt;=bridges) then
-        if (ff1==0) then
-            x,y=enigma.GetPos(ac1)
-            set_floor(&quot;fl-hay&quot;,x,y)
-            num=num+1
-            posx=x
-            posy=y
-            enigma.SendMessage(t1,&quot;on&quot;,nil)
-            ff1=1
-        else
-            ff1=0
-        end
+        x,y=enigma.GetPos(ac1)
+        set_floor(&quot;fl-hay&quot;,x,y)
+        num=num+1
+        enigma.KillItem(x,y)
     end
 end
 
-function funcctimer()
-    enigma.KillItem(posx,posy)
-    enigma.SendMessage(t1,&quot;off&quot;,nil)
-    ff1=0
-end
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;

Modified: trunk/data/levels/enigma_iv/mp03_1.xml
===================================================================
--- trunk/data/levels/enigma_iv/mp03_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_iv/mp03_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laser Games&quot; el:subtitle=&quot;&quot; el:id=&quot;mp03&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;moonpearl&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; moonpearl&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -148,7 +148,6 @@
 SetAttrib(enigma.GetStone(13,10),&quot;name&quot;,&quot;mirror11&quot;)
 SetAttrib(enigma.GetStone(15,10),&quot;name&quot;,&quot;mirror12&quot;)
 SetAttrib(enigma.GetStone(17,10),&quot;name&quot;,&quot;mirror13&quot;)
-SetAttrib(enigma.GetStone(17,12),&quot;init&quot;,FALSE)
 Signal (&quot;st(4 5)&quot;,&quot;st(13 4)&quot;)
 Signal (&quot;st(4 5)&quot;,&quot;st(13 4)&quot;)
 Signal (&quot;st(4 5)&quot;,&quot;st(13 4)&quot;)

Modified: trunk/data/levels/enigma_v/andreas06_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas06_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/andreas06_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laser Path&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas06&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -132,11 +132,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetStone(0,4),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(2,1),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(18,0),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(19,1),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(19,7),&quot;init&quot;,FALSE)
 Signal (&quot;st(3 3)&quot;,&quot;st(2 1)&quot;)
 Signal (&quot;st(19 1)&quot;,&quot;st(18 3)&quot;)
 Signal (&quot;st(3 11)&quot;,&quot;st(3 10)&quot;)

Modified: trunk/data/levels/enigma_v/andreas19_1.xml
===================================================================
--- trunk/data/levels/enigma_v/andreas19_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/andreas19_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Frozen Magnets&quot; el:subtitle=&quot;&quot; el:id=&quot;andreas19&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Andreas Lochmann&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Andreas Lochmann&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -128,8 +128,6 @@
 draw_map(0,0,stmap,stones)
 draw_map(0,0,itmap,items)
 draw_map(0,0,acmap,actors)
-SetAttrib(enigma.GetItem(2,6),&quot;force&quot;,10)
-SetAttrib(enigma.GetItem(17,6),&quot;force&quot;,10)
 oxyd_shuffle()
 itemfreeze_init(0,0,0.01)
 -- some performance-thingies

Modified: trunk/data/levels/enigma_v/just05_2.xml
===================================================================
--- trunk/data/levels/enigma_v/just05_2.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/just05_2.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Walking around&quot; el:subtitle=&quot;&quot; el:id=&quot;just05&quot;/&gt;
-      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;JuSt&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; JuSt&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -125,7 +125,6 @@
 set_actor(&quot;ac-blackball&quot;,10.5,6.5,{player=0})
 
 SetAttrib(enigma.GetItem(1,4),&quot;invisible&quot;,FALSE)
-SetAttrib(enigma.GetStone(6,5),&quot;init&quot;,FALSE)
 
 Signal (&quot;it(1 4)&quot;,&quot;st(6 5)&quot;)
 Signal (&quot;it(3 8)&quot;,&quot;st(2 11)&quot;)

Modified: trunk/data/levels/enigma_v/just08_1.xml
===================================================================
--- trunk/data/levels/enigma_v/just08_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/just08_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;No way out?&quot; el:subtitle=&quot;&quot; el:id=&quot;just08&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;JuSt&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 JuSt&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -318,12 +318,12 @@
 draw_stones(&quot;st-stone2&quot;, {77, 36}, {1, 0}, 18)
 draw_stones(&quot;st-stone2&quot;, {96, 36}, {1, 0}, 18)
 draw_stones(&quot;st-stone2&quot;, {115, 36}, {1, 0}, 8)
-set_stone(&quot;st-timer&quot;, 66, 18, {action=&quot;callback&quot;, target=&quot;licht&quot;, interval=&quot;1&quot;, name=&quot;timer3&quot;, loop=&quot;1&quot;})
-set_stone(&quot;st-timer&quot;, 104, 18, {action=&quot;callback&quot;, target=&quot;switches&quot;, interval=&quot;0.1&quot;, name=&quot;timer2&quot;, loop=&quot;1&quot;})
-set_stone(&quot;st-timer&quot;, 123, 18, {action=&quot;close&quot;, target=&quot;door36&quot;, interval=&quot;10&quot;, name=&quot;timer1&quot;, loop=&quot;0&quot;})
-set_stone(&quot;st-laserswitch&quot;, 40, 23, {action=&quot;callback&quot;, target=&quot;killdoc&quot;, on=&quot;1&quot;, name=&quot;switch21&quot;})
+set_stone(&quot;st-timer&quot;, 66, 18, {action=&quot;callback&quot;, target=&quot;licht&quot;, interval=&quot;1&quot;, name=&quot;timer3&quot;})
+set_stone(&quot;st-timer&quot;, 104, 18, {action=&quot;callback&quot;, target=&quot;switches&quot;, interval=&quot;0.1&quot;, name=&quot;timer2&quot;})
+set_stone(&quot;st-timer&quot;, 123, 18, {action=&quot;close&quot;, target=&quot;door36&quot;, interval=&quot;10&quot;, name=&quot;timer1&quot;})
+set_stone(&quot;st-laserswitch&quot;, 40, 23, {action=&quot;callback&quot;, target=&quot;killdoc&quot;, name=&quot;switch21&quot;})
 set_stone(&quot;st-3mirror&quot;, 41, 23, {movable=FALSE, transparent=FALSE, orientation=&quot;1&quot;})
-set_stone(&quot;st-laserswitch&quot;, 51, 24, {action=&quot;callback&quot;, target=&quot;lsi1&quot;, on=&quot;1&quot;, name=&quot;switch16&quot;})
+set_stone(&quot;st-laserswitch&quot;, 51, 24, {action=&quot;callback&quot;, target=&quot;lsi1&quot;, name=&quot;switch16&quot;})
 set_stone(&quot;st-switch&quot;, 64, 24, {action=&quot;openclose&quot;, target=&quot;door33&quot;, on=&quot;0&quot;, name=&quot;switch21&quot;})
 set_stones(&quot;st-stone2&quot;, {{22, 25}, {34, 27}, {34, 29}, {34, 32}, {129, 36}})
 set_stones(&quot;st-turnstile-n&quot;, {{26, 25}, {28, 25}, {23, 26}, {24, 28}, {25, 30}, {30, 31}}, {type=north})
@@ -373,9 +373,9 @@
 set_stone(&quot;st-stoneimpulse&quot;, 34, 34, {name=&quot;stoneimpulse3&quot;})
 set_stone(&quot;st-stoneimpulse&quot;, 35, 34, {name=&quot;stoneimpulse4&quot;})
 set_stone(&quot;st-laser&quot;, 41, 35, {name=&quot;laser1&quot;, dir=EAST, on=&quot;1&quot;})
-set_stone(&quot;st-laserswitch&quot;, 42, 36, {action=&quot;callback&quot;, target=&quot;lsi2&quot;, on=&quot;1&quot;, name=&quot;switch2&quot;})
+set_stone(&quot;st-laserswitch&quot;, 42, 36, {action=&quot;callback&quot;, target=&quot;lsi2&quot;, name=&quot;switch2&quot;})
 set_stone(&quot;st-laser&quot;, 45, 36, {name=&quot;laser2&quot;, dir=NORTH, on=&quot;1&quot;})
-set_stone(&quot;st-laserswitch&quot;, 53, 36, {action=&quot;callback&quot;, target=&quot;lsi3&quot;, on=&quot;1&quot;, name=&quot;switch4&quot;})
+set_stone(&quot;st-laserswitch&quot;, 53, 36, {action=&quot;callback&quot;, target=&quot;lsi3&quot;, name=&quot;switch4&quot;})
 
 -- Actor Layer
 set_actor(&quot;ac-horse&quot;, 106.5, 29.5)

Modified: trunk/data/levels/enigma_v/mp01_1.xml
===================================================================
--- trunk/data/levels/enigma_v/mp01_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/mp01_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Gods of Enigma&quot; el:subtitle=&quot;&quot; el:id=&quot;mp01&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;moonpearl&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 moonpearl&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -203,7 +203,7 @@
 set_actor(&quot;ac-blackball&quot;, 9.5,6.5, {player=0})
 set_actor(&quot;ac-rotor&quot;,48.5,6.5,{range=7,force=20,gohome=true})
 --MAGNET
-SetAttrib(enigma.GetItem(9,27),&quot;force&quot;,10)
+--SetAttrib(enigma.GetItem(9,27),&quot;force&quot;,10)
 --TEXTE
 SetAttrib(enigma.GetItem(10,6),&quot;text&quot;,&quot;text1&quot;)
 SetAttrib(enigma.GetItem(41,6),&quot;text&quot;,&quot;text2&quot;)

Modified: trunk/data/levels/enigma_v/mp02_1.xml
===================================================================
--- trunk/data/levels/enigma_v/mp02_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/mp02_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Gods of Enigma II&quot; el:subtitle=&quot;&quot; el:id=&quot;mp02&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;moonpearl&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2005 moonpearl&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -288,7 +288,6 @@
 SetAttrib(enigma.GetItem(41,26),&quot;text&quot;,&quot;text5&quot;)
 SetAttrib(enigma.GetItem(41,51),&quot;text&quot;,&quot;text6&quot;)
 --LASER
-SetAttrib(enigma.GetStone(39,53),&quot;init&quot;,FALSE)
 SetAttrib(enigma.GetItem(41,55),&quot;invisible&quot;,FALSE)
 Signal (&quot;it(41 55)&quot;,&quot;st(39 53)&quot;)
 --TUNNELS

Modified: trunk/data/levels/enigma_v/nat21_1.xml
===================================================================
--- trunk/data/levels/enigma_v/nat21_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/nat21_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Hail Storm&quot; el:subtitle=&quot;&quot; el:id=&quot;nat21&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Nat Pryce&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2003 Nat Pryce&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL version 2&quot; el:open=&quot;true&quot;/&gt;
@@ -62,7 +62,7 @@
     set_item( &quot;it-wormhole&quot;, x, level_height-1,
               {name=wormhole(x),
                targetx=x+0.5, targety=0.5, 
-               range=0.5,force=1} )
+               range=0.5} )
 end
 
 for y=level_height-8,level_height-4,2 do

Modified: trunk/data/levels/enigma_v/raoul23_1.xml
===================================================================
--- trunk/data/levels/enigma_v/raoul23_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_v/raoul23_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Spacestation&quot; el:subtitle=&quot;&quot; el:id=&quot;raoul23&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Raoul Bourquin&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">raoul at users.berlios.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Raoul Bourquin&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -303,9 +303,9 @@
     enigma.KillStone(x+2,y+2)
 end
 function rotate(onoff, sender)
-    local j = enigma.GetAttrib(sender, &quot;myattriby&quot;)
-    local i = enigma.GetAttrib(sender, &quot;myattribx&quot;)
-    local r = enigma.GetAttrib(sender, &quot;room&quot;)
+    local j = enigma.GetAttrib(sender, &quot;_myattriby&quot;)
+    local i = enigma.GetAttrib(sender, &quot;_myattribx&quot;)
+    local r = enigma.GetAttrib(sender, &quot;_room&quot;)
     if rotation[r][i][j]==1 then
         position[r][i][j]=position[r][i][j]+1
     else
@@ -382,7 +382,7 @@
     local k=1
     local l=1
     for i = 1, 9 do  
-        set_stone(&quot;st-switch_white&quot;, 55, 2+i-1,{action = &quot;callback&quot;, target = &quot;rotate&quot;, myattribx = k, myattriby = l, room = 2 })
+        set_stone(&quot;st-switch_white&quot;, 55, 2+i-1,{action = &quot;callback&quot;, target = &quot;rotate&quot;, _myattribx = k, _myattriby = l, _room = 2 })
         k=k+1
         if k&gt;3 then
             k=1
@@ -394,7 +394,7 @@
     local k=1
     local l=1
     for i = 1, 9 do  
-        set_stone(&quot;st-switch_black&quot;, 40, 26+i-1,{action = &quot;callback&quot;, target = &quot;rotate&quot;, myattribx = k, myattriby = l, room = 1 })
+        set_stone(&quot;st-switch_black&quot;, 40, 26+i-1,{action = &quot;callback&quot;, target = &quot;rotate&quot;, _myattribx = k, _myattriby = l, _room = 1 })
         k=k+1
         if k&gt;3 then
             k=1

Modified: trunk/data/levels/enigma_vi/duffy136_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/duffy136_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/duffy136_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Group Trip to Meditation&quot; el:subtitle=&quot;&quot; el:id=&quot;duffy136&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -84,8 +84,8 @@
 
 oxyd_shuffle()
 
-set_stone(&quot;st-timer&quot;, 77,0, {loop=0, action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=1})
-set_stone(&quot;st-timer&quot;, 78,0, {loop=0, action=&quot;trigger&quot;, target=&quot;s1&quot;, interval=2})
+set_stone(&quot;st-timer&quot;, 77,0, {action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=1})
+set_stone(&quot;st-timer&quot;, 78,0, {action=&quot;trigger&quot;, target=&quot;s1&quot;, interval=2})
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;

Modified: trunk/data/levels/enigma_vi/duffy143_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/duffy143_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/duffy143_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Parish Fair&quot; el:subtitle=&quot;Perish Unfair&quot; el:id=&quot;duffy143&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -262,7 +262,6 @@
 draw_map(0,0,acmap,actors)
 
 SetAttrib(enigma.GetItem(16,8),&quot;invisible&quot;,FALSE)
-SetAttrib(enigma.GetStone(19,7),&quot;init&quot;,FALSE)
 SetAttrib(enigma.GetItem(26,17),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(26,19),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(27,16),&quot;invisible&quot;,FALSE)
@@ -275,8 +274,6 @@
 SetAttrib(enigma.GetItem(29,20),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(30,17),&quot;invisible&quot;,FALSE)
 SetAttrib(enigma.GetItem(30,19),&quot;invisible&quot;,FALSE)
-SetAttrib(enigma.GetStone(38,3),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(49,11),&quot;init&quot;,FALSE)
 
 Signal (&quot;it(26 17)&quot;,&quot;st(21 13)&quot;)
 Signal (&quot;it(26 17)&quot;,&quot;st(21 23)&quot;)

Modified: trunk/data/levels/enigma_vi/just10_2.xml
===================================================================
--- trunk/data/levels/enigma_vi/just10_2.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/just10_2.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Check the light&quot; el:subtitle=&quot;how to play chess with lasers&quot; el:id=&quot;just10&quot;/&gt;
-      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;5&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;2&quot; el:release=&quot;2&quot; el:revision=&quot;6&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;JuSt&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 JuSt&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -93,7 +93,7 @@
 set_stone(&quot;st-pmirror&quot;, 11, 6, {movable=TRUE, transparent=FALSE, orientation=&quot;3&quot;})
 set_stone(&quot;st-switch&quot;, 14, 10, {action=&quot;callback&quot;, target=&quot;change_floors&quot;, on=&quot;1&quot;})
 set_stones(&quot;st-stone_break&quot;, {{17, 1}, {13, 10}, {10, 6}, {9, 7}})
-set_stone(&quot;st-timer&quot;, 20, 0, {action=&quot;callback&quot;, target=&quot;check_it&quot;, interval=&quot;0.01&quot;, loop=&quot;1&quot;})
+set_stone(&quot;st-timer&quot;, 20, 0, {action=&quot;callback&quot;, target=&quot;check_it&quot;, interval=&quot;0.01&quot;})
 
 -- Actor Layer
 set_actor(&quot;ac-blackball&quot;, 11.5, 1.5, {player=&quot;0&quot;, mouseforce=&quot;1&quot;})

Modified: trunk/data/levels/enigma_vi/luc29_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc29_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc29_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laser Splitting&quot; el:subtitle=&quot;&quot; el:id=&quot;luc29&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Lukas Sch&#252;ller&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">Lucky_Luc at web.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Lukas Sch&#252;ller&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -59,8 +59,6 @@
 writeLine(10,&quot;#x            /  #b#&quot;)
 writeLine(11,&quot;#/xxxxxxxx x#    #b#&quot;)
 writeLine(12,&quot;##################o#&quot;)
-SetAttrib(enigma.GetStone(3,9),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(9,3),&quot;init&quot;,FALSE)
 Signal (&quot;st(13 0)&quot;,&quot;st(3 9)&quot;)
 Signal (&quot;st(13 0)&quot;,&quot;st(9 3)&quot;)
 Signal (&quot;st(8 3)&quot;,&quot;st(17 1)&quot;)

Modified: trunk/data/levels/enigma_vi/luc32_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc32_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc32_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Blitz Chess&quot; el:subtitle=&quot;Move fast!&quot; el:id=&quot;luc322006&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Lukas Sch&#252;ller&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">Lucky_Luc at web.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Lukas Sch&#252;ller&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -69,9 +69,6 @@
 writeLine(11,&quot;.   .  o..........0.&quot;)
 writeLine(12,&quot;....................&quot;)
 
-SetAttrib(enigma.GetStone(1,5),&quot;init&quot;,FALSE)
-SetAttrib(enigma.GetStone(6,9),&quot;init&quot;,FALSE)
-
 Signal (&quot;st(7 11)&quot;,&quot;st(1 5)&quot;)
 Signal (&quot;it(3 3)&quot;,&quot;st(6 9)&quot;)
 Signal (&quot;it(6 1)&quot;,&quot;fl(8 2)&quot;)

Modified: trunk/data/levels/enigma_vi/luc33_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/luc33_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/luc33_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;River of Challenges&quot; el:subtitle=&quot;At the Riverside&quot; el:id=&quot;luc332006&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Lukas Sch&#252;ller&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">Lucky_Luc at web.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Lukas Sch&#252;ller&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -138,7 +138,7 @@
     elseif(c==&quot;6&quot;) then
       set_stone(&quot;st-puzzle-w&quot;,i-1,line)
     elseif(c==&quot;e&quot;) then
-      set_stone(&quot;st-laser-e&quot;,i-1,line,{init=&quot;false&quot;,name=&quot;thelaser&quot;})
+      set_stone(&quot;st-laser-e&quot;,i-1,line,{name=&quot;thelaser&quot;})
     elseif(c==&quot;x&quot;) then
       set_stone(&quot;st-stone_break&quot;,i-1,line)
     elseif(c==&quot;$&quot;) then

Modified: trunk/data/levels/enigma_vi/raoul20_1.xml
===================================================================
--- trunk/data/levels/enigma_vi/raoul20_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vi/raoul20_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laserpowered&quot; el:subtitle=&quot;&quot; el:id=&quot;raoul20&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Raoul Bourquin&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">raoul at users.berlios.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2006 Raoul Bourquin&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -173,16 +173,15 @@
         --to only get the a ring with triggers and not a area:
         if ((i==1) or (i==5)) or ((j==1) or (j==5)) then
         set_item(&quot;it-trigger&quot;, 2+i-1, 4+j-1,
-           {action = &quot;callback&quot;, target = &quot;laserron&quot;, invisible=TRUE, myx =
-       2+i-1, myy = 4+j-1})
+           {action = &quot;callback&quot;, target = &quot;laserron&quot;, invisible=TRUE, _myx = 2+i-1, _myy = 4+j-1})
        end
     end
 end
 
 function laserron(onoff,sender)
   local x,y = enigma.GetPos(sender)
-  --local x = enigma.GetAttrib(sender, &quot;myx&quot;)
-  --local y = enigma.GetAttrib(sender, &quot;myy&quot;)
+  --local x = enigma.GetAttrib(sender, &quot;_myx&quot;)
+  --local y = enigma.GetAttrib(sender, &quot;_myy&quot;)
   local lx, ly
   if (x == 2) or (x == 6) then
    if x==2 and y==6 then

Modified: trunk/data/levels/enigma_vii/duffy148_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy148_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy148_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Speed Meditation&quot; el:subtitle=&quot;Beware of Bumps and Radar Impulses&quot; el:id=&quot;duffy148&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -64,7 +64,7 @@
 
 oxyd_shuffle()
 
-set_stone(&quot;st-timer&quot;, 20,0, {loop=0, action=&quot;trigger&quot;, target=&quot;s1&quot;, interval=3})
+set_stone(&quot;st-timer&quot;, 20,0, {action=&quot;trigger&quot;, target=&quot;s1&quot;, interval=3})
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;

Modified: trunk/data/levels/enigma_vii/duffy153_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy153_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy153_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Laser Squad&quot; el:subtitle=&quot;Fight the Light&quot; el:id=&quot;duffy153&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -88,7 +88,7 @@
 
 oxyd_shuffle()
 
-set_stone(&quot;st-timer&quot;, 20,2, {loop=0, action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=1.25})
+set_stone(&quot;st-timer&quot;, 20,2, {action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=1.25})
     ]]&gt;&lt;/el:luamain&gt;
     &lt;el:i18n&gt;
       &lt;el:string el:key=&quot;title&quot;&gt;

Modified: trunk/data/levels/enigma_vii/duffy167_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/duffy167_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/duffy167_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Slopes, Jumps &amp; Falls&quot; el:subtitle=&quot;&quot; el:id=&quot;duffy167&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Jacob Scott&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Jacob Scott&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -234,7 +234,7 @@
 
 oxyd_shuffle()
 
-set_stone(&quot;st-timer&quot;, 0,37, {loop=0, action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=.9})
+set_stone(&quot;st-timer&quot;, 0,37, {action=&quot;onoff&quot;, target=&quot;laser&quot;, interval=.9})
 
 SetDefaultAttribs(&quot;it-wormhole&quot;,{range=2.0})
 

Modified: trunk/data/levels/enigma_vii/just19_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just19_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just19_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Triggered Triggers&quot; el:subtitle=&quot;&quot; el:id=&quot;just19&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;JuSt&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 JuSt&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -127,7 +127,7 @@
 draw_stones(&quot;st-brick&quot;, {9, 12}, {1, 0}, 2)
 draw_stones(&quot;st-brick&quot;, {12, 12}, {1, 0}, 7)
 set_stone(&quot;st-laser&quot;, 1, 0, {dir=SOUTH, on=&quot;1&quot;})
-set_stone(&quot;st-timer&quot;, 20, 0, {action=&quot;callback&quot;, target=&quot;where_is_it&quot;, interval=&quot;0.1&quot;, name=&quot;timer1&quot;, loop=&quot;1&quot;})
+set_stone(&quot;st-timer&quot;, 20, 0, {action=&quot;callback&quot;, target=&quot;where_is_it&quot;, interval=&quot;0.1&quot;, name=&quot;timer1&quot;})
 set_stone(&quot;st-laser&quot;, 19, 1, {dir=WEST, on=&quot;1&quot;})
 set_stone(&quot;st-laser&quot;, 0, 2, {name=&quot;laser17&quot;, dir=EAST, on=&quot;1&quot;})
 set_stone(&quot;st-laser&quot;, 0, 3, {name=&quot;laser18&quot;, dir=EAST, on=&quot;0&quot;})

Modified: trunk/data/levels/enigma_vii/just23_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just23_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just23_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
      &lt;el:identity el:title=&quot;Lost in Time and Space&quot; el:subtitle=&quot;&quot; el:id=&quot;just23&quot;/&gt;
-     &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;1&quot; el:status=&quot;released&quot;/&gt;
+     &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
      &lt;el:author  el:name=&quot;JuSt&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
      &lt;el:copyright&gt;Copyright &#169; 2007 JuSt&lt;/el:copyright&gt;
      &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -1731,7 +1731,7 @@
 set_stone(&quot;st-key_c&quot;, 34, 74, {action=&quot;openclose&quot;, target=&quot;door5&quot;})
 set_stone(&quot;st-door_b&quot;, 35, 74, {name=&quot;door5&quot;})
 set_stone(&quot;st-laser&quot;, 18, 77, {name=&quot;laser50&quot;, dir=WEST, on=&quot;0&quot;})
-set_stone(&quot;st-timer&quot;, 143, 78, {action=&quot;callback&quot;, target=&quot;start_timing&quot;, interval=&quot;2&quot;, name=&quot;timer1&quot;, loop=&quot;1&quot;})
+set_stone(&quot;st-timer&quot;, 143, 78, {action=&quot;callback&quot;, target=&quot;start_timing&quot;, interval=&quot;2&quot;, name=&quot;timer1&quot;})
 set_stone(&quot;st-laser&quot;, 18, 80, {name=&quot;laser51&quot;, dir=WEST, on=&quot;0&quot;})
 set_stones(&quot;st-oxyd&quot;, {{149, 89}, {149, 91}})
 set_stone(&quot;st-actorimpulse_invisible&quot;, 32, 19)

Modified: trunk/data/levels/enigma_vii/just30_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/just30_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/just30_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Lady in Red&quot; el:subtitle=&quot;&quot; el:id=&quot;just30&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Just&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 JuSt&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL version 2&quot; el:open=&quot;true&quot;/&gt;
@@ -83,24 +83,24 @@
 set_stone(&quot;st-oxyd&quot;, 19, 1, {flavor=&quot;b&quot;, color=&quot;1&quot;})
 set_stone(&quot;st-rotator-right&quot;, 19, 11)
 if difficult then
-    set_stone(&quot;st-timer&quot;, 20, 0, {name=&quot;ST14-00&quot;, target=&quot;ST08-01&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, loop=&quot;0&quot;, invisible=&quot;0&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 1, {name=&quot;ST15-00&quot;, target=&quot;ST10-06&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, loop=&quot;0&quot;, invisible=&quot;0&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 2, {name=&quot;ST16-00&quot;, target=&quot;ST13-04&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, loop=&quot;0&quot;, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 0, {name=&quot;ST14-00&quot;, target=&quot;ST08-01&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 1, {name=&quot;ST15-00&quot;, target=&quot;ST10-06&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 2, {name=&quot;ST16-00&quot;, target=&quot;ST13-04&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, invisible=&quot;0&quot;})
     set_stone(&quot;st-switch_black&quot;, 16, 1, {target=&quot;ST18-02&quot;, action=&quot;openclose&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 3, {name=&quot;ST17-00&quot;, target=&quot;ST15-03&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, loop=&quot;0&quot;, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 3, {name=&quot;ST17-00&quot;, target=&quot;ST15-03&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=1, invisible=&quot;0&quot;})
 else
-    set_stone(&quot;st-timer&quot;, 20, 0, {name=&quot;ST14-00&quot;, target=&quot;ST08-01&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, loop=&quot;0&quot;, invisible=&quot;0&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 1, {name=&quot;ST15-00&quot;, target=&quot;ST10-06&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, loop=&quot;0&quot;, invisible=&quot;0&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 2, {name=&quot;ST16-00&quot;, target=&quot;ST13-04&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, loop=&quot;0&quot;, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 0, {name=&quot;ST14-00&quot;, target=&quot;ST08-01&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 1, {name=&quot;ST15-00&quot;, target=&quot;ST10-06&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 2, {name=&quot;ST16-00&quot;, target=&quot;ST13-04&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, invisible=&quot;0&quot;})
     set_stone(&quot;st-switch&quot;, 16, 1, {target=&quot;ST18-02&quot;, action=&quot;openclose&quot;})
-    set_stone(&quot;st-timer&quot;, 20, 3, {name=&quot;ST17-00&quot;, target=&quot;ST15-03&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, loop=&quot;0&quot;, invisible=&quot;0&quot;})
+    set_stone(&quot;st-timer&quot;, 20, 3, {name=&quot;ST17-00&quot;, target=&quot;ST15-03&quot;, action=&quot;close&quot;, on=&quot;0&quot;, interval=2, invisible=&quot;0&quot;})
 end
 
 set_item(&quot;it-vortex-closed&quot;, 1, 5, {name=&quot;vortex&quot;, targetx=&quot;1.5&quot;, targety=&quot;1.5&quot;})
 set_item(&quot;it-yinyang&quot;, 1, 11)
-set_item(&quot;it-trigger&quot;, 2, 4, {target=&quot;ST03-01&quot;, action=&quot;open&quot;, on=&quot;0&quot;, invisible=&quot;0&quot;})
+set_item(&quot;it-trigger&quot;, 2, 4, {target=&quot;ST03-01&quot;, action=&quot;open&quot;, invisible=&quot;0&quot;})
 set_item(&quot;it-yinyang&quot;, 2, 11)
-set_item(&quot;it-trigger&quot;, 6, 9, {target=&quot;ST05-11&quot;, action=&quot;open&quot;, on=&quot;0&quot;, invisible=&quot;0&quot;})
+set_item(&quot;it-trigger&quot;, 6, 9, {target=&quot;ST05-11&quot;, action=&quot;open&quot;, invisible=&quot;0&quot;})
 set_item(&quot;it-wrench&quot;, 9, 11)
 set_item(&quot;it-trigger&quot;, 11, 10, {target=&quot;func1&quot;, action=&quot;callback&quot;, invisible=&quot;0&quot;})
 set_item(&quot;it-trigger&quot;, 11, 11, {target=&quot;func2&quot;, action=&quot;callback&quot;, invisible=&quot;0&quot;})

Modified: trunk/data/levels/enigma_vii/pulley07_1.xml
===================================================================
--- trunk/data/levels/enigma_vii/pulley07_1.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/enigma_vii/pulley07_1.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;level&quot;&gt;
       &lt;el:identity el:title=&quot;Little Shop Of Horrors&quot; el:subtitle=&quot;Watch out, here comes Audrey II!&quot; el:id=&quot;pulley01&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;3&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;4&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Mark Pulley&quot; el:email=&quot;&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; 2007 Mark Pulley&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -22,15 +22,7 @@
 -- ANT --
 create_world(58,25)
 meditation_mode()
-set_actor(&quot;ac-whiteball-small&quot;,11.5,1.5,{player=0,name=&quot;Seymour&quot;})
-set_actor(&quot;ac-whiteball-small&quot;,47.5,6.5,{name=&quot;Orin&quot;,controllers=0,essential=-1})
-set_actor(&quot;ac-whiteball-small&quot;,18.5,23.5,{name=&quot;Mushnik&quot;,controllers=0,essential=-1})
-set_actor(&quot;ac-whiteball-small&quot;,47.5,20.5,{name=&quot;Audrey&quot;,controllers=0,essential=-1})
 
-set_actor(&quot;ac-horse&quot;,26.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Chiffon
-set_actor(&quot;ac-horse&quot;,23.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Crystal
-set_actor(&quot;ac-horse&quot;,20.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Ronnette
-
 cells={}
 cells[&quot; &quot;]=cell{floor=&quot;fl-brick&quot;}
 cells[&quot;1&quot;]=cell{stone={face=&quot;st-scissors&quot;, attr={action=&quot;callback&quot;,target=&quot;Grow1&quot;}}} -- Orin being eaten by Audrey II
@@ -134,6 +126,15 @@
 set_default_parent(cells[&quot; &quot;])
 draw_map(0,0,level,cells)
 
+set_actor(&quot;ac-whiteball-small&quot;,11.5,1.5,{player=0,name=&quot;Seymour&quot;})
+set_actor(&quot;ac-whiteball-small&quot;,47.5,6.5,{name=&quot;Orin&quot;,controllers=0,essential=-1})
+set_actor(&quot;ac-whiteball-small&quot;,18.5,23.5,{name=&quot;Mushnik&quot;,controllers=0,essential=-1})
+set_actor(&quot;ac-whiteball-small&quot;,47.5,20.5,{name=&quot;Audrey&quot;,controllers=0,essential=-1})
+
+set_actor(&quot;ac-horse&quot;,26.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Chiffon
+set_actor(&quot;ac-horse&quot;,23.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Crystal
+set_actor(&quot;ac-horse&quot;,20.5,0.5,{force=3, target1=&quot;35 0&quot;, target2=&quot;35 23&quot;, target3=&quot;22 24&quot;, target4=&quot;22 1&quot;}) -- Ronnette
+
 set_item(&quot;it-document&quot;,4,5,{text=&quot;feed&quot;}) -- Feed Me
 set_item(&quot;it-document&quot;,38,6,{text=&quot;Orin&quot;}) -- Orin Quote
 set_item(&quot;it-document&quot;,38,21,{text=&quot;Audrey&quot;}) -- Audrey Quote

Modified: trunk/data/levels/lib/ralf_sokoban.xml
===================================================================
--- trunk/data/levels/lib/ralf_sokoban.xml	2008-03-22 13:31:14 UTC (rev 1082)
+++ trunk/data/levels/lib/ralf_sokoban.xml	2008-03-24 02:01:53 UTC (rev 1083)
@@ -3,7 +3,7 @@
   &lt;el:protected&gt;
     &lt;el:info el:type=&quot;library&quot;&gt;
       &lt;el:identity el:title=&quot;&quot; el:id=&quot;lib/ralf_sokoban&quot;/&gt;
-      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;0&quot; el:status=&quot;released&quot;/&gt;
+      &lt;el:version el:score=&quot;1&quot; el:release=&quot;1&quot; el:revision=&quot;2&quot; el:status=&quot;released&quot;/&gt;
       &lt;el:author  el:name=&quot;Ralf Westram&quot; el:email=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">amgine at reallysoft.de</A>&quot; el:homepage=&quot;&quot;/&gt;
       &lt;el:copyright&gt;Copyright &#169; Mar 2003 Ralf Westram&lt;/el:copyright&gt;
       &lt;el:license el:type=&quot;GPL v2.0 or above&quot; el:open=&quot;true&quot;/&gt;
@@ -898,7 +898,11 @@
          local d = &quot;v&quot;
          if (xd==xo) then d = &quot;h&quot; end
          set_floor(floorface,xd,yd)
-         set_stone(doorface,xd,yd, {name=&quot;door&quot;..doors, type=d})
+         if doorface == &quot;st-blocker&quot; then
+           set_stone(doorface,xd,yd, {name=&quot;door&quot;..doors})
+         else
+           set_stone(doorface,xd,yd, {name=&quot;door&quot;..doors, type=d})
+         end
       end
       oxyd(xo,yo)
       debug(&quot;- setting oxyd to &quot;..xo..&quot;/&quot;..yo)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000515.html">[Enigma-game-svn] r1082 - trunk/doc/reference
</A></li>
	<LI>Next message: <A HREF="000517.html">[Enigma-game-svn] r1084 - in feature_branches/hp_lotm: images/lotm	input input/lotm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#516">[ date ]</a>
              <a href="thread.html#516">[ thread ]</a>
              <a href="subject.html#516">[ subject ]</a>
              <a href="author.html#516">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
