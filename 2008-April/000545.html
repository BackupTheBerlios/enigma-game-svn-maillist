<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1112 - in trunk: doc/reference etc src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1112%20-%20in%20trunk%3A%20doc/reference%20etc%20src&In-Reply-To=%3C200804261919.m3QJJrl9011868%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000544.html">
   <LINK REL="Next"  HREF="000546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1112 - in trunk: doc/reference etc src</H1>
    <B>ral at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1112%20-%20in%20trunk%3A%20doc/reference%20etc%20src&In-Reply-To=%3C200804261919.m3QJJrl9011868%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1112 - in trunk: doc/reference etc src">ral at mail.berlios.de
       </A><BR>
    <I>Sat Apr 26 21:19:53 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000544.html">[Enigma-game-svn] r1111 - trunk/src/gui
</A></li>
        <LI>Next message: <A HREF="000546.html">[Enigma-game-svn] r1113 - in trunk: data data/schemas src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#545">[ date ]</a>
              <a href="thread.html#545">[ thread ]</a>
              <a href="subject.html#545">[ subject ]</a>
              <a href="author.html#545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2008-04-26 21:19:52 +0200 (Sat, 26 Apr 2008)
New Revision: 1112

Modified:
   trunk/doc/reference/enigma-ref.texi
   trunk/etc/mingw32-dist.sh.in
   trunk/src/Makefile.am
Log:
Trunk 1.1:
- finish r1103: Win and Mac distribution
- finish r1109: Win and Mac distribution
- refman new API additions

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2008-04-25 23:38:53 UTC (rev 1111)
+++ trunk/doc/reference/enigma-ref.texi	2008-04-26 19:19:52 UTC (rev 1112)
@@ -3341,6 +3341,36 @@
 
 Read API Concept Draft
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at menu</A>
+* Lua Example:: 
+* Enigma Lua Types::   
+* Object Definitions and Tiles::
+* Lua Positions::
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> menu
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Lua Example -------------------- 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Lua Example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at section</A> Lua Example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Enigma Lua Types -------------------- 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Enigma Lua Types
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at section</A> Enigma Lua Types
+
+
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> -------------- Object Definitions and Tiles ----------------- 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Object Definitions and Tiles
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at section</A> Object Definitions and Tiles
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Lua Positions -------------------- 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Lua Positions
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at section</A> Lua Positions
+
+
 @c ===================  Commons  =======================
 @node Common Attributes and Messages
 @chapter Common Attributes and Messages
@@ -3493,12 +3523,29 @@
 @section Global Attributes
 
 @menu
+* IsDifficult:: 
 * MagnetRange:: 
 * MagnetStrength:: 
 * WormholeRange:: 
 * WormholeStrength:: 
 @end menu
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> IsDifficult
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> IsDifficult
+
+A global read only variable that defines the current diffculty mode selected
+by the user. All differences of easy and difficult mode within the level should
+be coded solely in dependence of this flag. A level that supports an easy mode
+the author needs to declare it in the XML header in the element @ref{&lt;modes&gt;}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Type:} @ @ bool
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Values:} @ @ @code{true}, @code{false}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Default:} @ @ @code{true}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Access:} @ @ read only
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Support:} @ @ object independent
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
 @node MagnetRange
 @subsection MagnetRange
 
@@ -3578,12 +3625,14 @@
 @menu
 * it_blocker::         Shrinked Blocker Stone
 * it_brush::           
+* it_cross::           Floor switch for patient Actors
 * it_coin::            Enigma's currency
 * it_extralife::
 * it_floppy::          
 * it_hammer::
 * it_key::             
 * it_magnet::
+* it_sensor::          Floor Switch for passing Actors
 * it_sword::
 * it_trigger::         Floor Switch for Actors and Stones
 * it_umbrella::        Death Protection Item
@@ -3678,6 +3727,7 @@
 @subsection it_brush
 @obindex it_brush
 
+TBD
 
 @table @asis
 
@@ -3733,6 +3783,40 @@
 
 @end table
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Cross Item -------------------- 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> it_cross
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> it_cross
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at obindex</A> it_cross
+
+An eye-catching cross spot that can detect actors staying on it for a given
+time. When an actor remains on top of the cross for the given @samp{interval}
+without any other actor leaving or passing the cross grid the cross will perform
+its action. Similar, but instant sensors for actors are @ref{it_sensor} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_trigger}
+
+A cross can be drawn with an @ref{it_pencil} and it can be removed with an
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_brush}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Attributes:}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{state}, @ @ @i{values}: @code{0}, @code{1}; @ @ @i{access}: @code{read only} @ @ @xref{state}
+The current state - @samp{0} for the last event being an actor leaving the cross,
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{1} for the last event being an actor entering the cross.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{interval} @ @ @i{values}: positive number; @ @ @i{default}: @code{10.0}
+Number of seconds that the actor must stay on the sensor to cause an action.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Messages:} none
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
 @c ----------------- Extralife Item -------------------- 
 @node it_extralife
 @subsection it_extralife
@@ -3886,6 +3970,45 @@
 
 @end table
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Sensor Item -------------------- 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> it_sensor
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> it_sensor
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at obindex</A> it_sensor
+
+The sensor item is a switch on top of a floor that reacts on actors passing it.
+It just performs actions on actors entering the sensors grid. It will
+send an action value of @samp{true} but of course the @ref{inverse} attribute
+can be used to send an action value of @samp{false} instead.
+
+Any actors passing the grid, either on the floor or jumping over it will be
+detected.
+
+Sensors do not cause any noise. Visible sensors will nevertheless flash on
+passing actors. You can make the trigger invisible by setting its attribute. 
+Be aware that the user will still notice that actors cannot drop items onto the
+same grid position.
+
+Alternative objects that reacts on actors are @ref{it_trigger} and 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_cross}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Attributes:}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{invisible} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
+An invisible sensor is totally transparent. But the user may notice it, as actors
+cannot drop items onto the same grid position.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Messages:} none
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
 @c ----------------- Sword Item -------------------- 
 @node it_sword
 @subsection it_sword

Modified: trunk/etc/mingw32-dist.sh.in
===================================================================
--- trunk/etc/mingw32-dist.sh.in	2008-04-25 23:38:53 UTC (rev 1111)
+++ trunk/etc/mingw32-dist.sh.in	2008-04-26 19:19:52 UTC (rev 1112)
@@ -81,14 +81,17 @@
 	mkdir $DDIR/data/$folder; 
 	cp -p $SDIR/data/$folder/*.{png,jpg} $DDIR/data/$folder
     done
+    mkdir $DDIR/data/gfx/flags25x15
+    cp -p $SDIR/data/gfx/flags25x15/*.png $DDIR/data/gfx/flags25x15
     mkdir $DDIR/data/schemas
     cplffiles data/schemas data/schemas xsd
     cplffiles data/schemas data/schemas xml
     copy_levels
     mkdir $DDIR/data/fonts
     cp -p $SDIR/data/fonts/*.{bmf,png,txt,ttf} $DDIR/data/fonts
-    mkdir $DDIR/data/sound
-    cp -p $SDIR/data/sound/*.{ogg,s3m} $DDIR/data/sound
+    mkdir $DDIR/data/music
+    mkdir $DDIR/data/music/menu
+    cp -p $SDIR/data/music/menu/*.{ogg,s3m} $DDIR/data/music/menu
     mkdir $DDIR/data/soundsets 
     mkdir $DDIR/data/soundsets/enigma 
     cp -p $SDIR/data/soundsets/enigma/*.wav $DDIR/data/soundsets/enigma

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2008-04-25 23:38:53 UTC (rev 1111)
+++ trunk/src/Makefile.am	2008-04-26 19:19:52 UTC (rev 1112)
@@ -292,6 +292,8 @@
 	cp $(top_builddir)/data/*.xml $(bundle_name)/Contents/Resources/data/
 	mkdir -p $(bundle_name)/Contents/Resources/data/gfx
 	cp $(top_builddir)/data/gfx/*.png $(bundle_name)/Contents/Resources/data/gfx
+	mkdir -p $(bundle_name)/Contents/Resources/data/gfx/flags25x15
+	cp $(top_builddir)/data/gfx/flags25x15/*.png $(bundle_name)/Contents/Resources/data/gfx/flags25x15
 	mkdir -p $(bundle_name)/Contents/Resources/data/gfx32
 	cp $(top_builddir)/data/gfx32/*.png $(bundle_name)/Contents/Resources/data/gfx32
 	cp $(top_builddir)/data/gfx32/*.jpg $(bundle_name)/Contents/Resources/data/gfx32
@@ -304,8 +306,10 @@
 	mkdir -p $(bundle_name)/Contents/Resources/data/schemas
 	cp $(top_builddir)/data/schemas/*.xml $(bundle_name)/Contents/Resources/data/schemas
 	cp $(top_builddir)/data/schemas/*.xsd $(bundle_name)/Contents/Resources/data/schemas
-	mkdir -p $(bundle_name)/Contents/Resources/data/sound
-	cp $(top_builddir)/data/sound/*.s3m $(bundle_name)/Contents/Resources/data/sound
+	mkdir -p $(bundle_name)/Contents/Resources/data/music
+	mkdir -p $(bundle_name)/Contents/Resources/data/music/menu
+	cp $(top_builddir)/data/music/menu/*.s3m $(bundle_name)/Contents/Resources/data/music/menu
+	cp $(top_builddir)/data/music/menu/*.ogg $(bundle_name)/Contents/Resources/data/music/menu
 	mkdir -p $(bundle_name)/Contents/Resources/data/soundsets
 	mkdir -p $(bundle_name)/Contents/Resources/data/soundsets/enigma
 	cp $(top_builddir)/data/soundsets/enigma/*.wav $(bundle_name)/Contents/Resources/data/soundsets/enigma


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000544.html">[Enigma-game-svn] r1111 - trunk/src/gui
</A></li>
	<LI>Next message: <A HREF="000546.html">[Enigma-game-svn] r1113 - in trunk: data data/schemas src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#545">[ date ]</a>
              <a href="thread.html#545">[ thread ]</a>
              <a href="subject.html#545">[ subject ]</a>
              <a href="author.html#545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
