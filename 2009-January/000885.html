<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1456 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/schemas src src/stones
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1456%20-%20in%20trunk%3A%20data%20data/gfx32%20data/gfx40%0A%09data/gfx48%20data/schemas%20src%20src/stones&In-Reply-To=%3C200901152242.n0FMg33u027706%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000884.html">
   <LINK REL="Next"  HREF="000886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1456 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/schemas src src/stones</H1>
    <B>ral at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1456%20-%20in%20trunk%3A%20data%20data/gfx32%20data/gfx40%0A%09data/gfx48%20data/schemas%20src%20src/stones&In-Reply-To=%3C200901152242.n0FMg33u027706%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1456 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/schemas src src/stones">ral at mail.berlios.de
       </A><BR>
    <I>Thu Jan 15 23:42:03 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000884.html">[Enigma-game-svn] r1455 - feature_branches/hp_lotm/input/articles
</A></li>
        <LI>Next message: <A HREF="000886.html">[Enigma-game-svn] r1457 - team_levelpacks/team_test_new_api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#885">[ date ]</a>
              <a href="thread.html#885">[ thread ]</a>
              <a href="subject.html#885">[ subject ]</a>
              <a href="author.html#885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2009-01-15 23:42:00 +0100 (Thu, 15 Jan 2009)
New Revision: 1456

Added:
   trunk/data/gfx32/st_ancient.png
   trunk/data/gfx32/st_bluegray.png
   trunk/data/gfx32/st_brownie.png
   trunk/data/gfx32/st_brownmarble.png
   trunk/data/gfx32/st_brownpyramide.png
   trunk/data/gfx32/st_camouflage.png
   trunk/data/gfx32/st_concrete.png
   trunk/data/gfx32/st_darkgray.png
   trunk/data/gfx32/st_granite.png
   trunk/data/gfx32/st_greengray.png
   trunk/data/gfx32/st_metal.png
   trunk/data/gfx32/st_pinkbumps.png
   trunk/data/gfx32/st_purplegray.png
   trunk/data/gfx32/st_purplemarble.png
   trunk/data/gfx32/st_redbrown.png
   trunk/data/gfx32/st_redmarble.png
   trunk/data/gfx32/st_redrock.png
   trunk/data/gfx32/st_tigris.png
   trunk/data/gfx32/st_woven.png
   trunk/data/gfx32/st_yellow.png
   trunk/data/gfx40/st_ancient.png
   trunk/data/gfx40/st_bluegray.png
   trunk/data/gfx40/st_brownie.png
   trunk/data/gfx40/st_brownmarble.png
   trunk/data/gfx40/st_brownpyramide.png
   trunk/data/gfx40/st_camouflage.png
   trunk/data/gfx40/st_concrete.png
   trunk/data/gfx40/st_darkgray.png
   trunk/data/gfx40/st_granite.png
   trunk/data/gfx40/st_greengray.png
   trunk/data/gfx40/st_metal.png
   trunk/data/gfx40/st_pinkbumps.png
   trunk/data/gfx40/st_purplegray.png
   trunk/data/gfx40/st_purplemarble.png
   trunk/data/gfx40/st_redbrown.png
   trunk/data/gfx40/st_redmarble.png
   trunk/data/gfx40/st_redrock.png
   trunk/data/gfx40/st_tigris.png
   trunk/data/gfx40/st_woven.png
   trunk/data/gfx40/st_yellow.png
   trunk/data/gfx48/st_ancient.png
   trunk/data/gfx48/st_bluegray.png
   trunk/data/gfx48/st_brownie.png
   trunk/data/gfx48/st_brownmarble.png
   trunk/data/gfx48/st_brownpyramide.png
   trunk/data/gfx48/st_camouflage.png
   trunk/data/gfx48/st_concrete.png
   trunk/data/gfx48/st_darkgray.png
   trunk/data/gfx48/st_granite.png
   trunk/data/gfx48/st_greengray.png
   trunk/data/gfx48/st_metal.png
   trunk/data/gfx48/st_pinkbumps.png
   trunk/data/gfx48/st_purplegray.png
   trunk/data/gfx48/st_purplemarble.png
   trunk/data/gfx48/st_redbrown.png
   trunk/data/gfx48/st_redmarble.png
   trunk/data/gfx48/st_redrock.png
   trunk/data/gfx48/st_tigris.png
   trunk/data/gfx48/st_woven.png
   trunk/data/gfx48/st_yellow.png
   trunk/src/stones/StandardStones.cc
   trunk/src/stones/StandardStones.hh
Removed:
   trunk/data/gfx32/st-bluegray.png
   trunk/data/gfx32/st-brownie.png
   trunk/data/gfx32/st-bumps.png
   trunk/data/gfx32/st-camouflage.png
   trunk/data/gfx32/st-marble.png
   trunk/data/gfx32/st-metal.png
   trunk/data/gfx32/st-redrock.png
   trunk/data/gfx32/st-rock1.png
   trunk/data/gfx32/st-rock10.png
   trunk/data/gfx32/st-rock2.png
   trunk/data/gfx32/st-rock4.png
   trunk/data/gfx32/st-rock5.png
   trunk/data/gfx32/st-rock6.png
   trunk/data/gfx32/st-rock7.png
   trunk/data/gfx32/st-rock8.png
   trunk/data/gfx32/st-rock9.png
   trunk/data/gfx32/st-stone1.png
   trunk/data/gfx32/st-stone2.png
   trunk/data/gfx32/st-woven.png
   trunk/data/gfx32/st-yellow.png
   trunk/data/gfx40/st-bluegray.png
   trunk/data/gfx40/st-brownie.png
   trunk/data/gfx40/st-bumps.png
   trunk/data/gfx40/st-camouflage.png
   trunk/data/gfx40/st-marble.png
   trunk/data/gfx40/st-metal.png
   trunk/data/gfx40/st-redrock.png
   trunk/data/gfx40/st-rock1.png
   trunk/data/gfx40/st-rock10.png
   trunk/data/gfx40/st-rock2.png
   trunk/data/gfx40/st-rock4.png
   trunk/data/gfx40/st-rock5.png
   trunk/data/gfx40/st-rock6.png
   trunk/data/gfx40/st-rock7.png
   trunk/data/gfx40/st-rock8.png
   trunk/data/gfx40/st-rock9.png
   trunk/data/gfx40/st-stone1.png
   trunk/data/gfx40/st-stone2.png
   trunk/data/gfx40/st-woven.png
   trunk/data/gfx40/st-yellow.png
   trunk/data/gfx48/st-bluegray.png
   trunk/data/gfx48/st-brownie.png
   trunk/data/gfx48/st-bumps.png
   trunk/data/gfx48/st-camouflage.png
   trunk/data/gfx48/st-marble.png
   trunk/data/gfx48/st-metal.png
   trunk/data/gfx48/st-redrock.png
   trunk/data/gfx48/st-rock1.png
   trunk/data/gfx48/st-rock10.png
   trunk/data/gfx48/st-rock2.png
   trunk/data/gfx48/st-rock4.png
   trunk/data/gfx48/st-rock5.png
   trunk/data/gfx48/st-rock6.png
   trunk/data/gfx48/st-rock7.png
   trunk/data/gfx48/st-rock8.png
   trunk/data/gfx48/st-rock9.png
   trunk/data/gfx48/st-stone1.png
   trunk/data/gfx48/st-stone2.png
   trunk/data/gfx48/st-woven.png
   trunk/data/gfx48/st-yellow.png
Modified:
   trunk/data/api1init.lua
   trunk/data/models-2d.lua
   trunk/data/schemas/objects.xml
   trunk/data/startup.lua
   trunk/src/Makefile.am
   trunk/src/ox_extra.cc
   trunk/src/ox_magnum.cc
   trunk/src/ox_oxyd1.cc
   trunk/src/ox_peroxyd.cc
   trunk/src/stones.hh
   trunk/src/stones/QuakeStone.hh
Log:
Trunk 1.1: new API reengineering
- standard stone renaming:
  - st-rock1 -&gt; st_granite
  - st-rock1_hole -&gt; st_granite_hollow
  - st-rock1_move -&gt; st_granite_movable
  - st-rock2 -&gt; st_darkgray
  - st-rock2_hole -&gt; st_darkgray_hollow
  - st-rock4 -&gt; st_purplemarble
  - st-rock5 -&gt; st_tigris
  - st-rock6 -&gt; st_purplegray
  - st-rock7 -&gt; st_greengray
  - st-rock8 -&gt; st_concrete
  - st-rock9 -&gt; st_ancient
  - st-rock10 -&gt; st_brownmarble
  - st-stone1 -&gt; st_brownpyramide
  - st-stone2 -&gt; st_redmarble
  - st-bluegray -&gt; st_bluegray
  - st-bluegray_hole -&gt; st_bluegray_hollow
  - st-brownie -&gt; st_brownie
  - st-bumps -&gt; st_pinkbumps
  - st-camouflage -&gt; st_camouflage
  - st-camouflage_hole -&gt; st_camouflage_hollow
  - st-camouflage_move -&gt; st_camouflage_movable
  - st-marble -&gt; st_redbrown
  - st-marble_hole -&gt; st_redbrown_hollow
  - st-marble_move -&gt; st_redbrown_movable
  - st-metal -&gt; st_metal
  - st-metal_hole -&gt; st_metal_hollow
  - st-redrock -&gt; st_redrock
  - st-woven -&gt; st_woven
  - st-yellow -&gt; st_yellow
  - st-invisible -&gt; st_invisible
  - st-invisible_hole -&gt; st_invisible_hollow
  - st-invisible_move -&gt; st_invisible_movable

Modified: trunk/data/api1init.lua
===================================================================
--- trunk/data/api1init.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/api1init.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -195,8 +195,11 @@
     it_yinyang = &quot;it-yinyang&quot;,
     st_actorimpulse = &quot;st-actorimpulse&quot;,
     st_actorimpulse_invisible = &quot;st-actorimpulse_invisible&quot;,
+    st_ancient = &quot;st-rock9&quot;,
     st_blocker = &quot;st-blocker&quot;,
     st_blocker_new = &quot;st-blocker-growing&quot;,
+    st_bluegray = &quot;st-bluegray&quot;,
+    st_bluegray_hollow = &quot;st-bluegray_hole&quot;,
     st_bluesand = &quot;st-blue-sand&quot;,
     st_bluesand_w = &quot;st-bigbluesand-w&quot;,
     st_bluesand_s = &quot;st-bigbluesand-s&quot;,
@@ -241,6 +244,12 @@
     st_brick_new = &quot;st-bigbrick-new&quot;,
     st_brick_nes = &quot;st-bigbrick-nes&quot;,
     st_brick_nesw = &quot;st-bigbrick-nesw&quot;,
+    st_brownie = &quot;st-brownie&quot;,
+    st_brownmarble = &quot;st-rock10&quot;,
+    st_brownpyramide = &quot;st-stone1&quot;,
+    st_camouflage = &quot;st-camouflage&quot;,
+    st_camouflage_hollow = &quot;st-camouflage_hole&quot;,
+    st_camouflage_movable = &quot;st-camouflage_move&quot;,
     st_charge_minus = &quot;st-chargeminus&quot;,
     st_charge_plus = &quot;st-chargeplus&quot;,
     st_charge_zero = &quot;st-chargezero&quot;,
@@ -248,6 +257,9 @@
     st_chess_black = &quot;st-chess_black&quot;,
     st_chess_white = &quot;st-chess_white&quot;,
     st_coinslot = &quot;st-coinslot&quot;,
+    st_concrete = &quot;st-rock8&quot;,
+    st_darkgray = &quot;st-rock2&quot;,
+    st_darkgray_hollow = &quot;st-rock2_hole&quot;,
     st_death = &quot;st-death&quot;,
     st_death_invisible = &quot;st-death_invisible&quot;,
     st_disco_light = &quot;st-disco-light&quot;,
@@ -264,6 +276,13 @@
     st_flash = &quot;st-flash&quot;,
     st_floppy = &quot;st-floppy&quot;,
     st_fourswitch = &quot;st-fourswitch&quot;,
+    st_granite = &quot;st-rock1&quot;,
+    st_granite_hollow = &quot;st-rock1_hole&quot;,
+    st_granite_movable = &quot;st-rock1_move&quot;,
+    st_greengray = &quot;st-rock7&quot;,
+    st_invisible = &quot;st-invisible&quot;,
+    st_invisible_hollow = &quot;st-invisible_hole&quot;,
+    st_invisible_movable = &quot;st-invisible_move&quot;,
     st_knight = &quot;st-knight&quot;,
     st_laser_w = &quot;st-laser-w&quot;,
     st_laser_s = &quot;st-laser-s&quot;,
@@ -277,6 +296,8 @@
     st_mail_s = &quot;st-mail-s&quot;,
     st_mail_e = &quot;st-mail-e&quot;,
     st_mail_n = &quot;st-mail-n&quot;,
+    st_metal = &quot;st-metal&quot;,
+    st_metal_hollow = &quot;st-metal_hole&quot;,
 
     st_mirror_slab_n = &quot;st-mirror-p|&quot;,
     st_mirror_slab_e = &quot;st-mirror-p/&quot;,
@@ -338,7 +359,10 @@
     st_passage_white_slash = &quot;st-white2&quot;,
     st_passage_white_cross = &quot;st-white3&quot;,
     st_passage_white_frame = &quot;st-white4&quot;,
+    st_pinkbumps = &quot;st-bumps&quot;,
     st_pull = &quot;st-pull&quot;,
+    st_purplegray = &quot;st-rock6&quot;,
+    st_purplemarble = &quot;st-rock4&quot;,
     st_puzzle = &quot;st-puzzle&quot;,
     st_puzzle_blue_w = &quot;st-puzzle-w&quot;,
     st_puzzle_blue_s = &quot;st-puzzle-s&quot;,
@@ -373,6 +397,10 @@
     st_puzzle_yellow_nesw = &quot;st-puzzle2-nesw&quot;,
     st_puzzle_yellow_nesw_hollow = &quot;st-puzzle2-hollow&quot;,
     st_quake = &quot;st-fart&quot;,
+    st_redbrown = &quot;st-marble&quot;,
+    st_redbrown_hollow = &quot;st-marble_hole&quot;,
+    st_redbrown_movable = &quot;st-marble_move&quot;,
+    st_redmarble = &quot;st-stone2&quot;,
     st_rotator_cw = &quot;st-rotator-right&quot;,
     st_rotator_ccw = &quot;st-rotator-left&quot;,
     st_rotator_cw_movable = &quot;st-rotator_move-right&quot;,
@@ -394,6 +422,7 @@
     st_switch = &quot;st-switch&quot;,
     st_switch_black = &quot;st-switch_black&quot;,
     st_switch_white = &quot;st-switch_white&quot;,
+    st_tigris = &quot;st-rock5&quot;,
     st_timer = &quot;st-timer&quot;,
     st_turnstile_red = &quot;st-turnstile&quot;,
     st_turnstile_green = &quot;st-turnstile-green&quot;,
@@ -405,7 +434,9 @@
     st_volcano_new = &quot;st-volcano-growing&quot;,
     st_volcano_active = &quot;st-volcano_active&quot;,
     st_volcano_idle = &quot;st-volcano_inactive&quot;,
-    st_window = &quot;st-window&quot;
+    st_window = &quot;st-window&quot;,
+    st_woven = &quot;st-woven&quot;,
+    st_yellow = &quot;st-yellow&quot;
 }
 
 for k,v in pairs(RenamingObjectsNew2Old) do

Deleted: trunk/data/gfx32/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx32/st_ancient.png (from rev 1452, trunk/data/gfx32/st-rock9.png)

Copied: trunk/data/gfx32/st_bluegray.png (from rev 1452, trunk/data/gfx32/st-bluegray.png)

Copied: trunk/data/gfx32/st_brownie.png (from rev 1452, trunk/data/gfx32/st-brownie.png)

Copied: trunk/data/gfx32/st_brownmarble.png (from rev 1452, trunk/data/gfx32/st-rock10.png)

Copied: trunk/data/gfx32/st_brownpyramide.png (from rev 1452, trunk/data/gfx32/st-stone1.png)

Copied: trunk/data/gfx32/st_camouflage.png (from rev 1452, trunk/data/gfx32/st-camouflage.png)

Copied: trunk/data/gfx32/st_concrete.png (from rev 1452, trunk/data/gfx32/st-rock8.png)

Copied: trunk/data/gfx32/st_darkgray.png (from rev 1452, trunk/data/gfx32/st-rock2.png)

Copied: trunk/data/gfx32/st_granite.png (from rev 1452, trunk/data/gfx32/st-rock1.png)

Copied: trunk/data/gfx32/st_greengray.png (from rev 1452, trunk/data/gfx32/st-rock7.png)

Copied: trunk/data/gfx32/st_metal.png (from rev 1452, trunk/data/gfx32/st-metal.png)

Copied: trunk/data/gfx32/st_pinkbumps.png (from rev 1452, trunk/data/gfx32/st-bumps.png)

Copied: trunk/data/gfx32/st_purplegray.png (from rev 1452, trunk/data/gfx32/st-rock6.png)

Copied: trunk/data/gfx32/st_purplemarble.png (from rev 1452, trunk/data/gfx32/st-rock4.png)

Copied: trunk/data/gfx32/st_redbrown.png (from rev 1452, trunk/data/gfx32/st-marble.png)

Copied: trunk/data/gfx32/st_redmarble.png (from rev 1452, trunk/data/gfx32/st-stone2.png)

Copied: trunk/data/gfx32/st_redrock.png (from rev 1452, trunk/data/gfx32/st-redrock.png)

Copied: trunk/data/gfx32/st_tigris.png (from rev 1452, trunk/data/gfx32/st-rock5.png)

Copied: trunk/data/gfx32/st_woven.png (from rev 1452, trunk/data/gfx32/st-woven.png)

Copied: trunk/data/gfx32/st_yellow.png (from rev 1452, trunk/data/gfx32/st-yellow.png)

Deleted: trunk/data/gfx40/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx40/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx40/st_ancient.png (from rev 1452, trunk/data/gfx40/st-rock9.png)

Copied: trunk/data/gfx40/st_bluegray.png (from rev 1452, trunk/data/gfx40/st-bluegray.png)

Copied: trunk/data/gfx40/st_brownie.png (from rev 1452, trunk/data/gfx40/st-brownie.png)

Copied: trunk/data/gfx40/st_brownmarble.png (from rev 1452, trunk/data/gfx40/st-rock10.png)

Copied: trunk/data/gfx40/st_brownpyramide.png (from rev 1452, trunk/data/gfx40/st-stone1.png)

Copied: trunk/data/gfx40/st_camouflage.png (from rev 1452, trunk/data/gfx40/st-camouflage.png)

Copied: trunk/data/gfx40/st_concrete.png (from rev 1452, trunk/data/gfx40/st-rock8.png)

Copied: trunk/data/gfx40/st_darkgray.png (from rev 1452, trunk/data/gfx40/st-rock2.png)

Copied: trunk/data/gfx40/st_granite.png (from rev 1452, trunk/data/gfx40/st-rock1.png)

Copied: trunk/data/gfx40/st_greengray.png (from rev 1452, trunk/data/gfx40/st-rock7.png)

Copied: trunk/data/gfx40/st_metal.png (from rev 1452, trunk/data/gfx40/st-metal.png)

Copied: trunk/data/gfx40/st_pinkbumps.png (from rev 1452, trunk/data/gfx40/st-bumps.png)

Copied: trunk/data/gfx40/st_purplegray.png (from rev 1452, trunk/data/gfx40/st-rock6.png)

Copied: trunk/data/gfx40/st_purplemarble.png (from rev 1452, trunk/data/gfx40/st-rock4.png)

Copied: trunk/data/gfx40/st_redbrown.png (from rev 1452, trunk/data/gfx40/st-marble.png)

Copied: trunk/data/gfx40/st_redmarble.png (from rev 1452, trunk/data/gfx40/st-stone2.png)

Copied: trunk/data/gfx40/st_redrock.png (from rev 1452, trunk/data/gfx40/st-redrock.png)

Copied: trunk/data/gfx40/st_tigris.png (from rev 1452, trunk/data/gfx40/st-rock5.png)

Copied: trunk/data/gfx40/st_woven.png (from rev 1452, trunk/data/gfx40/st-woven.png)

Copied: trunk/data/gfx40/st_yellow.png (from rev 1452, trunk/data/gfx40/st-yellow.png)

Deleted: trunk/data/gfx48/st-bluegray.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-brownie.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-bumps.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-camouflage.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-metal.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-redrock.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock10.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock4.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock5.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock6.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock7.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock8.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-rock9.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-stone1.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-stone2.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-woven.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-yellow.png
===================================================================
(Binary files differ)

Copied: trunk/data/gfx48/st_ancient.png (from rev 1452, trunk/data/gfx48/st-rock9.png)

Copied: trunk/data/gfx48/st_bluegray.png (from rev 1452, trunk/data/gfx48/st-bluegray.png)

Copied: trunk/data/gfx48/st_brownie.png (from rev 1452, trunk/data/gfx48/st-brownie.png)

Copied: trunk/data/gfx48/st_brownmarble.png (from rev 1452, trunk/data/gfx48/st-rock10.png)

Copied: trunk/data/gfx48/st_brownpyramide.png (from rev 1452, trunk/data/gfx48/st-stone1.png)

Copied: trunk/data/gfx48/st_camouflage.png (from rev 1452, trunk/data/gfx48/st-camouflage.png)

Copied: trunk/data/gfx48/st_concrete.png (from rev 1452, trunk/data/gfx48/st-rock8.png)

Copied: trunk/data/gfx48/st_darkgray.png (from rev 1452, trunk/data/gfx48/st-rock2.png)

Copied: trunk/data/gfx48/st_granite.png (from rev 1452, trunk/data/gfx48/st-rock1.png)

Copied: trunk/data/gfx48/st_greengray.png (from rev 1452, trunk/data/gfx48/st-rock7.png)

Copied: trunk/data/gfx48/st_metal.png (from rev 1452, trunk/data/gfx48/st-metal.png)

Copied: trunk/data/gfx48/st_pinkbumps.png (from rev 1452, trunk/data/gfx48/st-bumps.png)

Copied: trunk/data/gfx48/st_purplegray.png (from rev 1452, trunk/data/gfx48/st-rock6.png)

Copied: trunk/data/gfx48/st_purplemarble.png (from rev 1452, trunk/data/gfx48/st-rock4.png)

Copied: trunk/data/gfx48/st_redbrown.png (from rev 1452, trunk/data/gfx48/st-marble.png)

Copied: trunk/data/gfx48/st_redmarble.png (from rev 1452, trunk/data/gfx48/st-stone2.png)

Copied: trunk/data/gfx48/st_redrock.png (from rev 1452, trunk/data/gfx48/st-redrock.png)

Copied: trunk/data/gfx48/st_tigris.png (from rev 1452, trunk/data/gfx48/st-rock5.png)

Copied: trunk/data/gfx48/st_woven.png (from rev 1452, trunk/data/gfx48/st-woven.png)

Copied: trunk/data/gfx48/st_yellow.png (from rev 1452, trunk/data/gfx48/st-yellow.png)

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/models-2d.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -747,12 +747,12 @@
     DefStone(&quot;st-black4&quot;, &quot;sh-white4&quot;)
     DefStone(&quot;st-blackballs&quot;)
     DefStone(&quot;st-block&quot;)
-    DefStone(&quot;st-bluegray&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_bluegray&quot;, &quot;sh-round&quot;)
     DefStone(&quot;st-brake&quot;, &quot;sh-brake&quot;)
-    DefStone(&quot;st-brownie&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_brownie&quot;, &quot;sh-round&quot;)
     DefStone(&quot;st-bug&quot;)
-    DefStone(&quot;st-bumps&quot;)
-    DefStone(&quot;st-camouflage&quot;)
+    DefStone(&quot;st_pinkbumps&quot;)
+    DefStone(&quot;st_camouflage&quot;)
     DefStone(&quot;st-dummy&quot;)
     DefImage(&quot;st-easymode&quot;)
     DefStone(&quot;st-flhay&quot;)
@@ -770,31 +770,31 @@
     DefStone(&quot;st-greenbrown&quot;, &quot;sh-round&quot;)
     DefStone(&quot;st-key0&quot;, &quot;sh-round&quot;, {filename=&quot;st-key1&quot;})
     DefStone(&quot;st-key1&quot;, &quot;sh-round&quot;, {filename=&quot;st-key2&quot;})
-    DefStone(&quot;st-marble&quot;, &quot;sh-round&quot;)
-    DefStone(&quot;st-metal&quot;)
-    DefStone(&quot;st-redrock&quot;)
-    DefStone(&quot;st-rock1&quot;, &quot;sh-round&quot;)
-    DefStone(&quot;st-rock2&quot;)
+    DefStone(&quot;st_redbrown&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_metal&quot;)
+    DefStone(&quot;st_redrock&quot;)
+    DefStone(&quot;st_granite&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_darkgray&quot;)
     DefStone(&quot;st-rock3&quot;)
     DefStone(&quot;st-rock3_cracked&quot;)
-    DefStone(&quot;st-rock4&quot;)
-    DefStone(&quot;st-rock5&quot;)
-    DefStone(&quot;st-rock6&quot;)
-    DefStone(&quot;st-rock7&quot;)
-    DefStone(&quot;st-rock8&quot;, &quot;sh-round&quot;)
-    DefStone(&quot;st-rock9&quot;, &quot;sh-round&quot;)
-    DefStone(&quot;st-rock10&quot;)
+    DefStone(&quot;st_purplemarble&quot;)
+    DefStone(&quot;st_tigris&quot;)
+    DefStone(&quot;st_purplegray&quot;)
+    DefStone(&quot;st_greengray&quot;)
+    DefStone(&quot;st_concrete&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_ancient&quot;, &quot;sh-round&quot;)
+    DefStone(&quot;st_brownmarble&quot;)
     DefStone(&quot;st-rubberband&quot;)
-    DefStone(&quot;st-stone1&quot;)
-    DefStone(&quot;st-stone2&quot;)
+    DefStone(&quot;st_brownpyramide&quot;)
+    DefStone(&quot;st_redmarble&quot;)
     DefStone(&quot;st-surprise&quot;)
     DefStone(&quot;st-white1&quot;)
     DefStone(&quot;st-white2&quot;)
     DefStone(&quot;st-white3&quot;)
     DefStone(&quot;st-white4&quot;, &quot;sh-white4&quot;)
     DefStone(&quot;st-whiteballs&quot;)
-    DefStone(&quot;st-woven&quot;)
-    DefStone(&quot;st-yellow&quot;)
+    DefStone(&quot;st_woven&quot;)
+    DefStone(&quot;st_yellow&quot;)
     DefStone(&quot;st-yinyang1&quot;)
     DefStone(&quot;st-yinyang2&quot;)
 end
@@ -1631,7 +1631,7 @@
 do
     -- Base images
 
-    local stonebase = &quot;st-bluegray&quot;
+    local stonebase = &quot;st_bluegray&quot;
     local floorbase = &quot;fl_bluegray&quot;
     local thiefovl = DefSubimages(&quot;thief-template&quot;, {h = 7})
     local capturedovl = DefSubimages(&quot;thief-captured-template&quot;, {h = 12})
@@ -1746,10 +1746,7 @@
 -- Simple stone aliases --
 --------------------------
 do
-    DefAlias(&quot;st-bluegray_hole&quot;, &quot;st-bluegray&quot;)
     DefAlias(&quot;st-breaking&quot;, &quot;st-rock3_break-anim&quot;)
-    DefAlias(&quot;st-camouflage_move&quot;, &quot;st-camouflage&quot;)
-    DefAlias(&quot;st-camouflage_hole&quot;, &quot;st-camouflage&quot;)
     DefAlias(&quot;st-explosion&quot;, &quot;expl&quot;)
     DefAlias(&quot;st-firebreak_move&quot;, &quot;st-firebreak&quot;)
     DefAlias(&quot;st-glass_move&quot;, &quot;st-glass&quot;);
@@ -1761,9 +1758,6 @@
     DefAlias(&quot;st-greenbrown_move&quot;, &quot;st-greenbrown&quot;)
     DefAlias(&quot;st-laserbreak&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-laserbreak-anim&quot;, &quot;st-rock3_break-anim&quot;)
-    DefAlias(&quot;st-marble_hole&quot;, &quot;st-marble&quot;)
-    DefAlias(&quot;st-marble_move&quot;, &quot;st-marble&quot;)
-    DefAlias(&quot;st-metal_hole&quot;, &quot;st-metal&quot;)
     DefAlias(&quot;st-plain&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-plain_break&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-plain_breaking&quot;, &quot;st-rock3_break-anim&quot;)
@@ -1771,9 +1765,6 @@
     DefAlias(&quot;st-plain_falling&quot;, &quot;st-rock3-falling&quot;)
     DefAlias(&quot;st-plain_hole&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-plain_move&quot;, &quot;st-rock3&quot;)
-    DefAlias(&quot;st-rock1_hole&quot;, &quot;st-rock1&quot;)
-    DefAlias(&quot;st-rock1_move&quot;, &quot;st-rock1&quot;)
-    DefAlias(&quot;st-rock2_hole&quot;, &quot;st-rock2&quot;)
     DefAlias(&quot;st-rock3_hole&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-rock3_move&quot;, &quot;st-rock3&quot;)
     DefAlias(&quot;st-rock3_break&quot;, &quot;st-rock3&quot;)
@@ -1785,7 +1776,7 @@
     DefAlias(&quot;st-actorimpulse_invisible&quot;, &quot;invisible&quot;)
     DefAlias(&quot;st-break_invisible&quot;, &quot;invisible&quot;)
     DefAlias(&quot;st-death_invisible&quot;, &quot;invisible&quot;)
-    DefAlias(&quot;st-invisible&quot;, &quot;invisible&quot;)
+    DefAlias(&quot;st_invisible&quot;, &quot;invisible&quot;)
     DefAlias(&quot;st-invisible_magic&quot;, &quot;invisible&quot;)
     DefAlias(&quot;st-stonebrush&quot;, &quot;invisible&quot;)
 end

Modified: trunk/data/schemas/objects.xml
===================================================================
--- trunk/data/schemas/objects.xml	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/schemas/objects.xml	2009-01-15 22:42:00 UTC (rev 1456)
@@ -694,6 +694,7 @@
     &lt;object name=&quot;st_actorimpulse_invisible&quot;&gt;
       &lt;attr name=&quot;invisible&quot; value=&quot;true&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_ancient&quot;/&gt;
     &lt;object name=&quot;st_blocker&quot;&gt;
       &lt;attr name=&quot;autoclose&quot;/&gt;
       &lt;msg name=&quot;close&quot;/&gt;
@@ -704,6 +705,12 @@
     &lt;/object&gt;
     &lt;object name=&quot;st_blocker_new&quot; init=&quot;true&quot;&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_bluegray&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_bluegray_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_bluesand&quot; super=&quot;st_clusterstone&quot;/&gt;
     &lt;object name=&quot;st_bluesand_w&quot;&gt;
       &lt;attr name=&quot;connections&quot; value=&quot;w&quot;/&gt;
@@ -835,6 +842,18 @@
     &lt;object name=&quot;st_brick_nesw&quot;&gt;
       &lt;attr name=&quot;connections&quot; value=&quot;nesw&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_brownie&quot;/&gt;
+    &lt;object name=&quot;st_brownmarble&quot;/&gt;
+    &lt;object name=&quot;st_brownpyramide&quot;/&gt;
+    &lt;object name=&quot;st_camouflage&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_camouflage_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_camouflage_movable&quot;&gt;
+      &lt;attr name=&quot;movable&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_charge&quot;&gt;
       &lt;attr name=&quot;charge&quot;/&gt;
       &lt;attr name=&quot;$chargesign&quot;/&gt;
@@ -872,6 +891,13 @@
     &lt;object name=&quot;st_coinslot_instant&quot;&gt;
       &lt;attr name=&quot;instant&quot; value=&quot;true&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_concrete&quot;/&gt;
+    &lt;object name=&quot;st_darkgray&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_darkgray_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_death&quot;&gt;
       &lt;attr name=&quot;invisible&quot;/&gt;
       &lt;msg name=&quot;_model_reanimated&quot;/&gt;
@@ -884,13 +910,13 @@
       &lt;msg name=&quot;darken&quot;/&gt;
       &lt;msg name=&quot;signal&quot;/&gt;
     &lt;/object&gt;
-    &lt;object name=&quot;st_death_light&quot;&gt;
+    &lt;object name=&quot;st_disco_light&quot;&gt;
       &lt;attr name=&quot;state&quot; value=&quot;0&quot;/&gt;
     &lt;/object&gt;
-    &lt;object name=&quot;st_death_medium&quot;&gt;
+    &lt;object name=&quot;st_disco_medium&quot;&gt;
       &lt;attr name=&quot;state&quot; value=&quot;1&quot;/&gt;
     &lt;/object&gt;
-    &lt;object name=&quot;st_death_dark&quot;&gt;
+    &lt;object name=&quot;st_disco_dark&quot;&gt;
       &lt;attr name=&quot;state&quot; value=&quot;2&quot;/&gt;
     &lt;/object&gt;
     &lt;object name=&quot;st_door&quot;&gt;
@@ -951,6 +977,25 @@
       &lt;msg name=&quot;signal&quot;/&gt;
       &lt;msg name=&quot;_trigger&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_granite&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_granite_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_granite_movable&quot;&gt;
+      &lt;attr name=&quot;movable&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_greengray&quot;/&gt;
+    &lt;object name=&quot;st_invisible&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_invisible_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_invisible_movable&quot;&gt;
+      &lt;attr name=&quot;movable&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_key&quot;&gt;
       &lt;attr name=&quot;code&quot;/&gt;
       &lt;msg name=&quot;on&quot;/&gt;
@@ -1025,6 +1070,12 @@
       &lt;msg name=&quot;_init&quot;/&gt;
       &lt;msg name=&quot;_model_reanimated&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_metal&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_metal_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_mirror&quot;&gt;
       &lt;attr name=&quot;counterclock&quot;/&gt;
       &lt;attr name=&quot;flavor&quot; default=&quot;slab&quot;/&gt;
@@ -1149,6 +1200,7 @@
     &lt;object name=&quot;st_passage_white&quot;&gt;
       &lt;attr name=&quot;color&quot; value=&quot;1&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_pinkbumps&quot;/&gt;
     &lt;object name=&quot;st_polarswitch&quot;&gt;
       &lt;msg name=&quot;on&quot;/&gt;
       &lt;msg name=&quot;off&quot;/&gt;
@@ -1159,6 +1211,8 @@
       &lt;msg name=&quot;_freeze&quot;/&gt;
       &lt;msg name=&quot;_revive&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_purplemarble&quot;/&gt;
+    &lt;object name=&quot;st_purplegray&quot;/&gt;
     &lt;object name=&quot;st_puzzle&quot;&gt;
       &lt;attr name=&quot;algorithm&quot;/&gt;
       &lt;attr name=&quot;connections&quot;/&gt;
@@ -1184,10 +1238,21 @@
       &lt;msg name=&quot;_explosion&quot;/&gt;
       &lt;msg name=&quot;_trigger&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_redmarble&quot;/&gt;
+    &lt;object name=&quot;st_redrock&quot;/&gt;
     &lt;object name=&quot;st_rotator&quot;&gt;
       &lt;attr name=&quot;counterclock&quot;/&gt;
       &lt;attr name=&quot;movable&quot; rw=&quot;rw&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_redbrown&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; rw=&quot;r&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_redbrown_hollow&quot;&gt;
+      &lt;attr name=&quot;hollow&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
+    &lt;object name=&quot;st_redbrown_movable&quot;&gt;
+      &lt;attr name=&quot;movable&quot; value=&quot;true&quot;/&gt;
+    &lt;/object&gt;
     &lt;object name=&quot;st_rotator_cw&quot;&gt;
       &lt;attr name=&quot;state&quot; value=&quot;0&quot;/&gt;
     &lt;/object&gt;
@@ -1271,6 +1336,7 @@
     &lt;object name=&quot;st_switch_white&quot;&gt;
       &lt;attr name=&quot;color&quot; value=&quot;1&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_tigris&quot;/&gt;
     &lt;object name=&quot;st_timer&quot;&gt;
       &lt;attr name=&quot;invisible&quot;/&gt;
       &lt;attr name=&quot;interval&quot;/&gt;
@@ -1370,5 +1436,7 @@
     &lt;object name=&quot;st_window_nesw&quot;&gt;
       &lt;attr name=&quot;faces&quot; value=&quot;nesw&quot;/&gt;
     &lt;/object&gt;
+    &lt;object name=&quot;st_woven&quot;/&gt;
+    &lt;object name=&quot;st_yellow&quot;/&gt;
   &lt;/zoo&gt;
 &lt;/objects&gt;

Modified: trunk/data/startup.lua
===================================================================
--- trunk/data/startup.lua	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/data/startup.lua	2009-01-15 22:42:00 UTC (rev 1456)
@@ -113,43 +113,13 @@
 end
 
 def_stone(&quot;st-beads&quot;)
-def_stone(&quot;st-bluegray&quot;)
-def_stone_hollow(&quot;st-bluegray_hole&quot;)
-def_stone_movable(&quot;st-brownie&quot;, &quot;cloth&quot;)
-def_stone(&quot;st-bumps&quot;)
-def_stone(&quot;st-camouflage&quot;, &quot;cloth&quot;)
-def_stone_movable(&quot;st-camouflage_move&quot;, &quot;cloth&quot;)
-def_stone_hollow(&quot;st-camouflage_hole&quot;)
 def_stone(&quot;st-greenbrown&quot;)
 def_stone_movable(&quot;st-greenbrown_move&quot;, &quot;cloth&quot;)
 def_stone_hollow(&quot;st-greenbrown_hole&quot;)
-def_stone(&quot;st-invisible&quot;)
-def_stone(&quot;st-marble&quot;)
-def_stone_movable(&quot;st-marble_move&quot;)
-def_stone_hollow(&quot;st-marble_hole&quot;)
-def_stone(&quot;st-metal&quot;)
-def_stone_hollow(&quot;st-metal_hole&quot;)
 def_stone(&quot;st-panel&quot;)
-def_stone(&quot;st-redrock&quot;)
-def_stone(&quot;st-rock1&quot;)
-def_stone_movable(&quot;st-rock1_move&quot;)
-def_stone_hollow(&quot;st-rock1_hole&quot;)
-def_stone(&quot;st-rock2&quot;)
-def_stone_hollow(&quot;st-rock2_hole&quot;)
 def_stone(&quot;st-rock3&quot;)
 def_stone_movable(&quot;st-rock3_move&quot;)
 def_stone_hollow(&quot;st-rock3_hole&quot;)
-def_stone(&quot;st-rock4&quot;)
-def_stone(&quot;st-rock5&quot;)
-def_stone(&quot;st-rock6&quot;)
-def_stone(&quot;st-rock7&quot;)
-def_stone(&quot;st-rock8&quot;)
-def_stone(&quot;st-rock9&quot;)
-def_stone(&quot;st-rock10&quot;)
-def_stone(&quot;st-stone1&quot;)
-def_stone(&quot;st-stone2&quot;)
-def_stone(&quot;st-woven&quot;)
-def_stone(&quot;st-yellow&quot;)
 
 def_stone_glass(&quot;st-glass&quot;)
 def_stone_movable_glass(&quot;st-glass_move&quot;)

Modified: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/Makefile.am	2009-01-15 22:42:00 UTC (rev 1456)
@@ -330,6 +330,8 @@
 	stones/ShogunStone.hh	\
 	stones/SimpleStones.cc	\
 	stones/SimpleStones.hh	\
+	stones/StandardStones.cc	\
+	stones/StandardStones.hh	\
 	stones/StoneImpulse.cc	\
 	stones/StoneImpulse.hh	\
 	stones/SwapStone.cc	\

Modified: trunk/src/ox_extra.cc
===================================================================
--- trunk/src/ox_extra.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_extra.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -135,21 +135,21 @@
     0, 0, 0, 0, 0, 0, 0, 0,     // oxyd stones
     &quot;st_fake_quake&quot;,     // OxydExtra stone 0x11
     &quot;st-plain&quot;,          // OxydExtra stone 0x12
-    &quot;st-rock4&quot;,          // OxydExtra stone 0x13
+    &quot;st_purplemarble&quot;,   // OxydExtra stone 0x13
     UNUSED,              // OxydExtra stone 0x14
-    &quot;st-rock5&quot;,          // OxydExtra stone 0x15
+    &quot;st_tigris&quot;,         // OxydExtra stone 0x15
     &quot;st-rock7&quot;,          // OxydExtra stone 0x16
     UNUSED,              // OxydExtra stone 0x17
     &quot;st-grate1&quot;,         // OxydExtra stone 0x18
     UNUSED,              // OxydExtra stone 0x19
     UNUSED,              // OxydExtra stone 0x1a
     UNUSED,              // OxydExtra stone 0x1b
-    &quot;st-marble&quot;,         // OxydExtra stone 0x1c
+    &quot;st_redbrown&quot;,       // OxydExtra stone 0x1c
     UNUSED,              // OxydExtra stone 0x1d
     UNUSED,              // OxydExtra stone 0x1e
-    &quot;st-rock5&quot;,          // OxydExtra stone 0x1f
-    &quot;st-stone2&quot;,         // OxydExtra stone 0x20
-    &quot;st-rock7&quot;,          // OxydExtra stone 0x21
+    &quot;st_tigris&quot;,         // OxydExtra stone 0x1f
+    &quot;st_redmarble&quot;,      // OxydExtra stone 0x20
+    &quot;st_greengray&quot;,      // OxydExtra stone 0x21
     &quot;st-glass1&quot;,         // OxydExtra stone 0x22
     UNUSED,              // OxydExtra stone 0x23
     &quot;st-plain_break&quot;,    // OxydExtra stone 0x24
@@ -234,7 +234,7 @@
     &quot;st_door_d&quot;,         // OxydExtra stone 0x73
     &quot;st_door_d_ew&quot;,      // OxydExtra stone 0x74
     UNUSED,              // OxydExtra stone 0x75
-    &quot;st-invisible&quot;,      // OxydExtra stone 0x76
+    &quot;st_invisible&quot;,      // OxydExtra stone 0x76
     UNUSED,              // OxydExtra stone 0x77
     UNUSED,              // OxydExtra stone 0x78
     UNUSED,              // OxydExtra stone 0x79
@@ -255,7 +255,7 @@
     UNUSED,              // OxydExtra stone 0x88
     UNUSED,              // OxydExtra stone 0x89
     &quot;st_bluesand&quot;,       // OxydExtra stone 0x8a
-    &quot;st-bluegray&quot;,       // OxydExtra stone 0x8b
+    &quot;st_bluegray&quot;,       // OxydExtra stone 0x8b
     UNUSED,              // OxydExtra stone 0x8c
     UNUSED,              // OxydExtra stone 0x8d
     UNUSED,              // OxydExtra stone 0x8e

Modified: trunk/src/ox_magnum.cc
===================================================================
--- trunk/src/ox_magnum.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_magnum.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -148,11 +148,11 @@
     UNUSED,                     // OxydMagnum stone 0x1d
     UNUSED,                     // OxydMagnum stone 0x1e
     &quot;st_brick&quot;,                 // OxydMagnum stone 0x1f
-    &quot;st-rock1&quot;,                 // OxydMagnum stone 0x20
-    &quot;st-rock1&quot;,                 // OxydMagnum stone 0x21 (Level 121 ?)(Oxyd Magnum Gold)
-    &quot;st-rock1&quot;,                 // OxydMagnum stone 0x22 (common was 'st-glass')(Level 73 only)(looks like st-rock1)(looks like 0x20, but not like 0x87)
-    &quot;st-woven&quot;,                 // OxydMagnum stone 0x23
-    &quot;st-marble&quot;,                // OxydMagnum stone 0x24
+    &quot;st_granite&quot;,               // OxydMagnum stone 0x20
+    &quot;st_granite&quot;,               // OxydMagnum stone 0x21 (Level 121 ?)(Oxyd Magnum Gold)
+    &quot;st_granite&quot;,               // OxydMagnum stone 0x22 (common was 'st-glass')(Level 73 only)(looks like st-rock1)(looks like 0x20, but not like 0x87)
+    &quot;st_woven&quot;,                 // OxydMagnum stone 0x23
+    &quot;st_redbrown&quot;,              // OxydMagnum stone 0x24
     &quot;st-glass1&quot;,                // OxydMagnum stone 0x25
     &quot;st-glass3&quot;,                // OxydMagnum stone 0x26
     &quot;st-glass1&quot;,                // OxydMagnum stone 0x27
@@ -214,7 +214,7 @@
     &quot;st_puzzle_yellow_w&quot;,       // Oxyd1 stone 0x5f
     &quot;st_puzzle_yellow_e&quot;,       // Oxyd1 stone 0x60
     &quot;st_puzzle_yellow_nesw&quot;,    // Oxyd1 stone 0x61
-    &quot;st-metal_hole&quot;,            // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
+    &quot;st_metal_hollow&quot;,          // OxydMagnum stone 0x62  (st-explosive: like st-metal, but explodes when touched ...)
     &quot;st-plain_break&quot;,           // OxydMagnum stone 0x63
     &quot;st-fakeoxyda&quot;,             // OxydMagnum stone 0x64
     UNUSED,                     // OxydMagnum stone 0x65
@@ -233,8 +233,8 @@
     &quot;st_mail_s&quot;,                // OxydMagnum stone 0x72
     &quot;st_door_d&quot;,                // OxydMagnum stone 0x73
     &quot;st_door_d_ew&quot;,             // OxydMagnum stone 0x74
-    &quot;st-metal&quot;,                 // OxydMagnum stone 0x75
-    &quot;st-invisible&quot;,             // OxydMagnum stone 0x76
+    &quot;st_metal&quot;,                 // OxydMagnum stone 0x75
+    &quot;st_invisible&quot;,             // OxydMagnum stone 0x76
     UNUSED,                     // OxydMagnum stone 0x77
     &quot;st_door_d_ew_open&quot;,        // OxydMagnum stone 0x78 (st-door-h-open was wrong, look at level #32)
     UNUSED,                     // OxydMagnum stone 0x79
@@ -251,16 +251,16 @@
     UNUSED,                     // OxydMagnum stone 0x84
     UNUSED,                     // OxydMagnum stone 0x85
     &quot;st-rock3_hole&quot;,            // OxydMagnum stone 0x86
-    &quot;st-rock4&quot;,                 // OxydMagnum stone 0x87 (was st-rock1, but the pic has straight edges and surfaces)
+    &quot;st_purplemarble&quot;,          // OxydMagnum stone 0x87 (was st-rock1, but the pic has straight edges and surfaces)
     0,                          // OxydMagnum stone 0x88 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)
     0,                          // OxydMagnum stone 0x89 (Level 121 ?)(in normal Oxyd Magnum Levels unused!)
-    &quot;st-stone1&quot;,                // OxydMagnum stone 0x8a
-    &quot;st-rock6&quot;,                 // OxydMagnum stone 0x8b
+    &quot;st_brownpyramide&quot;,         // OxydMagnum stone 0x8a
+    &quot;st_purplegray&quot;,            // OxydMagnum stone 0x8b
     &quot;st_passage_white_square&quot;,  // OxydMagnum stone 0x8c
     &quot;st_passage_black_square&quot;,  // OxydMagnum stone 0x8d
     &quot;st-yinyang2&quot;,              // OxydMagnum stone 0x8e
     UNUSED,                     // OxydMagnum stone 0x8f
-    &quot;st-redrock&quot;,               // OxydMagnum stone 0x90 (Level 89 only)
+    &quot;st_redrock&quot;,               // OxydMagnum stone 0x90 (Level 89 only)
     UNUSED,                     // OxydMagnum stone 0x91
     &quot;st_fourswitch&quot;,            // OxydMagnum stone 0x92 (Level 51 only)
     &quot;st-yinyang1&quot;,              // OxydMagnum stone 0x93

Modified: trunk/src/ox_oxyd1.cc
===================================================================
--- trunk/src/ox_oxyd1.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_oxyd1.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -180,11 +180,11 @@
     &quot;st-surprise&quot;,              // Oxyd1 stone 0x1d
     &quot;st-chameleon&quot;,             // Oxyd1 stone 0x1e
     &quot;st_brick&quot;,                 // Oxyd1 stone 0x1f
-    &quot;st-rock1&quot;,                 // Oxyd1 stone 0x20
-    &quot;st-rock1&quot;,                 // Oxyd1 stone 0x21
+    &quot;st_granite&quot;,               // Oxyd1 stone 0x20
+    &quot;st_granite&quot;,               // Oxyd1 stone 0x21
     UNUSED,                     // Oxyd1 stone 0x22
-    &quot;st-woven&quot;,                 // Oxyd1 stone 0x23
-    &quot;st-marble&quot;,                // Oxyd1 stone 0x24
+    &quot;st_woven&quot;,                 // Oxyd1 stone 0x23
+    &quot;st_redbrown&quot;,              // Oxyd1 stone 0x24
     &quot;st-glass1&quot;,                // Oxyd1 stone 0x25
     &quot;st-glass3&quot;,                // Oxyd1 stone 0x26
     &quot;st-glass2&quot;,                // Oxyd1 stone 0x27
@@ -246,7 +246,7 @@
     &quot;st_puzzle_yellow_w&quot;,       // Oxyd1 stone 0x5f
     &quot;st_puzzle_yellow_e&quot;,       // Oxyd1 stone 0x60
     &quot;st_puzzle_yellow_nesw&quot;,    // Oxyd1 stone 0x61
-    &quot;st-metal_hole&quot;,            // Oxyd1 stone 0x62
+    &quot;st_metal_hollow&quot;,          // Oxyd1 stone 0x62
     &quot;st-laserbreak&quot;,            // Oxyd1 stone 0x63
     &quot;st-fakeoxyda&quot;,             // Oxyd1 stone 0x64
     UNUSED,                     // Oxyd1 stone 0x65
@@ -265,8 +265,8 @@
     &quot;st_mail_s&quot;,                // Oxyd1 stone 0x72
     &quot;st_door_d&quot;,                // Oxyd1 stone 0x73
     &quot;st_door_d_ew&quot;,             // Oxyd1 stone 0x74
-    &quot;st-metal&quot;,                 // Oxyd1 stone 0x75
-    &quot;st-invisible&quot;,             // Oxyd1 stone 0x76
+    &quot;st_metal&quot;,                 // Oxyd1 stone 0x75
+    &quot;st_invisible&quot;,             // Oxyd1 stone 0x76
     &quot;st_door_d_open&quot;,           // Oxyd1 stone 0x77
     &quot;st_door_d_ew_open&quot;,        // Oxyd1 stone 0x78
     UNUSED,                     // Oxyd1 stone 0x79
@@ -282,11 +282,11 @@
     UNUSED,                     // Oxyd1 stone 0x83
     UNUSED,                     // Oxyd1 stone 0x84
     UNUSED,                     // Oxyd1 stone 0x85
-    &quot;st-metal_hole&quot;,            // Oxyd1 stone 0x86
-    &quot;st-rock2&quot;,                 // Oxyd1 stone 0x87
+    &quot;st_metal_hollow&quot;,          // Oxyd1 stone 0x86
+    &quot;st_darkgray&quot;,              // Oxyd1 stone 0x87
     UNUSED,                     // Oxyd1 stone 0x88
     UNUSED,                     // Oxyd1 stone 0x89
-    &quot;st-stone1&quot;,                // Oxyd1 stone 0x8a
+    &quot;st_brownpyramide&quot;,         // Oxyd1 stone 0x8a
     &quot;st_bluesand&quot;,              // Oxyd1 stone 0x8b
     &quot;st_passage_white_square&quot;,  // Oxyd1 stone 0x8c
     &quot;st_passage_black_square&quot;,  // Oxyd1 stone 0x8d

Modified: trunk/src/ox_peroxyd.cc
===================================================================
--- trunk/src/ox_peroxyd.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/ox_peroxyd.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -207,25 +207,25 @@
     0,0,0,0,0,0,0,0,            // PerOxyd stone 0x08 - 0x10   oxyd stones
     &quot;st_fake_oxydc&quot;,             // PerOxyd stone 0x11
     &quot;st-plain_break&quot;,           // PerOxyd stone 0x12   no, should be destructible with hammer
-    &quot;st-rock4&quot;,                 // PerOxyd stone 0x13
+    &quot;st_purplemarble&quot;,          // PerOxyd stone 0x13
     &quot;st-beads&quot;,                 // PerOxyd stone 0x14
-    &quot;st-rock5&quot;,                 // PerOxyd stone 0x15
-    &quot;st-rock7&quot;,                 // PerOxyd stone 0x16
+    &quot;st_tigris&quot;,                // PerOxyd stone 0x15
+    &quot;st_greengray&quot;,             // PerOxyd stone 0x16
     &quot;st-white1&quot;,                // PerOxyd stone 0x17 (Looks a little bit different, but function should be the same.)
     &quot;st-grate1&quot;,                // PerOxyd stone 0x18
     UNUSED,                     // PerOxyd stone 0x19
     &quot;st-surprise&quot;,              // PerOxyd stone 0x1a
     &quot;st-chameleon&quot;,             // PerOxyd stone 0x1b (levels: 23 142 178 183)
     &quot;st-brick_magic&quot;,           // PerOxyd stone 0x1c
-    &quot;st-camouflage&quot;,            // PerOxyd stone 0x1d (green camouflage piece)(if st-camouflage is implemented, put it in here)
-    &quot;st-camouflage&quot;,            // PerOxyd stone 0x1e (green camouflage piece)
+    &quot;st_camouflage&quot;,            // PerOxyd stone 0x1d (green camouflage piece)(if st-camouflage is implemented, put it in here)
+    &quot;st_camouflage&quot;,            // PerOxyd stone 0x1e (green camouflage piece)
     UNUSED,                     // PerOxyd stone 0x1f
-    &quot;st-stone2&quot;,                // PerOxyd stone 0x20
+    &quot;st_redmarble&quot;,             // PerOxyd stone 0x20
     &quot;st-greenbrown&quot;,            // PerOxyd stone 0x21
     &quot;st-glass&quot;,                 // PerOxyd stone 0x22 (semi opaque piece, not really glass)
     &quot;st-glass&quot;,                 // PerOxyd stone 0x23 (must be st-glass, see link level 92)
     &quot;st-plain_break&quot;,           // PerOxyd stone 0x24
-    &quot;st-bluegray_hole&quot;,         // PerOxyd stone 0x25
+    &quot;st_bluegray_hollow&quot;,       // PerOxyd stone 0x25
     &quot;st-plain_move&quot;,            // PerOxyd stone 0x26
     &quot;st_box_wood&quot;,              // PerOxyd stone 0x27
     &quot;st_switch_instant&quot;,        // PerOxyd stone 0x28
@@ -305,13 +305,13 @@
     &quot;st_mail_s&quot;,                // PerOxyd stone 0x72
     &quot;st_door_d&quot;,                // PerOxyd stone 0x73
     &quot;st_door_d_ew&quot;,             // PerOxyd stone 0x74
-    &quot;st-metal&quot;,                 // PerOxyd stone 0x75
+    &quot;st_metal&quot;,                 // PerOxyd stone 0x75
     &quot;st-stonebrush&quot;,            // PerOxyd stone 0x76
     &quot;st_door_d_open&quot;,           // PerOxyd stone 0x77
     &quot;st_door_d_ew_open&quot;,        // PerOxyd stone 0x78
     &quot;st_passage_white_square&quot;,  // PerOxyd stone 0x79 (Can be either st-white1 or st-white4)
     &quot;st_passage_black_square&quot;,  // PerOxyd stone 0x7a (Can be either st-black1 or st-black4)
-    &quot;st-metal_hole&quot;,            // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
+    &quot;st_metal_hollow&quot;,          // PerOxyd stone 0x7b (because it looks similar ...; only link level 79)
     0,                          // PerOxyd stone 0x7c (probably complex stone, behavior unknown)(only levels: 23 142, these levels are identical!)
     &quot;st-yinyang3&quot;,              // PerOxyd stone 0x7d
     &quot;st-break_acwhite&quot;,         // PerOxyd stone 0x7e
@@ -323,16 +323,16 @@
     &quot;st_boulder_s&quot;,             // PerOxyd stone 0x84
     &quot;st_boulder_w&quot;,             // PerOxyd stone 0x85
     &quot;st_boulder_e&quot;,             // PerOxyd stone 0x86
-    &quot;st-rock5&quot;,                 // PerOxyd stone 0x87
+    &quot;st_tigris&quot;,                // PerOxyd stone 0x87
     UNUSED,                     // PerOxyd stone 0x88
     UNUSED,                     // PerOxyd stone 0x89
-    &quot;st-rock6&quot;,                 // PerOxyd stone 0x8a
+    &quot;st_purplegray&quot;,            // PerOxyd stone 0x8a
     &quot;st_bluesand&quot;,              // PerOxyd stone 0x8b
-    &quot;st-rock1&quot;,                 // PerOxyd stone 0x8c
-    &quot;st-rock2&quot;,                 // PerOxyd stone 0x8d (simple border stone, not exactly st-rock2 ...; only link level 92)
-    &quot;st-rock2&quot;,                 // PerOxyd stone 0x8e
+    &quot;st_granite&quot;,               // PerOxyd stone 0x8c
+    &quot;st_darkgray&quot;,              // PerOxyd stone 0x8d (simple border stone, not exactly st-rock2 ...; only link level 92)
+    &quot;st_darkgray&quot;,              // PerOxyd stone 0x8e
     UNUSED,                     // PerOxyd stone 0x8f
-    &quot;st-rock8&quot;,                 // PerOxyd stone 0x90
+    &quot;st_concrete&quot;,              // PerOxyd stone 0x90
     &quot;st_rotator_ccw_movable&quot;,   // PerOxyd stone 0x91
     &quot;st_rotator_cw_movable&quot;,    // PerOxyd stone 0x92
     &quot;st_swap&quot;,                  // PerOxyd stone 0x93
@@ -343,8 +343,8 @@
     &quot;st-grate3&quot;,                // PerOxyd stone 0x98
     &quot;st_blocker&quot;,               // PerOxyd stone 0x99
     &quot;st-grate1&quot;,                // PerOxyd stone 0x9a
-    &quot;st-metal_hole&quot;,            // PerOxyd stone 0x9b
-    &quot;st-stone1&quot;,                // PerOxyd stone 0x9c
+    &quot;st_metal_hollow&quot;,          // PerOxyd stone 0x9b
+    &quot;st_brownpyramide&quot;,         // PerOxyd stone 0x9c
     &quot;st_quake&quot;,                 // PerOxyd stone 0x9d
     &quot;st_turnstile_red&quot;,         // PerOxyd stone 0x9e
     &quot;st_turnstilearm_n&quot;,        // PerOxyd stone 0x9f

Modified: trunk/src/stones/QuakeStone.hh
===================================================================
--- trunk/src/stones/QuakeStone.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/QuakeStone.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -17,8 +17,8 @@
  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
  *
  */
-#ifndef FARTSTONE_HH
-#define FARTSTONE_HH
+#ifndef QUAKESTONE_HH
+#define QUAKESTONE_HH
 
 #include &quot;stones.hh&quot;
 

Added: trunk/src/stones/StandardStones.cc
===================================================================
--- trunk/src/stones/StandardStones.cc	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/StandardStones.cc	2009-01-15 22:42:00 UTC (rev 1456)
@@ -0,0 +1,158 @@
+/*
+ * Copyright (C) 2002,2003,2004 Daniel Heck
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *  
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+
+#include &quot;stones/StandardStones.hh&quot;
+#include &quot;items/GlassesItem.hh&quot;
+//#include &quot;world.hh&quot;
+//#include &quot;main.hh&quot;
+
+namespace enigma {
+    StandardStone::StandardStone(int type, bool hollow, bool movable, bool cloth) {
+        state = type;
+        if (hollow)
+            objFlags |= OBJBIT_HOLLOW;
+        if (movable)
+            objFlags |= OBJBIT_MOVABLE;
+        if (cloth)
+            objFlags |= OBJBIT_CLOTH;
+    }
+    
+    std::string StandardStone::getClass() const {
+        return get_traits().name;
+    }
+    
+    Value StandardStone::getAttr(const std::string &amp;key) const {
+        if (key == &quot;movable&quot;) {
+            return (bool)(objFlags &amp; OBJBIT_MOVABLE);
+        } else if (key == &quot;hollow&quot;) {
+            return (bool)(objFlags &amp; OBJBIT_HOLLOW);
+        }
+        return Stone::getAttr(key);
+    }
+    
+    Value StandardStone::message(const Message &amp;m) {
+        if ((objFlags &amp; OBJBIT_HOLLOW) &amp;&amp; m.message == &quot;_glasses&quot;) {
+            if ((to_int(m.value) &amp; Glasses::HOLLOW) &amp;&amp; !(objFlags &amp; OBJBIT_GLASSES)) {  // hollow
+                objFlags |= OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            } else if (objFlags &amp; OBJBIT_GLASSES) {
+                objFlags &amp;= ~OBJBIT_GLASSES;
+                if (isDisplayable())
+                    init_model();
+            }
+            return Value();
+        }
+        return Stone::message(m);
+    }
+   
+    void StandardStone::setState(int extState) {
+        // block all state writes
+    }
+    
+    void StandardStone::init_model() {
+        if (objFlags &amp; OBJBIT_GLASSES)
+            set_model(&quot;invisible&quot;);
+        else
+            set_model(getClass());
+    }
+    
+    bool StandardStone::is_floating() const {
+        return objFlags &amp; OBJBIT_HOLLOW;
+    }
+
+    StoneResponse StandardStone::collision_response(const StoneContact &amp;sc) {
+        if (objFlags &amp; OBJBIT_HOLLOW)
+            return STONE_PASS;
+        return Stone::collision_response(sc);
+    }
+
+    const char *StandardStone::collision_sound() {
+        return (objFlags &amp; OBJBIT_CLOTH) ? &quot;stone&quot; : &quot;cloth&quot;;
+    }
+    
+    int StandardStone::traitsIdx() const {
+        return state;
+    }
+        
+    StoneTraits StandardStone::traits[25] = {
+        {&quot;st_granite&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_granite&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {&quot;st_darkgray&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_purplemarble&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_tigris&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_purplegray&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_greengray&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_concrete&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_ancient&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_brownmarble&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_brownpyramide&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_redmarble&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_bluegray&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_brownie&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {&quot;st_pinkbumps&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_camouflage&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_camouflage&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {&quot;st_redbrown&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_redbrown&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+        {&quot;st_metal&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_redrock&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_woven&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_yellow&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_invisible&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_PERSISTENT},
+        {&quot;st_invisible&quot;, st_standard, stf_none, material_stone, 1.0, MOVABLE_STANDARD},
+    };
+    
+    BOOT_REGISTER_START
+        BootRegister(new StandardStone(0, false, false), &quot;st_granite&quot;);
+        BootRegister(new StandardStone(0, true, false),  &quot;st_granite_hollow&quot;);
+        BootRegister(new StandardStone(1, false, true),  &quot;st_granite_movable&quot;);
+        BootRegister(new StandardStone(2, false, false), &quot;st_darkgray&quot;);
+        BootRegister(new StandardStone(2, true, false),  &quot;st_darkgray_hollow&quot;);
+        BootRegister(new StandardStone(3, false, false), &quot;st_purplemarble&quot;);
+        BootRegister(new StandardStone(4, false, false), &quot;st_tigris&quot;);
+        BootRegister(new StandardStone(5, false, false), &quot;st_purplegray&quot;);
+        BootRegister(new StandardStone(6, false, false), &quot;st_greengray&quot;);
+        BootRegister(new StandardStone(7, false, false), &quot;st_concrete&quot;);
+        BootRegister(new StandardStone(8, false, false), &quot;st_ancient&quot;);
+        BootRegister(new StandardStone(9, false, false), &quot;st_brownmarble&quot;);
+        BootRegister(new StandardStone(10, false, false), &quot;st_brownpyramide&quot;);
+        BootRegister(new StandardStone(11, false, false), &quot;st_redmarble&quot;);
+        BootRegister(new StandardStone(12, false, false), &quot;st_bluegray&quot;);
+        BootRegister(new StandardStone(12, true, false),  &quot;st_bluegray_hollow&quot;);
+        BootRegister(new StandardStone(13, false, true, true),  &quot;st_brownie&quot;);
+        BootRegister(new StandardStone(14, false, false), &quot;st_pinkbumps&quot;);
+        BootRegister(new StandardStone(15, false, false, true), &quot;st_camouflage&quot;);
+        BootRegister(new StandardStone(15, true, false),  &quot;st_camouflage_hollow&quot;);
+        BootRegister(new StandardStone(16, false, true, true),  &quot;st_camouflage_movable&quot;);
+        BootRegister(new StandardStone(17, false, false), &quot;st_redbrown&quot;);
+        BootRegister(new StandardStone(17, true, false),  &quot;st_redbrown_hollow&quot;);
+        BootRegister(new StandardStone(18, false, true),  &quot;st_redbrown_movable&quot;);
+        BootRegister(new StandardStone(19, false, false), &quot;st_metal&quot;);
+        BootRegister(new StandardStone(19, true, false),  &quot;st_metal_hollow&quot;);
+        BootRegister(new StandardStone(20, false, false), &quot;st_redrock&quot;);
+        BootRegister(new StandardStone(21, false, false), &quot;st_woven&quot;);
+        BootRegister(new StandardStone(22, false, false), &quot;st_yellow&quot;);
+        BootRegister(new StandardStone(23, false, false), &quot;st_invisible&quot;);
+        BootRegister(new StandardStone(23, true, false),  &quot;st_invisible_hollow&quot;);
+        BootRegister(new StandardStone(24, false, true),  &quot;st_invisible_movable&quot;);
+    BOOT_REGISTER_END
+
+} // namespace enigma


Property changes on: trunk/src/stones/StandardStones.cc
___________________________________________________________________
Name: svn:eol-style
   + native

Added: trunk/src/stones/StandardStones.hh
===================================================================
--- trunk/src/stones/StandardStones.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones/StandardStones.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -0,0 +1,73 @@
+/*
+ * Copyright (C) 2009 Ronald Lamprecht
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License
+ * as published by the Free Software Foundation; either version 2
+ * of the License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License along
+ * with this program; if not, write to the Free Software Foundation, Inc.,
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
+ *
+ */
+#ifndef STANDARDSTONE_HH
+#define STANDARDSTONE_HH
+
+#include &quot;stones.hh&quot;
+
+#include &quot;stones_internal.hh&quot;
+
+namespace enigma {
+
+    /** 
+     * 
+     */
+    class StandardStone : public Stone {
+        CLONEOBJ(StandardStone);
+        DECL_TRAITS_ARRAY(25, traitsIdx());
+    private:
+        enum iState {
+            GRANITE,         ///&lt; 
+            ACTIVEBREAKING  ///&lt; 
+        };
+        enum ObjectPrivatFlagsBits {
+            OBJBIT_MOVABLE  =   1&lt;&lt;24,    ///&lt;  
+            OBJBIT_HOLLOW   =   1&lt;&lt;25,    ///&lt; 
+            OBJBIT_GLASSES  =   1&lt;&lt;26,    ///&lt; invisible due to glasses
+            OBJBIT_CLOTH    =   1&lt;&lt;27     ///&lt; collision sound cloth instead of standard stone
+        };
+        
+    public:
+        StandardStone(int type, bool hollow, bool movable, bool cloth = false);
+        
+        // Object interface
+        virtual std::string getClass() const;        
+        virtual Value getAttr(const std::string &amp;key) const;
+        virtual Value message(const Message &amp;m);
+        
+        // StateObject interface
+//        virtual int maxState() const;
+//        virtual int externalState() const;
+        virtual void setState(int extState);
+
+        // GridObject interface
+        virtual void init_model();
+        
+        // Stone interface
+        virtual bool is_floating() const;
+        virtual StoneResponse collision_response(const StoneContact &amp;sc);
+        virtual const char *collision_sound();
+
+    private:
+        int traitsIdx() const;
+    };
+
+} // namespace enigma
+
+#endif


Property changes on: trunk/src/stones/StandardStones.hh
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2009-01-15 19:36:19 UTC (rev 1455)
+++ trunk/src/stones.hh	2009-01-15 22:42:00 UTC (rev 1456)
@@ -89,6 +89,7 @@
         st_rubberband,
         st_scissors,
         st_shogun,
+        st_standard,
         st_stoneimpulse,
         st_stoneimpulse_steady,
         st_stoneimpulse_hollow,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000884.html">[Enigma-game-svn] r1455 - feature_branches/hp_lotm/input/articles
</A></li>
	<LI>Next message: <A HREF="000886.html">[Enigma-game-svn] r1457 - team_levelpacks/team_test_new_api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#885">[ date ]</a>
              <a href="thread.html#885">[ thread ]</a>
              <a href="subject.html#885">[ subject ]</a>
              <a href="author.html#885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
