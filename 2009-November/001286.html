<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1857 - in trunk: data src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1857%20-%20in%20trunk%3A%20data%20src&In-Reply-To=%3C200911132349.nADNneiU014092%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001285.html">
   <LINK REL="Next"  HREF="001287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1857 - in trunk: data src</H1>
    <B>ral at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1857%20-%20in%20trunk%3A%20data%20src&In-Reply-To=%3C200911132349.nADNneiU014092%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1857 - in trunk: data src">ral at mail.berlios.de
       </A><BR>
    <I>Sat Nov 14 00:49:40 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001285.html">[Enigma-game-svn] r1856 - team_levelpacks/team_test_new_api
</A></li>
        <LI>Next message: <A HREF="001287.html">[Enigma-game-svn] r1858 - in trunk/data/levels: enigma_cross	enigma_i enigma_iv enigma_ix enigma_tutorial enigma_vi	enigma_vii enigma_viii
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1286">[ date ]</a>
              <a href="thread.html#1286">[ thread ]</a>
              <a href="subject.html#1286">[ subject ]</a>
              <a href="author.html#1286">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2009-11-14 00:49:32 +0100 (Sat, 14 Nov 2009)
New Revision: 1857

Modified:
   trunk/data/models-16.lua
   trunk/data/models-32.lua
   trunk/data/models-40.lua
   trunk/data/models-48.lua
   trunk/data/models-64.lua
   trunk/src/display.cc
   trunk/src/display.hh
   trunk/src/display_internal.hh
   trunk/src/main.cc
   trunk/src/server.cc
   trunk/src/video.cc
   trunk/src/video.hh
   trunk/src/world.cc
Log:
Trunk 1.1:
- fix 1855 compile problems
- adjust time area for 320x240 mode
- add mode indicators in time area for easy, oxyd*, collision modes


Modified: trunk/data/models-16.lua
===================================================================
--- trunk/data/models-16.lua	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/data/models-16.lua	2009-11-13 23:49:32 UTC (rev 1857)
@@ -3,6 +3,7 @@
 ShadowSize = 21
 DefineFont (&quot;timefont&quot;, &quot;vera_sans.ttf&quot;, 18, &quot;timefont&quot;, 180, 180, 180)
 DefineFont (&quot;smallalternative&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 7, &quot;menufont&quot;)
+DefineFont (&quot;modesfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 9, &quot;menufont&quot;, 70, 120, 255)
 DefineFont (&quot;menufont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 9, &quot;menufont&quot;)
 DefineFont (&quot;levelmenu&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 9, &quot;levelmenu&quot;)
 DefineFont (&quot;menufontsel&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 10, &quot;menufont&quot;, 180, 180, 180)

Modified: trunk/data/models-32.lua
===================================================================
--- trunk/data/models-32.lua	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/data/models-32.lua	2009-11-13 23:49:32 UTC (rev 1857)
@@ -3,6 +3,7 @@
 ShadowSize = 41
 DefineFont (&quot;timefont&quot;, &quot;vera_sans.ttf&quot;, 36, &quot;timefont&quot;, 180, 180, 180)
 DefineFont (&quot;smallalternative&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 14, &quot;menufont&quot;)
+DefineFont (&quot;modesfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 70, 120, 255)
 DefineFont (&quot;menufont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;)
 DefineFont (&quot;menufontsel&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 180, 180, 180)
 DefineFont (&quot;statusbarfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 18, &quot;dreamorp24&quot;)

Modified: trunk/data/models-40.lua
===================================================================
--- trunk/data/models-40.lua	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/data/models-40.lua	2009-11-13 23:49:32 UTC (rev 1857)
@@ -4,6 +4,7 @@
 
 DefineFont (&quot;timefont&quot;, &quot;vera_sans.ttf&quot;, 36, &quot;timefont&quot;, 180, 180, 180)
 DefineFont (&quot;smallalternative&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 14, &quot;menufont&quot;)
+DefineFont (&quot;modesfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 70, 120, 255)
 DefineFont (&quot;menufont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;)
 DefineFont (&quot;menufontsel&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 180, 180, 180)
 DefineFont (&quot;statusbarfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 20, &quot;dreamorp24&quot;)

Modified: trunk/data/models-48.lua
===================================================================
--- trunk/data/models-48.lua	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/data/models-48.lua	2009-11-13 23:49:32 UTC (rev 1857)
@@ -4,6 +4,7 @@
 
 DefineFont (&quot;timefont&quot;, &quot;vera_sans.ttf&quot;, 40, &quot;timefont&quot;, 180, 180, 180)
 DefineFont (&quot;smallalternative&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 14, &quot;menufont&quot;)
+DefineFont (&quot;modesfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 70, 120, 255)
 DefineFont (&quot;menufont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;)
 DefineFont (&quot;menufontsel&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 180, 180, 180)
 DefineFont (&quot;statusbarfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 24, &quot;dreamorp24&quot;)

Modified: trunk/data/models-64.lua
===================================================================
--- trunk/data/models-64.lua	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/data/models-64.lua	2009-11-13 23:49:32 UTC (rev 1857)
@@ -4,6 +4,7 @@
 
 DefineFont (&quot;timefont&quot;, &quot;vera_sans.ttf&quot;, 40, &quot;timefont&quot;, 180, 180, 180)
 DefineFont (&quot;smallalternative&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 14, &quot;menufont&quot;)
+DefineFont (&quot;modesfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 70, 120, 255)
 DefineFont (&quot;menufont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;)
 DefineFont (&quot;menufontsel&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 16, &quot;menufont&quot;, 180, 180, 180)
 DefineFont (&quot;statusbarfont&quot;, &quot;DejaVuSansCondensed.ttf&quot;, 24, &quot;dreamorp24&quot;)

Modified: trunk/src/display.cc
===================================================================
--- trunk/src/display.cc	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/display.cc	2009-11-13 23:49:32 UTC (rev 1857)
@@ -66,7 +66,6 @@
     return s;
 }
 
-
 /* -------------------- Local variables -------------------- */
 
 namespace
@@ -81,7 +80,6 @@
 
 }
 
-
 //======================================================================
 // STATUS BAR
 //======================================================================
@@ -96,7 +94,6 @@
   m_showtime_p (true),
   m_counter (0),
   m_showcounter_p(false),
-  m_showodometer_p(false),
   m_interruptible(true),
   m_text_active(false)
 {
@@ -147,20 +144,16 @@
         m_changedp      = true;
     }
 }
+void StatusBarImpl::setCMode(bool flag) {
+    cMode = flag;
+    m_changedp = true;
+}
 
-void StatusBarImpl::show_odometer (bool active) 
-{
-    if (active != m_showodometer_p) {
-        m_showodometer_p = active;
-        m_changedp = true;
-    }
+void StatusBarImpl::setBasicModes(std::string flags) {
+    basicModes = flags;
+    m_changedp = true;
 }
 
-#ifdef _MSC_VER
-#define snprintf _snprintf
-#endif
-
-
 void StatusBarImpl::redraw (ecl::GC &amp;gc, const ScreenArea &amp;r) {
     const video::VMInfo *vminfo = video::GetInfo();
     ScreenArea a = get_area();
@@ -176,18 +169,30 @@
 //     frame (gc, vminfo-&gt;sb_movesarea);
 //     frame (gc, vminfo-&gt;sb_itemarea);
 
+    int        x;
+    int        y;
+    std::string text;
+    int        xsize_time  = 0;
+    int        xsize_moves = 0;
+    int        xsize_modes = 0;
+    Surface   *s_time      = 0;
+    Surface   *s_moves     = 0;
+    Surface   *s_modes     = 0;
+    Font      *timefont    = enigma::GetFont(&quot;timefont&quot;);
+    Font      *movesfont   = enigma::GetFont(&quot;smallfont&quot;);
+    Font      *modesfont   = enigma::GetFont(&quot;modesfont&quot;);
+    ScreenArea timearea    = vminfo-&gt;sb_timearea;
+    ScreenArea modesarea   = vminfo-&gt;sb_modesarea;
+    ScreenArea movesarea   = vminfo-&gt;sb_movesarea;
+
+    // draw modes indicators
+    s_modes = modesfont-&gt;render(((cMode ? &quot;c&quot; : &quot;&quot;) + basicModes).c_str());
+    xsize_modes = s_modes-&gt;width();
+    x = modesarea.x + modesarea.w - xsize_modes;
+    y = modesarea.y;
+    blit(gc, x, y, s_modes);
+    
     if (m_showtime_p || m_showcounter_p) {
-        const int  BUFSIZE     = 8;
-        char       buf[BUFSIZE];
-        int        xsize_time  = 0;
-        int        xsize_moves = 0;
-        Surface   *s_time      = 0;
-        Surface   *s_moves     = 0;
-        Font      *timefont    = enigma::GetFont (&quot;timefont&quot;);
-        Font      *movesfont   = enigma::GetFont (&quot;smallfont&quot;);
-        ScreenArea timearea    = vminfo-&gt;sb_timearea;
-        ScreenArea movesarea   = vminfo-&gt;sb_movesarea;
-
         if (m_showtime_p) {
             double     abstime       = m_leveltime &gt;= 0 ? m_leveltime : fabs(floor(m_leveltime));
             int        minutes       = static_cast&lt;int&gt;(abstime/60);
@@ -197,24 +202,21 @@
                 minutes = 99;
                 seconds = 59;
             }
-            snprintf(buf, BUFSIZE,
-                     m_leveltime &gt;= 0 ? &quot;%d:%02d&quot; : &quot;-%d:%02d&quot;,
-                     minutes, seconds);
-            s_time = timefont-&gt;render(buf);
+            text = ecl::strf(m_leveltime &gt;= 0 ? &quot;%d:%02d&quot; : &quot;-%d:%02d&quot;, minutes, seconds);
+            s_time = timefont-&gt;render(text.c_str());
             xsize_time = s_time-&gt;width();
         }
 
         if (m_showcounter_p) {
-            int len = snprintf(buf, BUFSIZE, &quot;%d&quot;, m_counter);
-            s_moves     = movesfont-&gt;render(buf);
+            text = ecl::strf(&quot;%d&quot;, m_counter);
+            s_moves     = movesfont-&gt;render(text.c_str());
             xsize_moves = s_moves-&gt;width();
         }
 
-
         if (m_showtime_p) {
             if (m_showcounter_p) { // time + moves
-                int x = timearea.x + (movesarea.x - timearea.x - xsize_time)/2;
-                int y = timearea.y + (timearea.h - timefont-&gt;get_lineskip())/2;
+                x = timearea.x + (movesarea.x - timearea.x - xsize_time)/2;
+                y = timearea.y + (timearea.h - timefont-&gt;get_lineskip())/2;
                 blit(gc, x, y, s_time);
                 
                 x = movesarea.x + (movesarea.w - xsize_moves)/2;
@@ -222,8 +224,8 @@
                 blit(gc, x, y, s_moves);
             }
             else { // only time
-                int x = timearea.x + (timearea.w - xsize_time)/2;
-                int y = timearea.y + (timearea.h - timefont-&gt;get_lineskip())/2;
+                x = timearea.x + (timearea.w - xsize_time)/2;
+                y = timearea.y + (timearea.h - timefont-&gt;get_lineskip())/2;
                 blit(gc, x, y, s_time);
             }
         }
@@ -297,7 +299,6 @@
     m_changedp    = true;
 }
 
-
 /* -------------------- TextDisplay implementation -------------------- */
 
 TextDisplay::TextDisplay (Font &amp;f)
@@ -409,7 +410,6 @@
 
 
 
-
 //======================================================================
 // DISPLAY ENGINE
 //======================================================================

Modified: trunk/src/display.hh
===================================================================
--- trunk/src/display.hh	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/display.hh	2009-11-13 23:49:32 UTC (rev 1857)
@@ -208,7 +208,8 @@
         virtual void hide_text() = 0;
 
         virtual void show_move_counter (bool active) = 0;
-        virtual void show_odometer (bool active)     = 0;
+        virtual void setCMode(bool flag) = 0;
+        virtual void setBasicModes(std::string flags) = 0;
 
         virtual void set_time (double time) = 0;
         virtual void set_speed (double speed) = 0;
@@ -220,7 +221,6 @@
 
 #define STATUSBAR display::GetStatusBar()
 
-
 /* -------------------- Constants -------------------- */
 
     const int MIN_TextSpeed = 1;
@@ -237,8 +237,8 @@
         SHOW_ITEMS     = 0x04,
         SHOW_SHADES    = 0x08,
         SHOW_SPRITES   = 0x10,
-	SHOW_TIME      = 0x20,
-	SHOW_INVENTORY = 0x40,
+        SHOW_TIME      = 0x20,
+        SHOW_INVENTORY = 0x40,
         SHOW_ALL       = 0x7f
     };
 

Modified: trunk/src/display_internal.hh
===================================================================
--- trunk/src/display_internal.hh	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/display_internal.hh	2009-11-13 23:49:32 UTC (rev 1857)
@@ -69,7 +69,8 @@
         void hide_text();
 
         void show_move_counter (bool active);
-        void show_odometer (bool active);
+        void setCMode(bool flag);
+        void setBasicModes(std::string flags);
 
         void set_speed (double speed);
         void set_travelled_distance (double distance);
@@ -85,9 +86,10 @@
         bool   m_showtime_p;
         int    m_counter;
         bool   m_showcounter_p;
-        bool   m_showodometer_p;
         bool   m_interruptible; // Current text message may be interrupted
         bool m_text_active;
+        bool cMode;  // collision mode flag
+        std::string basicModes;  // set by world on start of level
     };
 
 

Modified: trunk/src/main.cc
===================================================================
--- trunk/src/main.cc	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/main.cc	2009-11-13 23:49:32 UTC (rev 1857)
@@ -346,7 +346,7 @@
     }
     atexit(SDL_Quit);
     SDL_EnableUNICODE(1);
-    SDL_version* vi = SDL_Linked_Version();
+    const SDL_version* vi = SDL_Linked_Version();
     Log &lt;&lt; ecl::strf(&quot;SDL Version: %u.%u.%u\n&quot;, vi-&gt;major, vi-&gt;minor, vi-&gt;patch);
     vi = IMG_Linked_Version();
     Log &lt;&lt;  ecl::strf(&quot;SDL &lt;Image Version: %u.%u.%u\n&quot;, vi-&gt;major, vi-&gt;minor, vi-&gt;patch);

Modified: trunk/src/server.cc
===================================================================
--- trunk/src/server.cc	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/server.cc	2009-11-13 23:49:32 UTC (rev 1857)
@@ -544,6 +544,7 @@
         else
             client::Msg_ShowText (&quot;collision handling enabled&quot;, false, 2);
         client::Msg_Command(&quot;cheater&quot;);
+        STATUSBAR-&gt;setCMode(server::NoCollisions);
     }
 
     // ------------------------------ quick options

Modified: trunk/src/video.cc
===================================================================
--- trunk/src/video.cc	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/video.cc	2009-11-13 23:49:32 UTC (rev 1857)
@@ -341,6 +341,7 @@
             Rect (0, 0, 640, 416),           // game area
             Rect (0, 416, 640, 64),          // statusbar area
             Rect (10, 425, 117, 43),         // time area
+            Rect (100, 419, 28, 43),         // modes area
             Rect (100, 425, 30, 43),         // moves area
             Rect (152, 433, 490, 52),        // inventory area
             Rect (150, 434, 475, 35),        // text area
@@ -358,6 +359,7 @@
             Rect (0, 0, 640, 416),           // game area
             Rect (0, 416, 640, 64),          // statusbar area
             Rect (15, 420, 110, 40),         // time area
+            Rect (100, 420, 31, 40),         // modes area
             Rect (100, 420, 30, 40),         // moves area
             Rect (152, 433, 490, 52),        // inventory area
             Rect (150, 434, 475, 35),        // text area
@@ -375,6 +377,7 @@
             Rect (0, 0, 800, 520),           // game area
             Rect (0, 520, 800, 80),          // statusbar area
             Rect (15, 540, 140, 40),         // time area
+            Rect (125, 529, 31, 40),         // modes area
             Rect (125, 540, 30, 40),         // moves area
             Rect (192, 539, 610, 46),        // inventory area
             Rect (185, 545, 600, 39),        // text area
@@ -392,6 +395,7 @@
             Rect (32, 0, 960, 624),          // game area
             Rect (32, 624, 960, 96),         // statusbar area
             Rect (50, 640, 170, 60),         // time area
+            Rect (185, 634, 34, 60),         // modes area
             Rect (185, 640, 30, 60),         // moves area
             Rect (260, 650, 710, 46),        // inventory area
             Rect (260, 655, 710, 40),        // text area
@@ -409,6 +413,7 @@
             Rect (0, 0, 960, 624),           // game area
             Rect (0, 624, 960, 96),          // statusbar area
             Rect (18, 640, 170, 60),         // time area
+            Rect (153, 634, 34, 60),         // modes area
             Rect (153, 640, 30, 60),         // moves area
             Rect (228, 650, 710, 46),        // inventory area
             Rect (228, 655, 710, 40),        // text area
@@ -426,6 +431,7 @@
             Rect (160, 0, 960, 624),         // game area
             Rect (160, 624, 960, 96),        // statusbar area
             Rect (178, 640, 170, 60),        // time area
+            Rect (313, 640, 30, 60),         // modes area
             Rect (313, 640, 30, 60),         // moves area
             Rect (388, 650, 710, 46),        // inventory area
             Rect (388, 655, 710, 40),        // text area
@@ -443,6 +449,7 @@
             Rect (0, 0, 1280, 832),          // game area
             Rect (0, 832, 1280, 128),        // statusbar area
             Rect (24, 853, 227, 80),         // time area //TODO
+            Rect (204, 853, 40, 80),         // modes area //TODO
             Rect (204, 853, 40, 80),         // moves area //TODO
             Rect (304, 867, 947, 61),        // inventory area //TODO
             Rect (304, 873, 947, 53),        // text area //TODO
@@ -460,6 +467,7 @@
             Rect (80, 0, 1280, 832),         // game area
             Rect (80, 832, 1280, 128),       // statusbar area
             Rect (104, 853, 227, 80),        // time area //TODO
+            Rect (284, 853, 40, 80),         // modes area //TODO
             Rect (284, 853, 40, 80),         // moves area //TODO
             Rect (384, 867, 947, 61),        // inventory area //TODO
             Rect (384, 873, 947, 53),        // text area //TODO
@@ -477,6 +485,7 @@
             Rect (0, 0, 1280, 832),          // game area
             Rect (0, 832, 1280, 128),        // statusbar area
             Rect (18, 640, 170, 60),         // time area //TODO
+            Rect (153, 640, 30, 60),         // modes area //TODO
             Rect (153, 640, 30, 60),         // moves area //TODO
             Rect (228, 650, 710, 46),        // inventory area //TODO
             Rect (228, 655, 710, 40),        // text area //TODO
@@ -494,6 +503,7 @@
             Rect (200, 0, 1280, 832),        // game area
             Rect (200, 832, 1280, 128),      // statusbar area
             Rect (224, 853, 227, 80),        // time area //TODO
+            Rect (404, 853, 40, 80),         // modes area //TODO
             Rect (404, 853, 40, 80),         // moves area //TODO
             Rect (504, 867, 947, 61),        // inventory area //TODO
             Rect (504, 873, 947, 53),        // text area //TODO
@@ -510,8 +520,9 @@
             60, 39, &quot;-60x39&quot;,                // thumbnail size/extension
             Rect (0, 0, 320, 208),           // game area
             Rect (0, 208, 320, 32),          // statusbar area
-            Rect (5, 212, 587, 21),          // time area
-            Rect (50, 212, 15, 21),          // moves area
+            Rect (5, 212, 65, 21),           // time area
+            Rect (50, 210, 14, 21),          // modes area
+            Rect (50, 220, 15, 21),          // moves area
             Rect (76, 216, 245, 26),         // inventory area
             Rect (75, 217, 237, 17),         // text area
             true, true,                      // available window, fullscreen

Modified: trunk/src/video.hh
===================================================================
--- trunk/src/video.hh	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/video.hh	2009-11-13 23:49:32 UTC (rev 1857)
@@ -70,6 +70,7 @@
         ecl::Rect      gamearea;
         ecl::Rect      statusbararea;
         ecl::Rect      sb_timearea;
+        ecl::Rect      sb_modesarea;
         ecl::Rect      sb_movesarea;
         ecl::Rect      sb_itemarea;
         ecl::Rect      sb_textarea;

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2009-11-11 23:28:37 UTC (rev 1856)
+++ trunk/src/world.cc	2009-11-13 23:49:32 UTC (rev 1857)
@@ -1711,7 +1711,10 @@
     }
         
     server::InitMoveCounter();
-    STATUSBAR-&gt;show_move_counter (server::ShowMoves);
+    STATUSBAR-&gt;show_move_counter(server::ShowMoves);
+    STATUSBAR-&gt;setCMode(server::NoCollisions);
+    STATUSBAR-&gt;setBasicModes(std::string() + (server::GameCompatibility == GAMET_ENIGMA ? &quot;&quot; : &quot;x&quot;) 
+            + (server::IsDifficult ? &quot;&quot; : &quot;e&quot;));
 
     display::FocusReferencePoint();
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001285.html">[Enigma-game-svn] r1856 - team_levelpacks/team_test_new_api
</A></li>
	<LI>Next message: <A HREF="001287.html">[Enigma-game-svn] r1858 - in trunk/data/levels: enigma_cross	enigma_i enigma_iv enigma_ix enigma_tutorial enigma_vi	enigma_vii enigma_viii
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1286">[ date ]</a>
              <a href="thread.html#1286">[ thread ]</a>
              <a href="subject.html#1286">[ subject ]</a>
              <a href="author.html#1286">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
