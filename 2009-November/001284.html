<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1855 - in trunk: doc doc/reference	doc/reference/images etc src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1855%20-%20in%20trunk%3A%20doc%20doc/reference%0A%09doc/reference/images%20etc%20src&In-Reply-To=%3C200911112326.nABNQC85019807%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001283.html">
   <LINK REL="Next"  HREF="001285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1855 - in trunk: doc doc/reference	doc/reference/images etc src</H1>
    <B>ral at mail.berlios.de</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1855%20-%20in%20trunk%3A%20doc%20doc/reference%0A%09doc/reference/images%20etc%20src&In-Reply-To=%3C200911112326.nABNQC85019807%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1855 - in trunk: doc doc/reference	doc/reference/images etc src">ral at mail.berlios.de
       </A><BR>
    <I>Thu Nov 12 00:26:12 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001283.html">[Enigma-game-svn] r1854 - in trunk: data data/schemas src src/floors
</A></li>
        <LI>Next message: <A HREF="001285.html">[Enigma-game-svn] r1856 - team_levelpacks/team_test_new_api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1284">[ date ]</a>
              <a href="thread.html#1284">[ thread ]</a>
              <a href="subject.html#1284">[ subject ]</a>
              <a href="author.html#1284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2009-11-12 00:25:58 +0100 (Thu, 12 Nov 2009)
New Revision: 1855

Modified:
   trunk/doc/README.mingw32
   trunk/doc/REQUIREMENTS
   trunk/doc/reference/enigma-ref.texi
   trunk/doc/reference/images/Makefile.am
   trunk/etc/mingw32-dist.sh.in
   trunk/src/main.cc
   trunk/src/video.cc
Log:
Trunk 1.1:
- updates on SDL 1.2.14
- fix Windows gamma problems due to min gamma value
- refman updates:
  - 1.4. Inventory Console
  - 4.4.8 Ending Conditions
  - fl_scales, ac_killer, ac_pearl


Modified: trunk/doc/README.mingw32
===================================================================
--- trunk/doc/README.mingw32	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/doc/README.mingw32	2009-11-11 23:25:58 UTC (rev 1855)
@@ -103,15 +103,14 @@
 
 Install upx anywhere in PATH
 
-SDL-devel-1.2.11-mingw32.tar.gz ls -l
+SDL-devel-1.2.14-mingw32.tar.gz
   extract to a workdir
-  cp -rv bin lib share /mingw/
-  cp -rv include /mingw/include/SDL
+  cp -rv bin lib share include /mingw/
   sed 's|^prefix=.*|prefix=/minw/|' &lt;bin/sdl-config &gt; /mingw/bin/i386-mingw32msvc-sdl-config
-  cp /mingw/share/aclocal/sdl.m4 /msys/1.0/share/aclocal/
+  cp /mingw/share/aclocal/sdl.m4 /share/aclocal/
   cp bin/*.dll to enigma/etc
 
-SDL_ttf-devel-2.0.9-VC8.zip, SDL_mixer-devel-1.2.8-VC8.zip, SDL_image-devel-1.2.6-VC8.zip
+SDL_ttf-devel-2.0.9-VC8.zip, SDL_mixer-devel-1.2.9-VC.zip, SDL_image-devel-1.2.8-VC.zip
   extract
   cp includes to /mingw/include/SDL
   cp lib/*.lib to /mingw/lib

Modified: trunk/doc/REQUIREMENTS
===================================================================
--- trunk/doc/REQUIREMENTS	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/doc/REQUIREMENTS	2009-11-11 23:25:58 UTC (rev 1855)
@@ -15,19 +15,19 @@
 
 Libraries:
 ----------
-SDL-devel       1.2.11 -  1.2.9		   (no 1.2.10 on Mac, no 1.2.12 on Win!) 
+SDL-devel       1.2.14 - 1.2.9	(no 1.2.10 on Mac, no 1.2.12,1.2.13 on Win!) 
                 <A HREF="http://www.libsdl.org/download-1.2.php">http://www.libsdl.org/download-1.2.php</A>
-                SDL-devel-1.2.11-mingw32.tar.gz (Mingw32)
+                SDL-devel-1.2.14-mingw32.tar.gz (Mingw32)
                 
 SDL_ttf-devel   2.0.9 -  2.0.7
                 <A HREF="http://www.libsdl.org/projects/SDL_ttf/">http://www.libsdl.org/projects/SDL_ttf/</A>
                 SDL_ttf-devel-2.0.7-VC8.zip (W)
                 
-SDL_mixer-devel 1.2.8 - 1.2.7
+SDL_mixer-devel 1.2.9 - 1.2.7
                 <A HREF="http://www.libsdl.org/projects/SDL_mixer/">http://www.libsdl.org/projects/SDL_mixer/</A>
                 SDL_mixer-devel-1.2.8-VC8.zip (W)
                 
-SDL_image-devel 1.2.6
+SDL_image-devel 1.2.8
                 <A HREF="http://www.libsdl.org/projects/SDL_image/">http://www.libsdl.org/projects/SDL_image/</A>
                 SDL_image-devel-1.2.6-VC8.zip (W)
 
@@ -86,7 +86,7 @@
 AT&amp;T            <A HREF="http://www.graphviz.org/About.php">http://www.graphviz.org/About.php</A>
                 (for source documentation)
 
-upx             3.00 -  1.2.5
+upx             3.04 -  1.2.5
                 <A HREF="http://upx.sourceforge.net/">http://upx.sourceforge.net/</A>
 
 ccache          2.4 (L)

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/doc/reference/enigma-ref.texi	2009-11-11 23:25:58 UTC (rev 1855)
@@ -70,6 +70,7 @@
 * Locating Resources::
 * Startup Switches::
 * User Options::
+* Inventory Console::          Command and document text history
 * Level Info::
 * Handicap and PAR::           Background to score evaluation and HCP
 * User Sound Sets::            How to create and install sound themes
@@ -296,6 +297,94 @@
 
 @end table
 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Inventory Console
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at section</A> Inventory Console
+
+The lower right window area that usually shows the inventory items and scrolls
+the texts of activated document items allows the user to reread previous 
+document texts, to enter textual commands and to reissue previous commands.
+
+You can issue a command by usage of the keyboard. Just enter the command string
+and activate the command by a finishing @key{return} stroke. The following
+commands are supported:
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{help}
+List all public available commands.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{abort}
+Abort level and return to level selection menu. Same as @key{Alt X}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{April 1st}
+Just a joke.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{cheats}
+List level developer cheat commands for fast testing.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{collision}
+Developer cheat that disables collisions between stones and marbles or pearls.
+Once used no score will be recorded if the level is successfully finished.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{easy}
+Restart level in easy difficulty mode.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{find} search_string
+Searches levels in all levelpacks that contain matching string in either
+the level's title, author's name or the file name.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{god}
+Developer cheat that protects the actors assigned to the current player like
+the activation of an @ref{it_umbrella} does. Once used no score will be 
+recorded if the level is successfully finished.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{hunt}
+Switch to world record hunting mode. Same as toggling the left most button
+in the level selection menu to the world icon.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{info}
+Show info about level like the levelpack, position within levelpack, the file
+location, the title, author, version and the level internal id.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{jumpto} levelpack,position
+Directly start the given level. The levelpack is identified by its title. The
+position is the number within the levelpack. E.g. @code{jumpto Enigma IV,33}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{nohunt}
+Switch off the world record hunting mode. Same as toggling the left most button
+in the level selection menu to the marble icon.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{regular}
+Restart level in regular difficulty mode
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{restart}
+Restart level in currently selected difficulty mode.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{suicide}
+Kill actors, but continue level if possible. Same as @key{F3}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+Both, the commands and the displayed document text have a history. You recall
+the history by usage of the up and down arrows. 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at itemize</A> @bullet
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{inventory} --&gt; jump to start
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{command #10}, oldest command in history
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{command #9}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @dots{}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{command #2}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{command #1}, last executed command
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{command under edition}, just if the last edited command has not been executed
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{inventory} &lt;-- start
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{document #1}, last viewed document
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{document #2}, previous viewed document
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @dots{}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{document #n}, first viewed document
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{level title, subtitle, author}, as shown on level start
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{inventory} --&gt; jump to start
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> itemize
+
+Starting with the inventory item display the up arrow shows the previously
+submitted commands. Just by another @key{return} you can reissue a command.
+The history will be resorted with the last command at the position direktly 
+above the inventory. You can edit history commands anytime like you can insert 
+a new command. If you do not finish a command by a @key{return} the string will
+still be recorded and presented as the first command above the inventory. The
+command history is persistent.
+
+The document history can be recalled by usage of the down arrow. All level 
+documents previously displayed can be redisplayed. Additionally the initial
+level info displayed on the level start can be read again.
+
+Both histories revolve to the item inventory when the up or down keys are
+used beyond the oldest command or message.
+
 @node Level Info
 @section Level Info
 
@@ -3587,7 +3676,7 @@
 * Named Positions::               Positions as successors of killed Floors
 * Callbacks and Load Balancing::
 * Level Restart::
-* Ending Conditions::
+* Ending Conditions::             Meditation vs. Oxydpairs
 @end menu
 
 @c ----------------- Library Preloading --------------------
@@ -3770,7 +3859,70 @@
 @node Ending Conditions
 @subsection Ending Conditions
 
+Two essential questions remain to be answered. When and under which conditions
+is a level successfully finished. How do I declare a level as being a
+meditation level in opposite to a standard oxyd pair opening level.
 
+In fact there is no 'meditation' flag, neither within the XML Level 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Info metadata} nor as one of the @ref{Global Attributes}. That means there
+is no formal distinction between both level 'types'. But there are two different
+types of ending conditions. Both are checked permanently and whichever
+is fulfilled first wins. Thus Enigma allows you to write true hybrid levels
+that provide @ref{st_oxyd} as well as @ref{it_meditation} allowing the user
+to solve the level by two totally different means.
+
+The main way to end the game is to fulfill the oxyd pair opening condition:
+
+The game is over when the user succeeds in opening all regular colored 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{st_oxyd}s by pairs.
+
+This implies that there is at least one pair of regular colored oxyd stones
+and that all oxyd colors appear in even number of instances. Whereas you will
+always add at least one pair of oxyds for a standard level, you may simply loose
+track of the number of instances. Therefore the engine will permanently check at
+runtime that every oxyd color appears in an even number of instances. Any 
+violation causes an error. In case you will add or delete oxyd stones you
+need to disable this checking by setting the global attribute 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{AllowSingleOxyds} to @code{true}. Now it is your reponsibility as an
+author to ensure that the level remains solvable by adding or removing pairs
+only. 
+
+The second way to end the game is to fulfill the meditation condition:
+
+All @ref{ac_pearl}s must reside for at least one second within the uneven area
+of an @ref{it_meditation}, all @ref{it_meditation} marked as @code{essential}
+must be occupied and the number of @ref{ac_pearl}s must be equal to the number
+of occupied @ref{it_meditation}s.
+
+This implies again that there exists at least one @ref{ac_pearl} and that
+no two pearls can reside within the same @ref{it_meditation}. There must be at
+least the same number of @ref{it_meditation} as of @ref{ac_pearl}, but there may
+be more @ref{it_meditation}s as long as they are not marked as being essential.
+A surplus of @ref{it_meditation} can easily occur due to explosions of
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_dynamite}.
+
+A level that should be solved by fulfillment of the meditation condition can
+contain @ref{st_oxyd} and by setting @ref{AllowSingleOxyds} to @code{true} you
+can add odd numbers of oxyd stones of a color. On the other hand you can add
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{ac_pearl} to a level that should be solved by fulfillment of the oxyd pair
+condition. But you must carefully check that the user can not rest the pearls in
+given @ref{it_meditation} or can create @ref{it_meditation} by @ref{it_dynamite}.
+Marking more @ref{it_meditation} as @code{essential} than existing 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{ac_pearl}s can avoid shortcuts.
+
+A level that is set up to allow the user to fulfill both conditions is called
+a hybrid level. Of course it is a difficult task to provide equivalent solutions
+for both approaches.
+
+Independent of the condition type all actors marked as @code{essential} need to
+be alive at the moment the condition is fulfilled. Mainly in existing legacy 
+levels but may in some very carefully designed future levels the author may
+allow the user to sacrify an actor to fulfill the condition by setting the 
+global attribute @ref{SurviveFinish} to @code{false}. In this case a mable
+may shatter while the condition is fulfilled. Of course the essential actor
+may not shatter in advance, because as soon as the shattering is over the
+essential actor will cause a level restart, if it can not be resurrected.
+
 @c ===================  Lua API  =======================
 @node Lua API
 @chapter Lua API
@@ -9753,6 +9905,12 @@
 @tab @image{images/fl_sahara, 12mm} @tab @yref{fl_sahara}
 @item @image{images/fl_samba, 12mm} @tab @yref{fl_samba}
 @tab @image{images/fl_sand, 12mm} @tab @yref{fl_sand}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at tab</A> @image{images/fl_scales_brick, 12mm} @tab @yref{fl_scales}_brick
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_bridge_bw_closed, 12mm} @tab @yref{fl_scales}_bridgewood
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at tab</A> @image{images/fl_scales_concrete, 12mm} @tab @yref{fl_scales}_concrete
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at tab</A> @image{images/fl_scales_darkgray, 12mm} @tab @yref{fl_scales}_darkgray
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_gray, 12mm} @tab @yref{fl_scales}_gray
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at tab</A> @image{images/fl_scales_platinum, 12mm} @tab @yref{fl_scales}_platinum
 @tab @image{images/fl_slope_f, 12mm} @tab @yref{fl_slope}
 @item @image{images/fl_slope, 12mm} @tab @yref{fl_slope}_ps
 @tab @image{images/fl_slope_c, 12mm} @tab @yref{fl_slope}_ise
@@ -10922,6 +11080,7 @@
 * fl_ice::            Slippery frozen water
 * fl_inverse::        Accelerate into the inverse direction
 * fl_rock::           Floodable Rock Floor
+* fl_scales::         Weight dependent Trigger
 * fl_slope::          Slopes in various shapes
 * fl_swamp::          Sticky sinkable Floor
 * fl_thief::          Hidden Thief
@@ -11195,6 +11354,76 @@
 @end table
 @end table
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Scales Floor --------------------
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> fl_scales
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> fl_scales
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at obindex</A> fl_scales
+
+The scales floor is a trigger that reacts on the mass load of actors and items
+atop or any stones that may press it. It performs actions when it is initially
+pressed and again when it releases. A pressed trigger is in state @samp{ON} and
+will send an action value of @samp{true}, a released trigger is in state 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{OFF} and will send an action value of @samp{false}.
+
+Only actors moving on the floor can press scales. An actor jumping over a
+scale will not press it. An actor jumping on a scale will release and press
+it again. But anyway the mass of all actors and items atop will be measured and
+compared to the given @code{min} attribute. The default triggering mass is 1.8.
+This mass is given by two @ref{ac_marble} or three @ref{ac_pearl}. Any item
+like @ref{it_weight} or weights in an @ref{it_bag} that are either dropped on
+top of scales or carried by any actor in the players inventory is added to the
+actors basic mass.
+
+Just solid stones will press the scales when pushed onto it. Floating, hollow
+stones will generally not press the scales with the exception of the hollow,
+central puzzle stone (@pxref{st_puzzle}).
+
+There is no way to set the state of a trigger manually. But the state can
+nevertheless be read. At initialization a scales floor that is pressed by 
+objects will start in state @samp{ON} without sending actions due to the
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Snapshot Principle}.
+
+Scales trigger with a click sound.
+
+Scales are given in several flavors. They are similar to the @ref{it_trigger}
+in respect to their features. Visually they look similar to frames, but are
+well distinguishable. It is deprecated to use invisible @ref{it_trigger} on
+a framed floor as a substitution for scales.
+
+Alternative items that react just on actors are @ref{it_sensor} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_cross}. 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Attributes:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{state}, @ @ @i{values}: @code{ON}, @code{OFF}; @ @ @i{default}: @code{OFF} @ @ @xref{state}
+The current switch state - @samp{ON} for pressed scales, @samp{OFF} for a
+released scales.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{flavor}, @ @ @i{values}: @code{&quot;brick&quot;}, @code{&quot;bridgewood&quot;}, @code{&quot;concrete&quot;}, @code{&quot;darkgray&quot;}, @code{&quot;gray&quot;}, @code{&quot;platinum&quot;}; @ @ @i{default}: @code{&quot;darkgray&quot;}
+The base floor type of the scales.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{adhesion}, @ @ @i{values}: number; @ @ @i{default}: 2.0 @ @ @xref{adhesion}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{friction}, @ @ @i{values}: number; @ @ @i{default}: 4.0 @ @ @xref{friction}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{burnable}, @ @ @i{values}: boolean; @ @ @i{default}: depends on @code{flavor} @ @ @xref{burnable}
+True if flavor is @code{&quot;bridgewood&quot;}, false otherwise.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{min} @ @ @i{values}: positive float number; @ @ @i{default}: @code{+1.8}
+Mass unit is the mass of an @ref{ac_marble}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Messages:} none
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Action:} @ @ @xref{target}, @ @ @xref{action}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Variants:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_brick, 12mm} @b{fl_scales_brick}: flavor = @code{&quot;brick&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_bridge_bw_closed, 12mm} @b{fl_scales_bridgewood}: flavor = @code{&quot;bridgewood&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_concrete, 12mm} @b{fl_scales_concrete}: flavor = @code{&quot;concrete&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_darkgray, 12mm} @b{fl_scales_darkgray}: flavor = @code{&quot;darkgray&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_gray, 12mm} @b{fl_scales_gray}: flavor = @code{&quot;gray&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/fl_scales_platinum, 12mm} @b{fl_scales_platinum}: flavor = @code{&quot;platinum&quot;}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
 @c ----------------- Slope Floor --------------------
 @node fl_slope
 @subsection fl_slope
@@ -11771,6 +12000,9 @@
 @item @b{freezable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{freezable}
 @item @b{liftable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{liftable}
 @item @b{portable}, @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{true}; @ @ @i{access}: @code{read only} @ @ @xref{portable}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.0}; @ @ @i{access}: @code{read only}
+Sum of masses of all contained items. Currently just the @ref{it_weight} has a
+mass.
 @end table
 
 @item @b{Messages:} none
@@ -14044,8 +14276,9 @@
 still produces its click-sounds and the user will notice that actors cannot drop
 items onto the same grid position.
 
-Alternative objects that react just on actors are @ref{it_sensor} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at ref</A>{it_cross}.
+Alternative items that react just on actors are @ref{it_sensor} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{it_cross}. Another switch that reacts on the actors mass and stones are
+the @ref{fl_scales}.
 
 @table @asis
 @item @b{Attributes:}
@@ -19281,6 +19514,12 @@
 
 @table @asis
 @item @b{Attributes:} common actor attributes
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{adhesion} @ @ @i{values}: number; @ @ @i{default}: @code{0.0}; @ @ @xref{adhesion}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{controllers} @ @ @i{values}: @code{CTRL_NONE}, @code{CTRL_YIN}, @code{CTRL_YANG}, @code{CTRL_YINYANG}; @ @ @i{default}: @code{CTRL_NONE}; @ @ @xref{controllers}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{owner} @ @ @i{values}: @code{YIN}, @code{YANG}, @code{nil}; @ @ @i{default}: @code{nil}; @ @ @xref{owner}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.7}; @ @ @i{access}: read only
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
 
 @item @b{Messages:} none
 
@@ -19325,6 +19564,7 @@
 A path given by a sequence of positions.
 @item @b{strength} @ @ @i{values}: float number; @ @ @i{default}: @code{+10.0}
 A scalar factor for the horse force that drive it to the next destination.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{1.2}; @ @ @i{access}: read only
 @end table
 
 @item @b{Messages:} none
@@ -19359,11 +19599,12 @@
 @item @b{Attributes:}
 
 @table @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{color} @ @ @i{values}: @code{WHITE}; @ @ @i{default}: @code{WHITE}; @ @ @i{access}: read only
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{WHITE}; @ @ @i{access}: read only
 The color of the killer.
 @item @b{adhesion} @ @ @i{values}: number; @ @ @i{default}: @code{2.0}; @ @ @xref{adhesion}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{controllers} @ @ @i{values}: @code{CTRL_NONE}, @code{CTRL_YIN}, @code{CTRL_YANG}, @code{CTRL_YINYANG}; @ @ @i{default}: @code{CTRL_NONE}; @ @ @xref{controllers}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{controllers} @ @ @i{values}: @code{CTRL_NONE}, @code{CTRL_YIN}, @code{CTRL_YANG}, @code{CTRL_YINYANG}; @ @ @i{default}: @code{CTRL_YINYANG}; @ @ @xref{controllers}
 @item @b{owner} @ @ @i{values}: @code{YIN}, @code{YANG}, @code{nil}; @ @ @i{default}: @code{nil}; @ @ @xref{owner}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.7}; @ @ @i{access}: read only
 @end table
 
 @item @b{Messages:} none
@@ -19372,6 +19613,8 @@
 
 @table @asis
 @item @image{images/ac_pearl_white, 14mm} @b{ac_killer}: color = @code{WHITE}, controllers = @code{CTRL_YINYANG}, owner = @code{nil}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/ac_pearl_black, 14mm} @b{ac_killer_black}: color = @code{BLACK}, controllers = @code{CTRL_YINYANG}, owner = @code{nil}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/ac_pearl_white, 14mm} @b{ac_killer_white}: color = @code{WHITE}, controllers = @code{CTRL_YINYANG}, owner = @code{nil}
 @end table
 
 @end table
@@ -19404,6 +19647,7 @@
 @item @b{controllers} @ @ @i{values}: @code{CTRL_NONE}, @code{CTRL_YIN}, @code{CTRL_YANG}, @code{CTRL_YINYANG}; @ @ @i{default}: @code{CTRL_NONE}; @ @ @xref{controllers}
 @item @b{owner} @ @ @i{values}: @code{YIN}, @code{YANG}, @code{nil}; @ @ @i{default}: @code{nil}; @ @ @xref{owner}
 @end table
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{1.0}; @ @ @i{access}: read only
 
 @item @b{Messages:} none
 
@@ -19439,12 +19683,13 @@
 
 @table @asis
 @item @b{state}, @ @ @i{values}: @code{ALIVE}, @code{DEAD}; @ @ @i{default}: @code{ALIVE}; @ @ @xref{state}; @ @ @i{access}: read only
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{color} @ @ @i{values}: @code{WHITE}; @ @ @i{default}: @code{WHITE}; @ @ @i{access}: read only
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{color} @ @ @i{values}: @code{BLACK}, @code{WHITE}; @ @ @i{default}: @code{WHITE}; @ @ @i{access}: read only
 The color of the pearl.
 @item @b{adhesion} @ @ @i{values}: number; @ @ @i{default}: @code{1.0}; @ @ @xref{adhesion}
 @item @b{controllers} @ @ @i{values}: @code{CTRL_NONE}, @code{CTRL_YIN}, @code{CTRL_YANG}, @code{CTRL_YINYANG}; @ @ @i{default}: @code{CTRL_NONE}; @ @ @xref{controllers}
 @item @b{owner} @ @ @i{values}: @code{YIN}, @code{YANG}, @code{nil}; @ @ @i{default}: @code{nil}; @ @ @xref{owner}
 @end table
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.7}; @ @ @i{access}: read only
 
 @item @b{Messages:} none
 
@@ -19452,6 +19697,7 @@
 
 @table @asis
 @item @image{images/ac_pearl_white, 14mm} @b{ac_pearl}: color = @code{WHITE}, controllers = @code{CTRL_YINYANG}, owner = @code{YIN}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @image{images/ac_pearl_black, 14mm} @b{ac_pearl_black}: color = @code{BLACK}, controllers = @code{CTRL_YINYANG}, owner = @code{YIN}
 @item @image{images/ac_pearl_white, 14mm} @b{ac_pearl_white}: color = @code{WHITE}, controllers = @code{CTRL_YINYANG}, owner = @code{YIN}
 @end table
 
@@ -19508,6 +19754,7 @@
 Likelihood of attack strategy. You will usually use this attribute in
 combination with @samp{attacknearest} set to @samp{true}. The Level
 @samp{Toreador} is an example of the behavior of such rotors.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.8}; @ @ @i{access}: read only
 @end table
 
 @item @b{Messages:} none
@@ -19565,6 +19812,7 @@
 Likelihood of attack strategy. You will usually use this attribute in
 combination with @samp{attacknearest} set to @samp{true}. The Level
 @samp{Toreador} is an example of the behavior of such rotors.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{mass} @ @ @i{values}: positive float number; @ @ @i{default}: @code{0.8}; @ @ @i{access}: read only
 @end table
 
 @item @b{Messages:} none
@@ -20125,7 +20373,7 @@
 
 @item @b{Syntax Samples:}
 @example
-a = @{1, 5=2, &quot;Hello&quot;, other_table = @{x = 4, y = 5, z = &quot;World&quot;@}@}
+a = @{1, [5]=2, &quot;Hello&quot;, other_table = @{x = 4, y = 5, z = &quot;World&quot;@}@}
 lib.lua.print_table(a, nil, -1)
 lib.lua.print_table(a, &quot;--&gt; &quot;)
 @end example
@@ -24849,12 +25097,32 @@
 @need 200
 @item @b{st-bigbluesand-sw} @expansion{} @code{st_bluesand_sw}, @pxref{st_bluesand}
 @item @b{st-bigbluesand-w} @expansion{} @code{st_bluesand_w}, @pxref{st_bluesand}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-e} @expansion{} @code{st_brick_e}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-es} @expansion{} @code{st_brick_es}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-esw} @expansion{} @code{st_brick_esw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-ew} @expansion{} @code{st_brick_ew}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-n} @expansion{} @code{st_brick_n}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-ne} @expansion{} @code{st_brick_ne}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-nes} @expansion{} @code{st_brick_nes}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-nesw} @expansion{} @code{st_brick_nesw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-new} @expansion{} @code{st_brick_new}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-ns} @expansion{} @code{st_brick_ns}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-nsw} @expansion{} @code{st_brick_nsw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-nw} @expansion{} @code{st_brick_nw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-s} @expansion{} @code{st_brick_s}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-sw} @expansion{} @code{st_brick_sw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bigbrick-w} @expansion{} @code{st_brick_w}, @pxref{st_brick}
 @item @b{st-blackballs} @expansion{} @code{st_jamb_black}, @pxref{st_jamb}
 @item @b{st-black1} @expansion{} @code{st_passage_black_square}, @pxref{st_passage}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-black2} @expansion{} @code{st_passage_black_slash}, @pxref{st_passage}
 @need 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-black2} @expansion{} @code{st_passage_black_slash}, @pxref{st_passage}
 @item @b{st-black3} @expansion{} @code{st_passage_black_cross}, @pxref{st_passage}
 @item @b{st-black4} @expansion{} @code{st_passage_black_frame}, @pxref{st_passage}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-block} @expansion{} @ref{st_plop}
 @item @b{st-blocker} @expansion{} @ref{st_blocker}
 @need 200
 @item @b{st-blocker-growing} @expansion{} @code{st_blocker_new}, @pxref{st_blocker}
@@ -24868,36 +25136,16 @@
 @item @b{st-bolder-s} @expansion{} @code{st_boulder_s}, @pxref{st_boulder}
 @need 200
 @item @b{st-bolder-w} @expansion{} @code{st_boulder_w}, @pxref{st_boulder}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-bombs} @expansion{} @code{st_dispenser_bombblack}, @pxref{st_dispenser}
 @item @b{st-brake} @expansion{} @ref{st_brake}
 @item @b{st-break_acblack} @expansion{} @code{st_break_black}, @pxref{st_break}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
 @item @b{st-break_acwhite} @expansion{} @code{st_break_white}, @pxref{st_break}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
 @item @b{st-break_bolder} @expansion{} @code{st_break_boulder}, @pxref{st_break}
 @item @b{st-break_gray} @expansion{} @code{st_break_plain}, @pxref{st_break}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{st-break_invisible} @expansion{} @code{st_ghost_break}, @pxref{st_ghost}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at need</A> 200
 @item @b{st-brick} @expansion{} @ref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-e} @expansion{} @code{st_brick_e}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-es} @expansion{} @code{st_brick_es}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-esw} @expansion{} @code{st_brick_esw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-ew} @expansion{} @code{st_brick_ew}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-n} @expansion{} @code{st_brick_n}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-ne} @expansion{} @code{st_brick_ne}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-nes} @expansion{} @code{st_brick_nes}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-nesw} @expansion{} @code{st_brick_nesw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-new} @expansion{} @code{st_brick_new}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-ns} @expansion{} @code{st_brick_ns}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-nsw} @expansion{} @code{st_brick_nsw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-nw} @expansion{} @code{st_brick_nw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-s} @expansion{} @code{st_brick_s}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-sw} @expansion{} @code{st_brick_sw}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bigbrick-w} @expansion{} @code{st_brick_w}, @pxref{st_brick}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-block} @expansion{} @ref{st_plop}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-bombs} @expansion{} @code{st_dispenser_bombblack}, @pxref{st_dispenser}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at need</A> 200
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{st-break_invisible} @expansion{} @code{st_ghost_break}, @pxref{st_ghost}
 @item @b{st-brick_magic} @expansion{} @code{st_magic_brick}, @pxref{st_magic}
 @item @b{st-brownie} @expansion{} @ref{st_brownie}
 @item @b{st-bug} @expansion{} @code{st_break_bug}, @pxref{st_break}

Modified: trunk/doc/reference/images/Makefile.am
===================================================================
--- trunk/doc/reference/images/Makefile.am	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/doc/reference/images/Makefile.am	2009-11-11 23:25:58 UTC (rev 1855)
@@ -9,6 +9,7 @@
 	ac_horse.png \
 	ac_marble_black.png \
 	ac_marble_white.png \
+	ac_pearl_black.png \
 	ac_pearl_white.png \
 	ac_rotor.png \
 	ac_top.png \
@@ -26,6 +27,8 @@
 	fl_metal_2.png fl_metal_3.png fl_metal_4.png fl_metal_5.png \
 	fl_metal_6.png fl_metal_7.png \
 	fl_samba_2.png \
+	fl_scales_bridge_bw_closed.png fl_scales_brick.png fl_scales_concrete.png \
+	fl_scales_darkgray.png fl_scales_gray.png fl_scales_platinum.png \
 	fl_slope.png fl_slope_2.png fl_slope_3.png fl_slope_4.png \
 	fl_slope_b.png fl_slope_b2.png fl_slope_b3.png fl_slope_b4.png \
 	fl_slope_c.png fl_slope_c2.png fl_slope_c3.png fl_slope_c4.png \
@@ -345,6 +348,9 @@
 %_framed.png: $(GFXDIR)/%.png $(GFXDIR)/floor_frame.png
 	$(CONVERT) -density 112x112 -units PixelsPerCentimeter -crop 48x48+0+0 -composite $&lt; $(GFXDIR)/floor_frame.png $@
 
+fl_scales_%.png: $(GFXDIR)/fl_%.png $(GFXDIR)/fl_scales.png
+	$(CONVERT) -density 112x112 -units PixelsPerCentimeter -crop 48x48+0+0 -composite $&lt; $(GFXDIR)/fl_scales.png  $@
+
 st_laser_%.png: $(GFXDIR)/st-laser-%.png $(GFXDIR)/st-laser-base.png
 	$(CONVERT) -density 112x112 -units PixelsPerCentimeter -crop 48x48+0+0 -composite $(GFXDIR)/st-laser-base.png $&lt; $@
 

Modified: trunk/etc/mingw32-dist.sh.in
===================================================================
--- trunk/etc/mingw32-dist.sh.in	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/etc/mingw32-dist.sh.in	2009-11-11 23:25:58 UTC (rev 1855)
@@ -6,7 +6,7 @@
 DDIR=&quot;`pwd`/Enigma-$VERSION&quot;
 SDIR=@top_srcdir@
 BDIR=@top_builddir@
-DLLDEFAULTS=&quot;SDL SDL_image SDL_mixer SDL_ttf jpeg zlib1 libfreetype-6 libogg-0 libpng12-0 libtiff-3 libvorbis-0 libvorbisfile-3 smpeg libcurl-4&quot;
+DLLDEFAULTS=&quot;SDL SDL_image SDL_mixer SDL_ttf jpeg zlib1 libfreetype-6 libogg-0 libpng12-0 libtiff-3 libvorbis-0 libvorbisfile-3 smpeg mikmod libcurl-4&quot;
 
 if [ &quot;$ENIGMADEVDLLS&quot; != &quot;&quot; ]; then
   DLLS=$ENIGMADEVDLLS

Modified: trunk/src/main.cc
===================================================================
--- trunk/src/main.cc	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/src/main.cc	2009-11-11 23:25:58 UTC (rev 1855)
@@ -59,6 +59,7 @@
 #include &lt;xercesc/util/XMLUniDefs.hpp&gt;
 #include &lt;xercesc/util/PlatformUtils.hpp&gt;
 #include &lt;xercesc/util/XercesVersion.hpp&gt;
+#include &lt;SDL_image.h&gt;
 
 
 #ifdef MACOSX
@@ -345,6 +346,10 @@
     }
     atexit(SDL_Quit);
     SDL_EnableUNICODE(1);
+    SDL_version* vi = SDL_Linked_Version();
+    Log &lt;&lt; ecl::strf(&quot;SDL Version: %u.%u.%u\n&quot;, vi-&gt;major, vi-&gt;minor, vi-&gt;patch);
+    vi = IMG_Linked_Version();
+    Log &lt;&lt;  ecl::strf(&quot;SDL &lt;Image Version: %u.%u.%u\n&quot;, vi-&gt;major, vi-&gt;minor, vi-&gt;patch);
 
     // ----- Initialize video subsystem
     video::Init();

Modified: trunk/src/video.cc
===================================================================
--- trunk/src/video.cc	2009-11-10 23:18:08 UTC (rev 1854)
+++ trunk/src/video.cc	2009-11-11 23:25:58 UTC (rev 1855)
@@ -861,7 +861,9 @@
 void video::UpdateGamma()
 {
     float gamma = static_cast&lt;float&gt; (app.prefs-&gt;getDouble (&quot;Gamma&quot;));
-    SDL_SetGamma (gamma, gamma, gamma);
+    if (gamma &lt; 0.25)  
+        gamma = 0.25;  // Windows does not set gamma for values &lt; 0.2271
+    int result = SDL_SetGamma (gamma, gamma, gamma);
 }
 
 void video::Screenshot (const std::string &amp;fname) 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001283.html">[Enigma-game-svn] r1854 - in trunk: data data/schemas src src/floors
</A></li>
	<LI>Next message: <A HREF="001285.html">[Enigma-game-svn] r1856 - team_levelpacks/team_test_new_api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1284">[ date ]</a>
              <a href="thread.html#1284">[ thread ]</a>
              <a href="subject.html#1284">[ subject ]</a>
              <a href="author.html#1284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
