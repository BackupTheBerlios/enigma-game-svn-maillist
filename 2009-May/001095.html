<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1665 - trunk/doc/reference
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1665%20-%20trunk/doc/reference&In-Reply-To=%3C200905072249.n47Mn3Le018189%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001094.html">
   <LINK REL="Next"  HREF="001096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1665 - trunk/doc/reference</H1>
    <B>ral at mail.berlios.de</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1665%20-%20trunk/doc/reference&In-Reply-To=%3C200905072249.n47Mn3Le018189%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1665 - trunk/doc/reference">ral at mail.berlios.de
       </A><BR>
    <I>Fri May  8 00:49:03 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001094.html">[Enigma-game-svn] r1664 - in trunk: attic/images-stones data	data/gfx16 data/gfx32 data/gfx40 data/gfx48 data/gfx64
</A></li>
        <LI>Next message: <A HREF="001096.html">[Enigma-game-svn] r1666 - in trunk: attic/images-stones data	data/gfx40 src/stones
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1095">[ date ]</a>
              <a href="thread.html#1095">[ thread ]</a>
              <a href="subject.html#1095">[ subject ]</a>
              <a href="author.html#1095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2009-05-08 00:48:54 +0200 (Fri, 08 May 2009)
New Revision: 1665

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Trunk 1.1: refman
- Chapter 5 Lua API additions for datatypes object and group



Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-05-07 20:43:47 UTC (rev 1664)
+++ trunk/doc/reference/enigma-ref.texi	2009-05-07 22:48:54 UTC (rev 1665)
@@ -4156,6 +4156,8 @@
 @node Position Tasks
 @subsection Position Tasks
 
+For reference details @pxref{Position}.
+
 @table @asis
 @item @b{Creating Positions:}
 @example
@@ -4239,6 +4241,8 @@
 @node Attribute Tasks
 @subsection Attribute Tasks
 
+For reference details @pxref{Object}.
+
 @table @asis
 
 @item @b{Single Attribute Setting:}
@@ -4282,6 +4286,8 @@
 @node Object Tasks
 @subsection Object Tasks
 
+For reference details @pxref{Object}.
+
 @table @asis
 @item @b{Creating Objects:}
 @example
@@ -4398,6 +4404,8 @@
 @node Group Tasks
 @subsection Group Tasks
 
+For reference details @pxref{Group}.
+
 @table @asis
 @item @b{Creating Groups:}
 
@@ -4447,6 +4455,7 @@
 @example
 @var{count} = #@var{mygroup}        -- number of objects in the group
 @var{obj}   = @var{mygroup}[@var{5}]     -- 5th object of the group
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}   = @var{mygroup}[@var{-1}]    -- last object of the group
 for @var{i} = @var{1}, #@var{mygroup} do @var{obj} = @var{mygroup}[@var{i}] ... end
 for @var{obj} in @var{mygroup} do ... end
 @end example
@@ -4462,6 +4471,32 @@
 @end example
 Every group returns a shuffled group with the same members when receiving the
 message @code{&quot;shuffle&quot;}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Sorted Group:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sorted_group} = @var{group}:@b{sort}(&quot;@b{linear}&quot;, po(@var{2}, @var{1}))
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sorted_group} = @var{group}:@b{sort}(&quot;@b{linear}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sorted_group} = @var{group}:@b{sort}(&quot;@b{circular}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sorted_group} = @var{group}:@b{sort}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+Sort group objects in linear order according to given direction vector, or
+direction determined by the first two objects. Or order objects cicular around
+their center. If no argument is given order objects lexically.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Subset Group:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sub_group} = @var{group}:@b{sub}(@var{2})   -- first two objects
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sub_group} = @var{group}:@b{sub}(@var{-2})  -- last two objects
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sub_group} = @var{group}:@b{sub}(@var{2}, @var{4}) -- objects from 2 to 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{sub_group} = @var{group}:@b{sub}(@var{2}, @var{-2}) -- two objects starting with 2
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+Build subgroup with given indices and numbers.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Nearest Object:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{object} = @var{group}:@b{nearest}(@var{reference})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+Search object in group that is nearest to the given reference object.
 @end table
 
 @c ----------------- Tiles and World Tasks --------------------
@@ -5229,6 +5264,8 @@
 handle allows you to retrieve existing named positions, too. Furtheron positions
 are implicitly created as return values of many operations.
 
+For task driven samples @pxref{Position Tasks}.
+
 Let us look at the supported operators:
 
 @table @asis
@@ -5250,10 +5287,10 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = @i{po}(3, 4) + @{1, 2@}              -- = po(4, 6)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = @var{myobject} - @i{po}(1, 5)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpolist} = @i{po}(2, 3) + @var{NEIGHBORS_4}      -- po(1, 3) .. po(2, 4) .. po(3, 3) .. po(2, 2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpolist} = @i{po}[&quot;@var{myfloor}#*&quot;] - @i{po}(3, 0)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @i{po}(@var{3}, @var{4}) + @{@var{1}, @var{2}@}              -- = po(4, 6)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @var{myobject} - @i{po}(@var{1}, @var{5})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpolist} = @i{po}(@var{2}, @var{3}) + @var{NEIGHBORS_4}      -- po(1, 3) .. po(2, 4) .. po(3, 3) .. po(2, 2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpolist} = @i{po}[&quot;@var{myfloor}#*&quot;] - @i{po}(@var{3}, @var{0})
 @end example
 @end table
 
@@ -5271,8 +5308,8 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = 3 * @i{po}(3, 4)   -- = po(9, 12)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = @i{po}(2, 3) / 2   -- = po(1, 1.5)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @var{3} * @i{po}(@var{3}, @var{4})   -- = po(9, 12)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @i{po}(@var{2}, @var{3}) / @var{2}   -- = po(1, 1.5)
 @end example
 @end table
 
@@ -5287,7 +5324,7 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at i</A>{po}(3, 4)   -- = po(-3, -4)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at i</A>{po}(@var{3}, @var{4})   -- = po(-3, -4)
 @end example
 @end table
 
@@ -5302,7 +5339,7 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = #@i{po}(3, 4)   -- = po(3.5, 4.5)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = #@i{po}(@var{3}, @var{4})   -- = po(3.5, 4.5)
 @end example
 @end table
 
@@ -5320,9 +5357,9 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{bool} = @i{po}(3, 4) == @i{po}(@{3, 4@})  -- = true
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{bool} = @i{po}(3, 4) == @i{po}(4, 3)    -- = false
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{bool} = @i{po}(3, 4) ~= @i{po}(4, 3)    -- = true
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{po}(@var{3}, @var{4}) == @i{po}(@{@var{3}, @var{4}@})  -- = true
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{po}(@var{3}, @var{4}) == @i{po}(@var{4}, @var{3})    -- = false
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{po}(@var{3}, @var{4}) ~= @i{po}(@var{4}, @var{3})    -- = true
 @end example
 @end table
 
@@ -5339,7 +5376,7 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpolist} = @i{po}(3, 4) .. @i{po}(4, 4)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpolist} = @i{po}(@var{3}, @var{4}) .. @i{po}(@var{4}, @var{4})
 @end example
 @end table
 
@@ -5361,11 +5398,11 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{number} = @i{po}(3, 4)[&quot;x&quot;]            -- = 3
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{number} = @i{po}(3, 4).x               -- = 3
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{number} = @i{po}(3, 4)[&quot;y&quot;]            -- = 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{number} = @i{po}(3, 4).y               -- = 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{number1}, @var{number2} = @i{po}(3, 4):xy()  -- = 3, 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{po}(@var{3}, @var{4})[&quot;@b{x}&quot;]            -- = 3
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{po}(@var{3}, @var{4})<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{x}               -- = 3
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{po}(@var{3}, @var{4})[&quot;@b{y}&quot;]            -- = 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{po}(@var{3}, @var{4})<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{y}               -- = 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number1}, @var{number2} = @i{po}(@var{3}, @var{4}):@b{xy}()  -- = 3, 4
 @end example
 @end table
 
@@ -5380,8 +5417,8 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = @i{po}(3.2, 4.7):grid()    -- = 3, 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{newpos} = @i{po}(-2.4, -5.0):grid()  -- = -3, -5
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @i{po}(@var{3.2}, @var{4.7}):@b{grid}()    -- = 3, 4
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @i{po}(@var{-2.4}, @var{-5.0}):@b{grid}()  -- = -3, -5
 @end example
 @end table
 
@@ -5403,7 +5440,7 @@
 
 @item @b{Syntax Samples:}
 @example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{boolean} = @i{po}(3.2, 4.7):exists()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{boolean} = @i{po}(@var{3.2}, @var{4.7}):@b{exists}()
 @end example
 @end table
 @end table
@@ -5414,16 +5451,647 @@
 @node Object
 @section Object
 
+This datatype handels all world participating objects as described in
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Object Layers}. When you request an object you get a reference to this
+object and not the object itself. You can modify the object, but the object
+can be modified by user actions, too. Deleting your reference by assigning
+another value to your variable does not delete the object itself.
+
+On the other hand an object can cease to exist due to user actions while you
+still have a reference assigned to a Lua variable. Of course this reference
+gets invalid when the referenced object is deleted. But such an invalid
+reference, which we call a @samp{NULL} reference, is no longer fatal with the
+new API. Any write accesses on such references are simply ignored. Thus you can
+send messages to object references independently of their validity. Just on
+read accesses you may want to prior check the existance of an object as you
+would get @samp{nil} values on access of @samp{NULL} references.
+
+Objects take attributes that you access by Lua index methods. Additional to
+the object specific attributes you are free to store your own customer 
+attributes on any object. Customer attributes are any indices starting with an
+underscore @samp{_} as prefix to their name.
+
+The real world objects are created by assigning a @ref{Tile} declaration to
+a @ref{World} position. You retrieve a corresponding object reference either
+by the @ref{NamedObjects} repository, by @ref{Functions} or other methods that
+return single object references.
+
+Objects provide most methods of a @ref{Position} and can in most cases be 
+directly used as a position without explicit conversion. Just special methods
+like existence differ on both datatypes. Of course all objects placed in the
+world are limited to positions within the world. But be aware that portable 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Items} can well be part of a player's inventory and thus report a position 
+outside of the world. Actors will always report positions rounded to the
+containing grid. This feature is legacy. As Lua code is anyway unapropriate to
+handle actor movements we maintained this rounding feature.
+
+Objects support standard set operators of @ref{Groups}, too, as long as one
+operand is a group and the other an object.
+
+For task driven samples @pxref{Object Tasks} and @ref{Attribute Tasks}.
+
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Attribute Access:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj}[&quot;attributename&quot;]
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{obj}[&quot;attributename&quot;] = value
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{obj}:set(@{attributename1=value1, attributename2=value2,...@})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Read or write object attributes as described in the following chapters or
+custom attributes. The @samp{set} method allows you to set multiple attributes
+at once. Attribute writes are ignored if the object reference is invalid.
+Attribute reads require a valid object reference. Otherwise they return
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{nil}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}[&quot;@b{color}&quot;]
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{color}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}[&quot;@b{color}&quot;] = @var{BLACK}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{color} = @var{BLACK}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}:@b{set}(@{@b{target}=@var{mydoor}, @b{action}=&quot;@b{open}&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Messaging:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj}:message(&quot;msg&quot;, value)
+
+result = @i{obj}:msg(value)
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Send a message with a given value or @samp{nil} to the object. Every message
+can be sent directly as a method with the given message name. When the object
+reference is invalid the message is simply ignored.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}:@b{message}(&quot;@b{open}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}:@b{open}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}:@b{message}(&quot;@b{signal}&quot;, @var{1})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{obj}:@b{signal}(@var{1})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Equality/Inequality:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj1} &lt;==|~=&gt; @i{obj2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A comparison of two object values. Two objects values are equal if both
+reference the same, still existing world object. Otherwise they are unequal.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @var{obj1} == @var{obj1}  -- = true
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @var{obj1} == @var{obj2}  -- = false, if two different objects
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @var{obj1} ~= @var{obj2}  -- = true, if two different objects
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Existence:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at i</A>{obj}
+
+result = @i{obj}:exists()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Checks whether an object reference is still valid. Returns true if the object
+still exists, otherwise false is returned.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at var</A>{obj}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @var{obj}:@b{exists}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Kill:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{obj}:kill()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Kills the object at once. Note that you should never kill a sender object
+within a callback action. If you have need of killing the sender then add
+the attribute @ref{safeaction} as explained in @ref{Target - Action }.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}:@b{kill}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Kind Checks:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj}:is(&quot;kind&quot;)
+
+result = @i{obj}:kind()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+These methods allow you to check or retrieve the @ref{Object Kind}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @var{obj}:@b{is}(&quot;@b{st_chess}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{string} = @var{obj}:@b{kind}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Coordinate Access:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj}[&quot;x&quot;]
+
+result = @i{obj}[&quot;y&quot;]
+
+result1, result2 = @i{obj}:xy()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The single position coordinates of an object can be read anytime. You can
+retrieve single coordinates by Lua square bracket index access. Of course you
+can use the Lua alternative dot index access syntax, too (see examples). If you
+want to evaluate both coordinates, you can make use of the method @samp{xy()},
+that returns both numbers at once in a Lua multiple assignment. Anyway the
+coordinates of an object are read only. You can not reposition an object by
+changing its coordinates.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @var{obj}[&quot;@b{x}&quot;]
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @var{obj}<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{x}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @var{obj}[&quot;@b{y}&quot;]
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @var{obj}<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{y}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number1}, @var{number2} = @var{obj}:@b{xy}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Addition/Subtraction:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj} &lt;@b{+}|@b{-}&gt; &lt;@i{pos} | @i{obj} | @i{cpos} | @i{polist}&gt;
+
+result = &lt;@i{pos} | @i{obj} | @i{cpos} | @i{polist}&gt; &lt;@b{+}|@b{-}&gt; @i{obj}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+When an object is added to or subtracted from another position or data 
+convertable to a position the result is the position value representing the 
+vectorial addition or difference of both positions.
+
+If an object is added to subtracted from a position list a new list is created
+with the positions representing the sum or difference of the position with every
+member of the supplied position list.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @var{obj} + @{@var{1}, @var{2}@}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = @var{myobject} - @var{obj}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpolist} = @var{obj} + @var{NEIGHBORS_4}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpolist} = @i{po}[&quot;@var{myfloor}#*&quot;] - @var{obj}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Center:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = #@i{obj}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A rounding of an objects position vector to the center of the grid. A new 
+position value with coordinates of the center of the containing grid position 
+is returned.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newpos} = #@var{obj}   -- e.g. po(3.5, 4.5)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Join:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj} + @i{group}
+
+result = @i{group} + @i{obj}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A new set containg the objects of the group plus the single object is returned.
+The object sequence is maintained. If the object is already member of the group
+the new group will contain just one object reference, namely the first one in
+sequence.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} + @i{grp}(@var{obj2}, @var{obj3}, @var{obj1})   -- = grp(obj1, obj2, obj3)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj2}, @var{obj3}) + @var{obj1}         -- = grp(obj2, obj3, obj1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Intersection:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj} * @i{group}
+
+result = @i{group} * @i{obj}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A new set cointaing just the object iteself, in case it is part of the group, 
+too, or an empty group returned.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} * @i{grp}(@var{obj1}, @var{obj2})  -- = grp(obj1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj2}) * @var{obj1}         -- = grp()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Difference:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj} - @i{group}
+
+result = @i{group} - @i{obj}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+In the first case a new set containg just the object itself, if it is not part
+of the group, too, or an empty group returned. In the second case the new group
+contains all members of the old group without the object. The sequence of
+objects remains untouched.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} - @i{grp}(@var{obj2}, @var{obj1})  -- = grp()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}) - @var{obj1}  -- = grp(obj2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Sound:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{obj}:sound(&quot;name&quot;, volume)
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Play a sound of given name at the position of the object. The volume defaults
+to @samp{1}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}:@b{sound}(&quot;@b{quake}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{obj}:@b{sound}(&quot;@b{quake}&quot;, @var{2})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
 @c ----------------- Group --------------------
 
 @node Group
 @section Group
 
+A group is a sorted set of @ref{Object}s. Every object can be contained just
+in one instance in the group. In contrast to a Lua table the group is a constant
+value datatype. Once you retrieved a group it can not be modified. But you can
+calculate and and apply operators like join, intersection and difference on
+groups and generate thereby other group values as results.
+
+Even though groups as values are long living you should be carefully in keeping
+a group longer than a callback evaluation. Groups contain object references and
+objects can be killed. Thus a prior retrieved group may contain invalid
+object references on a subsequent callback evaluation. This may be uncritical
+if you just send a message to a group, but in other cases you may need to
+clean the group from invalid members (see below).
+
+You create a group by listing the contained objects as arguments to the 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{grp()} @ref{Functions}, by retrieving objects from the @ref{NamedObjects}
+repository or as result of other methods and calculations.
+
+As groups are constant the sequence of contained objects is stable. All 
+operations that generate resulting new groups maintain this sequence as far
+as possible. E.g. a join of two groups takes the objects of the first group
+in the given sequence and appends the additional objects of the second group
+in the sequence they appear in the second group.
+
+All group operations that return new groups clean their results from any
+meanwhile invalid @samp{NULL} object references. You can use this feature
+to clean a group by the function @samp{grp()}.
+
+Any message sent to a group will be forwarded to all its members in sequence.
+An attribute write access to a group results in series of attribute writes
+on every group member in sequence, too.
+
+But of course you can iterate over a group and access every member by index
+access. Several special methods for common group evaluations like shuffling,
+subgroup, sort, etc. are supported, too.
+
+For task driven samples @pxref{Group Tasks}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Messaging:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}:message(&quot;msg&quot;, value)
+
+result = @i{group}:msg(value)
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Send a message with a given value or @samp{nil} to all objects in the group.
+Every message can be sent directly as a method with the given message name.
+When an object reference is invalid the message is simply ignored. You are
+even allowed to send a @samp{kill()} message to all objects in a group. The
+objects will be killed, but the group remains filled with invalid @samp{NULL}
+object references.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{group}:@b{message}(&quot;@b{open}&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{group}:@b{open}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{group}:@b{message}(&quot;@b{signal}&quot;, @var{1})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{group}:@b{signal}(@var{1})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{value} = @var{group}:@b{kill}()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Attribute Write:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{group}[&quot;attributename&quot;] = value
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{group}:set(@{attributename1=value1, attributename2=value2,...@})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Set attributes as described in the following chapters or custom attributes on
+all objects of the group. The @samp{set} method allows you to set multiple
+attributes at once. Attribute writes are ignored if an object reference is
+invalid. Attribute read on groups in not allowed - the group index read is
+overloaded as a group member access.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{group}[&quot;@b{color}&quot;] = @var{BLACK}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{group}<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">. at b</A>{color} = @var{BLACK}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{group}:@b{set}(@{@b{target}=@var{mydoor}, @b{action}=&quot;@b{open}&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Equality/Inequality:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group1} &lt;==|~=&gt; @i{group2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A comparison of two groups. Two groups are equal if both contain the same set
+of objects independent of their sequence within both groups. Otherwise they are
+unequal.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{grp}(@var{obj1}, @var{obj2}) == @i{grp}(@var{obj2}, @var{obj1})  -- = true
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{grp}(@var{obj1}, @var{obj2}) == @i{grp}(@var{obj1}, @var{obj3})  -- = false, if different object contents
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{bool} = @i{grp}(@var{obj1}) ~= @i{grp}(@var{obj2}, @var{obj1})        -- = true, if different object contents
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Length:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = #@i{group}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Number of objects contained in the group. Invalid @samp{NULL} object references
+are counted, too.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = #@i{grp}(@var{obj1}, @var{obj2})         -- = 2
+for @var{i} = @var{1}, #@var{group} do @var{obj} = @var{group}[@var{i}] ... end
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Member Access:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}[@i{index}]
+
+result = @i{group}[@i{obj}]
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+An index like read access with an index number between 1 and #@i{group} returns
+the object in the related group sequence position. Negative indices between
+-#@i{group} and -1 give the same objects. Thus you can always access the last
+object at index -1. All other index positions return an invalid @samp{NULL}
+object - not @samp{nil} as tables do! Thus you are always able to send messages
+to returned object references.
+
+An index like read access with an object as index returns the sequence position
+number, the number index, of the object if it is contained in the group or 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{nil} if it is not contained.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{object} = @i{grp}(@var{obj1}, @var{obj2})[2]     -- = obj2
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{object} = @i{grp}(@var{obj1}, @var{obj2})[-1]    -- = obj2
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{object} = @i{grp}(@var{obj1}, @var{obj2})[0]     -- = NULL object
+for @var{i} = @var{1}, #@var{group} do @var{obj} = @var{group}[@var{i}] ... end
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{grp}(@var{obj1}, @var{obj2})[@var{obj2}]  -- = 2
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{number} = @i{grp}(@var{obj1}, @var{obj2})[@var{obj3}]  -- = nil
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Loop:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+for @i{obj} in @i{group} do ... end
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Looping over all objects contained in a group. The loop occurs in the sequence
+of the contained objects and includes all objects, even invalid @samp{NULL}
+object references.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+for @var{obj} in @var{group} do @var{obj}:@b{toggle}() end
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Join:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group} + &lt;@i{obj}|@i{group}&gt;
+
+result = &lt;@i{obj}|@i{group}&gt; + @i{group}
+
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A new set containg any object of of both arguments just once, is returned. The
+object sequence is maintained. If an object is member of both arguments the new
+group will contain just one object reference, namely the first one in sequence.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} + @i{grp}(@var{obj2}, @var{obj3}, @var{obj1})   -- = grp(obj1, obj2, obj3)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj2}, @var{obj3}) + @i{grp}(@var{obj1}, @var{obj3})   -- = grp(obj2, obj3, obj1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Intersection:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = &lt;@i{obj}|@i{group}&gt; * @i{group}
+
+result = @i{group} * &lt;@i{obj}|@i{group}&gt;
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A new set cointaing just those objects that a contained in both arguments. The
+objects are returned in the same sequence as they appear in the first argument.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} * @i{grp}(@var{obj2}, @var{obj1})  -- = grp(obj1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}) * @i{grp}(@var{obj2}, @var{obj1}, @var{obj3})  -- = grp(obj1, obj2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Difference:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = &lt;@i{obj}|@i{group}&gt; - @i{group}
+
+result = @i{group} - &lt;@i{obj}|@i{group}&gt;
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A new set containg just those objects of the first argument, that are not
+contained in the second argument is returned. The sequence of the objects
+in the new group is the same as in the first argument.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @var{obj1} - @i{grp}(@var{obj2}, @var{obj1})  -- = grp()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}) - @i{grp}(@var{obj2}, @var{obj4})  -- = grp(obj1, obj3)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Shuffle:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}:shuffle()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Returns a new group with the same objects in another random sequence. Note that
+all invalid @samp{NULL} object reference are removed in the resulting group by
+this method call.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Sorting:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}:sort(&quot;circular&quot;)
+
+result = @i{group}:sort(&quot;linear&quot; &lt;, @i{direction}&gt;)
+
+result = @i{group}:sort()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Returns a new group with the same objects in another sorted sequence. Note that
+all invalid @samp{NULL} object reference are removed in the resulting group by
+this method call.
+
+With a string argument @code{&quot;circular&quot;} the objects are aranged arround their
+center by their angle. The distance from this center has no influence.
+
+With a string argument @code{&quot;linear&quot;} the objects are aranged in a linear 
+fashion. You either supply a @ref{Position} as sorting direction vector, or
+the first two objects of the group will define the sorting direction as default.
+
+If no sorting argument is supplied the objects will be sorted by their name
+in lexical order.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}):sort(&quot;linear&quot;, po(2,1))
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}):sort(&quot;circular&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}):sort()
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Subset:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}:sub(@i{number})
+
+result = @i{group}:sub(@i{start}, @i{end})
+
+result = @i{group}:sub(@i{start}, <A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at i</A>{number})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Returns a new group with a subset of the contained objects. The sequence of
+objects in the new group is identical to the sequence in the originating group.
+Note that all invalid @samp{NULL} object reference are removed in the resulting
+group by this method call after determination of the sub set candidate objects.
+
+With a number as argument you determine the number of requested objects. A
+positive number returns the amount of objects starting with the first object
+of the group. Whereas a negative number returns objects from the tail of the
+group. In this case the absolute value determines the number of selected objects
+counted backwards from the last one in sequence.
+
+With two positive numbers as arguements you define the first and the last sequence
+index of the requested subset.
+
+With two numbers, but the second one being negative, you define the first object
+and the with the absolute value of the second number you define the amount of
+objects you want in your subset.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}, @var{obj4}):sub(2)     -- = grp(obj1, obj2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}, @var{obj4}):sub(-2)    -- = grp(obj3, obj4)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}, @var{obj4}):sub(2, 4)  -- = grp(obj2, obj3, obj4)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newgroup} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}, @var{obj4}):sub(2, -2) -- = grp(obj2, obj3)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Nearest Object:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
+result = @i{group}:nearest(@i{obj})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Returns the object contained in the group that is nearest to the given reference
+object. The distances are calculated exactly without rounding actor positions.
+In case two object have the same distance from the reference object one is
+chosen by chance as the result.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at var</A>{newobject} = @i{grp}(@var{obj1}, @var{obj2}, @var{obj3}):sub(@var{obj4})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
 @c ----------------- NamedObjects --------------------
 
 @node NamedObjects
 @section NamedObjects
 
+Repository
+
 @c ----------------- PositionList --------------------
 
 @node PositionList


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001094.html">[Enigma-game-svn] r1664 - in trunk: attic/images-stones data	data/gfx16 data/gfx32 data/gfx40 data/gfx48 data/gfx64
</A></li>
	<LI>Next message: <A HREF="001096.html">[Enigma-game-svn] r1666 - in trunk: attic/images-stones data	data/gfx40 src/stones
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1095">[ date ]</a>
              <a href="thread.html#1095">[ thread ]</a>
              <a href="subject.html#1095">[ subject ]</a>
              <a href="author.html#1095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
