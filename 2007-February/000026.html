<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r586 - in trunk: doc doc/reference src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r586%20-%20in%20trunk%3A%20doc%20doc/reference%20src&In-Reply-To=%3C200702022312.l12NCN6T006217%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000025.html">
   <LINK REL="Next"  HREF="000027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r586 - in trunk: doc doc/reference src</H1>
    <B>raoul at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r586%20-%20in%20trunk%3A%20doc%20doc/reference%20src&In-Reply-To=%3C200702022312.l12NCN6T006217%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r586 - in trunk: doc doc/reference src">raoul at mail.berlios.de
       </A><BR>
    <I>Sat Feb  3 00:12:23 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000025.html">[Enigma-game-svn] r585 - branches/1.0/data
</A></li>
        <LI>Next message: <A HREF="000027.html">[Enigma-game-svn] r587 - trunk/doc/reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: raoul
Date: 2007-02-03 00:12:23 +0100 (Sat, 03 Feb 2007)
New Revision: 586

Modified:
   trunk/doc/enigma.6
   trunk/doc/reference/enigma-ref.texi
   trunk/src/main.cc
   trunk/src/stones_simple.cc
Log:
-&gt; Updated manpage
-&gt; Updated startups witches section in the refman
-&gt; Updated output of enigma --help

-&gt; Fixed bug with st-rubberband



Modified: trunk/doc/enigma.6
===================================================================
--- trunk/doc/enigma.6	2007-02-01 20:39:55 UTC (rev 585)
+++ trunk/doc/enigma.6	2007-02-02 23:12:23 UTC (rev 586)
@@ -1,89 +1,106 @@
-.TH &quot;ENIGMA&quot; &quot;6&quot; &quot;March 14th, 2005&quot; &quot;Daniel Heck&quot; &quot;The Free Oxyd Clone&quot;
-.SH &quot;NAME&quot;
+.TH ENIGMA 6 &quot;February 2nd, 2007&quot; &quot;Raoul Bourquin&quot; &quot;Enigma&quot;
+.
+.SH NAME
 enigma \- Puzzle game reminiscent of Oxyd
-.SH &quot;SYNOPSIS&quot;
-\fBenigma\fR [\fB\-\-nosound\fR] [\fB\-\-nomusic\fR]
-[\fB\-\-nograb\fR] [\fB\-\-window\fR] [\fB\-h\fR|\fBhelp\fR]
-[\fB\-\-data=dir\fR] [\fB\-\-lang=lang\fR]
-[\fB\-\-version\fR]
 .
-.SH &quot;DESCRIPTION&quot;
+.SH SYNOPSIS
+.B enigma
+.RI [\| options \|]
+.RI [\| levelfile.xml \|]
+\&amp;.\|.\|.
+.br
+.B enigma
+.RB [\| \-\-assert \|]
+.RB [\| \-d 
+.IR path \|] 
+.RB [\| \-\-help \|]
+.RB [\| \-l 
+.IR lang \|]
+.RB [\| \-\-log \|]
+.RB [\| \-\-nograb \|]
+.RB [\| \-\-nomusic \|]
+.RB [\| \-\-nosound \|]
+.RB [\| \-p 
+.IR file \|]
+.RB [\| \-\-showfps \|]
+.RB [\| \-\-version \|]
+.RB [\| \-w \|]
+.RI [\| levelfile.xml \|]
+\&amp;.\|.\|.
 .
-Enigma is a puzzle game similar to Oxyd on the Atari ST or Rock'n'Roll
-on the Amiga and good old &quot;Marble Madness&quot;.
-.PP 
-In Enigma, your objective is to locate and uncover matching pairs of
-Oxyd stones. Simple as it sounds, this task is made more difficult by
-the fact that Oxyd stones tend to be hidden, inaccessible, or protected
-by unexpected traps. Overcoming these obstacles often requires a lot
-of dexterity and wit (and can be quite addictive).
+.SH DESCRIPTION
+.
+The object of the game is to find and uncover pairs of identically
+colored Oxyd stones. Simple? Yes. Easy? Certainly not!  Hidden
+traps, vast mazes, laser beams, and, most of all, countless hairy
+puzzles usually block your direct way to the Oxyd stones.  Enigma's
+game objects (and there are hundreds of them, lest you get bored)
+interact in many unexpected ways, and since many of them follow the laws of
+physics (Enigma's special laws of physics, that is), controlling them
+with the mouse isn't always trivial .\|.\|.\|
 .PP
-.B For more information, please refer to the HTML manual!
+.B For more information, please refer to the manual
+.B or the project homepage: &lt;<A HREF="http://www.nongnu.org/enigma/">http://www.nongnu.org/enigma/</A>&gt;!
 .
-.SH &quot;OPTIONS&quot;
+.SH OPTIONS
 .
-.IP &quot;\-\-nosound&quot;
-Start Enigma without sound. Enigma uses SDL for its sound output.
-.IP &quot;\-\-nomusic&quot;
-Start Enigma without music. Sound effects will still be played.
-.IP &quot;\-\-nograb&quot;
+.TP
+.B \-\-assert
+Forces all debugging assertions, even expensive ones, to be evaluated.
+.TP
+.BI \-d\  path ,\ \-\-data= path 
+Prepend another data directory to Enigma's search path.
+.TP
+.B \-h, \-\-help
+Display a list of available command line options and quit.
+.TP
+.BI \-l\  lang ,\ \-\-lang= lang 
+Override the default language. The language is given in the common 2 character
+sequence as fr for French or ru for Russian.
+.TP
+.B \-\-log
+This switch turns on logging of internal information to the standard output.
+.TP
+.B \-\-nograb
 Do not use exclusive mouse/keyboard access.
-.IP &quot;\-\-window&quot;
+.TP
+.B \-\-nomusic
+Start Enigma without background music. Sound effects will still be played.
+.TP
+.B \-\-nosound
+Start Enigma without sound effects.
+.TP
+.BI \-p\  file ,\ \-\-pref= file
+Start Enigma with an alternative preferences file without the leading dot for
+hidden filenames.
+.TP
+.B \-\-showfps
+Show the framerate (FPS) during the Game.
+.TP
+.B \-\-version
+Print the Enigma version number and quit.
+.TP
+.B \-w, \-\-window
 Run Enigma in a window; do not switch to fullscreen mode.
-.IP &quot;\-\-data=dir, \-d dir&quot;
-Prepend a directory to Enigma's search path.
-.IP &quot;\-\-lang=lang, \-l lang&quot;
-Override the default language.  See examples.
-.IP &quot;\-\-help, \-h&quot;
-Display a list of available command line options and quit.
-.IP &quot;\-\-version&quot;
-Print the Enigma version number and quit.
 .
-.SH &quot;USAGE&quot;
+.SH USAGE
 .
-The objective of the game is to find and activate pairs of &quot;Oxyd&quot;
-stones with matching colors.  To this end, you are equipped with a
-small black ball that you control with your mouse.  But watch out!
-There are lasers, bombs, pits, and other harmful objects that may
-interfere with that simple goal, not to mention the countless devious
-puzzles the level designers have put in.
-.PP 
-There are several in\-game control keys.
-.IP &quot;Left mouse button&quot;
-Apply the selected item in your inventory.
-.IP &quot;Right mouse button or mouse wheel&quot;
-Rotate inventory items.
-.IP &quot;Tabulator&quot;
-Rotate inventory items.
-.IP &quot;Escape&quot;
-Enter the in\-game menu.
-.IP F1
-Display help screen.
-.IP F3
-Restart the current level.
-.IP F4
-Move to the next level.
-.IP F5
-Move to the next unsolved level.
-.IP F10
-Take a screenshot.
-.IP Left
-Decrease mouse speed.
-.IP Right
-Increase mouse speed.
-.IP Alt+Return 
-Toggle between fullscreen and windowed display.
-.IP Alt\-X 
-Return to the level menu immediately.
+For the many in\-game control keys take a look at the manual or press
+.B F1
+to get online help in nearly all menus.
 .
-.SH &quot;BUGS&quot;
+.\SH SEE ALSO
+.\Other related Manpages? I don't think there are any :)
 .
-Please report bugs to &lt;enigma\<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">-devel at nongnu.org</A>&gt;.
+.SH AUTHORS
 .
-.SH &quot;AUTHORS&quot;
-.
-Daniel Heck &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">dheck at ix.urz.uni</A>\-heidelberg.de&gt; is the main author 
+Daniel Heck &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">dheck at gmx.de</A>&gt; is the main author 
 and maintainer of Enigma.
 Enigma itself is based on Oxyd, created by Meinolf Schneider.
 This manual page was created by Joe Wreschnig &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">piman at sacredchao.net</A>&gt; 
-and is currently maintained by Daniel Heck.
+and is currently maintained by Raoul Bourquin.
+.
+.SH BUGS
+.
+Please report bugs to &lt;enigma\<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">-devel at nongnu.org</A>&gt;.
+.

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2007-02-01 20:39:55 UTC (rev 585)
+++ trunk/doc/reference/enigma-ref.texi	2007-02-02 23:12:23 UTC (rev 586)
@@ -192,7 +192,7 @@
 application in its core parts.
 
 @item @b{<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at w</A>{}-nomusic}
-Start Enigma without playing backgroud music.
+Start Enigma without playing background music.
 
 @item @b{<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at w</A>{}-nosound}
 Start Enigma with sounds being switched off.
@@ -202,6 +202,9 @@
 filenames. This switch is a pure Enigma developer support feature as described
 in @ref{Locating Resources}.
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at w</A>{}-showfps}
+Show the framerate (FPS) during the Game.
+
 @item @b{<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at w</A>{}-version}
 Just print the version number to the output and terminate.
 

Modified: trunk/src/main.cc
===================================================================
--- trunk/src/main.cc	2007-02-01 20:39:55 UTC (rev 585)
+++ trunk/src/main.cc	2007-02-02 23:12:23 UTC (rev 586)
@@ -111,17 +111,20 @@
 
 static void usage()
 {
-    printf(&quot;Usage: %s [options] [level files]\n\n&quot;
+    printf(&quot;Usage: %s [OPTION]... [levelfile.xml]...\n\n&quot;
            &quot;Available options :\n\n&quot;
-           &quot;    --nosound      Disable music and sound\n&quot;
-           &quot;    --nomusic      Disable music\n&quot;
-           &quot;    --window -w    Run in a window; do not enter fullscreen mode\n&quot;
+           &quot;    --assert       Evaluate all debugging assertions\n&quot;
+           &quot;    --data -d path Load data from additional directory\n&quot;
            &quot;    --help -h      Show this help\n&quot;
-           &quot;    --version      Print the executable's version number\n&quot;
+           &quot;    --lang -l lang Set game language\n&quot;
+           &quot;    --log          Turn on logging to the standard output\n&quot;
            &quot;    --nograb       Do not use exclusive mouse/keyboard access\n&quot;
-           &quot;    --data -d path Load data from additional directory\n&quot;
-           &quot;    --lang -l lang Set game language\n&quot;
+           &quot;    --nomusic      Disable music\n&quot;
+           &quot;    --nosound      Disable music and sound effects\n&quot;
            &quot;    --pref -p file Use filename for preferences\n&quot;
+           &quot;    --showfps      Show the framerate (FPS) during the Game\n&quot;
+           &quot;    --version      Print the executable's version number\n&quot;
+           &quot;    --window -w    Run in a window; do not enter fullscreen mode\n&quot;
            &quot;\n&quot;,
            app.progCallPath.c_str()
            );

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2007-02-01 20:39:55 UTC (rev 585)
+++ trunk/src/stones_simple.cc	2007-02-02 23:12:23 UTC (rev 586)
@@ -1136,7 +1136,7 @@
 
             // The mode attribute &quot;scissor&quot; defines, if when touching an st-rubberband,
             // other rubberbands to the actor will be cut of or not, true means they will. true is default.
-            bool isScissor = to_bool(getAttr(&quot;scissor&quot;));
+            bool isScissor = to_bool(getAttr(&quot;scissor&quot;,&quot;true&quot;));
 
             if (!world::HasRubberBand (sc.actor, this)) {
                 sound_event (&quot;rubberband&quot;);
@@ -1145,7 +1145,7 @@
                 }
                 world::AddRubberBand (sc.actor, this, rbd);
             }
-//             if (player::wielded_item_is (sc.actor, &quot;it-magicwand&quot;))
+            // if (player::wielded_item_is (sc.actor, &quot;it-magicwand&quot;))
             maybe_push_stone (sc);
         }
 
@@ -1154,9 +1154,6 @@
             if (a &amp;&amp; player::WieldedItemIs (a, &quot;it-magicwand&quot;))
                 move_stone(impulse.dir);
         }
-
-        
-
     public:
         RubberBandStone () {
             set_attrib(&quot;length&quot;, 1.0);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000025.html">[Enigma-game-svn] r585 - branches/1.0/data
</A></li>
	<LI>Next message: <A HREF="000027.html">[Enigma-game-svn] r587 - trunk/doc/reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26">[ date ]</a>
              <a href="thread.html#26">[ thread ]</a>
              <a href="subject.html#26">[ subject ]</a>
              <a href="author.html#26">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
