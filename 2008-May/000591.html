<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1158 - in trunk: data/levels/enigma_vii	doc/reference
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1158%20-%20in%20trunk%3A%20data/levels/enigma_vii%0A%09doc/reference&In-Reply-To=%3C200805222008.m4MK8lk3017672%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000590.html">
   <LINK REL="Next"  HREF="000593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1158 - in trunk: data/levels/enigma_vii	doc/reference</H1>
    <B>ral at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1158%20-%20in%20trunk%3A%20data/levels/enigma_vii%0A%09doc/reference&In-Reply-To=%3C200805222008.m4MK8lk3017672%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1158 - in trunk: data/levels/enigma_vii	doc/reference">ral at mail.berlios.de
       </A><BR>
    <I>Thu May 22 22:08:47 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000590.html">[Enigma-game-svn] r1157 - team_levelpacks/team_test_new_api
</A></li>
        <LI>Next message: <A HREF="000593.html">[Enigma-game-svn] r1159 - trunk/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#591">[ date ]</a>
              <a href="thread.html#591">[ thread ]</a>
              <a href="subject.html#591">[ subject ]</a>
              <a href="author.html#591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ral
Date: 2008-05-22 22:08:45 +0200 (Thu, 22 May 2008)
New Revision: 1158

Modified:
   trunk/data/levels/enigma_vii/index.xml
   trunk/doc/reference/enigma-ref.texi
Log:
Log:
Trunk 1.1: new API
- refman docu update for nearest object (Object Naming)
- refman some typo fixes
- levelpack VII index fix for level &quot;Bold Boulder&quot;

Modified: trunk/data/levels/enigma_vii/index.xml
===================================================================
--- trunk/data/levels/enigma_vii/index.xml	2008-05-19 23:51:30 UTC (rev 1157)
+++ trunk/data/levels/enigma_vii/index.xml	2008-05-22 20:08:45 UTC (rev 1158)
@@ -93,7 +93,7 @@
     &lt;level _seq=&quot;85&quot; _title=&quot;Triggered Triggers&quot; _xpath=&quot;./just19_1&quot; author=&quot;JuSt&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;just19&quot; rel=&quot;1&quot; rev=&quot;2&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;86&quot; _title=&quot;Lady in Red&quot; _xpath=&quot;./just30_1&quot; author=&quot;Just&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;just30&quot; rel=&quot;1&quot; rev=&quot;3&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;87&quot; _title=&quot;Crawling the Abyss&quot; _xpath=&quot;./sph02_1&quot; author=&quot;ShadowPhrogg32642342&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;sph02&quot; rel=&quot;1&quot; rev=&quot;5&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
-    &lt;level _seq=&quot;88&quot; _title=&quot;Bold Boulder&quot; _xpath=&quot;./ral14_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;20061124ral279&quot; rel=&quot;1&quot; rev=&quot;95&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
+    &lt;level _seq=&quot;88&quot; _title=&quot;Bold Boulder&quot; _xpath=&quot;./ral14_1&quot; author=&quot;Ronald Lamprecht&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;20061124ral279&quot; rel=&quot;1&quot; rev=&quot;96&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;89&quot; _title=&quot;Tinker, Tailor&quot; _xpath=&quot;./andreas46_3&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas46&quot; rel=&quot;4&quot; rev=&quot;2&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;90&quot; _title=&quot;Elbow Society&quot; _xpath=&quot;./andreas45_2&quot; author=&quot;Andreas Lochmann&quot; ctrl=&quot;force&quot; easy=&quot;true&quot; id=&quot;andreas45&quot; rel=&quot;2&quot; rev=&quot;5&quot; score=&quot;2&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;
     &lt;level _seq=&quot;91&quot; _title=&quot;Watchmaker&quot; _xpath=&quot;./huesing01_1&quot; author=&quot;Johannes H&#252;sing&quot; ctrl=&quot;force&quot; easy=&quot;false&quot; id=&quot;huesing01&quot; rel=&quot;1&quot; rev=&quot;1&quot; score=&quot;1&quot; target=&quot;time&quot; unit=&quot;duration&quot;/&gt;

Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2008-05-19 23:51:30 UTC (rev 1157)
+++ trunk/doc/reference/enigma-ref.texi	2008-05-22 20:08:45 UTC (rev 1158)
@@ -1954,7 +1954,7 @@
 
 @b{Contents - Elements:}
 
-The comments element itself contains only subelements as content.
+The compatibility element itself contains only subelements as content.
 
 @table @asis
 @item @b{dependency}, @i{optional, mutiple occurence}
@@ -2344,7 +2344,7 @@
 the English string as we will see later.
 
 If the author is not native English-speaking, he should add his own @samp{translation}
-subelement to the @samp{sting} element. The @samp{translation} element has a
+subelement to the @samp{string} element. The @samp{translation} element has a
 single mandatory attribute @samp{lang} that takes the 2-character language
 abbreviation. The contents of the element is the translation itself.
 
@@ -2886,12 +2886,12 @@
 @samp{#} as the last character to a name, e.g. @samp{mydoor#}. This causes Enigma
 to add a unique random number to the given string. Thus an auto named object
 will never unname another prior auto named object. But if you delete an 
-auto named object that has been named e.g. @samp{mydoor#132} the number and
+auto named object that has been named e.g. @samp{mydoor#103284} the number and
 the same name may be assigned to another that is created lateron.
 
 All named objects are registered by the @dfn{named object} repository. The API
 provides a variable @samp{no} that allows you to retrieve any named object, e.g.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at samp</A>{no[&quot;mydoor#1&quot;]}. You get an @ref{Object Reference} or @samp{nil} if no
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{no[&quot;mylaser_a&quot;]}. You get an @ref{Object Reference} or @samp{nil}, if no
 object is registered by the given name.
 
 As you can auto name groups of objects you are allowed to use the wildcard
@@ -2925,12 +2925,12 @@
 In the rare case of objects located on the same position stones will preceed
 items, floors and actors. The chosen target or destination depends just on the
 location of these objects and their type, but nothing else. Thus you can rely
-on a stable selection mechanism.
+on a stable selection mechanism. @ref{Nearest Object Clustering} may help you in
+case of unexpected selected equidistant targets. 
 
-By usage of this nearest object feature you can drastically reduce the number
-of needed tile declarations. @ref{Nearest Object Clustering} may help you in
-case of wrong selected equidistant targets. @ref{Auto Tiling} is another 
-feature for reducing the need of tile declarations.
+Auto naming and nearest object features help you to reduce the number
+of needed tile declarations. Resolvers like @ref{res.autotile} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{res.composer} are other feature for reducing the need of tile declarations.
 
 Another unique feature of object names is their late on access evaluation. This
 allows you to reference an object prior to its existence. E.g. if you want to
@@ -2955,8 +2955,33 @@
 @ref{st_blocker} and it it shrinks to an @ref{it_blocker} you will retrieve this
 item if you ask the name object repository for the named object.
 
+When an object like a door is completly killed, e.g. by an @ref{it_seed},
+it can no longer be targeted by active objects like switches. A still existing
+reference to a no longer existing object does not cause problems on 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Messages}. But what about the nearest object references? To avoid problems
+due to killed objects the standard nearest object reference with just one 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{@@} as prefix are finalized on @ref{Level Initialization}. This means that
+they get substituted by the unique name of the nearest object that exists after
+the creation of all objects and before the user takes action and can kill a
+candidate.
+
+But sometimes you may like a dynamic nearest object target or destination. One
+that is evaluated when it gets accessed. By prefixing a name with @samp{@@@@}
+the reference will not get finalized on initialization but remains dynamic.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+ti[&quot;c&quot;] = @{it_coin_s&quot;, &quot;magic#&quot;@}
+ti[&quot;v&quot;] = @{it_vortex&quot;, destination=&quot;@@@@magic#*@}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
+Setting three magic coins and one vortex in your map will teleport the marble
+to the grid of that coin that is nearest to the vortex at the moment of 
+teleportation.
+
 To avoid unexpected problems with invalid object references a few critical
 objects are internally autonamed if the level author does not provide a name.
+But these unique names should never interfere with the user assigned object
+names.
 
 @node Object Attributes
 @subsection Object Attributes
@@ -3748,6 +3773,7 @@
 * IsDifficult:: 
 * MagnetRange:: 
 * MagnetStrength::
+* MaxOxydColor::
 * Width::
 * WormholeRange:: 
 * WormholeStrength:: 
@@ -3814,10 +3840,10 @@
 @item @b{Support:} @ @ @ref{it_magnet}
 @end table
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at node</A> Width
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at subsection</A> Width
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Height
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Height
 
-A global read only variable reports the width of the the world in grid units.
+A global read only variable reports the height of the the world in grid units.
 This is set by the initial world constructor call 
 (@pxref{World Creation and Resolver Chaining}).
 
@@ -3829,6 +3855,20 @@
 @item @b{Support:} @ @ object independent
 @end table
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> MaxOxydColor
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> MaxOxydColor
+
+A global variable that limits the number of colors assigned to autocolored
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{st_oxyd}. Be careful with increasing this value beyond its default.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Type:} @ @ number
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Values:} @ @ @code{OXYD_BLUE}, ... @code{OXYD_BROWN}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Default:} @ @ @code{OXYD_BLACK}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Access:} @ @ read/write
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Support:} @ @ @ref{st_oxyd}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
 @node WormholeRange
 @subsection WormholeRange
 
@@ -5370,7 +5410,7 @@
 sequence, otherwise the first one closes again.
 
 Even though most levels make use of just a single pair of each color, there
-is no limit on a single color. If you like you can define 3 blue pairs of oxyds
+is no limit on a single color. If you like you can define 3 pairs of blue oxyds
 together with 2 yellow pairs. You do this by setting explicit @samp{oxydcolor}
 attributes to the oxyds.
 
@@ -5378,16 +5418,21 @@
 This causes an automatic coloring by pairs of colors in the standard color
 sequence.
 
-There is no limit on the number of used oxyd pairs. But as just 8 colors do exist
-the colors will repeat from the 9th pair giving the user the possibility to
-build arbitrary couples within a single color. Uneven number of regular colored
-oxyds are not allowed.
+There is no limit on the number of used oxyd pairs. There exists 12 different
+regular colors for oxyds. But per default just the first 8 colors will be
+assigned to @samp{OXYD_AUTO} colored oxyds. The colors will repeat from the
+9th pair giving the user the possibility to build arbitrary couples within a
+single color. With the world attribute @ref{MaxOxydColor} you can lower or
+increase this limit. By setting this attribute to @samp{OXYD_GREEN} you can
+enforce the engine to assign just the first three colors. Be careful in usage
+of more than 8 colors as levels can get incredible difficult. Uneven number of
+regular colored oxyds are not allowed.
 
 Usually oxyds are shuffled by a @samp{wo:shuffleOxyd()} statement after setting
 of all oxyds. All @samp{CLOSED} oxyds that are not explicitly excluded by the
 @samp{noshuffle} attribute take place in shuffling. But you can define
 arbitrary rules to limit and influence the shuffling process to guarantee
-solvabitlity and fairness (@pxref{Oxyd Shuffling Rules}).
+solvabitlity and fairness (@pxref{shuffleOxyd}).
 
 Oxyds are opened either by an actor hit, an additional laser beam, an
 @ref{st_boulder} triggering or a message call. A single opened oxyd is in the
@@ -5395,7 +5440,7 @@
 @samp{OXYDPAIR}. Note that this state can be requested, but it can not be set
 directly.
 
-Single opened oxyds close on not matching partner oxyds being opened and on 
+Single opened oxyds close on a not matching partner oxyd being opened and on 
 @samp{close} messages and state setting operations. But oxyds being part of
 an opened pair will not be closed this way.
 
@@ -5409,8 +5454,8 @@
 part in the oxyd shuffling you can use an oxyd of color @samp{OXYD_FAKE}.
 
 During the game oxyds can be reshuffled. Just those oxyds that are still closed
-will take part in the new shuffle process. @ref{Oxyd Shuffling Rules} will be
-still guranteed for these partial in game reshuffles. It can be initiated either
+will take part in the new shuffle process. Oxyd shuffling rules will still be
+guranteed for these partial in game reshuffles. It can be initiated either
 by a @samp{shuffle} message that is send to any of the oxyd objects, or by
 usage of an oxyd of color @samp{OXYD_BOLD}. If such a special oxyd is opened,
 e.g. by an actor hit, it shuffles all remaining oxyds including itself.
@@ -5437,7 +5482,7 @@
 @item @code{&quot;c&quot;} blue, flat stone that opens by a concentric animation
 @item @code{&quot;d&quot;} dark blue, pyramid like stone that opens like a flower
 @end table
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @b{oxydcolor}, @ @ @i{values}: @code{OXYD_AUTO}, @code{OXYD_FAKE}, @code{OXYD_FART}, @code{OXYD_BOLD}, @code{OXYD_BLUE}, @code{OXYD_RED}, @code{OXYD_GREEN}, @code{OXYD_YELLOW}, @code{OXYD_CYAN}, @code{OXYD_PURPLE}, @code{OXYD_WHITE}, @code{OXYD_BLACK}, ; @ @ @i{default}: @code{OXYD_AUTO}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{oxydcolor}, @ @ @i{values}: @code{OXYD_AUTO}, @code{OXYD_FAKE}, @code{OXYD_FART}, @code{OXYD_BOLD}, @code{OXYD_BLUE}, @code{OXYD_RED}, @code{OXYD_GREEN}, @code{OXYD_YELLOW}, @code{OXYD_CYAN}, @code{OXYD_PURPLE}, @code{OXYD_WHITE}, @code{OXYD_BLACK}, @code{OXYD_GREY}, @code{OXYD_ORANGE}, @code{OXYD_PINE}, @code{OXYD_BROWN}; @ @ @i{default}: @code{OXYD_AUTO}
 @item @b{noshuffle} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 @item @b{static} @ @ @i{values}: @code{true}, @code{false}; @ @ @i{default}: @code{false}
 Static oxyds are neither swappable nor pullable.
@@ -5779,18 +5824,21 @@
 @section World Advanced Methods
 
 @menu 
-* wo:shuffleOxyd::  Oxyd Shuffling Rules
-* wo:drawMap::      
+* shuffleOxyd::  Oxyd Shuffling Rules
+* drawMap::      
 @end menu
 
 @c ----------------- shuffleOxyd -------------------- 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at node</A> wo:shuffleOxyd
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at subsection</A> wo:shuffleOxyd
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> shuffleOxyd
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> shuffleOxyd
 
 Read API Concept Draft
 
 Work in progress!
 
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{st_oxyd}
+
 @table @asis
 @item @b{Syntax:}
 
@@ -5839,8 +5887,8 @@
 @end table
 
 @c ----------------- drawMap -------------------- 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at node</A> wo:drawMap
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at subsection</A> wo:drawMap
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> drawMap
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> drawMap
 
 
 @node Resolvers
@@ -5927,7 +5975,7 @@
 the given first and last keys may just differ in the last character. Again a
 copy of the template rule will be generated and the @samp{%%} patterns will be
 substituted. But in this case the substitution is composed of a single percent
-sign followed by an interger number that counts the key position within the
+sign followed by an integer number that counts the key position within the
 given range. Thus a key of @samp{c} will target the door @samp{door%3}. 
 You need to use the key @samp{C} in the map for the matching door.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000590.html">[Enigma-game-svn] r1157 - team_levelpacks/team_test_new_api
</A></li>
	<LI>Next message: <A HREF="000593.html">[Enigma-game-svn] r1159 - trunk/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#591">[ date ]</a>
              <a href="thread.html#591">[ thread ]</a>
              <a href="subject.html#591">[ subject ]</a>
              <a href="author.html#591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
