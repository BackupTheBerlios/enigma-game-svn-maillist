<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r1727 - trunk/doc/reference
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1727%20-%20trunk/doc/reference&In-Reply-To=%3C200906182338.n5INcEQI027077%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001155.html">
   <LINK REL="Next"  HREF="001157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r1727 - trunk/doc/reference</H1>
    <B>andreasl at mail.berlios.de</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r1727%20-%20trunk/doc/reference&In-Reply-To=%3C200906182338.n5INcEQI027077%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r1727 - trunk/doc/reference">andreasl at mail.berlios.de
       </A><BR>
    <I>Fri Jun 19 01:38:14 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001155.html">[Enigma-game-svn] r1726 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/schemas doc/reference src src/floors src/stones
</A></li>
        <LI>Next message: <A HREF="001157.html">[Enigma-game-svn] r1728 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/levels/enigma_experimental src/floors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1156">[ date ]</a>
              <a href="thread.html#1156">[ thread ]</a>
              <a href="subject.html#1156">[ subject ]</a>
              <a href="author.html#1156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: andreasl
Date: 2009-06-19 01:38:11 +0200 (Fri, 19 Jun 2009)
New Revision: 1727

Modified:
   trunk/doc/reference/enigma-ref.texi
Log:
Refman (trunk):
 - Extended section about libmap.


Modified: trunk/doc/reference/enigma-ref.texi
===================================================================
--- trunk/doc/reference/enigma-ref.texi	2009-06-18 22:17:39 UTC (rev 1726)
+++ trunk/doc/reference/enigma-ref.texi	2009-06-18 23:38:11 UTC (rev 1727)
@@ -8712,18 +8712,20 @@
 @node map read directions
 @subsection map read directions
 
-Number constants for map based method parameters. Please choose the constant
-that is appropriate for an object and do avoid using numbers. 
+Constants for map read directions (see @ref{drawMap}) and map transformations (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Rotating and Mirroring Maps} and @ref{Map Transformation}). They
+are not numbers, to allow advanced operations on them when libmap is loaded, see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Map Transformation Composition and Powers}.
 
 @itemize @bullet
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_IDENT} = @code{0}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_ROT_CW} = @code{1}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_ROT_180} = @code{2}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_ROT_CCW} = @code{3}, by all @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_BACKSLASH} = @code{4}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_HORIZONTAL} = @code{5}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_SLASH} = @code{6}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_VERTICAL} = @code{7}, by @ref{drawMap} and @ref{Rotating and Mirroring Maps}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_IDENT} = no transformation
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_ROT_CW} = rotate map 90 degrees clockwise
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_ROT_180} = rotate map 180 degrees
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_ROT_CCW} = rotate map 90 degrees counter-clockwise
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_BACKSLASH} = flip upper-left and lower-right corners
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_HORIZONTAL} = flip right and left
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_SLASH} = flip upper-right and lower-left corners
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_VERTICAL} = flip up and down
 @end itemize
 
 
@@ -20007,6 +20009,8 @@
 
 It preloads automatically the library @ref{liblua}.
 
+We first give six task-oriented sections, then describe each function in detail.
+
 @menu
 * Creating Maps::
 * Drawing Maps::
@@ -20014,6 +20018,27 @@
 * Requesting and Changing Single Map Entries::
 * Connecting Two Maps::
 * Other Map Tasks::
+* newMap::
+* Map Entry Request:: Index Operator @samp{[]} read and write
+* Map Transformation:: Operator @samp{^}
+* Map Horizontal Concatenation:: Operator @samp{..}
+* Map Vertical Concatenation:: Operator @samp{+}
+* Map Fusing:: Operator @samp{*}
+* Map Default Keys::
+* Map Width and Height::
+* lib.map.covers::
+* lib.map.defuse::
+* lib.map.extend::
+* lib.map.match::
+* lib.map.paste::
+* lib.map.print::
+* lib.map.replace::
+* lib.map.replace_outside::
+* lib.map.sub::
+* lib.map.trim::
+* Map Transformation Composition and Powers:: Operators @samp{*} and @samp{^}
+* Map Transformation Inverse::                Operator @samp{-}
+* Random and All Map Transformations::
 @end menu
 
 @c ----------------- Creating Maps --------------------
@@ -20077,46 +20102,66 @@
 
 We can transform a single map simply by using one of the following commands:
 @example
-newmap = lib.map.transform(mymap, operation)
-newmap = mymap ^ operation
+newmap = lib.map.transform(mymap, maptransformation)
+newmap = mymap ^ maptransformation
 @end example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at samp</A>{operation} can be any of the following constants:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{maptransformation} can be any of the following constants:
 @table @asis
 @item @samp{MAP_IDENT}
 No transformation.
 @item @samp{MAP_ROT_CW}
 Rotate 90 degrees clockwise.
 @item @samp{MAP_ROT_180}
-Rotate 180 degrees (i.e. a point reflection around the midpoint)
+Rotate 180 degrees (i.e. a point reflection around the midpoint).
 @item @samp{MAP_ROT_CCW}
 Rotate 90 degrees counter-clockwise.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_HORIZONTAL}
-Mirror along a vertical axis, i.e. left and right are swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_VERTICAL}
-Mirror along a horizontal axis, i.e. up and down are swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_SLASH}
-Mirror along the diagonal from upper-left to lower-right corner.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">- at item</A> @samp{MAP_MIRROR_BACKSLASH}
-Mirror along the diagonal from upper-right to lower-left corner.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_HORIZONTAL}
+Flip each horizontal line, i.e. mirror against a vertical mirror: left and right are swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_VERTICAL}
+Flip each vertical line, i.e. mirror against a horizontal mirror: up and down are swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_SLASH}
+Flip each @code{/}-diagonal, i.e. mirror against a @code{\}-mirror: upper-right and
+lower-left corners are swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @samp{MAP_FLIP_BACKSLASH}
+Flip each @code{\}-diagonal, i.e. mirror against a @code{/}-mirror: upper-left
+and lower-right corners are swapped.
 @end table
-The mirror-constants might seem inverse to their meaning, however it's meant in
-the following sense: @samp{MAP_MIRROR_HORIZONTAL} flips left and right, i.e. the
-reflection is done in horizontal direction, with a vertical axis.
 
-When you want to perform two transformations after each other, remember that
-neither
+When you apply multiple transformations, remember that their sequence
+matters. If you use
 @example
-newmap = mymap ^ operation1 ^ operation2
+newmap = mymap ^ maptransformation1 ^ maptransformation2 ^ maptransformation3
 @end example
-nor
+then @code{maptransformation1} acts first on @code{mymap}, then comes
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{maptransformation2}, and @code{maptransformation3} is
+last. However, composing transformations is associative, so you can use
 @example
-newmap = mymap ^ (operation1 * operation2)
+newmap = mymap ^ ((maptransformation1 ^ maptransformation2) ^ maptransformation3)
 @end example
-will work. The correct syntax is:
+or
 @example
-newmap = (mymap ^ operation1) ^ operation2
+newmap = (mymap ^ maptransformation1) ^ (maptransformation2 ^ maptransformation3)
 @end example
+to the same effect. Keep in mind that composing transformations is by far faster than
+applying transformations to maps. So the first example is faster than the
+second. Due to Lua's sequence of evaluating operators, 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newmap = mymap ^ maptransformation1 ^ maptransformation2 ^ maptransformation3
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+equals
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newmap = mymap ^ (maptransformation1 ^ (maptransformation2 ^ maptransformation3))
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+and hence already is the fastest possible sequence.
 
+For composing transformations you may use @code{^} as well as @code{*}. You
+can also use @code{maptransformation ^ n} to calculate the n-th power of
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{maptransformation} for any integer n. The inverse of a transformation is
+given by @code{-maptransformation}, so
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+MAP_ROT_CW * (-MAP_ROT_CW) == MAP_IDENT
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
 @c ----------------- Requesting and Changing Single Map Entries --------------------
 
 @node Requesting and Changing Single Map Entries
@@ -20158,7 +20203,7 @@
 You can omit @samp{tile2}, then any occurrence of @samp{tile1} will be replaced
 by the default key.
 
-You can also search for positions in a map which fulfils given conditions by
+You can also search for positions in a map which fulfill given conditions by
 using @samp{match}, the return value is a position list. The syntax is simple:
 @example
 mymap:match()
@@ -20337,7 +20382,7 @@
 The default key of the submap of course is the default key of the original map.
 
 @samp{lib.map.trim} or @samp{mymap:trim(tilekey)} removes all lines and
-columns from the North, South, East and West that consist of @code{tilekey}
+columns from the North, South, East, and West that consist of @code{tilekey}
 only; it's like trimming a string from white spaces. You can omit
 @samp{tilekey}, then the default key is used instead.
 
@@ -20351,18 +20396,19 @@
                        &quot;F# D ## # #&quot;,
                        &quot;#       # #&quot;,
                        &quot;########   &quot;@})
-map2 = map1:replace_outside(&quot; &quot;, &quot;.&quot;)
-map3 = map1:replace_outside(&quot; &quot;, &quot;#&quot;)
-map3 = map3:replace_outside(&quot;#&quot;, &quot;.&quot;)
+map2 = wo:newMap(&quot; &quot;, map1)
+map1:replace_outside(&quot; &quot;, &quot;.&quot;)
+map2:replace_outside(&quot; &quot;, &quot;#&quot;)
+map2:replace_outside(&quot;#&quot;, &quot;.&quot;)
 @end example
 will yield:
 @example
-map2 = @{&quot;.##########&quot;,
+map1 = @{&quot;.##########&quot;,
         &quot;###      ##&quot;,
         &quot;F# D ## #.#&quot;,
         &quot;#       #.#&quot;,
         &quot;########...&quot;@})
-map3 = @{&quot;...........&quot;,
+map2 = @{&quot;...........&quot;,
         &quot;...      ..&quot;,
         &quot;F. D ## ...&quot;,
         &quot;.       ...&quot;,
@@ -20380,10 +20426,10 @@
 will yield:
 @example
 map1 = @{&quot;---######-&quot;,
-         &quot;--#      #&quot;,
-         &quot;F# D ## #-&quot;,
-         &quot;#       #-&quot;,
-         &quot;-#######--&quot;@})
+        &quot;--#      #&quot;,
+        &quot;F# D ## #-&quot;,
+        &quot;#       #-&quot;,
+        &quot;-#######--&quot;@})
 @end example
 
 Finally, you can use @samp{mymap:print()} to print @samp{mymap} to standard
@@ -20398,6 +20444,1112 @@
 be strings to be put between the left coordinate axis and the map, and behind
 the map (to analyse space characters).
 
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- newMap --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> newMap
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> newMap
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{wo:newMap} takes a default key, and a premap or width and height as
+arguments, and returns a libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap} = @b{wo:newMap}(@i{defaultkey}, @i{premap})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap} = @b{wo:newMap}(@i{defaultkey}, @i{width}, @i{height})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap} = @b{wo:newMap}(@i{defaultkey})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{defaultkey}
+A non-empty string, which becomes the default key of the new map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{premap}
+A table of strings. It may have lines of varying length, but each line length
+must be divisible by the length of the default key.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{width}, @i{height}
+Positive integers. If width and height are given instead of a premap, a
+rectangular map consisting of the default key only is returned.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+If neither a premap, nor width and height are given, a 1x1-map with the default
+key is returned.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Creating Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The syntax with neither premap nor width and height is useful in conjunction
+with @ref{Map Fusing}.
+
+A libmap-map is always rectangular. But you may use an ignore-key when you draw
+the map with @ref{drawMap} to create arbitrarily shaped areas.
+
+If the premap is not rectangular, missing positions are set to the default key.
+
+As each libmap-map can be used to replace a premap, you may also use
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{wo:newMap} to copy a libmap-map with:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newcopy = wo:newMap(mymap.defaultkey, mymap)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Entry Request --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Entry Request
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Entry Request
+
+You may request and set single entries within a libmap-map, using the
+index-operator @samp{[]}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{entry} = @i{mymap}@b{[}@i{posarg}@b{]}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{entry} = @b{lib.map.get}(@i{mymap}, @i{posarg})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}@b{[}@i{posarg}@b{]} = @b{newentry}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.set}(@i{mymap}, @i{posarg}, @i{newentry})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{entry}, @i{newentry}
+Non-empty strings of the same length as the default key of @code{mymap}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{posarg}
+A position, object, group, position list, or table (interpretable as single
+position).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Requesting and Changing Single Map Entries}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+A read-access with a group or position list will return a table of all key
+entries at the positions in the group or position list, in their corresponding
+sequence. Empty groups and position lists will return empty tables.
+
+Correspondingly, a write-access with a group or position list changes the key
+at each position in the group or position list to the given string.
+
+You may request any position outside of the scope of the map, even with
+negative coordinates. If you do so, the default key is returned.
+
+If you try to set an entry to a position with a negative coordinate, an error
+is returned. However, if you use non-negative coordinates outside of the scope
+of the map, the map is subsequently extended to the new position, setting
+the default key as entry where necessary.
+
+Floating-point coordinates are always rounded to a grid position
+(see @ref{Position Grid Rounding}).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Transformation --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Transformation
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Transformation
+
+You may transform any libmap-map according to the eight map transformation
+constants given in @ref{Rotating and Mirroring Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @i{mymap}@b{^}@i{maptransformation}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @b{lib.map.transform}(@i{mymap}, @i{maptransformation})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}, @i{newmap}
+libmap-maps.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{maptransformation}
+One of the following eight constants: @code{MAP_IDENT}, @code{MAP_ROT_CW},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{MAP_ROT_180}, @code{MAP_ROT_CCW}, @code{MAP_FLIP_HORIZONTAL},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{MAP_FLIP_VERTICAL}, @code{MAP_FLIP_SLASH}, @code{MAP_FLIP_BACKSLASH}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Rotating and Mirroring Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+As map transformations can be composed with @samp{^}, it is possible to combine
+several transformations without brackets; it's only important to always have the
+map on the left side of the @samp{^}-sign:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newmap = mymap ^ MAP_ROT_CW ^ MAP_FLIP_HORIZONTAL
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+However, each such combination can equally well be expressed with a single constant.
+
+After a transformation, height and width of a map might have swapped.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Horizontal Concatenation --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Horizontal Concatenation
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Horizontal Concatenation
+
+You may glue libmap-maps one after another in horizontal direction using
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{..}. Note the similarity to the meaning of @samp{..} in the context of
+strings to remember its meaning in contrast to @samp{+} (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Map Vertical Concatenation}).
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @i{mymap1} @b{..} @i{mymap2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @b{lib.map.concat_horizontally}(@i{mymap1}, @i{mymap2})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap1}, @i{mymap2}, @i{newmap}
+libmap-maps.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Connecting Two Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The upper-left corner of the second map is set beneath the upper-right corner
+of the first, i.e. the bottom lines of the maps are aligned. If you want to
+align them in another way, you may first vertically concat a map of suitable
+height to the second (or first) map, like in this example:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newmap = mymap1 .. (wo:newMap(&quot; &quot;, 1, 13) + mymap2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
+The default key of the new map is the default key of the first map. Any missing
+position to gain a rectangular map is subsequently set to this default key.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Vertical Concatenation --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Vertical Concatenation
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Vertical Concatenation
+
+You may glue libmap-maps on top of each other in vertical direction using
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{+}. Compare with the meaning of @samp{..} (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Map Horizontal Concatenation}).
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @i{mymap1} @b{+} @i{mymap2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @b{lib.map.concat_vertically}(@i{mymap1}, @i{mymap2})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap1}, @i{mymap2}, @i{newmap}
+libmap-maps.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Connecting Two Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The upper-left corner of the second map is set below the lower-left corner
+of the first, i.e. the left borders of the maps are aligned. If you want to
+align them in another way, you may first horizontally concat a map of suitable
+width to the second (or first) map, like in this example:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+newmap = mymap1 + (wo:newMap(&quot; &quot;, 13, 1) .. mymap2)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
+The default key of the new map is the default key of the first map. Any missing
+position to gain a rectangular map is subsequently set to this default key.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Fusing --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Fusing
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Fusing
+
+You may fuse libmap-maps in the way described in @ref{Connecting Two Maps}, by
+interpreting the two keys of the two maps at a position as parts of a combined
+(fused) key at this position.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @i{mymap1} @b{*} @i{mymap2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{newmap} = @b{lib.map.fuse}(@i{mymap1}, @i{mymap2})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap1}, @i{mymap2}, @i{newmap}
+libmap-maps.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Connecting Two Maps}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Missing keys in one map are replaced by the default key of this map.
+
+The default key of the result is the concatenation of the default key of the
+first map with the default key of the second map (as expected).
+
+The inverse of the fusing operation is given by @ref{lib.map.defuse}.
+
+One of the maps is allowed to be a string, which is then interpreted as a
+1x1-map with the given string as default key. The result of the fusing process
+then is that each tile key is concatenated with the given string.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Default Keys --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Default Keys
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Default Keys
+
+A libmap-map always includes a default key, which is used in various places
+throughout the library. It is the placeholder whenever a key out of scope of
+the map is requested, or when @ref{drawMap} or @code{wo} (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{World Creation}) are invoked without a default or ignore key. Hence, it is
+sometimes necessary to retrieve or change the default key of a map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{defaultkey} = @i{mymap}@b{.defaultkey}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{defaultkey} = @i{mymap}@b{[&quot;defaultkey&quot;]}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{keylength} = @i{mymap}@b{.keylength}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{keylength} = @i{mymap}@b{[&quot;keylength&quot;]}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}@b{.defaultkey} = @i{newkey}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}@b{[&quot;defaultkey&quot;]} = @i{newkey}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}:@b{set_default_key}(@i{newkey})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.set_default_key}(@i{mymap}, @i{newkey})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{defaultkey}, @i{newkey}
+A non-empty string.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{keylength}
+A positive integer, which equals the length of the default key.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Other Map Tasks}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+It typically makes sense to change the default key of a map, when two or more
+keys can be equally well thought of as being &quot;default&quot;. Such an example occurs
+during the import of Sokoban levels: While the canonical default key would be
+the key of the inner free tiles, it is temporarily set to the key of the outer
+area to allow a simple matching and trimming. It is then set back again:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+local map = lib.import.level_to_map(level, &quot;\n&quot;, &quot; &quot;)
+map:replace(&quot;_&quot;)
+map:replace(&quot;-&quot;)
+map:replace_outside(&quot; &quot;, &quot;-&quot;)
+-- Remove redundant walls by outside:
+-- A wall is redundant, if it is surrounded by &quot;-&quot; or &quot;#&quot;.
+-- In this case, it can be replaced by &quot;-&quot;.
+map.defaultkey = &quot;-&quot;
+map[map:match(@{@{po(0,0), &quot;#&quot;@}, @{NEIGHBORS_8, &quot;-&quot;, &quot;#&quot;@}@})] = &quot;-&quot;
+map = map:trim()
+map.defaultkey = &quot; &quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+See @ref{lib.map.match} and @ref{lib.map.trim} for details on their use of
+default keys.
+
+The keylength of a map can be read, but not written. To change the keylength,
+a new default key has to be assigned. On the other hand, it is possible to
+change the default key to a key of different length; however, this rarely makes
+sense, as each line will be reinterpreted, and the width of the map changes.
+Still, the width has to fit to the new keylength, otherwise an error is
+thrown.
+
+If you want to change the keylength without reinterpreting each line, you
+should instead fuse or defuse the map (see @ref{Map Fusing},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{lib.map.defuse}). @ref{newMap} allows this quite easily:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+extendedmap = mymap * wo:newMap(&quot; &quot;)
+restrictedmap = (mymap:defuse())[1] * (mymap:defuse())[3]
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Width and Height --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Width and Height
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Width and Height
+
+A libmap-map always includes its width and height. These determine for example
+the exact position of the second map during a concatenation (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Connecting Two Maps}).
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{width} = @i{mymap}@b{.width}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{width} = @i{mymap}@b{[&quot;width&quot;]}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{height} = @i{mymap}@b{.height}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{height} = @i{mymap}@b{[&quot;height&quot;]}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{width}, @i{height}
+Positive integers.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+See also @ref{Other Map Tasks}.
+
+It is not possible (and rarely necessary) to directly change width and height
+of a map. Instead, you might use @ref{lib.map.extend} to extend a map to a
+given position, @ref{lib.map.sub} to retrieve a rectangular part of a map, or
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{lib.map.trim} to remove unused lines and columns from the map.
+
+Note that width and height are not invariant. They change with many operations,
+like transformations, concatenations or setting a key outside the former scope
+of a map.
+
+Also note that the upper-left corner of a map has coordinates @code{@{0, 0@}},
+so the lower-right corner is @code{@{width - 1, height - 1@}}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.covers --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.covers
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.covers
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{covers} checks whether a position is within the scope of a map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{covers}(@i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @b{lib.map.covers}(@i{mymap}, @i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{result}
+A boolean value: @code{true}, if @i{position} is within the rectangle of grids
+spanned by @code{(0,0)} and @code{(mymap.width - 1, mymap.height - 1)},
+otherwise @code{false}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{position}
+A positional value (position or table with two entries).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+if map1:covers(po(no[&quot;mycoin&quot;]) - po(no[&quot;anchor1&quot;])) then
+    wo(no[&quot;mycoin&quot;]) = ti[&quot;-&quot;]
+end
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Floating-point positions are handled as expected, i.e. the position of a marble
+which is on a grid corresponding to the map lets @code{cover} return
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{true}.
+
+Remember to subtract the anchor of an already drawn map to get the correct
+information when you use positions of the level world.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.defuse --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.defuse
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.defuse
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{defuse} returns a table of maps of keylength one, which correspond to the
+first, second, n-th character of each key at each position, respectively.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{defuse}()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @b{lib.map.defuse}(@i{mymap})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{result}
+A non-empty table with maps as entries at integer positions. There are as many
+maps as the keylength of @code{mymap}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Full Example:}
+Given the following map,
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap = wo:newMap(&quot; .&quot;, @{&quot;#C# # # # # #C&quot;,
+                         &quot;# w1.1# .2.2# &quot;,
+                         &quot;# .1.1D3.2.2# &quot;,
+                         &quot;# .1.1# .2w2# &quot;,
+                         &quot;#C# # # # # #C&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{mymap:defuse()} will return a table
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+result = @{map1, map2@}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+containing the following two maps:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+map1 = wo:newMap(&quot;.&quot;, @{&quot;#######&quot;,
+                       &quot;#w.#..#&quot;,
+                       &quot;#..D..#&quot;,
+                       &quot;#..#.w#&quot;,
+                       &quot;#######&quot;@})
+map2  = wo:newMap(&quot;.&quot;, @{&quot;C     C&quot;,
+                        &quot; 11 22 &quot;,
+                        &quot; 11322 &quot;,
+                        &quot; 11 22 &quot;,
+                        &quot;C     C&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The default keys of the defused maps are the single characters of the default
+key, in corresponding sequence.
+
+The inverse of defusing is @ref{Map Fusing}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.extend --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.extend
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.extend
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{extend} changes a map in-place such that it covers a given position. If
+the position already is within the scope of the map, nothing happens.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}:@b{extend}(@i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.extend}(@i{mymap}, @i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{position}
+A positional value (position, table with two entries, valid object, or string).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap:extend(po(no[&quot;mycoin1&quot;]) - po(no[&quot;anchor1&quot;]))
+mymap:extend(&quot;secondanchor&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+Negative coordinates are silently ignored. However, if the other coordinate
+makes sense, the map might still get extended.
+
+Floating-point coordinates are rounded to a grid position
+(see @ref{Position Grid Rounding}).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.match --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.match
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.match
+
+You may use @code{match} to search for patterns or keys within a map.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{match} then returns a position list of grid positions.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{match}()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{match}(@i{tilekey})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{match}(@i{conditionlist})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @i{mymap}:@b{match}(@{conditionlist@})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{result} = @b{lib.map.match}(@i{mymap}, @i{conditionlist})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{result}
+The position list of all matched positions.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{conditionlist} = condition, condition, ...
+A list of conditions. A position is matched if and only if all conditions of the
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{conditionlist} are matched.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{condition} = @{@i{positionlist}, @i{tilekey}, @i{tilekey}, ...@}
+A position @code{pos} is matched by this condition if and only if for each position
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{relativepos} in @code{positionlist} the tilekey
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{mymap[pos + relativepos]} equals one of the tilekeys in the list. If
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{pos + relativepos} is outside the scope of @i{mymap}, its tilekey is the
+default key.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{tilekey}
+Non-empty string of the same length as the default key of @code{mymap}
+(no wildcards).
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{positionlist}
+A single relative position or a position list of relative positions.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Full Example:}
+Given the following map,
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap = wo:newMap(&quot; &quot;, @{&quot;#####&quot;,
+                        &quot;#w# #&quot;,
+                        &quot;# D #&quot;,
+                        &quot;# #w#&quot;,
+                        &quot;#####&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{mymap:match(&quot;#&quot;)} will return a position list of all walls @code{&quot;#&quot;}, it
+is identical to @code{mymap:match(@{po(0, 0), &quot;#&quot;@})} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{mymap:match(@{@{po(0, 0), &quot;#&quot;@}@})}.
+
+We may search for all positions @code{pos} which are between two walls with:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+result = mymap:match(@{po(-1, 0), &quot;#&quot;@}, @{po(1, 0), &quot;#&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+The two positions @code{po(-1, 0)} and @code{po(1, 0)} are relative to the
+returned position. This returns a position list including positions like the
+wall at @code{@{1,0@}} (which indeed is between two walls at @code{po(1, 0) +
+po(-1, 0)} and @code{po(1, 0) + po(1, 0)}), but also @code{@{1,1@}}. If we want
+to exclude walls at our position, we have to give all other keys instead:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+result = mymap:match(@{po(-1, 0), &quot;#&quot;@}, @{po(1, 0), &quot;#&quot;@}, @{po(0, 0), &quot;w&quot;, &quot; &quot;, &quot;D&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
+Finally, @code{mymap:match()} will return all positions of the map, i.e. a
+position list with all positions between @code{@{0,0@}} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{@{mymap.width - 1, mymap.height - 1@}}.
+
+See also @ref{Requesting and Changing Single Map Entries}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+You can, but need not pack the condition list @code{match} into a single table.
+This possibility exists to easily work with automatically generated condition
+lists, but should be avoided in other cases due to readability.
+
+The result of @code{match} is sorted primarily vertical, and secondarily
+horizontal, i.e. a typical result would be:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+po(1, 1) .. po(1, 3) .. po(1, 4) .. po(2, 2) .. po(2, 3) .. po(5, 1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
+If you feed the position list back into a replacing command, like in
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap = wo:newMap(&quot; &quot;, @{&quot;####&quot;,
+                        &quot;#  #&quot;,
+                        &quot;####&quot;@})
+mymap[mymap:match(@{NEIGHBORS_8, &quot;#&quot;@})] = &quot;#&quot;
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+remember that the newly added changes could not be respected by the
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{match}; so in the above example, the match returns an empty position list
+and no tilekey is subsequently replaced.
+
+Floating-point coordinates are rounded to a grid position
+(see @ref{Position Grid Rounding}).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.paste --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.paste
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.paste
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{paste} copies a map into another map at a given position. This command
+works in-place, i.e. the receiving map is changed, instead of returning a new map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{map1}:@b{paste}(@i{map2}, @i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.paste}(@i{map1}, @i{map2}, @i{position})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{map1}
+The libmap-map to receive the copy.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{map2}
+The libmap-map which is to be copied into @code{map1}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{position}
+A positional value (position, table with two entries, valid object, position
+list, group, or string). The upper-left position @code{@{0, 0@}} of @code{map2}
+is inserted at this position (or these positions) into @code{map1}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Full Example:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+map1 = wo:newMap(&quot; &quot;, @{&quot;#######&quot;,
+                       &quot;#w #  #&quot;,
+                       &quot;#  D  #&quot;,
+                       &quot;#  # w#&quot;,
+                       &quot;#######&quot;@})
+map2 = wo:newMap(&quot;.&quot;, @{&quot;F.E&quot;,
+                       &quot;E.E&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+In this situation, @code{map1:paste(map2, po(1, 1) .. po(5, 3)} will change
+map1 into:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+@{&quot;####### &quot;,
+ &quot;#F E  # &quot;,
+ &quot;#E E  # &quot;,
+ &quot;#  # F#E&quot;,
+ &quot;#####E#E&quot;@}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The receiving map will be extended with its default key as necessary.
+
+Each tilekey of the copied map which equals its default key will be ignored
+during the pasting process.
+
+Floating-point coordinates are rounded to a grid position
+(see @ref{Position Grid Rounding}).
+
+If a part of a map is to be copied to a position with negative coordinates, an
+error is thrown. However, if this part is to be ignored anyway (because it is
+the default key), then the negative coordinate is silently ignored.
+If for example we have
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+map1 = wo:newMap(&quot; &quot;, @{&quot;#######&quot;,
+                       &quot;#w #  #&quot;,
+                       &quot;#  D  #&quot;,
+                       &quot;#  # w#&quot;,
+                       &quot;#######&quot;@})
+map2 = wo:newMap(&quot;.&quot;, @{&quot;.FE&quot;,
+                       &quot;.EE&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+then @code{map1:paste(map2, po(-1, 0))} will change
+map1 into
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+@{&quot;FE#####&quot;,
+ &quot;EE #  #&quot;,
+ &quot;#  D  #&quot;,
+ &quot;#  #  #&quot;,
+ &quot;#######&quot;@}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+while @code{map1:paste(map2, po(0, -1))} throws an error.
+
+A map can be pasted multiple times into another map by providing a position
+list or object group. The sequence of pastings is then given by the sequence of
+the list or group, so the pasting at the second entry might overwrite the
+changes done by the first entry.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.print --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.print
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.print
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{print} prints a map to standard output. You may use this command for
+debugging purposes, or to support development or translation of a level, but it
+should not be used in the released form of a level.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}:@b{print}([@i{withXYCounts} [, @i{left_separator} [, @i{right_separator}]]])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.print}(@i{mymap} [, @i{withXYCounts} [, @i{left_separator} [, @i{right_separator}]]])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{withXYCounts}
+A boolean value, @code{false} by default.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{left_separator}, @i{right_separator}
+Strings to be printed on the left and on the right side of the map, empty
+strings by default.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Full Example:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap = wo:newMap(&quot; &quot;, @{&quot;#######&quot;,
+                        &quot;#w #  #&quot;,
+                        &quot;#  D  #&quot;,
+                        &quot;#  # w#&quot;,
+                        &quot;#######&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+Then @code{mymap:print(true, &quot; -&gt; &quot;, &quot;|&quot;)} prints the following to standard output:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+  -&gt; 0123456|
+0 -&gt; #######|
+1 -&gt; #w #  #|
+2 -&gt; #  D  #|
+3 -&gt; #  # w#|
+4 -&gt; #######|
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+If you use maps wider than ten times its keylength, the x-count will show
+only the last digits of the x coordinate.
+
+If you want to insert lines between the columns, you can fuse the map
+with your desired character, like in @code{(mymap * &quot;|&quot;):print(...)}.
+
+You can actually use @code{print} to generate a map for a level file if you
+provide appropriate separators:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap:print(false, &quot;    \&quot;&quot;, &quot;\&quot;,&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.replace --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.replace
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.replace
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{replace} replaces all occurrences of a single tile key in a map in-place
+with another tile key.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}:@b{replace}(@i{oldkey} [, @i{newkey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.replace}(@i{mymap}, @i{oldkey} [, @i{newkey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{oldkey}
+A non-empty string of the same length as @code{mymap}'s default key.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{newkey}
+A non-empty string of the same length as @code{mymap}'s default key, which is the
+replacement for @code{oldkey}. The default replacement key is the default key itself.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap:replace(&quot;#&quot;, &quot;-&quot;)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+will change @code{mymap} in such a way that each @code{&quot;#&quot;} is replaced by
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{&quot;-&quot;}. If @code{&quot;-&quot;} is omitted, each @code{&quot;#&quot;} is replaced by the
+default key instead.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at samp</A>{mymap:replace(tile1, tile2)} is equivalent to
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap[mymap:match(tile1)] = tile2 or mymap.defaultkey
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+but faster, because no position list is constructed in between (see
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{lib.map.match}).
+
+See also @ref{lib.map.replace_outside} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Requesting and Changing Single Map Entries}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.replace_outside --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.replace_outside
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.replace_outside
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{replace_outside} is a very specialized command, which is used to replace
+all occurrences of a tile key which are connected to the border of the map by a
+path of this tile key with another tile key. The replacement is done in-place,
+i.e. no new map is created or returned.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{mymap}:@b{replace_outside}(@i{oldkey} [, @i{newkey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{lib.map.replace_outside}(@i{mymap}, @i{oldkey} [, @i{newkey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{oldkey}
+A non-empty string of the same length as @code{mymap}'s default key.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{newkey}
+A non-empty string of the same length as @code{mymap}'s default key, which is the
+replacement for @code{oldkey}. The default replacement key is the default key itself.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Other Map Tasks}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{replace_outside} shows similarities with @ref{lib.map.replace} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{lib.map.trim}. It is the only universal way to handle the area near
+the border of a map, and can be combined with @ref{lib.map.match} and
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{lib.map.trim} to show its full potential.
+
+Because of its recursive nature, old and new tile key must be different; in
+contrast to the situation of @ref{lib.map.replace} identical tile keys are not
+silently ignored, but throw an error message.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.sub --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.sub
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.sub
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{sub} returns a copy of a rectangular section of a map as a new map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{submap} = @i{mymap}:@b{sub}(@i{upperleft}, @i{lowerright})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{submap} = @i{mymap}:@b{sub}(@i{upperleft}, @i{width}, @i{height})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{submap} = @b{lib.map.sub}(@i{mymap}, @i{upperleft}, @i{lowerright})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{submap} = @b{lib.map.sub}(@i{mymap}, @i{upperleft}, @i{width}, @i{height})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{submap}
+A libmap-map, the rectangular section of @code{mymap}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{upperleft}, @i{lowerright}
+Positional values (position, valid object, table with two entries, or name of a
+named position.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{width}, @i{height}
+Positive integers.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
+See @ref{Other Map Tasks}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+If the bottom right-hand corner overlaps the area of @code{mymap}, the resulting
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{submap} will still be just the rectangular section of @code{mymap}, i.e.
+width and height can be less than the arguments specified. Use
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{submap:extend(width, height)} to ensure the full width and height.
+
+Floating point positions are rounded to grid positions, and the lower-right
+corner may not have coordinates less than those of the upper-left corner,
+otherwise an error is thrown.
+
+The default key of the submap is the default key of the original map.
+
+The upper-left corner of the submap of course is @code{@{0,0@}}, i.e. the
+coordinates are shifted accordingly.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- lib.map.trim --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> lib.map.trim
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> lib.map.trim
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{trim} returns the smallest rectangular section of a map as new map such
+that its border consists of a given tile key only, i.e. it trims the original
+map from the North, East, South, and West.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{trimmedmap} = @i{mymap}:@b{trim}([@i{tilekey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{trimmedmap} = @b{lib.map.trim}(@i{mymap} [, @i{tilekey}])
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{trimmedmap}
+A libmap-map, the trimmed copy of @code{mymap}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{mymap}
+A libmap-map.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{tilekey}
+A non-empty string of the same length as the default key. If omitted, the
+default key is used instead.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Full Example:}
+With the following map:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+mymap = wo:newMap(&quot; &quot;, @{&quot;#######&quot;,
+                        &quot;#w #  #&quot;,
+                        &quot;#  D  #&quot;,
+                        &quot;#  # w#&quot;,
+                        &quot;#######&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+Trimming with @samp{mymap:trim()} will return just a copy of the original map,
+but @samp{mymap:trim(&quot;#&quot;)} returns a map as follows:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+@{&quot;w #  &quot;,
+ &quot;  D  &quot;,
+ &quot;  # w&quot;@})
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The default key of the trimmed map is the default key of the original map.
+
+If the original map consists of the trimmed key only, then @code{trim} returns
+a 1x1-map with the trimmed key as only entry, and the default key of the
+original map.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+* Map Transformation Composition and Powers:: Operators @samp{*} and @samp{^}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Transformation Composition and Powers --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Transformation Composition and Powers
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Transformation Composition and Powers
+
+The transformation constants (see @ref{map read directions},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Rotating and Mirroring Maps}, @ref{Map Transformation}) can be composed
+according to their true operation on a map, as soon as libmap is loaded. The
+composition is returned by the operations @samp{*} and @samp{^}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{composition} = @i{maptransformation1} @b{*} @i{maptransformation2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{composition} = @i{maptransformation1} @b{^} @i{maptransformation2}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{composition} = @b{lib.map.transformation_compose}(@i{maptransformation1}, @i{maptransformation2})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{composition} = @b{lib.map.transformation_power}(@i{maptransformation1}, @i{maptransformation2})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{power} = @i{maptransformation} @b{^} @i{exponent}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{power} = @b{lib.map.transformation_power}(@i{maptransformation}, @i{exponent})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{composition}
+The result of composing two map transformations.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{maptransformation1}, @i{maptransformation2}, @i{maptransformation}
+Map transformations.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{power}
+The @code{exponent}-th power of @code{maptransformation} (again a map
+transformation).
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{exponent}
+An integer.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+new_transformation = (MAP_ROT_CW * MAP_FLIP_HORIZONTAL) ^ 2
+another_transformation = (new_transformation ^ MAP_ROT_180) ^ (-1)
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The eight possible map transformations are the elements of a mathematical
+group, the dihedral group of order 8. Composition of any two map
+transformations therefore yields another one of the eight map transformations.
+An @i{n}-th power of a map transformation is the composition of @i{n} such
+transformations. In the case of the dihedral group, any 4-th power returns the
+original element. This fact is applied during calculating a power, so it
+doesn't make a difference to the performance when you use large numbers as
+exponents.
+
+Composing with @code{MAP_IDENT} doesn't change the value; it's like adding zero
+to a number, or multiplying with one.
+
+Keeping to group theoretic notions, the operation @samp{^} between map
+transformations should denote conjugation instead of composition. Instead of
+this, it is chosen to be synonymous to @samp{*} to allow for associativity of
+expressions like:
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+new_map = old_map ^ MAP_ROT_CCW ^ MAP_FLIP_VERTICAL
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+(Remember that Lua evaluates @samp{^} from the right.)
+
+The inverse can be calculated with a power to @code{-1}, but also by @samp{-},
+see @ref{Map Transformation Inverse}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+  
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Map Transformation Inverse --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Map Transformation Inverse
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Map Transformation Inverse
+
+The transformation constants (see @ref{map read directions},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Rotating and Mirroring Maps}, @ref{Map Transformation}) have proper
+inverses, i.e. map transformations that reverse their action. These inverse
+transformations are returned by @samp{-}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{inverse} = @b{-}@i{maptransformation}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{inverse} = @b{lib.map.transformation_inverse}(@i{maptransformation})
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{inverse}
+The inverse map transformation of @code{maptransformation}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{maptransformation}
+A map transformation.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+reverse_transformation = -MAP_ROT_CW
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+In this case, @code{reverse_transformation} equals @code{MAP_ROT_CCW}, because
+their composition @code{MAP_ROT_CW * MAP_ROT_CCW} equals the trivial
+transformation (or identity) @code{MAP_IDENT}.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+The eight possible map transformations are the elements of a mathematical
+group, the dihedral group of order 8. The inverse of any map transformation
+therefore yields another one of the eight map transformations. Composition of
+any map transformation with its inverse results in @code{MAP_IDENT}. However,
+within the dihedral group of order 8, only two elements have inverses that are
+not their own inverses: the two rotations by 90 degrees.
+
+Keeping to group theoretic notions, the inverse is denoted by @samp{^ (-1)},
+which works just as well(see @ref{Map Transformation Composition and Powers}).
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at c</A> ----------------- Random and All Map Transformations --------------------
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at node</A> Random and All Map Transformations
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at subsection</A> Random and All Map Transformations
+
+All eight transformation constants (see @ref{map read directions},
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at ref</A>{Rotating and Mirroring Maps}, @ref{Map Transformation}) are additionally
+packed into the table @code{MAP_ALL}, so a simple call to
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{ipairs(MAP_ALL)} can iterate over all of them. @code{MAP_ALL} is provided
+without need to load libmap.
+
+In addition, libmap provides the function
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at code</A>{lib.map.random_transformation()} to pick one of the eight transformations
+by random.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at b</A>{MAP_ALL} = @{@b{MAP_IDENT}, @b{MAP_ROT_CW}, @b{MAP_ROT_180}, @b{MAP_ROT_CCW}, @b{MAP_FLIP_BACKSLASH},
+           @b{MAP_FLIP_HORIZONTAL}, @b{MAP_FLIP_SLASH}, @b{MAP_FLIP_VERTICAL}@}
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at i</A>{randomtransformation} = @b{lib.map.random_transformation}()
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at table</A> @asis
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @i{randomtransformation}
+A map transformation, randomly chosen from @code{MAP_ALL}.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Syntax Samples:}
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at example</A>
+wo:drawMap(ti, po(5, 4), mymap, lib.map.random_transformation())
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> example
+
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at item</A> @b{Details:}
+When you use random map transformations, remember that four out of the eight map
+transformations switch height and width of the map they are applied to.
<A HREF="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">+ at end</A> table
+
+
 @c ----------------- libimport --------------------
 @node libimport
 @section libimport
@@ -20445,6 +21597,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.import.unpack_multilevel}(@i{multilevel}, @i{sublevel_number}, @i{format})
+
 @table @asis
 @item @i{multilevel}
 A multilevel string.
@@ -20483,6 +21636,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.import.uncompress_rle}(@i{level}, @i{attribs})
+
 @table @asis
 @item @i{level}
 A level string.
@@ -20523,6 +21677,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.import.level_to_map}(@i{level}, @i{line_ending}, @i{default_key})
+
 @table @asis
 @item @i{level}
 A level string.
@@ -20558,6 +21713,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.import.map_sokoban}(@i{multilevel}, @i{sublevel_number}, @i{keylength_one})
+
 @table @asis
 @item @i{multilevel}
 A multilevel string.
@@ -20618,6 +21774,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.import.map_wanderer}(@i{monolevel})
+
 @table @asis
 @item @i{monolevel}
 A monolevel string.
@@ -20673,6 +21830,7 @@
 @table @asis
 @item @b{Syntax:}
 @b{lib.soko.create_sokoball}(@i{multilevel}, @i{sublevel_number}, @i{design}, @i{maxdesignnumber})
+
 @table @asis
 @item @i{multilevel}
 A multilevel string in the sense of @ref{libimport}.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001155.html">[Enigma-game-svn] r1726 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/schemas doc/reference src src/floors src/stones
</A></li>
	<LI>Next message: <A HREF="001157.html">[Enigma-game-svn] r1728 - in trunk: data data/gfx32 data/gfx40	data/gfx48 data/levels/enigma_experimental src/floors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1156">[ date ]</a>
              <a href="thread.html#1156">[ thread ]</a>
              <a href="subject.html#1156">[ subject ]</a>
              <a href="author.html#1156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
