From ral at mail.berlios.de  Fri Jun  1 23:04:26 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 1 Jun 2007 23:04:26 +0200
Subject: [Enigma-game-svn] r769 - homepage/input
Message-ID: <200706012104.l51L4Q6J012093@sheep.berlios.de>

Author: ral
Date: 2007-06-01 23:04:25 +0200 (Fri, 01 Jun 2007)
New Revision: 769

Added:
   homepage/input/stat-other.html
Modified:
   homepage/input/credits.html
   homepage/input/credits_de.html
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/output-files.lua
   homepage/input/table-hcp.html
   homepage/input/table-solved.html
   homepage/input/table-wr.html
   homepage/input/userlist.html
Log:
Homepage:
- evaluation May 2007
- addition of rating statistics

Modified: homepage/input/credits.html
===================================================================
--- homepage/input/credits.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/credits.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -142,7 +142,7 @@
         <li>Spaceman&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Ulf Stegemann&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>J&uuml;rgen Sticht&nbsp;&nbsp;&nbsp;(Level design)</li>
-        <li>Mikke Surakka - Iceshark7 (Finnish Translation)</li>
+        <li>Mikke Surakka (Finnish Translation)</li>
         <li>Andrzej Szombierski&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Tacvek&nbsp;&nbsp;&nbsp;(Lua 5.1 upgrade)</li>
         <li>Michael Terry&nbsp;&nbsp;&nbsp;(.desktop file)</li>

Modified: homepage/input/credits_de.html
===================================================================
--- homepage/input/credits_de.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/credits_de.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -143,7 +143,7 @@
         <li>Spaceman&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Ulf Stegemann&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>J&uuml;rgen Sticht&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
-        <li>Mikke Surakka - Iceshark7 (Finnische &uuml;bersetzung)</li>
+        <li>Mikke Surakka (Finnische &uuml;bersetzung)</li>
         <li>Andrzej Szombierski&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Tacvek&nbsp;&nbsp;&nbsp;(Lua 5.1 Upgrade)</li>
         <li>Michael Terry&nbsp;&nbsp;&nbsp;(.desktop file)</li>

Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/infobox.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -9,10 +9,9 @@
          <div class="imagetitle">
            <a href="$$lotm_200705$$">&quot;The Aztec Temple&quot;</a>
          </div>
-         <h3>100 000 Downloads</h3>
-	 Enigma 1.00 has been downloaded more than 100&nbsp;000 times from
-	 <a href="http://developer.berlios.de/project/showfiles.php?group_id=3972">
-	 Berlios</a> alone.
+         <h3>Rating Statistics</h3>
+	 Score submitters can review their number of ratings and their average
+	 rating on the <a href="$$statistics$$">statistics</a> page.
          <h3>Contribution</h3>
          Writing Levels, Translation, Bug Reports, Application Coding.<br>
 	 We need your help. See <a href="$$development$$">Development</a>.

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/infobox_de.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -9,10 +9,10 @@
          <div class="imagetitle">
            <a href="$$lotm_200705$$">&quot;The Aztec Temple&quot;</a>
          </div>
-         <h3>100 000 Downloads</h3>
-	 Enigma 1.00 wurde mehr als 100.000 mal alleine von
-	 <a href="http://developer.berlios.de/project/showfiles.php?group_id=3972">
-	 Berlios</a> heruntergeladen.
+         <h3>Bewertungsstatistik</h3>
+	 Einsender von Ergebnissen k&ouml;nnen auf der <a href="$$statistics$$">
+	 Statistikseite</a> die Anzahl ihrer Wertungen und ihren Durchschnittswert
+	 erfahren.
          <h3>Unterst&uuml;tzung</h3>
          Level schreiben, &Uuml;bersetzen, Fehlermeldungen, Coden.<br>
 	 Wir brauchen Ihre Hilfe. Siehe <a href="$$development$$">Development</a>.

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/output-files.lua	2007-06-01 21:04:25 UTC (rev 769)
@@ -144,7 +144,7 @@
     title_de = "Spieler-Statistiken",
     leftcolumn = {"menu", "validation", "userlist"},
     rightcolumn = {},
-    body = {"stat-head", "table-wr", "table-solved", "stat-help", "table-hcp", "stat-tail"}
+    body = {"stat-head", "table-wr", "table-solved", "stat-help", "table-hcp", "stat-other", "table-rat", "stat-tail"}
 }
 
 --------------------------------------------------------------------------------

Added: homepage/input/stat-other.html
===================================================================
--- homepage/input/stat-other.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/stat-other.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -0,0 +1,21 @@
+  <div class="stat-help">
+    <h3>Other Statistics</h3>
+    <h4>Scores</h4>
+      38551 single level scores have been registered.
+    <h4>Ratings</h4>
+      6270 single level ratings have been registered with an average of 4,95 and the following distribution:       <table>
+        <colgroup><col width="80"><col width="80"></colgroup>
+        <tr><th>rating</th><th>count</th></tr>
+        <tr><td class="num">0</td><td class="num">31</td></tr>
+        <tr><td class="num">1</td><td class="num">118</td></tr>
+        <tr><td class="num">2</td><td class="num">233</td></tr>
+        <tr><td class="num">3</td><td class="num">890</td></tr>
+        <tr><td class="num">4</td><td class="num">1150</td></tr>
+        <tr><td class="num">5</td><td class="num">1676</td></tr>
+        <tr><td class="num">6</td><td class="num">978</td></tr>
+        <tr><td class="num">7</td><td class="num">782</td></tr>
+        <tr><td class="num">8</td><td class="num">259</td></tr>
+        <tr><td class="num">9</td><td class="num">114</td></tr>
+        <tr><td class="num">10</td><td class="num">39</td></tr>
+      </table>
+  </div>


Property changes on: homepage/input/stat-other.html
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: homepage/input/table-hcp.html
===================================================================
--- homepage/input/table-hcp.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/table-hcp.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -1,70 +1,81 @@
   <table>
-    <caption>Handicap Statistics of April 2007</caption>
+    <caption>Handicap Statistics of May 2007</caption>
     <colgroup><col width="130"><col width="220"></colgroup>
     <tr><th>solved hcp</th><th class="left">user</th></tr>
-     <tr><td class="num">-172.7</td><td class="left">'Moneymaker'</td></tr>
-     <tr><td class="num">-131.2</td><td class="left">'Stupid'</td></tr>
-     <tr><td class="num">-129.1</td><td class="left">'Johannes'</td></tr>
-     <tr><td class="num">-105.0</td><td class="left">'Great Scott'</td></tr>
-     <tr><td class="num"> -94.5</td><td class="left">'Duffy'</td></tr>
-     <tr><td class="num"> -80.6</td><td class="left">'Django'</td></tr>
-     <tr><td class="num"> -70.8</td><td class="left">'Taztunes'</td></tr>
-     <tr><td class="num"> -63.8</td><td class="left">'bojster'</td></tr>
-     <tr><td class="num"> -62.5</td><td class="left">'daydreamer'</td></tr>
-     <tr><td class="num"> -44.7</td><td class="left">'Raoul'</td></tr>
-     <tr><td class="num"> -41.5</td><td class="left">'HuB34'</td></tr>
-     <tr><td class="num"> -40.3</td><td class="left">'Ghatotkacha'</td></tr>
-     <tr><td class="num"> -36.9</td><td class="left">'JuSt'</td></tr>
-     <tr><td class="num"> -35.4</td><td class="left">'Ronald'</td></tr>
-     <tr><td class="num"> -33.8</td><td class="left">'Lukas'</td></tr>
-     <tr><td class="num"> -31.5</td><td class="left">'para_doks'</td></tr>
-     <tr><td class="num"> -28.9</td><td class="left">'Iceshark7'</td></tr>
-     <tr><td class="num"> -25.5</td><td class="left">'ged'</td></tr>
-     <tr><td class="num"> -24.8</td><td class="left">'Wuzzy'</td></tr>
-     <tr><td class="num"> -14.8</td><td class="left">'ryujun'</td></tr>
-     <tr><td class="num"> -11.9</td><td class="left">'Andreas'</td></tr>
-     <tr><td class="num"> -10.1</td><td class="left">'Sim_Ed'</td></tr>
-     <tr><td class="num">  -5.7</td><td class="left">'joseba'</td></tr>
-     <tr><td class="num">   1.4</td><td class="left">'Klaus'</td></tr>
-     <tr><td class="num">   2.7</td><td class="left">'Ale'</td></tr>
-     <tr><td class="num">   3.8</td><td class="left">'Marc-Hendrik'</td></tr>
-     <tr><td class="num">   5.9</td><td class="left">'Thomas'</td></tr>
-     <tr><td class="num">   5.9</td><td class="left">'hdwow'</td></tr>
-     <tr><td class="num">   6.6</td><td class="left">'Mark P.'</td></tr>
-     <tr><td class="num">   7.7</td><td class="left">'Chris'</td></tr>
-     <tr><td class="num">   8.6</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-     <tr><td class="num">  10.7</td><td class="left">'Melanie'</td></tr>
-     <tr><td class="num">  11.9</td><td class="left">'erich'</td></tr>
-     <tr><td class="num">  13.6</td><td class="left">'Safalra'</td></tr>
-     <tr><td class="num">  13.8</td><td class="left">'J3FF'</td></tr>
-     <tr><td class="num">  17.7</td><td class="left">'redsantz'</td></tr>
-     <tr><td class="num">  17.9</td><td class="left">'IChrisI'</td></tr>
-     <tr><td class="num">  18.2</td><td class="left">'Davacardo'</td></tr>
-     <tr><td class="num">  20.0</td><td class="left">'niebie'</td></tr>
-     <tr><td class="num">  22.2</td><td class="left">'Edgar_Flesk'</td></tr>
-     <tr><td class="num">  25.3</td><td class="left">'Tarim'</td></tr>
-     <tr><td class="num">  26.1</td><td class="left">'Vlad'</td></tr>
-     <tr><td class="num">  28.9</td><td class="left">'U-Punkt'</td></tr>
-     <tr><td class="num">  31.0</td><td class="left">'Tiger'</td></tr>
-     <tr><td class="num">  35.8</td><td class="left">'WP319'</td></tr>
-     <tr><td class="num">  38.3</td><td class="left">'Valkyrie2'</td></tr>
-     <tr><td class="num">  38.5</td><td class="left">'Zak'</td></tr>
-     <tr><td class="num">  40.4</td><td class="left">'Sandra'</td></tr>
-     <tr><td class="num">  44.2</td><td class="left">'Jeffrey S'</td></tr>
-     <tr><td class="num">  44.4</td><td class="left">'Neophilus'</td></tr>
-     <tr><td class="num">  44.8</td><td class="left">'Turbogurk'</td></tr>
-     <tr><td class="num">  46.9</td><td class="left">'Breezy'</td></tr>
-     <tr><td class="num">  48.3</td><td class="left">'krazy62'</td></tr>
-     <tr><td class="num">  52.0</td><td class="left">'Meeve'</td></tr>
-     <tr><td class="num">  58.7</td><td class="left">'Mecki'</td></tr>
-     <tr><td class="num">  59.7</td><td class="left">'Samuel'</td></tr>
-     <tr><td class="num">  60.2</td><td class="left">'Alf'</td></tr>
-     <tr><td class="num">  61.4</td><td class="left">'Magnus and Susi'</td></tr>
-     <tr><td class="num">  64.6</td><td class="left">'xmouse'</td></tr>
-     <tr><td class="num">  68.3</td><td class="left">'Joona'</td></tr>
-     <tr><td class="num">  69.3</td><td class="left">'Dvorhagen'</td></tr>
-     <tr><td class="num">  70.0</td><td class="left">'jojo'</td></tr>
-     <tr><td class="num">  82.2</td><td class="left">'Miel56'</td></tr>
-     <tr><td class="num">  87.8</td><td class="left">'The red O'</td></tr>
-     <tr><td class="num">  90.5</td><td class="left">'Michael'</td></tr>
+     <tr><td class="num">-179.1</td><td class="left">'Moneymaker'</td></tr>
+     <tr><td class="num">-139.0</td><td class="left">'Stupid'</td></tr>
+     <tr><td class="num">-128.7</td><td class="left">'Johannes'</td></tr>
+     <tr><td class="num">-102.0</td><td class="left">'Great Scott'</td></tr>
+     <tr><td class="num"> -97.5</td><td class="left">'Duffy'</td></tr>
+     <tr><td class="num"> -79.6</td><td class="left">'Django'</td></tr>
+     <tr><td class="num"> -73.5</td><td class="left">'daydreamer'</td></tr>
+     <tr><td class="num"> -73.4</td><td class="left">'Taztunes'</td></tr>
+     <tr><td class="num"> -61.6</td><td class="left">'bojster'</td></tr>
+     <tr><td class="num"> -54.9</td><td class="left">'Raoul'</td></tr>
+     <tr><td class="num"> -53.5</td><td class="left">'Lukas'</td></tr>
+     <tr><td class="num"> -47.2</td><td class="left">'Ronald'</td></tr>
+     <tr><td class="num"> -43.3</td><td class="left">'Ghatotkacha'</td></tr>
+     <tr><td class="num"> -38.8</td><td class="left">'HuB34'</td></tr>
+     <tr><td class="num"> -34.9</td><td class="left">'JuSt'</td></tr>
+     <tr><td class="num"> -29.9</td><td class="left">'para_doks'</td></tr>
+     <tr><td class="num"> -28.2</td><td class="left">'ged'</td></tr>
+     <tr><td class="num"> -27.5</td><td class="left">'fabian'</td></tr>
+     <tr><td class="num"> -25.9</td><td class="left">'Iceshark7'</td></tr>
+     <tr><td class="num"> -22.8</td><td class="left">'Wuzzy'</td></tr>
+     <tr><td class="num"> -17.3</td><td class="left">'Safalra'</td></tr>
+     <tr><td class="num"> -16.7</td><td class="left">'ryujun'</td></tr>
+     <tr><td class="num">  -8.7</td><td class="left">'Andreas'</td></tr>
+     <tr><td class="num">  -8.2</td><td class="left">'Sim_Ed'</td></tr>
+     <tr><td class="num">  -1.1</td><td class="left">'Mark P.'</td></tr>
+     <tr><td class="num">   1.3</td><td class="left">'joseba'</td></tr>
+     <tr><td class="num">   3.2</td><td class="left">'Klaus'</td></tr>
+     <tr><td class="num">   4.4</td><td class="left">'Ale'</td></tr>
+     <tr><td class="num">   5.0</td><td class="left">'biotopa'</td></tr>
+     <tr><td class="num">   5.2</td><td class="left">'Marc-Hendrik'</td></tr>
+     <tr><td class="num">   5.9</td><td class="left">'mrduke'</td></tr>
+     <tr><td class="num">   6.5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+     <tr><td class="num">   7.9</td><td class="left">'Chocolate Zero'</td></tr>
+     <tr><td class="num">   8.3</td><td class="left">'hdwow'</td></tr>
+     <tr><td class="num">   9.5</td><td class="left">'Thomas'</td></tr>
+     <tr><td class="num">  10.7</td><td class="left">'Chris'</td></tr>
+     <tr><td class="num">  11.9</td><td class="left">'Melanie'</td></tr>
+     <tr><td class="num">  12.7</td><td class="left">'Bent'</td></tr>
+     <tr><td class="num">  13.8</td><td class="left">'erich'</td></tr>
+     <tr><td class="num">  15.9</td><td class="left">'U-Punkt'</td></tr>
+     <tr><td class="num">  16.1</td><td class="left">'J3FF'</td></tr>
+     <tr><td class="num">  16.5</td><td class="left">'redsantz'</td></tr>
+     <tr><td class="num">  20.6</td><td class="left">'Davacardo'</td></tr>
+     <tr><td class="num">  20.7</td><td class="left">'IChrisI'</td></tr>
+     <tr><td class="num">  21.7</td><td class="left">'niebie'</td></tr>
+     <tr><td class="num">  23.5</td><td class="left">'Edgar_Flesk'</td></tr>
+     <tr><td class="num">  26.9</td><td class="left">'Tarim'</td></tr>
+     <tr><td class="num">  28.2</td><td class="left">'NorthForty'</td></tr>
+     <tr><td class="num">  29.2</td><td class="left">'Vlad'</td></tr>
+     <tr><td class="num">  29.8</td><td class="left">'Archcorenth'</td></tr>
+     <tr><td class="num">  32.6</td><td class="left">'Tiger'</td></tr>
+     <tr><td class="num">  34.7</td><td class="left">'WP319'</td></tr>
+     <tr><td class="num">  35.3</td><td class="left">'Zekobah'</td></tr>
+     <tr><td class="num">  39.5</td><td class="left">'Valkyrie2'</td></tr>
+     <tr><td class="num">  40.5</td><td class="left">'Nfol'</td></tr>
+     <tr><td class="num">  40.9</td><td class="left">'Zak'</td></tr>
+     <tr><td class="num">  42.2</td><td class="left">'Sandra'</td></tr>
+     <tr><td class="num">  42.7</td><td class="left">'Jeffrey S'</td></tr>
+     <tr><td class="num">  42.9</td><td class="left">'Breezy'</td></tr>
+     <tr><td class="num">  45.8</td><td class="left">'Cyphase'</td></tr>
+     <tr><td class="num">  46.7</td><td class="left">'Neophilus'</td></tr>
+     <tr><td class="num">  47.2</td><td class="left">'Turbogurk'</td></tr>
+     <tr><td class="num">  48.9</td><td class="left">'krazy62'</td></tr>
+     <tr><td class="num">  55.0</td><td class="left">'Meeve'</td></tr>
+     <tr><td class="num">  58.1</td><td class="left">'Asbel'</td></tr>
+     <tr><td class="num">  61.0</td><td class="left">'Mecki'</td></tr>
+     <tr><td class="num">  62.4</td><td class="left">'Samuel'</td></tr>
+     <tr><td class="num">  63.2</td><td class="left">'Alf'</td></tr>
+     <tr><td class="num">  63.8</td><td class="left">'Magnus and Susi'</td></tr>
+     <tr><td class="num">  66.4</td><td class="left">'Joona'</td></tr>
+     <tr><td class="num">  66.5</td><td class="left">'xmouse'</td></tr>
+     <tr><td class="num">  71.2</td><td class="left">'Dvorhagen'</td></tr>
+     <tr><td class="num">  71.8</td><td class="left">'jojo'</td></tr>
+     <tr><td class="num">  83.2</td><td class="left">'Miel56'</td></tr>
+     <tr><td class="num">  88.7</td><td class="left">'The red O'</td></tr>
+     <tr><td class="num">  91.0</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-solved.html
===================================================================
--- homepage/input/table-solved.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/table-solved.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -1,70 +1,81 @@
   <table>
-    <caption>Solved Level Statistics of April 2007</caption>
+    <caption>Solved Level Statistics of May 2007</caption>
     <colgroup><col width="130"><col width="130"><col width="130"><col width="240"></colgroup>
     <tr><th>difficult</th><th>easy</th><th>total</th><th class="left">user</th></tr>
-    <tr><td class="num">970/974</td><td class="num">152/152</td><td class="num"> 99.64%</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">942/974</td><td class="num">142/152</td><td class="num"> 96.27%</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">933/974</td><td class="num">139/152</td><td class="num"> 95.20%</td><td class="left">'ryujun'</td></tr>
-    <tr><td class="num">921/974</td><td class="num">140/152</td><td class="num"> 94.23%</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num">887/974</td><td class="num">142/152</td><td class="num"> 91.39%</td><td class="left">'para_doks'</td></tr>
-    <tr><td class="num">882/974</td><td class="num">130/152</td><td class="num"> 89.88%</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num">861/974</td><td class="num">136/152</td><td class="num"> 88.54%</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">873/974</td><td class="num">100/152</td><td class="num"> 86.41%</td><td class="left">'JuSt'</td></tr>
-    <tr><td class="num">841/974</td><td class="num">132/152</td><td class="num"> 86.41%</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num">971/974</td><td class="num">  0/152</td><td class="num"> 86.23%</td><td class="left">'Tarim'</td></tr>
-    <tr><td class="num">882/974</td><td class="num"> 73/152</td><td class="num"> 84.81%</td><td class="left">'Django'</td></tr>
-    <tr><td class="num">852/974</td><td class="num"> 70/152</td><td class="num"> 81.88%</td><td class="left">'Melanie'</td></tr>
-    <tr><td class="num">907/974</td><td class="num">  1/152</td><td class="num"> 80.64%</td><td class="left">'Ale'</td></tr>
-    <tr><td class="num">745/974</td><td class="num"> 82/152</td><td class="num"> 73.45%</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num">794/974</td><td class="num"> 33/152</td><td class="num"> 73.45%</td><td class="left">'Sim_Ed'</td></tr>
-    <tr><td class="num">695/974</td><td class="num"> 78/152</td><td class="num"> 68.65%</td><td class="left">'HuB34'</td></tr>
-    <tr><td class="num">673/974</td><td class="num"> 95/152</td><td class="num"> 68.21%</td><td class="left">'Marc-Hendrik'</td></tr>
-    <tr><td class="num">654/974</td><td class="num"> 83/152</td><td class="num"> 65.45%</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num">686/974</td><td class="num"> 29/152</td><td class="num"> 63.50%</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num">650/974</td><td class="num"> 49/152</td><td class="num"> 62.08%</td><td class="left">'redsantz'</td></tr>
-    <tr><td class="num">641/974</td><td class="num"> 43/152</td><td class="num"> 60.75%</td><td class="left">'Klaus'</td></tr>
-    <tr><td class="num">583/974</td><td class="num"> 78/152</td><td class="num"> 58.70%</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num">565/974</td><td class="num"> 94/152</td><td class="num"> 58.53%</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num">600/974</td><td class="num"> 27/152</td><td class="num"> 55.68%</td><td class="left">'hdwow'</td></tr>
-    <tr><td class="num">539/974</td><td class="num"> 82/152</td><td class="num"> 55.15%</td><td class="left">'Wuzzy'</td></tr>
-    <tr><td class="num">505/974</td><td class="num"> 83/152</td><td class="num"> 52.22%</td><td class="left">'WP319'</td></tr>
-    <tr><td class="num">526/974</td><td class="num"> 37/152</td><td class="num"> 50.00%</td><td class="left">'Valkyrie2'</td></tr>
-    <tr><td class="num">473/974</td><td class="num"> 84/152</td><td class="num"> 49.47%</td><td class="left">'Mark P.'</td></tr>
-    <tr><td class="num">523/974</td><td class="num"> 24/152</td><td class="num"> 48.58%</td><td class="left">'niebie'</td></tr>
-    <tr><td class="num">429/974</td><td class="num"> 77/152</td><td class="num"> 44.94%</td><td class="left">'Safalra'</td></tr>
-    <tr><td class="num">464/974</td><td class="num"> 36/152</td><td class="num"> 44.40%</td><td class="left">'Breezy'</td></tr>
-    <tr><td class="num">499/974</td><td class="num">  0/152</td><td class="num"> 44.32%</td><td class="left">'Edgar_Flesk'</td></tr>
-    <tr><td class="num">466/974</td><td class="num"> 10/152</td><td class="num"> 42.27%</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num">422/974</td><td class="num"> 23/152</td><td class="num"> 39.52%</td><td class="left">'U-Punkt'</td></tr>
-    <tr><td class="num">376/974</td><td class="num"> 68/152</td><td class="num"> 39.43%</td><td class="left">'ShadowPhrogg32642342'</td></tr>
-    <tr><td class="num">394/974</td><td class="num"> 36/152</td><td class="num"> 38.19%</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num">386/974</td><td class="num"> 10/152</td><td class="num"> 35.17%</td><td class="left">'J3FF'</td></tr>
-    <tr><td class="num">311/974</td><td class="num"> 71/152</td><td class="num"> 33.93%</td><td class="left">'Davacardo'</td></tr>
-    <tr><td class="num">374/974</td><td class="num">  7/152</td><td class="num"> 33.84%</td><td class="left">'IChrisI'</td></tr>
-    <tr><td class="num">344/974</td><td class="num"> 27/152</td><td class="num"> 32.95%</td><td class="left">'Jeffrey S'</td></tr>
-    <tr><td class="num">288/974</td><td class="num"> 63/152</td><td class="num"> 31.17%</td><td class="left">'erich'</td></tr>
-    <tr><td class="num">307/974</td><td class="num"> 24/152</td><td class="num"> 29.40%</td><td class="left">'ged'</td></tr>
-    <tr><td class="num">296/974</td><td class="num"> 29/152</td><td class="num"> 28.86%</td><td class="left">'Tiger'</td></tr>
-    <tr><td class="num">264/974</td><td class="num"> 53/152</td><td class="num"> 28.15%</td><td class="left">'Andreas'</td></tr>
-    <tr><td class="num">280/974</td><td class="num"> 15/152</td><td class="num"> 26.20%</td><td class="left">'Thomas'</td></tr>
-    <tr><td class="num">210/974</td><td class="num"> 38/152</td><td class="num"> 22.02%</td><td class="left">'Sandra'</td></tr>
-    <tr><td class="num">200/974</td><td class="num">  4/152</td><td class="num"> 18.12%</td><td class="left">'krazy62'</td></tr>
-    <tr><td class="num">129/974</td><td class="num"> 55/152</td><td class="num"> 16.34%</td><td class="left">'Vlad'</td></tr>
-    <tr><td class="num">150/974</td><td class="num"> 30/152</td><td class="num"> 15.99%</td><td class="left">'Chris'</td></tr>
-    <tr><td class="num">159/974</td><td class="num"> 20/152</td><td class="num"> 15.90%</td><td class="left">'Turbogurk'</td></tr>
-    <tr><td class="num">159/974</td><td class="num"> 17/152</td><td class="num"> 15.63%</td><td class="left">'Zak'</td></tr>
-    <tr><td class="num">127/974</td><td class="num"> 15/152</td><td class="num"> 12.61%</td><td class="left">'Magnus and Susi'</td></tr>
-    <tr><td class="num">113/974</td><td class="num"> 22/152</td><td class="num"> 11.99%</td><td class="left">'Mecki'</td></tr>
-    <tr><td class="num">105/974</td><td class="num"> 22/152</td><td class="num"> 11.28%</td><td class="left">'Neophilus'</td></tr>
-    <tr><td class="num"> 90/974</td><td class="num"> 21/152</td><td class="num">  9.86%</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num">106/974</td><td class="num">  0/152</td><td class="num">  9.41%</td><td class="left">'Alf'</td></tr>
-    <tr><td class="num"> 67/974</td><td class="num"> 19/152</td><td class="num">  7.64%</td><td class="left">'Dvorhagen'</td></tr>
-    <tr><td class="num"> 58/974</td><td class="num"> 26/152</td><td class="num">  7.46%</td><td class="left">'Meeve'</td></tr>
-    <tr><td class="num"> 58/974</td><td class="num"> 19/152</td><td class="num">  6.84%</td><td class="left">'xmouse'</td></tr>
-    <tr><td class="num"> 66/974</td><td class="num">  5/152</td><td class="num">  6.31%</td><td class="left">'Joona'</td></tr>
-    <tr><td class="num"> 54/974</td><td class="num"> 12/152</td><td class="num">  5.86%</td><td class="left">'Samuel'</td></tr>
-    <tr><td class="num"> 39/974</td><td class="num"> 14/152</td><td class="num">  4.71%</td><td class="left">'jojo'</td></tr>
-    <tr><td class="num"> 27/974</td><td class="num">  5/152</td><td class="num">  2.84%</td><td class="left">'Miel56'</td></tr>
-    <tr><td class="num"> 23/974</td><td class="num">  5/152</td><td class="num">  2.49%</td><td class="left">'The red O'</td></tr>
-    <tr><td class="num">  7/974</td><td class="num"> 12/152</td><td class="num">  1.69%</td><td class="left">'Michael'</td></tr>
+    <tr><td class="num">1014/1045</td><td class="num">175/189</td><td class="num"> 96.35%</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">1000/1045</td><td class="num">170/189</td><td class="num"> 94.81%</td><td class="left">'Taztunes'</td></tr>
+    <tr><td class="num"> 994/1045</td><td class="num">166/189</td><td class="num"> 94.00%</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num"> 940/1045</td><td class="num">156/189</td><td class="num"> 88.82%</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 942/1045</td><td class="num">150/189</td><td class="num"> 88.49%</td><td class="left">'ryujun'</td></tr>
+    <tr><td class="num"> 934/1045</td><td class="num">144/189</td><td class="num"> 87.36%</td><td class="left">'biotopa'</td></tr>
+    <tr><td class="num"> 881/1045</td><td class="num">142/189</td><td class="num"> 82.90%</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 883/1045</td><td class="num">133/189</td><td class="num"> 82.33%</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num"> 848/1045</td><td class="num">137/189</td><td class="num"> 79.82%</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num"> 858/1045</td><td class="num">100/189</td><td class="num"> 77.63%</td><td class="left">'JuSt'</td></tr>
+    <tr><td class="num"> 950/1045</td><td class="num">  0/189</td><td class="num"> 76.99%</td><td class="left">'Tarim'</td></tr>
+    <tr><td class="num"> 835/1045</td><td class="num">111/189</td><td class="num"> 76.66%</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num"> 869/1045</td><td class="num"> 74/189</td><td class="num"> 76.42%</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 839/1045</td><td class="num"> 70/189</td><td class="num"> 73.66%</td><td class="left">'Melanie'</td></tr>
+    <tr><td class="num"> 891/1045</td><td class="num">  1/189</td><td class="num"> 72.29%</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num"> 734/1045</td><td class="num"> 82/189</td><td class="num"> 66.13%</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 782/1045</td><td class="num"> 33/189</td><td class="num"> 66.05%</td><td class="left">'Sim_Ed'</td></tr>
+    <tr><td class="num"> 681/1045</td><td class="num"> 78/189</td><td class="num"> 61.51%</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 659/1045</td><td class="num"> 95/189</td><td class="num"> 61.10%</td><td class="left">'Marc-Hendrik'</td></tr>
+    <tr><td class="num"> 643/1045</td><td class="num"> 83/189</td><td class="num"> 58.83%</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 665/1045</td><td class="num"> 51/189</td><td class="num"> 58.02%</td><td class="left">'redsantz'</td></tr>
+    <tr><td class="num"> 609/1045</td><td class="num">106/189</td><td class="num"> 57.94%</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num"> 636/1045</td><td class="num"> 55/189</td><td class="num"> 56.00%</td><td class="left">'fabian'</td></tr>
+    <tr><td class="num"> 588/1045</td><td class="num"> 93/189</td><td class="num"> 55.19%</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 634/1045</td><td class="num"> 43/189</td><td class="num"> 54.86%</td><td class="left">'Klaus'</td></tr>
+    <tr><td class="num"> 544/1045</td><td class="num"> 97/189</td><td class="num"> 51.94%</td><td class="left">'WP319'</td></tr>
+    <tr><td class="num"> 527/1045</td><td class="num"> 94/189</td><td class="num"> 50.32%</td><td class="left">'Safalra'</td></tr>
+    <tr><td class="num"> 533/1045</td><td class="num"> 82/189</td><td class="num"> 49.84%</td><td class="left">'Wuzzy'</td></tr>
+    <tr><td class="num"> 589/1045</td><td class="num"> 26/189</td><td class="num"> 49.84%</td><td class="left">'hdwow'</td></tr>
+    <tr><td class="num"> 573/1045</td><td class="num"> 28/189</td><td class="num"> 48.70%</td><td class="left">'mrduke'</td></tr>
+    <tr><td class="num"> 500/1045</td><td class="num">101/189</td><td class="num"> 48.70%</td><td class="left">'Mark P.'</td></tr>
+    <tr><td class="num"> 520/1045</td><td class="num"> 42/189</td><td class="num"> 45.54%</td><td class="left">'Breezy'</td></tr>
+    <tr><td class="num"> 519/1045</td><td class="num"> 37/189</td><td class="num"> 45.06%</td><td class="left">'Valkyrie2'</td></tr>
+    <tr><td class="num"> 527/1045</td><td class="num"> 27/189</td><td class="num"> 44.89%</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num"> 516/1045</td><td class="num"> 24/189</td><td class="num"> 43.76%</td><td class="left">'niebie'</td></tr>
+    <tr><td class="num"> 495/1045</td><td class="num">  0/189</td><td class="num"> 40.11%</td><td class="left">'Edgar_Flesk'</td></tr>
+    <tr><td class="num"> 478/1045</td><td class="num"> 12/189</td><td class="num"> 39.71%</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 384/1045</td><td class="num"> 74/189</td><td class="num"> 37.12%</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num"> 391/1045</td><td class="num"> 36/189</td><td class="num"> 34.60%</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 368/1045</td><td class="num"> 32/189</td><td class="num"> 32.41%</td><td class="left">'ged'</td></tr>
+    <tr><td class="num"> 363/1045</td><td class="num"> 31/189</td><td class="num"> 31.93%</td><td class="left">'Jeffrey S'</td></tr>
+    <tr><td class="num"> 369/1045</td><td class="num"> 24/189</td><td class="num"> 31.85%</td><td class="left">'Chocolate Zero'</td></tr>
+    <tr><td class="num"> 382/1045</td><td class="num"> 10/189</td><td class="num"> 31.77%</td><td class="left">'J3FF'</td></tr>
+    <tr><td class="num"> 306/1045</td><td class="num"> 71/189</td><td class="num"> 30.55%</td><td class="left">'Davacardo'</td></tr>
+    <tr><td class="num"> 370/1045</td><td class="num">  7/189</td><td class="num"> 30.55%</td><td class="left">'IChrisI'</td></tr>
+    <tr><td class="num"> 337/1045</td><td class="num">  9/189</td><td class="num"> 28.04%</td><td class="left">'NorthForty'</td></tr>
+    <tr><td class="num"> 331/1045</td><td class="num"> 14/189</td><td class="num"> 27.96%</td><td class="left">'Archcorenth'</td></tr>
+    <tr><td class="num"> 281/1045</td><td class="num"> 63/189</td><td class="num"> 27.88%</td><td class="left">'erich'</td></tr>
+    <tr><td class="num"> 295/1045</td><td class="num"> 29/189</td><td class="num"> 26.26%</td><td class="left">'Tiger'</td></tr>
+    <tr><td class="num"> 261/1045</td><td class="num"> 53/189</td><td class="num"> 25.45%</td><td class="left">'Andreas'</td></tr>
+    <tr><td class="num"> 276/1045</td><td class="num"> 15/189</td><td class="num"> 23.58%</td><td class="left">'Thomas'</td></tr>
+    <tr><td class="num"> 210/1045</td><td class="num"> 38/189</td><td class="num"> 20.10%</td><td class="left">'Sandra'</td></tr>
+    <tr><td class="num"> 221/1045</td><td class="num">  9/189</td><td class="num"> 18.64%</td><td class="left">'Nfol'</td></tr>
+    <tr><td class="num"> 206/1045</td><td class="num">  4/189</td><td class="num"> 17.02%</td><td class="left">'krazy62'</td></tr>
+    <tr><td class="num"> 125/1045</td><td class="num"> 55/189</td><td class="num"> 14.59%</td><td class="left">'Vlad'</td></tr>
+    <tr><td class="num"> 149/1045</td><td class="num"> 30/189</td><td class="num"> 14.51%</td><td class="left">'Chris'</td></tr>
+    <tr><td class="num"> 158/1045</td><td class="num"> 20/189</td><td class="num"> 14.42%</td><td class="left">'Turbogurk'</td></tr>
+    <tr><td class="num"> 156/1045</td><td class="num"> 17/189</td><td class="num"> 14.02%</td><td class="left">'Zak'</td></tr>
+    <tr><td class="num"> 164/1045</td><td class="num">  0/189</td><td class="num"> 13.29%</td><td class="left">'Bent'</td></tr>
+    <tr><td class="num"> 110/1045</td><td class="num"> 31/189</td><td class="num"> 11.43%</td><td class="left">'Cyphase'</td></tr>
+    <tr><td class="num"> 124/1045</td><td class="num"> 15/189</td><td class="num"> 11.26%</td><td class="left">'Magnus and Susi'</td></tr>
+    <tr><td class="num"> 110/1045</td><td class="num"> 27/189</td><td class="num"> 11.10%</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num"> 113/1045</td><td class="num"> 22/189</td><td class="num"> 10.94%</td><td class="left">'Mecki'</td></tr>
+    <tr><td class="num"> 131/1045</td><td class="num">  1/189</td><td class="num"> 10.70%</td><td class="left">'Asbel'</td></tr>
+    <tr><td class="num"> 105/1045</td><td class="num"> 22/189</td><td class="num"> 10.29%</td><td class="left">'Neophilus'</td></tr>
+    <tr><td class="num">  88/1045</td><td class="num"> 21/189</td><td class="num">  8.83%</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 101/1045</td><td class="num">  0/189</td><td class="num">  8.18%</td><td class="left">'Alf'</td></tr>
+    <tr><td class="num">  67/1045</td><td class="num"> 19/189</td><td class="num">  6.97%</td><td class="left">'Dvorhagen'</td></tr>
+    <tr><td class="num">  57/1045</td><td class="num"> 26/189</td><td class="num">  6.73%</td><td class="left">'Meeve'</td></tr>
+    <tr><td class="num">  58/1045</td><td class="num"> 19/189</td><td class="num">  6.24%</td><td class="left">'xmouse'</td></tr>
+    <tr><td class="num">  67/1045</td><td class="num">  7/189</td><td class="num">  6.00%</td><td class="left">'Joona'</td></tr>
+    <tr><td class="num">  54/1045</td><td class="num"> 12/189</td><td class="num">  5.35%</td><td class="left">'Samuel'</td></tr>
+    <tr><td class="num">  39/1045</td><td class="num"> 14/189</td><td class="num">  4.29%</td><td class="left">'jojo'</td></tr>
+    <tr><td class="num">  27/1045</td><td class="num">  5/189</td><td class="num">  2.59%</td><td class="left">'Miel56'</td></tr>
+    <tr><td class="num">  23/1045</td><td class="num">  5/189</td><td class="num">  2.27%</td><td class="left">'The red O'</td></tr>
+    <tr><td class="num">   7/1045</td><td class="num"> 12/189</td><td class="num">  1.54%</td><td class="left">'Michael'</td></tr>
   </table>

Modified: homepage/input/table-wr.html
===================================================================
--- homepage/input/table-wr.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/table-wr.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -1,37 +1,42 @@
   <table>
-    <caption>Worldrecord Statistics of April 2007</caption>
+    <caption>Worldrecord Statistics of May 2007</caption>
     <colgroup><col width="80"><col width="80"><col width="470"></colgroup>
     <tr><th>total</th><th>shared</th><th class="left">users</th></tr>
-    <tr><td class="num">718</td><td class="num">212</td><td class="left">'Moneymaker'</td></tr>
-    <tr><td class="num">222</td><td class="num"> 96</td><td class="left">'Stupid'</td></tr>
-    <tr><td class="num">214</td><td class="num">141</td><td class="left">'Johannes'</td></tr>
-    <tr><td class="num">115</td><td class="num"> 58</td><td class="left">'Duffy'</td></tr>
-    <tr><td class="num">100</td><td class="num"> 73</td><td class="left">'Great Scott'</td></tr>
-    <tr><td class="num"> 45</td><td class="num"> 37</td><td class="left">'Iceshark7'</td></tr>
-    <tr><td class="num"> 42</td><td class="num"> 35</td><td class="left">'daydreamer'</td></tr>
-    <tr><td class="num"> 33</td><td class="num"> 26</td><td class="left">'Django'</td></tr>
-    <tr><td class="num"> 33</td><td class="num"> 27</td><td class="left">'Ghatotkacha'</td></tr>
-    <tr><td class="num"> 28</td><td class="num"> 17</td><td class="left">'HuB34'</td></tr>
-    <tr><td class="num"> 26</td><td class="num"> 21</td><td class="left">'bojster'</td></tr>
-    <tr><td class="num"> 22</td><td class="num"> 21</td><td class="left">'joseba'</td></tr>
-    <tr><td class="num"> 20</td><td class="num">  6</td><td class="left">'Raoul'</td></tr>
-    <tr><td class="num"> 19</td><td class="num"> 14</td><td class="left">'ged'</td></tr>
-    <tr><td class="num"> 17</td><td class="num">  7</td><td class="left">'Ronald'</td></tr>
-    <tr><td class="num"> 12</td><td class="num">  7</td><td class="left">'Lukas'</td></tr>
-    <tr><td class="num"> 11</td><td class="num">  8</td><td class="left">'Wuzzy'</td></tr>
-    <tr><td class="num">  8</td><td class="num">  3</td><td class="left">'Taztunes'</td></tr>
-    <tr><td class="num">  7</td><td class="num">  3</td><td class="left">'para_doks'</td></tr>
-    <tr><td class="num">  6</td><td class="num">  6</td><td class="left">'Thomas'</td></tr>
-    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Chris' + 'Ralf' + 'ShadowPhrogg32642342'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  1</td><td class="left">'JuSt'</td></tr>
-    <tr><td class="num">  4</td><td class="num">  2</td><td class="left">'Stephanie'</td></tr>
+    <tr><td class="num">745</td><td class="num">226</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">293</td><td class="num">116</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">198</td><td class="num">146</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num">115</td><td class="num"> 57</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num"> 91</td><td class="num"> 69</td><td class="left">'Great Scott'</td></tr>
+    <tr><td class="num"> 46</td><td class="num"> 40</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num"> 42</td><td class="num"> 34</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 35</td><td class="num"> 27</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 32</td><td class="num"> 10</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num"> 30</td><td class="num"> 24</td><td class="left">'Django'</td></tr>
+    <tr><td class="num"> 25</td><td class="num"> 20</td><td class="left">'bojster'</td></tr>
+    <tr><td class="num"> 21</td><td class="num"> 20</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num"> 20</td><td class="num">  5</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num"> 20</td><td class="num"> 13</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num"> 17</td><td class="num"> 14</td><td class="left">'ged'</td></tr>
+    <tr><td class="num"> 14</td><td class="num">  6</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num"> 14</td><td class="num">  8</td><td class="left">'Chocolate Zero'</td></tr>
+    <tr><td class="num"> 12</td><td class="num"> 11</td><td class="left">'fabian'</td></tr>
+    <tr><td class="num"> 11</td><td class="num">  4</td><td class="left">'Taztunes'</td></tr>
+    <tr><td class="num"> 10</td><td class="num">  8</td><td class="left">'Wuzzy'</td></tr>
+    <tr><td class="num">  9</td><td class="num">  2</td><td class="left">'Bent'</td></tr>
+    <tr><td class="num">  7</td><td class="num">  6</td><td class="left">'Zekobah'</td></tr>
+    <tr><td class="num">  6</td><td class="num">  5</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  4</td><td class="left">'Safalra'</td></tr>
+    <tr><td class="num">  5</td><td class="num">  5</td><td class="left">'Chris' + 'Thomas' + 'Ralf' + 'Cyphase'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  0</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num">  4</td><td class="num">  3</td><td class="left">'para_doks'</td></tr>
     <tr><td class="num">  4</td><td class="num">  4</td><td class="left">'J3FF'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  1</td><td class="left">'hdwow' + 'Andreas' + 'Edgar_Flesk'</td></tr>
-    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'Neophilus' + 'Sim_Ed'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'IChrisI' + 'Ale' + 'Markus'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'Vlad'</td></tr>
-    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Ingo'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Daniel' + 'Nat' + 'krazy62' + 'Melanie' + 'Klaus' + 'Tarim' + 'Turbogurk' + 'Ant'</td></tr>
-    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'niebie' + 'Meeve' + 'Zak' + 'Samuel' + 'Mark P.'</td></tr>
-    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'Davacardo' + 'Alf' + 'Dvorhagen' + 'Valkyrie2' + 'ryujun' + 'Joona' + 'Marc-Hendrik' + 'Miel56' + 'Mecki' + 'Magnus and Susi' + 'Michael' + 'redsantz' + 'erich' + 'The red O' + 'Breezy' + 'Ingo_K' + 'jojo' + 'U-Punkt' + 'Jeffrey S' + 'Holger' + 'Tiger' + 'xmouse' + 'Safalra' + 'WP319' + 'Sandra'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  1</td><td class="left">'JuSt'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  2</td><td class="left">'Stephanie'</td></tr>
+    <tr><td class="num">  3</td><td class="num">  3</td><td class="left">'Neophilus'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  0</td><td class="left">'IChrisI' + 'Ale' + 'ryujun'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  1</td><td class="left">'Vlad' + 'Breezy' + 'Edgar_Flesk'</td></tr>
+    <tr><td class="num">  2</td><td class="num">  2</td><td class="left">'Ingo' + 'Sim_Ed'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  0</td><td class="left">'Daniel' + 'Nat' + 'mrduke' + 'krazy62' + 'Melanie' + 'Tarim' + 'Turbogurk' + 'Ant' + 'biotopa' + 'Markus'</td></tr>
+    <tr><td class="num">  1</td><td class="num">  1</td><td class="left">'niebie' + 'Meeve' + 'Zak' + 'Samuel' + 'Asbel' + 'hdwow' + 'Mark P.' + 'Andreas'</td></tr>
+    <tr><td class="num">  0</td><td class="num">  0</td><td class="left">'Davacardo' + 'Alf' + 'Dvorhagen' + 'NorthForty' + 'Valkyrie2' + 'Joona' + 'Marc-Hendrik' + 'Miel56' + 'Jeffrey S' + 'Mecki' + 'Magnus and Susi' + 'Michael' + 'Klaus' + 'erich' + 'The red O' + 'redsantz' + 'Nfol' + 'Ingo_K' + 'jojo' + 'Holger' + 'Tiger' + 'xmouse' + 'WP319' + 'Sandra' + 'Archcorenth'</td></tr>
   </table>

Modified: homepage/input/userlist.html
===================================================================
--- homepage/input/userlist.html	2007-05-28 22:13:03 UTC (rev 768)
+++ homepage/input/userlist.html	2007-06-01 21:04:25 UTC (rev 769)
@@ -5,9 +5,15 @@
     <li>Alf</li>
     <li>Andreas</li>
     <li>Ant</li>
+    <li>Archcorenth</li>
+    <li>Asbel</li>
+    <li>Bent</li>
+    <li>biotopa</li>
     <li>bojster</li>
     <li>Breezy</li>
+    <li>Chocolate Zero</li>
     <li>Chris</li>
+    <li>Cyphase</li>
     <li>Daniel</li>
     <li>Davacardo</li>
     <li>daydreamer</li>
@@ -16,6 +22,7 @@
     <li>Dvorhagen</li>
     <li>Edgar_Flesk</li>
     <li>erich</li>
+    <li>fabian</li>
     <li>ged</li>
     <li>Ghatotkacha</li>
     <li>Great Scott</li>
@@ -46,9 +53,12 @@
     <li>Michael</li>
     <li>Miel56</li>
     <li>Moneymaker</li>
+    <li>mrduke</li>
     <li>Nat</li>
     <li>Neophilus</li>
+    <li>Nfol</li>
     <li>niebie</li>
+    <li>NorthForty</li>
     <li>para_doks</li>
     <li>Ralf</li>
     <li>Raoul</li>
@@ -75,5 +85,6 @@
     <li>Wuzzy</li>
     <li>xmouse</li>
     <li>Zak</li>
+    <li>Zekobah</li>
   </ul>
 </div>



From ral at mail.berlios.de  Fri Jun  1 23:17:30 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Fri, 1 Jun 2007 23:17:30 +0200
Subject: [Enigma-game-svn] r770 - homepage/input
Message-ID: <200706012117.l51LHU2o013027@sheep.berlios.de>

Author: ral
Date: 2007-06-01 23:17:30 +0200 (Fri, 01 Jun 2007)
New Revision: 770

Added:
   homepage/input/table-rat.html
Log:
Homepage:
- fix r769 by adding the missing rating statistics

Added: homepage/input/table-rat.html
===================================================================
--- homepage/input/table-rat.html	2007-06-01 21:04:25 UTC (rev 769)
+++ homepage/input/table-rat.html	2007-06-01 21:17:30 UTC (rev 770)
@@ -0,0 +1,41 @@
+  <table>
+    <caption>Rating Statistics of May 2007</caption>
+    <colgroup><col width="80"><col width="80"><col width="220"></colgroup>
+    <tr><th>count</th><th>average</th><th class="left">user</th></tr>    <tr><td class="num">871</td><td class="num"> 5.09</td><td class="left">'Stupid'</td></tr>
+    <tr><td class="num">794</td><td class="num"> 4.87</td><td class="left">'ryujun'</td></tr>
+    <tr><td class="num">681</td><td class="num"> 4.62</td><td class="left">'daydreamer'</td></tr>
+    <tr><td class="num">600</td><td class="num"> 5.01</td><td class="left">'Duffy'</td></tr>
+    <tr><td class="num">591</td><td class="num"> 4.89</td><td class="left">'Moneymaker'</td></tr>
+    <tr><td class="num">490</td><td class="num"> 5.26</td><td class="left">'Lukas'</td></tr>
+    <tr><td class="num">435</td><td class="num"> 5.09</td><td class="left">'Johannes'</td></tr>
+    <tr><td class="num">361</td><td class="num"> 4.32</td><td class="left">'ged'</td></tr>
+    <tr><td class="num">336</td><td class="num"> 4.86</td><td class="left">'Ronald'</td></tr>
+    <tr><td class="num">307</td><td class="num"> 4.01</td><td class="left">'Sim_Ed'</td></tr>
+    <tr><td class="num">258</td><td class="num"> 6.26</td><td class="left">'Taztunes'</td></tr>
+    <tr><td class="num">141</td><td class="num"> 5.45</td><td class="left">'U-Punkt'</td></tr>
+    <tr><td class="num">104</td><td class="num"> 5.70</td><td class="left">'Raoul'</td></tr>
+    <tr><td class="num"> 72</td><td class="num"> 5.63</td><td class="left">'Wuzzy'</td></tr>
+    <tr><td class="num"> 43</td><td class="num"> 3.74</td><td class="left">'Iceshark7'</td></tr>
+    <tr><td class="num"> 42</td><td class="num"> 3.60</td><td class="left">'para_doks'</td></tr>
+    <tr><td class="num"> 30</td><td class="num"> 4.40</td><td class="left">'Archcorenth'</td></tr>
+    <tr><td class="num"> 18</td><td class="num"> 4.00</td><td class="left">'JuSt'</td></tr>
+    <tr><td class="num"> 16</td><td class="num"> 7.63</td><td class="left">'Ghatotkacha'</td></tr>
+    <tr><td class="num"> 13</td><td class="num"> 5.23</td><td class="left">'Samuel'</td></tr>
+    <tr><td class="num"> 10</td><td class="num"> 7.80</td><td class="left">'hdwow'</td></tr>
+    <tr><td class="num">  8</td><td class="num"> 3.25</td><td class="left">'Vlad'</td></tr>
+    <tr><td class="num">  8</td><td class="num"> 6.75</td><td class="left">'WP319'</td></tr>
+    <tr><td class="num">  6</td><td class="num"> 8.83</td><td class="left">'Ale'</td></tr>
+    <tr><td class="num">  5</td><td class="num"> 9.20</td><td class="left">'HuB34'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 7.00</td><td class="left">'redsantz'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 5.75</td><td class="left">'joseba'</td></tr>
+    <tr><td class="num">  4</td><td class="num"> 6.25</td><td class="left">'Breezy'</td></tr>
+    <tr><td class="num">  3</td><td class="num"> 7.67</td><td class="left">'Joona'</td></tr>
+    <tr><td class="num">  3</td><td class="num"> 4.33</td><td class="left">'krazy62'</td></tr>
+    <tr><td class="num">  3</td><td class="num"> 0.67</td><td class="left">'Turbogurk'</td></tr>
+    <tr><td class="num">  3</td><td class="num"> 5.33</td><td class="left">'ShadowPhrogg32642342'</td></tr>
+    <tr><td class="num">  2</td><td class="num"> 4.00</td><td class="left">'Jeffrey S'</td></tr>
+    <tr><td class="num">  2</td><td class="num"> 6.00</td><td class="left">'Mecki'</td></tr>
+    <tr><td class="num">  1</td><td class="num"> 4.00</td><td class="left">'jojo'</td></tr>
+    <tr><td class="num">  1</td><td class="num">10.00</td><td class="left">'Cyphase'</td></tr>
+</td></tr>
+  </table>


Property changes on: homepage/input/table-rat.html
___________________________________________________________________
Name: svn:eol-style
   + native



From R.Lamprecht at T-Online.de  Fri Jun  1 23:43:34 2007
From: R.Lamprecht at T-Online.de (Ronald Lamprecht)
Date: Fri, 01 Jun 2007 23:43:34 +0200
Subject: [Enigma-game-svn] r766 - branches/1.0
Message-ID: <46609306.4000407@T-Online.de>

As the patch is too large the commit message as a short manual notification:

branches/1.0:
- update ratings with May 2007 evaluation

Ronald


From andreasl at mail.berlios.de  Sat Jun  2 00:32:41 2007
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Sat, 2 Jun 2007 00:32:41 +0200
Subject: [Enigma-game-svn] r772 - in homepage: images/lotm input input/lotm
	input/news
Message-ID: <200706012232.l51MWfuI024564@sheep.berlios.de>

Author: andreasl
Date: 2007-06-02 00:32:32 +0200 (Sat, 02 Jun 2007)
New Revision: 772

Added:
   homepage/images/lotm/lotm_200706.png
   homepage/images/lotm/lotm_200706_a.png
   homepage/images/lotm/lotm_200706_b.png
   homepage/input/lotm/lotm_200706.html
   homepage/input/lotm/lotm_200706_de.html
Modified:
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/lotm/lotm_core.html
   homepage/input/lotm/lotm_core_de.html
   homepage/input/news/news_issue21_de.html
   homepage/input/output-files.lua
Log:
Homepage:
 - English and German version for LotM June '07
 - some umlauts corrected
Todo:
 - Proofread English version



Added: homepage/images/lotm/lotm_200706.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200706.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200706_a.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200706_a.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: homepage/images/lotm/lotm_200706_b.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200706_b.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/infobox.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -4,10 +4,10 @@
          All compilations inclusive Mac OS X are now available. See recent news for
 	 details.
          <h3>Level of the Month</h3>
-         <a href="$$lotm_200705$$"><img src="$$imagedir$$/lotm/lotm_200705.png"
+         <a href="$$lotm_200706$$"><img src="$$imagedir$$/lotm/lotm_200706.png"
          alt="Level of the month" border="0"></a>
          <div class="imagetitle">
-           <a href="$$lotm_200705$$">&quot;The Aztec Temple&quot;</a>
+           <a href="$$lotm_200706$$">&quot;Labyrinth of Puzzles&quot;</a>
          </div>
          <h3>Rating Statistics</h3>
 	 Score submitters can review their number of ratings and their average

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/infobox_de.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -1,13 +1,13 @@
     <div class="infobody">
        <div class="info">
          <h3>Enigma 1.01 Released</h3>
-         Alle Compilationen inklusive Mac OS X sind nun verf?gbar. Siehe aktuelle
+         Alle Compilationen inklusive Mac OS X sind nun verf&uuml;gbar. Siehe aktuelle
 	 Neuigkeiten f?r Details.
          <h3>Level des Monats</h3>
-         <a href="$$lotm_200705$$"><img src="$$imagedir$$/lotm/lotm_200705.png"
+         <a href="$$lotm_200706$$"><img src="$$imagedir$$/lotm/lotm_200706.png"
          alt="Level des Monats" border="0"></a>
          <div class="imagetitle">
-           <a href="$$lotm_200705$$">&quot;The Aztec Temple&quot;</a>
+           <a href="$$lotm_200706$$">&quot;Labyrinth of Puzzles&quot;</a>
          </div>
          <h3>Bewertungsstatistik</h3>
 	 Einsender von Ergebnissen k&ouml;nnen auf der <a href="$$statistics$$">

Added: homepage/input/lotm/lotm_200706.html
===================================================================
--- homepage/input/lotm/lotm_200706.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/lotm/lotm_200706.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -0,0 +1,281 @@
+<div class="lotm">
+<h2>Level of the Month</h2>
+
+  <p>Each month, we take a closer look at excellent Enigma levels. Excellent
+  levels are those with the highest average user ratings and the greatest
+  number of ratings altogether. Thus it is your vote that determines the
+  Level of the Month. So please rate the levels you play and do not forget to
+  submit your ratings together with your scores at the end of each month. You
+  can find all previous Levels of the Month in our <a href="$$lotm$$"
+  >archive</a>.</p>
+
+  <h3 class="lotm">
+    <span class="date">June 2007: </span>
+    &quot;Labyrinth of Puzzles&quot; by Jacob Scott
+  </h3>
+
+  <p>Anyone here to think &quot;old levels are out-dated&quot;? This month we
+  visit one of Enigma's real classics, a level itself directly inspired by Oxyd.
+  Written by the most productive level author Enigma ever witnessed, topped only
+  by Meinolf Schneider himself. The climax of Jacob's early levels: Don't get
+  astray in the &quot;Labyrinth of Puzzles&quot;!</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_a.png" alt="Level of the month" border="0">
+    <div class="imagetitle">Enigma IV # 19</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">Some records of May 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">9:18</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">10:40</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:53</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">13:33</td>
+        <td class="left">Duffy</td></tr>
+    <tr><td class="num">15:41</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">15:42</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">19:15</td>
+        <td class="left">hdwow</td></tr>
+    <tr><td class="num">19:45</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">20:32</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">22:16</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">26:21</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">32:22</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:52</td>
+        <td class="left">Edgar_Flesk</td></tr>
+    <tr><td class="num">39:50</td>
+        <td class="left">Tarim</td></tr>
+    <tr><td class="num">40:15</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">40:45</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">41:28</td>
+        <td class="left">Klaus</td></tr>
+    <tr><td class="num">45:06</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">45:30</td>
+        <td class="left">HuB34</td></tr>
+    <tr><td class="num">46:42</td>
+        <td class="left">Marc-Hendrik</td></tr>
+    <tr><td class="num">46:59</td>
+        <td class="left">Sim_Ed</td></tr>
+  </table>
+
+  <p>Indeed, I already expected &quot;Labyrinth of Puzzles&quot; to become
+  Level of May 2007 -- only to be overrun by the newcomer &quot;The Aztec
+  Temple&quot;. &quot;Labyrinth of Puzzles&quot; gathered 7 votes, averaging to
+  <b>9.00</b>, whereas &quot;The Aztec Temple&quot; was rated by only 3 gamers.
+  In our <a href="$$lotm$$">archives section</a> we can compare all previous
+  Levels of the Month with their current ratings -- this will be a spectacular
+  race between the newcomer and the classic to follow in the next months!</p>
+
+  <h4>&quot;duffy - diabolically unfolding frustration for you&quot;</h4>
+
+  <p class="quote">
+  the nickname/filename(s) was obviously not chosen by chance. i mean
+  we are talking about the man who has written levels that are so
+  diabolical that they make me shake just thinking about them now.
+  island of safety, the alien glyph trilogy, the document, security
+  guards, bad nightmare, worse nightmare, double-spiral and of course
+  the unforgetable labyrinth of puzzles.</p>
+
+<p>[Interesting mixture ... you forgot the &quot;Seed Puzzles&quot;! ;-]</p>
+
+  <p class="quote">
+  this man has had me sitting there staring into the screen thinking
+  of a way to beat his evil landscapes for hours and hours. i hate
+  duffy! i hate him for creating some of the most evil levels i
+  have encountered in enigma. ... at the same time i also love duffy!
+  i love him for exactly the same reason.</p>
+
+  <p class="quote">
+  duffy has inspired me in many ways with many of his levels to try
+  and create my own levels. i remember when i first saw labyrinth
+  of puzzles and thought to myself 'that is gonna be an easy one
+  max 5 minutes and done' ... that was until i encountered the first
+  problem with the trigger in the water and no way of getting at it
+  easyly ... this continues throughout the whole level. you start
+  things and stop things again because you can't find the last
+  missing bit to the puzzle. it causes frustration. duffy has 
+  done many many things that have shown me what you can do to make
+  a level look easy and then unfold to a true nightmare. i know
+  i will never be able to write levels like that myself and it sure
+  makes me wonder what must be going on in his mind. how in the
+  blue hell can you plan a level that will cause the player to
+  allmost start crying ? ... it must have taken weeks or longer
+  to think of all this kind of stuff.</p>
+
+  <p class="quote">
+  even though labyrinth of puzzles maybe an older level of duffy,
+  i still think that there are not many people who can write a
+  level TODAY that is as exciting and clever as labyrinth of puzzles.
+  it is a timeless classic that has a well chosen name. the thing
+  that i find so amazing, is that it is more or less two self
+  contained levels combined into one. the whiteball has its own
+  world and tasks to fulfill and so does the blackball. it is
+  even still today a level that remains tricky and very complex
+  all the way through it. the only thing where i keep thinking to
+  myself 'why ?' is: he left half the level just empty. i bet if
+  he had had more time then the empty half would also have been
+  full of further tricky things. thanks duffy and please do continue
+  making levels that 'lays the smackdown' on the players. 
+  your levels are, have been and will always be a great inspiration
+  for me and my own experiments.</p>
+  <p class="author">illmind</p>
+
+  <p>&quot;Labyrinth of Puzzles&quot; is one of the few levels native to Enigma
+  to use an Oxyd-compatibility mode. This means: Some mechanisms do not
+  work as usual in Enigma, but more like in one of the old Oxyd games. You
+  see this quite clearly when you open a lock with a key -- in &quot;Labyrinth
+  of Puzzles&quot; you still have the key in your inventory afterwards. Jacob
+  didn't choose this mode accidentaly. Moreover, one of his puzzles depends on
+  this special mode, which might seem unfamiliar to less experienced gamers.
+  Try &quot;Seed Puzzle II&quot; and &quot;Ice-Bomb&quot;, if you don't know
+  what I mean.</p>
+
+  <h4>&quot;It was one of the first 'hard' ones I attempted&quot;</h4>
+
+  <p>Here are some more comments from our players:</p>
+
+  <p class="quote">
+  'Labyrinth of Puzzles' is one of the most fun levels in Enigma, and
+  certainly deserves to be nominated.
+  When I first came across Enigma, which came with a version of Linux I had
+  installed, I started playing at once and enjoyed it a lot. Several years ago
+  I had an old black and white version of Oxyd which I rather liked, but
+  Enigma beats it by far.</p>
+  
+  <p class="quote">
+  I probably like this level because it was one of the first 'hard' ones I
+  attempted. As I wasn't particularily good at Enigma, it was for me 'one of
+  those hard levels I'll never beat anyway'. I actually got rather far,
+  because this level isn't too hard at all, and certainly easier than the
+  other levels of the month. What makes it easier is that the puzzles can't be
+  too easily 'ruined' by doing a false move. That makes this a good training
+  level for players who want to tackle the harder levels of this great game
+  which are also very fun, such as 'Island Labyrinth' or 'Aztec Temple'.
+  Keep up the good work, Jacob! </p>
+  <p class="author">Manfredi Carta</p>
+    
+  <p class="quote">
+  From all the levels Jacob brought to us, &quot;Labyrinth of Puzzles&quot;
+  surely is one of my favorite levels. Even as design and gameplay remind a lot
+  of &quot;Island Labyrinth&quot;, here nevertheless are very own ideas to
+  find. I enjoyed especially the team play of the two marbles in &quot;Labyrinth
+  of   Puzzles&quot;. At certain points the black marble is dependend on the
+  white and vice versa. However, it's not at all obvious when and how the other
+  marble has to help (like in many other levels). In addition, the degree of
+  difficulty is exactly right. There are no frustrating &quot;have to start all
+  over again&quot;-scenes, but one can solve one puzzle after the other and is
+  still busy for a very long time. All in all I have to say, that it's levels
+  like &quot;Labyrinth of Puzzles&quot; which are the reason for me to play Enigma.
+  Many thanks for this great level, Jacob!</p>
+  <p class="author">Manuel K&ouml;nig</p>
+
+  <p class="quote">
+  I have not yet finished Labyrinth of Puzzles, but it is my favorite kind of
+  landscape because it requires that I do many different things to complete it.
+  I love yin-yang levels of all kinds anyway. I don't mind moving boxes, and
+  this landscape has a few, and some sweet smaller puzzles within it. </p>
+  
+  <p class="quote">
+  With the large landscapes, like this one and Island Labyrinth, I learned to
+  make screenshots (from the Forum, like, duh!) and assemble them into a map to
+  study as I make moves.</p>
+
+  <p class="quote">
+  A couple of friends like the hair-raising rotor and deaths' heads better than
+  the puzzles, but I prefer these to rotors, fast or slow.</p>
+  <p class="author">Linda Mihalic</p>
+
+
+  <h4>&quot;I put together what I did know into one connected
+  challenge&quot;</h4>
+
+  <p>There are remarkable similarities between &quot;Labyrinth of Puzzles&quot;
+  and &quot;Double-Spiral&quot;: illmind already mentioned this one. They are
+  two of the scarce levels using it-brush, both use fl-space, keys and disks;
+  and the most important property: In both levels the white and the black
+  marble start off in separated places, and must be brought together. If you
+  read Jacob's explanations in detail, you can find out why:</p>
+
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_b.png" alt="Level of the month" border="0">
+    <div class="imagetitle">One out of many puzzles</div>
+  </div>
+
+  <p class="quote">
+  &quot;Labyrinth of Puzzles&quot; was only the 35th level I submitted and pretty
+  much my second attempt at a labyrinth-type level.  I was inspired by
+  the huge and varied mazes of the old Oxyd games -- I remember
+  exploring them for many hours, delighting in all of their little
+  tricks.  When I discovered Enigma four or five years ago I was
+  enthralled, incredibly pleased to finally be able to play Oxyd again,
+  but I noticed that it had a dearth of large, complex levels.  Soon
+  after I started playing Enigma I began writing levels, at first
+  extremely crude (I manually set objects with coordinates --
+  not a good strategy for designing levels of any significant size), but
+  increasingly refined my technique towards the goal of a level written
+  in a similar style to the monstrous puzzle-filled mazes that had
+  captivated me at a very early age.  My first attempt at a level of
+  this type turned out a lot too walled-off, with very clear
+  distinctions between areas and only one actor (to be released,
+  slightly modified, as &quot;Pleasure Garden&quot;), so I took the opposite path
+  in &quot;Labyrinth of Puzzles&quot;: very few obvious sections and two balls to
+  add to the difficulty, and keys/floppy disks/coins for gates to give
+  it structure.</p>
+
+  <p class="quote">
+  Now that I look back at it after having designed many more landscapes,
+  &quot;Labyrinth of Puzzles&quot; seems quite easy to complete, yet I think still
+  enjoyable.  It contains puzzles of varied types and sizes, but takes
+  none of these to an extreme, hopefully offering everyone a fun and
+  interesting challenge or two.  As can be seen by the level's
+  oddly-shaped boundaries, I had intended a slightly longer level, but
+  when I reached the level's current bottom I didn't see any elegant way
+  to extend the labyrinth and still preserve the feeling of continuity
+  that I was aiming for throughout.</p>
+
+  <p class="quote">
+  This really was one of my first major undertakings as a level
+  designer, with most of my earlier creations aimed at the exploration
+  of one or two concepts in Enigma.  I didn't know then what I know now,
+  such as the behaviors of the more advanced items or how to code
+  actions that deviated too much from the expected template, but I put
+  together what I did know into one connected challenge -- something I
+  would highly recommend to all new level authors, since it gives one
+  insight into a completely different type of level.  I have since
+  written new composite landscapes, taking this idea a bit further, but
+  I always enjoy returning to &quot;Labyrinth of Puzzles&quot; -- while it turned
+  out fairly simple, I believe it makes for a pleasurable landscape and
+  a varied style of level to play through.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>It definitely does! &quot;Pleasure Garden&quot;, by the way, was recently
+  released with Enigma 1.01 as VI/95, and I'm sure everyone who liked
+  &quot;Labyrinth of Puzzles&quot; will love to see and play this one. This and
+  more new levels by Jacob, like &quot;Temple of Gold&quot; (VII/24)!</p>
+
+  <p>One more thing: I want to thank Taztunes today, for he's the one to
+  proofread all the LotMs since the beginning in March; many thanks,
+  Taztunes!</p>
+
+  <p>Greets,<br/>
+  <i>Andreas</i></p>
+
+</div>

Added: homepage/input/lotm/lotm_200706_de.html
===================================================================
--- homepage/input/lotm/lotm_200706_de.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/lotm/lotm_200706_de.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -0,0 +1,307 @@
+<div class="lotm">
+<h2>Level des Monats</h2>
+
+  <p>Jeden Monat werfen wir einen n&auml;heren Blick auf einen herausragenden
+  Level. Herausragende Levels sind dabei solche, die sich durch die
+  h&ouml;chsten Bewertungen durch die Spieler auszeichnen, und dabei zugleich
+  von gen&uuml;gend vielen Spielern auch bewertet wurden. Es ist also Ihre
+  Wahl, die den Level des Monats bestimmt. Bitte werten Sie Levels, nachdem
+  Sie sie gespielt haben, und vergessen Sie nicht, die Wertungen zusammen mit
+  Ihren Spielergebnissen zum Ende eines jeden Monats uns zuzusenden.
+  Sie k&ouml;nnen alle vorigen Level des Monats in unserem <a href="$$lotm$$"
+  >Archiv</a> finden.</p>
+
+  <h3 class="lotm">
+    <span class="date">Juni 2007: </span>
+    &quot;Labyrinth of Puzzles&quot; von Jacob Scott
+  </h3>
+
+  <p>Irgendjemand hier, der meint, alte Levels seien veraltet? Diesen Monat
+  besuchen wir einen von Enigmas wahren Klassikern, einen Level, der direkt von
+  Oxyd inspiriert wurde. Geschrieben vom produktivsten Levelautoren, den Enigma
+  je gesehen hat, und der nur noch von Meinolf Schneider h&ouml;chst pers&ouml;nlich
+  &uuml;bertroffen wird. Der H&ouml;hepunkt von Jacobs fr&uuml;hen Levels: Verirren Sie sich
+  nicht im &quot;Labyrinth of Puzzles&quot;!</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_a.png" alt="Level des Monats" border="0">
+    <div class="imagetitle">Enigma IV # 19</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">Einige Rekorde vom Mai 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">9:18</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">10:40</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:53</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">13:33</td>
+        <td class="left">Duffy</td></tr>
+    <tr><td class="num">15:41</td>
+        <td class="left">Django</td></tr>
+    <tr><td class="num">15:42</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">19:15</td>
+        <td class="left">hdwow</td></tr>
+    <tr><td class="num">19:45</td>
+        <td class="left">daydreamer</td></tr>
+    <tr><td class="num">20:32</td>
+        <td class="left">JuSt</td></tr>
+    <tr><td class="num">22:16</td>
+        <td class="left">para_doks</td></tr>
+    <tr><td class="num">26:21</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">32:22</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:52</td>
+        <td class="left">Edgar_Flesk</td></tr>
+    <tr><td class="num">39:50</td>
+        <td class="left">Tarim</td></tr>
+    <tr><td class="num">40:15</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">40:45</td>
+        <td class="left">Melanie</td></tr>
+    <tr><td class="num">41:28</td>
+        <td class="left">Klaus</td></tr>
+    <tr><td class="num">45:06</td>
+        <td class="left">U-Punkt</td></tr>
+    <tr><td class="num">45:30</td>
+        <td class="left">HuB34</td></tr>
+    <tr><td class="num">46:42</td>
+        <td class="left">Marc-Hendrik</td></tr>
+    <tr><td class="num">46:59</td>
+        <td class="left">Sim_Ed</td></tr>
+  </table>
+
+  <p>Tats&auml;chlich hatte ich erwartet, dass &quot;Labyrinth of Puzzles&quot;
+  bereits Level des Monats Mai 2007 wird -- nur um dann vom Neuling &quot;The
+  Aztec Temple&quot; &uuml;berholt zu werden. &quot;Labyrinth of Puzzles&quot; hat
+  bislang 7 Stimmen gesammelt, mit einem Durchschnitt von <b>9.00</b>,
+  wohingegen &quot;The Aztec Temple&quot; erst von 3 Spielern bewertet wurde.
+  In unserem <a href="$$lotm$$">Archiv</a> k&ouml;nnen wir alle bisherigen Level des
+  Monats mit ihren aktuellen Bewertungen vergleichen -- das wird ein
+  spektakul&auml;res Rennen zwischen dem Newcomer und dem Klassiker in den n&auml;chsten
+  Monaten!</p>
+
+  <h4>&quot;duffy - diabolically unfolding frustration for you&quot;</h4>
+  
+  <p class="quote">
+  (frei &uuml;bersetzt: duffy - diabolisches entfalten von frust f&uuml;r spieler)</p>
+
+  <p class="quote">
+  der nickname/dateiname(n) ist also offensichtlich mit gro&szlig;er sorgfalt
+  gew&auml;hlt worden. wir sprechen hier &uuml;ber den mann, der level geschrieben
+  hat, die so b&ouml;se sind, dass sie mir angst einjagen, wenn ich nur an sie
+  denke. island of safety, die alien glyph trilogie, the document, security
+  guards, bad nightmare, worse nightmare, double-spiral und nat&uuml;rlich
+  das unvergessliche labyrinth of puzzles.</p>
+  
+  <p>[Interessante Mischung ... Du hast die &quot;Seed Puzzles&quot; vergessen!
+  ;-]</p>
+
+  <p class="quote">
+  dieser mann ist schuld, dass ich stundenlang in den monitor starrte,
+  um zu versuchen, einen weg zu finden, seine level besiegen zu k&ouml;nnen. ich
+  hasse duffy! ich hasse ihn daf&uuml;r, dass er die b&ouml;swilligsten level
+  geschrieben hat, die ich je in enigma gesehen habe ... zur gleichen
+  zeit liebe ich duffy! ich liebe ihn aus genau demselben grund.</p>
+
+  <p class="quote">
+  duffy hat mich in vielen arten und weisen inspiriert beim erstellen
+  meiner eigenen level. ich kann mich noch gut daran erinnern, wie ich
+  labyrinth of puzzles das erste mal sah und noch zu mir selbst dachte:
+  'ach das wird leicht. 5 minuten und fertig' ... das war zumindest,
+  bis ich das erste problem mit dem trigger im wasser sah und keine
+  offensichtliche m&ouml;glichkeit mit leichtigkeit das problem zu l&ouml;sen ...
+  dies erstreckt sich durch das gesamte level. es werden sachen
+  begonnen und dann wieder aufgeh&ouml;rt, da ein st&uuml;ck vom puzzle fehlt.
+  es verbreitet frust. duffy hat so viele sachen gemacht, die mir
+  zeigen, wie man ein level einfach aussehen lassen kann, und sich
+  dann zu einem horrortrip entwickeln. ich wei&szlig;, dass ich niemals level
+  schreiben k&ouml;nnen werde, die so sind wie die von duffy, und da frage
+  ich mich dann immer wieder, was in seinem kopf vorgehen muss. wie
+  zur h&ouml;lle kann man solche level planen, die dem spieler fast die
+  tr&auml;nen in die augen treiben? ... es muss wochen oder monate dauern
+  um sich sowas auszudenken.</p>
+
+  <p class="quote">
+  auch wenn labyrinth of puzzles ein &auml;lteres level von duffy ist,
+  denke ich, dass es nicht viele leute gibt, die HEUTE ein vergleichbar
+  gutes level schreiben k&ouml;nnen, welches genauso spannend und clever
+  zugleich ist, wie labyrinth of puzzles. es ist wahrlich ein zeitloser
+  klassiker mit gut gew&auml;hltem namen. was mich immer an labyrinth of 
+  puzzles beeindruckt hat, ist, dass es mehr oder weniger zwei selbsttragende
+  welten sind, die fusioniert wurden. die wei&szlig;e kugel hat
+  ihren abschnitt und muss eigene quests l&ouml;sen und dasselbe gilt
+  f&uuml;r die schwarze kugel. es ist auch heute noch ein level, welches
+  auf keinen fall untersch&auml;tzt werden sollte. das einzige, wo ich mich
+  immer wieder frage 'warum?' ist, dass das halbe level leer
+  geblieben ist. ich mache jede wette, wenn er mehr zeit gehabt
+  h&auml;tte, dann w&auml;re die andere h&auml;lfte auch noch voll mit puzzles
+  gewesen, die kaum zu l&ouml;sen sind. danke, duffy, und h&ouml;r bitte nicht
+  auf, level zu schreiben, die dem spieler alles abverlangen. deine
+  level sind, waren und werden immer eine grosse inspiration f&uuml;r
+  mich bleiben f&uuml;r meine eigenen kleinen experimente.</p>
+  <p class="author">illmind</p>
+
+  <p>&quot;Labyrinth of Puzzles&quot; ist einer der wenigen enigma-eigenen
+  Levels, die einen Oxyd-Kompatibilit&auml;ts-Modus verwenden. Das bedeutet: Einige
+  Mechanismen arbeiten nicht wie gew&ouml;hnlich in Enigma, sondern eher wie in
+  einem der alten Oxyd-Spiele. Man sieht das recht deutlich, wenn man ein
+  Schloss mit einem Schl&uuml;ssel &ouml;ffnet -- in &quot;Labyrinth of Puzzles&quot; hat
+  man danach den Schl&uuml;ssel noch immer im Inventar. Jacob hat diesen Modus nicht
+  ohne Grund ausgew&auml;hlt. Vielmehr basiert eines der R&auml;tsel auf diesem
+  speziellen Modus, der weniger erfahrenen Spielern vielleicht ungewohnt
+  vorkommen wird. Versuchen Sie &quot;Seed Puzzle II&quot; und
+  &quot;Ice-Bomb&quot;, wenn Sie nicht wissen, was ich meine.</p>
+
+  <h4>&quot;Es war eine der ersten 'schwierigen' Landschaften, die ich zu
+  l&ouml;sen versuchte&quot;</h4>
+
+  <p>Hier sind noch ein paar Kommentare von unseren Spielern:</p>
+
+  <p class="quote">
+  'Labyrinth of Puzzles' ist eines der unterhaltsamsten Levels in Enigma, und
+  verdient zweifellos diese Auszeichnung.
+  Als ich zum ersten Mal in die Welt von Enigma kam, das mit einer Version von
+  Linux kam, begann ich sofort begeistert zu spielen. Vor einigen Jahren hatte
+  ich mal eine alte schwarz-wei&szlig;e Version von Oxyd, die ich ziemlich mochte.
+  Allerdings verblasst sie vor Enigma.</p>
+  
+  <p class="quote">
+  Wahrscheinlich gef&auml;llt mir dieses Level so sehr, weil es eine der ersten
+  'schwierigen' Landschaften war, die ich zu l&ouml;sen versuchte. Da ich damals
+  noch nicht besonders gut in Enigma war, war es f&uuml;r mich 'eines dieser Level,
+  die ich sowieso nie l&ouml;sen werde'. Allerding kam ich relativ weit, denn
+  diese Landschaft ist gar nicht so schwer, und schon gar nicht wie die
+  bisherigen 'Level des Monats'. Zum Beispiel kann man die R&auml;tsel nicht so
+  leicht 'ruinieren', indem man etwas falsches tut. Das macht diese Landschaft
+  sehr geeignet zum Trainieren, wenn man schwierigere Level wie 'Island
+  Labyrinth' oder 'Aztec Temple', die sehr unterhaltsam sind, l&ouml;sen will.
+  Weiter so, Jacob!</p>
+  <p class="author">Manfredi Carta</p>
+    
+  <p class="quote">
+  Von den vielen Levels, die Jacob uns beschert hat, ist &quot;Labyrinth of
+  Puzzles&quot; sicherlich einer meiner Lieblingslevels. Auch wenn es von der
+  Aufmachung und vom Spielstil sehr an &quot;Island Labyrinth&quot; erinnert,
+  so bieten sich hier jedoch ganz eigene Ideen. Was mir ganz besonders an
+  &quot;Labyrinth of Puzzles&quot; gef&auml;llt, ist das Zusammenspiel der
+  beiden Kugeln. An verschiedenen Stellen ist die schwarze Kugel auf die
+  Wei&szlig;e angewiesen und umgekehrt. Dabei ist es jedoch nicht (wie in
+  anderen Levels) immer offensichtlich, wann und wie die andere Kugel helfen
+  muss. Auch der Schwierigkeitsgrad dieses Levels ist genau richtig. Man hat
+  keine frustrierenden &quot;Ich muss alles nochmal von vorne
+  machen&quot;-Erlebnisse, sondern kann ein R&auml;tsel nach dem anderen
+  l&ouml;sen und ist dennoch sehr lange besch&auml;ftigt. Alles in allem muss
+  ich sagen, dass es Levels wie &quot;Island Labyrinth&quot; sind, die
+  f&uuml;r mich der Grund sind, Enigma zu spielen. Vielen Dank f&uuml;r diesen
+  gro&szlig;artigen Level, Jacob!</p>
+  <p class="author">Manuel K&ouml;nig</p>
+
+  <p class="quote">
+  Ich habe Labyrinth of Puzzles noch nicht beendet, aber er ist mein
+  favorisierter Typ von Landschaften, weil ich viele verschiedene
+  Dinge machen muss, um ihn zu l&ouml;sen. Und ich liebe sowieso alle Arten von
+  Yin-Yang-Levels. Es macht mir nichts aus, ein paar Kisten zu schieben, und
+  diese Landschaft hat ein paar davon, und ein paar s&uuml;&szlig;e kleine R&auml;tsel
+  obendrein.</p>
+
+  <p class="quote">
+  Mit den gro&szlig;en Landschaften, wie dieser hier und Island Labyrinth, habe ich
+  gelernt, wie man Screenshots macht (aus dem Forum nat&uuml;rlich, wer h&auml;tt's
+  gedacht!) und zu einer Karte zusammengestellt, um sie w&auml;hrend dem Spiel zu
+  verwenden.</p>
+
+  <p class="quote">
+  Ein paar Freunde m&ouml;gen die haarstr&auml;ubenden Rotoren und Totenkopfsteine lieber
+  als die R&auml;tsel, aber ich bevorzuge sie gegen&uuml;ber Rotoren, seien diese nun
+  schnell oder langsam.</p>
+  <p class="author">Linda Mihalic</p>
+
+  <h4>&quot;Ich habe das, was ich kannte, zu einer zusammenh&auml;ngenden Aufgabe
+  zusammengestellt&quot;</h4>
+
+  <p>Es gibt ein paar bemerkenswerte &Auml;hnlichkeiten zwischen &quot;Labyrinth of
+  Puzzles&quot; und &quot;Double-Spiral&quot;: illmind hat diesen Level bereits
+  erw&auml;hnt. Sie sind zwei der wenigen Levels, die it-brush verwenden, beide
+  benutzen fl-space, Schl&uuml;ssel und Disketten; und die wichtigste Eigenschaft:
+  In beiden Levels beginnen die wei&szlig;e und schwarze Murmel in getrennten
+  Bereichen, und m&uuml;ssen zusammenfinden. Wenn Sie Jacobs Ausf&uuml;hrungen im Detail
+  lesen, k&ouml;nnen Sie herausfinden, warum:</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200706_b.png" alt="Level des Monats" border="0">
+    <div class="imagetitle">Eines von vielen R&auml;tseln</div>
+  </div>
+
+  <p class="quote">
+  &quot;Labyrinth of Puzzles&quot; war erst der 35ste Level, den ich
+  ver&ouml;ffentlicht habe und so ziemlich mein zweiter Versuch f&uuml;r einen
+  labyrinthartigen Level. Ich wurde inspiriert von den riesigen und
+  verschiedenartigen Irrg&auml;rten der alten Oxyd-Spiele -- ich erinnere mich
+  daran, wie ich sie stundenlang erforscht habe, vergn&uuml;gt von all den kleinen
+  Tricks. Als ich Enigma vor vier oder f&uuml;nf Jahren entdeckt habe, war ich
+  verzaubert, unglaublich erleichtert, endlich wieder Oxyd spielen zu k&ouml;nnen.
+  Aber ich bemerkte, dass es unter einem Mangel an gro&szlig;en, komplexen Levels
+  litt. Kurz nachdem ich begonnen habe, Enigma zu spielen, habe ich begonnen,
+  Levels zu schreiben. Anfangs sehr grob (ich setzte Objekte mittels
+  Koordinaten -- keine gute Strategie, um Levels signifikanter Gr&ouml;&szlig;e zu
+  schreiben), aber mit zunehmender Verbesserung meiner Techniken n&auml;herte ich
+  mich dem Ziel, einen Level in der Art der monstr&ouml;sen, r&auml;tselerf&uuml;llten
+  Irrg&auml;rten zu schreiben, die mich schon in meiner Jugend gefangen genommen
+  hatten. Mein erster Versuch, einen Level dieses Typs zu schreiben, stellte
+  sich als zu abgeschottet heraus, mit klaren Grenzen zwischen den Gebieten und
+  auch nur einer Murmel (um nun, leicht modifiziert, als &quot;Pleasure
+  Garden&quot; ver&ouml;ffentlicht zu werden). Also verfolgte ich den umgekehrten
+  Weg in &quot;Labyrinth of Puzzles&quot;: sehr wenige offensichtliche
+  Abschnitte und zwei Murmeln, um den Schwierigkeitsgrad zu erh&ouml;hen, sowie
+  Schl&uuml;ssel/Disks/M&uuml;nzen f&uuml;r Tore, die dem Level Struktur geben.</p>
+
+  <p class="quote">
+  Wenn ich heute auf den Level zur&uuml;ckblicke, nachdem ich viele weitere
+  Landschaften entwickelt habe, scheint mir &quot;Labyrinth of Puzzles&quot;
+  recht einfach zu l&ouml;sen, und ist dennoch unterhaltsam, denke ich. Er enth&auml;lt
+  R&auml;tsel von verschiedenen Art und Gr&ouml;&szlig;en, aber &uuml;bertreibt keines, was
+  hoffentlich jedem ein oder zwei spa&szlig;ige und interessante Herausforderungen
+  bietet. Wie man aus dem unf&ouml;rmigen Rand des Levels sehen kann, hatte ich
+  urspr&uuml;nglich einen etwas l&auml;ngeren Level geplant, aber als ich den heutigen
+  Rand des Levels erreicht hatte, sah ich keine elegante M&ouml;glichkeit, das
+  Labyrinth noch zu erweitern, und dabei den Eindruck von Kontinuit&auml;t zu
+  erhalten, den ich von Anfang an angestrebt hatte.</p>
+
+  <p class="quote">
+  Dies war wirklich eines meiner ersten gro&szlig;en Projekte als Leveldesigner, dabei
+  hatten die meisten meiner fr&uuml;heren Kreationen das Ziel, ein oder zwei
+  Konzepte von Enigma zu erforschen. Ich wusste damals nicht, was ich heute
+  wei&szlig;, etwa das Verhalten der fortgeschritteneren Gegenst&auml;nde oder wie man
+  Aktionen schreibt, die zu sehr von der normalen, erwarteten Vorlage
+  abweichen, aber ich habe das, was ich kannte, zu einer zusammenh&auml;ngenden
+  Aufgabe zusammengestellt -- etwas, was ich allen neuen Levelautoren dringend
+  empfehlen m&ouml;chte, da es Einblick in eine v&ouml;llig andere Art von Levels gibt.
+  Seitdem habe ich neue zusammengesetzte Landschaften geschrieben, die diese
+  Idee noch weiter f&uuml;hren, aber ich kehre immer gerne zu &quot;Labyrinth of
+  Puzzles&quot; zur&uuml;ck -- w&auml;hrend er sich als ziemlich einfach entpuppt hat,
+  glaube ich, dass er dennoch eine vergn&uuml;gliche Landschaft und einen
+  abwechslungsreichen Levelstil bietet.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>Das macht er mit Sicherheit! Nebenbei, &quot;Pleasure Garden&quot; wurde
+  k&uuml;rzlich mit Enigma 1.01 als VI/95 ver&ouml;ffentlicht, und ich bin mir sicher,
+  dass jeder, der &quot;Labyrinth of Puzzles&quot; mag, auch diesen Level sehen
+  und spielen m&ouml;chte. Diesen und weitere neue Levels von Jacob, wie
+  &quot;Temple of Gold&quot; (VII/24)!</p>
+
+  <p>Eine Sache noch: Ich m&ouml;chte heute Taztunes danken, da er die englische
+  Version des LotM seit den Anf&auml;ngen im M&auml;rz korrekturgelesen hat; vielen Dank,
+  Taztunes!</p>
+
+  <p>Sch&ouml;ne Gr&uuml;&szlig;e,<br/>
+  <i>Andreas</i></p>
+
+</div>

Modified: homepage/input/lotm/lotm_core.html
===================================================================
--- homepage/input/lotm/lotm_core.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/lotm/lotm_core.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -7,35 +7,53 @@
   Level of the Month. So please rate the levels you play and do not forget to
   submit your ratings together with your scores at the end of each month.</p>
 
-  <p>These are the featured Levels of the Month:</p>
+  <p>These are the featured Levels of the Month. The value in front is the
+  current user rating, the number in brackets is the number of people who rated
+  this level. The data is from May 2007.</p>
 
   <table>
     <colgroup>
-       <col width="160">
-       <col width="470">
-       <col width="200">
+       <col width="50">
+       <col width="50">
+       <col width="100">
+       <col width="270">
+       <col width="270">
        <col width="80">
     </colgroup>
-    <tr><th class="right">Month</th>
+    <tr><th colspan="2" class="right">Rating</th>
+        <th class="right">Month</th>
         <th class="left">Title</th>
         <th class="left">Author</th>
-        <th class="num">Position (1.00)</th>
+        <th class="num">Position (1.01)</th>
     </tr>
-    <tr><td class="right">March 2007</td>
+    <tr><td class="right">9.33</td>
+        <td class="right">(3)</td>
+        <td class="right">May '07</td>
+        <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
+        <td class="left">Dominik Lehmann</td>
+        <td class="num">VI/100</td>
+    </tr>
+    <tr><td class="right">9.17</td>
+        <td class="right">(6)</td>
+        <td class="right">March '07</td>
         <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
         <td class="left">Jacob Scott</td>
         <td class="num">V/100</td>
     </tr>
-    <tr><td class="right">April 2007</td>
+    <tr><td class="right">9.00</td>
+        <td class="right">(7)</td>
+        <td class="right">June '07</td>
+        <td class="left"><a href="$$lotm_200706$$">Labyrinth of Puzzles</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">IV/19</td>
+    </tr>
+    <tr><td class="right">8.70</td>
+        <td class="right">(10)</td>
+        <td class="right">April '07</td>
         <td class="left"><a href="$$lotm_200704$$">Pneumatic Delivery</a></td>
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
-    <tr><td class="right">May 2007</td>
-        <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
-        <td class="left">Dominik Lehmann</td>
-        <td class="num">VI/39</td>
-    </tr>
   </table>
 
 </div>

Modified: homepage/input/lotm/lotm_core_de.html
===================================================================
--- homepage/input/lotm/lotm_core_de.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/lotm/lotm_core_de.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -9,35 +9,55 @@
   Sie sie gespielt haben, und vergessen Sie nicht, die Wertungen zusammen mit
   Ihren Spielergebnissen zum Ende eines jeden Monats uns zuzusenden.</p>
 
-  <p>Dies sind die bisher erw&auml;hlten Level des Monats:</p>
+  <p>Dies sind die bisher erw&auml;hlten Level des Monats. Der Wert ganz vorne
+  ist die aktuelle Bewertung durch Spieler, die Zahl in Klammern gibt an,
+  wieviele Spieler diesen Level bereits bewertet haben. Die Daten sind vom Mai
+  2007.</p>
 
   <table>
     <colgroup>
-       <col width="160">
-       <col width="470">
-       <col width="200">
+       <col width="50">
+       <col width="50">
+       <col width="100">
+       <col width="270">
+       <col width="270">
        <col width="80">
     </colgroup>
-    <tr><th class="right">Monat</th>
+    <tr><th colspan="2" class="right">Bewertung</th>
+        <th class="right">Monat</th>
         <th class="left">Titel</th>
         <th class="left">Autor</th>
-        <th class="num">Position</th>
+        <th class="num">Position (1.01)</th>
     </tr>
-    <tr><td class="right">M&auml;rz 2007</td>
+    <tr><td class="right">9.33</td>
+        <td class="right">(3)</td>
+        <td class="right">Mai '07</td>
+        <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
+        <td class="left">Dominik Lehmann</td>
+        <td class="num">VI/100</td>
+    </tr>
+    <tr><td class="right">9.17</td>
+        <td class="right">(6)</td>
+        <td class="right">M&auml;rz '07</td>
         <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
         <td class="left">Jacob Scott</td>
         <td class="num">V/100</td>
     </tr>
-    <tr><td class="right">April 2007</td>
+    <tr><td class="right">9.00</td>
+        <td class="right">(7)</td>
+        <td class="right">Juni '07</td>
+        <td class="left"><a href="$$lotm_200706$$">Labyrinth of Puzzles</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">IV/19</td>
+    </tr>
+    <tr><td class="right">8.70</td>
+        <td class="right">(10)</td>
+        <td class="right">April '07</td>
         <td class="left"><a href="$$lotm_200704$$">Pneumatic Delivery</a></td>
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
-    <tr><td class="right">Mai 2007</td>
-        <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
-        <td class="left">Dominik Lehmann</td>
-        <td class="num">VI/39</td>
-    </tr>
   </table>
 
 </div>
+ 

Modified: homepage/input/news/news_issue21_de.html
===================================================================
--- homepage/input/news/news_issue21_de.html	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/news/news_issue21_de.html	2007-06-01 22:32:32 UTC (rev 772)
@@ -3,16 +3,16 @@
 </h3>
 
 <p>Enigma 1.01 dient zur Korrektur einiger Fehler, der Hinzuf&uuml;gung neuer Level
-    und einiger kleinerer Erweiterungen. Vielen Dank f?r alle Anregungen, die
+    und einiger kleinerer Erweiterungen. Vielen Dank f&uuml;r alle Anregungen, die
     in dieses Release eingeflossen sind. Die Liste der Korrekturen und 
     Erweiterungen umfasst folgendes:</p>
 
 <ul>
     <li> 60++ neue Level (inzwischen insgesamt mehr als 1000!)</li>
-    <li> Hinzuf&uuml;gung eines einfachen Modus f?r einige bestehende Level </li>
-    <li> Korrektur aller Level mit bekanntgewordenen Abk?rzungen</li>
+    <li> Hinzuf&uuml;gung eines einfachen Modus f&uuml;r einige bestehende Level </li>
+    <li> Korrektur aller Level mit bekanntgewordenen Abk&uuml;rzungen</li>
     <li> Finnische &Uuml;bersetzung, franz&ouml;sisches und russisches Handbuch</li>
-    <li> Unterst?rzung von Levelpacketen, die ?ber das Internet aktualisiert werden</li>
+    <li> Unterst&uuml;rzung von Levelpacketen, die &uuml;ber das Internet aktualisiert werden</li>
     <li> Ger&auml;uschd&auml;mpfung f&uuml;r laute Level</li>
     <li> Neue Windows Installation mit moderner Oberfl&auml;che</li>
     <li> Viele kleinere Verbesserungen</li>

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2007-06-01 21:33:29 UTC (rev 771)
+++ homepage/input/output-files.lua	2007-06-01 22:32:32 UTC (rev 772)
@@ -215,4 +215,12 @@
     body = {"lotm/lotm_200705"}
 }
 
+html.lotm_200706 = {
+    outfile = "lotm_200706.html",
+    title = "Level of the Month: June 2007",
+    title_de = "Level des Monats: Juni 2007",
+    rightcolumn = {},
+    body = {"lotm/lotm_200706"}
+}
+
 ----------------------------------------------------------------------



From ral at mail.berlios.de  Sat Jun  2 23:29:05 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 2 Jun 2007 23:29:05 +0200
Subject: [Enigma-game-svn] r773 - in branches/eval/java/src/org/enigma_game:
	lev util
Message-ID: <200706022129.l52LT5jj005091@sheep.berlios.de>

Author: ral
Date: 2007-06-02 23:29:04 +0200 (Sat, 02 Jun 2007)
New Revision: 773

Modified:
   branches/eval/java/src/org/enigma_game/lev/LevelScore.java
   branches/eval/java/src/org/enigma_game/lev/RatingManager.java
   branches/eval/java/src/org/enigma_game/lev/ScoreManager.java
   branches/eval/java/src/org/enigma_game/lev/UserManager.java
   branches/eval/java/src/org/enigma_game/util/ScoreEvaluation.java
   branches/eval/java/src/org/enigma_game/util/ScoreRegistration.java
   branches/eval/java/src/org/enigma_game/util/UserEvaluation.java
Log:
Branches/eval:
- rating statistics
- reduce output to stdout

Modified: branches/eval/java/src/org/enigma_game/lev/LevelScore.java
===================================================================
--- branches/eval/java/src/org/enigma_game/lev/LevelScore.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/lev/LevelScore.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -26,6 +26,10 @@
     Element elem;
     LevelScore parentScore = null;
     static String currentRel = "1.00";
+    static int solvedTotal = 0;
+    static int ratingsTotal = 0;
+    static int ratingsTotalSum = 0;
+    static int[] ratingsDist = new int[11];
     boolean isDiffSolved = false;
     boolean isEasySolved = false;
     int bsd = -1;
@@ -383,6 +387,7 @@
                 }
             }
             solvnd++;
+            solvedTotal++;
             if (usd == 0)
                 usd = 1;
             if (isProfessional) {
@@ -408,6 +413,7 @@
                 }
             }
             solvne++;
+            solvedTotal++;
             if (use == 0)
                 use = 1;
             if (isProfessional) {
@@ -418,6 +424,9 @@
         if (urat >= 0) {
             avgurNum++;
             avgurSum += urat;
+            ratingsTotal++;
+            ratingsTotalSum += urat;
+            ratingsDist[urat]++;
         }
     }
     

Modified: branches/eval/java/src/org/enigma_game/lev/RatingManager.java
===================================================================
--- branches/eval/java/src/org/enigma_game/lev/RatingManager.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/lev/RatingManager.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -176,7 +176,7 @@
         }
     }
     
-    public boolean isUserProfessional(UserManager userMgr, String userId) {
+    public boolean isUserProfessional(UserManager userMgr, String userId, boolean print) {
         boolean isProfessional = false;
         int userDiffCount = 0;
         int userEasyCount = 0;
@@ -199,7 +199,9 @@
         Formatter formatter = new Formatter(Locale.US);
         formatter.format("Solved diff %3d/%3d - easy %3d/%3d = %6.2f%%", userDiffCount,
                 numDifficult, userEasyCount, numEasy, solvedPercent);
-        System.out.println(formatter.toString());
+        if (print) {
+            System.out.println(formatter.toString());
+        }
         if (solvedPercent > 20.0) {
             isProfessional = true;
             numProf++;
@@ -213,14 +215,14 @@
         userMgr.setValue(userId, "solvede", formatterEasy.toString());
         
         Formatter formatterDiff = new Formatter(Locale.US);
-        formatterDiff.format("%3d/%3d", userDiffCount, numDifficult);
+        formatterDiff.format("%4d/%4d", userDiffCount, numDifficult);
         userMgr.setValue(userId, "solvedd", formatterDiff.toString());
         
         return isProfessional;
     }
     
     public void evaluateUser(UserManager userMgr, String userId) {
-        System.out.println("Par Evalutation");
+//        System.out.println("Par Evalutation");
         StringBuilder sb = new StringBuilder();
         Formatter formatter = new Formatter(sb, Locale.US);
         
@@ -282,7 +284,7 @@
         hcpsumsolved = hcpsumsolved  * 100.0 / levelsumsolved;
         formatter.format("Enigma Total Hcp = %6.1f, Solved Hcp = %6.1f at %d levels",
                 hcpsum, hcpsumsolved, levelsum);
-        System.out.println(sb.toString());
+//        System.out.println(sb.toString());
         
         Formatter formatterHcpTotal = new Formatter(Locale.US);
         formatterHcpTotal.format("%6.1f",  hcpsum);
@@ -352,6 +354,7 @@
         System.out.println("Diff Levels " + numDifficult + " Easy Levels " + numEasy);
         System.out.println("Diff Solved " + diffSolved + " / Unsolved " + diffUnsolved);
         System.out.println("Easy Solved " + easySolved + " / Unsolved " + easyUnsolved);
+        System.out.println("Total Solved " + LevelScore.solvedTotal);
         LevelScore.printWRStatistics(userMgr);
         
         
@@ -373,9 +376,32 @@
                         break;
                 }
             }
+            
+            output = new PrintWriter(new FileWriter(new File("stat-other.html")), true);
+            output.println("  <div class=\"stat-help\">");
+            output.println("    <h3>Other Statistics</h3>");
+            output.println("    <h4>Scores</h4>");
+            output.println("      " + LevelScore.solvedTotal + " single level scores have been registered.");
+            output.println("    <h4>Ratings</h4>");
+            output.printf("      %s single level ratings have been registered with an average of "
+                    + "%4.2f and the following distribution: ", LevelScore.ratingsTotal, ((double)LevelScore.ratingsTotalSum)/LevelScore.ratingsTotal);
+            output.println("      <table>");
+            output.println("        <colgroup><col width=\"80\"><col width=\"80\"></colgroup>");
+            output.println("        <tr><th>rating</th><th>count</th></tr>");
+            for (int i=0; i<=10; i++) {
+                output.println("        <tr><td class=\"num\">" + i + "</td><td class=\"num\">" + LevelScore.ratingsDist[i] + "</td></tr>");
+            }
+            output.println("      </table>");
+            output.println("  </div>");
+            output.flush();
         } catch (Exception e) {
         }
         
+        System.out.println("Total Ratings " + LevelScore.ratingsTotal + "  Average " +
+                ((double)LevelScore.ratingsTotalSum)/LevelScore.ratingsTotal);
+        for (int i=0; i<=10; i++) {
+            System.out.println("   " + i + " - " + LevelScore.ratingsDist[i]);
+        }
     }
     
     public void evaluateLevels() {

Modified: branches/eval/java/src/org/enigma_game/lev/ScoreManager.java
===================================================================
--- branches/eval/java/src/org/enigma_game/lev/ScoreManager.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/lev/ScoreManager.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -101,7 +101,7 @@
         return formatter.toString();
     }
     
-    public boolean checkUser(UserManager userMgr) {
+    public boolean checkUser(UserManager userMgr, boolean printWarnings) {
         String id = getProperty("UserId");
         String id_1_00 = getProperty("UserId1.00");
         String userName = userMgr.getValue(id, "name");
@@ -139,7 +139,9 @@
                 userMgr.setValue(id, "savecount", getProperty("Count"));
                 result = true;
             } else {
-                System.out.println("Outdated scores not registered!");
+                if (printWarnings) {
+                    System.out.println("Outdated scores not registered!");
+                }
             }
         } else if (userName.equals("")) {
             // no user registered with the id
@@ -172,9 +174,11 @@
                             + userName + "' to the already used name '"
                             + getProperty("UserName") +"'");
                 }
-            } else {
+            } else if (!getProperty("UserName").equals("")) {
                 // must be a second user with the same id
-                System.out.println("Id mismatch - id already in use!");
+                System.out.println("Id mismatch - id '" + id + "' already in use!");
+            } else if (printWarnings) {
+                    System.out.println("Update of score without user name");
             }
         }
         return result;
@@ -224,7 +228,9 @@
             avgRating = ((float)sumRatings)/numRatings;
         Formatter formatter = new Formatter(Locale.US);
         formatter.format("Ratings count %d, avg %5.2f", numRatings, avgRating);
-        System.out.println(formatter.toString());
+        if (checkSec) {
+            System.out.println(formatter.toString());
+        }
         
         Formatter formatterRatcount = new Formatter(Locale.US);
         formatterRatcount.format("%3d", numRatings);
@@ -234,7 +240,7 @@
         formatterRatAvg.format("%5.2f",  avgRating);
         userMgr.setValue(userId, "ratavg", formatterRatAvg.toString());
                 
-        isProfessional = ratingMgr.isUserProfessional(userMgr, getProperty("UserId"));
+        isProfessional = ratingMgr.isUserProfessional(userMgr, getProperty("UserId"), checkSec);
     }
     
     public void evaluateScores(RatingManager ratingMgr) {

Modified: branches/eval/java/src/org/enigma_game/lev/UserManager.java
===================================================================
--- branches/eval/java/src/org/enigma_game/lev/UserManager.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/lev/UserManager.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -168,4 +168,18 @@
         }
     }
     
+    public class ComparatorRating implements Comparator<String> {
+        public ComparatorRating() {
+        }
+        
+        public int compare(String id1, String id2) {
+            String ratcount1 = getValue(id1, "ratcount");
+            int ratCount1 = (!ratcount1.equals("")) ? Integer.parseInt(ratcount1.trim()) : 0;
+            String ratcount2 = getValue(id2, "ratcount");
+            int ratCount2 = (!ratcount2.equals("")) ? Integer.parseInt(ratcount2.trim()) : 0;
+            int result = ( ratCount1 < ratCount2) ? 1 : ((ratCount1 == ratCount2) ? 0 : -1);
+            return result;
+        }
+    }
+    
 }

Modified: branches/eval/java/src/org/enigma_game/util/ScoreEvaluation.java
===================================================================
--- branches/eval/java/src/org/enigma_game/util/ScoreEvaluation.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/util/ScoreEvaluation.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -42,7 +42,7 @@
                 ZipInputStream zin = new ZipInputStream(new BufferedInputStream(new FileInputStream(scoreFiles[i])));
                 zin.getNextEntry();
                 ScoreManager scm = new ScoreManager(zin);
-                scm.checkUser(userMgr);
+                scm.checkUser(userMgr, false);
                 scm.checkScores(ratingMgr, userMgr, false);
                 scm.evaluateScores(ratingMgr);
                 numUsers++;

Modified: branches/eval/java/src/org/enigma_game/util/ScoreRegistration.java
===================================================================
--- branches/eval/java/src/org/enigma_game/util/ScoreRegistration.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/util/ScoreRegistration.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -90,7 +90,7 @@
             System.out.println("Score version = " + scm.getProperty("Count")
                     + ", elements = " + scm.getScoreElemsCount());
             
-            if (scm.checkUser(userMgr)) {
+            if (scm.checkUser(userMgr, true)) {
                 scm.checkScores(ratingMgr, userMgr, true);
     
                 ZipOutputStream zout = new ZipOutputStream (new BufferedOutputStream(

Modified: branches/eval/java/src/org/enigma_game/util/UserEvaluation.java
===================================================================
--- branches/eval/java/src/org/enigma_game/util/UserEvaluation.java	2007-06-01 22:32:32 UTC (rev 772)
+++ branches/eval/java/src/org/enigma_game/util/UserEvaluation.java	2007-06-02 21:29:04 UTC (rev 773)
@@ -54,7 +54,7 @@
                         "' - Id '" + scm.getProperty("UserId") + "'");
                 scm.checkScores(ratingMgr, userMgr, false);
                 ratingMgr.evaluateUser(userMgr, scm.getProperty("UserId"));
-                System.out.println("");
+//                System.out.println("");
                 numUsers++;
             }
             userMgr.save(userUrl);
@@ -168,6 +168,34 @@
             htmlOut.println("  </table>");
             htmlOut.flush();
             
+            htmlOut = new PrintWriter(new FileWriter(new File("table-rat.html")), true);
+            System.out.println("");
+            System.out.println("Rating Statistics:");
+            System.out.println("count - average - users");
+            htmlOut.println("  <table>");
+            htmlOut.println("    <caption>Rating Statistics of " + formatter.toString() + "</caption>");
+            htmlOut.println("    <colgroup><col width=\"80\"><col width=\"80\"><col width=\"220\"></colgroup>");
+            htmlOut.print("    <tr><th>count</th><th>average</th><th class=\"left\">user</th></tr>");
+            List<String> userByRat = new ArrayList<String>(userMgr.getUserIds());
+            UserManager.ComparatorRating compRating = userMgr.new ComparatorRating();
+            Collections.sort(userByRat, compRating);
+            for (String id : userByRat) {
+                String ratcount = userMgr.getValue(id, "ratcount");
+                if (!ratcount.endsWith(" 0") && !ratcount.equals("0")) {
+                    System.out.println(" " + userMgr.getValue(id, "ratcount") + "  -  "
+                            + userMgr.getValue(id, "ratavg")
+                            + " -  '" + userMgr.getValue(id, "name")+ "'");
+                    htmlOut.println("    <tr><td class=\"num\">" + userMgr.getValue(id, "ratcount")
+                            + "</td><td class=\"num\">" + userMgr.getValue(id, "ratavg") 
+                            + "</td><td class=\"left\">'" + userMgr.getValue(id, "name")
+                            + "'</td></tr>");
+                }
+            }
+            System.out.println("");
+            htmlOut.println("</td></tr>");
+            htmlOut.println("  </table>");
+            htmlOut.flush();
+
             System.out.println("UserEvaluation finished");
         } catch ( Exception ex ) {
             ex.printStackTrace();



From ral at mail.berlios.de  Sun Jun  3 20:10:27 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sun, 3 Jun 2007 20:10:27 +0200
Subject: [Enigma-game-svn] r774 - in trunk/src: . lev
Message-ID: <200706031810.l53IAR7m001328@sheep.berlios.de>

Author: ral
Date: 2007-06-03 20:10:26 +0200 (Sun, 03 Jun 2007)
New Revision: 774

Modified:
   trunk/src/lev/ScoreManager.hh
   trunk/src/main.cc
   trunk/src/main.hh
Log:
Trunk:
- use PACKAGE version instead of compatibility for score recording


Modified: trunk/src/lev/ScoreManager.hh
===================================================================
--- trunk/src/lev/ScoreManager.hh	2007-06-02 21:29:04 UTC (rev 773)
+++ trunk/src/lev/ScoreManager.hh	2007-06-03 18:10:26 UTC (rev 774)
@@ -78,7 +78,7 @@
          * 
          */
         void updateUserScore(lev::Proxy *levelProxy, int difficulty, int score,
-                double enigmaRelease = ENIGMACOMPATIBITLITY);
+                double enigmaRelease = app.getEnigmaVersion());
         /**
          * Returns true if the users best score is equal or better than the
          * official best score for the given difficulty

Modified: trunk/src/main.cc
===================================================================
--- trunk/src/main.cc	2007-06-02 21:29:04 UTC (rev 773)
+++ trunk/src/main.cc	2007-06-03 18:10:26 UTC (rev 774)
@@ -232,6 +232,8 @@
 
 void Application::init(int argc, char **argv) 
 {
+    sscanf(PACKAGE_VERSION, "%4lf", &enigmaVersion);
+
     progCallPath = argv[0];
     copy(argv+1, argv+argc, back_inserter(args));
     
@@ -411,8 +413,6 @@
 
 std::string Application::getVersionInfo() {
     std::string versionInfo;
-    double enigmaVersion;
-    sscanf(PACKAGE_VERSION,"%4lf",&enigmaVersion);
     if (enigmaVersion >= ENIGMACOMPATIBITLITY)
         versionInfo = "v" PACKAGE_VERSION;
     else {
@@ -423,6 +423,10 @@
     return versionInfo;
 }
 
+double Application::getEnigmaVersion() {
+    return enigmaVersion;
+}
+
 void Application::initSysDatapaths(const std::string &prefFilename)
 {
     std::string progDir;          // directory path part of args[0]

Modified: trunk/src/main.hh
===================================================================
--- trunk/src/main.hh	2007-06-02 21:29:04 UTC (rev 773)
+++ trunk/src/main.hh	2007-06-03 18:10:26 UTC (rev 774)
@@ -68,6 +68,7 @@
         void init(int argc, char **argv);
         void shutdown();
         std::string getVersionInfo();
+	double getEnigmaVersion();
         void setLanguage(std::string newLanguage);
         /**
          * Define a new user path. Files stored to user path use the new path
@@ -213,6 +214,7 @@
         void initXerces();
         void initUserDatapaths();
         void updateMac1_00();
+	double enigmaVersion;
         std::string systemAppDataPath;    // dir path to the apps data
         std::string systemCmdDataPath;    // commandline override of systemAppDataPath
         std::string userStdPath;          // standard user data path



From ral at mail.berlios.de  Mon Jun  4 00:27:01 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 4 Jun 2007 00:27:01 +0200
Subject: [Enigma-game-svn] r775 - trunk/src
Message-ID: <200706032227.l53MR0sg019887@sheep.berlios.de>

Author: ral
Date: 2007-06-04 00:27:00 +0200 (Mon, 04 Jun 2007)
New Revision: 775

Modified:
   trunk/src/world.cc
Log:
Trunk:
- fix grabbed actors like falling ones can no longer hit stones
Note:
- this fix has still to be tested on possible side effects


Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-03 18:10:26 UTC (rev 774)
+++ trunk/src/world.cc	2007-06-03 22:27:00 UTC (rev 775)
@@ -1072,8 +1072,12 @@
         }
         
         handle_actor_contacts();
-        for (unsigned i=0; i<nactors; ++i) 
-            handle_contacts (i);
+        for (unsigned i=0; i<nactors; ++i) {
+            Actor     *a  = actorlist[i];
+            ActorInfo &ai = * a->get_actorinfo();
+            if (!ai.grabbed)
+                handle_contacts(i);
+        }
 
         for (unsigned i=0; i<nactors; ++i) {
             Actor     *a  = actorlist[i];



From raoul at mail.berlios.de  Mon Jun  4 16:18:18 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 4 Jun 2007 16:18:18 +0200
Subject: [Enigma-game-svn] r776 - in branches/1.0/data/levels: enigma_cross
	enigma_experimental enigma_vii
Message-ID: <200706041418.l54EIIN7020242@sheep.berlios.de>

Author: raoul
Date: 2007-06-04 16:18:15 +0200 (Mon, 04 Jun 2007)
New Revision: 776

Added:
   branches/1.0/data/levels/enigma_cross/newlevels_1.0.2.xml
   branches/1.0/data/levels/enigma_vii/duffy160_1.xml
   branches/1.0/data/levels/enigma_vii/duffy161_1.xml
   branches/1.0/data/levels/enigma_vii/illmind14_1.xml
   branches/1.0/data/levels/enigma_vii/joe04_1.xml
   branches/1.0/data/levels/enigma_vii/joe05_1.xml
   branches/1.0/data/levels/enigma_vii/joe06_1.xml
   branches/1.0/data/levels/enigma_vii/joe11_1.xml
   branches/1.0/data/levels/enigma_vii/npb01_1.xml
Modified:
   branches/1.0/data/levels/enigma_experimental/index.xml
   branches/1.0/data/levels/enigma_experimental/template1.xml
   branches/1.0/data/levels/enigma_experimental/template2.xml
   branches/1.0/data/levels/enigma_vii/index.xml
Log:
-> First leveladdition since Enigma 1.01
-> 8 new levels



Added: branches/1.0/data/levels/enigma_cross/newlevels_1.0.2.xml
===================================================================
--- branches/1.0/data/levels/enigma_cross/newlevels_1.0.2.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_cross/newlevels_1.0.2.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
+
+  <info enigma="1.00" group="Facets" location="15600" network="false" owner="Enigma Team" release="1" revision="1" title="Enigma 1.02 new"/>
+
+  <attributes/>
+
+  <levels>
+    <level _seq="1" _title="Inkblot 1" _xpath="enigma_vii/npb01_1" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="2" _title="mad-ill-tation" _xpath="enigma_vii/illmind14_1" author="illmind" ctrl="force" easy="false" id="ill0907-01" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="- Meditation -" _xpath="enigma_vii/joe04_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="4" _title="- Meditation -" _xpath="enigma_vii/joe05_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="5" _title="Working Outwards" _xpath="enigma_vii/joe06_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="6" _title="Super Puzzle" _xpath="enigma_vii/joe11_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe11" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="7" _title="Pantograph" _xpath="enigma_vii/duffy160_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy160" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="8" _title="Advanced Space Tubes" _xpath="enigma_vii/duffy161_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy161" rel="1" rev="0" score="1" target="time" unit="duration"/>
+  </levels>
+
+</index>


Property changes on: branches/1.0/data/levels/enigma_cross/newlevels_1.0.2.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: branches/1.0/data/levels/enigma_experimental/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_experimental/index.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_experimental/index.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Development" location="70300" network="false" owner="Enigma Team" release="1" revision="3" title="Experimental"/>
+  <info enigma="1.00" group="Development" location="70300" network="false" owner="Enigma Team" release="1" revision="4" title="Experimental"/>
 
   <attributes/>
 
@@ -17,8 +17,8 @@
     <level _seq="9" _title="Glassstones" _xpath="./glassstones_1" author="Raoul Bourquin" ctrl="force" easy="false" id="glassstones_testlevel" rel="1" rev="4" score="1" target="time" unit="duration"/>
     <level _seq="10" _title="Impulstest" _xpath="./testimpulses" author="Enigma Team" ctrl="force" easy="false" id="testimpulses" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="11" _title="Wolf Among Sheep" _xpath="./wolfamongsheep" author="illmind" ctrl="force" easy="false" id="wolfamongsheep" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="12" _title="Puzzle Labor" _xpath="./puzzle_testarea_1" author="Raoul Bourquin" ctrl="force" easy="false" id="puzzle_testarea" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="13" _title="Puzzle Demo" _xpath="./puzzle_demo_2" author="Raoul Bourquin" ctrl="force" easy="false" id="puzzle_demo" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="12" _title="Puzzle Labor" _xpath="./puzzle_testarea_1" author="Raoul Bourquin" ctrl="force" easy="false" id="puzzle_testarea" rel="1" rev="2" score="1" target="time" unit="duration"/>
+    <level _seq="13" _title="Puzzle Demo" _xpath="./puzzle_demo_2" author="Raoul Bourquin" ctrl="force" easy="false" id="puzzle_demo" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="14" _title="Flood Demo" _xpath="./flood_demo_1" author="Raoul Bourquin" ctrl="force" easy="false" id="flood_demo" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="15" _title="Impossible?" _xpath="./wb2" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb2_exp" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>

Modified: branches/1.0/data/levels/enigma_experimental/template1.xml
===================================================================
--- branches/1.0/data/levels/enigma_experimental/template1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_experimental/template1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -18,16 +18,13 @@
 levelw = 20
 
 create_world(levelw, levelh)
+oxyd_default_flavor = "b"
 
--- DESIGN --
-floor="fl-sahara"
-wall="st-glass"
-
 -- FLOOR --
-fill_floor(floor, 0,0,levelw,levelh)
+fill_floor("fl-sahara", 0,0,levelw,levelh)
 
 -- STONES --
-draw_border(wall)
+draw_border("st-glass")
 
 -- ITEMS --
 set_item("it-document", 10, 6, {text="text1"})
@@ -41,7 +38,6 @@
 oxyd(18,1)
 oxyd(18,11)
 
-oxyd_default_flavor = "d"
 oxyd_shuffle()
     ]]></el:luamain>
     <el:i18n>

Modified: branches/1.0/data/levels/enigma_experimental/template2.xml
===================================================================
--- branches/1.0/data/levels/enigma_experimental/template2.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_experimental/template2.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -22,7 +22,7 @@
 function renderLine( line, pattern)
     for i=1, strlen(pattern) do
         local c = strsub( pattern, i, i)
-          if c=="x" then
+        if c=="x" then
             oxyd(i-1,line)
             set_floor("fl-sahara",i-1,line)
         elseif c=="#" then

Added: branches/1.0/data/levels/enigma_vii/duffy160_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/duffy160_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/duffy160_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,523 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Pantograph" el:subtitle="Dry Run" el:id="duffy160"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.00">
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+levelw=120
+levelh=40
+
+create_world( levelw, levelh)
+enigma.ConserveLevel = 0
+
+fill_floor("fl-hay", 0,0,levelw,levelh)
+
+function renderLine( line, pattern)
+    for i=1, strlen(pattern) do
+        local c = strsub( pattern, i, i)
+        if c =="#" then
+            set_stone( "st-greenbrown", i-1, line)
+        elseif c == "1" then
+            set_stone("st-oxyd", i-1, line,{color="0"})
+		elseif c == "2" then
+            set_stone("st-oxyd", i-1, line,{color="1"})
+		elseif c == "3" then
+		    set_stone("st-oxyd", i-1, line,{color="2"})
+		elseif c == "4" then
+		    set_stone("st-oxyd", i-1, line,{color="3"})
+		elseif c == "5" then
+		    set_stone("st-oxyd", i-1, line,{color="4"})
+		elseif c == "6" then
+		    set_stone("st-oxyd", i-1, line,{color="5"})
+		elseif c == "7" then
+		    set_stone("st-oxyd", i-1, line,{color="6"})
+		elseif c == "8" then
+		    set_stone("st-oxyd", i-1, line,{color="7"})
+        elseif c == "!" then
+            abyss(i-1,line)
+        elseif c == "x" then
+            set_floor("fl-abyss_fake",i-1,line)
+            if not difficult then
+                set_item("it-sensor",i-1,line,{action="callback",target="funcc1",_posx=i-1,_posy=line})
+            end
+        elseif c=="z" then
+            set_actor("ac-blackball", i,line+.5, {player=0})
+        end
+    end
+end
+
+function yy1( color, x, y)
+    stone = format( "st-%s4", color)
+    set_stone( stone, x, y)
+end
+
+function funcc1(value,sender)
+    _posx=enigma.GetAttrib(sender,"_posx")
+    _posy=enigma.GetAttrib(sender,"_posy")
+    set_floor("fl-rough",_posx,_posy)
+    enigma.KillItem(_posx,_posy)
+end
+
+-- Floor:  " "
+-- Border: "#"
+-- Oxyd:   "o"
+
+--renderLine(00,"##########################################################                   ")
+--renderLine(01,"#                  #                  #                  #                   ")
+--renderLine(02,"#                  #                  #                  #                   ")
+--renderLine(03,"#                  #                  #                  #                   ")
+--renderLine(04,"#                  #                  #                  #                   ")
+--renderLine(05,"#                  #                  #                  #                   ")
+--renderLine(06,"#                                                        #                   ")
+--renderLine(07,"#                  #                  #                  #                   ")
+--renderLine(08,"#                  #                  #                  #                   ")
+--renderLine(09,"#                  #                  #                  #                   ")
+--renderLine(10,"#                  #                  #                  #                   ")
+--renderLine(11,"#                  #                  #                  #                   ")
+--renderLine(12,"#########  #################  #################  ############################")
+--renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!o#")
+--renderLine(14,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(15,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(16,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(17,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(18,"#1                                             z         x!!!!!!!!!!!!!!!!x #")
+--renderLine(19,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(20,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(21,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(22,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+--renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!o#")
+--renderLine(24,"#########  #################  #################  ############################")
+--renderLine(25,"#                  #                  #                  #                   ")
+--renderLine(26,"#                  #                  #                  #                   ")
+--renderLine(27,"#                  #                  #                  #                   ")
+--renderLine(28,"#                  #                  #                  #                   ")
+--renderLine(29,"#                  #                  #                  #                   ")
+--renderLine(30,"#                                                        #                   ")
+--renderLine(31,"#                  #                  #                  #                   ")
+--renderLine(32,"#                  #                  #                  #                   ")
+--renderLine(33,"#                  #                  #                  #                   ")
+--renderLine(34,"#                  #                  #                  #                   ")
+--renderLine(35,"#                  #                  #                  #                   ")
+--renderLine(36,"##########################################################                   ")
+
+ch=random(10)
+
+
+if ch==1 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#      2              2                                  #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  #####3#####3#####  #################  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!xxxxxx!!!!!!!!!! #")
+renderLine(15,"#                  #                  #                  !!x!!!!x!!!!!!!!!! #")
+renderLine(16,"#                  #                  #                  !!x!!xxx!!!!!!!!!! #")
+renderLine(17,"#                  #                  #                  !!x!!x!!!!!!!!!!!! #")
+renderLine(18,"#1     1                                7      z    7    xxx!!x!!!!!!!xxxxx #")
+renderLine(19,"#                  #                  #                  !!!!!x!!!!!!!x!!!! #")
+renderLine(20,"#                  #                  #                  !!xxxx!xxxxxxx!!!! #")
+renderLine(21,"#                  #                  #                  !!x!!!!x!!!!!!!!!! #")
+renderLine(22,"#                  #                  #                  !!xxxxxx!!!!!!!!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#######4#  #####4#####6#####  ##########6######  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#      5              5                                  #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==2 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#   4                                            4       #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"####3####  #################3 #######5#########  5###########################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !xxxxxxxxxxxxxxxx! #")
+renderLine(15,"#                  #                  #                  !x!!!!!!!!!!!!!!x! #")
+renderLine(16,"#                  #                  #                  !xxxxxxxxx!!xxxxx! #")
+renderLine(17,"#                  #                  #                  !!!!!!!!!x!!x!!!!! #")
+renderLine(18,"#1           1                                7z    7    xxxxx!!!!x!!x!!xxx #")
+renderLine(19,"#                  #                  #                  !!!!x!!!!x!!xxxx!! #")
+renderLine(20,"#                  #                  #                  !!!!x!!!!x!!!!!!!! #")
+renderLine(21,"#                  #                 6#       6          !!!!xxxxxx!!!!!!!! #")
+renderLine(22,"#                  #                  #                  !!!!!!!!!!!!!!!!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  #################  #################  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#            2     #        2         #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#                                                        #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==3 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#                        3                       3       #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  ##############2##  #######2#####4###  4###########################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!!!!!!!xxxxxxxxx! #")
+renderLine(15,"#                  #                  #                  !!!!!!!!x!!!!!!!x! #")
+renderLine(16,"#                  #                  #                  !!!!!!!!xxxxx!xxx! #")
+renderLine(17,"#                  #                  #                  !!!!!!!!!!!!x!x!!! #")
+renderLine(18,"#1                                   1         z 7  7    xxxxxxxxxxxxx!x!xx #")
+renderLine(19,"#                  #                  #                  !!!!!!!!!!!!!!x!x! #")
+renderLine(20,"#                  #                  #                  !xxxxxxxxxxxxxx!x! #")
+renderLine(21,"#                  #                  #                  !x!!!!!!!!!!!!!!x! #")
+renderLine(22,"#                  #                  #                  !xxxxxxxxxxxxxxxx! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"####5####  #################  #############5###  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#   6                                            6       #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==4 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#                     3        3     6        6          #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  #################  #################  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!!!!!!xxxx!xxxx!! #")
+renderLine(15,"#                  #                  #                  !!!!!!!x!!x!x!!x!! #")
+renderLine(16,"#                  #                  #                  !!!!!!!x!!x!x!!x!! #")
+renderLine(17,"#                  #                  #                  !!!!!!!x!!x!x!!x!! #")
+renderLine(18,"#1        1                                   7z    7    xxxx!!!x!!x!x!!xxx #")
+renderLine(19,"#                  #                  #                  !!!x!!!x!!x!x!!!!! #")
+renderLine(20,"#                  #                  #                  !!!x!!!x!!x!xxxxx! #")
+renderLine(21,"#                  #                  #                  !!!xxxxx!!x!!!!!x! #")
+renderLine(22,"#                  #                  #                  !!!!!!!!!!xxxxxxx! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  #################  #######5#########  5###########################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#         2        #  2               #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#                              4                 4       #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==5 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#   3                                            3       #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"####2####  ##2########4#####  #################  4###########################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !xxxxxxxxxxxxxxxx! #")
+renderLine(15,"#                  #                  #                  !x!!!!!!!!!!!!!!x! #")
+renderLine(16,"#                  #                  #                  !xxxx!!xxxxxxxxxx! #")
+renderLine(17,"#                  #                  #                  !!!!x!!x!!!!!!!!!! #")
+renderLine(18,"#1           1        5        5     7         z    7    xxxxx!!xxxx!xxxxxx #")
+renderLine(19,"#                  #                  #                  !!!!!!!!!!x!x!!!!! #")
+renderLine(20,"#                  #                  #                  !!!!!!!!!!x!x!!!!! #")
+renderLine(21,"#                  #                  #                  !!!!!!!!!!x!x!!!!! #")
+renderLine(22,"#                  #                  #                  !!!!!!!!!!xxx!!!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  #################  #################   ###########################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#                              6     6                   #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==6 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#      2                                   2             #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  ##3##############  #############3###  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!xxxxxxxxxxxxx!!! #")
+renderLine(15,"#                  #                  #                  !!x!!!!!!!!!!!x!!! #")
+renderLine(16,"#                  #                  #                  !!x!xxxxxxxxxxx!!! #")
+renderLine(17,"#                  #                  #                  !!x!x!!!!!!!!!!!!! #")
+renderLine(18,"#1     1              7                        z    7    xxx!x!!xxxxxxxxxxx #")
+renderLine(19,"#                  #                  #                  !!!!x!!x!!!!!!!!!! #")
+renderLine(20,"#                  #                  #                  !!xxx!!xxxxxxxxxx! #")
+renderLine(21,"#                  #                  #                  !!x!!!!!!!!!!!!!x! #")
+renderLine(22,"#                  #                  #                  !!xxxxxxxxxxxxxxx! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#######4#  ##4########6#####  #################  6###########################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#      5                                         5       #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==7 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#                        6                    6          #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#            2     2                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  #################  ####4#####4######  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!!!!!!!xxxxxxxx!! #")
+renderLine(15,"#                  #                  #                  !!!!xxx!x!!!!!!x!! #")
+renderLine(16,"#                  #                  #                  !!!!x!x!x!!xxx!x!! #")
+renderLine(17,"#                  #                  #                  !!!!x!x!x!!x!x!x!! #")
+renderLine(18,"#1           1                                7z    7    xxxxx!x!x!!x!x!xxx #")
+renderLine(19,"#                  #                  #                  !!!!!!x!x!!x!x!!!! #")
+renderLine(20,"#                  #                  #                  !!!!!!x!xxxx!x!!!! #")
+renderLine(21,"#                  #                  #                  !!!!!!x!!!!!!x!!!! #")
+renderLine(22,"#                  #                  #                  !!!!!!xxxxxxxx!!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  ##############5##  ####5############  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#                  3                    3                #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==8 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#            5                                   5       #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  ##4##############4 ####6############  6###########################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!!!xxxxxxxxxxxxx! #")
+renderLine(15,"#                  #                  #                  !!!!x!!!!!!!!!!!x! #")
+renderLine(16,"#                  #                  #                  !!!!xxxxxx!xxxxxx! #")
+renderLine(17,"#                  #                  #                  !!!!!!!!!x!x!!!!!! #")
+renderLine(18,"#1        1                       7            z    7    xxxx!!!!!x!xxxxxxx #")
+renderLine(19,"#                  #                  #                  !!!x!!!!!x!!!!!!!! #")
+renderLine(20,"#                  #                  #                  !!!x!!!!!xxxxxx!!! #")
+renderLine(21,"#                  #                  #                  !!!x!!!!!!!!!!x!!! #")
+renderLine(22,"#                  #                  #                  !!!xxxxxxxxxxxx!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  #################3 #############3###  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#         2                                2             #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==9 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#         2                          2                   #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  #####5###########  #5###############  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!!xxxxxxxxxx!!!!! #")
+renderLine(15,"#                  #                  #                  !!!x!!!!!!!!x!!!!! #")
+renderLine(16,"#                  #                  #                  !!!x!xxxxxx!x!!!!! #")
+renderLine(17,"#                  #                  #                  !!!x!x!!!!x!x!!!!! #")
+renderLine(18,"#1        1           4        4           7   z    7    xxxx!x!xxxx!x!xxxx #")
+renderLine(19,"#                  #                  #                  !!!!!x!x!!!!x!x!!! #")
+renderLine(20,"#                  #                  #                  !!!!!x!xxxxxx!x!!! #")
+renderLine(21,"#                  #                  #                  !!!!!x!!!!!!!!x!!! #")
+renderLine(22,"#                  #                  #                  !!!!!xxxxxxxxxx!!! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#########  ###########3#####  #######3#########  ############################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#               6                          6             #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+elseif ch==10 then
+
+renderLine(00,"##########################################################                   ")
+renderLine(01,"#                  #                  #                  #                   ")
+renderLine(02,"#                  #                  #                  #                   ")
+renderLine(03,"#                  #                  #                  #                   ")
+renderLine(04,"#                  #                  #                  #                   ")
+renderLine(05,"#                  #                  #                  #                   ")
+renderLine(06,"#      2                                   2             #                   ")
+renderLine(07,"#                  #                  #                  #                   ")
+renderLine(08,"#                  #                  #                  #                   ")
+renderLine(09,"#                  #                  #                  #                   ")
+renderLine(10,"#                  #                  #                  #                   ")
+renderLine(11,"#                  #                  #                  #                   ")
+renderLine(12,"#########  #####3###########  #############3###  ############################")
+renderLine(13,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(14,"#                  #                  #                  !!xxxxxxxxxxxxx!!! #")
+renderLine(15,"#                  #                  #                  !!x!!!!!!!!!!!x!!! #")
+renderLine(16,"#                  #                  #                  !!x!!xxxxxxxxxx!!! #")
+renderLine(17,"#                  #                  #                  !!x!!x!!!!!!!!!!!! #")
+renderLine(18,"#1     1                 7                     z    7    xxx!!x!!xxxxxxxxxx #")
+renderLine(19,"#                  #                  #                  !!!!!x!!x!!!!!!!!! #")
+renderLine(20,"#                  #                  #                  !!xxxx!!xxxxxxxxx! #")
+renderLine(21,"#                  #                  #                  !!x!!!!!!!!!!!!!x! #")
+renderLine(22,"#                  #                  #                  !!xxxxxxxxxxxxxxx! #")
+renderLine(23,"#                  #                  #                  !!!!!!!!!!!!!!!!!!8#")
+renderLine(24,"#######4#  #####4########6##  #################  6###########################")
+renderLine(25,"#                  #                  #                  #                   ")
+renderLine(26,"#                  #                  #                  #                   ")
+renderLine(27,"#                  #                  #                  #                   ")
+renderLine(28,"#                  #                  #                  #                   ")
+renderLine(29,"#                  #                  #                  #                   ")
+renderLine(30,"#      5                                         5       #                   ")
+renderLine(31,"#                  #                  #                  #                   ")
+renderLine(32,"#                  #                  #                  #                   ")
+renderLine(33,"#                  #                  #                  #                   ")
+renderLine(34,"#                  #                  #                  #                   ")
+renderLine(35,"#                  #                  #                  #                   ")
+renderLine(36,"##########################################################                   ")
+
+end
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: branches/1.0/data/levels/enigma_vii/duffy160_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: branches/1.0/data/levels/enigma_vii/duffy161_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/duffy161_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/duffy161_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,276 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Advanced Space Tubes" el:subtitle="" el:id="duffy161"/>
+      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
+      <el:copyright>Copyright ? 2007 Jacob Scott</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="0.92">
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+levelw=100
+levelh=50
+
+create_world( levelw, levelh)
+
+fill_floor("fl-abyss", 0,0,levelw,levelh)
+
+function renderLine( line, pattern)
+    for i=1, strlen(pattern) do
+        local c = strsub( pattern, i, i)
+        if c =="#" then
+            set_stone( "st-greenbrown", i-1, line)
+        elseif c =="X" then
+            set_stone( "st-death", i-1, line)
+        elseif c =="x" then
+            set_stone( "st-death", i-1, line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "o" then
+            oxyd( i-1, line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "$" then
+            oxyd( i-1, line)
+            fill_floor("fl-swamp", i-1,line, 1,1)
+        elseif c == "^" then
+            oxyd( i-1, line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "!" then
+            abyss(i-1,line)
+        elseif c == "~" then
+            set_floor("fl-water",i-1,line)
+        elseif c == "+" then
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "=" then
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "&" then
+            set_stone( "st-greenbrown", i-1, line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "%" then
+            set_stone( "st-greenbrown", i-1, line)
+            set_floor("fl-gradient",  i-1,  line, {type=11})
+        elseif c == "`" then
+            set_stone( "st-greenbrown", i-1, line)
+            set_floor("fl-gradient",  i-1,  line, {type=10})
+        elseif c == "@" then
+            set_stone( "st-greenbrown", i-1, line)
+            set_floor("fl-gradient",  i-1,  line, {type=1})
+        elseif c == "*" then
+            set_stone( "st-greenbrown", i-1, line)
+            set_floor("fl-gradient",  i-1,  line, {type=2})
+        elseif c == "z" then
+            set_actor("ac-blackball", i,line+.5, {player=0})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "d" then --1-d
+            set_floor("fl-gradient",  i-1,  line, {type=1})
+        elseif c == "u" then --2-u
+            set_floor("fl-gradient",  i-1,  line, {type=2})
+        elseif c == "r" then --3-r
+            set_floor("fl-gradient",  i-1,  line, {type=3})
+        elseif c == "l" then --4-l
+            set_floor("fl-gradient",  i-1,  line, {type=4})
+        elseif c == "1" then --ur
+            set_floor("fl-gradient",  i-1,  line, {type=11})
+        elseif c == "3" then --dl
+            set_floor("fl-gradient",  i-1,  line, {type=9})
+        elseif c == "7" then --dr
+            set_floor("fl-gradient",  i-1,  line, {type=12})
+        elseif c == "9" then --ul
+            set_floor("fl-gradient",  i-1,  line, {type=10})
+        elseif c == "J" then
+            set_item("it-springboard",i-1,line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "K" then
+            set_item("it-springboard",i-1,line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "Q" then
+            set_stone("st-bolder", i-1,line, {name="bolder1",direction=EAST})
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "A" then
+            set_item("it-trigger", i-1,line, {action="callback", target="funcc1"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "B" then
+            set_item("it-trigger", i-1,line, {action="callback", target="funcc2"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "C" then
+            set_item("it-landmine",i-1,line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "c" then
+            set_item("it-landmine",i-1,line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "V" then
+            set_item("it-vortex-closed", i-1, line, {targetx="5.5",targety="40.5", name="V1"})
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c == "T" then
+            set_item("it-vortex-open", i-1, line, {targetx="50.5",targety="22.5"})
+            fill_floor("fl-swamp", i-1,line, 1,1)
+        elseif c == "M" then
+            set_item("it-vortex-open", i-1, line, {targetx="17.5",targety="42.5"})
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c == "W" then
+            set_item("it-vortex-open", i-1, line)
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c == "P" then
+            set_item("it-vortex-open", i-1, line,{name="V2"})
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c == "F" then
+            set_item("it-flagblack", i-1, line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "f" then
+            set_item("it-flagblack", i-1, line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "O" then
+            set_item("it-extralife", i-1, line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "I" then
+            set_item("it-extralife", i-1, line)
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c == "i" then
+            set_item("it-extralife", i-1, line)
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c == "Z" then
+            set_item("it-extralife", i-1, line)
+            set_floor("fl-gradient",  i-1,  line, {type=1})
+        elseif c=="U" then
+            set_stone("st-oneway", i-1,line, {orientation=enigma.NORTH})
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c=="R" then
+            set_stone("st-oneway", i-1,line, {orientation=enigma.EAST})
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c=="s" then
+            set_stone("st-oneway", i-1,line, {orientation=enigma.SOUTH})
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c=="L" then
+            set_stone("st-oneway", i-1,line, {orientation=enigma.WEST})
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c=="G" then
+            set_stone("st-oneway", i-1,line, {orientation=enigma.WEST})
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c=="S" then
+            set_stone("st-switch_black",i-1,line, {action="open",target="V1"})
+        elseif c=="N" then
+            set_stone("st-switch_black",i-1,line, {action="close",target="bridge1"})
+        elseif c=="p" then
+            set_floor("fl-bridge", i-1,line, {name="bridge1", type="yy"})
+        elseif c == "n" then
+            fill_floor("fl-swamp", i-1,line, 1,1)
+        elseif c == "m" then
+            fill_floor("fl-metal", i-1,line, 1,1)
+        elseif c=="a" then
+            set_actor("ac-rotor", i-.5,line+.5, {player=1, mouseforce=0, range=5, force=5})
+        elseif c=="D" then
+            set_actor("ac-rotor", i,line+.5, {player=1, mouseforce=0, range=5, force=10})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c=="." then
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="27",targety="46"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c=="<" then
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="16",targety="5"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c==">" then
+            set_item("it-trigger", i-1,line, {action="open", target="door1"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c==":" then
+            doorv( i-1,line, {name="door1"})
+            fill_floor("fl-bluegreen", i-1,line, 1,1)
+        elseif c==";" then
+            hammer(i-1,line)
+            set_floor("fl-gradient",  i-1,  line, {type=1})
+        elseif c=="H" then
+            set_stone("st-break_acblack",i-1,line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c=="/" then
+            set_stone("st-break_acblack",i-1,line)
+            fill_floor("fl-space", i-1,line, 1,1)
+            set_item("it-extralife", i-1, line)
+        elseif c == "h" then
+            set_item("it-hstrip", i-1, line)
+        elseif c == "v" then
+            set_item("it-vstrip", i-1, line)
+        elseif c == "k" then
+            set_item("it-crack1", i-1,line)
+            fill_floor("fl-space", i-1,line, 1,1)
+        elseif c == "b" then
+            set_item("it-coffee",i-1,line)
+            set_floor("fl-gradient",  i-1,  line, {type=1})
+        end
+    end    
+end
+
+-- Floor:  " "
+-- Border: "#"
+-- Oxyd:   "o"
+
+renderLine(00,"#############################################################################")
+renderLine(01,"#                                                                           #")
+renderLine(02,"#    +++3dddd1      3ddddddddddddddd1+F=llrrrrr+h=+++==h+++++++  K+3dddd1   #")
+renderLine(03,"# ++++++r====l      r=n=n=n=n=n=n=n=l                       +i+   +9uuuu7   #")
+renderLine(04,"# +  +++9uu9=l#++.  9uuuuuuuuuuuuuuu7  3dddddddddddddddd1   +++             #")
+renderLine(05,"# +        r=l:++      K  K  K         r================l       3ddddddddd1 #")
+renderLine(06,"# 3d1      r=l#                   3dddd3================l       r=K=KkK=K=l #")
+renderLine(07,"# r=l       =                     r=======c&&&&ccccc====l  +++  r=========l #")
+renderLine(08,"# r=l      r=1         +  +  =    r=7uu9===&============l  +F+K rk===O===kl #")
+renderLine(09,"# r=l      r=1ddd1     =  +  +  ++r=l  r===&============l  +++  r=========l #")
+renderLine(10,"# r=l X    r=====l     +  =  +  + r=l  9uuu`=7uuuuuuuuuu7  d    r====k====l #")
+renderLine(11,"# 9u7 X    9uuu9=l     +  +  =  + 9u7      r=l             d    9uuuuuuuuu7 #")
+renderLine(12,"#   + X        r=l XXXX=XX+XX+XX++ J       r=l             d                #")
+renderLine(13,"# 3d1 X        r=l X   +  =  + X +         r=l Xlllllll1lll1   ++++++       #")
+renderLine(14,"# r=l X        r=1d at dddddd;dd1 X F 3d1  X  r=l         b   d 3d1 =  =       #")
+renderLine(15,"# 9u7          r===HHHHHHHHHHl X   r=l  X  r=l         b   d r=l +  +       #")
+renderLine(16,"#  J X 3dddd1  r=7u*u9^HH/HH^l X   9u7  X  rOl         b   d r=l +  +       #")
+renderLine(17,"#    X r++++1dd3=l X 9uuuuuuu7 X    =   X  9u7X++      b   d r=l =  =       #")
+renderLine(18,"#    X roz+F=====l X           X    K   X      ++ ++   b   d rcl =  =       #")
+renderLine(19,"#    X r++++7uuuu7 XXXXXNXXXXXXX        X   ++W W ++   b   d r=l =  =       #")
+renderLine(20,"# 3d1  9uuuu7           +               X   ++    W+   b   d r=l +  +       #")
+renderLine(21,"# r=l            ++rrrrr+lllll++llrr+   X       X      b   Z r=l 3dd1       #")
+renderLine(22,"# r=l X 3ddddddddd1                 +   X        rWl   b   = 9u7 r==l       #")
+renderLine(23,"# 9u7 X r=========l   XXXXXXXXXXXXX +   X        rOl   +++===+   r==l       #")
+renderLine(24,"# 9u7 X r=nnn!nnn=l   X           X              rOl       = + X r==l       #")
+renderLine(25,"# 9u7 X r=========l   X 3ddddddd1 X #++++        rfl       X + X r==l       #")
+renderLine(26,"# r=l X 9uuuuuuuuu7   X rK===K==l ###+# +        lfr           X r==l       #")
+renderLine(27,"# r=l X    +          X r==K===Kl 3d3+13+1d      l=r        XXXX r==l XXXXXX#")
+renderLine(28,"# r=l X    +  XXXXXXXXX rK=O=K==l r=R+L=====     r=l             r==l       #")
+renderLine(29,"# rKl X   X+ X          r==K=O=Kl 9uuuu9=====    r=l             r==l       #")
+renderLine(30,"#     X   X+X 3dd       3K===K==% #####9uuu===   r=l         a   r==l   a   #")
+renderLine(31,"# r=l X    =  r==K ==K ====K===K31&X        ===  rcl             r==l       #")
+renderLine(32,"# r=l      s  r==       uuuuuuuu97& 3dddd  dddd1 r=l             r==l       #")
+renderLine(33,"# r=1ddddddd1 r==l                X r=========Ol r=l             r==l       #")
+renderLine(34,"# r=====!===l r==l  XXXXXXXXXXXXXXX r=7uu  uuuu7 r=l             r==l       #")
+renderLine(35,"# 9uuuuuuu9=l 9u9l  X               r=l          r=l             r==l       #")
+renderLine(36,"#         r=l   rl  X nnnnn $nnn    r=1dddd1     r=1dd1          r++l       #")
+renderLine(37,"#XXXXXXXX r=1ddd311 X n   =    =    r=====fl     rO===l    3ddddd3D+1ddddd1 #")
+renderLine(38,"#         r=======  X = =nn    n    9!uuu9=l     9uu9=l    r==============l #")
+renderLine(39,"#   mIm   r===f=7u7 X = n     nnn        r=l        r=l    r==&========&==l #")
+renderLine(40,"#   mMm   r=====lOl X n n    nnnnn    ###r=1ddd!!ddd3=l### r==============l #")
+renderLine(41,"#   mmm   9uuuuu7u7 X n =   nn===nn   #A~rQ===========l~B# r======nn======l #")
+renderLine(42,"#       X  p     V  X n===nnnn=O=nnnn ###9uuuuu!!uuuuu7### r======nn======l #")
+renderLine(43,"#   3d1 X  S XX   XXX   = n nn===nn n                      r==============l #")
+renderLine(44,"#   r=l       XXXXX     n >  nnnnn  n +++     +++ +++ +++  r==&========&==l #")
+renderLine(45,"# 3d3d1dduud1+     dd++nn ++  nnn   nn+++hhhhh+ v v v v v  r==============l #")
+renderLine(46,"# 9uuuuuuddu7+llll7uu++   ++<  n    $ +++       +++ +++ +iF9uuuuuuuuuuuuuu7 #")
+renderLine(47,"#                              $                                            #")
+renderLine(48,"#############################################################################")
+
+oxyd_shuffle()
+
+bolder1=enigma.GetNamedObject("bolder1")
+
+function funcc1()
+    set_attribs(enigma.GetNamedObject("bolder1"), {direction=EAST})
+end
+
+function funcc2()
+    set_attribs(enigma.GetNamedObject("bolder1"), {direction=WEST})
+end
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Added: branches/1.0/data/levels/enigma_vii/illmind14_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/illmind14_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/illmind14_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,72 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="mad-ill-tation" el:subtitle="a tribute to esprit meditation levels" el:id="ill0907-01"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:author  el:name="illmind" el:email="illmind at mag-heut.net" el:homepage="http://www.mag-heut.net"/>
+      <el:copyright>Copyright ? 2007 illmind</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="0.92" />
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+-- level dimensions and standards
+levelw = 20
+levelh = 13
+create_world(levelw, levelh)
+oxyd_default_flavor = "d"
+enigma.ConserveLevel = 0
+
+function renderLine( line, pattern)
+    for i=1, strlen(pattern) do
+        local c = strsub( pattern, i, i)
+        if c=="x" then
+            oxyd(i-1,line)
+        elseif c=="#" then
+            set_stone("st-rock1",i-1,line)
+            set_floor("fl-black",i-1,line)
+        elseif c=="+" then
+            set_floor("fl-black",i-1,line)
+        elseif c=="a" then
+            set_floor("fl-abyss",i-1,line)
+        elseif c=="h" then
+            set_item("it-hollow",i-1,line)
+            set_floor("fl-black",i-1,line)
+        end
+    end
+end
+
+renderLine(00 , "####################")
+renderLine(01 , "#h+++++a+++++a+++++#")
+renderLine(02 , "#h++a++++++++++++++#")
+renderLine(03 , "#h++++++++a+++++a++#")
+renderLine(04 , "################+++#")
+renderLine(05 , "#+++++++a++++++++++#")
+renderLine(06 , "#+a++++++++a+++++a+#")
+renderLine(07 , "#++++a++++++++a++++#")
+renderLine(08 , "#+++################")
+renderLine(09 , "#++a++++++++a++++++#")
+renderLine(10 , "#+++++a++++++++a+++#")
+renderLine(11 , "#++++++++a+++++++++#")
+renderLine(12 , "####################")
+
+-- documents
+document(1,11,"text1")
+
+-- blackball / whiteball / actor(s)
+set_actor("ac-whiteball-small", 18.5, 9.5, {player=0, mouseforce=0.5, essential=1})
+set_actor("ac-whiteball-small",18.5, 10.5, {player=0, mouseforce=5.0, essential=1})
+set_actor("ac-whiteball-small", 18.5,11.5, {player=0, mouseforce=-1, essential=1})
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+      <el:string el:key="text1">
+        <el:english el:translate="true">... illmind's mad-ill-tation ... a tribute to esprit meditation levels from the past. thank you. ...</el:english>
+      </el:string> 
+    </el:i18n>
+  </el:protected>
+</el:level>

Modified: branches/1.0/data/levels/enigma_vii/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/index.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/index.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -30,6 +30,14 @@
     <level _seq="22" _title="Mountain Climbing" _xpath="./joe10_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe10" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Advancing" _xpath="./joe01_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Temple of Gold" _xpath="./duffy151_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy151" rel="1" rev="4" score="1" target="time" unit="duration"/>
+    <level _seq="25" _title="Inkblot 1" _xpath="./npb01_1" author="Nathan Bronecke" ctrl="force" easy="true" id="20070519npb015045" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="26" _title="mad-ill-tation" _xpath="./illmind14_1" author="illmind" ctrl="force" easy="false" id="ill0907-01" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="27" _title="- Meditation -" _xpath="./joe04_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe4" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="28" _title="- Meditation -" _xpath="./joe05_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe5" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="Working Outwards" _xpath="./joe06_1" author="Joseph Dunne" ctrl="force" easy="false" id="joe6" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="30" _title="Super Puzzle" _xpath="./joe11_1" author="Joseph Dunne" ctrl="force" easy="true" id="joe11" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Pantograph" _xpath="./duffy160_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy160" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Advanced Space Tubes" _xpath="./duffy161_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy161" rel="1" rev="0" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Added: branches/1.0/data/levels/enigma_vii/joe04_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/joe04_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/joe04_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,57 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe4"/>
+      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.00">
+       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+cells={}
+cells[" "]=cell{floor="fl-sahara"}
+cells["W"]=cell{floor="fl-water"}
+cells["L"]=cell{floor="fl-leaves"}
+cells["."]=cell{floor="fl-himalaya"}
+cells[","]=cell{floor="fl-sand"}
+cells["&"]=cell{stone="st-blue-sand"}
+cells["#"]=cell{stone="st-brick"}
+cells["$"]=cell{stone="st-wood"}
+cells["%"]=cell{stone="st-yellow"}
+cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
+cells["+"]=cell{item="it-hollow"}
+cells["R"]=cell{stone="st-redrock"}
+
+level = {
+"%%%%%%%%%%%%%%%%%%%%",
+"&oLLLL% $     W   %%",
+"%$%$%$%W% %$%$&$% %%",
+"% $W$ $ %   W     %&",
+"% %W%W& %%$%%&% % %%",
+"%%%$%W&W$     %W  %%",
+"%  W% %W% % %%%W% &%",
+"%$& $ $ % $ W $ % %%",
+"% %%%W%W%&%W%%%W% %%",
+"% $   W$    % W    %",
+"%W%%& %$% %$& %%&%%%",
+"% $  WW   $W% $LWL+%",
+"%%%%&%%%%%&%%%%%%%%%",
+}
+
+set_default_parent(cells[" "])
+create_world_by_map(level,cells)
+oxyd_shuffle()
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: branches/1.0/data/levels/enigma_vii/joe04_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: branches/1.0/data/levels/enigma_vii/joe05_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/joe05_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/joe05_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="- Meditation -" el:subtitle="" el:id="joe5"/>
+      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.00">
+       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+cells={}
+cells[" "]=cell{floor="fl-sahara"}
+cells["`"]=cell{floor="fl-red"}
+cells["W"]=cell{floor="fl-water"}
+cells["#"]=cell{stone="st-blue-sand"}
+cells["%"]=cell{stone="st-yellow"}
+cells["$"]=cell{stone="st-wood"}
+cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
+cells["+"]=cell{item="it-hollow"}
+
+level = {
+"%#%#%#%#%#%#%#%#%#%#",
+"#o$  W $ W$  W#+WW %",
+"%$W $W$   %W%$%#%W #",
+"#W$W %#%#%#W#W#W$W %",
+"%#W  #W   $ $ %W$$ #",
+"#%$ $$ %  $ $ #W$W %",
+"%#W$W# #  % %W$    #",
+"#   W  $  #W#W#  $ %",
+"%$%$%$%#WW%W%W$$ W #",
+"#WW     W $W#  W$  %",
+"% %#%#% $  $% $ $W #",
+"#W$   W$W$ W#      %",
+"%#%#%#%#%#%#%#%#%#%#",
+}
+
+set_default_parent(cells[" "])
+create_world_by_map(level,cells)
+oxyd_shuffle()
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: branches/1.0/data/levels/enigma_vii/joe05_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: branches/1.0/data/levels/enigma_vii/joe06_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/joe06_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/joe06_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Working Outwards" el:subtitle="" el:id="joe6"/>
+      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.00">
+       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="false" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+cells={}
+cells[" "]=cell{floor="fl-sahara"}
+cells["`"]=cell{floor="fl-leaves"}
+cells["W"]=cell{floor="fl-water"}
+cells["#"]=cell{stone="st-blue-sand"}
+cells["%"]=cell{stone="st-yellow"}
+cells["$"]=cell{stone="st-wood"}
+cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
+cells["+"]=cell{item="it-hollow"}
+level = {
+
+"####################",
+"#```    WW WW ```W #",
+"#$$$ $$$$# $$W$  $ #",
+"#  W$WW $WWW$ WW$W #",
+"#########$$######W##",
+"#W+W#   WWW$   #   #",
+"#W# $ $$Wo$    $ #$#",
+"#W  # $W $W $  #W# #",
+"#$$$############ # #",
+"# W$WWW $W $ WW# $W#",
+"#$    $ $  #$#$# $W#",
+"#``` # $ #    W``$W#",
+"####################",
+}
+
+set_default_parent(cells[" "])
+create_world_by_map(level,cells)
+oxyd_shuffle()
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>


Property changes on: branches/1.0/data/levels/enigma_vii/joe06_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Added: branches/1.0/data/levels/enigma_vii/joe11_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/joe11_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/joe11_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,105 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+  <el:protected>
+    <el:info el:type="level">
+      <el:identity el:title="Super Puzzle" el:subtitle="" el:id="joe11"/>
+      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:author  el:name="Joseph Dunne" el:email="josephdunne1993 at hotmail.com" el:homepage=""/>
+      <el:copyright>Copyright ? 2006 Joseph Dunne</el:copyright>
+      <el:license el:type="GPL v2.0 or above" el:open="true"/>
+      <el:compatibility el:enigma="1.00">
+       <el:dependency el:path="lib/ant" el:id="lib/ant" el:release="1" el:preload="true"/>
+      </el:compatibility>
+      <el:modes el:easy="true" el:single="true" el:network="false"/>
+      <el:score el:easy="-" el:difficult="-"/>
+    </el:info>
+    <el:luamain><![CDATA[
+cells={}
+
+cells[" "]=cell{floor="fl-sahara"}
+cells["`"]=cell{floor="fl-red"}
+cells[","]=cell{floor="fl-leaves"}
+cells["-"]=cell{floor="fl-space"}
+cells["w"]=cell{floor="fl-gradient2"}
+cells["y"]=cell{floor="fl-gradient7"}
+cells["d"]=cell{floor="fl-gradient3"}
+cells["n"]=cell{floor="fl-gradient5"}
+cells["x"]=cell{floor="fl-gradient1"}
+cells["v"]=cell{floor="fl-gradient6"}
+cells["a"]=cell{floor="fl-gradient4"}
+cells["r"]=cell{floor="fl-gradient8"}
+cells["e"]=cell{floor="fl-gradient10"}
+cells["c"]=cell{floor="fl-gradient9"}
+cells["z"]=cell{floor="fl-gradient11"}
+cells["q"]=cell{floor="fl-gradient12"}
+cells["W"]=cell{stone="st-puzzle2-n"}
+cells["R"]=cell{stone="st-puzzle2-ns"}
+cells["V"]=cell{stone="st-puzzle2-ew"}
+cells["A"]=cell{stone="st-puzzle2-w"}
+cells["X"]=cell{stone="st-puzzle2-s"}
+cells["D"]=cell{stone="st-puzzle2-e"}
+cells["Q"]=cell{stone="st-puzzle2-nw"}
+cells["Z"]=cell{stone="st-puzzle2-sw"}
+cells["C"]=cell{stone="st-puzzle2-es"}
+cells["E"]=cell{stone="st-puzzle2-ne"}
+cells["F"]=cell{stone="st-puzzle2-nsw"}
+cells["B"]=cell{stone="st-puzzle2-esw"}
+cells["H"]=cell{stone="st-puzzle2-nes"}
+cells["T"]=cell{stone="st-puzzle2-new"}
+cells["S"]=cell{stone="st-puzzle2-nesw"}
+cells["0"]=cell{floor="fl-abyss"}
+cells["&"]=cell{stone="st-yellow"}
+cells["#"]=cell{stone="st-blue-sand"}
+cells["%"]=cell{stone="st-brick"}
+cells["I"]=cell{stone="st-actorimpulse"}
+cells["$"]=cell{stone="st-wood"}
+cells["o"]=cell{actor={"ac-whiteball-small", {player=0}}}
+cells["+"]=cell{item="it-hollow"}
+cells["*"]=cell{item="it-tinyhollow"}
+cells["["]=cell{item="it-tinyhill"}
+cells["]"]=cell{item="it-hill"}
+cells["/"]=cell{item="it-magicwand"}
+cells["1"]=cell{item={"it-vortex-open", {targetx="20.5", targety="1.5"}}}
+cells["2"]=cell{item={"it-vortex-open", {targetx="39.5", targety="1.5"}}}
+cells["3"]=cell{item={"it-vortex-open", {targetx="58.5", targety="1.5"}}}
+cells["4"]=cell{item={"it-vortex-open", {targetx="77.5", targety="1.5"}}}
+cells["5"]=cell{item={"it-vortex-open", {targetx="96.5", targety="1.5"}}}
+
+if difficult then -- Normal Mode
level = {
+"###################################################################################################################",
+"#nxxxxxxxxxxxxxxxxv#` yxxxxxxxxxxxxxxv#` yxxxxxxxxxxxxxxv#``yxxxxxxxxxxxxxxv#``dnxxxxxxxxxxxxv&#  nxxxxxxxxxxxxxxv#",
+"#d                a#  d              a#` d              a#` d              a#``dd            zv#  d,,,,,,,,,,,,,,a#",
+"#d                a#nxc              a#nxc AVHVEVFVV    a#nxc              a#xxcd  SFQDCZB    a#nxc,,,,,,,,,,,,,,a#",
+"#d                a#d                a#d   TZ#####VV    a#d                a#nxxc  AAECEHS    a#d,,,,,,,,,,,,,,,,a#",
+"#d      TQH##     a#d      VEC##     a#d   VC#   #HX    a#d     TWBXV      a#d     HVQQFXF    a#d,X,,X,+,CVA,CVA,a#",
+"#d      FZS1#     a#d      ARD2#     a#d   VA# 3  VX    a#d     EQCZX#     a#d     BEB5REZ    a#d,HZ,R,,,R,,,R,,,a#",
+"#d      EBC##     a#d      QZV##     a#d   RV#   #ZX    a#d     AQDR4#     a#d     QXZRRTH    a#d,REZR,X,R,,,HVA,a#",
+"#ye               a#d                a#d   BH#####RC    a#d     VHSV##     a#d     CATXWTQ    a#d,R,EF,R,R,,,R,,,a#",
+"#od               a#d                a#d   QQQQEWDXE    a#d                a#d     REZACZC    a#d,W,,W,W,EVA,EVA,a#",
+"#nc               a#d                a#d                a#d                a#ye              qr#d,,,,,,,,,,,,,,,,a#",
+"#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#&ywwwwwwwwwwwwwwr&#ywwwwwwwwwwwwwwwwr#",
+"###################################################################################################################",
}
else -- Easy Mode
level = {
"###################################################################################################################",
+"#nxxxxxxxxxxxxxxxxv#` yxxxxxxxxxxxxxxv#` yxxxxxxxxxxxxxxv#``yxxxxxxxxxxxxxxv#``dnxxxxxxxxxxxxv&#  nxxxxxxxxxxxxxxv#",
+"#d                a#  d              a#` d              a#` d              a#``dd            zv#  d              a#",
+"#d                a#nxc              a#nxc              a#nxc              a#xxcd             a#nxc              a#",
+"#d                a#d                a#d       #        a#d        QHT     a#nxxc     VEZ     a#d                a#",
+"#d       FC##     a#d      RZX##     a#d     TXCEZ      a#d        CSB     a#d       #QHX     a#d `  ` + ``` ``` a#",
+"#d      SZC1#     a#d      DRT2#     a#d     VV3BR      a#d        ZDR     a#d       #5DF     a#d `` `   `   `   a#",
+"#d      TEQ##     a#d      EQX##     a#d     VWVRQ      a#d        ZEQ     a#d       #DXS     a#d ` `` ` `   ``` a#",
+"#ye               a#d                a#d       #        a#d        #4#     a#d        ZQE     a#d `  ` ` `   `   a#",
+"#od               a#d                a#d                a#d        ###     a#d                a#d `  ` ` ``` ``` a#",
+"#nc               a#d                a#d                a#d                a#ye              qr#d                a#",
+"#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#ywwwwwwwwwwwwwwwwr#&ywwwwwwwwwwwwwwr&#ywwwwwwwwwwwwwwwwr#",
+"###################################################################################################################",
}
end
+
+set_default_parent(cells[" "])
+create_world_by_map(level,cells)
+oxyd_shuffle()
+    ]]></el:luamain>
+    <el:i18n>
+      <el:string el:key="title">
+        <el:english el:translate="false"/>
+      </el:string>
+    </el:i18n>
+  </el:protected>
+</el:level>

Added: branches/1.0/data/levels/enigma_vii/npb01_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_vii/npb01_1.xml	2007-06-03 22:27:00 UTC (rev 775)
+++ branches/1.0/data/levels/enigma_vii/npb01_1.xml	2007-06-04 14:18:15 UTC (rev 776)
@@ -0,0 +1,128 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
+<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
+    <el:protected >
+        <el:info el:type="level">
+            <el:identity el:title="Inkblot 1" el:id="20070519npb015045"/>
+            <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+            <el:author el:name="Nathan Bronecke" el:email="npb-engimalevel at rbepan.net" el:homepage="" />
+            <el:copyright>Copyright ? 2007 Nathan Bronecke</el:copyright>
+            <el:license el:type="GPL v2.0 or above" el:open="true"/>
+            <el:compatibility el:enigma="1.0"/>
+            <el:modes el:easy="true" el:single="true" el:network="true"/>
+            <el:score el:easy="0:17" el:difficult="0:29"/>
+        </el:info>
+        <el:luamain><![CDATA[
+-- updated: 2007-06-03
+
+levelw = 20
+levelh = 13
+
+CreateWorld(levelw, levelh)
+
+-- light blue
+oxyd_default_flavor = "c"
+
+-- default swamp sink too easy
+if difficult then
+    enigma.SwampSinkSpeed = enigma.SwampSinkSpeed * 2;
+else
+    enigma.SwampSinkSpeed = enigma.SwampSinkSpeed * 1.5;
+end
+
+fill_floor("fl-leaves", 0,0, levelw,levelh)
+
+function renderLine(y, pattern)
+    for x=0, strlen(pattern)-1 do
+        local c = string.sub(pattern, x+1, x+1)
+        if c==' ' then
+            -- default grass
+
+        -- water/swamp
+        elseif c=='.' then
+            set_floor("fl-water", x,y)
+        elseif c=='s' then
+            set_floor("fl-swamp", x,y)
+
+        -- only single color may pass
+        elseif c=='b' then
+            set_stone("st-black4", x,y)
+        elseif c=='w' then
+            set_stone("st-white4", x,y)
+        elseif c=='B' then
+            set_floor("fl-swamp", x,y)
+            if difficult then
+                set_stone("st-black4", x,y)
+            end
+        elseif c=='W' then
+            set_floor("fl-swamp", x,y)
+            if difficult then
+                set_stone("st-white4", x,y)
+            end
+        elseif c==')' then
+            set_floor("fl-swamp", x,y)
+            set_stone("st-white4", x,y)
+        elseif c=='(' then
+            set_floor("fl-swamp", x,y)
+            set_stone("st-black4", x,y)
+        elseif c=='}' then
+            if not difficult then
+                set_stone("st-white4", x,y)
+            end
+        elseif c=='{' then
+            if not difficult then
+                set_stone("st-black4", x,y)
+            end
+
+        -- oxyd
+        elseif c=='O' then
+            oxyd(x,y)
+        elseif c=='o' then
+            -- visual change only when using certain non-standard graphics
+            set_floor("fl-swamp", x,y)
+            oxyd(x,y)
+
+        -- miscellaneous
+        elseif c=='#' then
+            set_stone("st-camouflage", x,y)
+        elseif c=='y' then
+            set_item("it-yinyang", x,y)
+        elseif c=='Y' then
+            set_floor("fl-swamp", x,y)
+            set_stone("st-yinyang1", x,y)
+
+        -- players
+        elseif c=='1' then
+            set_actor("ac-blackball", x+.5,y+.5, {player=0, essential=-1})
+        elseif c=='2' then
+            set_actor("ac-whiteball", x+.5,y+.5, {player=1, essential=-1})
+
+        end
+    end
+end
+
+-- level sort of looks like a butterfly
+--              01234567890123456789
+renderLine( 0, "....................")
+renderLine( 1, ".oBsssss....sssssWo.")
+renderLine( 2, ".B{  #y#s..s#y#  }W.")
+renderLine( 3, ".s    #bssssw#    s.")
+renderLine( 4, ".s     bssssw     s.")
+renderLine( 5, ".WO    bs..sw    OB.")
+renderLine( 6, "Oss)sssYs..sYsss(ssO")
+renderLine( 7, ".WO    ws..sb    OB.")
+renderLine( 8, ".s     wssssb     s.")
+renderLine( 9, ".s    #wssssb#    s.")
+renderLine(10, ".W}  #1#s..s#2#  {B.")
+renderLine(11, ".oWsssss....sssssBo.")
+renderLine(12, "....................")
+
+oxyd_shuffle()
+
+]]></el:luamain>
+        <el:i18n>
+            <el:string el:key="title">
+                <el:english el:translate="true" el:comment="the common name of the Rorschach test is inkblot test; this title just refers to the level's visual appearance"/>
+            </el:string>
+        </el:i18n>
+    </el:protected>
+</el:level>


Property changes on: branches/1.0/data/levels/enigma_vii/npb01_1.xml
___________________________________________________________________
Name: svn:eol-style
   + native



From raoul at mail.berlios.de  Mon Jun  4 16:59:32 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 4 Jun 2007 16:59:32 +0200
Subject: [Enigma-game-svn] r777 - homepage/input
Message-ID: <200706041459.l54ExWKm024594@sheep.berlios.de>

Author: raoul
Date: 2007-06-04 16:59:31 +0200 (Mon, 04 Jun 2007)
New Revision: 777

Modified:
   homepage/input/credits.html
   homepage/input/credits_de.html
Log:
-> New credits from the new levels



Modified: homepage/input/credits.html
===================================================================
--- homepage/input/credits.html	2007-06-04 14:18:15 UTC (rev 776)
+++ homepage/input/credits.html	2007-06-04 14:59:31 UTC (rev 777)
@@ -103,6 +103,7 @@
     <p>For various smaller contributions, thanks go to:</p>
     <ul>
         <li>Roberto Bardin&nbsp;&nbsp;&nbsp;(Level design)</li>
+        <li>Nathan Bronecke&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Alain Busser&nbsp;&nbsp;&nbsp;(Level design, French translation, manual)</li>
         <li>Guy Busser&nbsp;&nbsp;&nbsp;(Level design)</li>
         <li>Richi B&uuml;tzer&nbsp;&nbsp;&nbsp;(Level design)</li>

Modified: homepage/input/credits_de.html
===================================================================
--- homepage/input/credits_de.html	2007-06-04 14:18:15 UTC (rev 776)
+++ homepage/input/credits_de.html	2007-06-04 14:59:31 UTC (rev 777)
@@ -104,6 +104,7 @@
     <p>F&uuml;r verschiedene kleinere Beitr&auml;ge danken wir:</p>
     <ul>
         <li>Roberto Bardin&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
+        <li>Nathan Bronecke&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Alain Busser&nbsp;&nbsp;&nbsp;(Landschaftsdesign, franz&ouml;sische &uuml;bersetzung und Handbuch)</li>
         <li>Guy Busser&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>
         <li>Richi B&uuml;tzer&nbsp;&nbsp;&nbsp;(Landschaftsdesign)</li>



From ral at mail.berlios.de  Tue Jun  5 21:45:52 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 5 Jun 2007 21:45:52 +0200
Subject: [Enigma-game-svn] r778 - trunk/src
Message-ID: <200706051945.l55Jjq5S023446@sheep.berlios.de>

Author: ral
Date: 2007-06-05 21:45:51 +0200 (Tue, 05 Jun 2007)
New Revision: 778

Modified:
   trunk/src/world.cc
   trunk/src/world_internal.hh
Log:
Trunk 1.1: 
- fix reflexion on the edges of adjacent stones
  (avoid direction change on space tubes)


Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-04 14:59:31 UTC (rev 777)
+++ trunk/src/world.cc	2007-06-05 19:45:51 UTC (rev 778)
@@ -1,5 +1,6 @@
 /*
  * Copyright (C) 2002,2003,2004,2005 Daniel Heck
+ * Copyright (C) 2007 Ronald Lamprecht
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
@@ -53,44 +54,6 @@
 
 namespace {
 
-    /*! Enigma's stones have rounded corners; this leads to realistic
-      behaviour when a marble rebounds from the corner of a single
-      stone. But it's annoying when there are two adjacent stones and
-      a marble rebounds from any one (or even both) corners, because
-      it changes the direction of the marble quite unpredictably.
-
-      This function modifies the contact information for two adjacent
-      stones in such a way that the two collisions are treated as a
-      single collision with a flat surface. */
-    void maybe_join_contacts (StoneContact &a, StoneContact &b)
-    {
-//         double maxd = 4.0/32;   // Max distance between joinable collisions
-
-        if (a.is_contact && b.is_contact
-            && a.is_collision && b.is_collision 
-            && a.response==STONE_REBOUND && b.response==STONE_REBOUND)
-            // && length(a.contact_point - b.contact_point) <= maxd)
-        {
-            b.ignore = true; // Don't rebound from `b'
-
-            DirectionBits fa = contact_faces(a);
-            DirectionBits fb = contact_faces(b);
-
-            switch (fa & fb) {
-            case NORTHBIT: a.normal = V2(0,-1); break;
-            case EASTBIT:  a.normal = V2(1,0); break;
-            case SOUTHBIT: a.normal = V2(0,1); break;
-            case WESTBIT:  a.normal = V2(-1,0); break;
-            case NODIRBIT:
-                //fprintf(stderr, "Strange: contacts have no direction in common\n");
-                break;
-            default:
-                //fprintf(stderr, "Strange: contacts have multiple directions in common\n");
-                break;
-            }
-        }
-    }
-
 /*! Find an already existing contact point in the ContactList that is
   similar to the second argument. */
     bool has_nearby_contact (const Contact *ca, int ca_count, const Contact &c)
@@ -713,11 +676,11 @@
       is filled is filled with information about the closest feature
       on the stone and `is_contact' is set to false. 
 */
-void World::find_contact_with_stone(Actor *a, GridPos p, StoneContact &c) 
+void World::find_contact_with_stone(Actor *a, GridPos p, StoneContact &c, bool isRounded, Stone *st) 
 {
     c.is_contact = false;
 
-    Stone *stone = world::GetStone(p);
+    Stone *stone = (st != NULL) ? st : world::GetStone(p);
     if (!stone)
         return;
 
@@ -729,10 +692,11 @@
     double ax = ai.pos[0];
     double ay = ai.pos[1];
 //    const double contact_e = 0.02;
-    const double erad = 2.0/32; // edge radius
+    const double erad_const = 2.0/32; // edge radius
+    double erad = isRounded ? erad_const : 0.0;
 
     // Closest feature == north or south face of the stone?
-    if (ax>x+erad && ax<x+1-erad) {
+    if (ax>=x+erad && ax<x+1-erad) {
         double dist = r+5;
 
         // south
@@ -750,7 +714,7 @@
         c.is_contact = (dist-r < contact_e);
     }
     // Closest feature == west or east face of the stone?
-    else if (ay>y+erad && ay<y+1-erad) {
+    else if (ay>=y+erad && ay<y+1-erad) {
         double dist=r+5;
         if (ax>x+1) { // east
             c.contact_point = V2(x+1,ay);
@@ -765,7 +729,7 @@
 	c.is_contact = (dist-r < contact_e);
     }
     // Closest feature == any of the four corners
-    else {
+    else if (isRounded) {
         int xcorner=(ax >= x+1-erad);
         int ycorner=(ay >= y+1-erad);
         double cx[2] = {erad, -erad};
@@ -795,6 +759,35 @@
     }
 }
 
+void World::find_contact_with_edge(Actor *a, GridPos p0, GridPos p1, GridPos p2, 
+        StoneContact &c0, StoneContact &c1, StoneContact &c2) {
+    Stone *s0 = world::GetStone(p0);
+    Stone *s1 = world::GetStone(p1);
+    Stone *s2 = world::GetStone(p2);
+    if (s0 != NULL) c0.response = s0->collision_response(c0);
+    if (s1 != NULL) c1.response = s1->collision_response(c1);
+    if (s2 != NULL) c2.response = s2->collision_response(c2);
+    
+    if (s1 && s2 && c1.response==STONE_REBOUND && c2.response==STONE_REBOUND) {
+        // a real edge bounce - no rounded edges
+        find_contact_with_stone(a, p1, c1, false, s1);  // collision with both straight neighbours
+        find_contact_with_stone(a, p2, c2, false, s2);  // collision with both straight neighbours
+    } else if (s0 && s1 && c0.response==STONE_REBOUND && c1.response==STONE_REBOUND) {
+        // join stones to a block without rounded edges
+        find_contact_with_stone(a, p1, c1, false, s1);  // collision with straight neighbour only
+        find_contact_with_stone(a, p2, c2, true, s2);   // register contact without collision
+    } else if (s0 && s2 && c0.response==STONE_REBOUND && c2.response==STONE_REBOUND) {
+        // join stones to a block without rounded edges
+        find_contact_with_stone(a, p2, c2, false, s2);  // contact with straight neighbour only
+        find_contact_with_stone(a, p1, c1, true, s1);   // register contact without collision
+    } else {
+        // register single stone collisions and contacts
+        if (s0) find_contact_with_stone(a, p0, c0, true, s0);
+        if (s1) find_contact_with_stone(a, p1, c1, true, s1);
+        if (s2) find_contact_with_stone(a, p2, c2, true, s2);
+    }
+}
+
 void World::find_stone_contacts(Actor *a, StoneContact &c0, StoneContact &c1,
         StoneContact &c2) {
     // time critical routine that is performance optimized
@@ -802,6 +795,9 @@
     c0.is_contact = false;
     c1.is_contact = false;
     c2.is_contact = false;
+    c0.actor = a;
+    c1.actor = a;
+    c2.actor = a;
     
     ActorInfo &ai = *a->get_actorinfo();
     double re = ai.radius + contact_e;
@@ -815,18 +811,18 @@
         // upper grid part
         if (x - g.x < re) {
             // upper left edge
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y - 1), c0);
-            find_contact_with_stone(a, GridPos(g.x, g.y - 1), c1);
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y), c2);
-            maybe_join_contacts (c0, c1);
-            maybe_join_contacts (c0, c2);
+            c0.normal = V2(+1, +1);  // no need of normalization - just direction
+            c1.normal = V2(0, +1);
+            c2.normal = V2(+1, 0);
+            find_contact_with_edge(a, GridPos(g.x - 1, g.y - 1), GridPos(g.x, g.y - 1),
+                    GridPos(g.x - 1, g.y), c0, c1, c2);
         } else if (-x + (g.x + 1) < re) {
             // upper right edge
-            find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0);
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y -1), c1);
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y), c2);
-            maybe_join_contacts (c0, c1);
-            maybe_join_contacts (c1, c2);
+            c0.normal = V2(-1, +1);  // no need of normalization - just direction
+            c1.normal = V2(0, +1);
+            c2.normal = V2(-1, 0);
+            find_contact_with_edge(a, GridPos(g.x + 1, g.y -1), GridPos(g.x, g.y - 1),
+                    GridPos(g.x + 1, g.y), c0, c1, c2);
         } else {
             // upper middle part
             find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0);
@@ -835,18 +831,18 @@
         // lower grid part
         if (x - g.x < re) {
             // lower left edge
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0);
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y + 1), c1);
-            find_contact_with_stone(a, GridPos(g.x, g.y + 1), c2);
-            maybe_join_contacts (c0, c1);
-            maybe_join_contacts (c1, c2);
+            c0.normal = V2(+1, -1);  // no need of normalization - just direction
+            c1.normal = V2(0, -1);
+            c2.normal = V2(+1, 0);
+            find_contact_with_edge(a, GridPos(g.x - 1, g.y + 1), GridPos(g.x, g.y + 1),
+                    GridPos(g.x - 1, g.y), c0, c1, c2);
         } else if (-x + (g.x + 1) < re) {
             // lower right edge
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0);
-            find_contact_with_stone(a, GridPos(g.x, g.y +1), c1);
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y + 1), c2);
-            maybe_join_contacts (c0, c2);
-            maybe_join_contacts (c1, c2);
+            c0.normal = V2(-1, -1);  // no need of normalization - just direction
+            c1.normal = V2(0, -1);
+            c2.normal = V2(-1, 0);
+            find_contact_with_edge(a, GridPos(g.x + 1, g.y + 1), GridPos(g.x, g.y +1),
+                    GridPos(g.x + 1, g.y), c0, c1, c2);
         } else {
             // lower middle part
             find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0);

Modified: trunk/src/world_internal.hh
===================================================================
--- trunk/src/world_internal.hh	2007-06-04 14:59:31 UTC (rev 777)
+++ trunk/src/world_internal.hh	2007-06-05 19:45:51 UTC (rev 778)
@@ -318,7 +318,9 @@
 
         void advance_actor (Actor *a, double h);
         void move_actors (double dtime);
-        void find_contact_with_stone (Actor *a, GridPos p, StoneContact &c);
+        void find_contact_with_stone (Actor *a, GridPos p, StoneContact &c, bool isRounded = true,  Stone *st = NULL);
+        void find_contact_with_edge(Actor *a, GridPos pe, GridPos p1, GridPos p2, 
+                StoneContact &c0, StoneContact &c1, StoneContact &c2);
         void find_stone_contacts (Actor *a, StoneContact &c0, StoneContact &c1,
                 StoneContact &c2);
         void handle_stone_contact (StoneContact &sc);



From ral at mail.berlios.de  Tue Jun  5 22:48:12 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 5 Jun 2007 22:48:12 +0200
Subject: [Enigma-game-svn] r779 - trunk/src
Message-ID: <200706052048.l55KmC5h028052@sheep.berlios.de>

Author: ral
Date: 2007-06-05 22:48:11 +0200 (Tue, 05 Jun 2007)
New Revision: 779

Modified:
   trunk/src/world.cc
Log:
Trunk 1.1: 
- fix collision instabilities on 45 degree caused by limited
  accuracy of floating point numbers.


Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-05 19:45:51 UTC (rev 778)
+++ trunk/src/world.cc	2007-06-05 20:48:11 UTC (rev 779)
@@ -736,6 +736,11 @@
 
         V2 corner(x+xcorner+cx[xcorner], y+ycorner+cx[ycorner]);
         V2 b=V2(ax,ay) - corner;
+        
+        // fix 45 degree collisions that may require precision
+        if (abs(b[0]) - abs(b[1]) < 1.0e-7) {
+            b[1] = (b[1] >= 0) ? abs(b[0]) : -abs(b[0]);
+        }
 
         c.is_contact    = (length(b)-r-erad < contact_e);
         c.normal        = normalize(b);
@@ -961,6 +966,10 @@
         return;
 
     V2 n = a1.pos - a2.pos; // normal to contact surface
+    // fix 45 degree collisions that may require precision
+    if (abs(n[0]) - abs(n[1]) < 1.0e-7) {
+        n[1] = (n[1] >= 0) ? abs(n[0]) : -abs(n[0]);
+    }
     double dist = n.normalize();
     double overlap = a1.radius + a2.radius - dist;
     if (overlap > 0 && !a1.grabbed && !a2.grabbed) {



From ral at mail.berlios.de  Tue Jun  5 23:49:52 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 5 Jun 2007 23:49:52 +0200
Subject: [Enigma-game-svn] r780 - trunk/src
Message-ID: <200706052149.l55LnqaS002921@sheep.berlios.de>

Author: ral
Date: 2007-06-05 23:49:50 +0200 (Tue, 05 Jun 2007)
New Revision: 780

Modified:
   trunk/src/world.cc
Log:
Trunk 1.1: 
- improve physics by extrapolating actor position for calculation
  of external forces in the numeric path integration.
  This reduces the orbit extension and force caused friction in space levels
  by a factor of 10.to 100



Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-05 20:48:11 UTC (rev 779)
+++ trunk/src/world.cc	2007-06-05 21:49:50 UTC (rev 780)
@@ -1053,7 +1053,12 @@
     vector<V2> global_forces (nactors);
     for (unsigned i=0; i<nactors; ++i) {
         Actor *a = actorlist[i];
+        ActorInfo &ai = *a->get_actorinfo();
+        // extrapolate actor position for better accuracy of forces
+        V2 extrapolation = dtime*0.4 * ai.vel; 
+        ai.pos += extrapolation; 
         global_forces[i] = get_global_force (a);
+        ai.pos -= extrapolation;
     }
 
     while (rest_time > 0) {



From ral at mail.berlios.de  Wed Jun  6 16:56:24 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 6 Jun 2007 16:56:24 +0200
Subject: [Enigma-game-svn] r781 - trunk/src
Message-ID: <200706061456.l56EuOiF024790@sheep.berlios.de>

Author: ral
Date: 2007-06-06 16:56:23 +0200 (Wed, 06 Jun 2007)
New Revision: 781

Modified:
   trunk/src/actors.cc
   trunk/src/actors.hh
   trunk/src/items.cc
   trunk/src/world.cc
Log:
Trunk 1.1: 
- fix and improve r779 and 780.


Modified: trunk/src/actors.cc
===================================================================
--- trunk/src/actors.cc	2007-06-05 21:49:50 UTC (rev 780)
+++ trunk/src/actors.cc	2007-06-06 14:56:23 UTC (rev 781)
@@ -125,6 +125,11 @@
 }
 
 
+const ecl::V2 &Actor::get_pos_force() const{
+    return m_actorinfo.pos_force;
+}
+
+
 double Actor::get_max_radius() {
     return max_radius;
 }

Modified: trunk/src/actors.hh
===================================================================
--- trunk/src/actors.hh	2007-06-05 21:49:50 UTC (rev 780)
+++ trunk/src/actors.hh	2007-06-06 14:56:23 UTC (rev 781)
@@ -72,15 +72,16 @@
     struct ActorInfo {
 	// ---------- Variables ----------
 
-        ecl::V2 pos;		// Absolute position
-        GridPos gridpos;    // Grid position for pos
-        const Field *field;  // Field of pos
-        ecl::V2 vel;		// Velocity
-        ecl::V2 forceacc;        // Force accumulator
-        double charge;		// Electric charge
-        double mass;		// Mass
-        double radius;		// Radius of the ball
-        bool   grabbed;		// Actor not controlled by the physics engine
+        ecl::V2 pos;            // Absolute position
+        GridPos gridpos;        // Grid position for pos
+        const Field *field;     // Field of pos
+        ecl::V2 vel;            // Velocity
+        ecl::V2 pos_force;      // Extrapolated position for global force calc
+        ecl::V2 forceacc;       // Force accumulator
+        double charge;          // Electric charge
+        double mass;            // Mass
+        double radius;          // Radius of the ball
+        bool   grabbed;         // Actor not controlled by the physics engine
         bool   ignore_contacts; // Do not perform collision handling
 
 	// Variables used internally by the physics engine
@@ -162,6 +163,7 @@
         ActorInfo *get_actorinfo();
         const ActorInfo &get_actorinfo() const;
         const ecl::V2 &get_pos() const;
+        const ecl::V2 &get_pos_force() const;
 
         const ecl::V2 &get_vel() const {
             return m_actorinfo.vel; 

Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2007-06-05 21:49:50 UTC (rev 780)
+++ trunk/src/items.cc	2007-06-06 14:56:23 UTC (rev 781)
@@ -1572,7 +1572,7 @@
 
             void add_force(Actor *a, V2 &f) {
                 if (m_active) {
-                    V2 dv = center - a->get_pos();
+                    V2 dv = center - a->get_pos_force();
                     double dist = length(dv);
 
                     if (dist >= 0.2 && dist < range)

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-05 21:49:50 UTC (rev 780)
+++ trunk/src/world.cc	2007-06-06 14:56:23 UTC (rev 781)
@@ -646,7 +646,7 @@
             Actor *a2 = *i;
             if (a2 == a) continue;
             if (double q2 = get_charge(a2)) {
-                V2 distv = a->get_pos() - a2->get_pos();
+                V2 distv = a->get_pos_force() - a2->get_pos_force();
                 if (double dist = distv.normalize())
                     f += server::ElectricForce * q * q2 / (dist) * distv;
             }
@@ -738,7 +738,7 @@
         V2 b=V2(ax,ay) - corner;
         
         // fix 45 degree collisions that may require precision
-        if (abs(b[0]) - abs(b[1]) < 1.0e-7) {
+        if (abs(abs(b[0]) - abs(b[1])) < 1.0e-7) {
             b[1] = (b[1] >= 0) ? abs(b[0]) : -abs(b[0]);
         }
 
@@ -967,7 +967,8 @@
 
     V2 n = a1.pos - a2.pos; // normal to contact surface
     // fix 45 degree collisions that may require precision
-    if (abs(n[0]) - abs(n[1]) < 1.0e-7) {
+    //   ignore central overlapping marbles in this correction
+    if (abs(abs(n[0]) - abs(n[1])) < 1.0e-7 && abs(n[1]) > 1.0e-5) {
         n[1] = (n[1] >= 0) ? abs(n[0]) : -abs(n[0]);
     }
     double dist = n.normalize();
@@ -1050,15 +1051,19 @@
     rest_time += dtime;
 
     size_t nactors = actorlist.size();
-    vector<V2> global_forces (nactors);
     for (unsigned i=0; i<nactors; ++i) {
         Actor *a = actorlist[i];
         ActorInfo &ai = *a->get_actorinfo();
         // extrapolate actor position for better accuracy of forces
-        V2 extrapolation = dtime*0.4 * ai.vel; 
-        ai.pos += extrapolation; 
+        if (!ai.grabbed)
+            ai.pos_force = ai.pos + dtime*0.4 * ai.vel;
+        else
+            ai.pos_force = ai.pos;
+    }
+    vector<V2> global_forces (nactors);
+    for (unsigned i=0; i<nactors; ++i) {
+        Actor *a = actorlist[i];
         global_forces[i] = get_global_force (a);
-        ai.pos -= extrapolation;
     }
 
     while (rest_time > 0) {



From raoul at mail.berlios.de  Wed Jun  6 22:19:58 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Wed, 6 Jun 2007 22:19:58 +0200
Subject: [Enigma-game-svn] r782 - in trunk: attic attic/gfx-templates
	attic/images-actors attic/images-floors attic/images-items
	attic/images-other attic/images-stones data/gfx32 data/gfx48
Message-ID: <200706062019.l56KJwbi031670@sheep.berlios.de>

Author: raoul
Date: 2007-06-06 22:19:51 +0200 (Wed, 06 Jun 2007)
New Revision: 782

Added:
   trunk/attic/images-actors/
   trunk/attic/images-actors/actor32.xcf
   trunk/attic/images-actors/ring-anim.xcf
   trunk/attic/images-actors/ring-anim2.xcf
   trunk/attic/images-floors/
   trunk/attic/images-floors/fl-bridgea.xcf
   trunk/attic/images-floors/fl-darkstone.xcf
   trunk/attic/images-floors/fl-gradient-wiz.png
   trunk/attic/images-floors/fl-gradient-wiz48.png
   trunk/attic/images-floors/fl-redstone.xcf
   trunk/attic/images-items/
   trunk/attic/images-items/it-banana.psd
   trunk/attic/images-items/it-cherry.psd
   trunk/attic/images-items/it-drop.xcf
   trunk/attic/images-items/it-key.psd
   trunk/attic/images-items/it-magic.xcf
   trunk/attic/images-items/it-pin.psd
   trunk/attic/images-items/it-ring.psd
   trunk/attic/images-items/it-trigger1.xcf
   trunk/attic/images-items/it-weight.xcf
   trunk/attic/images-items/items.xcf
   trunk/attic/images-other/
   trunk/attic/images-other/Globe.png
   trunk/attic/images-other/LaurelWreath.png
   trunk/attic/images-other/WorldRecordSymbol.png
   trunk/attic/images-other/enigma_logo3.xcf
   trunk/attic/images-other/feather-small.png
   trunk/attic/images-other/feather.png
   trunk/attic/images-other/ic-marble.png
   trunk/attic/images-other/ic-marble48.png
   trunk/attic/images-other/marble_128.png
   trunk/attic/images-other/marble_16.png
   trunk/attic/images-other/marble_24.png
   trunk/attic/images-other/marble_256.png
   trunk/attic/images-other/marble_32.png
   trunk/attic/images-other/marble_48.png
   trunk/attic/images-other/marble_96.png
   trunk/attic/images-stones/
   trunk/attic/images-stones/st-bigbrick.xcf
   trunk/attic/images-stones/st-bolder.xcf
   trunk/attic/images-stones/st-brick.xcf
   trunk/attic/images-stones/st-brownie.xcf
   trunk/attic/images-stones/st-enigma1_0.xcf
   trunk/attic/images-stones/st-enigma1_templ.xcf
   trunk/attic/images-stones/st-fakeoxyd-blink.xcf
   trunk/attic/images-stones/st-floppy.xcf
   trunk/attic/images-stones/st-fourswitch.xcf
   trunk/attic/images-stones/st-greenbrown.xcf
   trunk/attic/images-stones/st-laser-e.xcf
   trunk/attic/images-stones/st-laser-n.xcf
   trunk/attic/images-stones/st-laser-s.xcf
   trunk/attic/images-stones/st-laser-w.xcf
   trunk/attic/images-stones/st-mirror-movable.xcf
   trunk/attic/images-stones/st-mirror-static.xcf
   trunk/attic/images-stones/st-mirrortempl.xcf
   trunk/attic/images-stones/st-onewaytempl.xcf
   trunk/attic/images-stones/st-oxyd-symbols.png
   trunk/attic/images-stones/st-oxyd-symbols48.png
   trunk/attic/images-stones/st-oxyda-open.xcf
   trunk/attic/images-stones/st-oxydb-templ.xcf
   trunk/attic/images-stones/st-oxydbtempl.xcf
   trunk/attic/images-stones/st-puzzletempl.xcf
   trunk/attic/images-stones/st-rock3.xcf
   trunk/attic/images-stones/st-rotator.xcf
   trunk/attic/images-stones/st-shogun.xcf
   trunk/attic/images-stones/st-stoneimpulse.xcf
   trunk/attic/images-stones/st-switch.xcf
   trunk/attic/images-stones/st-switch1.xcf
   trunk/attic/images-stones/st-switch_black1.png
   trunk/attic/images-stones/st-switch_black2.png
   trunk/attic/images-stones/st-switch_white1.png
   trunk/attic/images-stones/st-switch_white2.png
   trunk/attic/images-stones/st-thief2.xcf
   trunk/attic/images-stones/st-timer.xcf
   trunk/attic/images-stones/st-wood.xcf
   trunk/attic/images-stones/st-woven.xcf
Removed:
   trunk/attic/gfx-templates/actor32.xcf
   trunk/attic/gfx-templates/banana.psd
   trunk/attic/gfx-templates/cherry.psd
   trunk/attic/gfx-templates/enigma_logo3.xcf
   trunk/attic/gfx-templates/fl-bridgea.xcf
   trunk/attic/gfx-templates/fl-darkstone.xcf
   trunk/attic/gfx-templates/fl-redstone.xcf
   trunk/attic/gfx-templates/it-drop.xcf
   trunk/attic/gfx-templates/it-magic.xcf
   trunk/attic/gfx-templates/it-trigger1.xcf
   trunk/attic/gfx-templates/it-weight.xcf
   trunk/attic/gfx-templates/items.xcf
   trunk/attic/gfx-templates/key.psd
   trunk/attic/gfx-templates/pin.psd
   trunk/attic/gfx-templates/ring-anim.xcf
   trunk/attic/gfx-templates/ring-anim2.xcf
   trunk/attic/gfx-templates/ring.psd
   trunk/attic/gfx-templates/st-bigbrick.xcf
   trunk/attic/gfx-templates/st-bolder.xcf
   trunk/attic/gfx-templates/st-brick.xcf
   trunk/attic/gfx-templates/st-brownie.xcf
   trunk/attic/gfx-templates/st-enigma1_0.xcf
   trunk/attic/gfx-templates/st-enigma1_templ.xcf
   trunk/attic/gfx-templates/st-fakeoxyd-blink.xcf
   trunk/attic/gfx-templates/st-floppy.xcf
   trunk/attic/gfx-templates/st-fourswitch.xcf
   trunk/attic/gfx-templates/st-greenbrown.xcf
   trunk/attic/gfx-templates/st-laser-e.xcf
   trunk/attic/gfx-templates/st-laser-n.xcf
   trunk/attic/gfx-templates/st-laser-s.xcf
   trunk/attic/gfx-templates/st-laser-w.xcf
   trunk/attic/gfx-templates/st-mirror-movable.xcf
   trunk/attic/gfx-templates/st-mirror-static.xcf
   trunk/attic/gfx-templates/st-mirrortempl.xcf
   trunk/attic/gfx-templates/st-onewaytempl.xcf
   trunk/attic/gfx-templates/st-oxyda-open.xcf
   trunk/attic/gfx-templates/st-oxydb-templ.xcf
   trunk/attic/gfx-templates/st-oxydbtempl.xcf
   trunk/attic/gfx-templates/st-puzzletempl.xcf
   trunk/attic/gfx-templates/st-rock3.xcf
   trunk/attic/gfx-templates/st-rotator.xcf
   trunk/attic/gfx-templates/st-shogun.xcf
   trunk/attic/gfx-templates/st-stoneimpulse.xcf
   trunk/attic/gfx-templates/st-switch.xcf
   trunk/attic/gfx-templates/st-switch1.xcf
   trunk/attic/gfx-templates/st-switch_black1.png
   trunk/attic/gfx-templates/st-switch_black2.png
   trunk/attic/gfx-templates/st-switch_white1.png
   trunk/attic/gfx-templates/st-switch_white2.png
   trunk/attic/gfx-templates/st-thief2.xcf
   trunk/attic/gfx-templates/st-timer.xcf
   trunk/attic/gfx-templates/st-wood.xcf
   trunk/attic/gfx-templates/st-woven.xcf
   trunk/data/gfx32/fl-gradient-wiz.png
   trunk/data/gfx32/ic-marble.png
   trunk/data/gfx32/st-oxyd-symbols.png
   trunk/data/gfx48/fl-gradient-wiz.png
   trunk/data/gfx48/ic-marble.png
   trunk/data/gfx48/st-oxyd-symbols.png
Log:
-> Clean up gfx in attic/*



Deleted: trunk/attic/gfx-templates/actor32.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/banana.psd
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/cherry.psd
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/enigma_logo3.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/fl-bridgea.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/fl-darkstone.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/fl-redstone.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/it-drop.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/it-magic.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/it-trigger1.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/it-weight.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/items.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/key.psd
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/pin.psd
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/ring-anim.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/ring-anim2.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/ring.psd
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-bigbrick.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-bolder.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-brick.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-brownie.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-enigma1_0.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-enigma1_templ.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-fakeoxyd-blink.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-floppy.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-fourswitch.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-greenbrown.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-laser-e.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-laser-n.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-laser-s.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-laser-w.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-mirror-movable.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-mirror-static.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-mirrortempl.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-onewaytempl.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-oxyda-open.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-oxydb-templ.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-oxydbtempl.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-puzzletempl.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-rock3.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-rotator.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-shogun.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-stoneimpulse.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch1.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch_black1.png
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch_black2.png
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch_white1.png
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-switch_white2.png
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-thief2.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-timer.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-wood.xcf
===================================================================
(Binary files differ)

Deleted: trunk/attic/gfx-templates/st-woven.xcf
===================================================================
(Binary files differ)

Copied: trunk/attic/images-actors/actor32.xcf (from rev 777, trunk/attic/gfx-templates/actor32.xcf)

Copied: trunk/attic/images-actors/ring-anim.xcf (from rev 777, trunk/attic/gfx-templates/ring-anim.xcf)

Copied: trunk/attic/images-actors/ring-anim2.xcf (from rev 777, trunk/attic/gfx-templates/ring-anim2.xcf)

Copied: trunk/attic/images-floors/fl-bridgea.xcf (from rev 777, trunk/attic/gfx-templates/fl-bridgea.xcf)

Copied: trunk/attic/images-floors/fl-darkstone.xcf (from rev 777, trunk/attic/gfx-templates/fl-darkstone.xcf)

Copied: trunk/attic/images-floors/fl-gradient-wiz.png (from rev 777, trunk/data/gfx32/fl-gradient-wiz.png)

Copied: trunk/attic/images-floors/fl-gradient-wiz48.png (from rev 777, trunk/data/gfx48/fl-gradient-wiz.png)

Copied: trunk/attic/images-floors/fl-redstone.xcf (from rev 777, trunk/attic/gfx-templates/fl-redstone.xcf)

Copied: trunk/attic/images-items/it-banana.psd (from rev 777, trunk/attic/gfx-templates/banana.psd)

Copied: trunk/attic/images-items/it-cherry.psd (from rev 777, trunk/attic/gfx-templates/cherry.psd)

Copied: trunk/attic/images-items/it-drop.xcf (from rev 777, trunk/attic/gfx-templates/it-drop.xcf)

Copied: trunk/attic/images-items/it-key.psd (from rev 777, trunk/attic/gfx-templates/key.psd)

Copied: trunk/attic/images-items/it-magic.xcf (from rev 777, trunk/attic/gfx-templates/it-magic.xcf)

Copied: trunk/attic/images-items/it-pin.psd (from rev 777, trunk/attic/gfx-templates/pin.psd)

Copied: trunk/attic/images-items/it-ring.psd (from rev 777, trunk/attic/gfx-templates/ring.psd)

Copied: trunk/attic/images-items/it-trigger1.xcf (from rev 777, trunk/attic/gfx-templates/it-trigger1.xcf)

Copied: trunk/attic/images-items/it-weight.xcf (from rev 777, trunk/attic/gfx-templates/it-weight.xcf)

Copied: trunk/attic/images-items/items.xcf (from rev 777, trunk/attic/gfx-templates/items.xcf)

Added: trunk/attic/images-other/Globe.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/Globe.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/LaurelWreath.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/LaurelWreath.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/WorldRecordSymbol.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/WorldRecordSymbol.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/attic/images-other/enigma_logo3.xcf (from rev 777, trunk/attic/gfx-templates/enigma_logo3.xcf)

Added: trunk/attic/images-other/feather-small.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/feather-small.png
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/feather.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/feather.png
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:mime-type
   + image/png

Copied: trunk/attic/images-other/ic-marble.png (from rev 777, trunk/data/gfx32/ic-marble.png)

Copied: trunk/attic/images-other/ic-marble48.png (from rev 777, trunk/data/gfx48/ic-marble.png)

Added: trunk/attic/images-other/marble_128.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_128.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_16.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_16.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_24.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_24.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_256.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_256.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_32.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_32.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_48.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_48.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: trunk/attic/images-other/marble_96.png
===================================================================
(Binary files differ)


Property changes on: trunk/attic/images-other/marble_96.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Copied: trunk/attic/images-stones/st-bigbrick.xcf (from rev 777, trunk/attic/gfx-templates/st-bigbrick.xcf)

Copied: trunk/attic/images-stones/st-bolder.xcf (from rev 777, trunk/attic/gfx-templates/st-bolder.xcf)

Copied: trunk/attic/images-stones/st-brick.xcf (from rev 777, trunk/attic/gfx-templates/st-brick.xcf)

Copied: trunk/attic/images-stones/st-brownie.xcf (from rev 777, trunk/attic/gfx-templates/st-brownie.xcf)

Copied: trunk/attic/images-stones/st-enigma1_0.xcf (from rev 777, trunk/attic/gfx-templates/st-enigma1_0.xcf)

Copied: trunk/attic/images-stones/st-enigma1_templ.xcf (from rev 777, trunk/attic/gfx-templates/st-enigma1_templ.xcf)

Copied: trunk/attic/images-stones/st-fakeoxyd-blink.xcf (from rev 777, trunk/attic/gfx-templates/st-fakeoxyd-blink.xcf)

Copied: trunk/attic/images-stones/st-floppy.xcf (from rev 777, trunk/attic/gfx-templates/st-floppy.xcf)

Copied: trunk/attic/images-stones/st-fourswitch.xcf (from rev 777, trunk/attic/gfx-templates/st-fourswitch.xcf)

Copied: trunk/attic/images-stones/st-greenbrown.xcf (from rev 777, trunk/attic/gfx-templates/st-greenbrown.xcf)

Copied: trunk/attic/images-stones/st-laser-e.xcf (from rev 777, trunk/attic/gfx-templates/st-laser-e.xcf)

Copied: trunk/attic/images-stones/st-laser-n.xcf (from rev 777, trunk/attic/gfx-templates/st-laser-n.xcf)

Copied: trunk/attic/images-stones/st-laser-s.xcf (from rev 777, trunk/attic/gfx-templates/st-laser-s.xcf)

Copied: trunk/attic/images-stones/st-laser-w.xcf (from rev 777, trunk/attic/gfx-templates/st-laser-w.xcf)

Copied: trunk/attic/images-stones/st-mirror-movable.xcf (from rev 777, trunk/attic/gfx-templates/st-mirror-movable.xcf)

Copied: trunk/attic/images-stones/st-mirror-static.xcf (from rev 777, trunk/attic/gfx-templates/st-mirror-static.xcf)

Copied: trunk/attic/images-stones/st-mirrortempl.xcf (from rev 777, trunk/attic/gfx-templates/st-mirrortempl.xcf)

Copied: trunk/attic/images-stones/st-onewaytempl.xcf (from rev 777, trunk/attic/gfx-templates/st-onewaytempl.xcf)

Copied: trunk/attic/images-stones/st-oxyd-symbols.png (from rev 777, trunk/data/gfx32/st-oxyd-symbols.png)

Copied: trunk/attic/images-stones/st-oxyd-symbols48.png (from rev 777, trunk/data/gfx48/st-oxyd-symbols.png)

Copied: trunk/attic/images-stones/st-oxyda-open.xcf (from rev 777, trunk/attic/gfx-templates/st-oxyda-open.xcf)

Copied: trunk/attic/images-stones/st-oxydb-templ.xcf (from rev 777, trunk/attic/gfx-templates/st-oxydb-templ.xcf)

Copied: trunk/attic/images-stones/st-oxydbtempl.xcf (from rev 777, trunk/attic/gfx-templates/st-oxydbtempl.xcf)

Copied: trunk/attic/images-stones/st-puzzletempl.xcf (from rev 777, trunk/attic/gfx-templates/st-puzzletempl.xcf)

Copied: trunk/attic/images-stones/st-rock3.xcf (from rev 777, trunk/attic/gfx-templates/st-rock3.xcf)

Copied: trunk/attic/images-stones/st-rotator.xcf (from rev 777, trunk/attic/gfx-templates/st-rotator.xcf)

Copied: trunk/attic/images-stones/st-shogun.xcf (from rev 777, trunk/attic/gfx-templates/st-shogun.xcf)

Copied: trunk/attic/images-stones/st-stoneimpulse.xcf (from rev 777, trunk/attic/gfx-templates/st-stoneimpulse.xcf)

Copied: trunk/attic/images-stones/st-switch.xcf (from rev 777, trunk/attic/gfx-templates/st-switch.xcf)

Copied: trunk/attic/images-stones/st-switch1.xcf (from rev 777, trunk/attic/gfx-templates/st-switch1.xcf)

Copied: trunk/attic/images-stones/st-switch_black1.png (from rev 777, trunk/attic/gfx-templates/st-switch_black1.png)

Copied: trunk/attic/images-stones/st-switch_black2.png (from rev 777, trunk/attic/gfx-templates/st-switch_black2.png)

Copied: trunk/attic/images-stones/st-switch_white1.png (from rev 777, trunk/attic/gfx-templates/st-switch_white1.png)

Copied: trunk/attic/images-stones/st-switch_white2.png (from rev 777, trunk/attic/gfx-templates/st-switch_white2.png)

Copied: trunk/attic/images-stones/st-thief2.xcf (from rev 777, trunk/attic/gfx-templates/st-thief2.xcf)

Copied: trunk/attic/images-stones/st-timer.xcf (from rev 777, trunk/attic/gfx-templates/st-timer.xcf)

Copied: trunk/attic/images-stones/st-wood.xcf (from rev 777, trunk/attic/gfx-templates/st-wood.xcf)

Copied: trunk/attic/images-stones/st-woven.xcf (from rev 777, trunk/attic/gfx-templates/st-woven.xcf)

Deleted: trunk/data/gfx32/fl-gradient-wiz.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/ic-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx32/st-oxyd-symbols.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/fl-gradient-wiz.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/ic-marble.png
===================================================================
(Binary files differ)

Deleted: trunk/data/gfx48/st-oxyd-symbols.png
===================================================================
(Binary files differ)



From andreasl at mail.berlios.de  Wed Jun  6 22:45:28 2007
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Wed, 6 Jun 2007 22:45:28 +0200
Subject: [Enigma-game-svn] r783 - homepage/input/lotm
Message-ID: <200706062045.l56KjSjj000379@sheep.berlios.de>

Author: andreasl
Date: 2007-06-06 22:45:28 +0200 (Wed, 06 Jun 2007)
New Revision: 783

Modified:
   homepage/input/lotm/lotm_200706.html
Log:
Homepage:
 - English version now proofread


Modified: homepage/input/lotm/lotm_200706.html
===================================================================
--- homepage/input/lotm/lotm_200706.html	2007-06-06 20:19:51 UTC (rev 782)
+++ homepage/input/lotm/lotm_200706.html	2007-06-06 20:45:28 UTC (rev 783)
@@ -14,7 +14,7 @@
     &quot;Labyrinth of Puzzles&quot; by Jacob Scott
   </h3>
 
-  <p>Anyone here to think &quot;old levels are out-dated&quot;? This month we
+  <p>Does anyone here think that old levels are outdated? This month we
   visit one of Enigma's real classics, a level itself directly inspired by Oxyd.
   Written by the most productive level author Enigma ever witnessed, topped only
   by Meinolf Schneider himself. The climax of Jacob's early levels: Don't get
@@ -76,7 +76,7 @@
   </table>
 
   <p>Indeed, I already expected &quot;Labyrinth of Puzzles&quot; to become
-  Level of May 2007 -- only to be overrun by the newcomer &quot;The Aztec
+  the Level of May 2007 -- only to be overrun by the newcomer &quot;The Aztec
   Temple&quot;. &quot;Labyrinth of Puzzles&quot; gathered 7 votes, averaging to
   <b>9.00</b>, whereas &quot;The Aztec Temple&quot; was rated by only 3 gamers.
   In our <a href="$$lotm$$">archives section</a> we can compare all previous
@@ -116,7 +116,7 @@
   i will never be able to write levels like that myself and it sure
   makes me wonder what must be going on in his mind. how in the
   blue hell can you plan a level that will cause the player to
-  allmost start crying ? ... it must have taken weeks or longer
+  almost start crying ? ... it must have taken weeks or longer
   to think of all this kind of stuff.</p>
 
   <p class="quote">
@@ -180,8 +180,8 @@
   white and vice versa. However, it's not at all obvious when and how the other
   marble has to help (like in many other levels). In addition, the degree of
   difficulty is exactly right. There are no frustrating &quot;have to start all
-  over again&quot;-scenes, but one can solve one puzzle after the other and is
-  still busy for a very long time. All in all I have to say, that it's levels
+  over again&quot;-scenes, but one can solve one puzzle after the other and
+  still be busy for a very long time. All in all I have to say, that it's levels
   like &quot;Labyrinth of Puzzles&quot; which are the reason for me to play Enigma.
   Many thanks for this great level, Jacob!</p>
   <p class="author">Manuel K&ouml;nig</p>



From raoul at mail.berlios.de  Sat Jun  9 15:50:14 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 9 Jun 2007 15:50:14 +0200
Subject: [Enigma-game-svn] r784 - in branches/1.0/data/levels: enigma_i
	enigma_ii
Message-ID: <200706091350.l59DoEHR002364@sheep.berlios.de>

Author: raoul
Date: 2007-06-09 15:50:11 +0200 (Sat, 09 Jun 2007)
New Revision: 784

Modified:
   branches/1.0/data/levels/enigma_i/duffy04_1.xml
   branches/1.0/data/levels/enigma_i/duffy07_1.xml
   branches/1.0/data/levels/enigma_i/duffy100_1.xml
   branches/1.0/data/levels/enigma_i/duffy101_1.xml
   branches/1.0/data/levels/enigma_i/duffy108_1.xml
   branches/1.0/data/levels/enigma_i/duffy10_1.xml
   branches/1.0/data/levels/enigma_i/duffy122_1.xml
   branches/1.0/data/levels/enigma_i/duffy13_1.xml
   branches/1.0/data/levels/enigma_i/duffy19_1.xml
   branches/1.0/data/levels/enigma_i/duffy21_1.xml
   branches/1.0/data/levels/enigma_i/duffy24_1.xml
   branches/1.0/data/levels/enigma_i/duffy33_1.xml
   branches/1.0/data/levels/enigma_i/duffy46_1.xml
   branches/1.0/data/levels/enigma_i/duffy47_1.xml
   branches/1.0/data/levels/enigma_i/duffy74_1.xml
   branches/1.0/data/levels/enigma_i/duffy79_1.xml
   branches/1.0/data/levels/enigma_i/index.xml
   branches/1.0/data/levels/enigma_ii/duffy02_1.xml
   branches/1.0/data/levels/enigma_ii/duffy03_1.xml
   branches/1.0/data/levels/enigma_ii/duffy103_1.xml
   branches/1.0/data/levels/enigma_ii/duffy118_1.xml
   branches/1.0/data/levels/enigma_ii/duffy120_2.xml
   branches/1.0/data/levels/enigma_ii/duffy128_1.xml
   branches/1.0/data/levels/enigma_ii/duffy30_1.xml
   branches/1.0/data/levels/enigma_ii/duffy31_1.xml
   branches/1.0/data/levels/enigma_ii/duffy38_1.xml
   branches/1.0/data/levels/enigma_ii/duffy42_1.xml
   branches/1.0/data/levels/enigma_ii/duffy45_1.xml
   branches/1.0/data/levels/enigma_ii/duffy48_1.xml
   branches/1.0/data/levels/enigma_ii/duffy59_1.xml
   branches/1.0/data/levels/enigma_ii/duffy80_1.xml
   branches/1.0/data/levels/enigma_ii/duffy87_1.xml
   branches/1.0/data/levels/enigma_ii/duffy89_1.xml
   branches/1.0/data/levels/enigma_ii/duffy96_2.xml
   branches/1.0/data/levels/enigma_ii/duffy97_1.xml
   branches/1.0/data/levels/enigma_ii/duffy98_1.xml
   branches/1.0/data/levels/enigma_ii/index.xml
Log:
-> Corrected worldsize of Jacobs levels, Part 1, Enigma I+II
-> Note: Crossindices will be updated when all levels are resized.



Modified: branches/1.0/data/levels/enigma_i/duffy04_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy04_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy04_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Document" el:subtitle="" el:id="duffy4"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=80
-levelh=20
+rooms_wide=2
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-leaves", 0,0,levelw,levelh)
@@ -30,9 +33,8 @@
             set_stone( "st-glass", i-1, line)
         elseif c == "o" then
             oxyd( i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
---            fill_floor("fl-water", i-1,line, 1,1)
         elseif c=="z" then
             set_actor("ac-blackball", i-.5,line+.5)
         elseif c=="+" then
@@ -41,9 +43,9 @@
             mirrorp(i-1,line,FALSE,TRUE, 2)
         elseif c=="/" then
             mirrorp(i-1,line,FALSE,TRUE, 4)
-        elseif c=="5" then    
+        elseif c=="5" then
             set_item("it-coin1", i-1,line)
-        elseif c=="4" then    
+        elseif c=="4" then
             set_item("it-coin4", i-1,line,{value=3})
         elseif c=="P" then
             set_item("it-brush",i-1,line)
@@ -57,7 +59,6 @@
             set_stone("st-switch", i-1,line, {action="callback",target="fd"})
         elseif c=="e" then
             set_stone("st-switch", i-1,line, {action="callback",target="fe"})
-
         elseif c=="f" then
             set_stone("st-switch", i-1,line, {action="callback",target="ff"})
         elseif c=="g" then
@@ -108,7 +109,7 @@
             doorh( i-1,line, {name="door3"})
         elseif c == "L" then
             abyss(i-1,line)
-             draw_stones("st-glass", {i-1,line},{1,1}, 1)
+            draw_stones("st-glass", {i-1,line},{1,1}, 1)
             set_item("it-magicwand",i-1,line)
         elseif c == "G" then
             fill_floor("fl-leaves", i-1,line,1,1)
@@ -140,8 +141,8 @@
             set_item("it-magicwand",i-1,line)
         elseif c=="S" then
             fill_floor("fl-space", i-1,line, 1,1)
+            end
         end
-    end    
 end
 
 -- Floor:  " "
@@ -506,7 +507,7 @@
     document(29,4,"text2")
     document(29,3,"text3")
     document(29,2,"text4")
-    if fdo==0 and sdo==0 and tdo==0 then    
+    if fdo==0 and sdo==0 and tdo==0 then
         if num1==15 and num2==16 and num3==5 and num4==14 and num5==29 and fdo==0 then
             SendMessage("door1", "open")
             firstdooropen=1
@@ -549,16 +550,16 @@
       </el:string>
       <el:string el:key="text1">
         <el:english el:translate="true">What do you want the first gate to do?</el:english>
-      </el:string> 
+      </el:string>
       <el:string el:key="text2">
         <el:english el:translate="true">Opposite</el:english>
-      </el:string> 
+      </el:string>
       <el:string el:key="text3">
         <el:english el:translate="true">If ten equals three, five equals four, two equals three, four equals four, and thirteen equals eight, what does nine equal?</el:english>
-      </el:string> 
+      </el:string>
       <el:string el:key="text4">
         <el:english el:translate="true">Congratulations!</el:english>
-      </el:string> 
+      </el:string>
     </el:i18n>
   </el:protected>
 </el:level>

Modified: branches/1.0/data/levels/enigma_i/duffy07_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy07_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy07_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Jump!" el:subtitle="" el:id="duffy7"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 100
-levelh = 100
+rooms_wide=3
+rooms_high=3
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
 
 draw_border("st-brownie")
@@ -45,7 +48,7 @@
             set_stone("st-brownie", i-1, line)
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-                elseif c == "u" then
+        elseif c == "u" then
             set_floor("fl-gradient",  i-1,  line, {type=2})
         elseif c == "r" then
             set_floor("fl-gradient",  i-1,  line, {type=3})
@@ -53,33 +56,33 @@
             set_floor("fl-gradient",  i-1,  line, {type=1})
         elseif c == "l" then
             set_floor("fl-gradient",  i-1,  line, {type=4})
-         elseif c == "d" then
+        elseif c == "d" then
             set_stone("st-death", i-1,line)
-                elseif c == "1" then
+        elseif c == "1" then
             oneway(i-1,line, enigma.NORTH)
-                elseif c == "4" then
+        elseif c == "4" then
             oneway(i-1,line, enigma.SOUTH)
-                elseif c == "3" then
+        elseif c == "3" then
             oneway(i-1,line, enigma.WEST)
-         elseif c == "2" then
+        elseif c == "2" then
             oneway(i-1,line, enigma.EAST)
         elseif c == "~" then
             fill_floor("fl-water", i-1,line, 1,1)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
-                elseif c == "@" then
+        elseif c == "@" then
             document(i-1,line,"text1")
-                elseif c == "+" then
-                set_stone("st-greenbrown",i-1,line)
-         elseif c == "f" then
-                fakeoxyd(i-1,line)
+        elseif c == "+" then
+            set_stone("st-greenbrown",i-1,line)
+        elseif c == "f" then
+            fakeoxyd(i-1,line)
         elseif c == "v" then
-                oneway(i-1,line, enigma.WEST)
+            oneway(i-1,line, enigma.WEST)
         elseif c == "y" then
-                oneway(i-1,line, enigma.NORTH)
-        elseif c == "z" then    
+            oneway(i-1,line, enigma.NORTH)
+        elseif c == "z" then
             set_actor("ac-blackball" ,i-1, line)
-                end
+        end
     end
 end
 
@@ -134,7 +137,7 @@
       </el:string>
       <el:string el:key="text1">
         <el:english el:translate="true">It's a race!</el:english>
-      </el:string> 
+      </el:string>
     </el:i18n>
   </el:protected>
 </el:level>

Modified: branches/1.0/data/levels/enigma_i/duffy100_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy100_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy100_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Island Paradise" el:subtitle="" el:id="duffy100"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,11 +16,14 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=21
-levelh=13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
-enigma.ConserveLevel=FALSE
+enigma.ConserveLevel = 0
 
 fill_floor("fl-water", 0,0,levelw,levelh)
 
@@ -39,16 +42,16 @@
         elseif c =="X" then
             set_stone( "st-death", i-1, line)
         elseif c == "o" then
-           oxyd(i-1,line)
-           set_floor("fl-leaves",i-1,line)
+            oxyd(i-1,line)
+            set_floor("fl-leaves",i-1,line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-1,line, {player=0})
+            set_actor("ac-blackball", i-1,line, {player=0})
             set_floor("fl-leaves",i-1,line)
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
@@ -77,11 +80,11 @@
         elseif c == "9" then --ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
         elseif c=="s" then
-                set_item("it-seed",i-1,line)
+            set_item("it-seed",i-1,line)
             set_floor("fl-leaves",i-1,line)
-         end
-    end    
-     end
+        end
+    end
+end
 
 renderLine(00,"####################")
 renderLine(01,"#oxx   +xx+ xx Sx o#")

Modified: branches/1.0/data/levels/enigma_i/duffy101_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy101_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy101_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Variety Pack" el:subtitle="" el:id="duffy101"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,10 +34,10 @@
             set_stone( "st-greenbrown", i-1, line)
         elseif c =="W" then
             set_stone( "st-greenbrown", i-1, line)
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c =="S" then
             set_stone( "st-greenbrown", i-1, line)
-           set_floor("fl-space",i-1,line)
+            set_floor("fl-space",i-1,line)
         elseif c =="q" then
             set_stone( "st-actorimpulse_invisible", i-1, line)
         elseif c =="%" then
@@ -47,10 +47,10 @@
             oxyd( i-1, line)
         elseif c == "O" then
             oxyd( i-1, line)
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c == "&" then
             oxyd( i-1, line)
-           set_floor("fl-space",i-1,line)
+            set_floor("fl-space",i-1,line)
         elseif c == "@" then
             oxyd( i-1, line)
             abyss(i-1,line)
@@ -59,13 +59,13 @@
         elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c == "m" then
-           set_floor("fl-metal",i-1,line)
+            set_floor("fl-metal",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-1,line+.5, {player=0})
+            set_actor("ac-blackball", i-1,line+.5, {player=0})
         elseif c=="y" then
-           set_actor("ac-whiteball", i-1,line+.5, {player=1})
+            set_actor("ac-whiteball", i-1,line+.5, {player=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c == "Q" then
@@ -73,7 +73,7 @@
             abyss(i-1,line)
         elseif c == "a" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-           set_floor("fl-metal",i-1,line)
+            set_floor("fl-metal",i-1,line)
         elseif c == "G" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
             abyss(i-1,line)
@@ -82,67 +82,67 @@
         elseif c=="=" then
             set_floor("fl-space",i-1,line)
         elseif c=="R" then
-           set_actor("ac-rotor", i-.5,line+.5, {range=7, force=30})
+            set_actor("ac-rotor", i-.5,line+.5, {range=7, force=30})
         elseif c == "-" then
-           puzzle(i-1,line,PUZ_0101)
+            puzzle(i-1,line,PUZ_0101)
         elseif c == "_" then
-           puzzle(i-1,line,PUZ_0101)
+            puzzle(i-1,line,PUZ_0101)
             abyss(i-1,line)
         elseif c == "i" then
-           puzzle(i-1,line,PUZ_1010)
+            puzzle(i-1,line,PUZ_1010)
         elseif c == "/" then
-           puzzle(i-1,line,PUZ_0110)
+            puzzle(i-1,line,PUZ_0110)
         elseif c == "`" then
-           puzzle(i-1,line,PUZ_0011)
+            puzzle(i-1,line,PUZ_0011)
         elseif c == "^" then
-           puzzle(i-1,line,PUZ_1001)
+            puzzle(i-1,line,PUZ_1001)
         elseif c == ";" then
-           puzzle(i-1,line,PUZ_1100)
+            puzzle(i-1,line,PUZ_1100)
         elseif c == "2" then
-           puzzle(i-1,line,PUZ_1000)
+            puzzle(i-1,line,PUZ_1000)
         elseif c == "4" then
-           puzzle(i-1,line,PUZ_0100)
+            puzzle(i-1,line,PUZ_0100)
         elseif c == "6" then
-           puzzle(i-1,line,PUZ_0001)
+            puzzle(i-1,line,PUZ_0001)
         elseif c == "8" then
-           puzzle(i-1,line,PUZ_0010)
+            puzzle(i-1,line,PUZ_0010)
         elseif c == "$" then
-           puzzle(i-1,line,PUZ_0000)
+            puzzle(i-1,line,PUZ_0000)
         elseif c == "5" then
-           puzzle(i-1,line,PUZ_0100)
-           abyss(i-1,line)
+            puzzle(i-1,line,PUZ_0100)
+            abyss(i-1,line)
         elseif c=="U" then
-           set_stone("st-oneway-n", i-1,line)
+            set_stone("st-oneway-n", i-1,line)
 --        elseif c=="R" then
 --             set_stone("st-oneway", i-1,line, {orientation=enigma.EAST})
         elseif c=="D" then
-            set_stone("st-oneway-s", i-1,line)    
+            set_stone("st-oneway-s", i-1,line)
         elseif c=="L" then
-             set_stone("st-oneway-w", i-1,line)
+            set_stone("st-oneway-w", i-1,line)
         elseif c=="?" then
-           fill_floor("fl-ice",i-2,line,19,12)
+            fill_floor("fl-ice",i-2,line,19,12)
         elseif c=="b" then
             yy1( "black",  i-1, line)
         elseif c=="l" then
             set_attrib(laser(i-1,line, TRUE, WEST), "name", "laser1")
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="<" then
             set_attrib(laser(i-1,line, TRUE, EAST), "name", "laser2")
         elseif c==">" then
             set_attrib(laser(i-1,line, TRUE, WEST), "name", "laser3")
-        elseif c=="f" then    
+        elseif c=="f" then
             set_item("it-floppy", i-1,line)
         elseif c=="F" then
             set_stone( "st-floppy", i-1,line,{action="callback",target="funcc1"})
         elseif c=="A" then
-           set_stone("st-door_a",i-1,line,{name="door1"})
+            set_stone("st-door_a",i-1,line,{name="door1"})
         elseif c=="B" then
-           set_stone("st-door_a",i-1,line,{name="door2"})
+            set_stone("st-door_a",i-1,line,{name="door2"})
         elseif c=="C" then
-           set_stone("st-door_a",i-1,line,{name="door3"})
-         end
-    end    
-     end
+            set_stone("st-door_a",i-1,line,{name="door3"})
+        end
+    end
+end
 
 function yy1( color, x, y)
         stone = format( "st-%s4", color)
@@ -192,9 +192,9 @@
 ff1=0
 function funcc1()
 if ff1==0 then
-   SendMessage("door1", "open")
-   SendMessage("door2", "open")
-   SendMessage("door3", "close")
+    SendMessage("door1", "open")
+    SendMessage("door2", "open")
+    SendMessage("door3", "close")
 ff1=1
 elseif ff1==1 then
     SendMessage("door1","close")

Modified: branches/1.0/data/levels/enigma_i/duffy108_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy108_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy108_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Security Guards" el:subtitle="" el:id="duffy108"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -38,14 +38,14 @@
         elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-.5,line+.5, {controllers=1,player=0})
+            set_actor("ac-blackball", i-.5,line+.5, {controllers=1,player=0})
         elseif c=="S" then
-           set_actor("ac-top", i-.5,line+.5, {controllers=0,range=0,force=0})
+            set_actor("ac-top", i-.5,line+.5, {controllers=0,range=0,force=0})
             set_floor("fl-gradient",  i-1,  line, {type=1})
         elseif c=="N" then
-           set_actor("ac-top", i-.5,line+.5, {controllers=0,range=0,force=0})
+            set_actor("ac-top", i-.5,line+.5, {controllers=0,range=0,force=0})
             set_floor("fl-gradient",  i-1,  line, {type=2})
         elseif c=="d" then
             set_floor("fl-gradient",  i-1,  line, {type=1})
@@ -60,46 +60,46 @@
         elseif c=="s" then
             fill_floor("fl-space",i,line-1,16,13)
         elseif c=="H" then
-           set_item("it-tinyhollow",i-1,line)
-           set_floor("fl-normal",i-1,line)
+            set_item("it-tinyhollow",i-1,line)
+            set_floor("fl-normal",i-1,line)
         elseif c=="O" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
         elseif c=="Q" then
-           set_stone("st-switch",i-1,line,{action="callback",target="funcc1"})
+            set_stone("st-switch",i-1,line,{action="callback",target="funcc1"})
         elseif c=="A" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door1"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door1"})
         elseif c=="B" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door2"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door2"})
         elseif c=="C" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door3"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door3"})
         elseif c=="D" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door4"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door4"})
         elseif c=="E" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door5"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door5"})
         elseif c=="F" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door6"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door6"})
         elseif c=="G" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door7"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door7"})
         elseif c=="`" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door8"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door8"})
         elseif c=="I" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door9"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door9"})
         elseif c=="J" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door10"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door10"})
         elseif c=="K" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door11"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door11"})
         elseif c=="L" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door12"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door12"})
         elseif c=="M" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door13"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door13"})
         elseif c=="$" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door14"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door14"})
         elseif c=="%" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door15"})
+            set_stone("st-door_a",i-1,line,{close=0,name="door15"})
         elseif c=="P" then
-           set_stone("st-door_a",i-1,line,{close=0,name="door16"})
-         end
-    end    
+            set_stone("st-door_a",i-1,line,{close=0,name="door16"})
+        end
+    end
 end
 
 renderLine(00,"####################")
@@ -177,22 +177,22 @@
 enigma.SendMessage(door16,"open",nil)
 
 function funcc1()
-   enigma.SendMessage(door1,"close",nil)
-   enigma.SendMessage(door2,"close",nil)
-   enigma.SendMessage(door3,"close",nil)
-   enigma.SendMessage(door4,"close",nil)
-   enigma.SendMessage(door5,"close",nil)
-   enigma.SendMessage(door6,"close",nil)
-   enigma.SendMessage(door7,"close",nil)
-   enigma.SendMessage(door8,"close",nil)
-   enigma.SendMessage(door9,"close",nil)
-   enigma.SendMessage(door10,"close",nil)
-   enigma.SendMessage(door11,"close",nil)
-   enigma.SendMessage(door12,"close",nil)
-   enigma.SendMessage(door13,"close",nil)
-   enigma.SendMessage(door14,"close",nil)
-   enigma.SendMessage(door15,"close",nil)
-   enigma.SendMessage(door16,"close",nil)
+    enigma.SendMessage(door1,"close",nil)
+    enigma.SendMessage(door2,"close",nil)
+    enigma.SendMessage(door3,"close",nil)
+    enigma.SendMessage(door4,"close",nil)
+    enigma.SendMessage(door5,"close",nil)
+    enigma.SendMessage(door6,"close",nil)
+    enigma.SendMessage(door7,"close",nil)
+    enigma.SendMessage(door8,"close",nil)
+    enigma.SendMessage(door9,"close",nil)
+    enigma.SendMessage(door10,"close",nil)
+    enigma.SendMessage(door11,"close",nil)
+    enigma.SendMessage(door12,"close",nil)
+    enigma.SendMessage(door13,"close",nil)
+    enigma.SendMessage(door14,"close",nil)
+    enigma.SendMessage(door15,"close",nil)
+    enigma.SendMessage(door16,"close",nil)
 end
     ]]></el:luamain>
     <el:i18n>

Modified: branches/1.0/data/levels/enigma_i/duffy10_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy10_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy10_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Islands" el:subtitle="" el:id="duffy10"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=50
-levelh=50
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-leaves", 0,0,levelw,levelh)
@@ -30,8 +33,7 @@
             set_stone( "st-greenbrown", i-1, line)
         elseif c == "o" then
             oxyd( i-1, line)
-                elseif c == "!" then
---            abyss(i-1,line)
+        elseif c == "!" then
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c=="r" then
             oneway(i-1,line, enigma.EAST)
@@ -43,7 +45,7 @@
             set_stone( "st-wood", i-1, line)
             fill_floor("fl-water", i-1,line, 1,1)
         end
-    end    
+    end
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_i/duffy122_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy122_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy122_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Civil Engineer" el:subtitle="" el:id="duffy122"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -34,24 +34,24 @@
         local c = strsub( pattern, i, i)
         if c =="#" then
             set_stone( "st-coffee", i-1, line)
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c =="%" then
             set_stone( "st-coffee", i-1, line)
         elseif c == "o" then
-           oxyd( i-1, line)
+            oxyd( i-1, line)
         elseif c == "O" then
-           oxyd( i-1, line)
-           set_floor("fl-water",i-1,line)
+            oxyd( i-1, line)
+            set_floor("fl-water",i-1,line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-1,line+.5, {player=0})
+            set_actor("ac-blackball", i-1,line+.5, {player=0})
         elseif c=="y" then
-           set_actor("ac-whiteball", i-1,line+.5, {player=1})
+            set_actor("ac-whiteball", i-1,line+.5, {player=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -59,9 +59,9 @@
         elseif c=="=" then
             set_floor("fl-space",i-1,line)
         elseif c=="S" then
-           set_item("it-seed",i-1,line)
-         end
-    end    
+            set_item("it-seed",i-1,line)
+        end
+    end
 end
 
 renderLine(00,"%%%%%##########%%%%%")

Modified: branches/1.0/data/levels/enigma_i/duffy13_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy13_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy13_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Space Tubes" el:subtitle="" el:id="duffy13"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=39
-levelh=25
+rooms_wide=2
+rooms_high=2
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 display.SetFollowMode(display.FOLLOW_SCROLLING)
 
@@ -68,7 +71,7 @@
         elseif c == "8" then --small ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
         end
-    end    
+    end
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_i/duffy19_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy19_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy19_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Snakes" el:subtitle="" el:id="duffy19"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=25
-levelh=15
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)+2
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-hay",0,0,levelw,levelh)
@@ -39,7 +42,7 @@
         elseif c=="z" then
             set_actor("ac-blackball", i-.5,line+.5)
         end
-    end    
+    end
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_i/duffy21_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy21_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy21_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="If They'd Just Hold Still" el:subtitle="" el:id="duffy21"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=50
-levelh=30
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-metal", 0,0,levelw,levelh)
@@ -33,7 +36,6 @@
         elseif c == "D" then
             set_stone( "st-death", i-1, line)
         elseif c == "!" then
-            --            abyss(i-1,line)
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c == " " then
             abyss(i-1,line)
@@ -47,7 +49,6 @@
             set_floor("fl-gradient", i-1,line , {type=23})
         elseif c=="l" then
             set_floor("fl-gradient", i-1,line , {type=24})
-
         elseif c=="R" then
             set_floor("fl-gradient", i-1,line , {type=23})
             set_actor("ac-whiteball-small", i-.5,line+.5, {player=0})
@@ -60,13 +61,13 @@
             set_floor("fl-metal", i-1,line)
             set_actor("ac-whiteball-small", i-.5,line+.5, {player=0})
         end
-    end    
+    end
 end
 
 -- Floor:  " "
 -- Border: "#"
 -- Oxyd:   "o"
- 
+
 renderLine(00,"   ###    ###       ")
 renderLine(01," ###r#o####r#o##### ")
 renderLine(02," DrrrrrrrrRrrrrrrr# ")

Modified: branches/1.0/data/levels/enigma_i/duffy24_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy24_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy24_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Turbulence" el:subtitle="" el:id="duffy24"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=60
-levelh=30
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-bluegreen", 0,0,levelw,levelh)
@@ -32,14 +35,14 @@
             oxyd( i-1, line)
         elseif c == "D" then
             set_stone( "st-death", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "=" then
             fill_floor("fl-bluegreen", i-1,line, 1,1)
         elseif c == "+" then
             fill_floor("fl-space", i-1,line, 1,1)
         elseif c == "a" then
-              set_stone("st-switch", i-1,line, {action="openclose", target="door1"})
+            set_stone("st-switch", i-1,line, {action="openclose", target="door1"})
         elseif c == "A" then
             set_stone("st-door", i-1, line , {name="door1", type="v"})
         elseif c == "z" then
@@ -61,7 +64,7 @@
         elseif c == "9" then --ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
         end
-    end    
+    end
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_i/duffy33_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy33_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy33_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="More Space Tubes" el:subtitle="" el:id="duffy33"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=58
-levelh=25
+rooms_wide=3
+rooms_high=2
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-bluegreen", 0,0,levelw,levelh)
@@ -30,7 +33,7 @@
             set_stone( "st-greenbrown", i-1, line)
         elseif c == "o" then
             oxyd( i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "=" then
             fill_floor("fl-bluegreen", i-1,line, 1,1)
@@ -40,7 +43,7 @@
             set_stone( "st-greenbrown", i-1, line)
             fill_floor("fl-space", i-1,line, 1,1)
         elseif c == "a" then
-              set_stone("st-switch", i-1,line, {action="openclose", target="door1"})
+            set_stone("st-switch", i-1,line, {action="openclose", target="door1"})
         elseif c == "A" then
             set_stone("st-door", i-1, line , {name="door1", type="v"})
         elseif c == "z" then
@@ -62,7 +65,7 @@
         elseif c == "9" then --ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
         end
-    end    
+    end
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_i/duffy46_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy46_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy46_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="No Jumping Necessary" el:subtitle="" el:id="duffy46"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=39
-levelh=13
+rooms_wide=2
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-hay", 0,0,levelw,levelh)
@@ -42,9 +45,7 @@
             set_stone( "st-brownie", i-1, line)
         elseif c == "!" then
             abyss(i-1,line)
-            --            fill_floor("fl-water", i-1,line, 1,1)
         elseif c == "~" then
-            --            abyss(i-1,line)
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c == " " then
             abyss(i-1,line)
@@ -128,7 +129,7 @@
         elseif c=="x" then
             set_floor("fl-hay",i-1,line)
         end
-    end    
+    end
 end
 
 function yy1( color, x, y)

Modified: branches/1.0/data/levels/enigma_i/duffy47_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy47_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy47_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Cage The Lions" el:subtitle="" el:id="duffy47"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=20
-levelh=13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-hay", 0,0,levelw,levelh)
@@ -34,14 +37,12 @@
             oxyd( i-1, line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
---            fill_floor("fl-water", i-1,line, 1,1)
-                elseif c == "~" then
---            abyss(i-1,line)
+        elseif c == "~" then
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c=="z" then
-                set_actor("ac-blackball", i,line+.5)
+            set_actor("ac-blackball", i,line+.5)
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -57,7 +58,7 @@
         elseif c == "l" then --4-l
             set_floor("fl-gradient",  i-1,  line, {type=4})
         elseif c == "1" then --ur
-                set_floor("fl-gradient",  i-1,  line, {type=11})
+            set_floor("fl-gradient",  i-1,  line, {type=11})
         elseif c == "3" then --dl
             set_floor("fl-gradient",  i-1,  line, {type=9})
         elseif c == "7" then --dr
@@ -65,15 +66,15 @@
         elseif c == "9" then --ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
         elseif c=="T" then
-           set_actor("ac-top", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
+            set_actor("ac-top", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
         elseif c=="R" then
-           set_actor("ac-rotor", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
+            set_actor("ac-rotor", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
         elseif c =="H" then
             set_stone("st-switch", i-1,line, {action="callback", target="funcc1"})
         elseif c =="F" then
-           set_stone("st-door_b",i-1,line,{name="door1"})
+            set_stone("st-door_b",i-1,line,{name="door1"})
         elseif c =="G" then
-           set_stone("st-door_b",i-1,line,{name="door2"})
+            set_stone("st-door_b",i-1,line,{name="door2"})
         elseif c =="a" then
             set_item("it-trigger", i-1,line, {action="openclose", target="door3"})
         elseif c =="b" then
@@ -90,8 +91,8 @@
             doorv( i-1,line, {name="door5"})
         elseif c=="D" then
             doorv( i-1,line, {name="door6"})
-         end
-    end    
+        end
+    end
 end
 
 function yy1( color, x, y)

Modified: branches/1.0/data/levels/enigma_i/duffy74_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy74_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy74_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Confetti" el:subtitle="" el:id="duffy74"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,48 +16,51 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=58
-levelh=37
+rooms_wide=3
+rooms_high=3
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
+display.SetFollowMode(display.FOLLOW_SCROLLING)
 
 fill_floor("fl-leaves", 0,0,levelw,levelh)
 
 done_with_setup = 0
 
 function renderLine( line, pattern)
-   for i=1, strlen(pattern) do
-      local c = strsub( pattern, i, i)
-      if c =="#" then
-     set_stone( "st-glass", i-1, line)
-      elseif c == "o" then
-     if done_with_setup== 0 then
-        oxyd( i-1, line)
-     end
-      elseif c == "!" then
-     abyss(i-1,line)
-     --fill_floor("fl-water", i-1,line, 1,1)
-      elseif c == " " then
-     enigma.KillStone(i-1,line)
-      elseif c=="z" then
-     if done_with_setup==0 then
-        set_actor("ac-blackball", i-.5,line+.5, {player=0})
-     end
-      elseif c=="+" then
-     set_stone( "st-wood", i-1, line)
-      elseif c=="B" then
-     set_stone("st-bombs", i-1,line)
-      elseif c=="g" then
-     draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
-      elseif c=="A" then
-     if done_with_setup==0 then
-        set_stone("st-switch", i-1,line, {action="callback",target="funcc"})
-     end
-      elseif c=="h" then
-     draw_stones("st-grate2",{i-1,line}, {1,1}, 1)
-      elseif c=="m" then
-     set_stone( "st-glass", i-1, line)
-      end
+    for i=1, strlen(pattern) do
+        local c = strsub( pattern, i, i)
+        if c =="#" then
+            set_stone( "st-glass", i-1, line)
+        elseif c == "o" then
+            if done_with_setup== 0 then
+                oxyd( i-1, line)
+            end
+        elseif c == "!" then
+            abyss(i-1,line)
+        elseif c == " " then
+            enigma.KillStone(i-1,line)
+        elseif c=="z" then
+            if done_with_setup==0 then
+                set_actor("ac-blackball", i-.5,line+.5, {player=0})
+            end
+        elseif c=="+" then
+            set_stone( "st-wood", i-1, line)
+        elseif c=="B" then
+            set_stone("st-bombs", i-1,line)
+        elseif c=="g" then
+            draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
+        elseif c=="A" then
+            if done_with_setup==0 then
+                set_stone("st-switch", i-1,line, {action="callback",target="funcc"})
+            end
+        elseif c=="h" then
+            draw_stones("st-grate2",{i-1,line}, {1,1}, 1)
+        elseif c=="m" then
+            set_stone( "st-glass", i-1, line)
+        end
    end
 end
 
@@ -70,7 +73,7 @@
       if xxx==4 or xxx==5  or xxx==6 then
      set_floor("fl-bluegreen",i,j)
       end
-      if xxx==7 or xxx==8 or xxx==9 then 
+      if xxx==7 or xxx==8 or xxx==9 then
      set_floor("fl-sand",i,j)
       end
       if xxx==10 or xxx==11 or xxx==12 then
@@ -87,172 +90,172 @@
 through=0
 swap=0
 function funcc()
-   
-      myline18 = gsub(myline18, "z", " ")
-      myline0 = gsub(myline0, "#", "B")
-      myline1 = gsub(myline1, "#", "B")
-      myline2 = gsub(myline2, "#", "B")
-      myline3 = gsub(myline3, "#", "B")
-      myline4 = gsub(myline4, "#", "B")
-      myline5 = gsub(myline5, "#", "B")
-      myline6 = gsub(myline6, "#", "B")
-      myline7 = gsub(myline7, "#", "B")
-      myline8 = gsub(myline8, "#", "B")
-      myline9 = gsub(myline9, "#", "B")
-      myline10 = gsub(myline10, "#", "B")
-      myline11 = gsub(myline11, "#", "B")
-      myline12 = gsub(myline12, "#", "B")
-      myline13 = gsub(myline13,"#", "B")
-      myline14 = gsub(myline14, "#", "B")
-      myline15 = gsub(myline15, "#", "B")
-      myline16 = gsub(myline16, "#", "B")
-      myline17 = gsub(myline17, "#", "B")
-      myline18 = gsub(myline18, "#", "B")
-      myline19 = gsub(myline19, "#", "B")
-      myline20 = gsub(myline20, "#", "B")
-      myline21 = gsub(myline21, "#", "B")
-      myline22 = gsub(myline22, "#", "B")
-      myline23 = gsub(myline23, "#", "B")
-      myline24 = gsub(myline24, "#", "B")
-      myline25 = gsub(myline25, "#", "B")
-      myline26 = gsub(myline26, "#", "B")
-      myline27 = gsub(myline27, "#", "B")
-      myline28 = gsub(myline28, "#", "B")
-      myline29 = gsub(myline29, "#", "B")
-      myline30 = gsub(myline30, "#", "B")
-      myline31 = gsub(myline31, "#", "B")
-      myline32 = gsub(myline32, "#", "B")
-      myline33 = gsub(myline33, "#", "B")
-      myline34 = gsub(myline34, "#", "B")
-      myline35 = gsub(myline35, "#", "B")
-      myline36 = gsub(myline36, "#", "B")
 
-      swap = 1
+    myline18 = gsub(myline18, "z", " ")
+    myline0 = gsub(myline0, "#", "B")
+    myline1 = gsub(myline1, "#", "B")
+    myline2 = gsub(myline2, "#", "B")
+    myline3 = gsub(myline3, "#", "B")
+    myline4 = gsub(myline4, "#", "B")
+    myline5 = gsub(myline5, "#", "B")
+    myline6 = gsub(myline6, "#", "B")
+    myline7 = gsub(myline7, "#", "B")
+    myline8 = gsub(myline8, "#", "B")
+    myline9 = gsub(myline9, "#", "B")
+    myline10 = gsub(myline10, "#", "B")
+    myline11 = gsub(myline11, "#", "B")
+    myline12 = gsub(myline12, "#", "B")
+    myline13 = gsub(myline13,"#", "B")
+    myline14 = gsub(myline14, "#", "B")
+    myline15 = gsub(myline15, "#", "B")
+    myline16 = gsub(myline16, "#", "B")
+    myline17 = gsub(myline17, "#", "B")
+    myline18 = gsub(myline18, "#", "B")
+    myline19 = gsub(myline19, "#", "B")
+    myline20 = gsub(myline20, "#", "B")
+    myline21 = gsub(myline21, "#", "B")
+    myline22 = gsub(myline22, "#", "B")
+    myline23 = gsub(myline23, "#", "B")
+    myline24 = gsub(myline24, "#", "B")
+    myline25 = gsub(myline25, "#", "B")
+    myline26 = gsub(myline26, "#", "B")
+    myline27 = gsub(myline27, "#", "B")
+    myline28 = gsub(myline28, "#", "B")
+    myline29 = gsub(myline29, "#", "B")
+    myline30 = gsub(myline30, "#", "B")
+    myline31 = gsub(myline31, "#", "B")
+    myline32 = gsub(myline32, "#", "B")
+    myline33 = gsub(myline33, "#", "B")
+    myline34 = gsub(myline34, "#", "B")
+    myline35 = gsub(myline35, "#", "B")
+    myline36 = gsub(myline36, "#", "B")
 
-      myline0 = gsub(myline0, " ", "#")
-      myline1 = gsub(myline1, " ", "#")
-      myline2 = gsub(myline2, " ", "#")
-      myline3 = gsub(myline3, " ", "#")
-      myline4 = gsub(myline4, " ", "#")
-      myline5 = gsub(myline5, " ", "#")
-      myline6 = gsub(myline6, " ", "#")
-      myline7 = gsub(myline7, " ", "#")
-      myline8 = gsub(myline8, " ", "#")
-      myline9 = gsub(myline9, " ", "#")
-      myline10 = gsub(myline10, " ", "#")
-      myline11 = gsub(myline11, " ", "#")
-      myline12 = gsub(myline12, " ", "#")
-      myline13 = gsub(myline13," ", "#")
-      myline14 = gsub(myline14, " ", "#")
-      myline15 = gsub(myline15, " ", "#")
-      myline16 = gsub(myline16, " ", "#")
-      myline17 = gsub(myline17, " ", "#")
-      myline18 = gsub(myline18, " ", "#")
-      myline19 = gsub(myline19, " ", "#")
-      myline20 = gsub(myline20, " ", "#")
-      myline21 = gsub(myline21, " ", "#")
-      myline22 = gsub(myline22, " ", "#")
-      myline23 = gsub(myline23, " ", "#")
-      myline24 = gsub(myline24, " ", "#")
-      myline25 = gsub(myline25, " ", "#")
-      myline26 = gsub(myline26, " ", "#")
-      myline27 = gsub(myline27, " ", "#")
-      myline28 = gsub(myline28, " ", "#")
-      myline29 = gsub(myline29, " ", "#")
-      myline30 = gsub(myline30, " ", "#")
-      myline31 = gsub(myline31, " ", "#")
-      myline32 = gsub(myline32, " ", "#")
-      myline33 = gsub(myline33, " ", "#")
-      myline34 = gsub(myline34, " ", "#")
-      myline35 = gsub(myline35, " ", "#")
-      myline36 = gsub(myline36, " ", "#")
+    swap = 1
 
-      myline0 = gsub(myline0, "B", " ")
-      myline1 = gsub(myline1, "B", " ")
-      myline2 = gsub(myline2, "B", " ")
-      myline3 = gsub(myline3, "B", " ")
-      myline4 = gsub(myline4, "B", " ")
-      myline5 = gsub(myline5, "B", " ")
-      myline6 = gsub(myline6, "B", " ")
-      myline7 = gsub(myline7, "B", " ")
-      myline8 = gsub(myline8, "B", " ")
-      myline9 = gsub(myline9, "B", " ")
-      myline10 = gsub(myline10, "B", " ")
-      myline11 = gsub(myline11, "B", " ")
-      myline12 = gsub(myline12, "B", " ")
-      myline13 = gsub(myline13,"B", " ")
-      myline14 = gsub(myline14, "B", " ")
-      myline15 = gsub(myline15, "B", " ")
-      myline16 = gsub(myline16, "B", " ")
-      myline17 = gsub(myline17, "B", " ")
-      myline18 = gsub(myline18, "B", " ")
-      myline19 = gsub(myline19, "B", " ")
-      myline20 = gsub(myline20, "B", " ")
-      myline21 = gsub(myline21, "B", " ")
-      myline22 = gsub(myline22, "B", " ")
-      myline23 = gsub(myline23, "B", " ")
-      myline24 = gsub(myline24, "B", " ")
-      myline25 = gsub(myline25, "B", " ")
-      myline26 = gsub(myline26, "B", " ")
-      myline27 = gsub(myline27, "B", " ")
-      myline28 = gsub(myline28, "B", " ")
-      myline29 = gsub(myline29, "B", " ")
-      myline30 = gsub(myline30, "B", " ")
-      myline31 = gsub(myline31, "B", " ")
-      myline32 = gsub(myline32, "B", " ")
-      myline33 = gsub(myline33, "B", " ")
-      myline34 = gsub(myline34, "B", " ")
-      myline35 = gsub(myline35, "B", " ")
-      myline36 = gsub(myline36, "B", " ")
-      swap = 0
+    myline0 = gsub(myline0, " ", "#")
+    myline1 = gsub(myline1, " ", "#")
+    myline2 = gsub(myline2, " ", "#")
+    myline3 = gsub(myline3, " ", "#")
+    myline4 = gsub(myline4, " ", "#")
+    myline5 = gsub(myline5, " ", "#")
+    myline6 = gsub(myline6, " ", "#")
+    myline7 = gsub(myline7, " ", "#")
+    myline8 = gsub(myline8, " ", "#")
+    myline9 = gsub(myline9, " ", "#")
+    myline10 = gsub(myline10, " ", "#")
+    myline11 = gsub(myline11, " ", "#")
+    myline12 = gsub(myline12, " ", "#")
+    myline13 = gsub(myline13," ", "#")
+    myline14 = gsub(myline14, " ", "#")
+    myline15 = gsub(myline15, " ", "#")
+    myline16 = gsub(myline16, " ", "#")
+    myline17 = gsub(myline17, " ", "#")
+    myline18 = gsub(myline18, " ", "#")
+    myline19 = gsub(myline19, " ", "#")
+    myline20 = gsub(myline20, " ", "#")
+    myline21 = gsub(myline21, " ", "#")
+    myline22 = gsub(myline22, " ", "#")
+    myline23 = gsub(myline23, " ", "#")
+    myline24 = gsub(myline24, " ", "#")
+    myline25 = gsub(myline25, " ", "#")
+    myline26 = gsub(myline26, " ", "#")
+    myline27 = gsub(myline27, " ", "#")
+    myline28 = gsub(myline28, " ", "#")
+    myline29 = gsub(myline29, " ", "#")
+    myline30 = gsub(myline30, " ", "#")
+    myline31 = gsub(myline31, " ", "#")
+    myline32 = gsub(myline32, " ", "#")
+    myline33 = gsub(myline33, " ", "#")
+    myline34 = gsub(myline34, " ", "#")
+    myline35 = gsub(myline35, " ", "#")
+    myline36 = gsub(myline36, " ", "#")
 
-   renderLine(00, myline0)
-   renderLine(01, myline1)
-   renderLine(02, myline2)
-   renderLine(03, myline3)
-   renderLine(04, myline4)
-   renderLine(05, myline5)
-   renderLine(06, myline6)
-   renderLine(07, myline7)
-   renderLine(08, myline8)
-   renderLine(09, myline9)
-   renderLine(10, myline10)
-   renderLine(11, myline11)
-   renderLine(12, myline12)
-   renderLine(13, myline13)
-   renderLine(14, myline14)
-   renderLine(15, myline15)
-   renderLine(16, myline16)
-   renderLine(17, myline17)
-   renderLine(18, myline18)
-   renderLine(19, myline19)
-   renderLine(20, myline20)
-   renderLine(21, myline21)
-   renderLine(22, myline22)
-   renderLine(23, myline23)
-   renderLine(24, myline24)
-   renderLine(25, myline25)
-   renderLine(26, myline26)
-   renderLine(27, myline27)
-   renderLine(28, myline28)
-   renderLine(29, myline29)
-   renderLine(30, myline30)
-   renderLine(31, myline31)
-   renderLine(32, myline32)
-   renderLine(33, myline33)
-   renderLine(34, myline34)
-   renderLine(35, myline35)
-   renderLine(36, myline36)
-   if through==1 then
-      through=0
-   end
-   through=through+1
+    myline0 = gsub(myline0, "B", " ")
+    myline1 = gsub(myline1, "B", " ")
+    myline2 = gsub(myline2, "B", " ")
+    myline3 = gsub(myline3, "B", " ")
+    myline4 = gsub(myline4, "B", " ")
+    myline5 = gsub(myline5, "B", " ")
+    myline6 = gsub(myline6, "B", " ")
+    myline7 = gsub(myline7, "B", " ")
+    myline8 = gsub(myline8, "B", " ")
+    myline9 = gsub(myline9, "B", " ")
+    myline10 = gsub(myline10, "B", " ")
+    myline11 = gsub(myline11, "B", " ")
+    myline12 = gsub(myline12, "B", " ")
+    myline13 = gsub(myline13,"B", " ")
+    myline14 = gsub(myline14, "B", " ")
+    myline15 = gsub(myline15, "B", " ")
+    myline16 = gsub(myline16, "B", " ")
+    myline17 = gsub(myline17, "B", " ")
+    myline18 = gsub(myline18, "B", " ")
+    myline19 = gsub(myline19, "B", " ")
+    myline20 = gsub(myline20, "B", " ")
+    myline21 = gsub(myline21, "B", " ")
+    myline22 = gsub(myline22, "B", " ")
+    myline23 = gsub(myline23, "B", " ")
+    myline24 = gsub(myline24, "B", " ")
+    myline25 = gsub(myline25, "B", " ")
+    myline26 = gsub(myline26, "B", " ")
+    myline27 = gsub(myline27, "B", " ")
+    myline28 = gsub(myline28, "B", " ")
+    myline29 = gsub(myline29, "B", " ")
+    myline30 = gsub(myline30, "B", " ")
+    myline31 = gsub(myline31, "B", " ")
+    myline32 = gsub(myline32, "B", " ")
+    myline33 = gsub(myline33, "B", " ")
+    myline34 = gsub(myline34, "B", " ")
+    myline35 = gsub(myline35, "B", " ")
+    myline36 = gsub(myline36, "B", " ")
+    swap = 0
+
+    renderLine(00, myline0)
+    renderLine(01, myline1)
+    renderLine(02, myline2)
+    renderLine(03, myline3)
+    renderLine(04, myline4)
+    renderLine(05, myline5)
+    renderLine(06, myline6)
+    renderLine(07, myline7)
+    renderLine(08, myline8)
+    renderLine(09, myline9)
+    renderLine(10, myline10)
+    renderLine(11, myline11)
+    renderLine(12, myline12)
+    renderLine(13, myline13)
+    renderLine(14, myline14)
+    renderLine(15, myline15)
+    renderLine(16, myline16)
+    renderLine(17, myline17)
+    renderLine(18, myline18)
+    renderLine(19, myline19)
+    renderLine(20, myline20)
+    renderLine(21, myline21)
+    renderLine(22, myline22)
+    renderLine(23, myline23)
+    renderLine(24, myline24)
+    renderLine(25, myline25)
+    renderLine(26, myline26)
+    renderLine(27, myline27)
+    renderLine(28, myline28)
+    renderLine(29, myline29)
+    renderLine(30, myline30)
+    renderLine(31, myline31)
+    renderLine(32, myline32)
+    renderLine(33, myline33)
+    renderLine(34, myline34)
+    renderLine(35, myline35)
+    renderLine(36, myline36)
+    if through==1 then
+        through=0
+    end
+    through=through+1
 end
 
 -- Floor:  " "
 -- Border: "#"
 -- Oxyd:   "o"
- 
+
 myline0 ="mooommmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm"
 myline1 ="o#### # #   #              #      #   #   #   #          m"
 myline2 ="o#oo# #   #### ########### ####h#   #   # # # # ######## m"
@@ -291,48 +294,46 @@
 myline35="m                                            #     # #hhhm"
 myline36="mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm"
 
-   renderLine(00, myline0)
-   renderLine(01, myline1)
-   renderLine(02, myline2)
-   renderLine(03, myline3)
-   renderLine(04, myline4)
-   renderLine(05, myline5)
-   renderLine(06, myline6)
-   renderLine(07, myline7)
-   renderLine(08, myline8)
-   renderLine(09, myline9)
-   renderLine(10, myline10)
-   renderLine(11, myline11)
-   renderLine(12, myline12)
-   renderLine(13, myline13)
-   renderLine(14, myline14)
-   renderLine(15, myline15)
-   renderLine(16, myline16)
-   renderLine(17, myline17)
-   renderLine(18, myline18)
-   renderLine(19, myline19)
-   renderLine(20, myline20)
-   renderLine(21, myline21)
-   renderLine(22, myline22)
-   renderLine(23, myline23)
-   renderLine(24, myline24)
-   renderLine(25, myline25)
-   renderLine(26, myline26)
-   renderLine(27, myline27)
-   renderLine(28, myline28)
-   renderLine(29, myline29)
-   renderLine(30, myline30)
-   renderLine(31, myline31)
-   renderLine(32, myline32)
-   renderLine(33, myline33)
-   renderLine(34, myline34)
-   renderLine(35, myline35)
-   renderLine(36, myline36)
+renderLine(00, myline0)
+renderLine(01, myline1)
+renderLine(02, myline2)
+renderLine(03, myline3)
+renderLine(04, myline4)
+renderLine(05, myline5)
+renderLine(06, myline6)
+renderLine(07, myline7)
+renderLine(08, myline8)
+renderLine(09, myline9)
+renderLine(10, myline10)
+renderLine(11, myline11)
+renderLine(12, myline12)
+renderLine(13, myline13)
+renderLine(14, myline14)
+renderLine(15, myline15)
+renderLine(16, myline16)
+renderLine(17, myline17)
+renderLine(18, myline18)
+renderLine(19, myline19)
+renderLine(20, myline20)
+renderLine(21, myline21)
+renderLine(22, myline22)
+renderLine(23, myline23)
+renderLine(24, myline24)
+renderLine(25, myline25)
+renderLine(26, myline26)
+renderLine(27, myline27)
+renderLine(28, myline28)
+renderLine(29, myline29)
+renderLine(30, myline30)
+renderLine(31, myline31)
+renderLine(32, myline32)
+renderLine(33, myline33)
+renderLine(34, myline34)
+renderLine(35, myline35)
+renderLine(36, myline36)
 
 oxyd_shuffle()
 done_with_setup = 1
-
-display.SetFollowMode(display.FOLLOW_SCROLLING)
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: branches/1.0/data/levels/enigma_i/duffy79_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/duffy79_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/duffy79_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Oxyd Maze" el:subtitle="" el:id="duffy79"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -113,7 +113,7 @@
         elseif c=="+" then
             set_stone( "st-wood", i-1, line)
          end
-    end    
+    end
 end
 
 counter = {}

Modified: branches/1.0/data/levels/enigma_i/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_i/index.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_i/index.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="2" title="Enigma I"/>
+  <info enigma="1.00" group="Enigma" location="10200" network="false" owner="Enigma Team" release="1" revision="3" title="Enigma I"/>
 
   <attributes/>
 
@@ -10,7 +10,7 @@
     <level _seq="2" _title="The Doors" _xpath="./siegfried11_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="3" _title="Archipelago" _xpath="./martin12_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="4" _title="Flying" _xpath="./luc07_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc07" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="5" _title="Snakes" _xpath="./duffy19_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy19" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="5" _title="Snakes" _xpath="./duffy19_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy19" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Welcome to the Machine" _xpath="./ralf03_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="7" _title="Sok It To 'Em" _xpath="./nat07_1" author="Nat Pryce" ctrl="force" easy="false" id="nat7" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="8" _title="Easy?" _xpath="./ss01_1" author="Sven Siggelkow" ctrl="force" easy="false" id="ss1" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -34,13 +34,13 @@
     <level _seq="26" _title="Uhh-Steady!" _xpath="./siegfried05_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="27" _title="Lissajous' Revenge" _xpath="./andreas12_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="28" _title="Mossy Paths" _xpath="./martin02_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin02" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="29" _title="No Jumping Necessary" _xpath="./duffy46_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy46" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="29" _title="No Jumping Necessary" _xpath="./duffy46_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy46" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="- Meditation -" _xpath="./siegfried39_1" author="anonymous" ctrl="force" easy="false" id="meditation6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="31" _title="Where am I?" _xpath="./martin68_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin68" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="32" _title="The Grim Reaper" _xpath="./daniel11_1" author="Daniel Heck" ctrl="force" easy="true" id="space" rel="1" rev="3" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Enigmawale" _xpath="./alain20_1" author="Alain Busser" ctrl="force" easy="true" id="alain20" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="Slalom" _xpath="./martin76_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin76" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="The Document" _xpath="./duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="35" _title="The Document" _xpath="./duffy04_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy4" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="36" _title="Space Travels" _xpath="./siegfried30_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level10b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="37" _title=".J.U.M.P." _xpath="./martin60_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin60" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="38" _title="Encased" _xpath="./xerxes01_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes01" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -51,7 +51,7 @@
     <level _seq="43" _title="Sokoban Revival" _xpath="./martin04_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin04" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Dead Ball Walking" _xpath="./illmind08_1" author="illmind" ctrl="force" easy="false" id="illmind08" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Duck and Cover" _xpath="./nat02_1" author="Nat Pryce" ctrl="force" easy="false" id="nat2" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="46" _title="Oxyd Maze" _xpath="./duffy79_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy79" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="46" _title="Oxyd Maze" _xpath="./duffy79_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy79" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Mission Impossible" _xpath="./martin14_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin14" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Hurry!" _xpath="./jc01_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="49" _title="Hall of Glass" _xpath="./martin86_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin86" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -63,13 +63,13 @@
     <level _seq="55" _title="Mirror Room II" _xpath="./luc17_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc17" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="56" _title="Castle Maze" _xpath="./luc19_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Light Switches" _xpath="./martin08_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin08" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="58" _title="Islands" _xpath="./duffy10_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy10" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="58" _title="Islands" _xpath="./duffy10_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy10" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="59" _title="Simon Says" _xpath="./nat12_1" author="Nat Pryce" ctrl="force" easy="false" id="nat12" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- Meditation -" _xpath="./siegfried35_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation14" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Feel Your Way" _xpath="./siegfried06_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="62" _title="Good Luck!" _xpath="./siegfried08_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Tubes" _xpath="./siegfried09_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3e" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="64" _title="Turbulence" _xpath="./duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="64" _title="Turbulence" _xpath="./duffy24_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy24" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Lasers 101" _xpath="./daniel08_1" author="Daniel Heck" ctrl="force" easy="false" id="lasers101" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Not Hard Atoll" _xpath="./martin33_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin33" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Black Lava" _xpath="./ant12_1" author="Petr Machata" ctrl="force" easy="false" id="ant12" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -79,11 +79,11 @@
     <level _seq="71" _title="Spiral Race" _xpath="./wb06_1" author="Jon 'WB' Sneyers" ctrl="force" easy="false" id="wb6" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="Way To Go" _xpath="./daniel09_1" author="Daniel Heck" ctrl="force" easy="false" id="mirrors" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Formentera!" _xpath="./luc06_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc06" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="If They'd Just Hold Still" _xpath="./duffy21_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy21" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Ibiza!" _xpath="./ralf02_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Puzzle Hacker" _xpath="./ant01_1" author="Petr Machata" ctrl="force" easy="false" id="ant01" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="77" _title="Cage The Lions" _xpath="./duffy47_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy47" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Confetti" _xpath="./duffy74_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy74" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="77" _title="Cage The Lions" _xpath="./duffy47_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy47" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Confetti" _xpath="./duffy74_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy74" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Why So Slow?" _xpath="./jc03_1" author="Jens-Christian Korth" ctrl="force" easy="false" id="jc03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="80" _title="- Meditation -" _xpath="./siegfried38_1" author="anonymous" ctrl="force" easy="false" id="meditation5" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Where's The Gardener?" _xpath="./siegfried28_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9e" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -92,20 +92,20 @@
     <level _seq="84" _title="Escher's World" _xpath="./ant09_1" author="Petr Machata" ctrl="force" easy="false" id="ant09" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="85" _title="Balancing Act" _xpath="./nat09_1" author="Nat Pryce" ctrl="force" easy="false" id="nat9" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="86" _title="Floppy Floors" _xpath="./andreas24_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas24" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="87" _title="Space Tubes" _xpath="./duffy13_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy13" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="87" _title="Space Tubes" _xpath="./duffy13_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy13" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Balance" _xpath="./erich01_1" author="Erich Schubert" ctrl="force" easy="false" id="balance" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="89" _title="More Space Tubes" _xpath="./duffy33_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy33" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="89" _title="More Space Tubes" _xpath="./duffy33_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy33" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="90" _title="- Meditation -" _xpath="./raoul04_1" author="Raoul Bourquin" ctrl="force" easy="true" id="raoul04" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="91" _title="Civil Engineer" _xpath="./duffy122_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy122" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="92" _title="Security Guards" _xpath="./duffy108_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy108" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="91" _title="Civil Engineer" _xpath="./duffy122_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy122" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="92" _title="Security Guards" _xpath="./duffy108_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy108" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Time is Money" _xpath="./nat11_2" author="Nat Pryce" ctrl="force" easy="false" id="nat11" rel="2" rev="0" score="2" target="time" unit="duration"/>
     <level _seq="94" _title="Growing The Doors" _xpath="./martin88_2" author="Martin Hawlisch" ctrl="force" easy="false" id="martin88" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="95" _title="Impulsive" _xpath="./ant13_1" author="Petr Machata" ctrl="force" easy="false" id="ant13" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="96" _title="Jump!" _xpath="./duffy07_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy7" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="96" _title="Jump!" _xpath="./duffy07_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy7" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Hit the Right One" _xpath="./martin77_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin77" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="98" _title="Island Paradise" _xpath="./duffy100_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy100" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="98" _title="Island Paradise" _xpath="./duffy100_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy100" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="The Racetrack" _xpath="./martin31_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin31" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Variety Pack" _xpath="./duffy101_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy101" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Variety Pack" _xpath="./duffy101_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy101" rel="1" rev="1" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>

Modified: branches/1.0/data/levels/enigma_ii/duffy02_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy02_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy02_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="The Disappearing Block" el:subtitle="" el:id="duffy2"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,11 +16,14 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 39
-levelh = 13
+rooms_wide=2
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
-enigma.ConserveLevel=FALSE
+enigma.ConserveLevel = 0
 
 draw_border("st-greenbrown")
 fill_floor("fl-hay")

Modified: branches/1.0/data/levels/enigma_ii/duffy03_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy03_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy03_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Laser Spiral" el:subtitle="" el:id="duffy3"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
 draw_border("st-greenbrown")
 fill_floor("fl-hay")

Modified: branches/1.0/data/levels/enigma_ii/duffy103_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy103_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy103_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Bungeeball" el:subtitle="" el:id="duffy103"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -23,7 +23,7 @@
 levelh=1+(12*rooms_high)
 
 create_world( levelw, levelh)
-enigma.ConserveLevel=FALSE
+enigma.ConserveLevel = 0
 
 fill_floor("fl-himalaya", 0,0,levelw,levelh)
 
@@ -33,47 +33,47 @@
         if c =="#" then
             set_stone( "st-rock6", i-1, line)
         elseif c =="A" then
-           set_stone( "st-rock4", i-1, line,{name="A"})
+            set_stone( "st-rock4", i-1, line,{name="A"})
         elseif c =="B" then
-           set_stone( "st-rock4", i-1, line,{name="B"})
+            set_stone( "st-rock4", i-1, line,{name="B"})
         elseif c =="C" then
-           set_stone( "st-rock4", i-1, line,{name="C"})
+            set_stone( "st-rock4", i-1, line,{name="C"})
         elseif c =="D" then
-           set_stone( "st-rock4", i-1, line,{name="D"})
+            set_stone( "st-rock4", i-1, line,{name="D"})
         elseif c =="E" then
-           set_stone( "st-rock4", i-1, line,{name="E"})
+            set_stone( "st-rock4", i-1, line,{name="E"})
         elseif c =="F" then
-           set_stone( "st-rock4", i-1, line,{name="F"})
+            set_stone( "st-rock4", i-1, line,{name="F"})
         elseif c =="G" then
-           set_stone( "st-rock4", i-1, line,{name="G"})
+            set_stone( "st-rock4", i-1, line,{name="G"})
         elseif c == "o" then
             oxyd( i-1, line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-.5,line+.5, {controllers=1, player=0,name="z"})
+            set_actor("ac-blackball", i-.5,line+.5, {controllers=1, player=0,name="z"})
         elseif c=="a" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="a",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="a",controllers=0, mouseforce=0, player=1})
         elseif c=="b" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="b",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="b",controllers=0, mouseforce=0, player=1})
         elseif c=="c" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="c",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="c",controllers=0, mouseforce=0, player=1})
         elseif c=="d" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="d",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="d",controllers=0, mouseforce=0, player=1})
         elseif c=="e" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="e",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="e",controllers=0, mouseforce=0, player=1})
         elseif c=="f" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="f",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="f",controllers=0, mouseforce=0, player=1})
         elseif c=="h" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="h",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="h",controllers=0, mouseforce=0, player=1})
         elseif c=="i" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="i",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="i",controllers=0, mouseforce=0, player=1})
         elseif c=="j" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {name="j",controllers=0, mouseforce=0, player=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {name="j",controllers=0, mouseforce=0, player=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -82,8 +82,8 @@
             set_floor("fl-space",i-1,line)
         elseif c=="H" then
             set_item("it-hollow",i-1,line)
-         end
-    end    
+        end
+    end
 end
 
 renderLine(00,"####################")

Modified: branches/1.0/data/levels/enigma_ii/duffy118_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy118_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy118_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Kaleidoscope" el:subtitle="" el:id="duffy118"/>
-      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="2" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -37,27 +37,27 @@
             oxyd( i-1, line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-.5,line+.5, {player=0})
+            set_actor("ac-blackball", i-.5,line+.5, {player=0})
         elseif c=="y" then
-           set_actor("ac-whiteball", i-1,line+.5, {player=1})
+            set_actor("ac-whiteball", i-1,line+.5, {player=1})
         elseif c=="S" then
-           set_actor("ac-top", i-.5,line+.5, {range=100,force=5,player=1})
+            set_actor("ac-top", i-.5,line+.5, {range=100,force=5,player=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
             set_stone( "st-wood", i-1, line)
         elseif c=="=" then
-           set_floor("fl-space",i-1,line)
+            set_floor("fl-space",i-1,line)
         elseif c=="T" then
-           set_stone("st-timer",i-1,line,{interval=1,loop=1,action="callback",target="funcctimer"})
+            set_stone("st-timer",i-1,line,{interval=1,loop=1,action="callback",target="funcctimer"})
         end
-         end    
-      end
+    end
+end
 
 renderLine(00,"XXXXXXXXXXXXXXXXXXXXT")
 renderLine(01,"X     o      o     X ")
@@ -358,12 +358,10 @@
 -- brickp=89
 -- dunesp=92
 -- springboardp=94
-
       end
 end
 
 funcctimer()
-
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: branches/1.0/data/levels/enigma_ii/duffy120_2.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy120_2.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy120_2.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Snowing" el:subtitle="" el:id="duffy120"/>
-      <el:version el:score="2" el:release="2" el:revision="2" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="3" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -40,11 +40,11 @@
         elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-.5,line+.5, {player=0})
+            set_actor("ac-blackball", i-.5,line+.5, {player=0})
         elseif c=="y" then
-           set_actor("ac-whiteball", i-1,line+.5, {player=1})
+            set_actor("ac-whiteball", i-1,line+.5, {player=1})
         elseif c=="t" then
             if difficult==false then
                 set_actor("ac-top", i-.5,line+.5, {force=25,range=30,controllers=0,player=1})
@@ -58,9 +58,9 @@
         elseif c=="=" then
             set_floor("fl-space",i-1,line)
         elseif c=="T" then
-           set_stone("st-timer",i-1,line,{loop=1,interval=0.2,action="callback",target="funcc1"})
+            set_stone("st-timer",i-1,line,{loop=1,interval=0.2,action="callback",target="funcc1"})
         end
-    end    
+    end
 end
 
 renderLine(00,"####################T")

Modified: branches/1.0/data/levels/enigma_ii/duffy128_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy128_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy128_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Patterns" el:subtitle="" el:id="duffy128"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -316,7 +316,7 @@
            set_stone("st-fourswitch",i-1,line,{name=("ssd"..psnum),action="callback",target=("funccxp"..psnum)})
 psnum=psnum+1
          end
-    end    
+    end
 end
 
 renderLine(00,"#############################################################################################################################################!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!##############################!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ")
@@ -334,9 +334,9 @@
 renderLine(12,"#############################################################################################################################################!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!##############################!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ")
 
 
---                                                 DRURDLDRD                                                                 342 411 414 423 432 441 444                                                                  4 1 2 4 1                                                              
---                                                                                                                                                                                                                                                                                               
---                                                 321234323                                                                                                                                                          4 2 1 4 3 1 4                                                              
+--                                                 DRURDLDRD                                                                 342 411 414 423 432 441 444                                                                  4 1 2 4 1
+--
+--                                                 321234323                                                                                                                                                          4 2 1 4 3 1 4
 
 
 oxyd_shuffle()
@@ -772,7 +772,7 @@
 end
 
 ffc=0
-   
+
 function funcctcheck()
    if tpos4==3 and ffc==0 then
       enigma.SendMessage(enigma.GetNamedObject("laser1"),"on",nil)

Modified: branches/1.0/data/levels/enigma_ii/duffy30_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy30_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy30_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puzzling Controls" el:subtitle="" el:id="duffy30"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=25
-levelh=15
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-hay", 0,0,levelw,levelh)
@@ -65,7 +68,6 @@
             set_stone("st-oxyd", i-1, line,{color="7",name="o16"})
         elseif c == "!" then
             abyss(i-1,line)
-            --                   fill_floor("fl-water", i-1,line, 1,1)
         elseif c=="z" then
             set_actor("ac-blackball", i-.5,line+.5)
         elseif c == "A" then
@@ -126,8 +128,8 @@
             puzzle(i-1,line,PUZ_1001)
         elseif c == "L" then
             puzzle(i-1,line,PUZ_1100)
+        end
     end
-    end    
 end
 
 -- Floor:  " "

Modified: branches/1.0/data/levels/enigma_ii/duffy31_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy31_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy31_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Alien Glyphs" el:subtitle="" el:id="duffy31"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=100
-levelh=50
+rooms_wide=5
+rooms_high=3
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-bluegreen", 0,0,levelw,levelh)
@@ -97,7 +100,7 @@
         elseif c=="F" then
             set_stone("st-switch", i-1,line, {action="callback",target="funcc26"})
         end
-    end    
+    end
 end
 
 -- Floor:  " "
@@ -142,16 +145,16 @@
 renderLine(35,"#                  #                  #                  #                 F#                  #")
 renderLine(36,"################################################################################################")
 
--- ## # 
+-- ## #
 --  ####
 --    ##
--- ###  
---    # 
+-- ###
+--    #
 
--- # #  
+-- # #
 --  ####
---  #   
--- #### 
+--  #
+-- ####
 -- # ###
 
 oxyd_shuffle()
@@ -581,10 +584,10 @@
 end
 end
 
--- # #  
+-- # #
 --  ####
---  #   
--- #### 
+--  #
+-- ####
 --   ###
 -- 1,0,1,0,0
 -- 0,1,1,1,1
@@ -592,11 +595,11 @@
 -- 1,1,1,1,0
 -- 0,0,1,1,1
 function funcc26()
-    if  f1==1 and f2==0 and f3==1 and f4==0 and f5==0 
-        and  f6==0 and f7==1 and f8==1 and f9==1 and f10==1 
-        and f11==0 and f12==1 and f13==0 and f14==0 and f15==0 
-        and f16==1 and f17==1 and f18==1 and f19==1 and f20==0 
-        and f21==1 and f22==0 and f23==1 and f24==1 and f25==1 
+    if  f1==1 and f2==0 and f3==1 and f4==0 and f5==0
+        and  f6==0 and f7==1 and f8==1 and f9==1 and f10==1
+        and f11==0 and f12==1 and f13==0 and f14==0 and f15==0
+        and f16==1 and f17==1 and f18==1 and f19==1 and f20==0
+        and f21==1 and f22==0 and f23==1 and f24==1 and f25==1
     then
         SendMessage("door1", "openclose")
     SendMessage("door2", "openclose")

Modified: branches/1.0/data/levels/enigma_ii/duffy38_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy38_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy38_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Drunk" el:subtitle="" el:id="duffy38"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
 
 fill_floor("fl-hay")
@@ -149,28 +152,28 @@
 function timer_handler()
     mytimer=mytimer+1
     if mytimer==1 then
-    x=20
-    y=20
+        x=20
+        y=20
     end
     if mytimer==2 then
-    x=-20
-    y=-20
+        x=-20
+        y=-20
     end
     if mytimer==3 then
-    x=20
-    y=-20    
+        x=20
+        y=-20
     end
     if mytimer==4 then
-    x=0
-    y=0
-    x=-20
-    y=20
-    SendMessage("door2", "openclose")
-    mytimer=0
+        x=0
+        y=0
+        x=-20
+        y=20
+        SendMessage("door2", "openclose")
+        mytimer=0
     end
     enigma.AddConstantForce(x,y)
 end
-  
+
 set_stone( "st-timer", 0, 0, {action="callback", target="timer_handler"})
 
 set_actor("ac-blackball" ,17.5, 2)

Modified: branches/1.0/data/levels/enigma_ii/duffy42_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy42_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy42_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Inverted Laser Spiral" el:subtitle="" el:id="duffy42"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 20
-levelh = 13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
 
 draw_border("st-greenbrown")
@@ -29,11 +32,11 @@
         local c = strsub( pattern, i, i)
         if c =="#" then
             set_stone("st-greenbrown",i-1,line)
-        elseif c == "z" then    
+        elseif c == "z" then
             set_actor("ac-blackball", i-.5,line+1)
         elseif c == "o" then
             oxyd(i-1,line)
-        elseif c == "@" then    
+        elseif c == "@" then
             hollow(i-1,line)
         elseif c == "/" then
             mirrorp(i-1,line,FALSE,FALSE, 4)
@@ -41,7 +44,7 @@
             mirrorp(i-1,line,FALSE,FALSE, 2)
         elseif c == "?" then
             mirrorp(i-1,line,TRUE,TRUE, 1)
-        elseif c == "x" then    
+        elseif c == "x" then
             set_item("it-key_a", i-1 ,line)
         elseif c == "u" then
             set_attrib(laser(i-1,line, TRUE, NORTH), "name", "laser")

Modified: branches/1.0/data/levels/enigma_ii/duffy45_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy45_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy45_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Washing Machine" el:subtitle="" el:id="duffy45"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=50
-levelh=30
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-metal", 0,0,levelw,levelh)
@@ -29,16 +32,15 @@
         if c =="#" then
             set_stone( "st-greenbrown", i-1, line)
         elseif c == "!" then
---            abyss(i-1,line)
             fill_floor("fl-water", i-1,line, 1,1)
         elseif c == " " then
             abyss(i-1,line)
         elseif c=="w" then
             set_actor("ac-whiteball-small", i-.5,line+.5, {player=0, mouseforce=1})
         elseif c=="H" then
-           hollow(i-1,line)
+            hollow(i-1,line)
         elseif c=="*" then
-           set_stone("st-greenbrown",i-1,line)
+            set_stone("st-greenbrown",i-1,line)
         elseif c=="r" then
             set_floor("fl-gradient", i-1,line , {type=23})
         elseif c=="l" then
@@ -62,15 +64,15 @@
         elseif c=="x" then
             set_floor("fl-metal", i-1,line)
         end
-    end    
+    end
 end
- 
+
 renderLine(00,"   #############    ")
 renderLine(01,"   #RrrrrrddddD#    ")
 renderLine(02,"   #rrrrrrddddd#    ")
-renderLine(03,"   #rrrrrrddddd#    ") 
+renderLine(03,"   #rrrrrrddddd#    ")
 renderLine(04,"   #rrrrrrddddd#    ")
-renderLine(05,"   #rrrrHrHdddd#    ")   
+renderLine(05,"   #rrrrHrHdddd#    ")
 renderLine(06,"   #uuuuu ddddd#    ")
 renderLine(07,"   #uuuuHlHllll#    ")
 renderLine(08,"   #uuuuullllll#    ")

Modified: branches/1.0/data/levels/enigma_ii/duffy48_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy48_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy48_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Blocks and Grates" el:subtitle="" el:id="duffy48"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw = 40
-levelh = 13
+rooms_wide=2
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world(levelw, levelh)
 
 draw_border("st-greenbrown")
@@ -29,7 +32,7 @@
         local c = strsub( pattern, i, i)
         if c =="#" then
             set_stone("st-greenbrown",i-1,line)
-        elseif c == "z" then    
+        elseif c == "z" then
             set_actor("ac-blackball", i-.5,line+.5)
         elseif c == "o" then
             oxyd(i-1,line)

Modified: branches/1.0/data/levels/enigma_ii/duffy59_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy59_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy59_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Space Meditation" el:subtitle="" el:id="duffy59"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2003 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=20
-levelh=13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-leaves", 0,0,levelw,levelh)
@@ -32,10 +35,10 @@
             oxyd( i-1, line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c=="w" then
-           set_actor("ac-whiteball-small", i-.5,line+.5, {player=0,mouseforce=1})
+            set_actor("ac-whiteball-small", i-.5,line+.5, {player=0,mouseforce=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -43,12 +46,12 @@
         elseif c=="=" then
             set_floor("fl-space",i-1,line)
         elseif c=="A" then
-           set_item("it-hollow",i-1,line)
+            set_item("it-hollow",i-1,line)
         elseif c=="B" then
-           set_floor("fl-space",i-1,line)
-           set_item("it-hollow",i-1,line)
-         end
-    end    
+            set_floor("fl-space",i-1,line)
+            set_item("it-hollow",i-1,line)
+        end
+    end
 end
 
 renderLine(00,"####################")

Modified: branches/1.0/data/levels/enigma_ii/duffy80_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy80_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy80_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Path in the Stars" el:subtitle="" el:id="duffy80"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=20
-levelh=13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-bluegreen", 0,0,levelw,levelh)
@@ -42,7 +45,7 @@
         elseif c == "z" then
             set_actor("ac-blackball", i-1+.5,line+.5, {player=0})
         end
-    end    
+    end
 end
 
 -- Floor:  " "
@@ -56,19 +59,17 @@
 renderLine(04,"!+!!+!!!!+!!!++!+!o!")
 renderLine(05,"!=++=!=+++++=!+++!!!")
 renderLine(06,"!!!!!!+!!+!!+!!=++=!")
-
+if not difficult then
+    renderLine(07,"!!ozf+++++++=!!!+!+!")
+else
+    renderLine(07,"!!oz=+++++++=!!!+!+!")
+end
 renderLine(08,"!!!!!!+!!+!!!!!!+!+!")
 renderLine(09,"!=+++++++=!=++++++=!")
 renderLine(10,"!+!!!!+!!!!+!!!!+!!!")
 renderLine(11,"!=++++=!!!!=++++=!!!")
 renderLine(12,"!!!!!!!!!!!!!!!!!!!!")
 
-if not difficult then
-    renderLine(07,"!!ozf+++++++=!!!+!+!")
-else
-    renderLine(07,"!!oz=+++++++=!!!+!+!")
-end
-
 oxyd_shuffle()
     ]]></el:luamain>
     <el:i18n>

Modified: branches/1.0/data/levels/enigma_ii/duffy87_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy87_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy87_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Puppet" el:subtitle="" el:id="duffy87"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,9 +16,12 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=21
-levelh=13
+rooms_wide=1
+rooms_high=1
 
+levelw=1+(19*rooms_wide)
+levelh=1+(12*rooms_high)
+
 create_world( levelw, levelh)
 
 fill_floor("fl-hay", 0,0,levelw,levelh)
@@ -43,10 +46,10 @@
         elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-.5,line+.5, {player=0})
-           set_floor("fl-normal",i-1,line)
+            set_actor("ac-blackball", i-.5,line+.5, {player=0})
+            set_floor("fl-normal",i-1,line)
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -82,30 +85,30 @@
             set_floor("fl-gradient",  i-1,  line, {type=10})
             set_item("it-ring",i-1,line)
         elseif c=="F" then
-           set_floor("fl-normal",i-1,line)
-           set_item("it-flagblack",i-1,line)
+            set_floor("fl-normal",i-1,line)
+            set_item("it-flagblack",i-1,line)
         elseif c=="m" then
-           set_floor("fl-normal",i-1,line)
+            set_floor("fl-normal",i-1,line)
         elseif c=="R" then
-           set_actor("ac-rotor", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
-              set_item("it-trigger", i-1,line, {action="open", target="door1"})
+            set_actor("ac-rotor", i-.5,line+.5, {player=1, mouseforce=0, range=30, force=30})
+            set_item("it-trigger", i-1,line, {action="open", target="door1"})
         elseif c=="Q" then
-           set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
         elseif c=="S" then
-           set_floor("fl-normal",i-1,line)
-           set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
+            set_floor("fl-normal",i-1,line)
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
         elseif c=="s" then
-           set_floor("fl-gradient",  i-1,  line, {type=12})
-           set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
+            set_floor("fl-gradient",  i-1,  line, {type=12})
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
         elseif c=="q" then
-           set_floor("fl-gradient",  i-1,  line, {type=9})
-           set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
+            set_floor("fl-gradient",  i-1,  line, {type=9})
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="10.5",targety="6.5"})
         elseif c=="T" then
-              set_item("it-trigger", i-1,line, {action="close", target="door1"})
+            set_item("it-trigger", i-1,line, {action="close", target="door1"})
         elseif c=="t" then
-           set_stone("st-door_a",i-1,line,{name="door1"})
-         end
-    end    
+            set_stone("st-door_a",i-1,line,{name="door1"})
+        end
+    end
 end
 
 renderLine(00,"%%%%%%%%%%%%%%%%%%%%")

Modified: branches/1.0/data/levels/enigma_ii/duffy89_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy89_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy89_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Almost There" el:subtitle="" el:id="duffy89"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -16,10 +16,14 @@
       <el:score el:easy="-" el:difficult="-"/>
     </el:info>
     <el:luamain><![CDATA[
-levelw=140
-levelh=75
+rooms_wide=6
+rooms_high=6
 
+levelw=1+(19*rooms_wide)+4
+levelh=1+(12*rooms_high)+1
+
 create_world( levelw, levelh)
+display.SetFollowMode(display.FOLLOW_SCROLLING)
 
 fill_floor("fl-hay", 0,0,levelw,levelh)
 
@@ -32,12 +36,12 @@
             oxyd( i-1, line)
         elseif c == "*" then
             set_stone( "st-brownie", i-1, line)
-                elseif c == "!" then
+        elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-1,line+.5, {player=0})
+            set_actor("ac-blackball", i-1,line+.5, {player=0})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -49,63 +53,63 @@
             set_floor("fl-ice",i-1,line)
             set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="x" then
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="X" then
-             set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="i" then
-           set_stone("st-invisible",i-1,line)
+            set_stone("st-invisible",i-1,line)
         elseif c=="F" then
-           set_stone("st-fart",i-1,line)
+            set_stone("st-fart",i-1,line)
         elseif c=="H" then
-           set_item("it-hammer",i-1,line)
+            set_item("it-hammer",i-1,line)
         elseif c=="w" then
-           set_item("it-wormhole", i-1, line, {strength=0,targetx="28",targety="6.5"})
+            set_item("it-wormhole", i-1, line, {strength=0,targetx="28",targety="6.5"})
         elseif c == "d" then --1-d
             set_floor("fl-gradient",  i-1,  line, {type=1})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "u" then --2-u
             set_floor("fl-gradient",  i-1,  line, {type=2})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "r" then --3-r
             set_floor("fl-gradient",  i-1,  line, {type=3})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "l" then --4-l
             set_floor("fl-gradient",  i-1,  line, {type=4})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "1" then --ur
             set_floor("fl-gradient",  i-1,  line, {type=11})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "3" then --dl
             set_floor("fl-gradient",  i-1,  line, {type=9})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "7" then --dr
             set_floor("fl-gradient",  i-1,  line, {type=12})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c == "9" then --ul
             set_floor("fl-gradient",  i-1,  line, {type=10})
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="A" then
-           set_item("it-hollow", i-1, line)
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_item("it-hollow", i-1, line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="a" then
-           set_item("it-tinyhollow", i-1, line)
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_item("it-tinyhollow", i-1, line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="B" then
-           set_item("it-hill", i-1, line)
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_item("it-hill", i-1, line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="b" then
-           set_item("it-tinyhill", i-1, line)
-           set_stone("st-greenbrown_hole",i-1,line)
+            set_item("it-tinyhill", i-1, line)
+            set_stone("st-greenbrown_hole",i-1,line)
         elseif c=="J" then
-             set_item("it-vortex-open", i-1, line, {targetx="106.5",targety="14.5"})
+            set_item("it-vortex-open", i-1, line, {targetx="106.5",targety="14.5"})
         elseif c=="K" then
-             set_item("it-vortex-open", i-1, line, {targetx="3.5",targety="43.5"})
+            set_item("it-vortex-open", i-1, line, {targetx="3.5",targety="43.5"})
         elseif c=="L" then
-             set_item("it-vortex-open", i-1, line, {targetx="106.5",targety="26.5"})
+            set_item("it-vortex-open", i-1, line, {targetx="106.5",targety="26.5"})
         elseif c=="M" then
-             set_item("it-vortex-open", i-1, line, {targetx="3.5",targety="41.5"})
-         end
-    end    
+            set_item("it-vortex-open", i-1, line, {targetx="3.5",targety="41.5"})
+        end
+    end
 end
 
 renderLine(00,"#######################################################################################################################")
@@ -184,8 +188,6 @@
 renderLine(73,"#######################################################################################################################")
 
 oxyd_shuffle()
-
-display.SetFollowMode(display.FOLLOW_SCROLLING)
     ]]></el:luamain>
     <el:i18n>
       <el:string el:key="title">

Modified: branches/1.0/data/levels/enigma_ii/duffy96_2.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy96_2.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy96_2.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Alien Glyphs 2" el:subtitle="" el:id="duffy96"/>
-      <el:version el:score="2" el:release="2" el:revision="0" el:status="released"/>
+      <el:version el:score="2" el:release="2" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -84,7 +84,7 @@
         elseif c=="Q" then
             doorv( i-1,line, {name="door1"})
         end
-    end    
+    end
 end
 
 renderLine(00,"##########################################################")
@@ -101,12 +101,12 @@
 renderLine(11,"#o#                                                      #")
 renderLine(12,"##########################################################")
 
---               B    
--- B             B    
+--               B
+-- B             B
 -- B B B B C C C B   B
 -- B C C B C C C B G E
 -- E G G K E E E C G E
--- A   A     A B      
+-- A   A     A B
 
 -- 5 4 8 9 6 3 0 1 7 2
 

Modified: branches/1.0/data/levels/enigma_ii/duffy97_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy97_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy97_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Alien Glyphs 3" el:subtitle="" el:id="duffy97"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -100,7 +100,7 @@
         elseif c=="W" then
             doorv( i-1,line, {name="door8"})
         end
-    end    
+    end
 end
 
 renderLine(00,"##########################################################")
@@ -142,9 +142,9 @@
 renderLine(36,"##########################################################")
 
 -- C I A
---      
+--
 -- E G A
---      
+--
 -- F F D
 
 oxyd_shuffle()
@@ -320,9 +320,9 @@
 end
 
 -- C I A
---      
+--
 -- E G A
---      
+--
 -- F F D
 
 doorsopen=0

Modified: branches/1.0/data/levels/enigma_ii/duffy98_1.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/duffy98_1.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/duffy98_1.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -3,7 +3,7 @@
   <el:protected>
     <el:info el:type="level">
       <el:identity el:title="Solar System" el:subtitle="" el:id="duffy98"/>
-      <el:version el:score="1" el:release="1" el:revision="0" el:status="released"/>
+      <el:version el:score="1" el:release="1" el:revision="1" el:status="released"/>
       <el:author  el:name="Jacob Scott" el:email="" el:homepage=""/>
       <el:copyright>Copyright ? 2004 Jacob Scott</el:copyright>
       <el:license el:type="GPL v2.0 or above" el:open="true"/>
@@ -41,12 +41,12 @@
         elseif c == "!" then
             abyss(i-1,line)
         elseif c == "~" then
-           set_floor("fl-water",i-1,line)
+            set_floor("fl-water",i-1,line)
         elseif c=="z" then
-           set_actor("ac-blackball", i-1,line+.5, {player=0})
+            set_actor("ac-blackball", i-1,line+.5, {player=0})
             set_floor("fl-metal",i-1,line)
         elseif c=="y" then
-           set_actor("ac-whiteball", i-1,line+.5, {player=1})
+            set_actor("ac-whiteball", i-1,line+.5, {player=1})
         elseif c == "g" then
             draw_stones("st-grate1",{i-1,line}, {1,1}, 1)
         elseif c=="+" then
@@ -62,41 +62,41 @@
             set_floor("fl-metal",i-1,line)
             set_stone( "st-rock4", i-1, line)
         elseif c=="O" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-metal",i-1,line)
         elseif c=="A" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-rough-red",i-1,line)
         elseif c=="B" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-swamp",i-1,line)
         elseif c=="C" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-leaves",i-1,line)
         elseif c=="D" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-bumps",i-1,line)
         elseif c=="E" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-red",i-1,line)
         elseif c=="F" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-sahara",i-1,line)
         elseif c=="G" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-rock",i-1,line)
         elseif c=="H" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-rough-blue",i-1,line)
         elseif c=="I" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-black",i-1,line)
         elseif c=="J" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-sahara",i-1,line)
             set_stone( "st-greenbrown", i-1, line)
         elseif c=="`" then
-           set_item("it-magnet",i-1,line,{on=1})
+            set_item("it-magnet",i-1,line,{on=1})
             set_floor("fl-water",i-1,line)
         elseif c=="K" then
             oxyd( i-1, line)
@@ -129,34 +129,34 @@
             oxyd( i-1, line)
             set_floor("fl-sahara",i-1,line)
         elseif c=="1" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-rough-red",i-1,line)
         elseif c=="2" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-swamp",i-1,line)
         elseif c=="3" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-leaves",i-1,line)
         elseif c=="4" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-bumps",i-1,line)
         elseif c=="5" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-red",i-1,line)
         elseif c=="6" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-sahara",i-1,line)
         elseif c=="7" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-rock",i-1,line)
         elseif c=="8" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-rough-blue",i-1,line)
         elseif c=="9" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-black",i-1,line)
         elseif c=="0" then
-           set_item("it-extralife",i-1,line)
+            set_item("it-extralife",i-1,line)
             set_floor("fl-sahara",i-1,line)
             set_stone( "st-greenbrown", i-1, line)
         elseif c=="j" then
@@ -192,11 +192,9 @@
         elseif c=="x" then
             set_floor("fl-metal",i-1,line)
         elseif c=="S" then
-            set_floor("fl-sahara",i-1,line,
-                {burnable=TRUE, noash=TRUE, secure=TRUE, initfire=TRUE})
+            set_floor("fl-sahara",i-1,line, {burnable=TRUE, noash=TRUE, secure=TRUE, initfire=TRUE})
         elseif c=="T" then
-            set_floor("fl-sahara",i-1,line,
-                {burnable=TRUE, noash=TRUE, secure=TRUE, initfire=TRUE})
+            set_floor("fl-sahara",i-1,line, {burnable=TRUE, noash=TRUE, secure=TRUE, initfire=TRUE})
         elseif c=="q" then
             set_item("it-umbrella",i-1,line)
             set_floor("fl-metal",i-1,line)
@@ -209,8 +207,8 @@
         elseif c=="f" then
             set_floor("fl-leaves",i-1,line)
             set_item("it-flagblack",i-1,line)
-         end
-    end    
+        end
+    end
 end
 
 renderLine(00,"###############################################################################################################################################################################################")

Modified: branches/1.0/data/levels/enigma_ii/index.xml
===================================================================
--- branches/1.0/data/levels/enigma_ii/index.xml	2007-06-06 20:45:28 UTC (rev 783)
+++ branches/1.0/data/levels/enigma_ii/index.xml	2007-06-09 13:50:11 UTC (rev 784)
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
 <index xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="index.xsd">
 
-  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="1" title="Enigma II"/>
+  <info enigma="1.00" group="Enigma" location="10300" network="false" owner="Enigma Team" release="1" revision="2" title="Enigma II"/>
 
   <attributes/>
 
   <levels>
     <level _seq="1" _title="Welcome" _xpath="./welcometopack2_1" author="Raoul Bourquin" ctrl="force" easy="true" id="welcometopack2" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="2" _title="Round Trip" _xpath="./martin35_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin35" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="3" _title="Blocks and Grates" _xpath="./duffy48_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy48" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="3" _title="Blocks and Grates" _xpath="./duffy48_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy48" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="4" _title=".-R-.-U-.-N-." _xpath="./martin103_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin103" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="5" _title="Gateway" _xpath="./martin85_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin85" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="6" _title="Sentinels" _xpath="./siegfried23_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level8d" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -27,7 +27,7 @@
     <level _seq="19" _title="Stay in the Spotlight" _xpath="./nat24_1" author="Nat Pryce" ctrl="force" easy="false" id="nat24" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="20" _title="- Meditation -" _xpath="./andreas17_1" author="Andreas Lochmann" ctrl="force" easy="false" id="andreas17" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="21" _title="Growing Boxes" _xpath="./luc26_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc26" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="22" _title="Kaleidoscope" _xpath="./duffy118_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy118" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="22" _title="Kaleidoscope" _xpath="./duffy118_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy118" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="23" _title="Enigmastermind" _xpath="./alain16_1" author="Alain Busser" ctrl="force" easy="false" id="alain16" rel="1" rev="2" score="1" target="time" unit="duration"/>
     <level _seq="24" _title="Gopher It" _xpath="./nat34_1" author="Nat Pryce" ctrl="force" easy="false" id="natmaze3" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="25" _title="Look Closely" _xpath="./martin102_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin102" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -36,25 +36,25 @@
     <level _seq="28" _title="Guitar" _xpath="./guy01_1" author="Guy Busser" ctrl="force" easy="false" id="guy01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="29" _title="Corridors" _xpath="./siegfried29_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level9f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="30" _title="- Meditation -" _xpath="./siegfried34_1" author="anonymous" ctrl="force" easy="false" id="meditation13" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="31" _title="Path in the Stars" _xpath="./duffy80_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy80" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="32" _title="Alien Glyphs" _xpath="./duffy31_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy31" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="31" _title="Path in the Stars" _xpath="./duffy80_1" author="Jacob Scott" ctrl="force" easy="true" id="duffy80" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="32" _title="Alien Glyphs" _xpath="./duffy31_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy31" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="33" _title="Black Holes" _xpath="./siegfried03_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level2a" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="34" _title="When Gravity Fails" _xpath="./nat10_1" author="Nat Pryce" ctrl="force" easy="false" id="nat10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="35" _title="Alien Glyphs 2" _xpath="./duffy96_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy96" rel="2" rev="0" score="2" target="time" unit="duration"/>
+    <level _seq="35" _title="Alien Glyphs 2" _xpath="./duffy96_2" author="Jacob Scott" ctrl="force" easy="false" id="duffy96" rel="2" rev="1" score="2" target="time" unit="duration"/>
     <level _seq="36" _title="Koosnab" _xpath="./rb02_1" author="Roberto Bardin" ctrl="force" easy="false" id="rb02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="37" _title="More Black Holes" _xpath="./luc18_1" author="Lukas Sch?ller" ctrl="force" easy="false" id="luc18" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="38" _title="Alien Glyphs 3" _xpath="./duffy97_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy97" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="39" _title="Solar System" _xpath="./duffy98_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy98" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="40" _title="Space Meditation" _xpath="./duffy59_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy59" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="38" _title="Alien Glyphs 3" _xpath="./duffy97_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy97" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="39" _title="Solar System" _xpath="./duffy98_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy98" rel="1" rev="1" score="1" target="time" unit="duration"/>
+    <level _seq="40" _title="Space Meditation" _xpath="./duffy59_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy59" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="41" _title="Robin's Wood" _xpath="./andreas13_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas13" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="42" _title="Puppet" _xpath="./duffy87_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy87" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="42" _title="Puppet" _xpath="./duffy87_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy87" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="43" _title="The Far Side" _xpath="./martin75_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin75" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="44" _title="Pharaoh's Tomb" _xpath="./siegfried13_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4d" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="45" _title="Oxyd Labyrinth" _xpath="./martin87_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin87" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="46" _title="Door Maze" _xpath="./immanuel02_1" author="Immanuel Herrmann" ctrl="force" easy="false" id="immanuel02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="47" _title="Fight For Your Life" _xpath="./martin96_1" author="Martin Hawlisch" ctrl="force" easy="true" id="martin96" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="48" _title="Road to Eden" _xpath="./alain22_1" author="Alain Busser" ctrl="force" easy="false" id="alain22" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="49" _title="Puzzling Controls" _xpath="./duffy30_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy30" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="49" _title="Puzzling Controls" _xpath="./duffy30_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy30" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="50" _title="- Meditation -" _xpath="./siegfried37_1" author="Siegfried Fennig" ctrl="force" easy="false" id="meditation16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="51" _title="Disk Royal" _xpath="./illmind02_1" author="illmind" ctrl="force" easy="false" id="illmind02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="52" _title="Back And Forth" _xpath="./martin26_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin26" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -64,28 +64,28 @@
     <level _seq="56" _title="Easy Shifting.." _xpath="./ralf01_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="57" _title="Floppy Swapping" _xpath="./martin19_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin19" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="58" _title="The Fuse" _xpath="./capkoh02_1" author="capkoh" ctrl="force" easy="false" id="capkoh02" rel="1" rev="1" score="1" target="time" unit="duration"/>
-    <level _seq="59" _title="The Disappearing Block" _xpath="./duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="59" _title="The Disappearing Block" _xpath="./duffy02_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy2" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="60" _title="- Meditation -" _xpath="./edward10_1" author="Edward" ctrl="force" easy="false" id="edward10" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="61" _title="Knight Moves" _xpath="./illmind04_1" author="illmind" ctrl="force" easy="false" id="illmind04" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="62" _title="Drunk" _xpath="./duffy38_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy38" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="62" _title="Drunk" _xpath="./duffy38_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy38" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="63" _title="Do It Yourself" _xpath="./martin97_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin97" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="64" _title="Buridan" _xpath="./alain01_1" author="Alain Busser" ctrl="force" easy="false" id="alain01" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="65" _title="Laser Magic" _xpath="./ant30_1" author="Petr Machata" ctrl="force" easy="false" id="ant30" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="66" _title="Moure-Switches" _xpath="./andreas10_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas10" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="67" _title="Khun Phan" _xpath="./ralf10_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf10" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="68" _title="Almost There" _xpath="./duffy89_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy89" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="68" _title="Almost There" _xpath="./duffy89_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy89" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="69" _title="Question of Speed" _xpath="./siegfried32_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11b" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="70" _title="- Meditation -" _xpath="./ant16_1" author="Petr Machata" ctrl="force" easy="false" id="ant16" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="71" _title="Come To Me" _xpath="./ant20_1" author="Petr Machata" ctrl="force" easy="false" id="ant20" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="72" _title="Water Holes" _xpath="./siegfried10_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3f" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="73" _title="Follow the Leader" _xpath="./martin71_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin71" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="74" _title="Laser Spiral" _xpath="./duffy03_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy3" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="74" _title="Laser Spiral" _xpath="./duffy03_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy3" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="75" _title="Puzzle Blues" _xpath="./siegfried07_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level3c" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="76" _title="Pools" _xpath="./martin70_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin70" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="77" _title="Push your way" _xpath="./siegfried12_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level4b" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="78" _title="Inverted Laser Spiral" _xpath="./duffy42_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy42" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="78" _title="Inverted Laser Spiral" _xpath="./duffy42_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy42" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="79" _title="Turn Around" _xpath="./andreas07_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas07" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="80" _title="Bungeeball" _xpath="./duffy103_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy103" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="80" _title="Bungeeball" _xpath="./duffy103_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy103" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="81" _title="Pentomino I" _xpath="./ralf16_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="82" _title="Indoor Pool" _xpath="./nat01_1" author="Nat Pryce" ctrl="force" easy="false" id="nat1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="83" _title="Pentomino II" _xpath="./ralf17_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento2" rel="1" rev="0" score="1" target="time" unit="duration"/>
@@ -95,17 +95,17 @@
     <level _seq="87" _title="Pentomino IV" _xpath="./ralf19_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento4" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="88" _title="Shifting Shoals" _xpath="./nat28_1" author="Nat Pryce" ctrl="force" easy="false" id="nat28" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="89" _title="Pentomino V" _xpath="./ralf20_1" author="Ralf Westram" ctrl="force" easy="false" id="ralf_pento5" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="90" _title="Washing Machine" _xpath="./duffy45_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy45" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="90" _title="Washing Machine" _xpath="./duffy45_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy45" rel="1" rev="1" score="1" target="time" unit="duration"/>
     <level _seq="91" _title="It's Magic" _xpath="./martin27_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin27" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="92" _title="Dirt Clod" _xpath="./xerxes02_1" author="Xerxes M. Dynatos" ctrl="force" easy="false" id="xerxes02" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="93" _title="Painting" _xpath="./siegfried21_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level6d" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="94" _title="Snowing" _xpath="./duffy120_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy120" rel="2" rev="2" score="2" target="time" unit="duration"/>
+    <level _seq="94" _title="Snowing" _xpath="./duffy120_2" author="Jacob Scott" ctrl="force" easy="true" id="duffy120" rel="2" rev="3" score="2" target="time" unit="duration"/>
     <level _seq="95" _title="Eraser Please!" _xpath="./martin39_1" author="Martin Hawlisch" ctrl="force" easy="false" id="martin39" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="96" _title="Friend or Foe?" _xpath="./andreas05_1" author="Andreas Lochmann" ctrl="force" easy="true" id="andreas05" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="97" _title="Tool Time" _xpath="./barry03_1" author="Barry &amp; Lori Mead" ctrl="force" easy="false" id="barry03" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="98" _title="Light Barriers" _xpath="./qq01_1" author="Andrzej Szombierski" ctrl="force" easy="false" id="qq1" rel="1" rev="0" score="1" target="time" unit="duration"/>
     <level _seq="99" _title="Domain of Mysteries" _xpath="./siegfried31_1" author="Siegfried Fennig" ctrl="force" easy="false" id="level11a" rel="1" rev="0" score="1" target="time" unit="duration"/>
-    <level _seq="100" _title="Patterns" _xpath="./duffy128_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy128" rel="1" rev="0" score="1" target="time" unit="duration"/>
+    <level _seq="100" _title="Patterns" _xpath="./duffy128_1" author="Jacob Scott" ctrl="force" easy="false" id="duffy128" rel="1" rev="1" score="1" target="time" unit="duration"/>
   </levels>
 
 </index>



From ral at mail.berlios.de  Sat Jun  9 19:53:48 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 9 Jun 2007 19:53:48 +0200
Subject: [Enigma-game-svn] r785 - trunk/src
Message-ID: <200706091753.l59Hrmqj030478@sheep.berlios.de>

Author: ral
Date: 2007-06-09 19:53:48 +0200 (Sat, 09 Jun 2007)
New Revision: 785

Modified:
   trunk/src/stones_complex.cc
   trunk/src/stones_simple.cc
Log:
Trunk 1.1: 
- fix swap stone: remove model on kill stone


Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2007-06-09 13:50:11 UTC (rev 784)
+++ trunk/src/stones_complex.cc	2007-06-09 17:53:48 UTC (rev 785)
@@ -175,7 +175,7 @@
         // Object interface.
         PullStone *clone();
         void       dispose();
-
+        
         // Stone interface.
         bool is_movable () const {
             return state == IDLE;

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2007-06-09 13:50:11 UTC (rev 784)
+++ trunk/src/stones_simple.cc	2007-06-09 17:53:48 UTC (rev 785)
@@ -418,6 +418,7 @@
     if (state == COME) {
         GameTimer.remove_alarm(this);
     }
+    GridObject::on_removal(p);
 }
 
 /* Animation finished; put the "swapped" stone to its new position. */



From ral at mail.berlios.de  Mon Jun 11 00:43:31 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 11 Jun 2007 00:43:31 +0200
Subject: [Enigma-game-svn] r786 - trunk/src
Message-ID: <200706102243.l5AMhVGo016765@sheep.berlios.de>

Author: ral
Date: 2007-06-11 00:43:23 +0200 (Mon, 11 Jun 2007)
New Revision: 786

Modified:
   trunk/src/stones.hh
   trunk/src/stones_complex.cc
   trunk/src/stones_internal.hh
   trunk/src/stones_simple.cc
   trunk/src/world.cc
   trunk/src/world_internal.hh
Log:
Trunk 1.1: 
- add 4 sides st-window with collision code for all faces and joins
Note:
- new collision code is only partially tested
- st-window images still missing - south face onlyis always displayed


Modified: trunk/src/stones.hh
===================================================================
--- trunk/src/stones.hh	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/stones.hh	2007-06-10 22:43:23 UTC (rev 786)
@@ -104,6 +104,9 @@
 
         virtual const char *collision_sound();
 
+        /**
+         * 
+         */
         virtual StoneResponse collision_response(const StoneContact &sc);
 
         /*! Is this stone movable? Affects impulse-stones, fire, ordinary pushes... */

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/stones_complex.cc	2007-06-10 22:43:23 UTC (rev 786)
@@ -25,6 +25,7 @@
 #include "Inventory.hh"
 #include "stones_internal.hh"
 #include "actors.hh"
+#include "main.hh"
 
 #include "ecl_util.hh"
 
@@ -775,46 +776,6 @@
 }
 
 
-/* -------------------- ConnectiveStone -------------------- */
-
-// base class for PuzzleStone and BigBrick
-
-namespace {
-    class ConnectiveStone : public Stone {
-    public:
-        ConnectiveStone(const char *kind, int connections)
-        : Stone(kind)
-        {
-            set_attrib("connections", connections);
-        }
-
-        DirectionBits get_connections() const;
-    protected:
-        void init_model();
-    private:
-        virtual int get_modelno() const;
-    };
-}
-
-DirectionBits
-ConnectiveStone::get_connections() const
-{
-    int conn = (int)getAttr("connections") - 1;
-    if (conn >=0 && conn <16)
-        return DirectionBits(conn);
-    else
-        return NODIRBIT;
-}
-
-void ConnectiveStone::init_model() {
-    set_model(get_kind()+ecl::strf("%d", get_modelno()));
-}
-
-int ConnectiveStone::get_modelno() const {
-    return getAttr("connections");
-}
-
-
 /* -------------------- BigBrick -------------------- */
 
 // BigBricks allow to build stones of any size
@@ -847,6 +808,82 @@
     };
 }
 
+/* -------------------- Window -------------------- */
+
+/** \page st-window Breakable Stone
+
+Hit this window heavily with your marble to blast it into smithereens.
+
+\image html st-window.png
+*/
+
+namespace
+{
+    class Window : public ConnectiveStone {
+        CLONEOBJ(Window);
+        DECL_TRAITS;
+        const char *collision_sound() {return "glass";}
+
+        bool is_transparent (Direction) const { return true; }
+        bool is_floating() const { return state != IDLE; }
+        enum State { IDLE, BREAK } state;
+
+        void actor_hit(const StoneContact &sc) {
+            Actor *a = sc.actor;
+            if (state == IDLE) {
+            double impulse = -(a->get_vel() * sc.normal) * get_mass(a);
+            if (impulse > 35) {
+                SendMessage(a, "shatter");
+            }
+
+        if (impulse > 25) {
+                    sound_event ("shatter");
+                    state = BREAK;
+                    set_anim("st-window-anim");
+                }
+            }
+        }
+        void animcb() {
+            KillStone(get_pos());
+        }
+        
+        void init_model() {   // temp - delete when the images are ready
+            set_model("st-window");
+        }
+
+    public:
+        Window(int connections) : ConnectiveStone("st-window", connections),
+                state(IDLE) {
+        }
+        virtual bool is_sticky(const Actor *a) const;
+        StoneResponse collision_response(const StoneContact &sc);
+    };
+    DEF_TRAITS(Window, "st-window", st_window);
+
+    bool Window::is_sticky(const Actor *a) const  {
+        return false;
+    }
+    
+    StoneResponse Window::collision_response(const StoneContact &sc) {
+        const double face_width = 3.0/32.0; 
+//        DirectionBits dirs = contact_faces(sc);
+        DirectionBits faces = get_connections();
+//        Log << "coll respo: dirs " << dirs << "  faces " << faces << "  c-x " << sc.contact_point[0] << "  s-x " <<get_pos().x;
+            
+
+        if (((sc.contact_point[0] <= get_pos().x + face_width) && faces&WESTBIT) ||
+                ((sc.contact_point[0] >= get_pos().x + 1 - face_width) && faces&EASTBIT) ||
+                ((sc.contact_point[1] <= get_pos().y + face_width) && faces&NORTHBIT) ||
+                ((sc.contact_point[1] >= get_pos().y + 1 - face_width) && faces&SOUTHBIT)) {
+//            Log << " - rebound\n";
+            return STONE_REBOUND;
+        } else {
+//            Log << " - pass\n";
+            return STONE_PASS;
+        }
+    }
+}
+
 
 /* -------------------- Puzzle stones -------------------- */ 
 
@@ -3517,6 +3554,23 @@
     Register ("st-rotator_move-right", new RotatorStone(true, true));
     Register ("st-rotator_move-left", new RotatorStone(false, true));
 
+    Register("st-window", new Window(3));    // compatibility window with south face only
+    Register("st-window-w", new Window(2));
+    Register("st-window-s", new Window(3));
+    Register("st-window-sw", new Window(4));
+    Register("st-window-e", new Window(5));
+    Register("st-window-ew", new Window(6));
+    Register("st-window-es", new Window(7));
+    Register("st-window-esw", new Window(8));
+    Register("st-window-n", new Window(9));
+    Register("st-window-nw", new Window(10));
+    Register("st-window-ns", new Window(11));
+    Register("st-window-nsw", new Window(12));
+    Register("st-window-ne", new Window(13));
+    Register("st-window-new", new Window(14));
+    Register("st-window-nes", new Window(15));
+    Register("st-window-nesw", new Window(16));
+    
     Register(new ShogunStone);
     Register("st-shogun-s", new ShogunStone(1));
     Register("st-shogun-m", new ShogunStone(2));

Modified: trunk/src/stones_internal.hh
===================================================================
--- trunk/src/stones_internal.hh	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/stones_internal.hh	2007-06-10 22:43:23 UTC (rev 786)
@@ -115,5 +115,34 @@
             return Value();
         }
     };
+/* -------------------- ConnectiveStone -------------------- */
+
+// base class for PuzzleStone and BigBrick
+
+
+    class ConnectiveStone : public Stone {
+    public:
+        ConnectiveStone(const char *kind, int connections): Stone(kind) {
+            set_attrib("connections", connections);
+        }
+
+        DirectionBits ConnectiveStone::get_connections() const {
+            int conn = (int)getAttr("connections") - 1;
+            if (conn >=0 && conn <16)
+                return DirectionBits(conn);
+            else
+                return NODIRBIT;
+        }
+    protected:
+
+        void ConnectiveStone::init_model() {
+            set_model(get_kind()+ecl::strf("%d", get_modelno()));
+        }
+    private:
+        int ConnectiveStone::get_modelno() const {
+            return getAttr("connections");
+        }
+    };
+
 }
 #endif

Modified: trunk/src/stones_simple.cc
===================================================================
--- trunk/src/stones_simple.cc	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/stones_simple.cc	2007-06-10 22:43:23 UTC (rev 786)
@@ -518,50 +518,7 @@
 };
 
 
-/* -------------------- Window -------------------- */
 
-/** \page st-window Breakable Stone
-
-Hit this window heavily with your marble to blast it into smithereens.
-
-\image html st-window.png
-*/
-
-namespace
-{
-    class Window : public Stone {
-        CLONEOBJ(Window);
-        DECL_TRAITS;
-        const char *collision_sound() {return "glass";}
-
-        bool is_transparent (Direction) const { return true; }
-        bool is_floating() const { return state != IDLE; }
-        enum State { IDLE, BREAK } state;
-
-        void actor_hit(const StoneContact &sc) {
-            Actor *a = sc.actor;
-            if (state == IDLE) {
-	    	double impulse = -(a->get_vel() * sc.normal) * get_mass(a);
-        	if (impulse > 35) {
-        	    SendMessage(a, "shatter");
-        	}
-
-		if (impulse > 25) {
-                    sound_event ("shatter");
-                    state = BREAK;
-                    set_anim("st-window-anim");
-                }
-            }
-        }
-        void animcb() {
-            KillStone(get_pos());
-        }
-    public:
-        Window() : state(IDLE) {}
-    };
-    DEF_TRAITS(Window, "st-window", st_window);
-}
-
 // -----------------------
 //      BreakableStone
 // -----------------------
@@ -2293,7 +2250,6 @@
 
     Register(new ThiefStone);
     Register(new TimerStone);
-    Register(new Window);
 
     Register(new RandomWoodenStone); // random flavor
     Register(new WoodenStone("st-wood1", "fl-stwood1")); // horizontal planks

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/world.cc	2007-06-10 22:43:23 UTC (rev 786)
@@ -676,14 +676,22 @@
       is filled is filled with information about the closest feature
       on the stone and `is_contact' is set to false. 
 */
-void World::find_contact_with_stone(Actor *a, GridPos p, StoneContact &c, bool isRounded, Stone *st) 
-{
+void World::find_contact_with_stone(Actor *a, GridPos p, StoneContact &c,
+        DirectionBits winFacesActorStone, bool isRounded, Stone *st) {
+            
     c.is_contact = false;
+    bool isInnerContact = false;
 
     Stone *stone = (st != NULL) ? st : world::GetStone(p);
     if (!stone)
         return;
 
+    bool isWindow = stone->get_traits().id == st_window;
+    DirectionBits wsides;
+    if (isWindow) {
+        wsides = dynamic_cast<stones::ConnectiveStone *>(stone)->get_connections();
+    }
+    
     const ActorInfo &ai = *a->get_actorinfo();
     double r = ai.radius;
 
@@ -692,17 +700,90 @@
     double ax = ai.pos[0];
     double ay = ai.pos[1];
 //    const double contact_e = 0.02;
-    const double erad_const = 2.0/32; // edge radius
-    double erad = isRounded ? erad_const : 0.0;
+    const double erad_const = 2.0/32;      // edge radius
+    const double erad_window_const = 1.5/32; // edge radius for window - the windows glass
+                                             // is 3/32 thick - needs to less than minimal
+                                             // actor radius!
+    double cdist = isWindow ? erad_window_const : erad_const;
+    double erad = isRounded ? cdist : 0.0;
 
+    // Inner bounce of a window stone
+    if ((ax >= x) && (ax < x+1) && (ay >= y) && (ay < y+1) ) {
+        if (isWindow) {
+            int xcorner = (ax >= x+0.5);
+            int ycorner = (ay >= y+0.5);
+            int xoff_neighbour = (ax < x+erad_window_const) ? -1 : (ax > x+1-erad_window_const); 
+            int yoff_neighbour = (ay < y+erad_window_const) ? -1 : (ay > y+1-erad_window_const);
+            
+//            Log << "xc " << xcorner << "  yc " << ycorner << "  xn " << xoff_neighbour << "  yn " << yoff_neighbour << "\n";
+            
+            DirectionBits face = NODIRBIT;
+            if      (!xcorner && yoff_neighbour) face = WESTBIT;
+            else if ( xcorner && yoff_neighbour) face = EASTBIT;
+            else if (!ycorner && xoff_neighbour) face = NORTHBIT;
+            else if ( ycorner && xoff_neighbour) face = SOUTHBIT;
+            
+            stones::ConnectiveStone * neighbour = dynamic_cast<stones::ConnectiveStone *>
+                    (world::GetStone(GridPos(x+xoff_neighbour, y+yoff_neighbour)));
+            DirectionBits face_neighbour = (neighbour) ? neighbour->get_connections() : NODIRBIT;
+            
+//            Log << "face " << face << "  facen " << face_neighbour << "  winface " << winFacesActorStone << "\n";
+            
+            if ((winFacesActorStone&face) && !(face_neighbour&face)) {
+                // contact to a inner corner of a window stone
+                // same code as external corner below
+                Log << "inner corner\n";
+                double cx[2] = {cdist, -cdist};
+        
+                V2 corner(x+xcorner+cx[xcorner], y+ycorner+cx[ycorner]);
+                V2 b=V2(ax,ay) - corner;
+                
+                // fix 45 degree collisions that may require precision
+                if (abs(abs(b[0]) - abs(b[1])) < 1.0e-7) {
+                    b[1] = (b[1] >= 0) ? abs(b[0]) : -abs(b[0]);
+                }
+        
+                c.is_contact    = (length(b)-r-cdist < contact_e);
+                c.normal        = normalize(b);
+                c.contact_point = corner + c.normal*cdist;
+                isInnerContact = true;
+                
+            } else if ((winFacesActorStone&SOUTHBIT) && (ay > y+1-2*erad_window_const-r-contact_e)) {
+                c.contact_point = V2(ax, y+1-2*erad_window_const);
+                c.normal        = V2(0,-1);
+                c.is_contact = true;
+                isInnerContact = true;
+            } else if ((winFacesActorStone&NORTHBIT) && (ay <= y+2*erad_window_const+r+contact_e)) {
+                c.contact_point = V2(ax, y+2*erad_window_const);
+                c.normal        = V2(0,+1);
+                c.is_contact = true;
+                isInnerContact = true;
+            } else if ((winFacesActorStone&WESTBIT) && (ax <= x+2*erad_window_const+r+contact_e)) {
+                c.contact_point = V2(x+2*erad_window_const, ay);
+                c.normal        = V2(+1, 0);
+                c.is_contact = true;
+                isInnerContact = true;
+            } else if ((winFacesActorStone&EASTBIT) && (ax <= x+1-2*erad_window_const-r-contact_e)) {
+                c.contact_point = V2(x+1-2*erad_window_const, ay);
+                c.normal        = V2(-1,0);
+                c.is_contact = true;
+                isInnerContact = true;
+            }
+        }
+        // ignore all inner collisions of other stones
+    }
     // Closest feature == north or south face of the stone?
-    if (ax>=x+erad && ax<x+1-erad) {
+    else if (ax>=x+erad && ax<x+1-erad && (!isWindow || ((ay>y+1)&&(wsides&SOUTHBIT)) ||
+            ((ay<y)&&(wsides&NORTHBIT)) || (ax<=x+erad_window_const) || (ax>=x+1-erad_window_const))) {
+        // the last two terms are straight reflections on rectangular window sides due
+        // to a join with the neighbour stone
+        
         double dist = r+5;
 
         // south
         if (ay>y+1) {
             c.contact_point = V2(ax, y+1);
-            c.normal        = V2(0,+1);
+            c.normal        = V2(0, +1);
             dist            = ay-(y+1);
         }
         // north
@@ -714,25 +795,32 @@
         c.is_contact = (dist-r < contact_e);
     }
     // Closest feature == west or east face of the stone?
-    else if (ay>=y+erad && ay<y+1-erad) {
+    else if (ay>=y+erad && ay<y+1-erad && (!isWindow || ((ax>x+1)&&(wsides&EASTBIT)) ||
+            ((ax<x)&&(wsides&WESTBIT)) || (ay<=y+erad_window_const) || (ay>=y+1-erad_window_const))) {
         double dist=r+5;
         if (ax>x+1) { // east
-            c.contact_point = V2(x+1,ay);
-            c.normal        = V2(+1,0);
+            c.contact_point = V2(x+1, ay);
+            c.normal        = V2(+1, 0);
             dist            = ax-(x+1);
         }
         else if (ax<x) { // west
-            c.contact_point = V2(x,ay);
-            c.normal        = V2(-1,0);
+            c.contact_point = V2(x, ay);
+            c.normal        = V2(-1, 0);
             dist            = x-ax;
         }
 	c.is_contact = (dist-r < contact_e);
     }
     // Closest feature == any of the four corners
-    else if (isRounded) {
-        int xcorner=(ax >= x+1-erad);
-        int ycorner=(ay >= y+1-erad);
-        double cx[2] = {erad, -erad};
+    else if (!isWindow || !(
+            ((ax > x+cdist) && (ax < x+0.5) && (wsides&WESTBIT) && (winFacesActorStone&WESTBIT)) ||
+            ((ax >= x+0.5) && (ax < x+1-cdist) && (wsides&EASTBIT) && (winFacesActorStone&EASTBIT)) ||
+            ((ay > y+cdist) && (ay < y+0.5) && (wsides&NORTHBIT) && (winFacesActorStone&NORTHBIT)) ||
+            ((ay >= y+0.5) && (ay < y+1-cdist) && (wsides&SOUTHBIT) && (winFacesActorStone&SOUTHBIT)))) {
+        // the 4 terms exclude collisions from inner corners of windows if they are joined
+        // with a window stone face on the grid of the actor itself
+        int xcorner=(ax >= x+0.5);
+        int ycorner=(ay >= y+0.5);
+        double cx[2] = {cdist, -cdist};
 
         V2 corner(x+xcorner+cx[xcorner], y+ycorner+cx[ycorner]);
         V2 b=V2(ax,ay) - corner;
@@ -742,15 +830,15 @@
             b[1] = (b[1] >= 0) ? abs(b[0]) : -abs(b[0]);
         }
 
-        c.is_contact    = (length(b)-r-erad < contact_e);
+        c.is_contact    = (length(b)-r-cdist < contact_e);
         c.normal        = normalize(b);
-        c.contact_point = corner + c.normal*erad;
+        c.contact_point = corner + c.normal*cdist;
     }
 
     if (c.is_contact) {
         // treat this as a collision only if actor not inside the stone
         // and velocity towards stone
-        if (ax >= x && ax < x+1 && ay >= y && ay < y+1)
+        if (!isInnerContact && ax >= x && ax < x+1 && ay >= y && ay < y+1)
             c.is_collision = false;
         else
             c.is_collision  = c.normal*ai.vel < 0;
@@ -764,8 +852,22 @@
     }
 }
 
+/**
+ * Examines all contacts of an actor that is the edge of a grid in a distance to touch
+ * any stone on the three adjacent grid positions.
+ * @arg a   the actor that causes contacts
+ * @arg p0  the grid position that is diagonal to the actors grid at the give edge
+ * @arg c0  the contact info for p0 initialized with a normal pointing to the actors grid
+ * @arg p1  one of the grid positions that is a side neighbour to the actors grid at the give edge
+ * @arg c1  the contact info for p1 initialized with a normal pointing to the actors grid
+ * @arg p2  one of the grid positions that is a side neighbour to the actors grid at the give edge
+ * @arg c2  the contact info for p0 initialized with a normal pointing to the actors grid
+ * @arg winFacesActorStone  the faces of a Window stone on the actors grid position that
+ *          could cause joins with others Window stones faces on the examined positions.
+ *          Just inner corners of Window faces are affected.
+ */
 void World::find_contact_with_edge(Actor *a, GridPos p0, GridPos p1, GridPos p2, 
-        StoneContact &c0, StoneContact &c1, StoneContact &c2) {
+        StoneContact &c0, StoneContact &c1, StoneContact &c2, DirectionBits winFacesActorStone) {
     Stone *s0 = world::GetStone(p0);
     Stone *s1 = world::GetStone(p1);
     Stone *s2 = world::GetStone(p2);
@@ -775,24 +877,57 @@
     
     if (s1 && s2 && c1.response==STONE_REBOUND && c2.response==STONE_REBOUND) {
         // a real edge bounce - no rounded edges
-        find_contact_with_stone(a, p1, c1, false, s1);  // collision with both straight neighbours
-        find_contact_with_stone(a, p2, c2, false, s2);  // collision with both straight neighbours
+        find_contact_with_stone(a, p1, c1, winFacesActorStone, false, s1);  // collision with both straight neighbours
+        find_contact_with_stone(a, p2, c2, winFacesActorStone, false, s2);  // collision with both straight neighbours
     } else if (s0 && s1 && c0.response==STONE_REBOUND && c1.response==STONE_REBOUND) {
         // join stones to a block without rounded edges
-        find_contact_with_stone(a, p1, c1, false, s1);  // collision with straight neighbour only
-        find_contact_with_stone(a, p2, c2, true, s2);   // register contact without collision
+        find_contact_with_stone(a, p1, c1, winFacesActorStone, false, s1);  // collision with straight neighbour only
+        find_contact_with_stone(a, p2, c2, winFacesActorStone, true, s2);   // register contact without collision
     } else if (s0 && s2 && c0.response==STONE_REBOUND && c2.response==STONE_REBOUND) {
         // join stones to a block without rounded edges
-        find_contact_with_stone(a, p2, c2, false, s2);  // contact with straight neighbour only
-        find_contact_with_stone(a, p1, c1, true, s1);   // register contact without collision
+        find_contact_with_stone(a, p2, c2, winFacesActorStone, false, s2);  // contact with straight neighbour only
+        find_contact_with_stone(a, p1, c1, winFacesActorStone, true, s1);   // register contact without collision
     } else {
         // register single stone collisions and contacts
-        if (s0) find_contact_with_stone(a, p0, c0, true, s0);
-        if (s1) find_contact_with_stone(a, p1, c1, true, s1);
-        if (s2) find_contact_with_stone(a, p2, c2, true, s2);
+        if (s0) find_contact_with_stone(a, p0, c0, winFacesActorStone, true, s0);
+        if (s1) find_contact_with_stone(a, p1, c1, winFacesActorStone, true, s1);
+        if (s2) find_contact_with_stone(a, p2, c2, winFacesActorStone, true, s2);
     }
 }
 
+/**
+ * Examines all contacts of an actor with a Window stone on the grid position of the
+ * actor.
+ * @arg a   the actor that causes contacts
+ * @arg p   the grid position of the actor and the Window stone
+ * @arg c0  a contact info for a contact. The normal has no need of being intialized
+ * @arg c1  a contact info for a contact. The normal has no need of being intialized
+ * @arg winFacesActorStone  the faces of a Window stone on the actors grid position
+ */
+void World::find_contact_with_window(Actor *a, GridPos p, StoneContact &c0, StoneContact &c1,
+        DirectionBits winFacesActorStone) {
+    if (winFacesActorStone != NODIRBIT) {
+        // as the actor cannot contact opposite face at the same time
+        // we reuse the contact structure for optimization
+        if (winFacesActorStone&WESTBIT) 
+            find_contact_with_stone(a, p, c0, WESTBIT);
+        if ((winFacesActorStone&EASTBIT) && c0.is_contact == false)
+            find_contact_with_stone(a, p, c0, EASTBIT);
+        if (winFacesActorStone&SOUTHBIT) 
+            find_contact_with_stone(a, p, c1, SOUTHBIT);
+        if ((winFacesActorStone&NORTHBIT) && c1.is_contact == false)
+            find_contact_with_stone(a, p, c1, NORTHBIT);
+    }
+    
+}
+
+/**
+ * Examins all contacts of an actor with stones on and around it.
+ * @arg a   the actor that causes contacts
+ * @arg c0  an uninitialized contact info that will be filled with possible contact data
+ * @arg c1  an uninitialized contact info that will be filled with possible contact data
+ * @arg c2  an uninitialized contact info that will be filled with possible contact data
+ */
 void World::find_stone_contacts(Actor *a, StoneContact &c0, StoneContact &c1,
         StoneContact &c2) {
     // time critical routine that is performance optimized
@@ -810,8 +945,18 @@
     double x = ai.pos[0];
     double y = ai.pos[1];
     
+    // info about a Window stone on the Gridpos of the actor that may cause
+    // contacts within the grid
+    stones::ConnectiveStone * actorWinStone = dynamic_cast<stones::ConnectiveStone *>(world::GetStone(g));
+    DirectionBits winFacesActorStone = (actorWinStone) ? actorWinStone->get_connections() : NODIRBIT;
+    
     // distinguish 9 squares within gridpos that may cause contacts
-    // low cost reduction of cases that need to be examined in detail
+    // low cost reduction of cases that need to be examined in detail:
+    // - within the edges no inner contacts to a Window are possible
+    // - middle parts can contact to a Window on the grid and one stone aside
+    // - the center part can contact two faces of a Window on the grid
+    // the contact info is prepared with normal vectors that allow quick checks
+    // with stone faces
     if (y - g.y < re) {
         // upper grid part
         if (x - g.x < re) {
@@ -819,18 +964,21 @@
             c0.normal = V2(+1, +1);  // no need of normalization - just direction
             c1.normal = V2(0, +1);
             c2.normal = V2(+1, 0);
+            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y);
             find_contact_with_edge(a, GridPos(g.x - 1, g.y - 1), GridPos(g.x, g.y - 1),
-                    GridPos(g.x - 1, g.y), c0, c1, c2);
+                    GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
         } else if (-x + (g.x + 1) < re) {
             // upper right edge
             c0.normal = V2(-1, +1);  // no need of normalization - just direction
             c1.normal = V2(0, +1);
             c2.normal = V2(-1, 0);
+            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y);
             find_contact_with_edge(a, GridPos(g.x + 1, g.y -1), GridPos(g.x, g.y - 1),
-                    GridPos(g.x + 1, g.y), c0, c1, c2);
+                    GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
         } else {
             // upper middle part
-            find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0);
+            find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0, winFacesActorStone);
+            find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
         }
     } else if (-y + (g.y +1) < re) {
         // lower grid part
@@ -839,29 +987,36 @@
             c0.normal = V2(+1, -1);  // no need of normalization - just direction
             c1.normal = V2(0, -1);
             c2.normal = V2(+1, 0);
+            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y+1);
             find_contact_with_edge(a, GridPos(g.x - 1, g.y + 1), GridPos(g.x, g.y + 1),
-                    GridPos(g.x - 1, g.y), c0, c1, c2);
+                    GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
         } else if (-x + (g.x + 1) < re) {
             // lower right edge
             c0.normal = V2(-1, -1);  // no need of normalization - just direction
             c1.normal = V2(0, -1);
             c2.normal = V2(-1, 0);
+            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y+1);
             find_contact_with_edge(a, GridPos(g.x + 1, g.y + 1), GridPos(g.x, g.y +1),
-                    GridPos(g.x + 1, g.y), c0, c1, c2);
+                    GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
         } else {
             // lower middle part
-            find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0);
+            find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0, winFacesActorStone);
+            find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
         }
     } else {
         // middle grid part
         if (x - g.x < re) {
             // left middle part
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0);
+            find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0, winFacesActorStone);
+            find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
         } else if (-x + (g.x + 1) < re) {
             // right middle part
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0);
+            find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0, winFacesActorStone);
+            find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+        } else {
+            // actor in center of grid - just inner window contacts
+            find_contact_with_window(a, GridPos(g.x, g.y), c0, c1, winFacesActorStone);
         }
-        // no contact possible if actor in center of grid
     }
 }
 
@@ -1021,18 +1176,23 @@
     }
 }
 
-void World::handle_contacts (unsigned actoridx) 
+void World::handle_stone_contacts (unsigned actoridx) 
 {
-    static StoneContact contacts[3];
+    // Three contact structures are used to store info about contact candidates.
+    // No more than two stone contacts per actor are possible, but it is more
+    // efficient to provide three structures for candidates and to check afterwards.
+    
+    static StoneContact contacts[3];   // recycle structures for efficiency
 
-    Actor *actor1 = actorlist[actoridx];
-    ActorInfo &a1 = *actor1->get_actorinfo();
+    Actor *actor = actorlist[actoridx];
 
-    if (a1.ignore_contacts)     // used by the cannonball for example
+    if (actor->m_actorinfo.ignore_contacts)     // used by the cannonball for example
         return;
 
-    // Handle contacts with stones
-    find_stone_contacts(actor1, contacts[0], contacts[1], contacts[2]);
+    // Find contacts without any sideeffects
+    find_stone_contacts(actor, contacts[0], contacts[1], contacts[2]);
+    
+    // Handle contacts with stones - forces and stone hit, touch callback
     if (contacts[0].is_contact)
         handle_stone_contact(contacts[0]);
     if (contacts[1].is_contact)
@@ -1091,7 +1251,7 @@
             Actor     *a  = actorlist[i];
             ActorInfo &ai = * a->get_actorinfo();
             if (!ai.grabbed)
-                handle_contacts(i);
+                handle_stone_contacts(i);
         }
 
         for (unsigned i=0; i<nactors; ++i) {
@@ -1102,8 +1262,7 @@
                 if (length(ai.force) > 30)
                     client::Msg_Sparkle (ai.pos);
                 ai.vel = V2();
-            }
-            else if (!a->is_dead() && a->is_movable() && !ai.grabbed) {
+            } else if (!a->is_dead() && a->is_movable() && !ai.grabbed) {
                 advance_actor(a, dt);
             }
             a->move ();         // 'move' nevertheless, to pick up items etc

Modified: trunk/src/world_internal.hh
===================================================================
--- trunk/src/world_internal.hh	2007-06-09 17:53:48 UTC (rev 785)
+++ trunk/src/world_internal.hh	2007-06-10 22:43:23 UTC (rev 786)
@@ -318,15 +318,20 @@
 
         void advance_actor (Actor *a, double h);
         void move_actors (double dtime);
-        void find_contact_with_stone (Actor *a, GridPos p, StoneContact &c, bool isRounded = true,  Stone *st = NULL);
+        void find_contact_with_stone(Actor *a, GridPos p, StoneContact &c, 
+                DirectionBits winFacesActorStone = NODIRBIT,
+                bool isRounded = true, Stone *st = NULL);
         void find_contact_with_edge(Actor *a, GridPos pe, GridPos p1, GridPos p2, 
-                StoneContact &c0, StoneContact &c1, StoneContact &c2);
-        void find_stone_contacts (Actor *a, StoneContact &c0, StoneContact &c1,
+                StoneContact &c0, StoneContact &c1, StoneContact &c2,
+                DirectionBits winFacesActorStone = NODIRBIT);
+        void find_contact_with_window(Actor *a, GridPos p, StoneContact &c0, StoneContact &c1,
+                DirectionBits winFacesActorStone);
+        void find_stone_contacts(Actor *a, StoneContact &c0, StoneContact &c1,
                 StoneContact &c2);
         void handle_stone_contact (StoneContact &sc);
         void handle_actor_contacts ();
         void handle_actor_contact (Actor *actor1, Actor *actor2);
-        void handle_contacts (unsigned actoridx);
+        void handle_stone_contacts(unsigned actoridx);
         void handle_delayed_impulses (double dtime);
         void stone_change (GridPos p);
         void tick_sound_dampings ();



From raoul at mail.berlios.de  Mon Jun 11 23:41:44 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 11 Jun 2007 23:41:44 +0200
Subject: [Enigma-game-svn] r787 - in trunk: data data/gfx32 data/gfx40
	data/gfx48 data/gfx64 src
Message-ID: <200706112141.l5BLfijB030078@sheep.berlios.de>

Author: raoul
Date: 2007-06-11 23:41:43 +0200 (Mon, 11 Jun 2007)
New Revision: 787

Added:
   trunk/data/gfx32/st-window-break.png
   trunk/data/gfx40/st-window-break.png
   trunk/data/gfx48/st-window-break.png
   trunk/data/gfx64/st-window.png
Modified:
   trunk/data/gfx32/st-window.png
   trunk/data/gfx40/st-window.png
   trunk/data/gfx48/st-window.png
   trunk/data/models-2d.lua
   trunk/src/stones_complex.cc
   trunk/src/stones_internal.hh
Log:
-> Really simple testimages for st-window
-> Bugfix for rev 768 compilation error



Added: trunk/data/gfx32/st-window-break.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx32/st-window-break.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: trunk/data/gfx32/st-window.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx40/st-window-break.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx40/st-window-break.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: trunk/data/gfx40/st-window.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx48/st-window-break.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx48/st-window-break.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: trunk/data/gfx48/st-window.png
===================================================================
(Binary files differ)

Added: trunk/data/gfx64/st-window.png
===================================================================
(Binary files differ)


Property changes on: trunk/data/gfx64/st-window.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: trunk/data/models-2d.lua
===================================================================
--- trunk/data/models-2d.lua	2007-06-10 22:43:23 UTC (rev 786)
+++ trunk/data/models-2d.lua	2007-06-11 21:41:43 UTC (rev 787)
@@ -1144,9 +1144,15 @@
 
 -- st-window --
 do
-    DefSolidStoneWithAnim ("st-window", 4, 80)
+    DefSubimages("st-window", {modelname="st-window",w=4,h=4})
+    DefAlias("st-window","st-window16")
+
+    -- Breaking animimation:
+    local images = DefSubimages("st-window-break", {h=4})
+    DefAnim("st-window-anim", BuildFrames(images, 130))
 end
 
+
 -----------------
 -- Oxyd Stones --
 -----------------

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2007-06-10 22:43:23 UTC (rev 786)
+++ trunk/src/stones_complex.cc	2007-06-11 21:41:43 UTC (rev 787)
@@ -847,9 +847,9 @@
             KillStone(get_pos());
         }
         
-        void init_model() {   // temp - delete when the images are ready
-            set_model("st-window");
-        }
+        //void init_model() {   // temp - delete when the images are ready
+        //    set_model("st-window");
+        //}
 
     public:
         Window(int connections) : ConnectiveStone("st-window", connections),

Modified: trunk/src/stones_internal.hh
===================================================================
--- trunk/src/stones_internal.hh	2007-06-10 22:43:23 UTC (rev 786)
+++ trunk/src/stones_internal.hh	2007-06-11 21:41:43 UTC (rev 787)
@@ -126,7 +126,7 @@
             set_attrib("connections", connections);
         }
 
-        DirectionBits ConnectiveStone::get_connections() const {
+        DirectionBits get_connections() const {
             int conn = (int)getAttr("connections") - 1;
             if (conn >=0 && conn <16)
                 return DirectionBits(conn);
@@ -135,11 +135,11 @@
         }
     protected:
 
-        void ConnectiveStone::init_model() {
+        void init_model() {
             set_model(get_kind()+ecl::strf("%d", get_modelno()));
         }
     private:
-        int ConnectiveStone::get_modelno() const {
+        int get_modelno() const {
             return getAttr("connections");
         }
     };



From ral at mail.berlios.de  Tue Jun 12 14:29:47 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 12 Jun 2007 14:29:47 +0200
Subject: [Enigma-game-svn] r788 - trunk/src
Message-ID: <200706121229.l5CCTlqV000029@sheep.berlios.de>

Author: ral
Date: 2007-06-12 14:29:46 +0200 (Tue, 12 Jun 2007)
New Revision: 788

Modified:
   trunk/src/world.cc
Log:
Trunk 1.1:
- fix 786 collision code for inner east-face window collisions
Note:
- Window class still misses correct replacement in case of face
  breaks


Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-11 21:41:43 UTC (rev 787)
+++ trunk/src/world.cc	2007-06-12 12:29:46 UTC (rev 788)
@@ -763,7 +763,7 @@
                 c.normal        = V2(+1, 0);
                 c.is_contact = true;
                 isInnerContact = true;
-            } else if ((winFacesActorStone&EASTBIT) && (ax <= x+1-2*erad_window_const-r-contact_e)) {
+            } else if ((winFacesActorStone&EASTBIT) && (ax > x+1-2*erad_window_const-r-contact_e)) {
                 c.contact_point = V2(x+1-2*erad_window_const, ay);
                 c.normal        = V2(-1,0);
                 c.is_contact = true;



From ral at mail.berlios.de  Tue Jun 19 23:14:41 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 19 Jun 2007 23:14:41 +0200
Subject: [Enigma-game-svn] r791 - trunk/src
Message-ID: <200706192114.l5JLEfHv005750@sheep.berlios.de>

Author: ral
Date: 2007-06-19 23:14:41 +0200 (Tue, 19 Jun 2007)
New Revision: 791

Modified:
   trunk/src/world.cc
Log:
Trunk 1.1: 
- fix inner window collisions to avoid contacts to adjacent stones
- fix speed limit on actors - apply it directly
- fix crashes due to actors moving outside of world


Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-16 19:22:50 UTC (rev 790)
+++ trunk/src/world.cc	2007-06-19 21:14:41 UTC (rev 791)
@@ -732,7 +732,7 @@
             if ((winFacesActorStone&face) && !(face_neighbour&face)) {
                 // contact to a inner corner of a window stone
                 // same code as external corner below
-                Log << "inner corner\n";
+//                Log << "inner corner\n";
                 double cx[2] = {cdist, -cdist};
         
                 V2 corner(x+xcorner+cx[xcorner], y+ycorner+cx[ycorner]);
@@ -900,8 +900,8 @@
  * actor.
  * @arg a   the actor that causes contacts
  * @arg p   the grid position of the actor and the Window stone
- * @arg c0  a contact info for a contact. The normal has no need of being intialized
- * @arg c1  a contact info for a contact. The normal has no need of being intialized
+ * @arg c0  a contact info for a east or west contact. The normal has no need of being intialized
+ * @arg c1  a contact info for a noth or south contact. The normal has no need of being intialized
  * @arg winFacesActorStone  the faces of a Window stone on the actors grid position
  */
 void World::find_contact_with_window(Actor *a, GridPos p, StoneContact &c0, StoneContact &c1,
@@ -961,58 +961,99 @@
         // upper grid part
         if (x - g.x < re) {
             // upper left edge
-            c0.normal = V2(+1, +1);  // no need of normalization - just direction
-            c1.normal = V2(0, +1);
-            c2.normal = V2(+1, 0);
-            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y);
-            find_contact_with_edge(a, GridPos(g.x - 1, g.y - 1), GridPos(g.x, g.y - 1),
-                    GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
+            if (c1.is_contact)
+                // inner west window contact - just look for north adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0, winFacesActorStone);
+            else if (c2.is_contact)
+                // inner north window contact - just look for west adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0, winFacesActorStone);
+            else {
+                c0.normal = V2(+1, +1);  // no need of normalization - just direction
+                c1.normal = V2(0, +1);
+                c2.normal = V2(+1, 0);
+                c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y);
+                find_contact_with_edge(a, GridPos(g.x - 1, g.y - 1), GridPos(g.x, g.y - 1),
+                        GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
+            }
         } else if (-x + (g.x + 1) < re) {
             // upper right edge
-            c0.normal = V2(-1, +1);  // no need of normalization - just direction
-            c1.normal = V2(0, +1);
-            c2.normal = V2(-1, 0);
-            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y);
-            find_contact_with_edge(a, GridPos(g.x + 1, g.y -1), GridPos(g.x, g.y - 1),
-                    GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
+            find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+            if (c1.is_contact)
+                // inner east window contact - just look for north adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0, winFacesActorStone);
+            else if (c2.is_contact)
+                // inner north window contact - just look for east adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0, winFacesActorStone);
+            else {
+                c0.normal = V2(-1, +1);  // no need of normalization - just direction
+                c1.normal = V2(0, +1);
+                c2.normal = V2(-1, 0);
+                c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y);
+                find_contact_with_edge(a, GridPos(g.x + 1, g.y -1), GridPos(g.x, g.y - 1),
+                        GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
+            }
         } else {
             // upper middle part
-            find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0, winFacesActorStone);
             find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+            if (!c2.is_contact)
+                // only hit adjacent stone if no inner window is in front
+                find_contact_with_stone(a, GridPos(g.x, g.y - 1), c0, winFacesActorStone);
         }
     } else if (-y + (g.y +1) < re) {
         // lower grid part
         if (x - g.x < re) {
             // lower left edge
-            c0.normal = V2(+1, -1);  // no need of normalization - just direction
-            c1.normal = V2(0, -1);
-            c2.normal = V2(+1, 0);
-            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y+1);
-            find_contact_with_edge(a, GridPos(g.x - 1, g.y + 1), GridPos(g.x, g.y + 1),
-                    GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
+            if (c1.is_contact)
+                // inner west window contact - just look for south adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0, winFacesActorStone);
+            else if (c2.is_contact)
+                // inner south window contact - just look for west adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0, winFacesActorStone);
+            else {
+                c0.normal = V2(+1, -1);  // no need of normalization - just direction
+                c1.normal = V2(0, -1);
+                c2.normal = V2(+1, 0);
+                c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x, g.y+1);
+                find_contact_with_edge(a, GridPos(g.x - 1, g.y + 1), GridPos(g.x, g.y + 1),
+                        GridPos(g.x - 1, g.y), c0, c1, c2, winFacesActorStone);
+            }
         } else if (-x + (g.x + 1) < re) {
             // lower right edge
-            c0.normal = V2(-1, -1);  // no need of normalization - just direction
-            c1.normal = V2(0, -1);
-            c2.normal = V2(-1, 0);
-            c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y+1);
-            find_contact_with_edge(a, GridPos(g.x + 1, g.y + 1), GridPos(g.x, g.y +1),
-                    GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
+            if (c1.is_contact)
+                // inner east window contact - just look for south adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0, winFacesActorStone);
+            else if (c2.is_contact)
+                // inner south window contact - just look for east adjacent stone contact 
+                find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0, winFacesActorStone);
+            else {
+                c0.normal = V2(-1, -1);  // no need of normalization - just direction
+                c1.normal = V2(0, -1);
+                c2.normal = V2(-1, 0);
+                c0.contact_point = c1.contact_point = c2.contact_point = V2(g.x+1, g.y+1);
+                find_contact_with_edge(a, GridPos(g.x + 1, g.y + 1), GridPos(g.x, g.y +1),
+                        GridPos(g.x + 1, g.y), c0, c1, c2, winFacesActorStone);
+            }
         } else {
             // lower middle part
-            find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0, winFacesActorStone);
             find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+            if (!c2.is_contact)
+                // only hit adjacent stone if no inner window is in front
+                find_contact_with_stone(a, GridPos(g.x, g.y + 1), c0, winFacesActorStone);
         }
     } else {
         // middle grid part
         if (x - g.x < re) {
             // left middle part
-            find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0, winFacesActorStone);
             find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+            if (!c1.is_contact)
+                // only hit adjacent stone if no inner window is in front
+                find_contact_with_stone(a, GridPos(g.x - 1, g.y), c0, winFacesActorStone);
         } else if (-x + (g.x + 1) < re) {
             // right middle part
-            find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0, winFacesActorStone);
             find_contact_with_window(a, GridPos(g.x, g.y), c1, c2, winFacesActorStone);
+            if (!c1.is_contact)
+                // only hit adjacent stone if no inner window is in front
+                find_contact_with_stone(a, GridPos(g.x + 1, g.y), c0, winFacesActorStone);
         } else {
             // actor in center of grid - just inner window contacts
             find_contact_with_window(a, GridPos(g.x, g.y), c0, c1, winFacesActorStone);
@@ -1298,13 +1339,19 @@
     force += ai.collforce;
 
     ai.vel += dtime * force / ai.mass;
-    ai.pos += dtime * ai.vel;
-    did_move_actor(a);
-
     // Limit maximum velocity
     double q = length(ai.vel) / MAXVEL;
     if (q > 1)
         ai.vel /= q;
+
+    ai.pos += dtime * ai.vel;
+    // avoid actors outside of world
+    if (ai.pos[0] < 0) ai.pos[0] = 0.0;
+    if (ai.pos[0] >= w) ai.pos[0] = w - 1e-12;
+    if (ai.pos[1] < 0) ai.pos[1] = 0.0;
+    if (ai.pos[1] >= h) ai.pos[1] = h - 1e-12;
+
+    did_move_actor(a);
 }
 
 void World::did_move_actor(Actor *a) {



From ral at mail.berlios.de  Wed Jun 20 23:36:43 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Wed, 20 Jun 2007 23:36:43 +0200
Subject: [Enigma-game-svn] r792 - trunk/src
Message-ID: <200706202136.l5KLahIv020045@sheep.berlios.de>

Author: ral
Date: 2007-06-20 23:36:42 +0200 (Wed, 20 Jun 2007)
New Revision: 792

Modified:
   trunk/src/actors.hh
   trunk/src/world.cc
Log:
Trunk 1.1: 
- fix actors pushing other actors into walls (workaround)
- increase max actor contacts to 7 for small actors
- commenting collision code
ToDo:
- the collision forces should respect each others constraining force

Modified: trunk/src/actors.hh
===================================================================
--- trunk/src/actors.hh	2007-06-19 21:14:41 UTC (rev 791)
+++ trunk/src/actors.hh	2007-06-20 21:36:42 UTC (rev 792)
@@ -62,7 +62,7 @@
         : pos(pos_), normal (normal_) {} 
     };
     
-#define MAX_CONTACTS 5
+#define MAX_CONTACTS 7
 
     struct Field;
     /*!  

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-19 21:14:41 UTC (rev 791)
+++ trunk/src/world.cc	2007-06-20 21:36:42 UTC (rev 792)
@@ -676,6 +676,18 @@
       is filled is filled with information about the closest feature
       on the stone and `is_contact' is set to false. 
 */
+
+/**
+ * Examine a possible contact of an actor with stone at a given grid position. Joins
+ * of outer corners have to be announced. All other cases are handeled.
+ * @arg a  the actor that may cause a contact
+ * @arg p  the grid position
+ * @arg c  the contact info to be filled
+ * @arg winFacesActorStone  the faces of a Window stone on the actors grid position
+ * @arg isRounded  defaults to true and can be set to false for a join of the
+ *         relevant outer edge
+ * @arg st  stone at gridposition if already known
+ */
 void World::find_contact_with_stone(Actor *a, GridPos p, StoneContact &c,
         DirectionBits winFacesActorStone, bool isRounded, Stone *st) {
             
@@ -710,29 +722,41 @@
     // Inner bounce of a window stone
     if ((ax >= x) && (ax < x+1) && (ay >= y) && (ay < y+1) ) {
         if (isWindow) {
+            // preparations for inner corners of a window stone:
+            // 8 inner corners can cause bounces if they are not joined with a 
+            // neighbour window face:
+            // .1....2.
+            // 8......3
+            // ..    ..
+            // ..    ..
+            // ..    ..
+            // ..    ..
+            // 7......4
+            // .6....5.
+            // the actor can hit just one of the corners - get the candidate first:
             int xcorner = (ax >= x+0.5);
             int ycorner = (ay >= y+0.5);
+            
+            // get the neighbour window that might eliminate the corner by a join
             int xoff_neighbour = (ax < x+erad_window_const) ? -1 : (ax > x+1-erad_window_const); 
             int yoff_neighbour = (ay < y+erad_window_const) ? -1 : (ay > y+1-erad_window_const);
-            
-//            Log << "xc " << xcorner << "  yc " << ycorner << "  xn " << xoff_neighbour << "  yn " << yoff_neighbour << "\n";
-            
-            DirectionBits face = NODIRBIT;
+                        
+            // get the candidate face of the window
+            DirectionBits face = NODIRBIT;  
             if      (!xcorner && yoff_neighbour) face = WESTBIT;
             else if ( xcorner && yoff_neighbour) face = EASTBIT;
             else if (!ycorner && xoff_neighbour) face = NORTHBIT;
             else if ( ycorner && xoff_neighbour) face = SOUTHBIT;
             
+            // the faces that the neighbour window owns
             stones::ConnectiveStone * neighbour = dynamic_cast<stones::ConnectiveStone *>
                     (world::GetStone(GridPos(x+xoff_neighbour, y+yoff_neighbour)));
             DirectionBits face_neighbour = (neighbour) ? neighbour->get_connections() : NODIRBIT;
             
-//            Log << "face " << face << "  facen " << face_neighbour << "  winface " << winFacesActorStone << "\n";
             
             if ((winFacesActorStone&face) && !(face_neighbour&face)) {
-                // contact to a inner corner of a window stone
+                // contact to an inner corner of a window stone
                 // same code as external corner below
-//                Log << "inner corner\n";
                 double cx[2] = {cdist, -cdist};
         
                 V2 corner(x+xcorner+cx[xcorner], y+ycorner+cx[ycorner]);
@@ -747,7 +771,8 @@
                 c.normal        = normalize(b);
                 c.contact_point = corner + c.normal*cdist;
                 isInnerContact = true;
-                
+            
+            // all straight contacts to inner window faces including the corners that are joined    
             } else if ((winFacesActorStone&SOUTHBIT) && (ay > y+1-2*erad_window_const-r-contact_e)) {
                 c.contact_point = V2(ax, y+1-2*erad_window_const);
                 c.normal        = V2(0,-1);
@@ -1107,6 +1132,13 @@
                 }
             }
 
+            // remove collision forces components from actor-actor collisions 
+            // in direction of stone
+            double normal_component = sc.normal * ai.collforce;
+            if (normal_component < 0) {
+                ai.collforce -= normal_component * sc.normal;
+            }
+
             double dt = ActorTimeStep;
             ai.collforce -= (1 + restitution)*(ai.vel*sc.normal)*sc.normal / dt * ai.mass;
         }
@@ -1321,7 +1353,7 @@
    H the size of the integration step. */
 void World::advance_actor (Actor *a, double dtime)
 {
-    const double MAXVEL = 70;
+    const double MAXVEL = 70;  // 70 grids/s  < min_actor_radius/timestep !
 
     ActorInfo &ai = *a->get_actorinfo();
     V2 force = ai.force;
@@ -1350,6 +1382,7 @@
     if (ai.pos[0] >= w) ai.pos[0] = w - 1e-12;
     if (ai.pos[1] < 0) ai.pos[1] = 0.0;
     if (ai.pos[1] >= h) ai.pos[1] = h - 1e-12;
+    
 
     did_move_actor(a);
 }



From ral at mail.berlios.de  Sat Jun 23 12:38:16 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Sat, 23 Jun 2007 12:38:16 +0200
Subject: [Enigma-game-svn] r793 - trunk/src
Message-ID: <200706231038.l5NAcGSN007341@sheep.berlios.de>

Author: ral
Date: 2007-06-23 12:38:15 +0200 (Sat, 23 Jun 2007)
New Revision: 793

Modified:
   trunk/src/world.cc
   trunk/src/world_internal.hh
Log:
Trunk 1.1: 
- fix diagonal grid move: ensure that no actor moves directly to a diagonal
  grid position without prior touching one of the adjacent grids
Note:
- this fix takes any chance for a marble of passing abyss without falling
- water can still be passed due to the default sinking speed

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-20 21:36:42 UTC (rev 792)
+++ trunk/src/world.cc	2007-06-23 10:38:15 UTC (rev 793)
@@ -1330,16 +1330,17 @@
         for (unsigned i=0; i<nactors; ++i) {
             Actor     *a  = actorlist[i];
             ActorInfo &ai = * a->get_actorinfo();
+            double dtime = dt;
 
             if (!a->can_move()) {
                 if (length(ai.force) > 30)
                     client::Msg_Sparkle (ai.pos);
                 ai.vel = V2();
             } else if (!a->is_dead() && a->is_movable() && !ai.grabbed) {
-                advance_actor(a, dt);
+                advance_actor(a, dtime);
             }
-            a->move ();         // 'move' nevertheless, to pick up items etc
-            a->think (dt); 
+            a->move();         // 'move' nevertheless, to pick up items etc
+            a->think(dtime); 
         }
         for_each (m_rubberbands.begin(), m_rubberbands.end(), 
                   mem_fun(&RubberBand::apply_forces));
@@ -1351,11 +1352,12 @@
 /* This function performs one step in the numerical integration of an
    actor's equation of motion.  TIME ist the current absolute time and
    H the size of the integration step. */
-void World::advance_actor (Actor *a, double dtime)
+void World::advance_actor (Actor *a, double &dtime)
 {
     const double MAXVEL = 70;  // 70 grids/s  < min_actor_radius/timestep !
 
     ActorInfo &ai = *a->get_actorinfo();
+    V2 oldPos = ai.pos;
     V2 force = ai.force;
 
     // If the actor is currently in contact with other objects, remove
@@ -1383,6 +1385,39 @@
     if (ai.pos[1] < 0) ai.pos[1] = 0.0;
     if (ai.pos[1] >= h) ai.pos[1] = h - 1e-12;
     
+    // disallow direct diagonal grid moves
+    GridPos oldGridPos(oldPos);
+    GridPos newGridPos(ai.pos);
+    if (oldGridPos.x != newGridPos.x && oldGridPos.y != newGridPos.y) {
+        // split diagonal grid move in the middle of the path over the missed grid
+        V2 newPos = ai.pos;
+        V2 midPos;
+        V2 corner(0.5 + (newGridPos.x + oldGridPos.x)/2.0, 0.5 + (newGridPos.y + oldGridPos.y)/2.0);
+        double tx = (corner[1] - oldPos[1])/ai.vel[1];
+        double ty = (corner[0] - oldPos[0])/ai.vel[0];
+        double mid_t = (tx + ty)/2;
+        midPos[0] = (oldPos[0] + ai.vel[0]* tx + corner[0])/2.0;
+        midPos[1] = (oldPos[1] + ai.vel[1]* ty + corner[1])/2.0;
+        // detect moves directly on the first diagonal of a grid
+        if (midPos == corner && ((midPos[0] == oldGridPos.x && midPos[1] == oldGridPos.y) ||
+                ((midPos[0] == oldGridPos.x + 1) && (midPos[1] == oldGridPos.y + 1)))) {
+            // as the edge belongs to either old or new position we would never hit an
+            // adjacent grid and thus would pass the diagonal unchecked.
+            // we disturb the movement with a random minimal temporarily correcture
+            midPos += (0.5 - IntegerRand(0,1)) * V2(1e-10, -1e-10); 
+        }
+        ai.pos = midPos;
+        did_move_actor(a);
+        a->move();         // 'move' nevertheless, to pick up items etc
+        a->think(mid_t);   // partial time
+        dtime -= mid_t;    // rest time
+        if (!a->is_dead() && a->is_movable() && !ai.grabbed && ai.pos == midPos) {
+            ai.pos = newPos;
+        } else {
+            // something happend - do not continue old move
+            return;
+        }
+    }
 
     did_move_actor(a);
 }

Modified: trunk/src/world_internal.hh
===================================================================
--- trunk/src/world_internal.hh	2007-06-20 21:36:42 UTC (rev 792)
+++ trunk/src/world_internal.hh	2007-06-23 10:38:15 UTC (rev 793)
@@ -316,7 +316,7 @@
         V2 get_local_force (Actor *a);
         V2 get_global_force (Actor *a);
 
-        void advance_actor (Actor *a, double h);
+        void advance_actor (Actor *a, double &dt);
         void move_actors (double dtime);
         void find_contact_with_stone(Actor *a, GridPos p, StoneContact &c, 
                 DirectionBits winFacesActorStone = NODIRBIT,



From ral at mail.berlios.de  Mon Jun 25 01:47:53 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Mon, 25 Jun 2007 01:47:53 +0200
Subject: [Enigma-game-svn] r794 - trunk/src
Message-ID: <200706242347.l5ONlrwt032741@sheep.berlios.de>

Author: ral
Date: 2007-06-25 01:47:53 +0200 (Mon, 25 Jun 2007)
New Revision: 794

Modified:
   trunk/src/stones_complex.cc
   trunk/src/world.cc
   trunk/src/world.hh
Log:
Trunk 1.1: 
- Window: replace broken Window with correct model that misses just the
  broken faces


Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2007-06-23 10:38:15 UTC (rev 793)
+++ trunk/src/stones_complex.cc	2007-06-24 23:47:53 UTC (rev 794)
@@ -830,21 +830,30 @@
 
         void actor_hit(const StoneContact &sc) {
             Actor *a = sc.actor;
+            // TODO do we want to allow breaks while breaking?
             if (state == IDLE) {
-            double impulse = -(a->get_vel() * sc.normal) * get_mass(a);
-            if (impulse > 35) {
-                SendMessage(a, "shatter");
-            }
-
-        if (impulse > 25) {
+                double impulse = -(a->get_vel() * sc.normal) * get_mass(a);
+                if (impulse > 35) {
+                    SendMessage(a, "shatter");
+                }
+    
+                if (impulse > 25) {
+                    breakingFaces = sc.faces;
+                    set_attrib("connections", (get_connections() & ~breakingFaces) +1);
                     sound_event ("shatter");
                     state = BREAK;
-                    set_anim("st-window-anim");
+                    set_anim("st-window-anim");  // TODO anim with remainig unbroken faces
                 }
             }
         }
         void animcb() {
-            KillStone(get_pos());
+            DirectionBits faces = get_connections();
+            DirectionBits newFaces = DirectionBits(faces & ~breakingFaces);
+            if (newFaces == NODIRBIT)
+                KillStone(get_pos());
+            else {
+                ReplaceStone(get_pos(), new Window(newFaces+1));
+            }
         }
         
         //void init_model() {   // temp - delete when the images are ready
@@ -853,10 +862,12 @@
 
     public:
         Window(int connections) : ConnectiveStone("st-window", connections),
-                state(IDLE) {
+                state(IDLE), breakingFaces(NODIRBIT) {
         }
         virtual bool is_sticky(const Actor *a) const;
         StoneResponse collision_response(const StoneContact &sc);
+    private:
+        DirectionBits breakingFaces;
     };
     DEF_TRAITS(Window, "st-window", st_window);
 
@@ -866,19 +877,14 @@
     
     StoneResponse Window::collision_response(const StoneContact &sc) {
         const double face_width = 3.0/32.0; 
-//        DirectionBits dirs = contact_faces(sc);
         DirectionBits faces = get_connections();
-//        Log << "coll respo: dirs " << dirs << "  faces " << faces << "  c-x " << sc.contact_point[0] << "  s-x " <<get_pos().x;
-            
 
         if (((sc.contact_point[0] <= get_pos().x + face_width) && faces&WESTBIT) ||
                 ((sc.contact_point[0] >= get_pos().x + 1 - face_width) && faces&EASTBIT) ||
                 ((sc.contact_point[1] <= get_pos().y + face_width) && faces&NORTHBIT) ||
                 ((sc.contact_point[1] >= get_pos().y + 1 - face_width) && faces&SOUTHBIT)) {
-//            Log << " - rebound\n";
             return STONE_REBOUND;
         } else {
-//            Log << " - pass\n";
             return STONE_PASS;
         }
     }

Modified: trunk/src/world.cc
===================================================================
--- trunk/src/world.cc	2007-06-23 10:38:15 UTC (rev 793)
+++ trunk/src/world.cc	2007-06-24 23:47:53 UTC (rev 794)
@@ -277,24 +277,21 @@
 
 /* -------------------- StoneContact -------------------- */
 
-StoneContact::StoneContact(Actor *a, GridPos p,
-                           const V2 &cp, const V2 &n)
-: actor(a), stonepos(p),
-  response(STONE_PASS),
-  contact_point(cp),
-  normal(n),
-  is_collision(false),
-  ignore (false),
-  new_collision(false),
-  is_contact(true)
-{}
+//StoneContact::StoneContact(Actor *a, GridPos p,
+//                           const V2 &cp, const V2 &n)
+//: actor(a), stonepos(p),
+//  response(STONE_PASS),
+//  contact_point(cp),
+//  normal(n),
+//  is_collision(false),
+//  ignore (false),
+//  new_collision(false),
+//  is_contact(true)
+//{}
 
-StoneContact::StoneContact()
-: is_collision(false),
-  ignore (false),
-  new_collision(false),
-  is_contact(false)
-{}
+StoneContact::StoneContact() : is_collision (false), ignore (false), new_collision (false),
+  is_contact (false), outerCorner (false) {
+}
 
 DirectionBits
 world::contact_faces(const StoneContact &sc)
@@ -692,6 +689,8 @@
         DirectionBits winFacesActorStone, bool isRounded, Stone *st) {
             
     c.is_contact = false;
+    c.faces = NODIRBIT;
+    c.outerCorner = false;
     bool isInnerContact = false;
 
     Stone *stone = (st != NULL) ? st : world::GetStone(p);
@@ -769,6 +768,7 @@
         
                 c.is_contact    = (length(b)-r-cdist < contact_e);
                 c.normal        = normalize(b);
+                c.faces = face;
                 c.contact_point = corner + c.normal*cdist;
                 isInnerContact = true;
             
@@ -776,21 +776,25 @@
             } else if ((winFacesActorStone&SOUTHBIT) && (ay > y+1-2*erad_window_const-r-contact_e)) {
                 c.contact_point = V2(ax, y+1-2*erad_window_const);
                 c.normal        = V2(0,-1);
+                c.faces = SOUTHBIT;
                 c.is_contact = true;
                 isInnerContact = true;
             } else if ((winFacesActorStone&NORTHBIT) && (ay <= y+2*erad_window_const+r+contact_e)) {
                 c.contact_point = V2(ax, y+2*erad_window_const);
                 c.normal        = V2(0,+1);
+                c.faces = NORTHBIT;
                 c.is_contact = true;
                 isInnerContact = true;
             } else if ((winFacesActorStone&WESTBIT) && (ax <= x+2*erad_window_const+r+contact_e)) {
                 c.contact_point = V2(x+2*erad_window_const, ay);
                 c.normal        = V2(+1, 0);
+                c.faces = WESTBIT;
                 c.is_contact = true;
                 isInnerContact = true;
             } else if ((winFacesActorStone&EASTBIT) && (ax > x+1-2*erad_window_const-r-contact_e)) {
                 c.contact_point = V2(x+1-2*erad_window_const, ay);
                 c.normal        = V2(-1,0);
+                c.faces = EASTBIT;
                 c.is_contact = true;
                 isInnerContact = true;
             }
@@ -809,15 +813,23 @@
         if (ay>y+1) {
             c.contact_point = V2(ax, y+1);
             c.normal        = V2(0, +1);
+            c.faces = SOUTHBIT;
             dist            = ay-(y+1);
         }
         // north
         else if (ay<y) {
             c.contact_point = V2(ax, y);
             c.normal        = V2(0,-1);
+            c.faces = NORTHBIT;
             dist            = y-ay;
         }
         c.is_contact = (dist-r < contact_e);
+        
+        if (isWindow && (((ay>y+1)&&!(wsides&SOUTHBIT)) || ((ay<y)&&!(wsides&NORTHBIT)))) {
+            // actor did hit joined part of end face
+            if (ax<=x+erad_window_const) c.faces = WESTBIT;
+            else c.faces = EASTBIT;
+        }
     }
     // Closest feature == west or east face of the stone?
     else if (ay>=y+erad && ay<y+1-erad && (!isWindow || ((ax>x+1)&&(wsides&EASTBIT)) ||
@@ -826,14 +838,21 @@
         if (ax>x+1) { // east
             c.contact_point = V2(x+1, ay);
             c.normal        = V2(+1, 0);
+            c.faces = EASTBIT;
             dist            = ax-(x+1);
         }
         else if (ax<x) { // west
             c.contact_point = V2(x, ay);
             c.normal        = V2(-1, 0);
+            c.faces = WESTBIT;
             dist            = x-ax;
         }
-	c.is_contact = (dist-r < contact_e);
+    	c.is_contact = (dist-r < contact_e);
+        if (isWindow && (((ax>x+1)&&!(wsides&EASTBIT)) || ((ax<x)&&!(wsides&WESTBIT)))) {
+            // actor did hit joined part of end face
+            if (ay<=y+erad_window_const) c.faces = NORTHBIT;
+            else c.faces = SOUTHBIT;
+        }
     }
     // Closest feature == any of the four corners
     else if (!isWindow || !(
@@ -858,6 +877,29 @@
         c.is_contact    = (length(b)-r-cdist < contact_e);
         c.normal        = normalize(b);
         c.contact_point = corner + c.normal*cdist;
+        if (!isWindow) {
+            if (abs(b[0]) >= abs(b[1])) {
+                if (b[0] < 0) c.faces = DirectionBits(c.faces | WESTBIT);
+                else c.faces = DirectionBits(c.faces | EASTBIT);
+            } else if (abs(b[1]) >= abs(b[0])) {
+                if (b[1] < 0) c.faces = DirectionBits(c.faces | NORTHBIT);
+                else c.faces = DirectionBits(c.faces | SOUTHBIT);
+            }
+        } else {
+            if (!xcorner && (b[0]>0 || (!ycorner&&!(wsides&NORTHBIT)) || 
+                    (ycorner&&!(wsides&SOUTHBIT)) || (abs(b[0]) >= abs(b[1])))) 
+                c.faces = DirectionBits(c.faces | WESTBIT);
+            if (xcorner && (b[0]<0 || (!ycorner&&!(wsides&NORTHBIT)) || 
+                    (ycorner&&!(wsides&SOUTHBIT)) || (abs(b[0]) >= abs(b[1])))) 
+                c.faces = DirectionBits(c.faces | EASTBIT);
+            if (ycorner && (b[1]<0 || (!xcorner&&!(wsides&WESTBIT)) || 
+                    (xcorner&&!(wsides&EASTBIT)) || (abs(b[1]) >= abs(b[0])))) 
+                c.faces = DirectionBits(c.faces | SOUTHBIT);
+            if (!ycorner && (b[1]>0 || (!xcorner&&!(wsides&WESTBIT)) || 
+                    (xcorner&&!(wsides&EASTBIT)) || (abs(b[1]) >= abs(b[0])))) 
+                c.faces = DirectionBits(c.faces | NORTHBIT);
+        }
+        c.outerCorner = true;
     }
 
     if (c.is_contact) {

Modified: trunk/src/world.hh
===================================================================
--- trunk/src/world.hh	2007-06-23 10:38:15 UTC (rev 793)
+++ trunk/src/world.hh	2007-06-24 23:47:53 UTC (rev 794)
@@ -86,6 +86,8 @@
 
         V2      contact_point;  // Where do the shapes meet? (world coordinates)
         V2      normal;         // The surface normal at the contact point
+        DirectionBits faces;    // Faces hit on contact - may be two on edge contact
+        bool    outerCorner;    // Did actor hit an outer corner of the stone
         bool    is_collision;   // Actor moves towards the stone, not away
         bool    ignore;         // Ignore this contact
         bool    new_collision;  // True if actor did not touch the stone before
@@ -93,10 +95,10 @@
         std::string sound;
 
         // Constructor.
-        StoneContact (Actor *a,
-                      GridPos stonepos,
-                      const V2 & contact_point,
-                      const V2 & surface_normal);
+//        StoneContact (Actor *a,
+//                      GridPos stonepos,
+//                      const V2 & contact_point,
+//                      const V2 & surface_normal);
         StoneContact();
     };
 



From raoul at mail.berlios.de  Mon Jun 25 19:11:03 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Mon, 25 Jun 2007 19:11:03 +0200
Subject: [Enigma-game-svn] r795 - in homepage/input: . lotm
Message-ID: <200706251711.l5PHB35R004917@sheep.berlios.de>

Author: raoul
Date: 2007-06-25 19:11:02 +0200 (Mon, 25 Jun 2007)
New Revision: 795

Added:
   homepage/input/lotm/lotm_200707.html
   homepage/input/lotm/lotm_200707_de.html
Modified:
   homepage/input/infobox.html
   homepage/input/infobox_de.html
   homepage/input/lotm/lotm_core.html
   homepage/input/lotm/lotm_core_de.html
   homepage/input/output-files.lua
Log:
-> VERY basic update for the latest LotM (07 2007)



Modified: homepage/input/infobox.html
===================================================================
--- homepage/input/infobox.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/infobox.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -4,10 +4,10 @@
          All compilations inclusive Mac OS X are now available. See recent news for
 	 details.
          <h3>Level of the Month</h3>
-         <a href="$$lotm_200706$$"><img src="$$imagedir$$/lotm/lotm_200706.png"
+         <a href="$$lotm_200707$$"><img src="$$imagedir$$/lotm/lotm_200707.png"
          alt="Level of the month" border="0"></a>
          <div class="imagetitle">
-           <a href="$$lotm_200706$$">&quot;Labyrinth of Puzzles&quot;</a>
+           <a href="$$lotm_200707$$">&quot;Elaborate&quot;</a>
          </div>
          <h3>Rating Statistics</h3>
 	 Score submitters can review their number of ratings and their average

Modified: homepage/input/infobox_de.html
===================================================================
--- homepage/input/infobox_de.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/infobox_de.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -4,10 +4,10 @@
          Alle Compilationen inklusive Mac OS X sind nun verf&uuml;gbar. Siehe aktuelle
 	 Neuigkeiten f?r Details.
          <h3>Level des Monats</h3>
-         <a href="$$lotm_200706$$"><img src="$$imagedir$$/lotm/lotm_200706.png"
+         <a href="$$lotm_200707$$"><img src="$$imagedir$$/lotm/lotm_200707.png"
          alt="Level des Monats" border="0"></a>
          <div class="imagetitle">
-           <a href="$$lotm_200706$$">&quot;Labyrinth of Puzzles&quot;</a>
+           <a href="$$lotm_200707$$">&quot;Elaborate&quot;</a>
          </div>
          <h3>Bewertungsstatistik</h3>
 	 Einsender von Ergebnissen k&ouml;nnen auf der <a href="$$statistics$$">

Added: homepage/input/lotm/lotm_200707.html
===================================================================
--- homepage/input/lotm/lotm_200707.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/lotm/lotm_200707.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -0,0 +1,90 @@
+<div class="lotm">
+<h2>Level of the Month</h2>
+
+  <p>Each month, we take a closer look at excellent Enigma levels. Excellent
+  levels are those with the highest average user ratings and the greatest
+  number of ratings altogether. Thus it is your vote that determines the
+  Level of the Month. So please rate the levels you play and do not forget to
+  submit your ratings together with your scores at the end of each month. You
+  can find all previous Levels of the Month in our <a href="$$lotm$$"
+  >archive</a>.</p>
+
+  <h3 class="lotm">
+    <span class="date">July 2007: </span>
+    &quot;Elaborate&quot; by Jacob Scott
+  </h3>
+
+  <p>No Suprise&hellip; Another level by Duffy voted for &quot;Level of the Month&quot;.
+  Of course, Duffy is on of the greatest level designer for Enigma and his 
+  production of spectacular levels looks unstoppable.
+  The level &quot;Elaborate&quot; is currently on a score of 8.67 with 6 votes, this 
+  brings &quot;Elaborate&quot; to 3rd place in the <a href="$$lotm$$">LotM archive</a>.</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_a.png" alt="Level of the month" border="0">
+    <div class="imagetitle">Enigma V # 65</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">Some records of June 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">7:42</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">11:04</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">13:23</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">14:25</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">17:44</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">20:57</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">23:05</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">24:03</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:18</td>
+        <td class="left">Tarim</td></tr>
+  </table>
+
+  <h4>&quot;Just how the level blends into action&quot;</h4>
+
+  <p>Duffy has mixed both action and puzzles in this old massive masterpiece. Of 
+  Course, most people would look at this level and think most of the puzzles, 
+  But this level needs a top quality mouse just to pass the fast and slow 
+  obstacles. The exitement you recieve from this level is over the scale. 
+  &quot;You'll never know what is coming up next&hellip;&quot; Is a phrase this level uses 
+  ALOT.</p>
+
+  <h4>&quot;Some Pointers&quot;</h4>
+  <p>As I started this level on my computer and stared in thought I said: &quot;Where 
+  will I go first?&quot; As you can see this level will take a long time to pass 
+  if you look at the records. So I got the cherry avoiding the Super Confusing 
+  Puzzle to the north and I came to the room with a line of water, underneath 
+  I was unsatisfied to read the message saying &quot;It's not that easy&quot;. Straight 
+  after I was killed by an invisible skull. You will need to wander from room 
+  to room to find the right solution. Then there was the Puzzle&hellip; Most of the 
+  puzzles in this level are Simple yet Challenging, like the room directly 
+  north of the starting point.
+  If you are as dumb witted as me at this level and you want to pass this 
+  level&hellip; I recommend speaking with &quot;Stupid&quot; or &quot;Moneymaker&quot; for they can 
+  sure show us how levels are done.
+  The level has an interesting start too, a bunch of question mark blocks 
+  surrounding your escape. Not many people quote this in levels but the 
+  landscape is well thought out and doesn't look dodgy at all. This level is 
+  one of the oldest levels that has won the LotM award by Duffy and is one of 
+  the levels with the most rooms.</p>
+
+  <p>I still can't believe that Duffy has made over 150 Levels. Thats a whole 
+  level set and a half. His levels have inspired me to create the puzzling 
+  levels I like to make. Well that pretty much sums it up&hellip; Duffy is a Level
+  making Machine&hellip; A very Smart one too :-)</p>
+
+  <p>Greets,<br/>
+  <i>LotM Authors</i></p>
+
+</div>


Property changes on: homepage/input/lotm/lotm_200707.html
___________________________________________________________________
Name: svn:eol-style
   + native

Added: homepage/input/lotm/lotm_200707_de.html
===================================================================
--- homepage/input/lotm/lotm_200707_de.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/lotm/lotm_200707_de.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -0,0 +1,76 @@
+<div class="lotm">
+<h2>Level of the Month</h2>
+
+  <p>Jeden Monat werfen wir einen n&auml;heren Blick auf einen herausragenden
+  Level. Herausragende Levels sind dabei solche, die sich durch die
+  h&ouml;chsten Bewertungen durch die Spieler auszeichnen, und dabei zugleich
+  von gen&uuml;gend vielen Spielern auch bewertet wurden. Es ist also Ihre
+  Wahl, die den Level des Monats bestimmt. Bitte werten Sie Levels, nachdem
+  Sie sie gespielt haben, und vergessen Sie nicht, die Wertungen zusammen mit
+  Ihren Spielergebnissen zum Ende eines jeden Monats uns zuzusenden.
+  Sie k&ouml;nnen alle vorigen Level des Monats in unserem <a href="$$lotm$$"
+  >Archiv</a> finden.</p>
+
+  <h3 class="lotm">
+    <span class="date">Juli 2007: </span>
+    &quot;Elaborate&quot; von Jacob Scott
+  </h3>
+
+  <p>No Suprise&hellip; Another level by Duffy voted for &quot;Level of the Month&quot;.
+  Of course, Duffy is on of the greatest level designer for Enigma and his 
+  production of spectacular levels looks unstoppable.
+  The level &quot;Elaborate&quot; is currently on a score of 8.67 with 6 votes, this 
+  brings &quot;Elaborate&quot; to 3rd place in the <a href="$$lotm$$">LotM Archiv</a>.</p>
+
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_a.png" alt="Level des Monats" border="0">
+    <div class="imagetitle">Enigma V # 65</div>
+  </div>
+
+  <table cellpadding="0" cellspacing="1" class="statistics">
+    <caption class="normalcaption">Einige Rekorde vom Juni 2007</caption>
+    <colgroup>
+       <col width="80">
+       <col width="160">
+    </colgroup>
+    <tr><td class="num">7:42</td>
+        <td class="left">Stupid</td></tr>
+    <tr><td class="num">11:04</td>
+        <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">13:23</td>
+        <td class="left">Ronald</td></tr>
+    <tr><td class="num">14:25</td>
+        <td class="left">Taztunes</td></tr>
+    <tr><td class="num">17:44</td>
+        <td class="left">biotopa</td></tr>
+    <tr><td class="num">20:57</td>
+        <td class="left">Ale</td></tr>
+    <tr><td class="num">23:05</td>
+        <td class="left">Ghatotkacha</td></tr>
+    <tr><td class="num">24:03</td>
+        <td class="left">ryujun</td></tr>
+    <tr><td class="num">32:18</td>
+        <td class="left">Tarim</td></tr>
+  </table>
+
+
+  <h4>&quot;Just how the level blends into action&quot;</h4>
+
+  <p>Duffy has mixed both action and puzzles in this old massive masterpiece. Of 
+  Course, most people would look at this level and think most of the puzzles, 
+  But this level needs a top quality mouse just to pass the fast and slow 
+  obstacles. The exitement you recieve from this level is over the scale. 
+  &quot;You'll never know what is coming up next&hellip;&quot; Is a phrase this level uses 
+  ALOT.</p>
+
+  <p>TODO(raoul): fill in the rest of the Lotm text</p>
+
+  <p>I still can't believe that Duffy has made over 150 Levels. Thats a whole 
+  level set and a half. His levels have inspired me to create the puzzling 
+  levels I like to make. Well that pretty much sums it up&hellip; Duffy is a Level
+  making Machine&hellip; A very Smart one too :-)</p>
+
+  <p>Sch&ouml;ne Gr&uuml;&szlig;e,<br/>
+  <i>Die LotM Autoren</i></p>
+
+</div>


Property changes on: homepage/input/lotm/lotm_200707_de.html
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: homepage/input/lotm/lotm_core.html
===================================================================
--- homepage/input/lotm/lotm_core.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/lotm/lotm_core.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -54,6 +54,13 @@
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
+    <tr><td class="right">8.67</td>
+        <td class="right">(6)</td>
+        <td class="right">July '07</td>
+        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">V/65</td>
+    </tr>
   </table>
 
 </div>

Modified: homepage/input/lotm/lotm_core_de.html
===================================================================
--- homepage/input/lotm/lotm_core_de.html	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/lotm/lotm_core_de.html	2007-06-25 17:11:02 UTC (rev 795)
@@ -57,6 +57,13 @@
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
+    <tr><td class="right">8.67</td>
+        <td class="right">(6)</td>
+        <td class="right">Juli '07</td>
+        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">V/65</td>
+    </tr>
   </table>
 
 </div>

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2007-06-24 23:47:53 UTC (rev 794)
+++ homepage/input/output-files.lua	2007-06-25 17:11:02 UTC (rev 795)
@@ -223,4 +223,12 @@
     body = {"lotm/lotm_200706"}
 }
 
+html.lotm_200707 = {
+    outfile = "lotm_200707.html",
+    title = "Level of the Month: July 2007",
+    title_de =  "Level des Monats: Juli 2007",
+    rightcolumn = {},
+    body = {"lotm/lotm_200707"}
+}
+
 ----------------------------------------------------------------------



From ral at mail.berlios.de  Tue Jun 26 00:11:51 2007
From: ral at mail.berlios.de (ral at BerliOS)
Date: Tue, 26 Jun 2007 00:11:51 +0200
Subject: [Enigma-game-svn] r796 - trunk/src
Message-ID: <200706252211.l5PMBpBN025745@sheep.berlios.de>

Author: ral
Date: 2007-06-26 00:11:51 +0200 (Tue, 26 Jun 2007)
New Revision: 796

Modified:
   trunk/src/items.cc
   trunk/src/stones_complex.cc
Log:
Trunk 1.1: 
- window: push faces with wrench from outside
- window: pull faces with puller from inside


Modified: trunk/src/items.cc
===================================================================
--- trunk/src/items.cc	2007-06-25 17:11:02 UTC (rev 795)
+++ trunk/src/items.cc	2007-06-25 22:11:51 UTC (rev 796)
@@ -2233,10 +2233,20 @@
             sound_event ("puller");
         }
         void animcb() {
-            Direction dir      = get_orientation();
-            GridPos   stonepos = move(get_pos(), reverse(dir));
-
-            send_impulse(stonepos, dir);
+            Direction dir = get_orientation();
+            
+            // usage within a st-window
+            Stone *stone = world::GetStone(get_pos());
+            if (stone && (stone->get_traits().id == st_window) &&
+                    to_bool(SendMessage(stone, "inner_pull", dir))) {
+            }
+            
+            // usage in front of a stone
+            else {
+                GridPos   stonepos = move(get_pos(), reverse(dir));
+                send_impulse(stonepos, dir);
+            }
+            
             sound_event ("dynamite");
             replace (it_explosion1);
         }

Modified: trunk/src/stones_complex.cc
===================================================================
--- trunk/src/stones_complex.cc	2007-06-25 17:11:02 UTC (rev 795)
+++ trunk/src/stones_complex.cc	2007-06-25 22:11:51 UTC (rev 796)
@@ -837,13 +837,26 @@
                     SendMessage(a, "shatter");
                 }
     
-                if (impulse > 25) {
+                else if (impulse > 25) {
                     breakingFaces = sc.faces;
                     set_attrib("connections", (get_connections() & ~breakingFaces) +1);
                     sound_event ("shatter");
                     state = BREAK;
-                    set_anim("st-window-anim");  // TODO anim with remainig unbroken faces
+                    set_anim("st-window-anim");  // TODO anim with remaining unbroken faces
                 }
+                
+                else if (player::WieldedItemIs (sc.actor, "it-wrench")) {
+                    DirectionBits faces = get_connections();
+                    if (sc.faces == WESTBIT && sc.normal[0] < 0){
+                        tryInnerPull(EAST);
+                    } else if (sc.faces == EASTBIT && sc.normal[0] > 0) {
+                        tryInnerPull(WEST);
+                    } else if (sc.faces == SOUTHBIT && sc.normal[1] > 0) {
+                        tryInnerPull(NORTH);
+                    } else if (sc.faces == NORTHBIT && sc.normal[1] < 0) {
+                        tryInnerPull(SOUTH);
+                    }
+                }
             }
         }
         void animcb() {
@@ -855,10 +868,6 @@
                 ReplaceStone(get_pos(), new Window(newFaces+1));
             }
         }
-        
-        //void init_model() {   // temp - delete when the images are ready
-        //    set_model("st-window");
-        //}
 
     public:
         Window(int connections) : ConnectiveStone("st-window", connections),
@@ -866,8 +875,10 @@
         }
         virtual bool is_sticky(const Actor *a) const;
         StoneResponse collision_response(const StoneContact &sc);
+        virtual Value message(const string &msg, const Value &val);
     private:
         DirectionBits breakingFaces;
+        bool tryInnerPull(Direction dir);
     };
     DEF_TRAITS(Window, "st-window", st_window);
 
@@ -888,9 +899,29 @@
             return STONE_PASS;
         }
     }
+    
+    Value Window::message(const string &msg, const Value &val) {
+        if (msg == "inner_pull" ) {
+            return Value(tryInnerPull(to_direction(val)));
+        }
+        return Value();
+    }
+    
+    bool Window::tryInnerPull(Direction dir) {
+        DirectionBits faces = get_connections();
+        if (!has_dir(faces, dir) && has_dir(faces, reverse(dir))){
+            Stone *stone = world::GetStone(move(get_pos(), dir));
+            if (!stone || ((stone->get_traits().id == st_window) &&  
+                    !has_dir(dynamic_cast<stones::ConnectiveStone *>(stone)->get_connections(), reverse(dir)))) {
+                ReplaceStone(get_pos(), new Window((faces&(~to_bits(reverse(dir)))|to_bits(dir))+1));
+                return true;
+            }
+        }
+        return has_dir(faces, dir);
+    }
 }
 
-
+
 /* -------------------- Puzzle stones -------------------- */ 
 
 /** \page st-puzzle Puzzle Stone



From raoul at mail.berlios.de  Thu Jun 28 23:07:20 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Thu, 28 Jun 2007 23:07:20 +0200
Subject: [Enigma-game-svn] r797 - /
Message-ID: <200706282107.l5SL7K90025838@sheep.berlios.de>

Author: raoul
Date: 2007-06-28 23:07:20 +0200 (Thu, 28 Jun 2007)
New Revision: 797

Added:
   add-ons/
Log:
-> add-ons directory




From andreasl at mail.berlios.de  Fri Jun 29 12:14:44 2007
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Fri, 29 Jun 2007 12:14:44 +0200
Subject: [Enigma-game-svn] r798 - trunk/doc/manual
Message-ID: <200706291014.l5TAEiUR001097@sheep.berlios.de>

Author: andreasl
Date: 2007-06-29 12:14:43 +0200 (Fri, 29 Jun 2007)
New Revision: 798

Modified:
   trunk/doc/manual/enigma.texi
   trunk/doc/manual/enigma_de.texi
Log:
User Manual:
 - Added section 4.5 on how to install and deinstall
   user sound sets, English and German.
Todo:
 - other translations
 - Reference Manual
 - upload of first user sound set
 - Is the URL correct? Should it be part of the manual?


Modified: trunk/doc/manual/enigma.texi
===================================================================
--- trunk/doc/manual/enigma.texi	2007-06-28 21:07:20 UTC (rev 797)
+++ trunk/doc/manual/enigma.texi	2007-06-29 10:14:43 UTC (rev 798)
@@ -805,6 +805,7 @@
 * Backup::                      What to backup for security
 * Registering Scores::          Let the world know your success
 * Updating Enigma::             Keeping scores and levels on an update
+* User Sound Sets::             How to install sound sets from the internet
 @end menu
 
 @node User Level Packs, Backup, Advanced Topics, Advanced Topics
@@ -853,7 +854,7 @@
 To automatically download the updated world record score lists, you just need to
 enable the option @samp{Ratings Update}.
 
- at node Updating Enigma, , Registering Scores, Advanced Topics
+ at node Updating Enigma, User Sound Sets, Registering Scores, Advanced Topics
 @section Updating Enigma
 
 If you did not customize your old Enigma version, simply deinstall the old
@@ -873,6 +874,33 @@
 If you want to read levels that you saved from the old installation, please
 read the Reference Manual.
 
+ at node User Sound Sets, , Updating Enigma, Advanced Topics
+ at section User Sound Sets
+
+A sound set is the sum of all sounds that appear in the game and the menus. 
+Enigma 1.01 and above allows you to switch between the default sound set and
+sound sets you downloaded from the internet or created yourself.
+
+To install a downloaded sound set, close Enigma and create a subdirectory named
+ at samp{soundsets} in your @samp{User Path}. Unpack the downloaded 
+sound set if neccessary. Its files should all be inside one directory with the
+name of the soundset, e.g. @samp{MyGreatSounds15}. Move this directory into the
+ at samp{soundsets} directory. Check that the @samp{soundset.lua} file is now
+located at @samp{soundsets/MyGreatSounds15/soundset.lua}. Start Enigma and open
+the @samp{Options} menu. Click on the @samp{Sound set} button until the new
+sound set appears. Switch back to @samp{Default} or @samp{Enigma} to activate
+the old sound set again.
+
+To uninstall a sound set, close Enigma and remove the directory
+which contains the obsolete sound set (e.g. @samp{MyGreatSounds15}). You need
+not remove the @samp{soundsets} directory.
+
+Please find a detailed explanation on how to create sound sets yourself in the
+Reference Manual and in the sample file @samp{soundset.lua} which is located in
+the same directory as the Reference Manual. You can download sound sets that
+other users submitted to us from
+ at samp{http://svn.berlios.de/svnroot/repos/enigma-game/add-ons/soundsets}.
+
 @node Spoilers, Credits, Advanced Topics, Top
 @chapter Spoilers
 

Modified: trunk/doc/manual/enigma_de.texi
===================================================================
--- trunk/doc/manual/enigma_de.texi	2007-06-28 21:07:20 UTC (rev 797)
+++ trunk/doc/manual/enigma_de.texi	2007-06-29 10:14:43 UTC (rev 798)
@@ -879,10 +879,11 @@
 @chapter Fortgeschrittene Themen
 
 @menu
-* User-Levelpakete::            History, Search Results and Auto
-* Backups::                     What to backup for security
-* Ergebnisse hochladen::        Let the world know your success
-* Enigma updaten::              Keeping scores and levels on an update
+* User-Levelpakete::            History, Search Result und Auto
+* Backups::                     Was in ein Sicherheits-Backup sollte
+* Ergebnisse hochladen::        Lassen Sie die Welt von Ihren Erfolgen wissen
+* Enigma updaten::              Rekorde und Levels auf dem neuesten Stand halten
+* Sound-Schemas::               Wie Sie Soundsets aus dem Internet installieren k@"onnen
 @end menu
 
 @node User-Levelpakete, Backups, Fortgeschrittene Themen, Fortgeschrittene Themen
@@ -943,7 +944,7 @@
 aktivieren Sie einfach die Option @samp{Update Bewertungen} im
 @ref{Einstellungen}-Men@"u.
 
- at node Enigma updaten, , Ergebnisse hochladen, Fortgeschrittene Themen
+ at node Enigma updaten, Sound-Schemas, Ergebnisse hochladen, Fortgeschrittene Themen
 @section Enigma updaten
 
 Sofern Sie Ihre alte Enigma-Version nicht pers@"onlich angepasst haben,
@@ -968,6 +969,38 @@
 @"ubernehmen m@"ochten, konsultieren Sie bitte das Referenz-Handbuch, da
 sich das Levelformat ver@"andert hat.
 
+ at node Sound-Schemas, , Enigma updaten, Fortgeschrittene Themen
+ at section Sound-Schemas
+
+Ein Sound-Schema (Soundset) ist die Gesamtheit aller Sounds im Spiel und in den
+Men@"us. Enigma 1.01 und j@"unger erlauben es Ihnen, zwischen dem
+Standard-Sound-Schema und solchen Sound-Schemas zu wechseln, die Sie aus dem
+Internet heruntergeladen oder selbst erstellt haben.
+
+Um ein heruntergeladenes Sound-Schema zu installieren, schlie at ss{}en Sie Enigma
+und erstellen Sie ein Unterverzeichnis @samp{soundsets} in Ihrem
+ at samp{Userpfad}. Entpacken Sie das heruntergeladene Sound-Schema falls n@"otig.
+Dessen Dateien sollten sich alle in einem Verzeichnis mit dem Namen des Schemas
+befinden, z.B. @samp{MeineTollenSounds15}. Verschieben Sie dieses Verzeichnis in
+das @samp{soundsets}-Verzeichnis. Stellen Sie sicher, dass sich die Datei
+ at samp{soundset.lua} jetzt unter
+ at samp{soundsets/MeineTollenSounds15/soundset.lua} befindet. Starten Sie Enigma
+und @"offnen Sie die @samp{Einstellungen}. Klicken Sie auf @samp{Sound Schema}
+bis das neue Sound-Schema erscheint. Wechseln Sie zur@"uck zu @samp{Standard}
+oder @samp{Enigma} um das alte Schema wieder zu aktivieren.
+
+Um ein Sound-Schema zu deinstallieren, schlie at ss{}en Sie Enigma und entfernen
+Sie das Verzeichnis, das das unn@"otige Sound-Schema enth@"alt (z.B.
+ at samp{MeineTollenSounds15}). Das @samp{soundsets}-Verzeichnis brauchen Sie
+nicht zu entfernen.
+
+F@"ur eine detaillierte Beschreibung, wie Sie Sound-Schemas selbst erstellen
+k@"onnen, lesen Sie bitte das Referenz-Handbuch oder die Beispieldatei
+ at samp{soundset.lua}, die sich im gleichen Verzeichnis befindet wie das
+Referenz-Handbuch. Sie k@"onnen Sound-Schemas, die andere Spieler @"ubermittelt
+haben, herunterladen von
+ at samp{http://svn.berlios.de/svnroot/repos/enigma-game/add-ons/soundsets}.
+
 @node Tipps und Tricks, Autoren und Danksagungen, Fortgeschrittene Themen, Top
 @chapter Tipps und Tricks
 



From andreasl at mail.berlios.de  Fri Jun 29 14:25:37 2007
From: andreasl at mail.berlios.de (andreasl at BerliOS)
Date: Fri, 29 Jun 2007 14:25:37 +0200
Subject: [Enigma-game-svn] r799 - in add-ons: . soundsets
Message-ID: <200706291225.l5TCPbep023542@sheep.berlios.de>

Author: andreasl
Date: 2007-06-29 14:24:22 +0200 (Fri, 29 Jun 2007)
New Revision: 799

Added:
   add-ons/soundsets/
   add-ons/soundsets/cor.zip
Log:
Add-Ons:
 - added directory "soundsets"
 - added user sound set "CoR" from Cellar of Rats (zip)


Added: add-ons/soundsets/cor.zip
===================================================================
(Binary files differ)


Property changes on: add-ons/soundsets/cor.zip
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From raoul at mail.berlios.de  Fri Jun 29 19:33:55 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Fri, 29 Jun 2007 19:33:55 +0200
Subject: [Enigma-game-svn] r800 - in homepage: images/lotm input/lotm
Message-ID: <200706291733.l5THXtX8028859@sheep.berlios.de>

Author: raoul
Date: 2007-06-29 19:33:53 +0200 (Fri, 29 Jun 2007)
New Revision: 800

Added:
   homepage/images/lotm/lotm_200707.png
   homepage/images/lotm/lotm_200707_a.png
   homepage/images/lotm/lotm_200707_b.png
Modified:
   homepage/input/lotm/lotm_200707.html
   homepage/input/lotm/lotm_200707_de.html
Log:
-> Lotm 07 2007 finished


Added: homepage/images/lotm/lotm_200707.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200707.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: homepage/images/lotm/lotm_200707_a.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200707_a.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Added: homepage/images/lotm/lotm_200707_b.png
===================================================================
(Binary files differ)


Property changes on: homepage/images/lotm/lotm_200707_b.png
___________________________________________________________________
Name: svn:mime-type
   + image/png

Modified: homepage/input/lotm/lotm_200707.html
===================================================================
--- homepage/input/lotm/lotm_200707.html	2007-06-29 12:24:22 UTC (rev 799)
+++ homepage/input/lotm/lotm_200707.html	2007-06-29 17:33:53 UTC (rev 800)
@@ -6,19 +6,18 @@
   number of ratings altogether. Thus it is your vote that determines the
   Level of the Month. So please rate the levels you play and do not forget to
   submit your ratings together with your scores at the end of each month. You
-  can find all previous Levels of the Month in our <a href="$$lotm$$"
-  >archive</a>.</p>
+  can find all previous Levels of the Month in our <a href="$$lotm$$">archive</a>.</p>
 
   <h3 class="lotm">
     <span class="date">July 2007: </span>
     &quot;Elaborate&quot; by Jacob Scott
   </h3>
 
-  <p>No Suprise&hellip; Another level by Duffy voted for &quot;Level of the Month&quot;.
-  Of course, Duffy is on of the greatest level designer for Enigma and his 
-  production of spectacular levels looks unstoppable.
-  The level &quot;Elaborate&quot; is currently on a score of 8.67 with 6 votes, this 
-  brings &quot;Elaborate&quot; to 3rd place in the <a href="$$lotm$$">LotM archive</a>.</p>
+  <p>No surprise &hellip; Another level by Duffy voted for 'Level of the Month'. Of
+  course, Duffy is one of the greatest level designers for Enigma and his
+  production of spectacular levels looks unstoppable. The level 'Elaborate' is
+  currently on a score of 8.67 with 6 votes, this brings 'Elaborate' to 3rd place
+  in the <a href="$$lotm$$">LotM Archives</a>.</p>
 
   <div class="lotmpic">
     <img src="$$imagedir$$/lotm/lotm_200707_a.png" alt="Level of the month" border="0">
@@ -35,6 +34,8 @@
         <td class="left">Stupid</td></tr>
     <tr><td class="num">11:04</td>
         <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:38</td>
+        <td class="left">Daydreamer</td></tr>
     <tr><td class="num">13:23</td>
         <td class="left">Ronald</td></tr>
     <tr><td class="num">14:25</td>
@@ -53,38 +54,145 @@
 
   <h4>&quot;Just how the level blends into action&quot;</h4>
 
-  <p>Duffy has mixed both action and puzzles in this old massive masterpiece. Of 
-  Course, most people would look at this level and think most of the puzzles, 
-  But this level needs a top quality mouse just to pass the fast and slow 
-  obstacles. The exitement you recieve from this level is over the scale. 
-  &quot;You'll never know what is coming up next&hellip;&quot; Is a phrase this level uses 
-  ALOT.</p>
+  <p>Duffy has mixed both action and puzzles in this old massive masterpiece.
+    Of course, most people would look at this level and think mostly of the
+    puzzles, but this level needs a top quality mouse just to pass the fast
+    and slow obstacles. The excitement you receive from this level is over the
+    scale. &quot;You'll never know what is coming up next &hellip;&quot; is a
+    phrase this level uses A LOT.</p>
 
   <h4>&quot;Some Pointers&quot;</h4>
-  <p>As I started this level on my computer and stared in thought I said: &quot;Where 
-  will I go first?&quot; As you can see this level will take a long time to pass 
-  if you look at the records. So I got the cherry avoiding the Super Confusing 
-  Puzzle to the north and I came to the room with a line of water, underneath 
-  I was unsatisfied to read the message saying &quot;It's not that easy&quot;. Straight 
-  after I was killed by an invisible skull. You will need to wander from room 
-  to room to find the right solution. Then there was the Puzzle&hellip; Most of the 
-  puzzles in this level are Simple yet Challenging, like the room directly 
-  north of the starting point.
-  If you are as dumb witted as me at this level and you want to pass this 
-  level&hellip; I recommend speaking with &quot;Stupid&quot; or &quot;Moneymaker&quot; for they can 
-  sure show us how levels are done.
-  The level has an interesting start too, a bunch of question mark blocks 
-  surrounding your escape. Not many people quote this in levels but the 
-  landscape is well thought out and doesn't look dodgy at all. This level is 
-  one of the oldest levels that has won the LotM award by Duffy and is one of 
-  the levels with the most rooms.</p>
+  <p>'As i started this level on my computer and stared in thought I said:
+    'Where will i go first?'. As you can see this level will take a long time
+    to pass if you look at the records. So I got the cherry, avoiding the super
+    confusing puzzle to the north, and i came to the room with a line of water,
+    underneath which i was unsatisfied to read the message saying 'It is not
+    quite that easy'. Straight after i was killed by [ &hellip; ] You will need
+    to wander from room to room to find the right solution. Then there was
+    the puzzle &hellip;</p>
 
-  <p>I still can't believe that Duffy has made over 150 Levels. Thats a whole 
-  level set and a half. His levels have inspired me to create the puzzling 
-  levels I like to make. Well that pretty much sums it up&hellip; Duffy is a Level
-  making Machine&hellip; A very Smart one too :-)</p>
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_b.png" alt="Level of the month" border="0">
+    <div class="imagetitle">One out of many puzzles</div>
+  </div>
 
+  <p>Most of the puzzles in this level are simple yet challenging, like the one
+    in the room directly north of the starting point. If you are as dumb witted
+    as me at this level and you want to pass this level &hellip; I recommend speaking
+    with 'Stupid' or 'Moneymaker' for they can sure show us how levels are done.</p>
+
+  <p>The level has an interesting start too: a bunch of question mark blocks
+    surrounding your escape. Not many people quote this in levels but the
+    landscape is well thought out and doesn't look dodgy at all. Written in
+    2004 it's the third 'classic' by Duffy winning the LotM award, and it is
+    one of the levels with the most rooms. There might be bigger sized levels,
+    &quot;Island Labyrinth&quot; (our first LotM) or &quot;Map it out&quot; for
+    instance, both as well by Duffy, but their number might be low.</p>
+
+  <p class="quote">'Elaborate' is another one of 'Duffy's Delights' - an
+    engrossing, stimulating level that has a little of everything mixed in. You
+    start out surrounded by question marks - an appropriate metaphor for the
+    way Elaborate works. You explore and learn as the level unfolds little by
+    little. It took me a long while before I realized how I could get through
+    the clear stones in the room below the starting place. It's exactly the kind
+    of enigma that I love to solve. You're on a journey to a new and interesting
+    landscape - the elements are familiar, but they are presented in novel ways.
+    You have to go to the ends of the earth to find the tools you need before
+    you can open the Oxyds. You need to plan and to remember - to be deliberate
+    at times, and at others, quick and agile. And be careful not to fall in the
+    water, because once you drown, you drown.</p>
+    <p class="author">Taztunes</p>
+
+  <h4>To me 'Elaborate' was love at second sight</h4>
+
+  <p class="quote">To me 'Elaborate' was love at second sight. On my first visit
+    to 'Elaborate' i spent a lot of marbles to the question mark stones (or
+    rather to some of their mutations) in the starting room before finally
+    gaining admission to the second room. There the encounter with a rotor
+    should have been my last experience with 'Elaborate' for several months.
+    I placed it to category 'Action-Level' class 'Bad Nightmare' and decided
+    not to elaborate on it any further.</p>
+
+  <p class="quote">But when revisiting 'Elaborate' not so long ago, i soon found out i had
+    been wrong! And HOW wrong i've been!! Never had i misjudged a level so much
+    as 'Elaborate'! This killing rotor really ain't that fast and easily can be
+    tricked, and even this rapid moving creature at the bricked hall turns out
+    to be more a playmate than a deadly enemy.</p>
+
+  <p class="quote">But these two parts of action are exceptional, and my general impression of
+    'Elaborate' has become that of a place of contemplation and tranquility.
+    All in all i had the feeling like walking in an arts gallery. Each of the
+    countless rooms presents unique objects or tasks on the background of
+    various sceneries.</p>
+
+  <p class="quote">One has to move very carefully, especially when changing rooms. Concerning
+    this one quite grotesque situation occurs to me: if one moves carelessly
+    fast from a certain room to another and if a certain item is in one's
+    possession, then one gets 'lost in space' - because of increased friction of
+    its nothingness. The mere thought of it still makes me laugh!</p>
+
+  <p class="quote">Though none of the occurring problems can be called difficult by its own,
+    the word 'It's not as easy as it seems' (a quotation from a note you find at
+    a certain place) can be applied to 'Elaborate' as a whole.  And one can't
+    be sure if he's really been to all rooms until finally the 'level finished'
+    message appears!</p>
+
+  <p class="quote">'Elaborate' truly has deserved the honor of becoming 'Level of the month'!
+    Hats off (again) to Jacob Scott!</p>
+  <p class="author">Daydreamer</p>
+
+  <h4>A few words by the author himself</h4>
+
+  <p class="quote">'Elaborate' was one of my more-recent attempts at a new style of level.
+    Instead of the usual labyrinth with small passageways and occasional larger
+    elements, everything in 'Elaborate' is easily partitioned off into separate
+    rooms. However, this does not mean that each section is independent indeed,
+    I think much of the fun comes from figuring out what to or where to go next.
+    Items or other objects in one room must often be brought to others, removing
+    any sort of linearity from the level. Also, I intended the different
+    stone/floor schemes add to the variety of this level and set the tones for
+    the different sections, each with its own unique structure and design.</p>
+
+  <p class="quote">I also attempted to create a level that included many different varieties of
+    puzzles and objects. None are particularly difficult, but overall give a
+    sense of exploration and interconnectedness. 'Elaborate' is also one of the
+    few (practically only) levels that include 'surprise' stones and items
+    (conveniently concealed -- try the room left and down of the start, or a
+    certain harder-to-access location). Usually 'surprise' objects' inherent
+    randomness makes them very difficult to place without allowing for
+    shortcuts, but as none of the regions in 'Elaborate' is too complex and all
+    rely on many different objects, I could include these frequently-forgotten
+    components without worrying about any 'shortcut' bypassing too much. These
+    hidden treasures, I believe, just add to the level's sense of nonlinearity
+    and freedom to adventure.</p>
+
+  <p class="quote">Looking back on this level I still find it enjoyable to play, albeit
+    relatively easy, but I hope that is simply because I am familiar with all
+    its tricks (and secrets). I see 'Elaborate' as an experiment, hopefully
+    successful, in a different type of level, with less emphasis on small yet
+    unforgiving challenges and more on large-scale exploration and discovery. I
+    designed nothing in the level to be particularly formidable individually,
+    but as a whole all the elements should come together to make a very
+    accessible yet nevertheless somewhat taxing level. There are surely multiple
+    ways to progress through 'Elaborate' (which makes world record-hunting much
+    more interesting), creating a more open-ended and intra dependent landscape
+    that still maintains a reasonable level of difficulty and a diverse set of
+    challenges for one to enjoy.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>I still can't believe that Duffy has made over 150 Levels. Thats a whole
+    level set and a half. His levels have inspired me to create the puzzling
+    levels I like to make.<br/>
+    <br/>
+    Well, that pretty much sums it up &hellip;<br/>
+    <br/>
+    &hellip; But no human being is capable of creating so many highly sophisticated levels in no time at all!?<br/>
+    &hellip; Duffy must be a machine! A level making machine!<br/>
+    &hellip; And a very smart one too! :-)<br/>
+    <br/>
+    Welcome to the machine!</p>
+
   <p>Greets,<br/>
-  <i>LotM Authors</i></p>
+  <i>Joe and Harry</i></p>
 
 </div>

Modified: homepage/input/lotm/lotm_200707_de.html
===================================================================
--- homepage/input/lotm/lotm_200707_de.html	2007-06-29 12:24:22 UTC (rev 799)
+++ homepage/input/lotm/lotm_200707_de.html	2007-06-29 17:33:53 UTC (rev 800)
@@ -8,19 +8,21 @@
   Wahl, die den Level des Monats bestimmt. Bitte werten Sie Levels, nachdem
   Sie sie gespielt haben, und vergessen Sie nicht, die Wertungen zusammen mit
   Ihren Spielergebnissen zum Ende eines jeden Monats uns zuzusenden.
-  Sie k&ouml;nnen alle vorigen Level des Monats in unserem <a href="$$lotm$$"
-  >Archiv</a> finden.</p>
+  Sie k&ouml;nnen alle vorigen Level des Monats in unserem <a href="$$lotm$$">Archiv</a>
+  finden.</p>
 
   <h3 class="lotm">
     <span class="date">Juli 2007: </span>
     &quot;Elaborate&quot; von Jacob Scott
   </h3>
 
-  <p>No Suprise&hellip; Another level by Duffy voted for &quot;Level of the Month&quot;.
-  Of course, Duffy is on of the greatest level designer for Enigma and his 
-  production of spectacular levels looks unstoppable.
-  The level &quot;Elaborate&quot; is currently on a score of 8.67 with 6 votes, this 
-  brings &quot;Elaborate&quot; to 3rd place in the <a href="$$lotm$$">LotM Archiv</a>.</p>
+  <p>Keine &Uuml;berraschung: wieder ist einer von Duffys Leveln zum &quot;Level
+    des Monats&quot; gew&auml;hlt worden! Versteht sich schon fast von selbst,
+    denn Duffy ist einer unserer kreativsten Level Autoren, und seine
+    Schaffenskraft f&uuml;r spektakul&auml;re Level scheint unaufhaltsam zu
+    sein. &quot;Elaborate&quot; belegt zur Zeit den 3ten Platz in unserem
+    <a href="$$lotm$$">Level des Monats Archiv</a>, mit einem Ergebnis von 8,67
+    Punkten bei 6 abgegebenen Stimmen.</p>
 
   <div class="lotmpic">
     <img src="$$imagedir$$/lotm/lotm_200707_a.png" alt="Level des Monats" border="0">
@@ -37,6 +39,8 @@
         <td class="left">Stupid</td></tr>
     <tr><td class="num">11:04</td>
         <td class="left">Moneymaker</td></tr>
+    <tr><td class="num">12:38</td>
+        <td class="left">Daydreamer</td></tr>
     <tr><td class="num">13:23</td>
         <td class="left">Ronald</td></tr>
     <tr><td class="num">14:25</td>
@@ -54,23 +58,203 @@
   </table>
 
 
-  <h4>&quot;Just how the level blends into action&quot;</h4>
+  <h4>&quot;Wie der Level Handlungselemente integriert&quot;</h4>
 
-  <p>Duffy has mixed both action and puzzles in this old massive masterpiece. Of 
-  Course, most people would look at this level and think most of the puzzles, 
-  But this level needs a top quality mouse just to pass the fast and slow 
-  obstacles. The exitement you recieve from this level is over the scale. 
-  &quot;You'll never know what is coming up next&hellip;&quot; Is a phrase this level uses 
-  ALOT.</p>
+  <p>Duffy hat beides, Action und Puzzles, in diesem umfangreichen, mit 3
+    Jahren schon etwas betagten Meisterwerk kunstvoll miteinander vermischt.
+    Sicher, die meisten Leute werden zuerst an die Puzzles denken, wenn sie auf
+    &quot;Elaborate&quot; zur&uuml;ckblicken, aber es bedarf schon einer Maus
+    der Spitzenklasse, um an all den Hindernissen, egal ob schnell oder langsam,
+    vorbeizukommen. Die Aufregungen, die einem dieser Level bereitet, entziehen
+    sich jeder Messbarkeit! &quot;Man weiss nie, was als N&auml;chstes kommen
+    wird&quot; ist die Devise f&uuml;r &quot;Elaborate&quot;!</p>
 
-  <p>TODO(raoul): fill in the rest of the Lotm text</p>
+  <h4>&quot;Einige Hinweise&quot;</h4>
+  <p>Als ich &quot;Elaborate&quot; zum ersten Mal auf meinem PC gestartet habe,
+    starrte ich wie gebannt auf den Bildschirm, nur mit einer Frage
+    besch&auml;ftigt: &quot;Wo fang' ich bloss an?!&quot; Wenn ihr euch die
+    High-Score-Liste anschaut, werdet ihr feststellen, dass es einige Zeit in
+    Anspruch nehmen wird, diesen Level durch zuspielen. Ich entschied mich
+    schliesslich daf&uuml;r, das superverwirrende Puzzle im Norden zu vermeiden,
+    und machte mich mit der Kirsche im Gep&auml;ck auf den Weg nach S&uuml;den. 
+    Nach einiger Zeit kam ich in einen Raum mit einem Wassergraben, und in einem
+    Raum weiter s&uuml;dlich fand ich dann einen Brief mit dem beunruhigenden
+    Inhalt: &quot;Es ist nicht ganz so einfach!&quot; Kurz darauf war's um mich
+    geschehen! Ihr werdet einige Zeit von Raum zu Raum wandern m&uuml;ssen, bis
+    ihr schliesslich die richtige L&ouml;sung gefunden habt. Und dann war da
+    noch das Puzzle &hellip;</p>
 
-  <p>I still can't believe that Duffy has made over 150 Levels. Thats a whole 
-  level set and a half. His levels have inspired me to create the puzzling 
-  levels I like to make. Well that pretty much sums it up&hellip; Duffy is a Level
-  making Machine&hellip; A very Smart one too :-)</p>
+  <div class="lotmpic">
+    <img src="$$imagedir$$/lotm/lotm_200707_b.png" alt="Level des Monats" border="0">
+    <div class="imagetitle">Eines von vielen R&auml;tseln</div>
+  </div>
 
+  <p>Die meisten Puzzles sind zwar recht einfach aber dennoch reizvoll, wie zum
+    Beispiel das von mir gemiedene n&ouml;rdlich vom Startpunkt. Wenn aber
+    jemand von euch so schwer von Begriff ist wie ich bei diesem Level, dann
+    sollte er sich wegen L&ouml;sungshinweisen lieber an &quot;Moneymaker&quot;
+    oder &quot;Stupid&quot; wenden, die wissen wo's lang geht!</p>
+
+  <p>&quot;Elaborate&quot; hat auch einen aussergew&ouml;hnlich interessanten
+    Beginn: Man ist umgeben von einem Haufen mit Fragezeichen markierter
+    Bl&ouml;cke, die ein Weiterkommen unm&ouml;glich zu machen scheinen! Nicht
+    vielen Leuten scheint das in ihren Level-Kommentaren eine Erw&auml;hnung
+    wert zu sein, aber mir f&auml;llt auf, dass die ganze Landschaft von
+    &quot;Elaborate&quot; wohl durchdacht ist und den Eindruck von sicherer
+    Hand entworfen worden zu sein macht. Im Jahr 2004 verfasst ist
+    &quot;Elaborate&quot; bereits der dritte &quot;Klassiker&quot; von Duffy,
+    der als &quot;Level des Monats&quot; ausgezeichnet wird. Und
+    &quot;Elaborate&quot; ist einer der Level mit den meisten R&auml;umen!
+    Es mag zwar umfangreichere Level geben, wie z.B. unseren ersten LdM
+    &quot;Island Labyrinth&quot;, oder &quot;Map it out&quot;, beide ebenfalls
+    von Duffy, aber all zu viele d&uuml;rften es nicht sein.</p>
+
+  <p class="quote">&quot;Elaborate&quot; ist ein weiterer von Duffy's
+    Glanzpunkten, ein fesselnder und anregender Level, der ein Bisschen von
+    Allem in sich vereint. Man beginnt das Spiel umgeben von Fragezeichen - eine
+    passende Metapher f&uuml;r die Art und Weise wie &quot;Elaborate&quot;
+    aufgebaut ist. Man erforscht und lernt w&auml;hrend sich der Level nach und
+    nach vor einem entfaltet. Es hat eine ganze Weile gedauert bis ich
+    herausgefunden habe, wie man die Glassteine in dem Raum s&uuml;dlich vom
+    Startpunkt durchqueren kann. Es ist ganz genau die Art von &quot;Enigma&quot;
+    , die ich zu l&ouml;sen liebe. Man ist auf der Reise durch eine neue und
+    interessante Landschaft, zwar sind die einzelnen Elemente vertraut, aber
+    sie werden einem auf ganz neuartige Weise pr&auml;sentiert. Man muss bis
+    ans Ende der Welt reisen, um all die Werkzeuge zu finden, die man
+    ben&ouml;tigt, bevor man endlich alle Oxyds ge&ouml;ffnet hat. Man muss
+    planen und erinnern, manchmal bed&auml;chtig sein, und dann wieder schnell
+    und wendig. Und sei vorsichtig nicht ins Wasser zu fallen, denn wenn du
+    ertrinkst, dann ertrinkst du!</p>
+  <p class="author">Taztunes</p>
+
+  <h4>F&uuml;r mich war &quot;Elaborate&quot; Liebe auf den zweiten Blick.</h4>
+
+  <p class="quote">F&uuml;r mich war &quot;Elaborate&quot; Liebe auf den zweiten
+    Blick. Mein erster Kontakt mit &quot;Elaborate&quot; verlief nicht sehr
+    erfreulich: Nachdem ich eine ganze Menge Murmeln an diese Bl&ouml;cke mit
+    den Fragezeichen (bzw. an deren Transmutationen) verloren hatte, konnte ich
+    mir zwar Zutritt zum zweiten Raum verschaffen, aber dort war ein wegen des
+    Verlustes seiner Lieblingskirsche etwas durchgedrehter W&auml;rter das
+    Letzte, was ich von &quot;Elaborate&quot; f&uuml;r mehrere Monate zu sehen
+    bekam. Ich ordnete es in die Kategorie &quot;Action-Level&quot;, Klasse
+    &quot;Bad Nightmare&quot; ein, und beschloss nicht weiter &quot;an diesem
+    Kunstwerk zu arbeiten&quot;.</p> 
+
+  <p class="quote">Aber als ich mich vor einiger Zeit, kurz nachdem es mir
+    endlich gelungen war, den Action-Part mit den beiden Rotoren in
+    &quot;Variety Pack&quot; zu bew&auml;ltigen (einem weitereren
+    ausgezeichneten Level von Duffy, der einige &Auml;hnlichkeiten mit
+    &quot;Elaborate&quot; aufweist), daf&uuml;r entschied, &quot;Elaborate&quot;
+    einen zweiten Besuch abzustatten, musste ich sehr bald feststellen, dass
+    ich mit meiner ersten Einsch&auml;tzung gr&uuml;ndlich daneben gelegen
+    hatte. Und WIE daneben! Selten habe ich mich bei der Beurteilung eines
+    Levels so sehr geirrt wie bei &quot;Elaborate&quot;. Der &quot;durchgedrehte
+    W&auml;rter&quot; ist doch 'ne ziemlich lahme Ente und l&auml;sst sich
+    leicht austricksen, und selbst der mit &quot;Speed&quot; anget&ouml;rnte
+    Knabe in dem Ziegelsteinraum erweist sich als netter Spielkamerad.</p>
+
+  <p class="quote">Aber diese beiden &quot;Action-Parts&quot; sind
+    (gl&uuml;cklicherweise) die Ausnahme, und der Haupteindruck, den ich
+    mittlerweile von &quot;Elaborate&quot; gewonnen habe, ist der eines Ortes
+    der Ruhe und Besinnlichkeit. Alles in allem hatte ich das Gef&uuml;hl, mich
+    auf einer Kunstausstellung zu befinden, w&auml;hrend ich in
+    &quot;Elaborate&quot; von Raum zu Raum wanderte. Jeder der zahllosen
+    R&auml;ume pr&auml;sentiert einzigartige Objekte oder Aufgaben vor dem
+    Hintergrund verschiedenartigster Landschaften!</p>
+
+  <p class="quote">Man mu&szlig; sich sehr vorsichtig bewegen in &quot;Elaborate&quot;,
+    besonders dann, wenn man einen neuen Raum betritt. Dazu f&auml;llt mir eine ziemlich
+    groteske Situation ein: wenn man sich beim Betreten eines bestimmten Raumes
+    sorgloserweise etwas zu schnell bewegt und wenn man einen bestimmten
+    Gegenstand im Gep&auml;ck hat, dann geht man in den endlosen Weiten des
+    Weltraums verloren, genauer gesagt man bleibt stecken, weil durch besagten
+    Gegenstand der Reibungswiderstand der unerme&szlig;lichen Leere des Raumes ins
+    Unermessliche gesteigert wird. Der blosse Gedanke an diese Szene bringt mich
+    immer noch zum Lachen!</p>
+
+  <p class="quote">Obwohl keines der vorkommenden Probleme f&uuml;r sich
+    genommen als schwierig bezeichnet werden kann, sind die Worte &quot;Es ist
+    nicht ganz so einfach!&quot; (ein Zitat aus einem Dokument, das man an
+    einem bestimmten Ort findet) doch f&uuml;r &quot;Elaborate&quot; als Ganzes
+    zutreffend. Und man kann sich nie sicher sein, ob man auch wirklich in
+    allen R&auml;umen gewesen ist bis schliesslich die &quot;Level geschafft&quot;
+    Meldung erscheint!</p>
+
+  <p class="quote">&quot;Elaborate&quot; hat die Wahl zum &quot;Level des
+    Monats&quot; wahrlich verdient. Einmal mehr: Hut ab vor Jacob Scott!</p>
+  <p class="author">Daydreamer</p>
+
+  <h4>Und hier ein paar Worte des Autors zu seinem Werk</h4>
+
+  <p class="quote">&quot;Elaborate&quot; war einer meiner Versuche j&uuml;ngeren
+    Datums einen neuen Stil von Level zu entwerfen. Anstelle des &uuml;blichen
+    Labyrinths mit schmalen G&auml;ngen und vereinzelt vorkommenden gr&ouml;&szlig;eren
+    Elementen, ist in &quot;Elaborate&quot; alles einfach auf separate R&auml;ume
+    verteilt. Dies bedeutet jedoch nicht, dass jeder Abschnitt unabh&auml;ngig
+    ist - tats&auml;chlich denke ich, dass ein Grossteil des Spielvergn&uuml;gens
+    daraus resultiert, herauszufinden was man als n&auml;chstes tun oder wohin
+    man als n&auml;chstes gehen soll. Objekte m&uuml;ssen h&auml;ufig von dem
+    einen in den anderen Raum gebracht werden, so wird jegliche Art von
+    Linearit&auml;t aus dem Level entfernt. Ebenso war es meine Absicht, dass
+    die verschiedenen Muster aus Boden- und Wandsteinen f&uuml;r Abwechslung in
+    diesem Level sorgen, und die Grundstimmungen f&uuml;r die einzelnen Abschnitte
+    angeben, ein jeder mit seiner ganz eigenen Struktur und einzigartigem Design.<p>
+
+  <p class="quote">Auch habe ich versucht einen Level zu kreieren, der eine
+    Vielfalt unterschiedlicher Puzzles und Objekte enth&auml;lt. Keines der
+    Puzzles ist an und f&uuml;r sich besonders schwierig, aber als Ganzes
+    genommen vermitteln sie einem das Gef&uuml;hl etwas zu erforschen und den
+    Eindruck, dass sie miteinander in Zusammenhang stehen. &quot;Elaborate&quot;
+    ist ausserdem einer der wenigen (genau genommen der einzige) Level, in
+    dem &quot;&Uuml;berraschungs&quot;-Steine und &quot;&Uuml;berraschungs&quot;-Gegenst&auml;nde
+    vorkommen, einer ist an einem &quot;hammerhart&quot; zu erreichenden Ort
+    verborgen, versucht's mal in dem Raum [ &hellip; ]lich vom Beginn, der zweite
+    an einer anderen noch etwas &quot;h&auml;rter&quot; zug&auml;nglichen Stelle.
+    Im Allgemeinen ist es aufgrund ihrer &quot;Zufalls-Eigenart&quot; ziemlich
+    schwierig die &quot;&Uuml;berraschungs&quot;-Gegenst&auml;nde so zu platzieren,
+    dass sie keine &quot;Shortcuts&quot; erm&ouml;glichen. Da aber keine der
+    Regionen in &quot;Elaborate&quot; all zu komplex ist, und die L&ouml;sung
+    f&uuml;r sie alle von mehreren Objekten abh&auml;ngt, konnte ich diese
+    schon h&auml;ufig in Vergessenheit geratenen Komponenten verwenden ohne mir
+    &uuml;ber eventuelle &quot;Shortcuts&quot; Gedanken machen zu m&uuml;ssen.
+    Diese verborgenen Sch&auml;tze bereichern, wie ich denke, den Level im Sinne
+    der Nonlinearit&auml;t und der Abenteuerfreiheit.<p>
+
+  <p class="quote">Wenn ich auf diesen Level zur&uuml;ckblicke, finde ich, dass
+    es mir immer noch Spass macht ihn zu spielen, obwohl er relativ einfach ist,
+    aber ich hoffe doch, es f&auml;llt mir nur deshalb so leicht, weil ich mit
+    ihm vertraut bin und alle seine Tricks und Geheimnisse kenne. Ich sehe
+    &quot;Elaborate&quot; als ein (hoffentlich gegl&uuml;cktes) Experiment an,
+    einen neuen Leveltyp zu entwickeln, mit weniger Betonung auf kleinen aber
+    dennoch &quot;nachtragenden&quot; Herausforderungen, als viel mehr auf
+    gross angelegten Forschungs- und Entdeckungsreisen. Ich habe in diesem Level
+    nichts entworfen, was als Einzelnes besonders Furcht erregend sein soll,
+    aber all die einzelnen Elemente als Ganzes sollten einen Level bilden, der
+    zwar leicht zug&auml;nglich aber nichtsdestotrotz nur mit einiger Anstrengung
+    zu bew&auml;ltigen ist. Es gibt sicher vielf&auml;ltige Wege um in
+    &quot;Elaborate&quot; voranzukommen (was die Jagd auf den Weltrekord
+    bestimmt um einiges interessanter macht), wodurch eine Landschaft entsteht,
+    f&uuml;r die nur schwer eine genaue Spieldauer angegeben werden kann, und
+    deren einzelne Bestandteile sich gegenseitig bedingen, und die dennoch ein
+    annehmbares Schwierigkeitsniveau bietet sowie eine etwas andersartige
+    Sammlung von Herausforderungen zur Unterhaltung bereitstellt.</p>
+  <p class="author">Jacob Scott</p>
+
+  <p>Ich kann es immer noch nicht glauben, dass Duffy &uuml;ber 150 Level verfasst
+    hat! Das ist ein ganzes Levelpaket und noch ein halbes oben drauf! Duffys
+    Level haben mich inspiriert, eigene &quot;r&auml;tselhafte&quot; Level zu
+    entwerfen, und eigene Vorstellungen und Vorlieben zu inszenieren.<br/>
+    <br/>
+    Na gut, damit w&auml;re von meiner Sicht aus wohl alles gesagt.<br/>
+    <br/>
+    &hellip; Aber kein Mensch kann doch in derart kurzer Zeit derart viele hochkomplexe Werke hervorbringen?!?<br/>
+    &hellip; Duffy muss eine Maschine sein! Eine Level-Maschine!<br/>
+    &hellip; Und eine hochintelligente noch dazu! :-)<br/>
+    <br/>
+    Welcome to the machine! <br/>
+  </p>
+
   <p>Sch&ouml;ne Gr&uuml;&szlig;e,<br/>
-  <i>Die LotM Autoren</i></p>
+  <i>Joe und Harry</i></p>
 
 </div>



From raoul at mail.berlios.de  Sat Jun 30 18:09:13 2007
From: raoul at mail.berlios.de (raoul at BerliOS)
Date: Sat, 30 Jun 2007 18:09:13 +0200
Subject: [Enigma-game-svn] r801 - homepage/input/lotm
Message-ID: <200706301609.l5UG9Dsf031184@sheep.berlios.de>

Author: raoul
Date: 2007-06-30 18:09:12 +0200 (Sat, 30 Jun 2007)
New Revision: 801

Modified:
   homepage/input/lotm/lotm_core.html
   homepage/input/lotm/lotm_core_de.html
Log:
-> Updated LotM archive


Modified: homepage/input/lotm/lotm_core.html
===================================================================
--- homepage/input/lotm/lotm_core.html	2007-06-29 17:33:53 UTC (rev 800)
+++ homepage/input/lotm/lotm_core.html	2007-06-30 16:09:12 UTC (rev 801)
@@ -26,41 +26,41 @@
         <th class="left">Author</th>
         <th class="num">Position (1.01)</th>
     </tr>
-    <tr><td class="right">9.33</td>
-        <td class="right">(3)</td>
+    <tr><td class="right">9.17</td>
+        <td class="right">(6)</td>
+        <td class="right">March '07</td>
+        <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">V/100</td>
+    </tr>
+    <tr><td class="right">9.00</td>
+        <td class="right">(5)</td>
         <td class="right">May '07</td>
         <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
         <td class="left">Dominik Lehmann</td>
         <td class="num">VI/100</td>
     </tr>
-    <tr><td class="right">9.17</td>
+    <tr><td class="right">8.67</td>
         <td class="right">(6)</td>
-        <td class="right">March '07</td>
-        <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
+        <td class="right">July '07</td>
+        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
         <td class="left">Jacob Scott</td>
-        <td class="num">V/100</td>
+        <td class="num">V/65</td>
     </tr>
-    <tr><td class="right">9.00</td>
-        <td class="right">(7)</td>
+    <tr><td class="right">8.63</td>
+        <td class="right">(8)</td>
         <td class="right">June '07</td>
         <td class="left"><a href="$$lotm_200706$$">Labyrinth of Puzzles</a></td>
         <td class="left">Jacob Scott</td>
         <td class="num">IV/19</td>
     </tr>
-    <tr><td class="right">8.70</td>
-        <td class="right">(10)</td>
+    <tr><td class="right">7.84</td>
+        <td class="right">(11)</td>
         <td class="right">April '07</td>
         <td class="left"><a href="$$lotm_200704$$">Pneumatic Delivery</a></td>
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
-    <tr><td class="right">8.67</td>
-        <td class="right">(6)</td>
-        <td class="right">July '07</td>
-        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
-        <td class="left">Jacob Scott</td>
-        <td class="num">V/65</td>
-    </tr>
   </table>
 
 </div>

Modified: homepage/input/lotm/lotm_core_de.html
===================================================================
--- homepage/input/lotm/lotm_core_de.html	2007-06-29 17:33:53 UTC (rev 800)
+++ homepage/input/lotm/lotm_core_de.html	2007-06-30 16:09:12 UTC (rev 801)
@@ -29,41 +29,41 @@
         <th class="left">Autor</th>
         <th class="num">Position (1.01)</th>
     </tr>
-    <tr><td class="right">9.33</td>
-        <td class="right">(3)</td>
+    <tr><td class="right">9.17</td>
+        <td class="right">(6)</td>
+        <td class="right">M&auml;rz '07</td>
+        <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
+        <td class="left">Jacob Scott</td>
+        <td class="num">V/100</td>
+    </tr>
+    <tr><td class="right">9.00</td>
+        <td class="right">(5)</td>
         <td class="right">Mai '07</td>
         <td class="left"><a href="$$lotm_200705$$">The Aztec Temple</a></td>
         <td class="left">Dominik Lehmann</td>
         <td class="num">VI/100</td>
     </tr>
-    <tr><td class="right">9.17</td>
+    <tr><td class="right">8.67</td>
         <td class="right">(6)</td>
-        <td class="right">M&auml;rz '07</td>
-        <td class="left"><a href="$$lotm_200703$$">Island Labyrinth</a></td>
+        <td class="right">Juli '07</td>
+        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
         <td class="left">Jacob Scott</td>
-        <td class="num">V/100</td>
+        <td class="num">V/65</td>
     </tr>
-    <tr><td class="right">9.00</td>
-        <td class="right">(7)</td>
+    <tr><td class="right">8.63</td>
+        <td class="right">(8)</td>
         <td class="right">Juni '07</td>
         <td class="left"><a href="$$lotm_200706$$">Labyrinth of Puzzles</a></td>
         <td class="left">Jacob Scott</td>
         <td class="num">IV/19</td>
     </tr>
-    <tr><td class="right">8.70</td>
-        <td class="right">(10)</td>
+    <tr><td class="right">7.84</td>
+        <td class="right">(11)</td>
         <td class="right">April '07</td>
         <td class="left"><a href="$$lotm_200704$$">Pneumatic Delivery</a></td>
         <td class="left">Manuel K&ouml;nig</td>
         <td class="num">V/59</td>
     </tr>
-    <tr><td class="right">8.67</td>
-        <td class="right">(6)</td>
-        <td class="right">Juli '07</td>
-        <td class="left"><a href="$$lotm_200707$$">Elaborate</a></td>
-        <td class="left">Jacob Scott</td>
-        <td class="num">V/65</td>
-    </tr>
   </table>
 
 </div>



