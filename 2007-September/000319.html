<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Enigma-game-svn] r887 - in homepage: . images/lotm input input/lotm
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/enigma-game-svn/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r887%20-%20in%20homepage%3A%20.%20images/lotm%20input%20input/lotm&In-Reply-To=%3C200709242131.l8OLV65h001181%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000318.html">
   <LINK REL="Next"  HREF="000320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Enigma-game-svn] r887 - in homepage: . images/lotm input input/lotm</H1>
    <B>andreasl at BerliOS</B> 
    <A HREF="mailto:enigma-game-svn%40lists.berlios.de?Subject=Re%3A%20%5BEnigma-game-svn%5D%20r887%20-%20in%20homepage%3A%20.%20images/lotm%20input%20input/lotm&In-Reply-To=%3C200709242131.l8OLV65h001181%40sheep.berlios.de%3E"
       TITLE="[Enigma-game-svn] r887 - in homepage: . images/lotm input input/lotm">andreasl at mail.berlios.de
       </A><BR>
    <I>Mon Sep 24 23:31:06 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000318.html">[Enigma-game-svn] r886 - in trunk: data/levels/lib src
</A></li>
        <LI>Next message: <A HREF="000320.html">[Enigma-game-svn] r888 - in trunk/data/levels: enigma_experimental	lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: andreasl
Date: 2007-09-24 23:31:04 +0200 (Mon, 24 Sep 2007)
New Revision: 887

Added:
   homepage/input/lotm/lotm_200710.html
Modified:
   homepage/images/lotm/lotm-history.png
   homepage/input/lotm/lotm_archive_data.lua
   homepage/input/lotm/read_lotm.lua
   homepage/input/lotm/transform_scores.lua
   homepage/input/output-files.lua
   homepage/main.lua
Log:
Homepage:
 - entered spanish strings into output-files.lua (from Xabier)
 - special date structure for Spanish months, like &quot;Agusto del '07&quot;
     (implement such specifics in main.lua -&gt; translate_month)
 - corrected typo: Impressum -&gt; Imprint
 - separated static and variable data in lotm-archive-data.lua:
     Ratings, votes and additional text are now located in a common
     structure at the end of the file to easily update them.
 - preparations for LotM October 2007:
    - archive data
    - English article stub
 - adapted &quot;transform_scores&quot;-script to new Java-output.


Modified: homepage/images/lotm/lotm-history.png
===================================================================
(Binary files differ)

Added: homepage/input/lotm/lotm_200710.html
===================================================================
--- homepage/input/lotm/lotm_200710.html	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/input/lotm/lotm_200710.html	2007-09-24 21:31:04 UTC (rev 887)
@@ -0,0 +1,58 @@
+&lt;div class=&quot;lotm&quot;&gt;
+$$lotm_header$$
+
+  &lt;h3 class=&quot;lotm&quot;&gt;
+    &lt;span class=&quot;date&quot;&gt;October 2007: &lt;/span&gt;
+    &quot;Quadropolis&quot;, Community Efforts Level I
+  &lt;/h3&gt;
+
+  &lt;h4&gt;
+    by Johannes Laire, Jacob Scott, Raoul Bourquin and Andreas Lochmann
+  &lt;/h4&gt;
+  
+  &lt;p&gt;I&lt;/p&gt;
+
+  &lt;div class=&quot;lotmpic&quot;&gt;
+    &lt;img src=&quot;$$imagedir$$/lotm/lotm_200710_a.png&quot; alt=&quot;Level of the month&quot; border=&quot;0&quot;&gt;
+    &lt;div class=&quot;imagetitle&quot;&gt;Enigma VI # 79&lt;/div&gt;
+  &lt;/div&gt;
+
+  &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;1&quot; class=&quot;statistics&quot;&gt;
+    &lt;caption class=&quot;normalcaption&quot;&gt;Some records of August 2007&lt;/caption&gt;
+    &lt;colgroup&gt;
+       &lt;col width=&quot;80&quot;&gt;
+       &lt;col width=&quot;160&quot;&gt;
+    &lt;/colgroup&gt;
+    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;12:05&lt;/td&gt;
+        &lt;td class=&quot;left&quot;&gt;Duffy&lt;/td&gt;&lt;/tr&gt;
+    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;15:45&lt;/td&gt;
+        &lt;td class=&quot;left&quot;&gt;Lukas&lt;/td&gt;&lt;/tr&gt;
+    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;16:56&lt;/td&gt;
+        &lt;td class=&quot;left&quot;&gt;Ronald&lt;/td&gt;&lt;/tr&gt;
+    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;28:13&lt;/td&gt;
+        &lt;td class=&quot;left&quot;&gt;Taztunes&lt;/td&gt;&lt;/tr&gt;
+    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;39:04&lt;/td&gt;
+        &lt;td class=&quot;left&quot;&gt;shoki&lt;/td&gt;&lt;/tr&gt;  
+  &lt;/table&gt;
+  
+  &lt;p&gt;A&lt;/p&gt;
+
+  &lt;h4&gt;&quot;I&quot;&lt;/h4&gt;
+
+  &lt;p&gt;U&lt;/p&gt;
+
+  &lt;div class=&quot;lotmpic&quot;&gt;
+    &lt;img src=&quot;$$imagedir$$/lotm/lotm_200710_b.png&quot; alt=&quot;Level of the month&quot; border=&quot;0&quot;&gt;
+    &lt;div class=&quot;imagetitle&quot;&gt;L&lt;/div&gt;
+  &lt;/div&gt;
+  
+  &lt;p&gt;O&lt;/p&gt;
+
+  &lt;div class=&quot;quote&quot;&gt;
+  I&lt;/div&gt;
+  &lt;div class=&quot;author&quot;&gt;M&lt;/div&gt;
+
+  &lt;p&gt;Greets,&lt;br/&gt;
+  &lt;i&gt;Harry&lt;/i&gt;&lt;/p&gt;
+
+&lt;/div&gt;

Modified: homepage/input/lotm/lotm_archive_data.lua
===================================================================
--- homepage/input/lotm/lotm_archive_data.lua	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/input/lotm/lotm_archive_data.lua	2007-09-24 21:31:04 UTC (rev 887)
@@ -1,93 +1,97 @@
 
+-- LotM standing data
+-- (no need to change these)
+
 lotm_archive_data = {}
 
 lotm_archive_data[1] = {
-  current_rating = 9.13,
-  current_votes  = 8,
   date           = { month = 3, year = 2007 },
   chronological  = 1,
   name           = &quot;Island Labyrinth&quot;,
-  addition       = &quot;(1 down)&quot;,
   author         = &quot;Jacob Scott&quot;,
   position       = &quot;V/100&quot;,
   position_num   = &quot;5100&quot;
 }
 
 lotm_archive_data[2] = {
-  current_rating = 7.78,
-  current_votes  = 17,
   date           = { month = 4, year = 2007 },
   chronological  = 2,
   name           = &quot;Pneumatic Delivery&quot;,
-  addition       = &quot;&quot;,
   author         = &quot;Manuel K&ouml;nig&quot;,
   position       = &quot;V/59&quot;,
   position_num   = &quot;5059&quot;
 }
 
 lotm_archive_data[3] = {
-  current_rating = 9.17,
-  current_votes  = 6,
   date           = { month = 5, year = 2007 },
   chronological  = 3,
   name           = &quot;The Aztec Temple&quot;,
-  addition       = &quot;(1 up)&quot;,
   author         = &quot;Dominik Lehmann&quot;,
   position       = &quot;VI/100&quot;,
   position_num   = &quot;6100&quot;
 }
 
 lotm_archive_data[4] = {
-  current_rating = 8.83,
-  current_votes  = 12,
   date           = { month = 6, year = 2007 },
   chronological  = 4,
   name           = &quot;Labyrinth of Puzzles&quot;,
-  addition       = &quot;&quot;,
   author         = &quot;Jacob Scott&quot;,
   position       = &quot;IV/19&quot;,
   position_num   = &quot;4019&quot;
 }
 
 lotm_archive_data[5] = {
-  current_rating = 8.57,
-  current_votes  = 7,
   date           = { month = 7, year = 2007 },
   chronological  = 5,
   name           = &quot;Elaborate&quot;,
-  addition       = &quot;&quot;,
   author         = &quot;Jacob Scott&quot;,
   position       = &quot;V/65&quot;,
   position_num   = &quot;5065&quot;
 }
 
 lotm_archive_data[6] = {
-  current_rating = 8.89,
-  current_votes  = 9,
   date           = { month = 8, year = 2007 },
   chronological  = 6,
   name           = &quot;Houdini&quot;,
-  addition       = &quot;&quot;,
   author         = &quot;Ronald Lamprecht&quot;,
   position       = &quot;VI/74&quot;,
   position_num   = &quot;6074&quot;
 }
 
 lotm_archive_data[7] = {
-  current_rating = 8.46,
-  current_votes  = 13,
   date           = { month = 9, year = 2007 },
   chronological  = 7,
   name           = &quot;Tool Time&quot;,
-  addition       = &quot;&lt;b&gt;(newcomer)&lt;/b&gt;&quot;,
   author         = &quot;Barry &amp; Lori Mead&quot;,
   position       = &quot;II/97&quot;,
   position_num   = &quot;2097&quot;
 }
 
+lotm_archive_data[8] = {
+  date           = { month = 10, year = 2007 },
+  chronological  = 8,
+  name           = &quot;Quadropolis&quot;,
+  author         = &quot;J.Laire, J.Scott, R.Bourquin, A.Lochmann&quot;,
+  position       = &quot;VI/79&quot;,
+  position_num   = &quot;6079&quot;
+}
+
+-- LotM variable data
+-- format: Level Title, current_rating, current_votes, additional text
+
+lotm_rating(    &quot;Island Labyrinth&quot;,  9.25,   8,  &quot;(1 up)&quot;)
+lotm_rating(  &quot;Pneumatic Delivery&quot;,  7.58,  24,  &quot;&quot;)
+lotm_rating(    &quot;The Aztec Temple&quot;,  9.14,   7,  &quot;(1 down)&quot;)
+lotm_rating(&quot;Labyrinth of Puzzles&quot;,  8.92,  13,  &quot;(1 up)&quot;)
+lotm_rating(           &quot;Elaborate&quot;,  8.50,   8,  &quot;&quot;)
+lotm_rating(             &quot;Houdini&quot;,  8.86,  11,  &quot;(1 down)&quot;)
+lotm_rating(           &quot;Tool Time&quot;,  8.43,  14,  &quot;&quot;)
+lotm_rating(         &quot;Quadropolis&quot;,  9.40,   5,  &quot;&lt;b&gt;(newcomer)&lt;/b&gt;&quot;)
+
 -- Don't forget to adjust the archive dates:
 
-lotm_archive_data_from = { month = 7, year = 2007 }
+lotm_archive_data_from = { month = 8, year = 2007 }
 
 lotm_current = lotm_archive_data[table.getn(lotm_archive_data)]
 
+

Modified: homepage/input/lotm/read_lotm.lua
===================================================================
--- homepage/input/lotm/read_lotm.lua	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/input/lotm/read_lotm.lua	2007-09-24 21:31:04 UTC (rev 887)
@@ -77,3 +77,20 @@
   end
 end
 
+-- Add ratings and additional texts to LotM-entries
+function lotm_rating(title, rating, votes, addition)
+  local found = false
+  for k, v in pairs(lotm_archive_data) do
+    if v.name == title then
+      if found then
+        error (&quot;Name collision for LotM article &quot;..title..&quot;!&quot;)
+      else
+        v.current_rating = rating
+        v.current_votes = votes
+        v.addition = (v.addition or &quot;&quot;)..(addition or &quot;&quot;)
+        found = true
+      end
+    end
+  end
+end
+

Modified: homepage/input/lotm/transform_scores.lua
===================================================================
--- homepage/input/lotm/transform_scores.lua	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/input/lotm/transform_scores.lua	2007-09-24 21:31:04 UTC (rev 887)
@@ -1,7 +1,8 @@
 -- Transforms the java-generated score list into
 -- an html-compliant form for LotM articles.
 
--- The lines are constructed as &quot;SECONDS  NAME&quot;, with *two* spaces.
+-- The lines are constructed as &quot;SECONDS  MINUTES:SECONDS  NAME&quot;,
+-- with *two* spaces each time.
 -- Output is:
 --  &quot;    &lt;tr&gt;&lt;td class=&quot;num&quot;&gt;MINUTES:SECONDS&lt;/td&gt;&quot;
 --  &quot;        &lt;td class=&quot;left&quot;&gt;NAME&lt;/td&gt;&lt;/tr&gt;&quot;
@@ -13,13 +14,28 @@
 repeat
   line = io.read(&quot;*l&quot;)
   if line then
+    -- remove leading spaces
+    while string.sub(line, 1, 1) == &quot; &quot; do
+      line = string.sub(line, 2)
+    end
+    -- decompose line
     local space_position = string.find(line, &quot; &quot;)
-    local number = tonumber(string.sub(line, 1, space_position - 1))
-    local name = string.sub(line, space_position + 2)
+    local number_str = string.sub(line, 1, space_position - 1)
+    local remaining = string.sub(line, space_position + 2)
+          space_position = string.find(remaining, &quot; &quot;)
+    local time_str = string.sub(remaining, 1, space_position - 1)
+    local name = string.sub(remaining, space_position + 2)      
+    -- calculate time string from first number
+    local number = tonumber(number_str)
     local seconds = mod(number, 60)
     local minutes = (number - seconds) / 60
     local sec_str = string.format(&quot;%02d&quot;, seconds)
-    io.write(&quot;    &lt;tr&gt;&lt;td class=\&quot;num\&quot;&gt;&quot;..minutes..&quot;:&quot;..sec_str..&quot;&lt;/td&gt;\n&quot;)
+    local other_time_str = minutes..&quot;:&quot;..sec_str
+    -- if time strings are not equal, throw an error
+    if time_str ~= other_time_str then
+      error(&quot;Times don't match in line: &quot;..line)
+    end
+    io.write(&quot;    &lt;tr&gt;&lt;td class=\&quot;num\&quot;&gt;&quot;..time_str..&quot;&lt;/td&gt;\n&quot;)
     io.write(&quot;        &lt;td class=\&quot;left\&quot;&gt;&quot;..name..&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;)
   end
 until line == nil

Modified: homepage/input/output-files.lua
===================================================================
--- homepage/input/output-files.lua	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/input/output-files.lua	2007-09-24 21:31:04 UTC (rev 887)
@@ -33,7 +33,7 @@
     title_de = &quot;Enigma Hauptseite&quot;,
     --fr-- title_fr = &quot;Enigma Homepage&quot;,
     title_ru = &quot;&#228;&#207;&#205;&#193;&#219;&#206;&#209;&#209; &#211;&#212;&#210;&#193;&#206;&#201;&#195;&#193; Enigma&quot;,
-    --sp-- title_es = &quot;Enigma Homepage&quot;,
+    title_es = &quot;P&aacute;gina principal de Enigma&quot;,
     refman = &quot;manual/enigma-ref.html&quot;,
     manual = &quot;manual/enigma.html&quot;,
     manual_de = &quot;manual/enigma_de.html&quot;,
@@ -79,6 +79,7 @@
     lotm_expansion = &quot;Level of the Month&quot;,
     lotm_expansion_de = &quot;Level des Monats&quot;,
     lotm_expansion_ru = &quot;&#245;&#210;&#207;&#215;&#197;&#206;&#216; &#237;&#197;&#211;&#209;&#195;&#193;&quot;,
+    lotm_expansion_es = &quot;Nivel de este mes&quot;,
     --es-- lotm_expansion_es = &quot;&quot;,
 
     lotm_anchor_rating   = &quot;&lt;a href=\&quot;$$lotm$$\&quot;&gt;Rating&lt;/a&gt;&quot;,
@@ -99,9 +100,16 @@
     lotm_anchor_author_ru   = &quot;&#225;&#215;&#212;&#207;&#210;&quot;,
     lotm_anchor_position_ru = &quot;&lt;a href=\&quot;$$lotm_by_position$$\&quot;&gt;&#242;&#193;&#218;&#205;&#197;&#221;&#197;&#206;&#201;&#197; (1.01)&lt;/a&gt;&quot;,
 
+    lotm_anchor_rating_es   = &quot;&lt;a href=\&quot;$$lotm$$\&quot;&gt;Clasificaci&oacute;n&lt;/a&gt;&quot;,
+    lotm_anchor_month_es    = &quot;&lt;a href=\&quot;$$lotm_chronological$$\&quot;&gt;Mes&lt;/a&gt;&quot;,
+    lotm_anchor_title_es    = &quot;T&iacute;tulo&quot;,
+    lotm_anchor_author_es   = &quot;Autor&quot;,
+    lotm_anchor_position_es = &quot;&lt;a href=\&quot;$$lotm_by_position$$\&quot;&gt;Posici&oacute;n (1.01)&lt;/a&gt;&quot;,
+    
     lotm_history = &quot;History of LotM&quot;,
     lotm_history_de = &quot;Geschichte des LdM&quot;,
     --ru-- lotm_history_ru = &quot;History of LotM&quot;,
+    lotm_history_es = &quot;Historia de LotM&quot;,
 
     lotm_current = function(v,s,l0)
         return parse_text(v, &quot;$$&quot;..lotm_macro_name(lotm_current)..&quot;$$&quot;, l0,
@@ -148,6 +156,8 @@
     &quot;Juli&quot;, &quot;August&quot;, &quot;September&quot;, &quot;Oktober&quot;, &quot;November&quot;, &quot;Dezember&quot;},
   months_ru = {&quot;&#241;&#206;&#215;&#193;&#210;&#216;&quot;, &quot;&#230;&#197;&#215;&#210;&#193;&#204;&#216;&quot;, &quot;&#237;&#193;&#210;&#212;&quot;, &quot;&#225;&#208;&#210;&#197;&#204;&#216;&quot;, &quot;&#237;&#193;&#202;&quot;, &quot;&#233;&#192;&#206;&#216;&quot;,
     &quot;&#233;&#192;&#204;&#216;&quot;, &quot;&#225;&#215;&#199;&#213;&#211;&#212;&quot;, &quot;&#243;&#197;&#206;&#212;&#209;&#194;&#210;&#216;&quot;, &quot;&#239;&#203;&#212;&#209;&#194;&#210;&#216;&quot;, &quot;&#238;&#207;&#209;&#194;&#210;&#216;&quot;, &quot;&#228;&#197;&#203;&#193;&#194;&#210;&#216;&quot;},
+  months_es = {&quot;Enero&quot;, &quot;Febrero&quot;, &quot;Marzo&quot;, &quot;Abril&quot;, &quot;Mayo&quot;, &quot;Junio&quot;,
+    &quot;Julio&quot;, &quot;Agosto&quot;, &quot;Septiembre&quot;, &quot;Octubre&quot;, &quot;Noviembre&quot;, &quot;Diciembre&quot;}
 }
 
 --------------------------------------------------------------------------------
@@ -160,6 +170,7 @@
     title = &quot;Enigma Homepage&quot;,
     title_de = &quot;Enigma Hauptseite&quot;,
     title_ru = &quot;&#228;&#207;&#205;&#193;&#219;&#206;&#209;&#209; &#211;&#212;&#210;&#193;&#206;&#201;&#195;&#193; Enigma&quot;,
+    title_es = &quot;P&aacute;gina principal de Enigma&quot;,
     rightcolumn = {&quot;infobox&quot;},
     body = {&quot;introduction&quot;, &quot;intro-links&quot;, &quot;news1&quot;, &quot;powered-by&quot;}
 }
@@ -172,6 +183,7 @@
     title = &quot;About Enigma&quot;,
     title_de = &quot;&Uuml;ber Enigma&quot;,
     title_ru = &quot;&#239;&#194; Enigma&quot;,
+    title_es = &quot;Acerca de Enigma&quot;,
     body = {&quot;about&quot;, &quot;features&quot;, &quot;testimonials&quot;, &quot;press&quot;}
 }
 
@@ -183,6 +195,7 @@
     title = &quot;News and Olds&quot;,
     title_de = &quot;Neues und Altes&quot;,
     title_ru = &quot;&#238;&#207;&#215;&#207;&#211;&#212;&#201; &#201; &#193;&#210;&#200;&#201;&#215;&quot;,
+    title_es = &quot;Noticias y art&iacute;culos anteriores&quot;,
     rightcolumn = {},
     body = {&quot;news2&quot;}
 }
@@ -195,6 +208,7 @@
     title = &quot;Screenshots of Enigma&quot;,
     title_de = &quot;Screenshots von Enigma&quot;,
     title_ru = &quot;&#243;&#203;&#210;&#201;&#206;&#219;&#207;&#212;&#217; Enigma&quot;,
+    title_es = &quot;Pantallazos de Enigma&quot;,
     body = {&quot;screenshots&quot;}
 }
 
@@ -206,6 +220,7 @@
     title = &quot;Credits&quot;,
     title_de = &quot;Credits&quot;,
     title_ru = &quot;&#226;&#204;&#193;&#199;&#207;&#196;&#193;&#210;&#206;&#207;&#211;&#212;&#201;&quot;,
+    title_es = &quot;Cr&eacute;ditos&quot;,
     body = {&quot;credits&quot;}
 }
 
@@ -218,6 +233,7 @@
     title = &quot;Download Enigma&quot;,
     title_de = &quot;Enigma herunterladen&quot;,
     title_ru = &quot;&#250;&#193;&#199;&#210;&#213;&#218;&#203;&#193; Enigma&quot;,
+    title_es = &quot;Desc&aacute;rgate Enigma&quot;,
     body = {&quot;download&quot;}
 }
 
@@ -230,6 +246,7 @@
     title = &quot;User-Support&quot;,
     title_de = &quot;Spieler-Support&quot;,
     title_ru = &quot;&#240;&#207;&#196;&#196;&#197;&#210;&#214;&#203;&#193; &#208;&#207;&#204;&#216;&#218;&#207;&#215;&#193;&#212;&#197;&#204;&#209;&quot;,
+    title_es = &quot;Soporte para usuarios&quot;,
     body = {&quot;support&quot;} --{&quot;scores&quot;, &quot;documentation&quot;}
 }
 
@@ -242,6 +259,7 @@
     title = &quot;Frequently Asked Questions&quot;,
     title_de = &quot;H&auml;ufig gestellte Fragen&quot;,
     title_ru = &quot;&#254;&#193;&#211;&#212;&#207; &#218;&#193;&#196;&#193;&#215;&#193;&#197;&#205;&#217;&#197; &#215;&#207;&#208;&#210;&#207;&#211;&#217;&quot;,
+    title_es = &quot;Preguntas de Uso Frecuente&quot;,
     body = {&quot;faq_core&quot;, &quot;faq_questions&quot;}
 }
 
@@ -253,66 +271,87 @@
     title = &quot;User Statistics&quot;,
     title_de = &quot;Spieler-Statistiken&quot;,
     title_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#208;&#207;&#204;&#216;&#218;&#207;&#215;&#193;&#212;&#197;&#204;&#197;&#202;&quot;,
+    title_es = &quot;Estadisticas de Usuario&quot;,
     average = &quot;average&quot;,
     average_de = &quot;Durchschnitt&quot;,
     average_ru = &quot;&#247; &#211;&#210;&#197;&#196;&#206;&#197;&#205;&quot;,
+    average_es = &quot;Promedio&quot;,
     count = &quot;count&quot;,
     count_de = &quot;Anzahl&quot;,
     count_ru = &quot;&#239;&#195;&#197;&#206;&#197;&#206;&#207;&quot;,
+    count_es = &quot;Cuenta&quot;,
     user = &quot;user&quot;,
     user_de = &quot;Spieler&quot;,
     user_ru = &quot;&#240;&#207;&#204;&#216;&#218;&#207;&#215;&#193;&#212;&#197;&#204;&#216;&quot;,
+    user_es = &quot;Usuario&quot;,
     solved_hcp = &quot;solved hcp&quot;,
     solved_hcp_de = &quot;gel&ouml;stes hcp&quot;,
     solved_hcp_ru = &quot;&#242;&#197;&#219;&#197;&#206;&#206;&#217;&#202; &#199;&#193;&#206;&#196;&#201;&#203;&#193;&#208;&quot;,
+    solved_hcp_es = &quot;hcp resuelto&quot;,
     difficult = &quot;difficult&quot;,
     difficult_de = &quot;schwer&quot;,
     difficult_ru = &quot;&#243;&#204;&#207;&#214;&#206;&#217;&#197;&quot;,
+    difficult_es = &quot;Dificultad&quot;,
     easy = &quot;easy&quot;,
     easy_de = &quot;leicht&quot;,
     easy_ru = &quot;&#240;&#210;&#207;&#211;&#212;&#217;&#197;&quot;,
+    easy_es = &quot;F&aacute;cil&quot;,
     total = &quot;total&quot;,
     total_de = &quot;gesamt&quot;,
     total_ru = &quot;&#247;&#211;&#197;&#199;&#207;&quot;,
+    total_es = &quot;total&quot;,
     shared = &quot;shared&quot;,
     shared_de = &quot;geteilt&quot;,
     shared_ru = &quot;&#243;&#207;&#215;&#205;&#197;&#211;&#212;&#206;&#217;&#200;&quot;,
+    shared_es = &quot;Compartido&quot;,
     rating = &quot;rating&quot;,
     rating_de = &quot;Bewertung&quot;,
     rating_ru = &quot;&#242;&#197;&#202;&#212;&#201;&#206;&#199;&quot;,
+    rating_es = &quot;Clasificaci&oacute;n&quot;,
     Handicap_Statistics = &quot;Handicap Statistics of&quot;,
     Handicap_Statistics_de = &quot;Handicap-Statistiken vom&quot;,
-    Handicap_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#205;&#193;&#211;&#212;&#197;&#210;&#211;&#212;&#215;&#193; &#218;&#193;&quot;, -- (month)
+    Handicap_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#205;&#193;&#211;&#212;&#197;&#210;&#211;&#212;&#215;&#193; &#218;&#193;&quot;,
+    Handicap_Statistics_es = &quot;Estad&iacute;sticas de Handicap de&quot;,
     Rating_Statistics = &quot;Rating Statistics of&quot;,
     Rating_Statistics_de = &quot;Bewertungs-Statistiken vom&quot;,
-    Rating_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#207;&#195;&#197;&#206;&#207;&#203; &#218;&#193;&quot;, -- (month)
+    Rating_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#207;&#195;&#197;&#206;&#207;&#203; &#218;&#193;&quot;,
+    Rating_Statistics_es = &quot;Estad&iacute;sticas de clasificaci&oacute;n de&quot;,    
     Solved_Level_Statistics = &quot;Solved Level Statistics of&quot;,
     Solved_Level_Statistics_de = &quot;Statistik der gel&ouml;sten Levels vom&quot;,
-    Solved_Level_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#210;&#197;&#219;&#197;&#206;&#206;&#217;&#200; &#213;&#210;&#207;&#215;&#206;&#197;&#202; &#218;&#193;&quot;, -- (month)
+    Solved_Level_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#210;&#197;&#219;&#197;&#206;&#206;&#217;&#200; &#213;&#210;&#207;&#215;&#206;&#197;&#202; &#218;&#193;&quot;,
+    Solved_Level_Statistics_es = &quot;Estad&iacute;sticas de niveles resueltos de&quot;,
     Worldrecord_Statistics = &quot;Worldrecord Statistics of&quot;,
     Worldrecord_Statistics_de = &quot;Weltrekord-Statistik vom&quot;,
-    Worldrecord_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#205;&#201;&#210;&#207;&#215;&#217;&#200; &#210;&#197;&#203;&#207;&#210;&#196;&#207;&#215; &#218;&#193;&quot;, -- (month)
+    Worldrecord_Statistics_ru = &quot;&#243;&#212;&#193;&#212;&#201;&#211;&#212;&#201;&#203;&#193; &#205;&#201;&#210;&#207;&#215;&#217;&#200; &#210;&#197;&#203;&#207;&#210;&#196;&#207;&#215; &#218;&#193;&quot;,
+    Worldrecord_Statistics_es = &quot;Estad&iacute;sticas de Records mundiales de&quot;,        
     Other_Statistics = &quot;Other Statistics&quot;,
     Other_Statistics_de = &quot;Weitere Statistiken&quot;,
     Other_Statistics_ru = &quot;&#228;&#210;&#213;&#199;&#201;&#197; &#208;&#207;&#203;&#193;&#218;&#193;&#212;&#197;&#204;&#201;&quot;,
+    Other_Statistics_es = &quot;Otras estad&iacute;sticas&quot;,
     Scores = &quot;Scores&quot;,
     Scores_de = &quot;Ergebnisse&quot;,
     Scores_ru = &quot;&#228;&#207;&#211;&#212;&#201;&#214;&#197;&#206;&#201;&#209;&quot;,
+    Scores_es = &quot;Resultados&quot;,
     Ratings = &quot;Ratings&quot;,
     Ratings_de = &quot;Bewertungen&quot;,
     Ratings_ru = &quot;&#239;&#195;&#197;&#206;&#203;&#201;&quot;,
+    Ratings_es = &quot;Clasificaci&oacute;nes&quot;,
     single_level_scores = &quot;single level scores have been registered.&quot;,
     single_level_scores_de = &quot;einzelne Levelscores wurden registriert.&quot;,
     single_level_scores_ru = &quot;&#210;&#197;&#218;&#213;&#204;&#216;&#212;&#193;&#212;&#207;&#215; &#208;&#210;&#207;&#200;&#207;&#214;&#196;&#197;&#206;&#201;&#209; &#213;&#210;&#207;&#215;&#206;&#197;&#202; &#218;&#193;&#210;&#197;&#199;&#201;&#211;&#212;&#210;&#201;&#210;&#207;&#215;&#193;&#206;&#207;.&quot;,
+    single_level_scores_es = &quot;Han sido registrados resultados de niveles sueltos&quot;,
     single_level_ratings = &quot;single level ratings have been registered with an average of&quot;,
     single_level_ratings_de = &quot;einzelne Levelbewertungen wurden registriert, mit einem Durchschnitt von&quot;,
     single_level_ratings_ru = &quot;&#207;&#195;&#197;&#206;&#207;&#203; &#213;&#210;&#207;&#215;&#206;&#197;&#202; &#218;&#193;&#210;&#197;&#199;&#201;&#211;&#212;&#210;&#201;&#210;&#207;&#215;&#193;&#206;&#207; &#211;&#207; &#211;&#210;&#197;&#196;&#206;&#197;&#202; &#207;&#195;&#197;&#206;&#203;&#207;&#202;&quot;,
+    single_level_ratings_es = &quot;Han sido registradas clasificaci&oacute;nes de niveles sueltos con promedio de&quot;,
     and_distribution = &quot;and the following distribution:&quot;,
     and_distribution_de = &quot;und der folgenden Verteilung:&quot;,
     and_distribution_ru = &quot;&#201; &#211;&#204;&#197;&#196;&#213;&#192;&#221;&#201;&#205; &#210;&#193;&#218;&#194;&#210;&#207;&#211;&#207;&#205;:&quot;,
+    and_distribution_es = &quot;y la siguiente distribuci&oacute;n:&quot;,
     names_in_use = &quot;Names in use:&quot;,
     names_in_use_de = &quot;Vergebene Namen:&quot;,
     names_in_use_ru = &quot;&#245;&#214;&#197; &#201;&#211;&#208;&#207;&#204;&#216;&#218;&#213;&#197;&#205;&#217;&#197; &#201;&#205;&#197;&#206;&#193;:&quot;,
+    names_in_use_es = &quot;Nombre en uso&quot;,
     leftcolumn = {&quot;menu&quot;, &quot;validation&quot;, &quot;userlist&quot;},
     rightcolumn = {},
     body = {&quot;stat-head&quot;, &quot;table-wr&quot;, &quot;table-solved&quot;, &quot;stat-help&quot;,
@@ -328,6 +367,7 @@
     title = &quot;Development&quot;,
     title_de = &quot;Entwicklung&quot;,
     title_ru = &quot;&#242;&#193;&#218;&#210;&#193;&#194;&#207;&#212;&#203;&#193;&quot;,
+    title_es = &quot;Desarrollo&quot;,
     body = {&quot;development&quot;}
 }
 
@@ -340,6 +380,7 @@
     title = &quot;Links&quot;,
     title_de = &quot;Links&quot;,
     title_ru = &quot;&#243;&#211;&#217;&#204;&#203;&#201;&quot;,
+    title_es = &quot;Enlaces&quot;,
     body = {&quot;links&quot;}
 }
 
@@ -348,9 +389,10 @@
 ----------------------------------------------------------------------
 html.impressum = {
     outfile = &quot;impressum.html&quot;,
-    title = &quot;Impressum&quot;,
+    title = &quot;Imprint&quot;,
     title_de = &quot;Impressum&quot;,
     title_ru = &quot;&#240;&#207;&#196;&#196;&#197;&#210;&#214;&#203;&#193; &#211;&#193;&#202;&#212;&#193;&quot;,
+    title_es = &quot;Impreso&quot;,
     body = {&quot;impressum&quot;, &quot;longline&quot;}
 }
 
@@ -368,11 +410,13 @@
     kind_of_order = &quot;by &lt;b&gt;rating&lt;/b&gt;&quot;,
     kind_of_order_de = &quot;geordnet nach &lt;b&gt;Bewertung&lt;/b&gt;&quot;,
     kind_of_order_ru = &quot;&lt;b&gt;&#210;&#197;&#202;&#212;&#201;&#206;&#199;&#213;&lt;/b&gt;&quot;,
+    kind_of_order_es = &quot;por clasificaci&oacute;n:&quot;,
     parse_lotm = &quot;$$parse_lotm_by_rating$$&quot;,
     lotm_anchor_rating = &quot;&lt;b&gt;Rating&lt;/b&gt;&quot;,
     lotm_anchor_rating_de = &quot;&lt;b&gt;Bewertung&lt;/b&gt;&quot;,
     lotm_anchor_rating_ru = &quot;&lt;b&gt;&#242;&#197;&#202;&#212;&#201;&#206;&#199;&lt;/b&gt;&quot;,
-}
+    lotm_anchor_rating_es = &quot;&lt;b&gt;Clasificaci&oacute;n&lt;/b&gt;&quot;,
+}    
 
 html.lotm_chronological = {
     outfile = &quot;lotm_chronological.html&quot;,
@@ -384,10 +428,12 @@
     kind_of_order = &quot;&lt;b&gt;chronologically&lt;/b&gt;&quot;,
     kind_of_order_de = &quot;&lt;b&gt;chronologisch&lt;/b&gt; geordnet&quot;,
     kind_of_order_ru = &quot;&lt;b&gt;&#200;&#210;&#207;&#206;&#207;&#204;&#207;&#199;&#201;&#201;&lt;/b&gt;&quot;,
+    kind_of_order_es = &quot;&lt;b&gt;cronologicamente&lt;/b&gt;&quot;,
     parse_lotm = &quot;$$parse_lotm_chronological$$&quot;,
     lotm_anchor_month = &quot;&lt;b&gt;Month&lt;/b&gt;&quot;,
     lotm_anchor_month_de = &quot;&lt;b&gt;Monat&lt;/b&gt;&quot;,
     lotm_anchor_month_ru = &quot;&lt;b&gt;&#237;&#197;&#211;&#209;&#195;&lt;/b&gt;&quot;,
+    lotm_anchor_month_es = &quot;&lt;b&gt;Mes&lt;/b&gt;&quot;,
 }
 
 html.lotm_by_position = {
@@ -400,8 +446,10 @@
     kind_of_order = &quot;by &lt;b&gt;position&lt;/b&gt;&quot;,
     kind_of_order_de = &quot;geordnet nach &lt;b&gt;Position&lt;/b&gt;&quot;,
     kind_of_order_ru = &quot;&lt;b&gt;&#210;&#193;&#218;&#205;&#197;&#221;&#197;&#206;&#201;&#192;&lt;/b&gt;&quot;,
+    kind_of_order_es = &quot;&lt;b&gt;por posici&oacute;n&lt;/b&gt;&quot;,
     parse_lotm = &quot;$$parse_lotm_by_position$$&quot;,
     lotm_anchor_position = &quot;&lt;b&gt;Position (1.01)&lt;/b&gt;&quot;,
     lotm_anchor_position_de = &quot;&lt;b&gt;Position (1.01)&lt;/b&gt;&quot;,
     lotm_anchor_position_ru = &quot;&lt;b&gt;&#242;&#193;&#218;&#205;&#197;&#221;&#197;&#206;&#201;&#197; (1.01)&lt;/b&gt;&quot;,
+    lotm_anchor_position_es = &quot;&lt;b&gt;Posici&oacute;n (1.01)&lt;/b&gt;&quot;,
 }

Modified: homepage/main.lua
===================================================================
--- homepage/main.lua	2007-09-24 00:29:43 UTC (rev 886)
+++ homepage/main.lua	2007-09-24 21:31:04 UTC (rev 887)
@@ -52,8 +52,8 @@
     end
 end
 
--- translate_month returns a translated string of the month number
--- MONTH in the year YEAR. If year is nil, no year is appended.
+-- translate_month returns a translated string of the month and
+-- year in the DATE_TABLE. If year is nil, no year is appended.
 -- Data for translation is provided in output-files.lua.
 function translate_month(lang, date_table)
   if type(date_table) ~= &quot;table&quot; then
@@ -80,7 +80,11 @@
       year = year - 1900
     end
     year = string.format(&quot;%02d&quot;, year)
-    return month..&quot; '&quot;..year
+    if lang == &quot;_es&quot; then
+      return month..&quot; del '&quot;..year
+    else
+      return month..&quot; '&quot;..year
+    end
   end
 end
 
@@ -182,16 +186,16 @@
 -- Main Routine
 ----------------------------------------------------------------------
 
+-- Add functions for parsing the news and LotM archive
+
+dofile(&quot;input/news/read_news.lua&quot;)
+dofile(&quot;input/lotm/read_lotm.lua&quot;)
+
 -- Get general data and LotM archive data
 
 dofile(&quot;input/output-files.lua&quot;)
 dofile(&quot;input/lotm/lotm_archive_data.lua&quot;)
 
--- Add functions for parsing the news and LotM archive
-
-dofile(&quot;input/news/read_news.lua&quot;)
-dofile(&quot;input/lotm/read_lotm.lua&quot;)
-
 -- Autogenerate LotM-entries into the html-field (see read_lotm.lua)
 
 generate_lotm_entries(html)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000318.html">[Enigma-game-svn] r886 - in trunk: data/levels/lib src
</A></li>
	<LI>Next message: <A HREF="000320.html">[Enigma-game-svn] r888 - in trunk/data/levels: enigma_experimental	lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/enigma-game-svn">More information about the Enigma-game-svn
mailing list</a><br>
</body></html>
